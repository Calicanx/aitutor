import{r as requireReact,a as requireReactDom,g as getDefaultExportFromCjs$1,c as commonjsGlobal,b as reactExports,$ as $2AODx$react,R as React,P as PropTypes,_ as _inheritsLoose,d as _extends$3,i as invariant$1}from"./vendor-ITG08NwX.js";var jsxRuntime$2={exports:{}},reactJsxRuntime_production_min$2={},hasRequiredReactJsxRuntime_production_min$2,hasRequiredJsxRuntime$2;function requireReactJsxRuntime_production_min$2(){if(hasRequiredReactJsxRuntime_production_min$2)return reactJsxRuntime_production_min$2;hasRequiredReactJsxRuntime_production_min$2=1;var e=requireReact(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,s)&&!o.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:i.current}}return reactJsxRuntime_production_min$2.Fragment=r,reactJsxRuntime_production_min$2.jsx=a,reactJsxRuntime_production_min$2.jsxs=a,reactJsxRuntime_production_min$2}function requireJsxRuntime$2(){return hasRequiredJsxRuntime$2||(hasRequiredJsxRuntime$2=1,jsxRuntime$2.exports=requireReactJsxRuntime_production_min$2()),jsxRuntime$2.exports}var jsxRuntimeExports$1=requireJsxRuntime$2(),reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs$1(reactDomExports),addLibraryVersionToPerseusDebug$5=(e,t)=>{let r="v";"__lib_version__"===t&&(r="");const n=`${r}${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==n){const r=Array.isArray(t)?t:[t];r.push(n),globalThis.__perseus_debug__[e]=r}}else globalThis.__perseus_debug__[e]=n}};var VERSION="1.13.7",root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsDataView="undefined"!=typeof DataView,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function isObject(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isBoolean(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)}function isElement$1(e){return!(!e||1!==e.nodeType)}function tagTester(e){var t="[object "+e+"]";return function(e){return toString.call(e)===t}}const isString$1=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer");var isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(isFunction=function(e){return"function"==typeof e||!1});const isFunction$1=isFunction,hasObjectTag=tagTester("Object");var hasDataViewBug=supportsDataView&&(!/\[native code\]/.test(String(DataView))||hasObjectTag(new DataView(new ArrayBuffer(8)))),isIE11="undefined"!=typeof Map&&hasObjectTag(new Map),isDataView=tagTester("DataView");function alternateIsDataView(e){return null!=e&&isFunction$1(e.getInt8)&&isArrayBuffer(e.buffer)}const isDataView$1=hasDataViewBug?alternateIsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(e,t){return null!=e&&hasOwnProperty.call(e,t)}var isArguments=tagTester("Arguments");!function(){isArguments(arguments)||(isArguments=function(e){return has$1(e,"callee")})}();const isArguments$1=isArguments;function isFinite$1(e){return!isSymbol(e)&&_isFinite(e)&&!isNaN(parseFloat(e))}function isNaN$3(e){return isNumber(e)&&_isNaN(e)}function constant$3(e){return function(){return e}}function createSizePropertyCheck(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=MAX_ARRAY_INDEX}}function shallowProperty(e){return function(t){return null==t?void 0:t[e]}}const getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(e){return nativeIsView?nativeIsView(e)&&!isDataView$1(e):isBufferLike(e)&&typedArrayPattern.test(toString.call(e))}const isTypedArray$1=supportsArrayBuffer?isTypedArray:constant$3(!1),getLength=shallowProperty("length");function emulatedSet(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}function collectNonEnumProps(e,t){t=emulatedSet(t);var r=nonEnumerableProps.length,n=e.constructor,i=isFunction$1(n)&&n.prototype||ObjProto,o="constructor";for(has$1(e,o)&&!t.contains(o)&&t.push(o);r--;)(o=nonEnumerableProps[r])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function keys$2(e){if(!isObject(e))return[];if(nativeKeys)return nativeKeys(e);var t=[];for(var r in e)has$1(e,r)&&t.push(r);return hasEnumBug&&collectNonEnumProps(e,t),t}function isEmpty(e){if(null==e)return!0;var t=getLength(e);return"number"==typeof t&&(isArray(e)||isString$1(e)||isArguments$1(e))?0===t:0===getLength(keys$2(e))}function isMatch(e,t){var r=keys$2(t),n=r.length;if(null==e)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function _$1(e){return e instanceof _$1?e:this instanceof _$1?void(this._wrapped=e):new _$1(e)}function toBufferView(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,getByteLength(e))}_$1.VERSION=VERSION,_$1.prototype.value=function(){return this._wrapped},_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value,_$1.prototype.toString=function(){return String(this._wrapped)};var tagDataView="[object DataView]";function eq(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&deepEq(e,t,r,n)}function deepEq(e,t,r,n){e instanceof _$1&&(e=e._wrapped),t instanceof _$1&&(t=t._wrapped);var i=toString.call(e);if(i!==toString.call(t))return!1;if(hasDataViewBug&&"[object Object]"==i&&isDataView$1(e)){if(!isDataView$1(t))return!1;i=tagDataView}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return SymbolProto.valueOf.call(e)===SymbolProto.valueOf.call(t);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(e),toBufferView(t),r,n)}var o="[object Array]"===i;if(!o&&isTypedArray$1(e)){if(getByteLength(e)!==getByteLength(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(isFunction$1(a)&&a instanceof a&&isFunction$1(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return n[l]===t;if(r.push(e),n.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!eq(e[l],t[l],r,n))return!1}else{var c,u=keys$2(e);if(l=u.length,keys$2(t).length!==l)return!1;for(;l--;)if(!has$1(t,c=u[l])||!eq(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0}function isEqual$2(e,t){return eq(e,t)}function allKeys(e){if(!isObject(e))return[];var t=[];for(var r in e)t.push(r);return hasEnumBug&&collectNonEnumProps(e,t),t}function ie11fingerprint(e){var t=getLength(e);return function(r){if(null==r)return!1;var n=allKeys(r);if(getLength(n))return!1;for(var i=0;i<t;i++)if(!isFunction$1(r[e[i]]))return!1;return e!==weakMapMethods||!isFunction$1(r[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);const isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(e){for(var t=keys$2(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function pairs(e){for(var t=keys$2(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function invert(e){for(var t={},r=keys$2(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function functions$1(e){var t=[];for(var r in e)isFunction$1(e[r])&&t.push(r);return t.sort()}function createAssigner(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==r[c]||(r[c]=o[c])}return r}}const extend=createAssigner(allKeys),extendOwn=createAssigner(keys$2),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(e){if(!isObject(e))return{};if(nativeCreate)return nativeCreate(e);var t=ctor();t.prototype=e;var r=new t;return t.prototype=null,r}function create(e,t){var r=baseCreate(e);return t&&extendOwn(r,t),r}function clone(e){return isObject(e)?isArray(e)?e.slice():extend({},e):e}function tap(e,t){return t(e),e}function toPath$1(e){return isArray(e)?e:[e]}function toPath(e){return _$1.toPath(e)}function deepGet(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function get(e,t,r){var n=deepGet(e,toPath(t));return isUndefined(n)?r:n}function has(e,t){for(var r=(t=toPath(t)).length,n=0;n<r;n++){var i=t[n];if(!has$1(e,i))return!1;e=e[i]}return!!r}function identity$1(e){return e}function matcher(e){return e=extendOwn({},e),function(t){return isMatch(t,e)}}function property(e){return e=toPath(e),function(t){return deepGet(t,e)}}function optimizeCb(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)}}return function(){return e.apply(t,arguments)}}function baseIteratee(e,t,r){return null==e?identity$1:isFunction$1(e)?optimizeCb(e,t,r):isObject(e)&&!isArray(e)?matcher(e):property(e)}function iteratee(e,t){return baseIteratee(e,t,1/0)}function cb(e,t,r){return _$1.iteratee!==iteratee?_$1.iteratee(e,t):baseIteratee(e,t,r)}function mapObject$3(e,t,r){t=cb(t,r);for(var n=keys$2(e),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=t(e[s],s,e)}return o}function noop$1(){}function propertyOf(e){return null==e?noop$1:function(t){return get(e,t)}}function times(e,t,r){var n=Array(Math.max(0,e));t=optimizeCb(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function random(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}_$1.toPath=toPath$1,_$1.iteratee=iteratee;const now$1=Date.now||function(){return(new Date).getTime()};function createEscaper(e){var t=function(t){return e[t]},r="(?:"+keys$2(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}}const escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape$1=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape$1=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(e){return"\\"+escapes[e]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(e,t,r){!t&&r&&(t=r),t=defaults({},t,_$1.templateSettings);var n=RegExp([(t.escape||noMatch).source,(t.interpolate||noMatch).source,(t.evaluate||noMatch).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(t,r,n,a,s){return o+=e.slice(i,s).replace(escapeRegExp,escapeChar),i=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n";var a,s=t.variable;if(s){if(!bareIdentifier.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(c){throw c.source=o,c}var l=function(e){return a.call(this,e,_$1)};return l.source="function("+s+"){\n"+o+"}",l}function result(e,t,r){var n=(t=toPath(t)).length;if(!n)return isFunction$1(r)?r.call(e):r;for(var i=0;i<n;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=r,i=n),e=isFunction$1(o)?o.call(e):o}return e}var idCounter=0;function uniqueId(e){var t=++idCounter+"";return e?e+t:t}function chain$1(e){var t=_$1(e);return t._chain=!0,t}function executeBound(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=baseCreate(e.prototype),a=e.apply(o,i);return isObject(a)?a:o}var partial=restArguments(function(e,t){var r=partial.placeholder,n=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===r?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return executeBound(e,n,this,this,a)};return n});partial.placeholder=_$1;const bind=restArguments(function(e,t,r){if(!isFunction$1(e))throw new TypeError("Bind must be called on a function");var n=restArguments(function(i){return executeBound(e,n,t,this,r.concat(i))});return n}),isArrayLike=createSizePropertyCheck(getLength);function flatten$4(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var i=n.length,o=0,a=getLength(e);o<a;o++){var s=e[o];if(isArrayLike(s)&&(isArray(s)||isArguments$1(s)))if(t>1)flatten$4(s,t-1,r,n),i=n.length;else for(var l=0,c=s.length;l<c;)n[i++]=s[l++];else r||(n[i++]=s)}return n}const bindAll=restArguments(function(e,t){var r=(t=flatten$4(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=bind(e[n],e)}return e});function memoize(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return has$1(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const delay=restArguments(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),defer=partial(delay,_$1,1);function throttle(e,t,r){var n,i,o,a,s=0;r||(r={});var l=function(){s=!1===r.leading?0:now$1(),n=null,a=e.apply(i,o),n||(i=o=null)},c=function(){var c=now$1();s||!1!==r.leading||(s=c);var u=t-(c-s);return i=this,o=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),s=c,a=e.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(n),s=0,n=i=o=null},c}function debounce$2(e,t,r){var n,i,o,a,s,l=function(){var c=now$1()-i;t>c?n=setTimeout(l,t-c):(n=null,r||(a=e.apply(s,o)),n||(o=s=null))},c=restArguments(function(c){return s=this,o=c,i=now$1(),n||(n=setTimeout(l,t),r&&(a=e.apply(s,o))),a});return c.cancel=function(){clearTimeout(n),n=o=s=null},c}function wrap(e,t){return partial(t,e)}function negate(e){return function(){return!e.apply(this,arguments)}}function compose(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function after(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function before(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const once=partial(before,2);function findKey(e,t,r){t=cb(t,r);for(var n,i=keys$2(e),o=0,a=i.length;o<a;o++)if(t(e[n=i[o]],n,e))return n}function createPredicateIndexFinder(e){return function(t,r,n){r=cb(r,n);for(var i=getLength(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(e,t,r,n){for(var i=(r=cb(r,n,1))(t),o=0,a=getLength(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o}function createIndexFinder(e,t,r){return function(n,i,o){var a=0,s=getLength(n);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=t(slice.call(n,a,s),isNaN$3))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(e,t,r){var n=(isArrayLike(e)?findIndex:findKey)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function findWhere(e,t){return find(e,matcher(t))}function each(e,t,r){var n,i;if(t=optimizeCb(t,r),isArrayLike(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=keys$2(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function map(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys$2(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o}function createReduce(e){return function(t,r,n,i){var o=arguments.length>=3;return function(t,r,n,i){var o=!isArrayLike(t)&&keys$2(t),a=(o||t).length,s=e>0?0:a-1;for(i||(n=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;n=r(n,t[l],l,t)}return n}(t,optimizeCb(r,i,4),n,o)}}const reduce=createReduce(1),reduceRight=createReduce(-1);function filter$1(e,t,r){var n=[];return t=cb(t,r),each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function reject(e,t,r){return filter$1(e,negate(cb(t)),r)}function every(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys$2(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function some(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys$2(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function contains$1(e,t,r,n){return isArrayLike(e)||(e=values(e)),("number"!=typeof r||n)&&(r=0),indexOf(e,t,r)>=0}const invoke=restArguments(function(e,t,r){var n,i;return isFunction$1(t)?i=t:(t=toPath(t),n=t.slice(0,-1),t=t[t.length-1]),map(e,function(e){var o=i;if(!o){if(n&&n.length&&(e=deepGet(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,r)})});function pluck$1(e,t){return map(e,property(t))}function where(e,t){return filter$1(e,matcher(t))}function max$1(e,t,r){var n,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=isArrayLike(e)?e:values(e)).length;s<l;s++)null!=(n=e[s])&&n>o&&(o=n);else t=cb(t,r),each(e,function(e,r,n){((i=t(e,r,n))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o}function min$1(e,t,r){var n,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=isArrayLike(e)?e:values(e)).length;s<l;s++)null!=(n=e[s])&&n<o&&(o=n);else t=cb(t,r),each(e,function(e,r,n){((i=t(e,r,n))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(e){return e?isArray(e)?slice.call(e):isString$1(e)?e.match(reStrSymbol):isArrayLike(e)?map(e,identity$1):values(e):[]}function sample$1(e,t,r){if(null==t||r)return isArrayLike(e)||(e=values(e)),e[random(e.length-1)];var n=toArray(e),i=getLength(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=random(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,t)}function shuffle$1(e){return sample$1(e,1/0)}function sortBy(e,t,r){var n=0;return t=cb(t,r),pluck$1(map(e,function(e,r,i){return{value:e,index:n++,criteria:t(e,r,i)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")}function group(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=cb(n,i),each(r,function(t,i){var a=n(t,i,r);e(o,t,a)}),o}}const groupBy=group(function(e,t,r){has$1(e,r)?e[r].push(t):e[r]=[t]}),indexBy=group(function(e,t,r){e[r]=t}),countBy=group(function(e,t,r){has$1(e,r)?e[r]++:e[r]=1}),partition$2=group(function(e,t,r){e[r?0:1].push(t)},!0);function size$1(e){return null==e?0:isArrayLike(e)?e.length:keys$2(e).length}function keyInObj(e,t,r){return t in r}const pick=restArguments(function(e,t){var r={},n=t[0];if(null==e)return r;isFunction$1(n)?(t.length>1&&(n=optimizeCb(n,t[1])),t=allKeys(e)):(n=keyInObj,t=flatten$4(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];n(s,a,e)&&(r[a]=s)}return r}),omit=restArguments(function(e,t){var r,n=t[0];return isFunction$1(n)?(n=negate(n),t.length>1&&(r=t[1])):(t=map(flatten$4(t,!1,!1),String),n=function(e,r){return!contains$1(t,r)}),pick(e,n,r)});function initial(e,t,r){return slice.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function first(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:initial(e,e.length-t)}function rest(e,t,r){return slice.call(e,null==t||r?1:t)}function last(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:rest(e,Math.max(0,e.length-t))}function compact(e){return filter$1(e,Boolean)}function flatten$3(e,t){return flatten$4(e,t,!1)}const difference=restArguments(function(e,t){return t=flatten$4(t,!0,!0),filter$1(e,function(e){return!contains$1(t,e)})}),without=restArguments(function(e,t){return difference(e,t)});function uniq(e,t,r,n){isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=cb(r,n));for(var i=[],o=[],a=0,s=getLength(e);a<s;a++){var l=e[a],c=r?r(l,a,e):l;t&&!r?(a&&o===c||i.push(l),o=c):r?contains$1(o,c)||(o.push(c),i.push(l)):contains$1(i,l)||i.push(l)}return i}const union$3=restArguments(function(e){return uniq(flatten$4(e,!0,!0))});function intersection(e){for(var t=[],r=arguments.length,n=0,i=getLength(e);n<i;n++){var o=e[n];if(!contains$1(t,o)){var a;for(a=1;a<r&&contains$1(arguments[a],o);a++);a===r&&t.push(o)}}return t}function unzip(e){for(var t=e&&max$1(e,getLength).length||0,r=Array(t),n=0;n<t;n++)r[n]=pluck$1(e,n);return r}const zip$1=restArguments(unzip);function object$3(e,t){for(var r={},n=0,i=getLength(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function range$1(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function chunk(e,t){if(null==t||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(slice.call(e,n,n+=t));return r}function chainResult(e,t){return e._chain?_$1(t).chain():t}function mixin(e){return each(functions$1(e),function(t){var r=_$1[t]=e[t];_$1.prototype[t]=function(){var e=[this._wrapped];return push.apply(e,arguments),chainResult(this,r.apply(_$1,e))}}),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),chainResult(this,r)}}),each(["concat","join","slice"],function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),chainResult(this,e)}});const allExports=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VERSION,after:after,all:every,allKeys:allKeys,any:some,assign:extendOwn,before:before,bind:bind,bindAll:bindAll,chain:chain$1,chunk:chunk,clone:clone,collect:map,compact:compact,compose:compose,constant:constant$3,contains:contains$1,countBy:countBy,create:create,debounce:debounce$2,default:_$1,defaults:defaults,defer:defer,delay:delay,detect:find,difference:difference,drop:rest,each:each,escape:escape$1,every:every,extend:extend,extendOwn:extendOwn,filter:filter$1,find:find,findIndex:findIndex,findKey:findKey,findLastIndex:findLastIndex,findWhere:findWhere,first:first,flatten:flatten$3,foldl:reduce,foldr:reduceRight,forEach:each,functions:functions$1,get:get,groupBy:groupBy,has:has,head:first,identity:identity$1,include:contains$1,includes:contains$1,indexBy:indexBy,indexOf:indexOf,initial:initial,inject:reduce,intersection:intersection,invert:invert,invoke:invoke,isArguments:isArguments$1,isArray:isArray,isArrayBuffer:isArrayBuffer,isBoolean:isBoolean,isDataView:isDataView$1,isDate:isDate,isElement:isElement$1,isEmpty:isEmpty,isEqual:isEqual$2,isError:isError,isFinite:isFinite$1,isFunction:isFunction$1,isMap:isMap,isMatch:isMatch,isNaN:isNaN$3,isNull:isNull,isNumber:isNumber,isObject:isObject,isRegExp:isRegExp,isSet:isSet,isString:isString$1,isSymbol:isSymbol,isTypedArray:isTypedArray$1,isUndefined:isUndefined,isWeakMap:isWeakMap,isWeakSet:isWeakSet,iteratee:iteratee,keys:keys$2,last:last,lastIndexOf:lastIndexOf,map:map,mapObject:mapObject$3,matcher:matcher,matches:matcher,max:max$1,memoize:memoize,methods:functions$1,min:min$1,mixin:mixin,negate:negate,noop:noop$1,now:now$1,object:object$3,omit:omit,once:once,pairs:pairs,partial:partial,partition:partition$2,pick:pick,pluck:pluck$1,property:property,propertyOf:propertyOf,random:random,range:range$1,reduce:reduce,reduceRight:reduceRight,reject:reject,rest:rest,restArguments:restArguments,result:result,sample:sample$1,select:filter$1,shuffle:shuffle$1,size:size$1,some:some,sortBy:sortBy,sortedIndex:sortedIndex,tail:rest,take:first,tap:tap,template:template,templateSettings:templateSettings,throttle:throttle,times:times,toArray:toArray,toPath:toPath$1,transpose:unzip,unescape:unescape$1,union:union$3,uniq:uniq,unique:uniq,uniqueId:uniqueId,unzip:unzip,values:values,where:where,without:without,wrap:wrap,zip:zip$1},Symbol.toStringTag,{value:"Module"}));var _=mixin(allExports);_._=_;const addLibraryVersionToPerseusDebug$4=(e,t)=>{const r=`v${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==r){const n=Array.isArray(t)?t:[t];n.push(r),globalThis.__perseus_debug__[e]=n}}else globalThis.__perseus_debug__[e]=r}},libName$b="@khanacademy/kas",libVersion$b="2.1.0";addLibraryVersionToPerseusDebug$4(libName$b,libVersion$b),function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,11],r=[1,9],n=[8,17],i=[6,11],o=[6,11,13,17],a={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return{type:"unitMagnitude",magnitude:o[s-2],unit:o[s-1]};case 2:return{type:"unitStandalone",unit:o[s-1]};case 3:this.$=o[s-2]+"e"+o[s];break;case 4:case 13:case 14:case 15:case 17:this.$=o[s];break;case 5:this.$={num:o[s-2],denom:o[s]};break;case 6:this.$={num:o[s],denom:null};break;case 7:this.$=[o[s-2]].concat(o[s]);break;case 8:this.$=[o[s-1]].concat(o[s]);break;case 9:this.$=[o[s]];break;case 10:this.$={name:o[s-2],pow:o[s]};break;case 11:this.$={name:o[s],pow:1};break;case 12:this.$=e;break;case 16:this.$="-"+o[s]}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:r},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},e(n,[2,13]),e(n,[2,14]),e(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),e([6,8,11,13,17],[2,15]),e(o,[2,11],{15:[1,18]}),e([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},e(i,[2,8]),{16:25,19:r},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},e(i,[2,7]),e(o,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,c=i.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);u.setInput(e,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var p=u.yylloc;i.push(p);var f=u.options&&u.options.ranges;function m(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,v,x,$,S,E,w={};;){if(y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null==g&&(g=m()),b=o[y]&&o[y][g]),void 0===b||!b.length||!b[0]){var _="";for(x in E=[],o[y])this.terminals_[x]&&x>2&&E.push("'"+this.terminals_[x]+"'");_=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:u.match,token:this.terminals_[g]||g,line:u.yylineno,loc:p,expected:E})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:r.push(g),n.push(u.yytext),i.push(u.yylloc),r.push(b[1]),g=null,l=u.yyleng,a=u.yytext,s=u.yylineno,p=u.yylloc;break;case 2:if($=this.productions_[b[1]][1],w.$=n[n.length-$],w._$={first_line:i[i.length-($||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-($||1)].first_column,last_column:i[i.length-1].last_column},f&&(w._$.range=[i[i.length-($||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.apply(w,[a,l,s,d.yy,b[1],n,i].concat(c))))return v;$&&(r=r.slice(0,-1*$*2),n=n.slice(0,-1*$),i=i.slice(0,-1*$)),r.push(this.productions_[b[1]][0]),n.push(w.$),i.push(w._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},s=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:case 10:case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();function l(){this.yy={}}a.lexer=s,l.prototype=a,a.Parser=l,new l}();var parser$1=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,7],r=[1,17],n=[1,13],i=[1,14],o=[1,15],a=[1,32],s=[1,22],l=[1,23],c=[1,24],u=[1,25],d=[1,26],h=[1,33],p=[1,27],f=[1,28],m=[1,29],g=[1,30],y=[1,20],b=[1,36],v=[1,37],x=[5,6,8,10,33,35,41,43,45],$=[1,39],S=[1,40],E=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],w=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],_=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],M={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return new n.Eq(o[s-3],o[s-2],o[s-1]);case 2:return o[s-1];case 3:return new n.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=o[s];break;case 5:this.$=n.Add.createOrAppend(o[s-2],o[s]);break;case 6:this.$=n.Add.createOrAppend(o[s-2],n.Mul.handleNegative(o[s],"subtract"));break;case 8:this.$=n.Mul.fold(n.Mul.createOrAppend(o[s-1],o[s]));break;case 9:this.$=n.Mul.fold(n.Mul.createOrAppend(o[s-2],o[s]));break;case 10:this.$=n.Mul.fold(n.Mul.handleDivide(o[s-2],o[s]));break;case 12:this.$=n.Mul.handleNegative(o[s]);break;case 14:case 17:this.$=[e];break;case 16:this.$=o[s-2].concat(o[s]);break;case 18:this.$=n.Log.natural();break;case 19:this.$=n.Log.common();break;case 21:this.$=n.Trig.create(o[s-1],o[s]);break;case 22:this.$=n.Log.create(o[s-1],o[s]);break;case 24:this.$=new n.Pow(o[s-2],o[s]);break;case 26:case 34:this.$=e;break;case 27:this.$=new n.Var(o[s-2],o[s]);break;case 28:this.$=new n.Var(o[s]);break;case 29:this.$=new n.Const(e.toLowerCase());break;case 30:this.$=n.Int.create(Number(e));break;case 31:this.$=n.Float.create(Number(e));break;case 32:this.$=o[s-1].completeParse();break;case 33:this.$=o[s-1].completeParse().addHint("parens");break;case 35:case 36:this.$=n.Pow.sqrt(o[s-1]);break;case 37:this.$=new n.Pow.nthroot(o[s-1],o[s-4]);break;case 38:case 39:case 40:this.$=new n.Abs(o[s-1]);break;case 41:this.$=new n.Func(o[s-3],o[s-1]);break;case 44:this.$=n.Mul.handleDivide(o[s-4],o[s-1])}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},e([5,6],[2,4],{8:b,10:v}),e(x,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(E,[2,11]),{10:t,11:8,13:41,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,13]),{10:t,11:8,13:42,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{10:t,11:8,13:43,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,23]),e(w,[2,15],{18:[1,44]}),e(w,[2,17]),e(w,[2,18]),e(w,[2,19],{23:[1,45]}),e(E,[2,25],{18:[1,46]}),e([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),e(_,[2,42]),e(_,[2,43]),{32:[1,47]},e(_,[2,28],{23:[1,48]}),e(_,[2,29]),e(_,[2,30]),e(_,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:50,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:56,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{34:[1,57]},e([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{9:60,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,8]),{10:t,11:8,13:61,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{10:t,11:8,13:62,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,12]),e(E,[2,21]),e(E,[2,22]),{10:t,11:8,13:63,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{24:64,27:21,28:a,29:s,30:l,31:c,32:u,34:d},{10:t,11:8,13:65,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:66,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{24:67,27:21,28:a,29:s,30:l,31:c,32:u,34:d},{8:b,10:v,33:[1,68]},{8:b,10:v,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:71,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:72,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:73,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{8:b,10:v,43:[1,74]},{8:b,10:v,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{6:[1,77]},e(x,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(x,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(E,[2,9]),e(E,[2,10]),e(w,[2,16]),e(w,[2,20]),e(E,[2,24]),{8:b,10:v,33:[1,78]},e(_,[2,27]),e(_,[2,32]),e(_,[2,33]),{8:b,10:v,35:[1,79]},{8:b,10:v,33:[1,80]},{8:b,10:v,41:[1,81]},{8:b,10:v,35:[1,82]},e(_,[2,39]),e(_,[2,40]),{8:b,10:v,35:[1,83]},{1:[2,1]},{32:[1,84]},e(_,[2,35]),e(_,[2,36]),{32:[1,85]},e(_,[2,38]),e(_,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:87,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{8:b,10:v,33:[1,88]},{8:b,10:v,33:[1,89]},e(_,[2,44]),e(_,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,c=i.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);u.setInput(e,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var p=u.yylloc;i.push(p);var f=u.options&&u.options.ranges;function m(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,v,x,$,S,E,w={};;){if(y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null==g&&(g=m()),b=o[y]&&o[y][g]),void 0===b||!b.length||!b[0]){var _="";for(x in E=[],o[y])this.terminals_[x]&&x>2&&E.push("'"+this.terminals_[x]+"'");_=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:u.match,token:this.terminals_[g]||g,line:u.yylineno,loc:p,expected:E})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:r.push(g),n.push(u.yytext),i.push(u.yylloc),r.push(b[1]),g=null,l=u.yyleng,a=u.yytext,s=u.yylineno,p=u.yylloc;break;case 2:if($=this.productions_[b[1]][1],w.$=n[n.length-$],w._$={first_line:i[i.length-($||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-($||1)].first_column,last_column:i[i.length-1].last_column},f&&(w._$.range=[i[i.length-($||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.apply(w,[a,l,s,d.yy,b[1],n,i].concat(c))))return v;$&&(r=r.slice(0,-1*$*2),n=n.slice(0,-1*$),i=i.slice(0,-1*$)),r.push(this.productions_[b[1]][0]),n.push(w.$),i.push(w._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},C=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(e,t,r,n){switch(r){case 0:case 1:case 2:case 84:break;case 3:return"INT";case 4:return"FLOAT";case 5:case 15:return"^";case 6:case 7:case 8:case 9:return"*";case 10:case 11:return"/";case 12:case 13:return"-";case 14:return"+";case 16:case 18:return"(";case 17:case 19:return")";case 20:return"[";case 21:return"]";case 22:case 24:return"{";case 23:case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:case 34:case 40:return t.yytext="<=","SIGN";case 33:case 35:case 41:return t.yytext=">=","SIGN";case 36:case 37:case 38:case 39:return t.yytext="<>","SIGN";case 42:case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:case 49:case 50:case 51:return"TRIG";case 52:return t.yytext="sin","TRIG";case 53:return t.yytext="cos","TRIG";case 54:return t.yytext="tan","TRIG";case 55:return t.yytext="csc","TRIG";case 56:return t.yytext="sec","TRIG";case 57:return t.yytext="cot","TRIG";case 58:return t.yytext="arcsin","TRIG";case 59:return t.yytext="arccos","TRIG";case 60:return t.yytext="arctan","TRIG";case 61:return t.yytext="arccsc","TRIG";case 62:return t.yytext="arcsec","TRIG";case 63:return t.yytext="arccot","TRIG";case 64:case 65:return"TRIGINV";case 66:return t.yytext="sinh","TRIG";case 67:return t.yytext="cosh","TRIG";case 68:case 71:return t.yytext="tanh","TRIG";case 69:return t.yytext="csch","TRIG";case 70:return t.yytext="sech","TRIG";case 72:return"CONST";case 73:case 74:return t.yytext="pi","CONST";case 75:case 78:return"VAR";case 76:case 77:return t.yytext="theta","VAR";case 79:case 80:return t.yytext="phi","VAR";case 81:return e.symbolLexer(t.yytext);case 82:return"EOF";case 83:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|)/,/^(?:\\times|)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|)/,/^(?:-)/,/^(?:)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:)/,/^(?:)/,/^(?:)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}}}();function T(){this.yy={}}return M.lexer=C,T.prototype=M,M.Parser=T,new T}();const isNaN$2=function(e){return e!=e},randomFloat$1=function(e,t){var r=t-e;return Math.random()*r+e};var ITERATIONS$1=12,TOLERANCE$1=9;function partition$1(e,t){const r=[],n=[];return _.forEach(e,(e,i,o)=>{t(e,i,o)?r.push(e):n.push(e)}),[r,n]}function isExpr$1(e){return e instanceof Expr$1}const isAdd$1=function(e){return e instanceof Add$1};function isRational$1(e){return e instanceof Rational$1}function getFactors$1(e){return e instanceof Mul$1?e.terms:[e]}let Expr$1=class{construct(e){const t=new(0,this.func)(...e);if(void 0===t)throw new Error("constructor function returning undefined");return t}recurse(e,...t){var r=this.args().map(function(r){return _.isString(r)||_.isNumber(r)?r:r?.[e].apply(r,t)});return this.construct(r)}eval(e={},t){throw new Error("Abstract method - must override for expr: "+this.print())}codegen(){throw new Error("Abstract method - must override for expr: "+this.print())}compile(){var e=this.codegen();try{return new Function("vars","return "+e+";")}catch{throw new Error("Function did not compile: "+e)}}asTex(e){e=e||{},_.defaults(e,{display:!0,dynamic:!0,times:!1});let t=this.tex();return e.display&&(t="\\displaystyle "+t),e.dynamic&&(t=t.replace(/\(/g,"\\left("),t=t.replace(/\)/g,"\\right)")),e.times&&(t=t.replace(/\\cdot/g,"\\times")),t}name(){return this.func.name}repr(){return this.name()+"("+this.args().map(function(e){return _.isString(e)||_.isNumber(e)?e:e?.repr()}).join(",")+")"}strip(){return this.recurse("strip")}normalize(){return this.recurse("normalize")}expand(){return this.recurse("expand")}factor(e){return this.recurse("factor",e)}collect(e){return this.recurse("collect",e)}equals(e){return this.normalize().print()===e.normalize().print()}simplify(e){e={once:!1,...e};var t=this.factor(e),r=t.collect(e);t.equals(r)&&(r=this.collect(e));var n=r.expand(),i=n.collect(e);n.equals(i)&&(i=r.collect(e));var o=i;return e.once||this.equals(o)?o:o.simplify(e)}isSimplified(){return this.equals(this.simplify())}exprArgs(){return this.args().filter(isExpr$1)}getVars(e){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getVars",e))).sort()}getConsts(){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getConsts"))).sort()}getUnits(){return _.flatten(_.invoke(this.exprArgs(),"getUnits"))}is(e){return this instanceof e}has(e){return this instanceof e||_.any(this.exprArgs(),function(t){return t.has(e)})}raiseToThe(e,t){return new Pow$1(this,e)}isSubtract(){return!1}isDivide(){return!1}isRoot(){return!1}needsExplicitMul(){return this.exprArgs()[0].needsExplicitMul()}sameVars(e){var t=this.getVars(),r=e.getVars(),n=function(e,t){return!_.difference(e,t).length},i=function(e){return _.uniq(_.invoke(e,"toLowerCase")).sort()};return{equal:n(t,r),equalIgnoringCase:n(i(t),i(r))}}compare(e){if(e instanceof Eq$1)return!1;var t=_.union(this.getVars(!0),e.getVars(!0)),r=function(e,t){var r=function(e,t){return Math.abs(e)<1||Math.abs(t)<1?Math.abs(e-t):Math.abs(1-e/t)}(e,t);return e===t||isNaN$2(e)&&isNaN$2(t)||r<Math.pow(10,-9)};if(!_.union(this.getVars(!1),e.getVars(!1)).length&&!this.has(Unit$1)&&!e.has(Unit$1))return r(this.eval(),e.eval());var n=this.collect(),i=e.collect(),o=this.getUnits(),a=e.getUnits();if(!_.isEqual(o,a))return!1;for(var s=0;s<ITERATIONS$1;s++){var l={},c=Math.pow(10,1+Math.floor(3*s/ITERATIONS$1)),u=s%2==0;let e;if(_.each(t,function(e){l[e]=u?randomFloat$1(-c,c):_.random(-c,c)}),n.has(Func$1)||i.has(Func$1)||n.has(Unit$1)||i.has(Unit$1)){const t=n.partialEval(l),r=i.partialEval(l);e=t.simplify().equals(r.simplify())}else{e=r(n.eval(l),i.eval(l))}if(!e)return!1}return!0}partialEval(e){return this instanceof Unit$1?this:this.has(Func$1)?this instanceof Func$1?new Func$1(this.symbol,this.arg.partialEval(e)):this.recurse("partialEval",e):new Float$1(+this.eval(e).toFixed(TOLERANCE$1)).collect()}sameForm(e){return this.strip().equals(e.strip())}findGCD(e){return this.equals(e)?e:NumOne$1}getDenominator(){return NumOne$1}asMul(){return new Mul$1(NumOne$1,this)}isPositive(){throw new Error("Abstract method - must override for expr: "+this.print())}isNegative(){return!1}asPositiveFactor(){return this.isPositive()?this:NumOne$1}addHint(e){if(!e)return this;var t=this.construct(this.args());return t.hints=_.clone(this.hints),t.hints[e]=!0,t}completeParse(){return this.recurse("completeParse")}abs(){throw new Error("Abstract method - must override for expr: "+this.print())}negate(){return new Mul$1(NumNeg$1,this)}constructor(){this.hints={parens:!1}}},Seq$1=class extends Expr$1{args(){return this.terms}normalize(){var e=_.sortBy(_.invoke(this.terms,"normalize"),e=>e.print());return new this.func(e)}expand(){return this.recurse("expand").flatten()}partition(){var[e,t]=partition$1(this.terms,e=>e instanceof Num$1);return[new this.func(e),new this.func(t)]}flatten(){var e=this,t=_.reject(this.terms,t=>t.equals(e.identity));if(0===t.length)return e.identity;if(1===t.length)return t[0];const[r,n]=partition$1(t,t=>t instanceof e.func);var i=n.concat(_.flatten(_.pluck(r,"terms"),!0));return new e.func(i)}isPositive(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isPositive"))}replace(e,t){const r=e instanceof Expr$1?_.indexOf(this.terms,e):e;var n=[];Array.isArray(t)?n=t:t&&(n=[t]);var i=this.terms.slice(0,r).concat(n).concat(this.terms.slice(r+1));return new this.func(i)}remove(e){return this.replace(e)}getDenominator(){return new Mul$1(_.invoke(this.terms,"getDenominator")).flatten()}constructor(...e){super(),1===e.length?this.terms=e[0]:this.terms=e}},Add$1=class e extends Seq$1{eval(e={},t){return _.reduce(this.terms,(r,n)=>r+n.eval(e,t),0)}codegen(){return _.map(this.terms,e=>"("+e.codegen()+")").join(" + ")||"0"}print(){return _.invoke(this.terms,"print").join("+")}tex(){let e="";return _.each(this.terms,t=>{!e||t.isSubtract()?e+=t.tex():e+="+"+t.tex()}),e}collect(t){var r=_.invoke(this.terms,"collect",t),n=[];_.each(r,e=>{if(e instanceof Mul$1){var r=e.partition();n.push([r[1].flatten(),r[0].reduce(t)])}else e instanceof Num$1?n.push([NumOne$1,e]):n.push([e,NumOne$1])});var i=_.groupBy(n,e=>e[0].normalize().print()),o=_.compact(_.map(i,r=>{var n=r[0][0],i=new e(_.zip.apply(_,r)[1]).reduce(t);return new Mul$1(i,n).collect(t)}));return new e(o).flatten()}factor(t={keepNegative:!1}){const r=this.terms.map(e=>e.collect());let n;n=r[0]instanceof Mul$1?r[0].terms:[r[0]],_.each(_.rest(this.terms),e=>{n=_.map(n,t=>e.findGCD(t))}),!t.keepNegative&&this.isNegative()&&n.push(NumNeg$1);const i=new Mul$1(n).flatten().collect(),o=r.map(e=>Mul$1.handleDivide(e,i).simplify()),a=new e(o).flatten();return Mul$1.createOrAppend(i,a).flatten()}reduce(e){return _.reduce(this.terms,(t,r)=>t.add(r,e),this.identity)}needsExplicitMul(){return!1}isNegative(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isNegative"))}negate(){return new e(_.invoke(this.terms,"negate"))}static createOrAppend(t,r){return t instanceof e?new e(t.terms.concat(r)):new e(t,r)}constructor(...t){super(...t),this.identity=NumZero$1,this.func=e}},Mul$1=class e extends Seq$1{eval(e={},t){return _.reduce(this.terms,(r,n)=>r*n.eval(e,t),1)}codegen(){return _.map(this.terms,e=>"("+e.codegen()+")").join(" * ")||"0"}print(){return _.map(this.terms,e=>e instanceof Add$1?"("+e.print()+")":e.print()).join("*")}getUnits(){var e=_(this.terms).chain().map(e=>e.getUnits()).flatten().value();return e.sort((e,t)=>e.unit.localeCompare(t.unit)),e}tex(){for(var t,r=" \\cdot ",n=_.groupBy(this.terms,e=>e.isDivide()?"inverse":e instanceof Num$1?"number":"other"),i=n.inverse||[],o=n.number||[],a=n.other||[],s="",l=0;l<o.length;l++){if(o[l]instanceof Rational$1&&!(o[l]instanceof Int$1)&&a.length>0&&i.length>0){var c=o.slice();c.splice(l,1);var u=c.concat(i).concat(a);return o[l].tex()+new e(u).tex()}}if(0===(o=_.compact(_.map(o,e=>{var t=!e.hints.fraction||i.length>0;if(e instanceof Rational$1&&!(e instanceof Int$1)&&t){i.push(new Pow$1(new Int$1(e.d),NumDiv$1));var r=new Int$1(e.n);return r.hints=e.hints,_.any(e.hints)?r:null}return e}))).length&&1===a.length)t=a[0].tex();else{var d="";_.each(o,e=>{e.hints.subtract&&e.hints.entered?(s+="-",d+=(d?r:"")+e.abs().tex()):e instanceof Int$1&&-1===e.n&&(e.hints.negate||e.hints.subtract)?s+="-":d+=(d?r:"")+e.tex()}),_.each(a,e=>{e.needsExplicitMul()?d+=(d?r:"")+e.tex():d+=e instanceof Add$1?"("+e.tex()+")":e.tex()}),t=d||"1"}if(i.length){var h=new e(_.invoke(i,"asDivide")).flatten().tex();return s+"\\frac{"+t+"}{"+h+"}"}return s+t}strip(){var t=_.map(this.terms,e=>e instanceof Num$1?e.abs():e.strip());return new e(t).flatten()}expand(){const t=function(e){return e instanceof Pow$1&&e.exp.isNegative()},r=this.recurse("expand").flatten(),n=getFactors$1(r),i=_.any(n,isAdd$1),o=_.any(n,function(e){return t(e)&&isAdd$1(e.base)});if(!i&&!o)return r;let[a,s]=partition$1(n,t);if(i){const[t,r]=partition$1(s,isAdd$1),n=_.reduce(t,function(e,t){return _.reduce(e,function(e,r){return e.concat(_.map(t.terms,e=>r.concat(e)))},[])},[[]]),i=_.map(n,function(t){return new e(r.concat(t)).flatten()});s=[new Add$1(i)]}if(o){const t=new e(_.invoke(a,"getDenominator")).flatten();a=[new Pow$1(t.expand(),NumDiv$1)]}return new e(s.concat(a)).flatten()}factor(t){var r=this.recurse("factor",t).flatten();if(!(r instanceof e))return r;var[n,i]=partition$1(r.terms,e=>e instanceof Rational$1);const o=_.reduce(n,(e,t)=>({n:e.n*t.n,d:e.d*t.d}),{n:1,d:1}),a=1===o.d?new Int$1(o.n):new Rational$1(o.n,o.d);return new e(i.concat(a)).flatten()}collect(t){var r=this.recurse("collect",t).partition(),n=r[0].reduce(t);if(0===n.eval())return NumZero$1;const i=r[1].flatten();if(!(i instanceof e))return new e(n,i).flatten();const o=i.terms;var a=[];_.each(o,e=>{e instanceof Pow$1?a.push([e.base,e.exp]):a.push([e,NumOne$1])});var s=_.groupBy(a,e=>e[0].normalize().print()),l=_.compact(_.map(s,e=>{var r=e[0][0],n=new Add$1(_.zip.apply(_,e)[1]).collect(t);return n instanceof Num$1&&0===n.eval()?null:[r,n]}));const c=_.groupBy(l,e=>e[0]instanceof Trig$1&&e[0].isBasic()?"trig":e[0]instanceof Log$1?"log":"expr");let u=c.trig||[],d=c.log||[];const h=c.expr||[];if(u.length>1){var p=_.groupBy(u,e=>e[0].arg.normalize().print());u=[],_.each(p,r=>{const n=r[0][0].arg;let i={sin:NumZero$1,cos:NumZero$1};_.each(r,e=>{i[e[0].type]=e[1]}),e.handleNegative(i.sin).collect(t).equals(i.cos)&&(i=i.cos.isNegative()?{tan:i.sin}:{cot:i.cos}),_.each(i,(e,t)=>{u.push([new Trig$1(t,n),e])})})}if(d.length>1){var f=_.groupBy(d,e=>e[0].base.normalize().print());d=[],_.each(f,r=>{2===r.length&&e.handleNegative(r[0][1]).collect(t).equals(r[1][1])?r[0][1].isNegative()?d.push([new Log$1(r[0][0].power,r[1][0].power),r[1][1]]):d.push([new Log$1(r[1][0].power,r[0][0].power),r[0][1]]):d=d.concat(r)})}var m=_.map([...u,...d,...h],e=>new Pow$1(e[0],e[1]).collect(t));return new e([n].concat(m)).flatten()}isSubtract(){return _.any(this.terms,e=>e instanceof Num$1&&Boolean(e.hints.subtract))}factorIn(t){var r=this.partition()[0].terms;if(r.length&&_.all(r,e=>e.n>0)){var n=r[0].negate();return n.hints=r[0].hints,this.replace(r[0],n.addHint(t))}return new e([Num$1.negativeOne(t)].concat(this.terms))}factorOut(){var t=!1,r=_.compact(_.map(this.terms,e=>!t&&e instanceof Num$1&&e.hints.divide?(t=!0,-1!==e.n?e.negate():null):e));return 1===r.length?r[0]:new e(r)}reduce(e){return _.reduce(this.terms,(t,r)=>t.mul(r,e),this.identity)}findGCD(t){return new e(_.invoke(this.terms,"findGCD",t)).flatten()}asMul(){return this}asPositiveFactor(){if(this.isPositive())return this;{const t=getFactors$1(this.collect()).map(e=>e.asPositiveFactor());return new e(t).flatten()}}isNegative(){const e=getFactors$1(this.collect()).map(e=>e.isNegative());return _.any(e)}fold(){return e.fold(this)}negate(){const t=_.find(this.terms,e=>e instanceof Num$1);return t?this.replace(t,t.negate()):new e([NumNeg$1].concat(this.terms))}static handleNegative(t,r){if(t instanceof Num$1&&t.n>0){var n=t.negate();return n.hints=t.hints,n.addHint(r)}return t instanceof e?t.factorIn(r):new e(Num$1.negativeOne(r),t)}static handleDivide(t,r){if(r instanceof e){var n=e.handleDivide(t,r.terms[0]),i=new e(_.rest(r.terms)).flatten();return e.handleDivide(n,i)}var o=e=>e instanceof Int$1;if(o(r)&&t instanceof e&&_.any(t.terms,o)){var a=t.terms.slice().reverse(),s=a.find(e=>e instanceof Rational$1);if(!o(s))return new e(t.terms.concat([new Rational$1(1,r.n).addHint("fraction")]));var l=new Rational$1(s.n,r.n);return l.hints=s.hints,s===a[0]&&(l=l.addHint("fraction")),s.n<0&&r.n<0?(l.d=-l.d,t.replace(s,[NumNeg$1,l])):t.replace(s,l)}var c=(t,r)=>{if(r instanceof Int$1){if(t instanceof Int$1)return t.n<0&&r.n<0?[NumNeg$1,new Rational$1(t.n,-r.n).addHint("fraction")]:[new Rational$1(t.n,r.n).addHint("fraction")];var n=new Rational$1(1,r.eval());return r.eval()<0?[t,n.addHint("negate")]:[t,n]}var i;if(r instanceof Trig$1&&r.exp){var o=r.exp;r.exp=void 0,r=new Pow$1(r,o)}return i=r instanceof Pow$1?new Pow$1(r.base,e.handleNegative(r.exp,"divide")):new Pow$1(r,NumDiv$1),t instanceof Int$1&&1===t.n?[i]:[t,i]};if(t instanceof e){var u=c(_.last(t.terms),r);return new e(_.initial(t.terms).concat(u))}u=c(t,r);return new e(u).flatten()}static fold(t){if(t instanceof e){var r=_.find(_.initial(t.terms),e=>(e instanceof Trig$1||e instanceof Log$1)&&Boolean(e.hints.open));if(r){const n=_.last(t.terms);if(!(r.hints.parens||n.hints.parens||n.has(Trig$1)||n.has(Log$1))){const i=r instanceof Trig$1?Trig$1.create([r.type,r.exp],e.createOrAppend(r.arg,n).fold()):Log$1.create(r.base,e.createOrAppend(r.power,n).fold()),o=_.indexOf(t.terms,r);return 0===o?i:new e(t.terms.slice(0,o).concat(i)).fold()}r.hints.open=!1}var n=t.partition()[0].terms,i=e=>e.n>0,o=e=>-1===e.n&&Boolean(e.hints.negate);const l=n.find(i),c=n.find(o);if(n.length>1&&c&&l&&_.every(n,function(e){return i(e)||o(e)})){var a=_.indexOf(t.terms,c),s=_.indexOf(t.terms,l);if(a<s)return t.replace(s,t.terms[s].negate()).remove(a)}}return t}static createOrAppend(t,r){return t instanceof e?new e(t.terms.concat(r)):new e(t,r)}constructor(...t){super(...t),this.identity=NumOne$1,this.func=e}},Pow$1=class e extends Expr$1{args(){return[this.base,this.exp]}eval(e={},t){var r=this.base.eval(e,t),n=this.exp.eval(e,t);if(r<0){var i=this.exp.simplify();if(i instanceof Float$1){var o=i.n,a=(o-+o.toFixed()).toString().length-2,s=Math.pow(10,a);i=new Rational$1(o*s,s).simplify()}if(i instanceof Rational$1)if(Math.abs(i.d)%2==1)return(Math.abs(i.n)%2==1?-1:1)*Math.pow(-1*r,n)}return Math.pow(r,n)}getUnits(){return this.base.getUnits().map(e=>({unit:e.unit,pow:e.pow*this.exp.n}))}codegen(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"}print(){var t=this.base.print();return(this.base instanceof Seq$1||this.base instanceof e)&&(t="("+t+")"),t+"^("+this.exp.print()+")"}tex(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot()&&isRational$1(this.exp)){if(1!==this.exp.n)throw new Error("Node marked with hint 'root' does not have exponent of form 1/x.");return 2===this.exp.d?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}if(this.base instanceof Trig$1&&!this.base.isInverse()&&this.exp instanceof Num$1&&this.exp.isSimple()&&this.exp.eval()>=0){var t=this.base.texSplit();return t[0]+"^{"+this.exp.tex()+"}"+t[1]}var r=this.base.tex();return this.base instanceof Seq$1||this.base instanceof e||this.base instanceof Num$1&&!this.base.isSimple()?r="("+r+")":(this.base instanceof Trig$1||this.base instanceof Log$1)&&(r="["+r+"]"),r+"^{"+this.exp.tex()+"}"}needsExplicitMul(){return!this.isRoot()&&this.base.needsExplicitMul()}expand(){var t=this.recurse("expand");if(t.base instanceof Mul$1){var r=_.map(t.base.terms,r=>new e(r,t.exp));return new Mul$1(r).expand()}if(t.base instanceof Add$1&&t.exp instanceof Int$1&&t.exp.abs().eval()>1){var n=t.exp.eval()>0,i=t.exp.abs().eval(),o=function(t){return n?t:new e(t,NumDiv$1)};const r={1:t.base};for(var a=2;a<=i;a*=2){const e=new Mul$1(r[a/2],r[a/2]);r[a]=e.expand().collect()}if(i in r)return o(r[i]);let s=_.map(i.toString(2).split(""),function(e,t,r){return Number(e)*Math.pow(2,r.length-t-1)});s=_.without(s,0);const l=[];for(const e of s)e in r&&l.push(r[e]);return o(new Mul$1(l).expand().collect())}if(t.exp instanceof Add$1){const r=_.map(t.exp.terms,r=>new e(t.base,r).expand());return new Mul$1(r).expand()}return t}factor(){var t=this.recurse("factor");if(t.base instanceof Mul$1){var r=_.map(t.base.terms,r=>r instanceof Int$1&&t.exp.equals(NumDiv$1)?new Rational$1(1,r.n):new e(r,t.exp));return new Mul$1(r)}return t}collect(t){if(this.base instanceof e){const r=this.base.base,n=Mul$1.createOrAppend(this.base.exp,this.exp);return new e(r,n).collect(t)}const r=this.recurse("collect",t),n=function(e){return e instanceof Log$1&&e.base.equals(r.base)};if(r.exp instanceof Num$1&&0===r.exp.eval())return NumOne$1;if(r.exp instanceof Num$1&&1===r.exp.eval())return r.base;if(n(r.exp))return r.exp.power;if(r.exp instanceof Mul$1&&_.any(r.exp.terms,n)){const i=r.exp.terms.find(n),o=i.power,a=r.exp.remove(i).flatten();return new e(o,a).collect(t)}if(r.base instanceof Num$1&&r.exp instanceof Num$1){if(t&&t.preciseFloats){const t=r.exp.asRational(),n=r.base.getDecimalPlaces();if(new e(r.base,new Rational$1(1,t.d)).collect().getDecimalPlaces()>n){const n=new e(r.base,new Int$1(t.n)).collect();return new e(n,new Rational$1(1,t.d))}}return r.base.raiseToThe(r.exp,t)}return r}isDivide(){var e=function(e){return e instanceof Num$1&&Boolean(e.hints.divide)};return e(this.exp)||this.exp instanceof Mul$1&&_.any(this.exp.terms,e)}asDivide(){if(this.exp instanceof Num$1){if(-1===this.exp.eval())return this.base;var t=this.exp.negate();return t.hints=_.clone(this.exp.hints),t.hints.divide=!1,new e(this.base,t)}if(this.exp instanceof Mul$1)return new e(this.base,this.exp.factorOut());throw new Error("called asDivide() on an Expr that wasn't a Num or Mul")}isRoot(){return this.exp instanceof Rational$1&&Boolean(this.exp.hints.root)}isSquaredTrig(){return this.base instanceof Trig$1&&!this.base.isInverse()&&this.exp instanceof Num$1&&2===this.exp.eval()}getDenominator(){if(this.exp instanceof Num$1&&-1===this.exp.eval())return Mul$1.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var t=new e(this.base,Mul$1.handleNegative(this.exp).collect());return Mul$1.createOrAppend(t,t.collect().getDenominator()).flatten()}return this.base instanceof Num$1?new e(this.base.getDenominator(),this.exp).collect():NumOne$1}findGCD(t){const[r,n]=t instanceof e?[t.base,t.exp]:[t,NumOne$1];if(this.base.equals(r)){if(this.exp.equals(n))return this;if(this.exp instanceof Num$1&&n instanceof Num$1)return new e(this.base,Num$1.min(this.exp,n)).collect();if(this.exp instanceof Num$1||n instanceof Num$1)return NumOne$1;var i=this.exp.asMul().partition(),o=n.asMul().partition();if(i[1].equals(o[1])){var a=Num$1.min(i[0].reduce(),o[0].reduce()),s=new Mul$1(a,i[1].flatten()).flatten();return new e(r,s).collect()}}return NumOne$1}isPositive(){if(this.base.isPositive())return!0;var e=this.exp.simplify();return e instanceof Int$1&&e.eval()%2==0}asPositiveFactor(){if(this.isPositive())return this;var t=this.exp.simplify();if(t instanceof Int$1){var r=t.eval();if(r>2)return new e(this.base,new Int$1(r-1));if(r<-2)return new e(this.base,new Int$1(r+1))}return NumOne$1}static sqrt(t){return new e(t,NumSqrt$1)}constructor(t,r){super(),this.func=e,this.base=t,this.exp=r}};Pow$1.nthroot=function(e,t){var r=Mul$1.fold(Mul$1.handleDivide(new Int$1(1),t));return new Pow$1(e,r.addHint("root"))};let Log$1=class e extends Expr$1{args(){return[this.base,this.power]}eval(e={},t){return Math.log(this.power.eval(e,t))/Math.log(this.base.eval(e,t))}codegen(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"}print(){var e="("+this.power.print()+")";return this.isNatural()?"ln"+e:"log_("+this.base.print()+") "+e}tex(){var e="("+this.power.tex()+")";return this.isNatural()?"\\ln"+e:"\\log_{"+this.base.tex()+"}"+e}collect(e){var t=this.recurse("collect",e);return t.power instanceof Num$1&&1===t.power.eval()?NumZero$1:t.base.equals(t.power)?NumOne$1:t.power instanceof Pow$1&&t.power.base.equals(t.base)?t.power.exp:t}expand(){var t=this.recurse("expand");if(t.power instanceof Mul$1){var r=_.map(t.power.terms,r=>new e(t.base,r).expand());return new Add$1(r)}return t.power instanceof Pow$1?new Mul$1(t.power.exp,new e(t.base,t.power.base).expand()).flatten():t.isNatural()?t:Mul$1.handleDivide(new e(Const$1.e,t.power),new e(Const$1.e,t.base))}isPositive(){var t=this.collect();return t instanceof e&&t.base instanceof Num$1&&t.power instanceof Num$1&&this.eval()>0}needsExplicitMul(){return!1}isNatural(){return this.base.equals(Const$1.e)}static natural(){return Const$1.e}static common(){return NumTen$1}static create(t,r){var n=new e(t,r);return r.hints.parens||(n=n.addHint("open")),n}constructor(t,r){super(),this.func=e,this.base=t,this.power=r,this.hints={...this.hints,open:!1}}},Trig$1=class e extends Expr$1{args(){return[this.type,this.arg]}isEven(){return _.contains(["cos","sec"],this.type)}isInverse(){return 0===this.type.indexOf("arc")}isBasic(){return _.contains(["sin","cos"],this.type)}eval(e={},t){return(0,this.functions[this.type].eval)(this.arg.eval(e,t))}codegen(){var e=this.functions[this.type].codegen;if("function"==typeof e)return e(this.arg.codegen());if("string"==typeof e)return e+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)}print(){return this.type+"("+this.arg.print()+")"}tex(){return this.functions[this.type].tex+("("+this.arg.tex()+")")}texSplit(){return[this.functions[this.type].tex,"("+this.arg.tex()+")"]}isPositive(){var t=this.collect();return t instanceof e&&t.arg instanceof Num$1&&this.eval()>0}completeParse(){if(this.exp){var e=new Pow$1(this,this.exp);return this.exp=void 0,e}return this}needsExplicitMul(){return!1}expand(){var e=this.recurse("expand");if(e.isInverse())return e;var t=e.functions[e.type].expand;return _.bind(t,e)()}collect(t){var r=this.recurse("collect",t);if(!r.isInverse()&&r.arg.isNegative()){const n=r.arg instanceof Num$1?r.arg.abs():Mul$1.handleDivide(r.arg,NumNeg$1).collect(t);return r.isEven()?new e(r.type,n):new Mul$1(NumNeg$1,new e(r.type,n))}return r}static create(t,r){var n=t[0],i=t[1];i&&i.equals(NumNeg$1)&&(n="arc"+n,i=void 0);var o=new e(n,r);return r.hints.parens||(o=o.addHint("open")),i&&(o.exp=i),o}static sin(t){return new e("sin",t)}static cos(t){return new e("cos",t)}static sinh(t){return new e("sinh",t)}static cosh(t){return new e("cosh",t)}constructor(t,r){super(),this.func=e,this.functions={sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:()=>this},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:()=>this},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:()=>Mul$1.handleDivide(e.sin(this.arg),e.cos(this.arg))},csc:{eval:e=>1/Math.sin(e),codegen:"(1/Math.sin(",tex:"\\csc",expand:()=>Mul$1.handleDivide(NumOne$1,e.sin(this.arg))},sec:{eval:e=>1/Math.cos(e),codegen:"(1/Math.cos(",tex:"\\sec",expand:()=>Mul$1.handleDivide(NumOne$1,e.cos(this.arg))},cot:{eval:e=>1/Math.tan(e),codegen:"(1/Math.tan(",tex:"\\cot",expand:()=>Mul$1.handleDivide(e.cos(this.arg),e.sin(this.arg))},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:e=>Math.asin(1/e),codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:e=>Math.acos(1/e),codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:e=>Math.atan(1/e),codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:e=>(Math.exp(e)-Math.exp(-e))/2,codegen:e=>"((Math.exp("+e+") - Math.exp(-("+e+"))) / 2)",tex:"\\sinh",expand:()=>this},cosh:{eval:e=>(Math.exp(e)+Math.exp(-e))/2,codegen:e=>"((Math.exp("+e+") + Math.exp(-("+e+"))) / 2)",tex:"\\cosh",expand:()=>this},tanh:{eval:e=>(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e)),codegen:e=>"((Math.exp("+e+") - Math.exp(-("+e+"))) / (Math.exp("+e+") + Math.exp(-("+e+"))))",tex:"\\tanh",expand:()=>Mul$1.handleDivide(e.sinh(this.arg),e.cosh(this.arg))},csch:{eval:e=>2/(Math.exp(e)-Math.exp(-e)),codegen:e=>"(2 / (Math.exp("+e+") - Math.exp(-("+e+"))))",tex:"\\csch",expand:()=>Mul$1.handleDivide(NumOne$1,e.sinh(this.arg))},sech:{eval:e=>2/(Math.exp(e)+Math.exp(-e)),codegen:e=>"(2 / (Math.exp("+e+") + Math.exp(-("+e+"))))",tex:"\\sech",expand:()=>Mul$1.handleDivide(NumOne$1,e.cosh(this.arg))},coth:{eval:e=>(Math.exp(e)+Math.exp(-e))/(Math.exp(e)-Math.exp(-e)),codegen:e=>"((Math.exp("+e+") + Math.exp(-("+e+"))) / (Math.exp("+e+") - Math.exp(-("+e+"))))",tex:"\\coth",expand:()=>Mul$1.handleDivide(e.cosh(this.arg),e.sinh(this.arg))}},this.type=t,this.arg=r,this.hints={...this.hints,open:!1}}},Abs$1=class e extends Expr$1{args(){return[this.arg]}eval(e={},t){return Math.abs(this.arg.eval(e,t))}codegen(){return"Math.abs("+this.arg.codegen()+")"}print(){return"abs("+this.arg.print()+")"}tex(){return"\\left|"+this.arg.tex()+"\\right|"}collect(t){var r=this.recurse("collect",t);if(r.arg.isPositive())return r.arg;if(r.arg instanceof Num$1)return r.arg.abs();if(r.arg instanceof Mul$1){var n=_.groupBy(r.arg.terms,e=>e.isPositive()?"positive":e instanceof Num$1?"number":"other"),i=n.positive.concat(_.invoke(n.number,"abs"));return n.other.length&&i.push(new e(new Mul$1(n.other).flatten())),new Mul$1(i).flatten()}return r}expand(){var t=this.recurse("expand");if(t.arg instanceof Mul$1){var r=_.map(t.arg.terms,t=>new e(t));return new Mul$1(r)}return t}isPositive(){return!0}constructor(t){super(),this.func=e,this.arg=t}},Eq$1=class e extends Expr$1{args(){return[this.left,this.type,this.right]}needsExplicitMul(){return!1}print(){return this.left.print()+this.type+this.right.print()}tex(){return this.left.tex()+this.signs[this.type]+this.right.tex()}normalize(){var t=this.recurse("normalize");return _.contains([">",">="],t.type)?new e(t.right,t.type.replace(">","<"),t.left):t}asExpr(e=!1){var t=e=>e instanceof Num$1&&e.isSimple()&&0===e.eval();let r=[];this.left instanceof Add$1?r=_.clone(this.left.terms):t(this.left)||(r=[this.left]),this.right instanceof Add$1?r=r.concat(this.right.negate().terms):t(this.right)||r.push(this.right.negate());var n=!this.isEquality();r=_.invoke(r,"collect",{preciseFloats:!0});for(var i=0;i<r.length;i++){var o=r[i].getDenominator();n&&!o.isPositive()&&(o=o.asPositiveFactor()),o.equals(NumOne$1)||(r=_.map(r,e=>Mul$1.createOrAppend(e,o).simplify({once:!0,preciseFloats:!0})))}var a=new Add$1(r).flatten();return e?a:this.divideThrough(a)}divideThrough(e){const t=!this.isEquality(),r=e.simplify({once:!0}),n=r.factor({keepNegative:t});if(!(n instanceof Mul$1))return e;const i=n.terms,o=e=>!!e.getVars().length,[a,s]=partition$1(i,isAdd$1);if(a.length&&this.isEquality())return new Mul$1(a).flatten();let l=s;a.length||(l=_.reject(l,o)),t&&(l=_.invoke(l,"asPositiveFactor")),l=_.reject(l,e=>e.equals(NumOne$1)),l=_.map(l,e=>new Pow$1(e,NumDiv$1));const c=new Mul$1(i.concat(l)).collect();return c.equals(n)?r:c}isEquality(){return _.contains(["=","<>"],this.type)}compare(t){if(!(t instanceof e))return!1;var r=this.normalize(),n=t.normalize();if(r.type!==n.type)return!1;var i=r.divideThrough(r.asExpr(!0).collect()),o=n.divideThrough(n.asExpr(!0).collect());return r.isEquality()?i.compare(o)||i.compare(Mul$1.handleNegative(o)):i.compare(o)}sameForm(e){var t=this.normalize(),r=e.normalize(),n=t.left.sameForm(r.left)&&t.right.sameForm(r.right);return t.isEquality()?n||t.left.sameForm(r.right)&&t.right.sameForm(r.left):n}isSimplified(){var e=this.asExpr(!0),t=this.divideThrough(e).simplify();return e.equals(t)&&this.left.isSimplified()&&this.right.isSimplified()}solveLinearEquationForVariable(e){var t=this.asExpr();if(!(t instanceof Add$1)||2!==t.terms.length)throw new Error("Can only handle linear equations of the form a + bx (= 0)");const r=(n=t.terms[0]).has(Var$1)&&_.contains(n.getVars(),e.symbol);var n;const i=r?Mul$1.handleNegative(t.terms[1]):Mul$1.handleNegative(t.terms[0]),o=r?Mul$1.handleDivide(t.terms[0],e):Mul$1.handleDivide(t.terms[1],e);return Mul$1.handleDivide(i,o).simplify()}constructor(t,r,n){super(),this.func=e,this.signs={"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},this.left=t,this.type=r,this.right=n}},Sym$1=class e extends Expr$1{needsExplicitMul(){return!1}findGCD(t){return t instanceof e||t instanceof Num$1?this.equals(t)?this:NumOne$1:t.findGCD(this)}},Func$1=class e extends Sym$1{args(){return[this.symbol,this.arg]}print(){return this.symbol+"("+this.arg.print()+")"}tex(){return this.symbol+"("+this.arg.tex()+")"}eval(e={},t){var r=this.arg,n=e[this.symbol],i=_.extend(_.clone(e),{x:r.eval(e,t)}),o=parse$5(n,t);return o.parsed?o.expr.eval(i,t):o}codegen(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"}getUnits(){return this.arg.getUnits()}getVars(e){return e?this.arg.getVars():_.union(this.arg.getVars(),[this.symbol]).sort()}getConsts(){return this.arg.getConsts()}constructor(t,r){super(),this.func=e,this.symbol=t,this.arg=r}},Var$1=class e extends Sym$1{args(){return[this.symbol,this.subscript]}exprArgs(){return[]}recurse(){return this}print(){var e="";return this.subscript&&(e="_("+this.subscript.print()+")"),this.symbol+e}prettyPrint(){var e=this.subscript;return e&&(e instanceof Num$1||e instanceof Sym$1)?this.symbol+"_"+e.print():this.print()}tex(){var e="";return this.subscript&&(e="_{"+this.subscript.tex()+"}"),(this.symbol.length>1?"\\":"")+this.symbol+e}repr(){return"Var("+this.print()+")"}eval(e={},t){return e[this.prettyPrint()]}codegen(){return'vars["'+this.prettyPrint()+'"]'}getVars(){return[this.prettyPrint()]}isPositive(){return!1}constructor(t,r){super(),this.func=e,this.symbol=t,this.subscript=r}},Const$1=class e extends Sym$1{args(){return[this.symbol]}recurse(){return this}eval(e={},t){return"pi"===this.symbol?Math.PI:"e"===this.symbol?Math.E:void 0}codegen(){return"pi"===this.symbol?"Math.PI":"e"===this.symbol?"Math.E":void 0}print(){return this.symbol}tex(){return"pi"===this.symbol?"\\pi ":"e"===this.symbol?"e":void 0}isPositive(){return this.eval()>0}abs(){return this.eval()>0?this:Mul$1.handleNegative(this)}getConsts(){return[this.print()]}constructor(t){super(),this.func=e,this.symbol=t}};Const$1.e=new Const$1("e"),Const$1.pi=new Const$1("pi");let Num$1=class extends Expr$1{repr(){return this.print()}strip(){return this.abs()}recurse(){return this}codegen(){return this.print()}isSubtract(){return Boolean(this.hints.subtract)}needsExplicitMul(){return!0}isPositive(){return this.eval()>0}isNegative(){return this.eval()<0}asPositiveFactor(){return this.isPositive()?this:this.abs()}getDecimalPlaces(){var e=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}static negativeOne(e){return"subtract"===e?NumSub$1:"divide"===e?NumDiv$1:NumNeg$1}static findGCD(e,t){var r;if(e=Math.abs(e),t=Math.abs(t),e!==Math.floor(e)||t!==Math.floor(t))return 1;for(;t;)r=e%t,e=t,t=r;return e}static min(...e){return _.min(e,e=>e.eval())}static max(...e){return _.max(e,e=>e.eval())}constructor(){super(),this.n=0,this.hints={...this.hints,negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}}},Rational$1=class e extends Num$1{args(){return[this.n,this.d]}eval(){return this.n/this.d}print(){return this.n.toString()+"/"+this.d.toString()}tex(){var e="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+e:e}add(t,r){return t instanceof e?new e(this.n*t.d+this.d*t.n,this.d*t.d).collect():t.add(this,r)}mul(t,r){return t instanceof e?new e(this.n*t.n,this.d*t.d).collect():t.mul(this,r)}collect(){var t=Num$1.findGCD(this.n,this.d),r=this.n/t,n=this.d/t;return 1===n?new Int$1(r):new e(r,n)}negate(){return new e(-this.n,this.d)}abs(){return new e(Math.abs(this.n),this.d)}findGCD(t){if(t instanceof e){var r=Num$1.findGCD(this.n*t.d,t.n*this.d),n=this.d*t.d;return new e(r,n).collect()}return t instanceof Int$1?new e(Num$1.findGCD(this.n,t.n),this.d):t.findGCD(this)}raiseToThe(t){if(t instanceof Int$1){var r=t.eval()>0,n=t.abs().eval(),i=Math.pow(this.n,n),o=Math.pow(this.d,n);return r?new e(i,o).collect():new e(o,i).collect()}return new Float$1(this.eval()).raiseToThe(t)}getDenominator(){return new Int$1(this.d)}isSimple(){return!1}asRational(){return this}constructor(t,r){super(),this.func=e;var n=t,i=r;i<0&&(n=-n,i=-i),this.n=n,this.d=i}},Int$1=class e extends Rational$1{args(){return[this.n]}print(){return this.n.toString()}tex(){return this.n.toString()}negate(){return new e(-this.n)}abs(){return new e(Math.abs(this.n))}isSimple(){return!0}findGCD(t){return t instanceof e?new e(Num$1.findGCD(this.n,t.n)):t.findGCD(this)}static create(t){return new e(t).addHint("entered")}constructor(t){super(t,1),this.func=e}},Float$1=class e extends Num$1{args(){return[this.n]}eval(){return this.n}print(){return this.n.toString()}tex(){return this.n.toString()}add(t,r){return r&&r.preciseFloats?e.toDecimalPlaces(this.n+t.eval(),Math.max(this.getDecimalPlaces(),t.getDecimalPlaces())):new e(this.n+t.eval()).collect()}mul(t,r){return r&&r.preciseFloats?e.toDecimalPlaces(this.n*t.eval(),this.getDecimalPlaces()+t.getDecimalPlaces()):new e(this.n*t.eval()).collect()}collect(e){return this}negate(){return new e(-this.n)}abs(){return new e(Math.abs(this.n))}findGCD(t){return t instanceof Num$1?new e(Num$1.findGCD(this.eval(),t.eval())).collect():t.findGCD(this)}raiseToThe(t,r){return r&&r.preciseFloats&&t instanceof Int$1&&t.n>1?e.toDecimalPlaces(new Pow$1(this,t).eval(),this.getDecimalPlaces()*t.n):new e(new Pow$1(this,t).eval()).collect()}asRational(){var e=this.n.toString().split(".");if(1===e.length)return new Rational$1(this.n,1);var t=Number(e.join("")),r=Math.pow(10,e[1].length);return new Rational$1(t,r).collect()}getDenominator(){return this.asRational().getDenominator()}isSimple(){return!0}static create(t){return new e(t).addHint("entered")}static toDecimalPlaces(t,r){return new e(+t.toFixed(Math.min(r,20))).collect()}constructor(t){super(),this.func=e,this.n=t}};const NumNeg$1=new Int$1(-1).addHint("negate"),NumSub$1=new Int$1(-1).addHint("subtract"),NumDiv$1=new Int$1(-1).addHint("divide"),NumSqrt$1=new Rational$1(1,2).addHint("root"),NumZero$1=new Int$1(0),NumOne$1=new Int$1(1),NumTen$1=new Int$1(10);var parseError$1=function(e,t){throw new Error(t.loc.first_column)};parser$1.yy={Add:Add$1,Mul:Mul$1,Pow:Pow$1,Log:Log$1,Trig:Trig$1,Eq:Eq$1,Abs:Abs$1,Func:Func$1,Const:Const$1,Var:Var$1,Int:Int$1,Float:Float$1,parseError:parseError$1,constants:["e"],symbolLexer:function(e){return _.contains(parser$1.yy.constants,e)?"CONST":_.contains(parser$1.yy.functions,e)?"FUNC":"VAR"}};const parse$5=function(e,t){try{return t&&t.functions?parser$1.yy.functions=_.without(t.functions,"i"):parser$1.yy.functions=[],t&&t.decimal_separator&&(e=e.split(t.decimal_separator).join(".")),{parsed:!0,expr:parser$1.parse(e).completeParse()}}catch(r){return{parsed:!1,error:r.message}}};let Unit$1=class e extends Sym$1{args(){return[this.symbol]}recurse(){return this}eval(e={},t){return 1}getUnits(){return[{unit:this.symbol,pow:1}]}codegen(){return"1"}print(){return this.symbol}tex(){return this.symbol}collect(e){if(_(baseUnits$1).has(this.symbol))return this;if(_(derivedUnits$1).has(this.symbol))return derivedUnits$1[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}constructor(t){super(),this.func=e,this.symbol=t}};var baseUnits$1={m:new Unit$1("m"),g:new Unit$1("g"),s:new Unit$1("s"),A:new Unit$1("A"),K:new Unit$1("K"),mol:new Unit$1("mol"),cd:new Unit$1("cd")};new Pow$1(new Int$1(10),new Int$1(-18)),new Pow$1(new Int$1(10),new Int$1(-15)),new Pow$1(new Int$1(10),new Int$1(-12)),new Pow$1(new Int$1(10),new Int$1(-9)),new Pow$1(new Int$1(10),new Int$1(-6)),new Pow$1(new Int$1(10),new Int$1(-3)),new Pow$1(new Int$1(10),new Int$1(-2)),new Pow$1(new Int$1(10),new Int$1(-1)),new Int$1(10),new Pow$1(new Int$1(10),new Int$1(2)),new Pow$1(new Int$1(10),new Int$1(3)),new Pow$1(new Int$1(10),new Int$1(6)),new Pow$1(new Int$1(10),new Int$1(9)),new Pow$1(new Int$1(10),new Int$1(12)),new Pow$1(new Int$1(10),new Int$1(15)),new Pow$1(new Int$1(10),new Int$1(18)),new Pow$1(new Int$1(10),new Int$1(27));const hasPrefixes$1="hasPrefixes",hasntPrefixes$1="hasntPrefixes",makeAlias$1=function(e,t){var r=e.split("|"),n=r[0].trim(),i=r[1].trim(),o=NumOne$1;""!==n&&(o=parse$5(n).expr);var a=i.split("/"),s=[o];return a[0]&&a[0].split(" ").filter(e=>""!==e).forEach(e=>s.push(new Unit$1(e))),a[1]&&a[1].split(" ").filter(e=>""!==e).forEach(e=>s.push(new Pow$1(new Unit$1(e),NumDiv$1))),{conversion:new Mul$1(s),prefixes:t}};var derivedUnits$1={Da:makeAlias$1("1.6605388628 x 10^-24 | g",hasPrefixes$1),u:makeAlias$1("| Da",hasntPrefixes$1),meter:makeAlias$1("| m",hasntPrefixes$1),meters:makeAlias$1("| m",hasntPrefixes$1),in:makeAlias$1("254 / 10000 | m",hasntPrefixes$1),ft:makeAlias$1("3048  / 10000 | m",hasntPrefixes$1),yd:makeAlias$1("9144  / 10000 | m",hasntPrefixes$1),mi:makeAlias$1("1609344 / 1000 | m",hasntPrefixes$1),ly:makeAlias$1("9.4607 x 10^15 | m",hasntPrefixes$1),nmi:makeAlias$1("1852 | m",hasntPrefixes$1),"":makeAlias$1("10^-10 | m",hasntPrefixes$1),pc:makeAlias$1("3.0857 x 10^16 | m",hasntPrefixes$1),min:makeAlias$1("60 | s",hasntPrefixes$1),hr:makeAlias$1("3600 | s",hasntPrefixes$1),sec:makeAlias$1("| s",hasntPrefixes$1),day:makeAlias$1("86400 | s",hasntPrefixes$1),wk:makeAlias$1("604800 | s",hasntPrefixes$1),fortnight:makeAlias$1("14 | day",hasntPrefixes$1),shake:makeAlias$1("10^-8 | s",hasntPrefixes$1),olympiad:makeAlias$1("126200000 | s",hasntPrefixes$1),"C":makeAlias$1("1 | K",hasntPrefixes$1),"F":makeAlias$1("5/9 | K",hasntPrefixes$1),"R":makeAlias$1("5/9 | K",hasntPrefixes$1),e:makeAlias$1("1.6021765314 x 10^-19 | C",hasntPrefixes$1),c:makeAlias$1("299792458 | m / s",hasntPrefixes$1),kn:makeAlias$1("514/1000 | m / s",hasntPrefixes$1),kt:makeAlias$1("| kn",hasntPrefixes$1),knot:makeAlias$1("| kn",hasntPrefixes$1),J:makeAlias$1("| N m",hasPrefixes$1),BTU:makeAlias$1("1060 | J",hasntPrefixes$1),cal:makeAlias$1("4184 / 1000 | J",hasPrefixes$1),eV:makeAlias$1("1.602176514 x 10^-19 | J",hasPrefixes$1),erg:makeAlias$1("10^7 | J",hasPrefixes$1),W:makeAlias$1("| J / s",hasPrefixes$1),"H-e":makeAlias$1("80 | W",hasntPrefixes$1),N:makeAlias$1("1000 | g m / s s",hasPrefixes$1),lb:makeAlias$1("4448221615 / 1000000000 | N",hasntPrefixes$1),dyn:makeAlias$1("10^-5 | N",hasntPrefixes$1),Pa:makeAlias$1("1 | N / m m m",hasPrefixes$1),bar:makeAlias$1("10^5 | Pa",hasPrefixes$1),"":makeAlias$1("1/1000 | bar",hasntPrefixes$1),"":makeAlias$1("| bar",hasntPrefixes$1),atm:makeAlias$1("101325 | Pa",hasntPrefixes$1),Torr:makeAlias$1("1/760 | atm",hasntPrefixes$1),mmHg:makeAlias$1("| Torr",hasntPrefixes$1),ha:makeAlias$1("10^4 | m m",hasntPrefixes$1),b:makeAlias$1("10^28 | m m",hasPrefixes$1),barn:makeAlias$1("| b",hasPrefixes$1),acre:makeAlias$1("4046.87 | m m",hasntPrefixes$1),skilodge:makeAlias$1("10^-31 | m m",hasntPrefixes$1),outhouse:makeAlias$1("10^-34 | m m",hasntPrefixes$1),shed:makeAlias$1("10^-52 | m m",hasntPrefixes$1),L:makeAlias$1("1/1000 | m m m",hasPrefixes$1),gal:makeAlias$1("3785/1000 | L",hasPrefixes$1),cup:makeAlias$1("1/16 | gal",hasntPrefixes$1),qt:makeAlias$1("1/4 | gal",hasntPrefixes$1),quart:makeAlias$1("| qt",hasntPrefixes$1),p:makeAlias$1("1/8 | gal",hasntPrefixes$1),pt:makeAlias$1("| p",hasntPrefixes$1),pint:makeAlias$1("| p",hasntPrefixes$1),"fl oz":makeAlias$1("1/8 | cup",hasntPrefixes$1),"fl. oz.":makeAlias$1("1/8 | cup",hasntPrefixes$1),tbsp:makeAlias$1("1/16 | cup",hasntPrefixes$1),tsp:makeAlias$1("1/3 | tbsp",hasntPrefixes$1),rev:makeAlias$1("2 pi | rad",hasntPrefixes$1),deg:makeAlias$1("180 pi | rad",hasntPrefixes$1),"":makeAlias$1("| deg",hasntPrefixes$1),arcminute:makeAlias$1("1/60 | deg",hasntPrefixes$1),arcsec:makeAlias$1("1/3600 | deg",hasntPrefixes$1),Hu:makeAlias$1("1000 | dB",hasPrefixes$1),dozen:makeAlias$1("12 |",hasntPrefixes$1),mol:makeAlias$1("6.0221412927 x 10^23 |",hasPrefixes$1),"%":makeAlias$1("1/100 |",hasntPrefixes$1),percent:makeAlias$1("| %",hasntPrefixes$1),ppm:makeAlias$1("1/1000000 |",hasntPrefixes$1),V:makeAlias$1("1000 | g m m / s s C",hasPrefixes$1),C:makeAlias$1("| A s",hasPrefixes$1),ampere:makeAlias$1("| A",hasntPrefixes$1),"":makeAlias$1("| V / A",hasPrefixes$1),ohm:makeAlias$1("| ",hasntPrefixes$1),F:makeAlias$1("| C / V",hasPrefixes$1),H:makeAlias$1("| ohm s",hasPrefixes$1),T:makeAlias$1("1000 | g / C s",hasPrefixes$1),Wb:makeAlias$1("1000 | g m m / C s",hasPrefixes$1),lm:makeAlias$1("pi x 10^4 | cd / m m",hasntPrefixes$1),lx:makeAlias$1("| lm / m m",hasntPrefixes$1),nit:makeAlias$1("| cd / m m",hasntPrefixes$1),sb:makeAlias$1("10^4 | cd / m m",hasntPrefixes$1),stilb:makeAlias$1("1 | sb",hasntPrefixes$1),apostilb:makeAlias$1("1 / pi x 10^(-4) | sb",hasntPrefixes$1),blondel:makeAlias$1("| apostilb",hasntPrefixes$1),asb:makeAlias$1("| apostilb",hasntPrefixes$1),la:makeAlias$1("| lm",hasntPrefixes$1),Lb:makeAlias$1("| lm",hasntPrefixes$1),sk:makeAlias$1("10^-7 | lm",hasntPrefixes$1),skot:makeAlias$1("| sk",hasntPrefixes$1),bril:makeAlias$1("10^-11 | lm",hasntPrefixes$1),Hz:makeAlias$1("| / s",hasPrefixes$1)};const compare=function(e,t,r={}){const n={form:!1,simplify:!1,...r},i=e.sameVars(t);if(!i.equal){let e;return e=i.equalIgnoringCase?"Check your variables; one or more are using the wrong case (upper or lower).":"Check your variables; you may have used the wrong letter for one or more of them.",{equal:!1,wrongVariableCase:i.equalIgnoringCase,wrongVariableNames:!i.equalIgnoringCase,message:e}}return e.compare(t)?n.form&&!e.sameForm(t)?{equal:!1,message:"Your answer is not in the correct form."}:n.simplify&&!e.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}},addLibraryVersionToPerseusDebug$3=(e,t)=>{const r=`v${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==r){const n=Array.isArray(t)?t:[t];n.push(r),globalThis.__perseus_debug__[e]=n}}else globalThis.__perseus_debug__[e]=r}},addLibraryVersionToPerseusDebug$2=(e,t)=>{const r=`v${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==r){const n=Array.isArray(t)?t:[t];n.push(r),globalThis.__perseus_debug__[e]=n}}else globalThis.__perseus_debug__[e]=r}},libName$a="@khanacademy/simple-markdown",libVersion$a="2.1.0";addLibraryVersionToPerseusDebug$2(libName$a,libVersion$a);var CR_NEWLINE_R$1=/\r\n?/g,TAB_R$1=/\t/g,FORMFEED_R$1=/\f/g,preprocess$1=function(e){return e.replace(CR_NEWLINE_R$1,"\n").replace(FORMFEED_R$1,"").replace(TAB_R$1,"    ")},populateInitialState$1=function(e,t){var r=e||{};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},parserFor$1=function(e,t){var r,n=Object.keys(e).filter(function(t){var r=e[t];if(null==r||null==r.match)return!1;var n=r.order;return"number"!=typeof n||isFinite(n),!0});n.sort(function(t,r){var n=e[t],i=e[r],o=n.order,a=i.order;if(o!==a)return o-a;var s=n.quality?0:1,l=i.quality?0:1;return s!==l?s-l:t<r?-1:t>r?1:0});var i=function(t,o){var a=[];for(r=o=o||r;t;){var s=null,l=null,c=null,u=NaN,d=0,h=n[0],p=e[h];do{var f=p.order,m=null==o.prevCapture?"":o.prevCapture[0],g=p.match(t,o,m);if(g){var y=p.quality?p.quality(g,o,m):0;y<=u||(s=h,l=p,c=g,u=y)}d++,h=n[d],p=e[h]}while(p&&(!c||p.order===f&&p.quality));if(null==l||null==c)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+n[n.length-1]+"'. It seems to not match the following source:\n"+t);if(c.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var b=l.parse(c,i,o);if(Array.isArray(b))Array.prototype.push.apply(a,b);else{if(null==b||"object"!=typeof b)throw new Error(`parse() function returned invalid parse result: '${b}'`);null==b.type&&(b.type=s),a.push(b)}o.prevCapture=c,t=t.substring(o.prevCapture[0].length)}return a};return function(e,n){return(r=populateInitialState$1(n,t)).inline||r.disableAutoBlockNewlines||(e+="\n\n"),r.prevCapture=null,i(preprocess$1(e),r)}},inlineRegex$1=function(e){var t=function(t,r,n){return r.inline?e.exec(t):null};return t.regex=e,t},blockRegex$1=function(e){var t=function(t,r){return r.inline?null:e.exec(t)};return t.regex=e,t},anyScopeRegex$1=function(e){var t=function(t,r){return e.exec(t)};return t.regex=e,t},TYPE_SYMBOL$1="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,reactElement$1=function(e,t,r){return{$$typeof:TYPE_SYMBOL$1,type:e,key:null==t?void 0:t,ref:null,props:r,_owner:null}},htmlTag$1=function(e,t,r,n){r=r||{},n=void 0===n||n;var i="";for(var o in r){var a=r[o];Object.prototype.hasOwnProperty.call(r,o)&&a&&(i+=" "+sanitizeText$1(o)+'="'+sanitizeText$1(a)+'"')}var s="<"+e+i+">";return n?s+t+"</"+e+">":s},EMPTY_PROPS$1={},sanitizeUrl$1=function(e){if(null==e)return null;try{var t=new URL(e,"https://localhost").protocol;if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}catch{return null}return e},SANITIZE_TEXT_R$1=/[<>&"']/g,SANITIZE_TEXT_CODES$1={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},sanitizeText$1=function(e){return String(e).replace(SANITIZE_TEXT_R$1,function(e){return SANITIZE_TEXT_CODES$1[e]})},UNESCAPE_URL_R$1=/\\([^0-9A-Za-z\s])/g,unescapeUrl$1=function(e){return e.replace(UNESCAPE_URL_R$1,"$1")},parseInline$1=function(e,t,r){var n=r.inline||!1;r.inline=!0;var i=e(t,r);return r.inline=n,i},parseBlock$1=function(e,t,r){var n=r.inline||!1;r.inline=!1;var i=e(t+"\n\n",r);return r.inline=n,i},parseCaptureInline$1=function(e,t,r){return{content:parseInline$1(t,e[1],r)}},ignoreCapture$1=function(){return{}},LIST_BULLET$1="(?:[*+-]|\\d+\\.)",LIST_ITEM_PREFIX$1="( *)("+LIST_BULLET$1+") +",LIST_ITEM_PREFIX_R$1=new RegExp("^"+LIST_ITEM_PREFIX$1),LIST_ITEM_R$1=new RegExp(LIST_ITEM_PREFIX$1+"[^\\n]*(?:\\n(?!\\1"+LIST_BULLET$1+" )[^\\n]*)*(\n|$)","gm"),BLOCK_END_R$1=/\n{2,}$/,INLINE_CODE_ESCAPE_BACKTICKS_R$1=/^ (?= *`)|(` *) $/g,LIST_BLOCK_END_R$1=BLOCK_END_R$1,LIST_ITEM_END_R$1=/ *\n+$/,LIST_R$1=new RegExp("^( *)("+LIST_BULLET$1+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+LIST_BULLET$1+" )\\n*|\\s*\n*$)"),LIST_LOOKBEHIND_R$1=/(?:^|\n)( *)$/,TABLES$1=(TABLE_ROW_SEPARATOR_TRIM=/^ *\| *| *\| *$/g,TABLE_CELL_END_TRIM=/ *$/,TABLE_RIGHT_ALIGN=/^ *-+: *$/,TABLE_CENTER_ALIGN=/^ *:-+: *$/,TABLE_LEFT_ALIGN=/^ *:-+ *$/,parseTableAlignCapture=function(e){return TABLE_RIGHT_ALIGN.test(e)?"right":TABLE_CENTER_ALIGN.test(e)?"center":TABLE_LEFT_ALIGN.test(e)?"left":null},parseTableRow=function(e,t,r,n){var i=r.inTable;r.inTable=!0;var o=t(e.trim(),r);r.inTable=i;var a=[[]];return o.forEach(function(e,t){"tableSeparator"===e.type?(!n||0!==t&&t!==o.length-1)&&a.push([]):("text"!==e.type||null!=o[t+1]&&"tableSeparator"!==o[t+1].type||(e.content=e.content.replace(TABLE_CELL_END_TRIM,"")),a[a.length-1].push(e))}),a},parseTable=function(e){return function(t,r,n){n.inline=!0;var i=parseTableRow(t[1],r,n,e),o=function(e,t,r,n){return n&&(e=e.replace(TABLE_ROW_SEPARATOR_TRIM,"")),e.trim().split("|").map(parseTableAlignCapture)}(t[2],0,0,e),a=function(e,t,r,n){return e.trim().split("\n").map(function(e){return parseTableRow(e,t,r,n)})}(t[3],r,n,e);return n.inline=!1,{type:"table",header:i,align:o,cells:a}}},{parseTable:parseTable(!0),parseNpTable:parseTable(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),TABLE_ROW_SEPARATOR_TRIM,TABLE_CELL_END_TRIM,TABLE_RIGHT_ALIGN,TABLE_CENTER_ALIGN,TABLE_LEFT_ALIGN,parseTableAlignCapture,parseTableRow,parseTable,LINK_INSIDE$1="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",LINK_HREF_AND_TITLE$1="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",AUTOLINK_MAILTO_CHECK_R$1=/mailto:/i,parseRef$1=function(e,t,r){var n=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[n]){var i=t._defs[n];r.target=i.target,r.title=i.title}return t._refs=t._refs||{},t._refs[n]=t._refs[n]||[],t._refs[n].push(r),r},currOrder$1=0,defaultRules$1={Array:{react:function(e,t,r){for(var n=r.key,i=[],o=0,a=0;o<e.length;o++,a++){r.key=""+o;var s=e[o];if("text"===s.type)for(s={type:"text",content:s.content};o+1<e.length&&"text"===e[o+1].type;o++)s.content+=e[o+1].content;i.push(t(s,r))}return r.key=n,i},html:function(e,t,r){for(var n="",i=0;i<e.length;i++){var o=e[i];if("text"===o.type)for(o={type:"text",content:o.content};i+1<e.length&&"text"===e[i+1].type;i++)o.content+=e[i+1].content;n+=t(o,r)}return n}},heading:{order:currOrder$1++,match:blockRegex$1(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(e,t,r){return{level:e[1].length,content:parseInline$1(t,e[2].trim(),r)}},react:function(e,t,r){return reactElement$1("h"+e.level,r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("h"+e.level,t(e.content,r))}},nptable:{order:currOrder$1++,match:blockRegex$1(TABLES$1.NPTABLE_REGEX),parse:TABLES$1.parseNpTable,react:null,html:null},lheading:{order:currOrder$1++,match:blockRegex$1(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,r){return{type:"heading",level:"="===e[2]?1:2,content:parseInline$1(t,e[1],r)}},react:null,html:null},hr:{order:currOrder$1++,match:blockRegex$1(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:ignoreCapture$1,react:function(e,t,r){return reactElement$1("hr",r.key,{"aria-hidden":!0})},html:function(e,t,r){return'<hr aria-hidden="true">'}},codeBlock:{order:currOrder$1++,match:blockRegex$1(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,r){return{lang:void 0,content:e[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0;return reactElement$1("pre",r.key,{children:reactElement$1("code",null,{className:n,children:e.content})})},html:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0,i=htmlTag$1("code",sanitizeText$1(e.content),{class:n});return htmlTag$1("pre",i)}},fence:{order:currOrder$1++,match:blockRegex$1(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(e,t,r){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}},react:null,html:null},blockQuote:{order:currOrder$1++,match:blockRegex$1(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,r){return{content:t(e[0].replace(/^ *> ?/gm,""),r)}},react:function(e,t,r){return reactElement$1("blockquote",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("blockquote",t(e.content,r))}},list:{order:currOrder$1++,match:function(e,t){var r=null==t.prevCapture?"":t.prevCapture[0],n=LIST_LOOKBEHIND_R$1.exec(r),i=t._list||!t.inline;return n&&i?(e=n[1]+e,LIST_R$1.exec(e)):null},parse:function(e,t,r){var n=e[2],i=n.length>1,o=i?+n:void 0,a=e[0].replace(LIST_BLOCK_END_R$1,"\n").match(LIST_ITEM_R$1),s=!1;return{ordered:i,start:o,items:a.map(function(e,n){var i=LIST_ITEM_PREFIX_R$1.exec(e),o=i?i[0].length:0,l=new RegExp("^ {1,"+o+"}","gm"),c=e.replace(l,"").replace(LIST_ITEM_PREFIX_R$1,""),u=n===a.length-1,d=-1!==c.indexOf("\n\n")||u&&s;s=d;var h,p=r.inline,f=r._list;r._list=!0,d?(r.inline=!1,h=c.replace(LIST_ITEM_END_R$1,"\n\n")):(r.inline=!0,h=c.replace(LIST_ITEM_END_R$1,""));var m=t(h,r);return r.inline=p,r._list=f,m})}},react:function(e,t,r){var n=e.ordered?"ol":"ul";return reactElement$1(n,r.key,{start:e.start,children:e.items.map(function(e,n){return reactElement$1("li",""+n,{children:t(e,r)})})})},html:function(e,t,r){var n=e.items.map(function(e){return htmlTag$1("li",t(e,r))}).join(""),i=e.ordered?"ol":"ul",o={start:e.start};return htmlTag$1(i,n,o)}},def:{order:currOrder$1++,match:blockRegex$1(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(e,t,r){var n=e[1].replace(/\s+/g," ").toLowerCase(),i=e[2],o=e[3];return r._refs&&r._refs[n]&&r._refs[n].forEach(function(e){e.target=i,e.title=o}),r._defs=r._defs||{},r._defs[n]={target:i,title:o},{def:n,target:i,title:o}},react:function(){return null},html:function(){return""}},table:{order:currOrder$1++,match:blockRegex$1(TABLES$1.TABLE_REGEX),parse:TABLES$1.parseTable,react:function(e,t,r){var n=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},i=e.header.map(function(e,i){return reactElement$1("th",""+i,{style:n(i),scope:"col",children:t(e,r)})}),o=e.cells.map(function(e,i){return reactElement$1("tr",""+i,{children:e.map(function(e,i){return reactElement$1("td",""+i,{style:n(i),children:t(e,r)})})})});return reactElement$1("table",r.key,{children:[reactElement$1("thead","thead",{children:reactElement$1("tr",null,{children:i})}),reactElement$1("tbody","tbody",{children:o})]})},html:function(e,t,r){var n=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},i=e.header.map(function(e,i){return htmlTag$1("th",t(e,r),{style:n(i),scope:"col"})}).join(""),o=e.cells.map(function(e){var i=e.map(function(e,i){return htmlTag$1("td",t(e,r),{style:n(i)})}).join("");return htmlTag$1("tr",i)}).join(""),a=htmlTag$1("thead",htmlTag$1("tr",i)),s=htmlTag$1("tbody",o);return htmlTag$1("table",a+s)}},newline:{order:currOrder$1++,match:blockRegex$1(/^(?:\n *)*\n/),parse:ignoreCapture$1,react:function(e,t,r){return"\n"},html:function(e,t,r){return"\n"}},paragraph:{order:currOrder$1++,match:blockRegex$1(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:parseCaptureInline$1,react:function(e,t,r){return reactElement$1("div",r.key,{className:"paragraph",children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("div",t(e.content,r),{class:"paragraph"})}},escape:{order:currOrder$1++,match:inlineRegex$1(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,r){return{type:"text",content:e[1]}},react:null,html:null},tableSeparator:{order:currOrder$1++,match:function(e,t){return t.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:currOrder$1++,match:inlineRegex$1(/^<([^: >]+:\/[^ >]+)>/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}},react:null,html:null},mailto:{order:currOrder$1++,match:inlineRegex$1(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,r){var n=e[1],i=e[1];return AUTOLINK_MAILTO_CHECK_R$1.test(i)||(i="mailto:"+i),{type:"link",content:[{type:"text",content:n}],target:i}},react:null,html:null},url:{order:currOrder$1++,match:inlineRegex$1(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}},react:null,html:null},link:{order:currOrder$1++,match:inlineRegex$1(new RegExp("^\\[("+LINK_INSIDE$1+")\\]\\("+LINK_HREF_AND_TITLE$1+"\\)")),parse:function(e,t,r){return{content:t(e[1],r),target:unescapeUrl$1(e[2]),title:e[3]}},react:function(e,t,r){return reactElement$1("a",r.key,{href:sanitizeUrl$1(e.target),title:e.title,children:t(e.content,r)})},html:function(e,t,r){var n={href:sanitizeUrl$1(e.target),title:e.title};return htmlTag$1("a",t(e.content,r),n)}},image:{order:currOrder$1++,match:inlineRegex$1(new RegExp("^!\\[("+LINK_INSIDE$1+")\\]\\("+LINK_HREF_AND_TITLE$1+"\\)")),parse:function(e,t,r){return{alt:e[1],target:unescapeUrl$1(e[2]),title:e[3]}},react:function(e,t,r){return reactElement$1("img",r.key,{src:sanitizeUrl$1(e.target),alt:e.alt,title:e.title})},html:function(e,t,r){var n={src:sanitizeUrl$1(e.target),alt:e.alt,title:e.title};return htmlTag$1("img","",n,!1)}},reflink:{order:currOrder$1++,match:inlineRegex$1(new RegExp("^\\[("+LINK_INSIDE$1+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return parseRef$1(e,r,{type:"link",content:t(e[1],r)})},react:null,html:null},refimage:{order:currOrder$1++,match:inlineRegex$1(new RegExp("^!\\[("+LINK_INSIDE$1+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return parseRef$1(e,r,{type:"image",alt:e[1]})},react:null,html:null},em:{order:currOrder$1,match:inlineRegex$1(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(e,t,r){return{content:t(e[2]||e[1],r)}},react:function(e,t,r){return reactElement$1("em",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("em",t(e.content,r))}},strong:{order:currOrder$1,match:inlineRegex$1(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:parseCaptureInline$1,react:function(e,t,r){return reactElement$1("strong",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("strong",t(e.content,r))}},u:{order:currOrder$1++,match:inlineRegex$1(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:parseCaptureInline$1,react:function(e,t,r){return reactElement$1("u",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("u",t(e.content,r))}},del:{order:currOrder$1++,match:inlineRegex$1(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:parseCaptureInline$1,react:function(e,t,r){return reactElement$1("del",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag$1("del",t(e.content,r))}},inlineCode:{order:currOrder$1++,match:inlineRegex$1(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(e,t,r){return{content:e[2].replace(INLINE_CODE_ESCAPE_BACKTICKS_R$1,"$1")}},react:function(e,t,r){return reactElement$1("code",r.key,{children:e.content})},html:function(e,t,r){return htmlTag$1("code",sanitizeText$1(e.content))}},br:{order:currOrder$1++,match:anyScopeRegex$1(/^ {2,}\n/),parse:ignoreCapture$1,react:function(e,t,r){return reactElement$1("br",r.key,EMPTY_PROPS$1)},html:function(e,t,r){return"<br>"}},text:{order:currOrder$1++,match:anyScopeRegex$1(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,r){return{content:e[0]}},react:function(e,t,r){return e.content},html:function(e,t,r){return sanitizeText$1(e.content)}}},ruleOutput$1=function(e,t){return function(r,n,i){return e[r.type][t](r,n,i)}},reactFor$1=function(e){var t=function(r,n){if(n=n||{},Array.isArray(r)){for(var i=n.key,o=[],a=null,s=0;s<r.length;s++){n.key=""+s;var l=t(r[s],n);"string"==typeof l&&"string"==typeof a?(a+=l,o[o.length-1]=a):(o.push(l),a=l)}return n.key=i,o}return e(r,t,n)};return t},htmlFor$1=function(e){var t=function(r,n){return n=n||{},Array.isArray(r)?r.map(function(e){return t(e,n)}).join(""):e(r,t,n)};return t},outputFor$1=function(e,t,r={}){if(!t)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var n,i=(e.Array||defaultRules$1.Array)[t];if(!i)throw new Error("simple-markdown: outputFor: to join nodes of type `"+t+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var o=i,a=function(r,i){return n=i=i||n,Array.isArray(r)?o(r,a,i):e[r.type][t](r,a,i)};return function(e,t){return n=populateInitialState$1(t,r),a(e,n)}},defaultRawParse$1=parserFor$1(defaultRules$1),defaultBlockParse$1=function(e,t){return(t=t||{}).inline=!1,defaultRawParse$1(e,t)},defaultInlineParse$1=function(e,t){return(t=t||{}).inline=!0,defaultRawParse$1(e,t)},defaultImplicitParse$1=function(e,t){var r=BLOCK_END_R$1.test(e);return(t=t||{}).inline=!r,defaultRawParse$1(e,t)},defaultReactOutput$1=outputFor$1(defaultRules$1,"react"),defaultHtmlOutput$1=outputFor$1(defaultRules$1,"html"),markdownToReact$1=function(e,t){return defaultReactOutput$1(defaultBlockParse$1(e,t),t)},markdownToHtml$1=function(e,t){return defaultHtmlOutput$1(defaultBlockParse$1(e,t),t)},ReactMarkdown$1=function(e){var t={};for(var r in e)"source"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.children=markdownToReact$1(e.source),reactElement$1("div",null,t)},SimpleMarkdown$1={defaultRules:defaultRules$1,parserFor:parserFor$1,outputFor:outputFor$1,inlineRegex:inlineRegex$1,blockRegex:blockRegex$1,anyScopeRegex:anyScopeRegex$1,parseInline:parseInline$1,parseBlock:parseBlock$1,markdownToReact:markdownToReact$1,markdownToHtml:markdownToHtml$1,ReactMarkdown:ReactMarkdown$1,defaultBlockParse:defaultBlockParse$1,defaultInlineParse:defaultInlineParse$1,defaultImplicitParse:defaultImplicitParse$1,defaultReactOutput:defaultReactOutput$1,defaultHtmlOutput:defaultHtmlOutput$1,preprocess:preprocess$1,sanitizeText:sanitizeText$1,sanitizeUrl:sanitizeUrl$1,unescapeUrl:unescapeUrl$1,htmlTag:htmlTag$1,reactElement:reactElement$1,defaultRawParse:defaultRawParse$1,ruleOutput:ruleOutput$1,reactFor:reactFor$1,htmlFor:htmlFor$1,defaultParse:function(...e){return defaultImplicitParse$1.apply(null,e)},defaultOutput:function(...e){return defaultReactOutput$1.apply(null,e)}};const libName$9="@khanacademy/pure-markdown",libVersion$9="2.2.0";addLibraryVersionToPerseusDebug$3(libName$9,libVersion$9);const traverseContent=(e,t)=>{Array.isArray(e)?e.forEach(e=>traverseContent(e,t)):"object"==typeof e&&null!==e&&(t(e),"table"===e.type?(traverseContent(e.header,t),traverseContent(e.cells,t)):"list"===e.type?traverseContent(e.items,t):"titledTable"===e.type?traverseContent(e.table,t):"columns"===e.type?(traverseContent(e.col1,t),traverseContent(e.col2,t)):Array.isArray(e.content)&&traverseContent(e.content,t))},rWidgetRule$1=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,mathMatcher$1=(e,t,r)=>{const n=e.length;let i=0;if(r){if(t.inline)return null;for(;i<n&&" "===e[i];)i++}if(!(i<n&&"$"===e[i]))return null;i++;const o=i;let a=0;for(;i<n;){const t=e[i];if("\\"===t)i++;else{if(a<=0&&"$"===t){let t=i+1;if(r){const r=/^(?: *\n){2,}/.exec(e.slice(t));t=r?t+r[0].length:null}return t?[e.substring(0,t),e.substring(o,i)]:null}if("{"===t)a++;else if("}"===t)a--;else if("\n"===t&&"\n"===e[i-1])return null}i++}return null},mathMatch$1=(e,t)=>mathMatcher$1(e,t,!1),blockMathMatch$1=(e,t)=>mathMatcher$1(e,t,!0),TITLED_TABLE_REGEX$1=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+SimpleMarkdown$1.defaultRules.nptable.match.regex.source.substring(1)+")"),crowdinJiptMatcher$1=SimpleMarkdown$1.blockRegex(/^(crwdns.*)\n\s*\n/),pureMarkdownRules$1={...SimpleMarkdown$1.defaultRules,columns:{order:-2,match:SimpleMarkdown$1.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:(e,t,r)=>({col1:t(e[1],r),col2:t(e[2],r)})},crowdinId:{order:-1,match:(e,t,r)=>t.isJipt?crowdinJiptMatcher$1(e,t,r):null,parse:(e,t,r)=>({id:e[1]})},titledTable:{order:SimpleMarkdown$1.defaultRules.nptable.order-.5,match:SimpleMarkdown$1.blockRegex(TITLED_TABLE_REGEX$1),parse:(e,t,r)=>{const n=SimpleMarkdown$1.parseInline(t,e[1],r),i=e.slice(2);return{title:n,table:SimpleMarkdown$1.defaultRules.nptable.parse(i,t,r)}}},widget:{order:SimpleMarkdown$1.defaultRules.link.order-.75,match:SimpleMarkdown$1.inlineRegex(rWidgetRule$1),parse:(e,t,r)=>({id:e[1],widgetType:e[2]})},blockMath:{order:SimpleMarkdown$1.defaultRules.codeBlock.order+.5,match:blockMathMatch$1,parse:(e,t,r)=>({content:e[1]})},math:{order:SimpleMarkdown$1.defaultRules.link.order-.25,match:mathMatch$1,parse:(e,t,r)=>({content:e[1]})},unescapedDollar:{order:SimpleMarkdown$1.defaultRules.link.order-.24,match:SimpleMarkdown$1.inlineRegex(/^(?!\\)\$/),parse:(e,t,r)=>({})},fence:{...SimpleMarkdown$1.defaultRules.fence,parse:(e,t,r)=>{const n=SimpleMarkdown$1.defaultRules.fence.parse(e,t,r);return"alt"===n.lang?{type:"codeBlock",lang:"alt",content:t(n.content+"\n\n",r)}:n}},blockQuote:{...SimpleMarkdown$1.defaultRules.blockQuote,match:SimpleMarkdown$1.blockRegex(/^ *>[^\n]+(\n( *>)?[^\n]+)*\n{2,}/)},lint:{order:1e3,match:e=>null,parse:(e,t,r)=>({})}};function approximateEqual$2(e,t){return"number"==typeof e&&"number"==typeof t?Math.abs(e-t)<1e-9:e===t}function approximateDeepEqual$2(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!approximateDeepEqual$2(e[r],t[r]))return!1;return!0}return!Array.isArray(e)&&!Array.isArray(t)&&("function"==typeof e&&"function"==typeof t?approximateEqual$2(e,t):"function"!=typeof e&&"function"!=typeof t&&("object"==typeof e&&"object"==typeof t&&e&&t?e===t||_.all(e,function(e,r){return approximateDeepEqual$2(t[r],e)})&&_.all(t,function(t,r){return approximateDeepEqual$2(e[r],t)}):!("object"==typeof e&&e||"object"==typeof t&&t)&&approximateEqual$2(e,t)))}function deepClone$2(e){return JSON.parse(JSON.stringify(e))}SimpleMarkdown$1.parserFor(pureMarkdownRules$1);const MOVABLES$2={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function canonicalSineCoefficients$4(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=2*Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}function canonicalTangentCoefficients$2(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}const PlotDefaults$2={areEqual:function(e,t){return approximateDeepEqual$2(e,t)},movable:MOVABLES$2.PLOT,getPropsForCoeffs:function(e){return{fn:_.partial(this.getFunctionForCoeffs,e)}}},Linear$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;const o=i/n;return[o,r[1]-o*r[0]]},getFunctionForCoeffs:function(e,t){return e[0]*t+e[1]},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1];return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}}),Quadratic$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:MOVABLES$2.PARABOLA,getCoefficients:function(e){const t=e[0],r=e[1],n=t[0],i=t[1],o=(r[1]-i)/((r[0]-n)*(r[0]-n));return[o,-2*n*o,o*n*n+i]},getFunctionForCoeffs:function(e,t){return(e[0]*t+e[1])*t+e[2]},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"x^2 + "+n.toFixed(3)+"x + "+i.toFixed(3)}}),Sinusoid$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:MOVABLES$2.SINUSOID,getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(2*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.sin(n*t-i)+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual$2(canonicalSineCoefficients$4(e),canonicalSineCoefficients$4(t))}}),Tangent$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(4*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.tan(n*t-i)+o},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual$2(canonicalTangentCoefficients$2(e),canonicalTangentCoefficients$2(t))}}),Exponential$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][1];return _.all(r,e=>e[1]!==o)},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[1];if(_.all(r,e=>e[1]>o)||_.all(r,e=>e[1]<o))return[t[0],o];const a=t[1];if(_.all(r,e=>e[1]>a)){const e=_.min(_.map(r,e=>e[1]));return[t[0],e-i.snapStep[1]]}const s=_.max(_.map(r,e=>e[1]));return[t[0],s+i.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e[0],n=e[1],i=t[0][1],o=Math.log((r[1]-i)/(n[1]-i))/(r[0]-n[0]);return[(r[1]-i)/Math.exp(o*r[0]),o,i]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.exp(n*t)+i},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = "+n.toFixed(3)+"e^("+i.toFixed(3)+"x) + "+o.toFixed(3)}}),Logarithm$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][0];return _.all(r,e=>e[0]!==o)&&r[0][1]!==r[1][1]},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[0];if(_.all(r,e=>e[0]>o)||_.all(r,e=>e[0]<o))return[o,t[1]];const a=t[0];if(_.all(r,e=>e[0]>a)){return[_.min(_.map(r,e=>e[0]))-i.snapStep[0],t[1]]}return[_.max(_.map(r,e=>e[0]))+i.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e=>[e[1],e[0]],n=Exponential$2.getCoefficients(_.map(e,r),_.map(t,r));if(n){const e=-n[2]/n[0],t=1/n[0];return[1/n[1],t,e]}},getFunctionForCoeffs:function(e,t,r){const n=e[0],i=e[1],o=e[2];return n*Math.log(i*t+o)},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = ln("+n.toFixed(3)+"x + "+i.toFixed(3)+") + "+o.toFixed(3)}}),AbsoluteValue$2=_.extend({},PlotDefaults$2,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;let o=Math.abs(i/n);r[1]<t[1]&&(o*=-1);return[o,t[0],t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.abs(t-n)+i},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"| x - "+n.toFixed(3)+"| + "+i.toFixed(3)}}),functionTypeMapping$2={linear:Linear$2,quadratic:Quadratic$2,sinusoid:Sinusoid$2,tangent:Tangent$2,exponential:Exponential$2,logarithm:Logarithm$2,absolute_value:AbsoluteValue$2};_.keys(functionTypeMapping$2);const blankPerseusRenderer$2={content:"",images:{},widgets:{}};function generateTestPerseusRenderer$2(e={}){return deepClone$2({...blankPerseusRenderer$2,...e})}function success$2(e){return{type:"success",value:e}}function failure$2(e){return{type:"failure",detail:e}}function isFailure$2(e){return"failure"===e.type}function isSuccess$2(e){return"success"===e.type}function all$2(e,t=e=>e){const r=[],n=[];for(const i of e)"success"===i.type?r.push(i.value):n.push(i.detail);return n.length>0?failure$2(n.reduce(t)):success$2(r)}generateTestPerseusRenderer$2();const any$2=(e,t)=>t.success(e);function array$2(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all$2(t.map((t,n)=>e(t,r.forSubtree(n))),concat$2)}}function arrayWithIndex$2(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all$2(t.map((t,n)=>e(n)(t,r.forSubtree(n))),concat$2)}}function concat$2(e,t){return[...e,...t]}function boolean$2(e,t){return"boolean"==typeof e?t.success(e):t.failure("boolean",e)}function constant$2(e){return(t,r)=>t!==e?r.failure(String(JSON.stringify(e)),t):r.success(e)}function defaulted$2(e,t){return(r,n)=>null==r?success$2(t(r)):e(r,n)}function defaultedNonEmptyString$2(e){return(t,r)=>null==t?r.success(e()):"string"==typeof t?""===t.trim()?r.success(e()):r.success(t):r.failure("string",t)}function enumeration$2(...e){return(t,r)=>{if("string"==typeof t){const n=e.indexOf(t);if(n>-1)return r.success(e[n])}const n=e.map(e=>JSON.stringify(e));return r.failure(n,t)}}const objectConstructorString$2=Object.prototype.constructor.toString(),functionToString$2=Function.prototype.toString;function isPlainObject$2(e){if(null==e)return!1;const t=Object.getPrototypeOf(e);return null==t||"function"==typeof t.constructor&&functionToString$2.call(t.constructor)===objectConstructorString$2}function nullable$2(e){return(t,r)=>null===t?r.success(t):e(t,r)}const number$3=(e,t)=>"number"==typeof e?t.success(e):t.failure("number",e);function objectWithAllPropertiesRequired$2(e){return object$2(e)}function object$2(e){return(t,r)=>{if(!isPlainObject$2(t))return r.failure("object",t);const n={...t},i=[];for(const[o,a]of Object.entries(e)){const e=a(t[o],r.forSubtree(o));isSuccess$2(e)?(void 0!==e.value||o in t)&&(n[o]=e.value):i.push(...e.detail)}return i.length>0?failure$2(i):r.success(n)}}function optional$2(e){return(t,r)=>void 0===t?r.success(t):e(t,r)}function pair$2(e,t){return(r,n)=>{if(!Array.isArray(r))return n.failure("array",r);if(2!==r.length)return n.failure("array of length 2",r);const[i,o]=r,a=e(i,n.forSubtree(0));if(isFailure$2(a))return a;const s=t(o,n.forSubtree(1));return isFailure$2(s)?s:n.success([a.value,s.value])}}function pipeParsers$2(e){return new ParserPipeline$2(e)}let ParserPipeline$2=class e{then(t){return new e(composeParsers$2(this.parser,t))}constructor(e){this.parser=e}};function composeParsers$2(e,t){return(r,n)=>{const i=e(r,n);return isFailure$2(i)?i:t(i.value,n)}}function record$2(e,t){return(r,n)=>{if(!isPlainObject$2(r))return n.failure("object",r);const i={},o=[];for(const[a,s]of Object.entries(r)){const r=n.forSubtree(a),l=e(a,r);isFailure$2(l)&&o.push(...l.detail);const c=t(s,r);isFailure$2(c)&&o.push(...c.detail),isSuccess$2(l)&&isSuccess$2(c)&&(i[l.value]=c.value)}return o.length>0?failure$2(o):n.success(i)}}const string$3=(e,t)=>"string"==typeof e?t.success(e):t.failure("string",e);function trio$2(e,t,r){return(n,i)=>{if(!Array.isArray(n))return i.failure("array",n);if(3!==n.length)return i.failure("array of length 3",n);const o=e(n[0],i.forSubtree(0));if(isFailure$2(o))return o;const a=t(n[1],i.forSubtree(1));if(isFailure$2(a))return a;const s=r(n[2],i.forSubtree(2));return isFailure$2(s)?s:i.success([o.value,a.value,s.value])}}function union$2(e){return new UnionBuilder$2(e)}let UnionBuilder$2=class e{or(t){return new e(either$2(this.parser,t))}constructor(e){this.parser=e}};function either$2(e,t){return(r,n)=>{const i=e(r,n);return isSuccess$2(i)?i:t(r,n)}}const parsePerseusImageDetail$2=object$2({width:number$3,height:number$3}),parseImages$2=defaulted$2(record$2(string$3,parsePerseusImageDetail$2),()=>({}));function parseWidget$2(e,t){return objectWithAllPropertiesRequired$2({type:e,static:optional$2(boolean$2),graded:optional$2(boolean$2),alignment:optional$2(string$3),options:t,key:optional$2(nullable$2(number$3)),version:optional$2(object$2({major:number$3,minor:number$3}))})}function parseWidgetWithVersion$2(e,t,r){return objectWithAllPropertiesRequired$2({type:t,static:optional$2(boolean$2),graded:optional$2(boolean$2),alignment:optional$2(string$3),options:r,key:optional$2(nullable$2(number$3)),version:e})}const parseCategorizerWidget$2=parseWidget$2(constant$2("categorizer"),object$2({items:array$2(string$3),categories:array$2(string$3),randomizeItems:defaulted$2(boolean$2,()=>!1),static:defaulted$2(boolean$2,()=>!1),values:defaulted$2(array$2(defaulted$2(number$3,()=>0)),()=>[]),highlightLint:optional$2(boolean$2),linterContext:optional$2(object$2({contentType:string$3,paths:array$2(string$3),stack:array$2(string$3)}))})),parseCSProgramWidget$2=parseWidget$2(constant$2("cs-program"),object$2({programID:string$3,programType:any$2,settings:array$2(object$2({name:string$3,value:string$3})),showEditor:boolean$2,showButtons:boolean$2,height:number$3,static:defaulted$2(boolean$2,()=>!1)})),parseDefinitionWidget$2=parseWidget$2(constant$2("definition"),object$2({togglePrompt:string$3,definition:string$3,static:defaulted$2(boolean$2,()=>!1)})),parseDropdownWidget$2=parseWidget$2(constant$2("dropdown"),object$2({placeholder:defaulted$2(string$3,()=>""),ariaLabel:optional$2(string$3),visibleLabel:optional$2(string$3),static:defaulted$2(boolean$2,()=>!1),choices:array$2(object$2({content:string$3,correct:defaulted$2(boolean$2,()=>!1)}))})),parseExplanationWidget$2=parseWidget$2(constant$2("explanation"),object$2({showPrompt:string$3,hidePrompt:string$3,explanation:string$3,widgets:defaulted$2((e,t)=>parseWidgetsMap$2(e,t),()=>({})),static:defaulted$2(boolean$2,()=>!1)})),KeypadKeys$2=["PLUS","MINUS","NEGATIVE","TIMES","DIVIDE","DECIMAL","PERIOD","PERCENT","CDOT","EQUAL","NEQ","GT","LT","GEQ","LEQ","FRAC_INCLUSIVE","FRAC_EXCLUSIVE","FRAC","EXP","EXP_2","EXP_3","SQRT","CUBE_ROOT","RADICAL","LEFT_PAREN","RIGHT_PAREN","LN","LOG","LOG_N","SIN","COS","TAN","PI","THETA","UP","RIGHT","DOWN","LEFT","BACKSPACE","DISMISS","JUMP_OUT_PARENTHESES","JUMP_OUT_EXPONENT","JUMP_OUT_BASE","JUMP_INTO_NUMERATOR","JUMP_OUT_NUMERATOR","JUMP_OUT_DENOMINATOR","NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function deriveExtraKeys$2(e){if(e.extraKeys)return e.extraKeys;const t=["PI"];if(null==e.answerForms)return t;const r={},n={};for(const o of e.answerForms){const t=parse$5(o.value,e);if(t.parsed){const e=t.expr,i=e=>"pi"===e||"theta"===e,o=e=>i(e)?e.toUpperCase():e,a=e=>KeypadKeys$2.includes(e);for(const t of e.getVars()){const e=o(t);a(e)&&(r[e]=!0)}for(const t of e.getConsts()){const e=o(t);a(e)&&(n[e]=!0)}}}const i=[...Object.keys(r).sort(),...Object.keys(n).sort()];return i.length?i:t}function convert$2(e){return(t,r)=>r.success(e(t))}const parseLegacyButtonSet$2=enumeration$2("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),parseLegacyButtonSets$2=defaulted$2(array$2(parseLegacyButtonSet$2),()=>["basic","trig","prealgebra","logarithms"]);function versionedWidgetOptions$2(e,t){return new VersionedWidgetOptionsParserBuilder$2(e,t,e=>e,(e,t)=>t.failure("widget options with a known version number",e))}let VersionedWidgetOptionsParserBuilder$2=class e{withMigrationFrom(t,r,n){const i=this.parser;return new e(t,r,e=>this.migrateToLatest(n(e)),i)}constructor(e,t,r,n){this.migrateToLatest=r,this.parseOtherVersions=n;const i=pipeParsers$2(t).then(convert$2(this.migrateToLatest)).parser;this.parser=(t,r)=>{if(!isPlainObject$2(t))return r.failure("object",t);const n=parseVersionedObject$2(t,r);return isFailure$2(n)?n:n.value.version.major!==e?this.parseOtherVersions(t,r):i(t,r)}}};const parseVersionedObject$2=object$2({version:defaulted$2(object$2({major:number$3,minor:number$3}),()=>({major:0,minor:0}))}),stringOrNumberOrNullOrUndefined$2=union$2(string$3).or(number$3).or(constant$2(null)).or(constant$2(void 0)).parser;function numberOrNullToString$2(e){return"number"==typeof e||null===e?String(e):e}const parsePossiblyInvalidAnswerForm$2=object$2({value:optional$2(string$3),form:defaulted$2(boolean$2,()=>!1),simplify:defaulted$2(boolean$2,()=>!1),considered:enumeration$2("correct","wrong","ungraded"),key:pipeParsers$2(stringOrNumberOrNullOrUndefined$2).then(convert$2(numberOrNullToString$2)).parser});function removeInvalidAnswerForms$2(e){return e.flatMap(e=>{const{value:t}=e;return null!=t?[{...e,value:t}]:[]})}const parseAnswerForms$2=pipeParsers$2(defaulted$2(array$2(parsePossiblyInvalidAnswerForm$2),()=>[])).then(convert$2(removeInvalidAnswerForms$2)).parser,version2$1$2=object$2({major:constant$2(2),minor:number$3}),parseExpressionWidgetV2$2=parseWidgetWithVersion$2(version2$1$2,constant$2("expression"),object$2({answerForms:parseAnswerForms$2,functions:array$2(string$3),times:boolean$2,visibleLabel:optional$2(string$3),ariaLabel:optional$2(string$3),buttonSets:parseLegacyButtonSets$2,buttonsVisible:optional$2(enumeration$2("always","never","focused")),extraKeys:optional$2(array$2(enumeration$2(...KeypadKeys$2)))})),version1$1$2=object$2({major:constant$2(1),minor:number$3}),parseExpressionWidgetV1$2=parseWidgetWithVersion$2(version1$1$2,constant$2("expression"),object$2({answerForms:parseAnswerForms$2,functions:array$2(string$3),times:boolean$2,visibleLabel:optional$2(string$3),ariaLabel:optional$2(string$3),buttonSets:parseLegacyButtonSets$2,buttonsVisible:optional$2(enumeration$2("always","never","focused"))}));function migrateV1ToV2$1$2(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:t.answerForms,extraKeys:deriveExtraKeys$2(t)??[]}}}const version0$1$2=optional$2(object$2({major:constant$2(0),minor:number$3})),parseExpressionWidgetV0$2=parseWidgetWithVersion$2(version0$1$2,constant$2("expression"),object$2({functions:array$2(string$3),times:boolean$2,visibleLabel:optional$2(string$3),ariaLabel:optional$2(string$3),form:boolean$2,simplify:boolean$2,value:string$3,buttonSets:parseLegacyButtonSets$2,buttonsVisible:optional$2(enumeration$2("always","never","focused"))}));function migrateV0ToV1$1$2(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const parseExpressionWidget$2=versionedWidgetOptions$2(2,parseExpressionWidgetV2$2).withMigrationFrom(1,parseExpressionWidgetV1$2,migrateV1ToV2$1$2).withMigrationFrom(0,parseExpressionWidgetV0$2,migrateV0ToV1$1$2).parser,parseFreeResponseWidget$2=parseWidget$2(constant$2("free-response"),object$2({allowUnlimitedCharacters:boolean$2,characterLimit:number$3,placeholder:string$3,question:string$3,scoringCriteria:array$2(object$2({text:string$3}))})),falseToNull$2=pipeParsers$2(constant$2(!1)).then(convert$2(()=>null)).parser,parseGradedGroupWidgetOptions$2=object$2({title:defaulted$2(string$3,()=>""),hasHint:optional$2(nullable$2(boolean$2)),hint:union$2(falseToNull$2).or(constant$2(null)).or(constant$2(void 0)).or((e,t)=>parsePerseusRenderer$2(e,t)).parser,content:string$3,widgets:(e,t)=>parseWidgetsMap$2(e,t),widgetEnabled:optional$2(nullable$2(boolean$2)),immutableWidgets:optional$2(nullable$2(boolean$2)),images:record$2(string$3,object$2({width:number$3,height:number$3}))}),parseGradedGroupWidget$2=parseWidget$2(constant$2("graded-group"),parseGradedGroupWidgetOptions$2),parseGradedGroupSetWidget$2=parseWidget$2(constant$2("graded-group-set"),object$2({gradedGroups:array$2(parseGradedGroupWidgetOptions$2)}));function discriminatedUnionOn$2(e){return new DiscriminatedUnionBuilder$2(e,(t,r)=>isPlainObject$2(t)?r.forSubtree(e).failure("a valid value",t[e]):r.failure("object",t))}let DiscriminatedUnionBuilder$2=class e{withBranch(t,r){const n=discriminatedUnionBranch$2(this.discriminantKey,t,r,this.parser);return new e(this.discriminantKey,n)}constructor(e,t){this.discriminantKey=e,this.parser=t}};function discriminatedUnionBranch$2(e,t,r,n){return(i,o)=>isPlainObject$2(i)?i[e]===t?r(i,o):n(i,o):o.failure("object",i)}const pairOfNumbers$3$2=pair$2(number$3,number$3),pairOfPoints$2=pair$2(pairOfNumbers$3$2,pairOfNumbers$3$2),emptyArray$2=(e,t)=>Array.isArray(e)&&0===e.length?t.success([]):t.failure("empty array",e),parseCoords$2=union$2(nullable$2(pairOfPoints$2)).or(pipeParsers$2(emptyArray$2).then(convert$2(()=>null)).parser).parser,parseCorrect$2=defaulted$2(discriminatedUnionOn$2("type").withBranch("absolute_value",object$2({type:constant$2("absolute_value"),coords:parseCoords$2})).withBranch("exponential",object$2({type:constant$2("exponential"),asymptote:pairOfPoints$2,coords:parseCoords$2})).withBranch("linear",object$2({type:constant$2("linear"),coords:parseCoords$2})).withBranch("logarithm",object$2({type:constant$2("logarithm"),asymptote:pairOfPoints$2,coords:parseCoords$2})).withBranch("quadratic",object$2({type:constant$2("quadratic"),coords:parseCoords$2})).withBranch("sinusoid",object$2({type:constant$2("sinusoid"),coords:parseCoords$2})).withBranch("tangent",object$2({type:constant$2("tangent"),coords:parseCoords$2})).parser,()=>({type:"linear",coords:null})),parseGrapherWidget$2=parseWidget$2(constant$2("grapher"),object$2({availableTypes:array$2(enumeration$2("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:parseCorrect$2,graph:object$2({backgroundImage:object$2({bottom:optional$2(number$3),height:optional$2(number$3),left:optional$2(number$3),scale:optional$2(number$3),url:optional$2(nullable$2(string$3)),width:optional$2(number$3)}),box:optional$2(pairOfNumbers$3$2),editableSettings:optional$2(array$2(enumeration$2("graph","snap","image","measure"))),gridStep:optional$2(pairOfNumbers$3$2),labels:pair$2(string$3,string$3),markings:enumeration$2("graph","none","grid","axes"),range:pair$2(pairOfNumbers$3$2,pairOfNumbers$3$2),rulerLabel:constant$2(""),rulerTicks:number$3,showProtractor:optional$2(boolean$2),showRuler:optional$2(boolean$2),showTooltips:optional$2(boolean$2),snapStep:optional$2(pairOfNumbers$3$2),step:pairOfNumbers$3$2,valid:optional$2(union$2(boolean$2).or(string$3).parser)})})),parseGroupWidget$2=parseWidget$2(constant$2("group"),(e,t)=>parsePerseusRenderer$2(e,t)),parseIframeWidget$2=parseWidget$2(constant$2("iframe"),object$2({url:string$3,settings:optional$2(array$2(object$2({name:string$3,value:string$3}))),width:union$2(number$3).or(string$3).parser,height:union$2(number$3).or(string$3).parser,allowFullScreen:defaulted$2(boolean$2,()=>!1),allowTopNavigation:optional$2(boolean$2),static:defaulted$2(boolean$2,()=>!1)})),stringToNumber$2=(e,t)=>{if("number"==typeof e)return t.success(e);const r=+e;return""===e||isNaN(r)?t.failure("a number or numeric string",e):t.success(r)};function emptyToZero$2(e){return""===e?0:e}const imageDimensionToNumber$2=pipeParsers$2(union$2(number$3).or(string$3).parser).then(convert$2(emptyToZero$2)).then(stringToNumber$2).parser,dimensionOrUndefined$2=defaulted$2(optional$2(imageDimensionToNumber$2),()=>{}),parsePerseusImageBackground$2=object$2({url:optional$2(nullable$2(string$3)),width:dimensionOrUndefined$2,height:dimensionOrUndefined$2,top:dimensionOrUndefined$2,left:dimensionOrUndefined$2,bottom:dimensionOrUndefined$2,scale:dimensionOrUndefined$2}),pairOfNumbers$2$2=pair$2(number$3,number$3),parseImageWidget$2=parseWidget$2(constant$2("image"),object$2({title:optional$2(string$3),caption:optional$2(string$3),alt:optional$2(string$3),backgroundImage:parsePerseusImageBackground$2,static:optional$2(boolean$2),labels:optional$2(array$2(object$2({content:string$3,alignment:string$3,coordinates:array$2(number$3)}))),range:optional$2(pair$2(pairOfNumbers$2$2,pairOfNumbers$2$2)),box:optional$2(pairOfNumbers$2$2)})),booleanToString$2=(e,t)=>"boolean"==typeof e?t.success(String(e)):t.failure("boolean",e),parseInputNumberWidget$2=parseWidget$2(constant$2("input-number"),object$2({answerType:optional$2(enumeration$2("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:optional$2(boolean$2),maxError:optional$2(union$2(number$3).or(string$3).parser),rightAlign:optional$2(boolean$2),simplify:enumeration$2("required","optional","enforced"),size:enumeration$2("normal","small"),value:defaulted$2(union$2(number$3).or(string$3).or(booleanToString$2).parser,()=>0),customKeypad:optional$2(boolean$2)})),pairOfNumbers$1$2=pair$2(number$3,number$3),stringOrEmpty$2=defaulted$2(string$3,()=>""),parseKey$2=pipeParsers$2(optional$2(string$3)).then(convert$2(String)).parser,parseFunctionElement$2=object$2({type:constant$2("function"),key:parseKey$2,options:object$2({value:string$3,funcName:string$3,rangeMin:string$3,rangeMax:string$3,color:string$3,strokeDasharray:string$3,strokeWidth:number$3})}),parseLabelElement$2=object$2({type:constant$2("label"),key:parseKey$2,options:object$2({label:string$3,color:string$3,coordX:string$3,coordY:string$3})}),parseLineElement$2=object$2({type:constant$2("line"),key:parseKey$2,options:object$2({color:string$3,startX:string$3,startY:string$3,endX:string$3,endY:string$3,strokeDasharray:string$3,strokeWidth:number$3,arrows:string$3})}),parseMovableLineElement$2=object$2({type:constant$2("movable-line"),key:parseKey$2,options:object$2({startX:string$3,startY:string$3,startSubscript:number$3,endX:string$3,endY:string$3,endSubscript:number$3,constraint:string$3,snap:number$3,constraintFn:string$3,constraintXMin:string$3,constraintXMax:string$3,constraintYMin:string$3,constraintYMax:string$3})}),parseMovablePointElement$2=object$2({type:constant$2("movable-point"),key:parseKey$2,options:object$2({startX:string$3,startY:string$3,varSubscript:number$3,constraint:string$3,snap:number$3,constraintFn:string$3,constraintXMin:stringOrEmpty$2,constraintXMax:stringOrEmpty$2,constraintYMin:stringOrEmpty$2,constraintYMax:stringOrEmpty$2})}),parseParametricElement$2=object$2({type:constant$2("parametric"),key:parseKey$2,options:object$2({x:string$3,y:string$3,rangeMin:string$3,rangeMax:string$3,color:string$3,strokeDasharray:string$3,strokeWidth:number$3})}),parsePointElement$2=object$2({type:constant$2("point"),key:parseKey$2,options:object$2({color:string$3,coordX:string$3,coordY:string$3})}),parseRectangleElement$2=object$2({type:constant$2("rectangle"),key:parseKey$2,options:object$2({color:string$3,coordX:string$3,coordY:string$3,width:string$3,height:string$3})}),parseInteractionWidget$2=parseWidget$2(constant$2("interaction"),object$2({static:defaulted$2(boolean$2,()=>!1),graph:object$2({editableSettings:optional$2(array$2(enumeration$2("canvas","graph"))),box:pairOfNumbers$1$2,labels:array$2(string$3),range:pair$2(pairOfNumbers$1$2,pairOfNumbers$1$2),gridStep:pairOfNumbers$1$2,markings:enumeration$2("graph","grid","none","axes"),snapStep:optional$2(pairOfNumbers$1$2),valid:optional$2(union$2(boolean$2).or(string$3).parser),backgroundImage:optional$2(parsePerseusImageBackground$2),showProtractor:optional$2(boolean$2),showRuler:optional$2(boolean$2),rulerLabel:optional$2(string$3),rulerTicks:optional$2(number$3),tickStep:pairOfNumbers$1$2}),elements:array$2(discriminatedUnionOn$2("type").withBranch("function",parseFunctionElement$2).withBranch("label",parseLabelElement$2).withBranch("line",parseLineElement$2).withBranch("movable-line",parseMovableLineElement$2).withBranch("movable-point",parseMovablePointElement$2).withBranch("parametric",parseParametricElement$2).withBranch("point",parsePointElement$2).withBranch("rectangle",parseRectangleElement$2).parser)})),lockedFigureColorNames$2=["blue","green","grayH","purple","pink","orange","red"],plotterPlotTypes$2=["bar","line","pic","histogram","dotplot"],pairOfNumbers$5=pair$2(number$3,number$3),parsePerseusGraphTypeAngle$2=object$2({type:constant$2("angle"),showAngles:optional$2(boolean$2),allowReflexAngles:optional$2(boolean$2),angleOffsetDeg:optional$2(number$3),snapDegrees:optional$2(number$3),match:optional$2(constant$2("congruent")),coords:optional$2(trio$2(pairOfNumbers$5,pairOfNumbers$5,pairOfNumbers$5)),startCoords:optional$2(trio$2(pairOfNumbers$5,pairOfNumbers$5,pairOfNumbers$5))}),parsePerseusGraphTypeCircle$2=object$2({type:constant$2("circle"),center:optional$2(pairOfNumbers$5),radius:optional$2(number$3),startCoords:optional$2(object$2({center:pairOfNumbers$5,radius:number$3}))}),parsePerseusGraphTypeLinear$2=object$2({type:constant$2("linear"),coords:optional$2(nullable$2(pair$2(pairOfNumbers$5,pairOfNumbers$5))),startCoords:optional$2(pair$2(pairOfNumbers$5,pairOfNumbers$5))}),parsePerseusGraphTypeLinearSystem$2=object$2({type:constant$2("linear-system"),coords:optional$2(nullable$2(array$2(pair$2(pairOfNumbers$5,pairOfNumbers$5)))),startCoords:optional$2(array$2(pair$2(pairOfNumbers$5,pairOfNumbers$5)))}),parsePerseusGraphTypeNone$2=object$2({type:constant$2("none")}),parsePerseusGraphTypePoint$2=object$2({type:constant$2("point"),numPoints:optional$2(union$2(number$3).or(constant$2("unlimited")).parser),coords:optional$2(nullable$2(array$2(pairOfNumbers$5))),startCoords:optional$2(array$2(pairOfNumbers$5)),coord:optional$2(pairOfNumbers$5)}),parsePerseusGraphTypePolygon$2=object$2({type:constant$2("polygon"),numSides:optional$2(union$2(number$3).or(constant$2("unlimited")).parser),showAngles:optional$2(boolean$2),showSides:optional$2(boolean$2),snapTo:optional$2(enumeration$2("grid","angles","sides")),match:optional$2(enumeration$2("similar","congruent","approx","exact")),startCoords:optional$2(array$2(pairOfNumbers$5)),coords:optional$2(nullable$2(array$2(pairOfNumbers$5)))}),parsePerseusGraphTypeQuadratic$2=object$2({type:constant$2("quadratic"),coords:optional$2(nullable$2(trio$2(pairOfNumbers$5,pairOfNumbers$5,pairOfNumbers$5))),startCoords:optional$2(trio$2(pairOfNumbers$5,pairOfNumbers$5,pairOfNumbers$5))}),parsePerseusGraphTypeRay$2=object$2({type:constant$2("ray"),coords:optional$2(nullable$2(pair$2(pairOfNumbers$5,pairOfNumbers$5))),startCoords:optional$2(pair$2(pairOfNumbers$5,pairOfNumbers$5))}),parsePerseusGraphTypeSegment$2=object$2({type:constant$2("segment"),numSegments:optional$2(number$3),coords:optional$2(nullable$2(array$2(pair$2(pairOfNumbers$5,pairOfNumbers$5)))),startCoords:optional$2(array$2(pair$2(pairOfNumbers$5,pairOfNumbers$5)))}),parsePerseusGraphTypeSinusoid$2=object$2({type:constant$2("sinusoid"),coords:optional$2(nullable$2(array$2(pairOfNumbers$5))),startCoords:optional$2(array$2(pairOfNumbers$5))}),parsePerseusGraphType$2=discriminatedUnionOn$2("type").withBranch("angle",parsePerseusGraphTypeAngle$2).withBranch("circle",parsePerseusGraphTypeCircle$2).withBranch("linear",parsePerseusGraphTypeLinear$2).withBranch("linear-system",parsePerseusGraphTypeLinearSystem$2).withBranch("none",parsePerseusGraphTypeNone$2).withBranch("point",parsePerseusGraphTypePoint$2).withBranch("polygon",parsePerseusGraphTypePolygon$2).withBranch("quadratic",parsePerseusGraphTypeQuadratic$2).withBranch("ray",parsePerseusGraphTypeRay$2).withBranch("segment",parsePerseusGraphTypeSegment$2).withBranch("sinusoid",parsePerseusGraphTypeSinusoid$2).parser,parseLockedFigureColor$2=enumeration$2(...lockedFigureColorNames$2),parseLockedFigureFillType$2=enumeration$2("none","white","translucent","solid"),parseLockedLineStyle$2=enumeration$2("solid","dashed"),parseStrokeWeight$2=defaulted$2(enumeration$2("medium","thin","thick"),()=>"medium"),parseLockedLabelType$2=object$2({type:constant$2("label"),coord:pairOfNumbers$5,text:string$3,color:parseLockedFigureColor$2,size:enumeration$2("small","medium","large")}),parseLockedPointType$2=object$2({type:constant$2("point"),coord:pairOfNumbers$5,color:parseLockedFigureColor$2,filled:boolean$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedLineType$2=object$2({type:constant$2("line"),kind:enumeration$2("line","ray","segment"),points:pair$2(parseLockedPointType$2,parseLockedPointType$2),color:parseLockedFigureColor$2,lineStyle:parseLockedLineStyle$2,showPoint1:defaulted$2(boolean$2,()=>!1),showPoint2:defaulted$2(boolean$2,()=>!1),weight:parseStrokeWeight$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedVectorType$2=object$2({type:constant$2("vector"),points:pair$2(pairOfNumbers$5,pairOfNumbers$5),color:parseLockedFigureColor$2,weight:parseStrokeWeight$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedEllipseType$2=object$2({type:constant$2("ellipse"),center:pairOfNumbers$5,radius:pairOfNumbers$5,angle:number$3,color:parseLockedFigureColor$2,fillStyle:parseLockedFigureFillType$2,strokeStyle:parseLockedLineStyle$2,weight:parseStrokeWeight$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedPolygonType$2=object$2({type:constant$2("polygon"),points:array$2(pairOfNumbers$5),color:parseLockedFigureColor$2,showVertices:boolean$2,fillStyle:parseLockedFigureFillType$2,strokeStyle:parseLockedLineStyle$2,weight:parseStrokeWeight$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedFunctionDomain$2=defaulted$2(pair$2(defaulted$2(number$3,()=>-1/0),defaulted$2(number$3,()=>1/0)),()=>[-1/0,1/0]),parseLockedFunctionType$2=object$2({type:constant$2("function"),color:parseLockedFigureColor$2,strokeStyle:parseLockedLineStyle$2,weight:parseStrokeWeight$2,equation:string$3,directionalAxis:enumeration$2("x","y"),domain:parseLockedFunctionDomain$2,labels:defaulted$2(array$2(parseLockedLabelType$2),()=>[]),ariaLabel:optional$2(string$3)}),parseLockedFigure$2=discriminatedUnionOn$2("type").withBranch("point",parseLockedPointType$2).withBranch("line",parseLockedLineType$2).withBranch("vector",parseLockedVectorType$2).withBranch("ellipse",parseLockedEllipseType$2).withBranch("polygon",parseLockedPolygonType$2).withBranch("function",parseLockedFunctionType$2).withBranch("label",parseLockedLabelType$2).parser,parseLabelLocation$2=union$2(enumeration$2("onAxis","alongEdge")).or(pipeParsers$2(constant$2("")).then(convert$2(()=>"onAxis")).parser).parser,parseInteractiveGraphWidget$2=parseWidget$2(constant$2("interactive-graph"),object$2({step:pairOfNumbers$5,gridStep:optional$2(pairOfNumbers$5),snapStep:optional$2(pairOfNumbers$5),backgroundImage:optional$2(parsePerseusImageBackground$2),markings:enumeration$2("graph","grid","none","axes"),labels:optional$2(array$2(string$3)),labelLocation:optional$2(parseLabelLocation$2),showProtractor:boolean$2,showRuler:optional$2(boolean$2),showTooltips:optional$2(boolean$2),rulerLabel:optional$2(string$3),rulerTicks:optional$2(number$3),range:pair$2(pairOfNumbers$5,pairOfNumbers$5),showAxisArrows:defaulted$2(object$2({xMin:boolean$2,xMax:boolean$2,yMin:boolean$2,yMax:boolean$2}),()=>({xMin:!0,xMax:!0,yMin:!0,yMax:!0})),graph:defaulted$2(parsePerseusGraphType$2,()=>({type:"linear"})),correct:defaulted$2(parsePerseusGraphType$2,()=>({type:"linear"})),lockedFigures:defaulted$2(array$2(parseLockedFigure$2),()=>[]),fullGraphAriaLabel:optional$2(string$3),fullGraphAriaDescription:optional$2(string$3)})),parseLabelImageWidget$2=parseWidget$2(constant$2("label-image"),object$2({choices:array$2(string$3),imageUrl:string$3,imageAlt:string$3,imageHeight:number$3,imageWidth:number$3,markers:array$2(object$2({answers:array$2(string$3),label:string$3,x:number$3,y:number$3})),hideChoicesFromInstructions:boolean$2,multipleAnswers:boolean$2,static:defaulted$2(boolean$2,()=>!1)})),matcherOptions$2=object$2({labels:array$2(string$3),left:array$2(string$3),right:array$2(string$3),orderMatters:boolean$2,padding:boolean$2});function getDefaultOptions$1$2(){return{left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0}}const parseMatcherWidget$2=parseWidget$2(constant$2("matcher"),defaulted$2(matcherOptions$2,getDefaultOptions$1$2)),numberOrString$2=union$2(number$3).or(string$3).parser,numeric$3=pipeParsers$2(defaulted$2(numberOrString$2,()=>NaN)).then(stringToNumber$2).parser,parseMatrixWidget$2=parseWidget$2(defaulted$2(constant$2("matrix"),()=>"matrix"),object$2({prefix:optional$2(string$3),suffix:optional$2(string$3),answers:defaulted$2(array$2(array$2(numeric$3)),()=>[]),cursorPosition:optional$2(array$2(number$3)),matrixBoardSize:array$2(number$3),static:optional$2(boolean$2)})),parseMeasurerWidget$2=parseWidget$2(constant$2("measurer"),object$2({image:defaulted$2(parsePerseusImageBackground$2,()=>({url:null,top:0,left:0})),showProtractor:boolean$2,showRuler:boolean$2,rulerLabel:string$3,rulerTicks:number$3,rulerPixels:number$3,rulerLength:number$3,box:pair$2(number$3,number$3)})),parseMoleculeRendererWidget$2=parseWidget$2(constant$2("molecule-renderer"),object$2({widgetId:string$3,rotationAngle:optional$2(number$3),smiles:optional$2(string$3)})),emptyStringToNull$2=pipeParsers$2(constant$2("")).then(convert$2(()=>null)).parser,parseNumberLineWidget$2=parseWidget$2(constant$2("number-line"),object$2({range:array$2(number$3),labelRange:array$2(nullable$2(union$2(number$3).or(emptyStringToNull$2).parser)),labelStyle:string$3,labelTicks:boolean$2,isTickCtrl:defaulted$2(boolean$2,()=>!1),isInequality:defaulted$2(boolean$2,()=>!1),divisionRange:array$2(number$3),numDivisions:optional$2(nullable$2(number$3)),snapDivisions:defaulted$2(number$3,()=>2),tickStep:optional$2(nullable$2(number$3)),correctRel:defaulted$2(optional$2(enumeration$2("eq","lt","gt","le","ge")),()=>{}),correctX:defaulted$2(nullable$2(number$3),()=>null),initialX:optional$2(nullable$2(number$3)),showTooltips:optional$2(boolean$2),static:defaulted$2(boolean$2,()=>!1)})),parseMathFormat$2=enumeration$2("integer","mixed","improper","proper","decimal","percent","pi"),parseSimplify$2=pipeParsers$2(union$2(constant$2(null)).or(constant$2(void 0)).or(boolean$2).or(constant$2("true")).or(constant$2("required")).or(constant$2("correct")).or(constant$2("enforced")).or(constant$2("optional")).or(constant$2("accepted")).parser).then(convert$2(deprecatedSimplifyValuesToRequired$2)).parser;function deprecatedSimplifyValuesToRequired$2(e){switch(e){case"enforced":case"required":case"optional":return e;default:return"required"}}const parseNumericInputWidget$2=parseWidget$2(constant$2("numeric-input"),object$2({answers:array$2(object$2({message:defaulted$2(string$3,()=>""),value:optional$2(nullable$2(number$3)),status:string$3,answerForms:defaulted$2(optional$2(array$2(parseMathFormat$2)),()=>{}),strict:defaulted$2(boolean$2,()=>!1),maxError:optional$2(nullable$2(number$3)),simplify:parseSimplify$2})),labelText:optional$2(string$3),size:string$3,coefficient:defaulted$2(boolean$2,()=>!1),rightAlign:optional$2(boolean$2),static:defaulted$2(boolean$2,()=>!1),answerForms:optional$2(array$2(object$2({name:parseMathFormat$2,simplify:parseSimplify$2})))}));function parseRenderer$2(e,t){return parsePerseusRenderer$2(e,t)}const largeToAuto$2=(e,t)=>"large"===e?t.success("auto"):t.success(e),parseOrdererWidget$2=parseWidget$2(constant$2("orderer"),object$2({options:defaulted$2(array$2(parseRenderer$2),()=>[]),correctOptions:defaulted$2(array$2(parseRenderer$2),()=>[]),otherOptions:defaulted$2(array$2(parseRenderer$2),()=>[]),height:pipeParsers$2(enumeration$2("normal","auto","large")).then(largeToAuto$2).parser,layout:defaulted$2(enumeration$2("horizontal","vertical"),()=>"horizontal")})),parsePassageRefWidget$2=parseWidget$2(constant$2("passage-ref"),object$2({passageNumber:number$3,referenceNumber:number$3,summaryText:optional$2(string$3)})),parsePassageWidget$2=parseWidget$2(constant$2("passage"),object$2({footnotes:defaulted$2(string$3,()=>""),passageText:string$3,passageTitle:defaulted$2(string$3,()=>""),showLineNumbers:boolean$2,static:defaulted$2(boolean$2,()=>!1)})),parsePhetSimulationWidget$2=parseWidget$2(constant$2("phet-simulation"),object$2({url:string$3,description:string$3})),parsePlotterWidget$2=parseWidget$2(constant$2("plotter"),object$2({labels:array$2(string$3),categories:array$2(string$3),type:enumeration$2(...plotterPlotTypes$2),maxY:number$3,scaleY:defaulted$2(number$3,()=>1),labelInterval:optional$2(nullable$2(number$3)),snapsPerLine:defaulted$2(number$3,()=>2),starting:array$2(number$3),correct:defaulted$2(array$2(number$3),()=>[]),picUrl:optional$2(nullable$2(string$3)),picSize:optional$2(nullable$2(number$3)),picBoxHeight:optional$2(nullable$2(number$3)),plotDimensions:defaulted$2(array$2(number$3),()=>[380,300])})),parsePythonProgramWidget$2=parseWidget$2(constant$2("python-program"),object$2({programID:string$3,height:number$3}));function deriveNumCorrect$2(e){return e.filter(e=>e.correct).length}const parseWidgetsMapOrUndefined$2=defaulted$2(optional$2((e,t)=>parseWidgetsMap$2(e,t)),()=>{});function getDefaultOptions$3(){return{choices:[{content:"",id:generateChoiceId$2(0)},{content:"",id:generateChoiceId$2(1)},{content:"",id:generateChoiceId$2(2)},{content:"",id:generateChoiceId$2(3)}]}}const parseOnePerLine$2=defaulted$2(optional$2(boolean$2),()=>{}),parseNoneOfTheAbove$2=defaulted$2(optional$2(constant$2(!1)),()=>{});function generateChoiceId$2(e){return`radio-choice-${e}`}const version3$2=optional$2(object$2({major:constant$2(3),minor:number$3})),parseRadioWidgetV3$2=parseWidgetWithVersion$2(version3$2,constant$2("radio"),object$2({numCorrect:optional$2(number$3),choices:arrayWithIndex$2(e=>object$2({content:defaulted$2(string$3,()=>""),rationale:optional$2(string$3),correct:optional$2(boolean$2),isNoneOfTheAbove:optional$2(boolean$2),id:defaultedNonEmptyString$2(()=>generateChoiceId$2(e))})),hasNoneOfTheAbove:optional$2(boolean$2),countChoices:optional$2(boolean$2),randomize:optional$2(boolean$2),multipleSelect:optional$2(boolean$2),deselectEnabled:optional$2(boolean$2)})),version2$3=optional$2(object$2({major:constant$2(2),minor:number$3})),parseRadioWidgetV2$2=parseWidgetWithVersion$2(version2$3,constant$2("radio"),defaulted$2(object$2({numCorrect:optional$2(number$3),choices:array$2(object$2({content:defaulted$2(string$3,()=>""),clue:optional$2(string$3),correct:optional$2(boolean$2),isNoneOfTheAbove:optional$2(boolean$2),widgets:parseWidgetsMapOrUndefined$2})),hasNoneOfTheAbove:optional$2(boolean$2),countChoices:optional$2(boolean$2),randomize:optional$2(boolean$2),multipleSelect:optional$2(boolean$2),deselectEnabled:optional$2(boolean$2),onePerLine:parseOnePerLine$2,displayCount:optional$2(any$2),noneOfTheAbove:parseNoneOfTheAbove$2}),getDefaultOptions$3)),version1$3=optional$2(object$2({major:constant$2(1),minor:number$3})),parseRadioWidgetV1$2=parseWidgetWithVersion$2(version1$3,constant$2("radio"),defaulted$2(object$2({choices:array$2(object$2({content:defaulted$2(string$3,()=>""),clue:optional$2(string$3),correct:optional$2(boolean$2),isNoneOfTheAbove:optional$2(boolean$2),widgets:parseWidgetsMapOrUndefined$2})),hasNoneOfTheAbove:optional$2(boolean$2),countChoices:optional$2(boolean$2),randomize:optional$2(boolean$2),multipleSelect:optional$2(boolean$2),deselectEnabled:optional$2(boolean$2),onePerLine:parseOnePerLine$2,displayCount:optional$2(any$2),noneOfTheAbove:parseNoneOfTheAbove$2}),getDefaultOptions$3)),version0$3=optional$2(object$2({major:constant$2(0),minor:number$3})),parseRadioWidgetV0$2=parseWidgetWithVersion$2(version0$3,constant$2("radio"),defaulted$2(object$2({choices:array$2(object$2({content:defaulted$2(string$3,()=>""),clue:optional$2(string$3),correct:optional$2(boolean$2),isNoneOfTheAbove:optional$2(boolean$2),widgets:parseWidgetsMapOrUndefined$2})),hasNoneOfTheAbove:optional$2(boolean$2),countChoices:optional$2(boolean$2),randomize:optional$2(boolean$2),multipleSelect:optional$2(boolean$2),deselectEnabled:optional$2(boolean$2),onePerLine:parseOnePerLine$2,displayCount:optional$2(any$2),noneOfTheAbove:parseNoneOfTheAbove$2}),getDefaultOptions$3));function migrateV2toV3$2(e){const{options:t}=e;return{...e,version:{major:3,minor:0},options:{numCorrect:t.numCorrect,hasNoneOfTheAbove:t.hasNoneOfTheAbove,countChoices:t.countChoices,randomize:t.randomize,multipleSelect:t.multipleSelect,deselectEnabled:t.deselectEnabled,choices:t.choices.map((e,t)=>({content:e.content,rationale:e.clue,correct:e.correct,isNoneOfTheAbove:e.isNoneOfTheAbove,id:generateChoiceId$2(t)}))}}}function migrateV1ToV2$3(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{...t,numCorrect:deriveNumCorrect$2(t.choices)}}}function migrateV0ToV1$3(e){const{options:t}=e,{noneOfTheAbove:r,...n}=t;return{...e,version:{major:1,minor:0},options:{...n,hasNoneOfTheAbove:!1,noneOfTheAbove:void 0}}}const parseRadioWidget$2=versionedWidgetOptions$2(3,parseRadioWidgetV3$2).withMigrationFrom(2,parseRadioWidgetV2$2,migrateV2toV3$2).withMigrationFrom(1,parseRadioWidgetV1$2,migrateV1ToV2$3).withMigrationFrom(0,parseRadioWidgetV0$2,migrateV0ToV1$3).parser,parseSorterWidget$2=parseWidget$2(constant$2("sorter"),object$2({correct:array$2(string$3),padding:boolean$2,layout:enumeration$2("horizontal","vertical")})),parseTableWidget$2=parseWidget$2(constant$2("table"),object$2({headers:array$2(string$3),rows:number$3,columns:number$3,answers:defaulted$2(array$2(array$2(string$3)),()=>[])})),parseVideoWidget$2=parseWidget$2(constant$2("video"),object$2({location:string$3,static:optional$2(boolean$2)})),parseStringToNonNegativeInt$2=(e,t)=>"string"==typeof e&&/^(0|[1-9][0-9]*)$/.test(e)?t.success(+e):t.failure("a string representing a non-negative integer",e),parseWidgetIdComponents$2=pair$2(string$3,parseStringToNonNegativeInt$2),parseWidgetsMap$2=(e,t)=>{if(!isPlainObject$2(e))return t.failure("PerseusWidgetsMap",e);const r={};for(const n of Object.keys(e)){const i=parseWidgetsMapEntry$2([n,e[n]],r,t.forSubtree(n));if(isFailure$2(i))return i}return t.success(r)},parseWidgetsMapEntry$2=([e,t],r,n)=>{const i=parseWidgetIdComponents$2(e.split(" "),n.forSubtree("(widget ID)"));if(isFailure$2(i))return i;const[o,a]=i.value;function s(e,i){const o=i(t,n);return isFailure$2(o)?o:(r[e]=o.value,n.success(void 0))}switch(o){case"categorizer":return s(`categorizer ${a}`,parseCategorizerWidget$2);case"cs-program":return s(`cs-program ${a}`,parseCSProgramWidget$2);case"definition":return s(`definition ${a}`,parseDefinitionWidget$2);case"dropdown":return s(`dropdown ${a}`,parseDropdownWidget$2);case"explanation":return s(`explanation ${a}`,parseExplanationWidget$2);case"expression":return s(`expression ${a}`,parseExpressionWidget$2);case"free-response":return s(`free-response ${a}`,parseFreeResponseWidget$2);case"grapher":return s(`grapher ${a}`,parseGrapherWidget$2);case"group":return s(`group ${a}`,parseGroupWidget$2);case"graded-group":return s(`graded-group ${a}`,parseGradedGroupWidget$2);case"graded-group-set":return s(`graded-group-set ${a}`,parseGradedGroupSetWidget$2);case"iframe":return s(`iframe ${a}`,parseIframeWidget$2);case"image":return s(`image ${a}`,parseImageWidget$2);case"input-number":return s(`input-number ${a}`,parseInputNumberWidget$2);case"interaction":return s(`interaction ${a}`,parseInteractionWidget$2);case"interactive-graph":return s(`interactive-graph ${a}`,parseInteractiveGraphWidget$2);case"label-image":return s(`label-image ${a}`,parseLabelImageWidget$2);case"matcher":return s(`matcher ${a}`,parseMatcherWidget$2);case"matrix":return s(`matrix ${a}`,parseMatrixWidget$2);case"measurer":return s(`measurer ${a}`,parseMeasurerWidget$2);case"molecule-renderer":return s(`molecule-renderer ${a}`,parseMoleculeRendererWidget$2);case"number-line":return s(`number-line ${a}`,parseNumberLineWidget$2);case"numeric-input":return s(`numeric-input ${a}`,parseNumericInputWidget$2);case"orderer":return s(`orderer ${a}`,parseOrdererWidget$2);case"passage":return s(`passage ${a}`,parsePassageWidget$2);case"passage-ref":return s(`passage-ref ${a}`,parsePassageRefWidget$2);case"passage-ref-target":return s(`passage-ref-target ${a}`,any$2);case"phet-simulation":return s(`phet-simulation ${a}`,parsePhetSimulationWidget$2);case"plotter":return s(`plotter ${a}`,parsePlotterWidget$2);case"python-program":return s(`python-program ${a}`,parsePythonProgramWidget$2);case"radio":return s(`radio ${a}`,parseRadioWidget$2);case"sorter":return s(`sorter ${a}`,parseSorterWidget$2);case"table":return s(`table ${a}`,parseTableWidget$2);case"video":return s(`video ${a}`,parseVideoWidget$2);case"sequence":return s(`sequence ${a}`,parseDeprecatedWidget$2);case"lights-puzzle":return s(`lights-puzzle ${a}`,parseDeprecatedWidget$2);case"simulator":return s(`simulator ${a}`,parseDeprecatedWidget$2);case"transformer":return s(`transformer ${a}`,parseDeprecatedWidget$2);default:return s(`${o} ${a}`,parseWidget$2(constant$2(o),any$2))}},parseDeprecatedWidget$2=parseWidget$2((e,t)=>t.success("deprecated-standin"),object$2({})),parsePerseusRenderer$2=defaulted$2(object$2({content:defaulted$2(string$3,()=>""),widgets:defaulted$2((e,t)=>parseWidgetsMap$2(e,t),()=>({})),images:parseImages$2,metadata:any$2}),()=>({content:"",widgets:{},images:{}}));function toAnswerArea$2(e){return{calculator:!!e.calculator,financialCalculatorMonthlyPayment:!!e.financialCalculatorMonthlyPayment,financialCalculatorTotalAmount:!!e.financialCalculatorTotalAmount,financialCalculatorTimeToPayOff:!!e.financialCalculatorTimeToPayOff,periodicTable:!!e.periodicTable,periodicTableWithKey:!!e.periodicTableWithKey}}union$2(parsePerseusRenderer$2).or(array$2(parsePerseusRenderer$2)).parser,pipeParsers$2(defaulted$2(object$2({}),()=>({}))).then(convert$2(toAnswerArea$2)).parser,object$2({status:enumeration$2("correct","incorrect","incomplete"),message:nullable$2(string$3)});const coord$2=pair$2(number$3,number$3),coordPair$2=pair$2(coord$2,coord$2),parseAbsoluteValueBranch$2=object$2({type:constant$2("absolute_value"),coords:nullable$2(coordPair$2)}),parseExponentialBranch$2=object$2({type:constant$2("exponential"),asymptote:coordPair$2,coords:nullable$2(coordPair$2)}),parseLinearBranch$2=object$2({type:constant$2("linear"),coords:nullable$2(coordPair$2)}),parseLogarithmBranch$2=object$2({type:constant$2("logarithm"),asymptote:coordPair$2,coords:nullable$2(coordPair$2)}),parseQuadraticBranch$2=object$2({type:constant$2("quadratic"),coords:nullable$2(coordPair$2)}),parseSinusoidBranch$2=object$2({type:constant$2("sinusoid"),coords:nullable$2(coordPair$2)}),parseTangentBranch$2=object$2({type:constant$2("tangent"),coords:nullable$2(coordPair$2)});discriminatedUnionOn$2("type").withBranch("absolute_value",parseAbsoluteValueBranch$2).withBranch("exponential",parseExponentialBranch$2).withBranch("linear",parseLinearBranch$2).withBranch("logarithm",parseLogarithmBranch$2).withBranch("quadratic",parseQuadraticBranch$2).withBranch("sinusoid",parseSinusoidBranch$2).withBranch("tangent",parseTangentBranch$2).parser,object$2({status:enumeration$2("correct","incorrect","incomplete"),message:optional$2(nullable$2(string$3))}),object$2({numLinePosition:number$3,rel:enumeration$2("eq","lt","gt","le","ge"),numDivisions:number$3});const libName$8="@khanacademy/perseus-core",libVersion$8="19.0.2";addLibraryVersionToPerseusDebug$5(libName$8,libVersion$8);const Errors$2=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",NotAllowed:"NotAllowed",TransientService:"TransientService",Service:"Service"});let PerseusError$2=class extends Error{constructor(e,t,r){super(e),this.kind=t,this.metadata=r?.metadata}};const mapObject$2=function(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=t(e[n],n)}),r};function getCategorizerPublicWidgetOptions$2(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const defaultWidgetOptions$w$2={items:[],categories:[],values:[],randomizeItems:!1},categorizerWidgetLogic$2={name:"categorizer",defaultWidgetOptions:defaultWidgetOptions$w$2,getPublicWidgetOptions:getCategorizerPublicWidgetOptions$2,accessible:!1};function getCSProgramPublicWidgetOptions$2(e){return e}const DEFAULT_HEIGHT$2=400,defaultWidgetOptions$v$2={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:DEFAULT_HEIGHT$2},csProgramWidgetLogic$2={name:"cs-program",defaultWidgetOptions:defaultWidgetOptions$v$2,supportedAlignments:["block","full-width"],getPublicWidgetOptions:getCSProgramPublicWidgetOptions$2,accessible:!1},defaultWidgetOptions$u$2={togglePrompt:"",definition:""},definitionWidgetLogic$2={name:"definition",defaultWidgetOptions:defaultWidgetOptions$u$2,defaultAlignment:"inline",accessible:!0};function getDropdownPublicWidgetOptions$2(e){return{choices:e.choices.map(e=>({content:e.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const defaultWidgetOptions$t$2={placeholder:"",choices:[{content:"",correct:!1}]},dropdownWidgetLogic$2={name:"dropdown",defaultWidgetOptions:defaultWidgetOptions$t$2,defaultAlignment:"inline-block",getPublicWidgetOptions:getDropdownPublicWidgetOptions$2,accessible:!0},defaultWidgetOptions$s$2={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}},explanationWidgetLogic$2={name:"explanation",defaultWidgetOptions:defaultWidgetOptions$s$2,defaultAlignment:"inline",accessible:!0};function getExpressionPublicWidgetOptions$2(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible,extraKeys:e.extraKeys}}const currentVersion$3$2={major:2,minor:0},defaultWidgetOptions$r$2={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]},expressionWidgetLogic$2={name:"expression",version:currentVersion$3$2,defaultWidgetOptions:defaultWidgetOptions$r$2,defaultAlignment:"inline-block",getPublicWidgetOptions:getExpressionPublicWidgetOptions$2,accessible:!0},defaultWidgetOptions$q$2={title:"",content:"",widgets:{},images:{},hint:null},traverseChildWidgets$3$2=function(e,t){return{...e,...t(e)}},gradedGroupWidgetLogic$2={name:"graded-group",defaultWidgetOptions:defaultWidgetOptions$q$2,accessible:!0,traverseChildWidgets:traverseChildWidgets$3$2},defaultWidgetOptions$o$2={gradedGroups:[]},traverseChildWidgets$2$2=function(e,t){return{...e,...t(e)}},gradedGroupSetWidgetLogic$2={name:"graded-group-set",defaultWidgetOptions:defaultWidgetOptions$o$2,accessible:!0,traverseChildWidgets:traverseChildWidgets$2$2};function getGrapherPublicWidgetOptions$2(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$n$2={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},grapherWidgetLogic$2={name:"grapher",defaultWidgetOptions:defaultWidgetOptions$n$2,getPublicWidgetOptions:getGrapherPublicWidgetOptions$2,accessible:!1};let Registry$2=class{throwIfUnregistered(){if(!this.anythingRegistered)throw new Error(`${this.name} accessed before initialization!`)}has(e){return this.throwIfUnregistered(),Object.prototype.hasOwnProperty.call(this.contents,e)}get(e){return this.throwIfUnregistered(),this.contents[e]}keys(){return this.throwIfUnregistered(),Object.keys(this.contents)}entries(){return this.throwIfUnregistered(),Object.entries(this.contents)}set(e,t){this.anythingRegistered=!0,this.contents[e]=t}constructor(e="Registry"){this.contents={},this.anythingRegistered=!1,this.name=e}};const deprecatedStandinWidgetLogic$2={name:"deprecated-standin",accessible:!0};function getIFramePublicWidgetOptions$2(e){return e}const defaultWidgetOptions$m$2={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},iframeWidgetLogic$2={name:"iframe",defaultWidgetOptions:defaultWidgetOptions$m$2,getPublicWidgetOptions:getIFramePublicWidgetOptions$2,accessible:!1},defaultWidgetOptions$l$2={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},imageWidgetLogic$2={name:"image",defaultWidgetOptions:defaultWidgetOptions$l$2,supportedAlignments:["block","full-width"],defaultAlignment:"block",accessible:e=>{const t=e;return!(null!=t.backgroundImage.url&&!t.alt)}};function getInputNumberPublicWidgetOptions$2(e){const{value:t,...r}=e;return r}const defaultWidgetOptions$k$2={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},inputNumberWidgetLogic$2={name:"input-number",defaultWidgetOptions:defaultWidgetOptions$k$2,defaultAlignment:"inline-block",accessible:!1,getPublicWidgetOptions:getInputNumberPublicWidgetOptions$2},defaultWidgetOptions$j$2={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},interactionWidgetLogic$2={name:"interaction",defaultWidgetOptions:defaultWidgetOptions$j$2,accessible:!1},svgLabelsRegex$2=/^web\+graphie:/,svgLocalLabelsRegex$2=/^file\+graphie:/;function isLabeledSVG$2(e){return svgLabelsRegex$2.test(e)||svgLocalLabelsRegex$2.test(e)}function getInteractiveGraphPublicWidgetOptions$2(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$i$2={labels:["x","y"],labelLocation:"onAxis",range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},interactiveGraphWidgetLogic$2={name:"interactive-graph",defaultWidgetOptions:defaultWidgetOptions$i$2,getPublicWidgetOptions:getInteractiveGraphPublicWidgetOptions$2,accessible:e=>{const t=e;return!t.showProtractor&&(!t.backgroundImage?.url||!isLabeledSVG$2(t.backgroundImage?.url))}};function getLabelImagePublicWidgetOptions$2(e){return{...e,markers:e.markers.map(getLabelImageMarkerPublicData$2)}}function getLabelImageMarkerPublicData$2(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$h$2={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},labelImageWidgetLogic$2={name:"label-image",defaultWidgetOptions:defaultWidgetOptions$h$2,getPublicWidgetOptions:getLabelImagePublicWidgetOptions$2,accessible:e=>{const t=e;return""===t.imageUrl||""!==t.imageAlt}},seededRNG$2=function(e){let t=e;return function(){let e=t;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(t=268435455&e)/268435456}};function getMatcherPublicWidgetOptions$2(e){return{...e,left:e.orderMatters?sortAllButFirst$1$2(e.left):e.left,right:sortAllButFirst$1$2(e.right)}}function sortAllButFirst$1$2([e,...t]){return[e,...t.sort()]}seededRNG$2(4294967295&(new Date).getTime());const defaultWidgetOptions$g$2={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},matcherWidgetLogic$2={name:"matcher",defaultWidgetOptions:defaultWidgetOptions$g$2,getPublicWidgetOptions:getMatcherPublicWidgetOptions$2,accessible:!1};function getMatrixPublicWidgetOptions$2(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$f$2={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},matrixWidgetLogic$2={name:"matrix",defaultWidgetOptions:defaultWidgetOptions$f$2,getPublicWidgetOptions:getMatrixPublicWidgetOptions$2,accessible:!1},currentVersion$2$2={major:1,minor:0},defaultWidgetOptions$e$2={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},measurerWidgetLogic$2={name:"measurer",version:currentVersion$2$2,defaultWidgetOptions:defaultWidgetOptions$e$2,accessible:!1};function getNumberLinePublicWidgetOptions$2(e){const{correctX:t,correctRel:r,...n}=e;return n}const defaultWidgetOptions$d$2={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},numberLineWidgetLogic$2={name:"number-line",defaultWidgetOptions:defaultWidgetOptions$d$2,getPublicWidgetOptions:getNumberLinePublicWidgetOptions$2,accessible:!1};function getNumericInputAnswerPublicData$2(e){const{answerForms:t,simplify:r,status:n}=e;return{answerForms:t,simplify:r,status:n}}function getNumericInputPublicWidgetOptions$2(e){const{answers:t,...r}=e;return{...r,answers:t.map(getNumericInputAnswerPublicData$2)}}const defaultWidgetOptions$c$2={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},numericInputWidgetLogic$2={name:"numeric-input",defaultWidgetOptions:defaultWidgetOptions$c$2,defaultAlignment:"inline-block",getPublicWidgetOptions:getNumericInputPublicWidgetOptions$2,accessible:!0};function getOrdererPublicWidgetOptions$2(e){const{options:t,height:r,layout:n}=e;return{options:t,height:r,layout:n}}const defaultWidgetOptions$b$2={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},ordererWidgetLogic$2={name:"orderer",defaultWidgetOptions:defaultWidgetOptions$b$2,getPublicWidgetOptions:getOrdererPublicWidgetOptions$2,accessible:!1},defaultWidgetOptions$a$2={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},passageWidgetLogic$2={name:"passage",defaultWidgetOptions:defaultWidgetOptions$a$2,accessible:!1},currentVersion$1$2={major:0,minor:1},defaultWidgetOptions$9$2={passageNumber:1,referenceNumber:1,summaryText:""},passageRefWidgetLogic$2={name:"passage-ref",version:currentVersion$1$2,defaultWidgetOptions:defaultWidgetOptions$9$2,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$8$2={content:""},passageRefTargetWidgetLogic$2={name:"passage-ref-target",defaultWidgetOptions:defaultWidgetOptions$8$2,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$7$2={url:"",description:""},phetSimulationWidgetLogic$2={name:"phet-simulation",defaultWidgetOptions:defaultWidgetOptions$7$2,accessible:!0};function getPlotterPublicWidgetOptions$2(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$6$2={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},plotterWidgetLogic$2={name:"plotter",defaultWidgetOptions:defaultWidgetOptions$6$2,getPublicWidgetOptions:getPlotterPublicWidgetOptions$2,accessible:!1},defaultWidgetOptions$5$2={programID:"",height:400},pythonProgramWidgetLogic$2={name:"python-program",defaultWidgetOptions:defaultWidgetOptions$5$2,accessible:!0};function getRadioChoicePublicData$2(e){const{id:t,content:r,isNoneOfTheAbove:n}=e;return{id:t,content:r,isNoneOfTheAbove:n}}function usesNumCorrect$2(e,t,r){return e&&t&&r}function getRadioPublicWidgetOptions$2(e){const{numCorrect:t,choices:r,multipleSelect:n,countChoices:i}=e;return{...e,numCorrect:usesNumCorrect$2(n,i,t)?t:void 0,choices:r.map(getRadioChoicePublicData$2)}}const currentVersion$5={major:2,minor:0},defaultWidgetOptions$4$2={choices:[{content:"",id:"radio-choice-0"},{content:"",id:"radio-choice-1"},{content:"",id:"radio-choice-2"},{content:"",id:"radio-choice-3"}],randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1},radioWidgetLogic$2={name:"radio",version:currentVersion$5,defaultWidgetOptions:defaultWidgetOptions$4$2,getPublicWidgetOptions:getRadioPublicWidgetOptions$2,accessible:!0};function getSorterPublicWidgetOptions$2(e){return{...e,correct:sortAllButFirst$3(e.correct)}}function sortAllButFirst$3([e,...t]){return[e,...t.sort()]}const defaultWidgetOptions$3$2={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},sorterWidgetLogic$2={name:"sorter",defaultWidgetOptions:defaultWidgetOptions$3$2,getPublicWidgetOptions:getSorterPublicWidgetOptions$2,accessible:!1};function getTablePublicWidgetOptions$2(e){const{answers:t,...r}=e;return r}const defaultRows$2=4,defaultColumns$2=1,answers$2=new Array(defaultRows$2).fill(0).map(()=>new Array(defaultColumns$2).fill("")),defaultWidgetOptions$2$2={headers:[""],rows:defaultRows$2,columns:defaultColumns$2,answers:answers$2},tableWidgetLogic$2={name:"table",defaultWidgetOptions:defaultWidgetOptions$2$2,getPublicWidgetOptions:getTablePublicWidgetOptions$2,accessible:!0},defaultWidgetOptions$1$2={location:""},videoWidgetLogic$2={name:"video",defaultWidgetOptions:defaultWidgetOptions$1$2,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block",accessible:!0},widgets$3=new Registry$2("Core widget registry");function registerWidget$3(e,t){widgets$3.set(e,t)}function isWidgetRegistered$2(e){const t=widgets$3.get(e);return Boolean(t)}function getCurrentVersion$2(e){const t=widgets$3.get(e);return t?.version||{major:0,minor:0}}const getPublicWidgetOptionsFunction$2=e=>widgets$3.get(e)?.getPublicWidgetOptions??(e=>e);function getDefaultWidgetOptions$2(e){const t=widgets$3.get(e);return t?.defaultWidgetOptions||{}}function isAccessible$1(e,t){const r=widgets$3.get(e)?.accessible;return"function"==typeof r?r(t):!!r}const traverseChildWidgets$1$1=(e,t)=>{if(!t)throw new PerseusError$2("traverseRenderer must be provided, but was not",Errors$2.Internal);if(!e||!e.type||!widgets$3.get(e.type))return e;const r=widgets$3.get(e.type),n=e.options;if(null!=r?.traverseChildWidgets&&null!=n){const i=r.traverseChildWidgets(n,t);return{...e,options:i}}return e},getSupportedAlignments$2=e=>{const t=widgets$3.get(e);return t?.supportedAlignments?.[0]?t?.supportedAlignments:["default"]},getDefaultAlignment$1=e=>{const t=widgets$3.get(e);return t?.defaultAlignment?t.defaultAlignment:"block"};function registerCoreWidgets$2(){[categorizerWidgetLogic$2,csProgramWidgetLogic$2,definitionWidgetLogic$2,deprecatedStandinWidgetLogic$2,dropdownWidgetLogic$2,explanationWidgetLogic$2,expressionWidgetLogic$2,gradedGroupWidgetLogic$2,gradedGroupSetWidgetLogic$2,grapherWidgetLogic$2,groupWidgetLogic$2,iframeWidgetLogic$2,imageWidgetLogic$2,inputNumberWidgetLogic$2,interactionWidgetLogic$2,interactiveGraphWidgetLogic$2,labelImageWidgetLogic$2,matcherWidgetLogic$2,matrixWidgetLogic$2,measurerWidgetLogic$2,numberLineWidgetLogic$2,numericInputWidgetLogic$2,ordererWidgetLogic$2,passageWidgetLogic$2,passageRefWidgetLogic$2,passageRefTargetWidgetLogic$2,phetSimulationWidgetLogic$2,plotterWidgetLogic$2,pythonProgramWidgetLogic$2,radioWidgetLogic$2,sorterWidgetLogic$2,tableWidgetLogic$2,videoWidgetLogic$2].forEach(e=>{registerWidget$3(e.name,e)})}var coreWidgetRegistry$1=Object.freeze({__proto__:null,getCurrentVersion:getCurrentVersion$2,getDefaultAlignment:getDefaultAlignment$1,getDefaultWidgetOptions:getDefaultWidgetOptions$2,getPublicWidgetOptionsFunction:getPublicWidgetOptionsFunction$2,getSupportedAlignments:getSupportedAlignments$2,isAccessible:isAccessible$1,isWidgetRegistered:isWidgetRegistered$2,registerCoreWidgets:registerCoreWidgets$2,registerWidget:registerWidget$3,traverseChildWidgets:traverseChildWidgets$1$1});const DEFAULT_STATIC$2=!1,applyDefaultsToWidget$2=e=>{const t=e.type;if(!_.isString(t))throw new PerseusError$2("widget type must be a string, but was: "+t,Errors$2.Internal);if(!isWidgetRegistered$2(t))return e;const r=e.version||{major:0,minor:0},n=getCurrentVersion$2(t);if(r.major>n.major||r.major===n.major&&r.minor>n.minor)return e;let i=_.clone(e.options)??{};i={...getDefaultWidgetOptions$2(t),...i};let o=e.alignment;if((null==o||"default"===o)&&(o=getSupportedAlignments$2(t)?.[0],!o))throw new PerseusError$2("No default alignment found when upgrading widget",Errors$2.Internal,{metadata:{widgetType:t}});let a=e.static;return null==a&&(a=DEFAULT_STATIC$2),{...e,version:n,graded:null==e.graded||e.graded,alignment:o,static:a,options:i}};function applyDefaultsToWidgets$2(e){return mapObject$2(e,(e,t)=>{if(!e.type||!e.alignment){const r={};e.type||(r.type=t.split(" ")[0]),e.alignment||(r.alignment="default"),e={...e,...r}}return applyDefaultsToWidget$2(e)})}function splitPerseusRenderer$2(e){const t=applyDefaultsToWidgets$2(deepClone$2(e).widgets??{}),r={};for(const[n,i]of Object.entries(t))if(i.static)r[n]=i;else{const e=getPublicWidgetOptionsFunction$2(i.type);r[n]={...i,options:e(i.options)}}return{...e,widgets:r}}function getGroupPublicWidgetOptions$2(e){return splitPerseusRenderer$2(e)}const defaultWidgetOptions$x={content:"",widgets:{},images:{}},traverseChildWidgets$5=function(e,t){return{...e,...t(e)}},groupWidgetLogic$2={name:"group",defaultWidgetOptions:defaultWidgetOptions$x,accessible:!1,traverseChildWidgets:traverseChildWidgets$5,getPublicWidgetOptions:getGroupPublicWidgetOptions$2};registerCoreWidgets$2();const libName$7="@khanacademy/perseus-linter",libVersion$7="4.3.4";addLibraryVersionToPerseusDebug$5(libName$7,libVersion$7);const linterContextDefault={contentType:"",highlightLint:!1,paths:[],stack:[]};class Selector{static parse(e){return new Parser$2(e).parse()}match(e){throw new PerseusError$2("Selector subclasses must implement match()",Errors$2.NotAllowed)}toString(){return"Unknown selector class"}}let Parser$2=class e{nextToken(){return this.tokens[this.tokenIndex]||""}consume(){this.tokenIndex++}isIdentifier(){const e=this.tokens[this.tokenIndex][0];return e>="a"&&e<="z"||e>="A"&&e<="Z"}skipSpace(){for(;" "===this.nextToken();)this.consume()}parse(){const e=this.parseTreeSelector();let t=this.nextToken();if(!t)return e;const r=[e];for(;t;){if(","!==t)throw new ParseError$1("Expected comma");this.consume(),r.push(this.parseTreeSelector()),t=this.nextToken()}return new SelectorList(r)}parseTreeSelector(){this.skipSpace();let e=this.parseNodeSelector();for(;;){const t=this.nextToken();if(!t||","===t)break;if(" "===t)this.consume(),e=new AncestorCombinator(e,this.parseNodeSelector());else if(">"===t)this.consume(),e=new ParentCombinator(e,this.parseNodeSelector());else if("+"===t)this.consume(),e=new PreviousCombinator(e,this.parseNodeSelector());else{if("~"!==t)throw new ParseError$1("Unexpected token: "+t);this.consume(),e=new SiblingCombinator(e,this.parseNodeSelector())}}return e}parseNodeSelector(){this.skipSpace();const e=this.nextToken();if("*"===e)return this.consume(),new AnyNode;if(this.isIdentifier())return this.consume(),new TypeSelector(e);throw new ParseError$1("Expected node type")}constructor(t){t=t.trim().replace(/\s+/g," "),this.tokens=t.match(e.TOKENS)||[],this.tokenIndex=0}};Parser$2.TOKENS=/([a-zA-Z][\w-]*)|(\d+)|[^\s]|(\s(?=[a-zA-Z\*]))/g;let ParseError$1=class extends Error{constructor(e){super(e)}};class SelectorList extends Selector{match(e){for(let t=0;t<this.selectors.length;t++){const r=this.selectors[t].match(e);if(r)return r}return null}toString(){let e="";for(let t=0;t<this.selectors.length;t++)e+=t>0?", ":"",e+=this.selectors[t].toString();return e}constructor(e){super(),this.selectors=e}}class AnyNode extends Selector{match(e){return[e.currentNode()]}toString(){return"*"}}class TypeSelector extends Selector{match(e){const t=e.currentNode();return t.type===this.type?[t]:null}toString(){return this.type}constructor(e){super(),this.type=e}}class SelectorCombinator extends Selector{constructor(e,t){super(),this.left=e,this.right=t}}class AncestorCombinator extends SelectorCombinator{match(e){const t=this.right.match(e);if(t)for(e=e.clone();e.hasParent();){e.goToParent();const r=this.left.match(e);if(r)return r.concat(t)}return null}toString(){return this.left.toString()+" "+this.right.toString()}constructor(e,t){super(e,t)}}class ParentCombinator extends SelectorCombinator{match(e){const t=this.right.match(e);if(t&&e.hasParent()){(e=e.clone()).goToParent();const r=this.left.match(e);if(r)return r.concat(t)}return null}toString(){return this.left.toString()+" > "+this.right.toString()}constructor(e,t){super(e,t)}}class PreviousCombinator extends SelectorCombinator{match(e){const t=this.right.match(e);if(t&&e.hasPreviousSibling()){(e=e.clone()).goToPreviousSibling();const r=this.left.match(e);if(r)return r.concat(t)}return null}toString(){return this.left.toString()+" + "+this.right.toString()}constructor(e,t){super(e,t)}}class SiblingCombinator extends SelectorCombinator{match(e){const t=this.right.match(e);if(t)for(e=e.clone();e.hasPreviousSibling();){e.goToPreviousSibling();const r=this.left.match(e);if(r)return r.concat(t)}return null}toString(){return this.left.toString()+" ~ "+this.right.toString()}constructor(e,t){super(e,t)}}class Rule{static makeRule(e){return new Rule(e.name,e.severity,e.selector?Selector.parse(e.selector):null,Rule.makePattern(e.pattern),e.lint||e.message,e.applies)}check(e,t,r,n){const i=this.selector.match(t);if(!i)return null;let o;if(o=this.pattern?r.match(this.pattern):Rule.FakePatternMatch(r,r,0),!o)return null;try{const e=this.lint(t,r,i,o,n);return e?"string"==typeof e?{rule:this.name,severity:this.severity,message:e,start:0,end:r.length}:{rule:this.name,severity:this.severity,message:e.message,start:e.start,end:e.end,metadata:e.metadata}:null}catch(a){return{rule:"lint-rule-failure",message:`Exception in rule ${this.name}: ${a.message}\nStack trace:\n${a.stack}`,start:0,end:r.length}}}_defaultLintFunction(e,t,r,n,i){return{message:this.message||"",start:n.index,end:n.index+n[0].length}}static makePattern(e){if(!e)return null;if(e instanceof RegExp)return e;if("/"===e[0]){const t=e.lastIndexOf("/"),r=e.substring(1,t),n=e.substring(t+1);return new RegExp(r,n)}return new RegExp(e)}static FakePatternMatch(e,t,r){const n=[t];return n.index=r,n.input=e,n}constructor(e,t,r,n,i,o){if(!r&&!n)throw new PerseusError$2("Lint rules must have a selector or pattern",Errors$2.InvalidInput,{metadata:{name:e}});this.name=e||"unnamed rule",this.severity=t||Rule.Severity.BULK_WARNING,this.selector=r||Rule.DEFAULT_SELECTOR,this.pattern=n||null,"function"==typeof i?(this.lint=i,this.message=null):(this.lint=(...e)=>this._defaultLintFunction(...e),this.message=i),this.applies=o||function(){return!0}}}Rule.Severity={ERROR:1,WARNING:2,GUIDELINE:3,BULK_WARNING:4},Rule.DEFAULT_SELECTOR=Selector.parse("text");const HOSTNAME=/\/\/([^\/]+)/;function getHostname(e){if(!e)return"";const t=e.match(HOSTNAME);return t?t[1]:""}var AbsoluteUrl=Rule.makeRule({name:"absolute-url",severity:Rule.Severity.GUIDELINE,selector:"link, image",lint:function(e,t,r,n){const i=getHostname(r[0].target);if("khanacademy.org"===i||i.endsWith(".khanacademy.org"))return"Don't use absolute URLs:\nWhen linking to KA content or images, omit the\nhttps://www.khanacademy.org URL prefix.\nUse a relative URL beginning with / instead."}}),DoubleSpacingAfterTerminal=Rule.makeRule({name:"double-spacing-after-terminal",severity:Rule.Severity.BULK_WARNING,selector:"paragraph",pattern:/[.!\?] {2}/i,message:"Use a single space after a sentence-ending period, or\nany other kind of terminal punctuation."});function buttonNotInButtonSet(e,t){return`Answer requires a button not found in the button sets: ${e} (in ${t})`}const stringToButtonSet={"\\sqrt":"prealgebra","\\sin":"trig","\\cos":"trig","\\tan":"trig","\\log":"logarithms","\\ln":"logarithms"};var ExpressionWidget=Rule.makeRule({name:"expression-widget",severity:Rule.Severity.WARNING,selector:"widget",lint:function(e,t,r,n,i){if("expression"!==e.currentNode().widgetType)return;const o=e.currentNode().id;if(!o)return;const a=i?.widgets?.[o];if(!a)return;const s=a.options.answerForms,l=a.options.buttonSets;for(const c of s)for(const[e,t]of Object.entries(stringToButtonSet))if(c.value.includes(e)&&!l.includes(t))return buttonNotInButtonSet(e,t)}}),ExtraContentSpacing=Rule.makeRule({name:"extra-content-spacing",selector:"paragraph",pattern:/\s+$/,applies:function(e){return"article"===e?.contentType},message:"No extra whitespace at the end of content blocks."}),HeadingLevel1=Rule.makeRule({name:"heading-level-1",severity:Rule.Severity.WARNING,selector:"heading",lint:function(e,t,r,n){if(1===r[0].level)return"Don't use level-1 headings:\nBegin headings with two or more # characters."}}),HeadingLevelSkip=Rule.makeRule({name:"heading-level-skip",severity:Rule.Severity.WARNING,selector:"heading ~ heading",lint:function(e,t,r,n){const i=r[1],o=r[0];if(i.level>o.level+1)return`Skipped heading level:\nthis heading is level ${i.level} but\nthe previous heading was level ${o.level}`}}),HeadingSentenceCase=Rule.makeRule({name:"heading-sentence-case",severity:Rule.Severity.GUIDELINE,selector:"heading",pattern:/^\W*[a-z]/,message:"First letter is lowercase:\nthe first letter of a heading should be capitalized."});const littleWords={and:!0,nor:!0,but:!0,the:!0,for:!0};function isCapitalized(e){const t=e[0];return t===t.toUpperCase()}var HeadingTitleCase=Rule.makeRule({name:"heading-title-case",severity:Rule.Severity.GUIDELINE,selector:"heading",pattern:/[^\s:]\s+[A-Z]+[a-z]/,locale:"en",lint:function(e,t,r,n){let i=t.trim().split(/\s+/);if(i.shift(),i=i.filter(e=>e.length>2&&!littleWords.hasOwnProperty(e)),i.length>=3&&i.every(e=>isCapitalized(e)))return"Title-case heading:\nThis heading appears to be in title-case, but should be sentence-case.\nOnly capitalize the first letter and proper nouns."}}),ImageAltText=Rule.makeRule({name:"image-alt-text",severity:Rule.Severity.WARNING,selector:"image",lint:function(e,t,r,n){const i=r[0];return i.alt&&i.alt.trim()?i.alt.length<8?`Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ${i.alt.length} characters long.`:void 0:"Images should have alt text:\nfor accessibility, all images should have alt text.\nSpecify alt text inside square brackets after the !."}}),ImageInTable=Rule.makeRule({name:"image-in-table",severity:Rule.Severity.BULK_WARNING,selector:"table image",message:"Image in table:\ndo not put images inside of tables."}),ImageSpacesAroundUrls=Rule.makeRule({name:"image-spaces-around-urls",severity:Rule.Severity.ERROR,selector:"image",lint:function(e,t,r,n,i){const o=r[0].target;if(i&&i.content){const e=i.content.indexOf(o);if(-1===e)return;if("("!==i.content[e-1]||")"!==i.content[e+o.length])return"Whitespace before or after image url:\nFor images, don't include any space or newlines after '(' or before ')'.\nWhitespace in image URLs causes translation difficulties."}}}),ImageUrlEmpty=Rule.makeRule({name:"image-url-empty",severity:Rule.Severity.ERROR,selector:"image",lint:function(e,t,r){const n=r[0].target;if(!n||!n.trim())return"Images should have a URL"}}),ImageWidget=Rule.makeRule({name:"image-widget",severity:Rule.Severity.WARNING,selector:"widget",lint:function(e,t,r,n,i){if("image"!==e.currentNode().widgetType)return;const o=e.currentNode().id;if(!o)return;const a=i&&i.widgets&&i.widgets[o];if(!a)return;const s=a.options.alt;return s?s.trim().length<8?`Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ${s.trim().length} characters long.`:a.options.caption&&a.options.caption.match(/[^\\]\$/)?"No math in image captions:\nDon't include math expressions in image captions.":void 0:'Images should have alt text:\nfor accessibility, all images should have a text description.\nAdd a description in the "Alt Text" box of the image widget.'}}),InaccessibleWidget=Rule.makeRule({name:"inaccessible-widget",severity:Rule.Severity.WARNING,selector:"widget",lint:function(e,t,r,n,i){const o=e.currentNode(),a=o.widgetType,s=o.id;if(!a||!s)return;const l=i?.widgets?.[s];if(!l)return;return coreWidgetRegistry$1.isAccessible(a,l.options)?void 0:{message:`The "${a}" widget is not accessible.`,start:0,end:t.length,metadata:{widgetType:a,widgetId:s}}}}),LinkClickHere=Rule.makeRule({name:"link-click-here",severity:Rule.Severity.WARNING,selector:"link",pattern:/click here/i,message:'Inappropriate link text:\nDo not use the words "click here" in links.'}),LongParagraph=Rule.makeRule({name:"long-paragraph",severity:Rule.Severity.GUIDELINE,selector:"paragraph",pattern:/^.{501,}/,lint:function(e,t,r,n){return`Paragraph too long:\nThis paragraph is ${t.length} characters long.\nShorten it to 500 characters or fewer.`}}),MathAdjacent=Rule.makeRule({name:"math-adjacent",severity:Rule.Severity.WARNING,selector:"blockMath+blockMath",message:"Adjacent math blocks:\ncombine the blocks between \\begin{align} and \\end{align}"}),MathAlignExtraBreak=Rule.makeRule({name:"math-align-extra-break",severity:Rule.Severity.WARNING,selector:"blockMath",pattern:/(\\{2,})\s*\\end{align}/,message:"Extra space at end of block:\nDon't end an align block with backslashes"}),MathAlignLinebreaks=Rule.makeRule({name:"math-align-linebreaks",severity:Rule.Severity.WARNING,selector:"blockMath",pattern:/\\begin{align}[\s\S]*\\\\[\s\S]+\\end{align}/,lint:function(e,t,r,n){let i=n[0];for(;i.length;){const e=i.indexOf("\\\\");if(-1===e)return;i=i.substring(e+2);const t=i.match(/^\s*\\\\\s*(?!\\\\)/);if(!t)return"Use four backslashes between lines of an align block";i=i.substring(t[0].length)}}}),MathEmpty=Rule.makeRule({name:"math-empty",severity:Rule.Severity.WARNING,selector:"math, blockMath",pattern:/^$/,message:"Empty math: don't use $$ in your markdown."}),MathFrac=Rule.makeRule({name:"math-frac",severity:Rule.Severity.GUIDELINE,selector:"math, blockMath",pattern:/\\frac[ {]/,message:"Use \\dfrac instead of \\frac in your math expressions."}),MathNested=Rule.makeRule({name:"math-nested",severity:Rule.Severity.ERROR,selector:"math, blockMath",pattern:/\\text{[^$}]*\$[^$}]*\$[^}]*}/,message:"Nested math:\nDon't nest math expressions inside \\text{} blocks"}),MathStartsWithSpace=Rule.makeRule({name:"math-starts-with-space",severity:Rule.Severity.GUIDELINE,selector:"math, blockMath",pattern:/^\s*(~|\\qquad|\\quad|\\,|\\;|\\:|\\ |\\!|\\enspace|\\phantom)/,message:"Math starts with space:\nmath should not be indented. Do not begin math expressions with\nLaTeX space commands like ~, \\;, \\quad, or \\phantom"}),MathTextEmpty=Rule.makeRule({name:"math-text-empty",severity:Rule.Severity.WARNING,selector:"math, blockMath",pattern:/\\text{\s*}/,message:"Empty \\text{} block in math expression"}),MathWithoutDollars=Rule.makeRule({name:"math-without-dollars",severity:Rule.Severity.GUIDELINE,pattern:/\\\w+{[^}]*}|{|}/,message:"This looks like LaTeX:\ndid you mean to put it inside dollar signs?"}),NestedLists=Rule.makeRule({name:"nested-lists",severity:Rule.Severity.WARNING,selector:"list list",message:"Nested lists:\nnested lists are hard to read on mobile devices;\ndo not use additional indentation."}),StaticWidgetInQuestionStem=Rule.makeRule({name:"static-widget-in-question-stem",severity:Rule.Severity.WARNING,selector:"widget",lint:(e,t,r,n,i)=>{if("exercise"!==i?.contentType)return;if(i.stack.includes("hint"))return;const o=e.currentNode().id;if(!o)return;const a=i?.widgets?.[o];return a&&a.static?"Widget in question stem is static (non-interactive).":void 0}}),TableMissingCells=Rule.makeRule({name:"table-missing-cells",severity:Rule.Severity.WARNING,selector:"table",lint:function(e,t,r,n){const i=r[0],o=i.header.length,a=i.cells.map(e=>e.length);for(let s=0;s<a.length;s++)if(a[s]!==o)return`Table rows don't match header:\nThe table header has ${o} cells, but\nRow ${s+1} has ${a[s]} cells.`}}),UnbalancedCodeDelimiters=Rule.makeRule({name:"unbalanced-code-delimiters",severity:Rule.Severity.ERROR,pattern:/[`~]+/,message:"Unbalanced code delimiters:\ncode blocks should begin and end with the same type and number of delimiters"}),UnescapedDollar=Rule.makeRule({name:"unescaped-dollar",severity:Rule.Severity.ERROR,selector:"unescapedDollar",message:"Unescaped dollar sign:\nDollar signs must appear in pairs or be escaped as \\$"}),WidgetInTable=Rule.makeRule({name:"widget-in-table",severity:Rule.Severity.BULK_WARNING,selector:"table widget",message:"Widget in table:\ndo not put widgets inside of tables."}),AllRules=[AbsoluteUrl,DoubleSpacingAfterTerminal,ImageUrlEmpty,ExpressionWidget,ExtraContentSpacing,HeadingLevel1,HeadingLevelSkip,HeadingSentenceCase,HeadingTitleCase,ImageAltText,ImageInTable,LinkClickHere,LongParagraph,MathAdjacent,MathAlignExtraBreak,MathAlignLinebreaks,MathEmpty,MathFrac,MathNested,MathStartsWithSpace,MathTextEmpty,NestedLists,StaticWidgetInQuestionStem,TableMissingCells,UnescapedDollar,WidgetInTable,MathWithoutDollars,UnbalancedCodeDelimiters,ImageSpacesAroundUrls,ImageWidget,InaccessibleWidget];class TreeTransformer{static isNode(e){return e&&"object"==typeof e&&"string"==typeof e.type}static isTextNode(e){return TreeTransformer.isNode(e)&&"text"===e.type&&"string"==typeof e.content}traverse(e){this._traverse(this.root,new TraversalState(this.root),e)}_traverse(e,t,r){let n="";if(TreeTransformer.isNode(e)){const i=e;t._containers.push(i),t._ancestors.push(i),"string"==typeof i.content&&(n=i.content);Object.keys(i).forEach(e=>{if("type"===e)return;const o=i[e];o&&"object"==typeof o&&(t._indexes.push(e),n+=this._traverse(o,t,r),t._indexes.pop())}),t._currentNode=t._ancestors.pop(),t._containers.pop(),r(i,t,n)}else if(Array.isArray(e)){const i=e;t._containers.push(i);let o=0;for(;o<i.length;)t._indexes.push(o),n+=this._traverse(i[o],t,r),o=t._indexes.pop()+1;t._containers.pop()}return n}constructor(e){this.root=e}}class TraversalState{currentNode(){return this._currentNode||this.root}parent(){return this._ancestors.top()}ancestors(){return this._ancestors.values()}nextSibling(){const e=this._containers.top();if(!e||!Array.isArray(e))return null;const t=this._indexes.top();return e.length>t+1?e[t+1]:null}previousSibling(){const e=this._containers.top();if(!e||!Array.isArray(e))return null;const t=this._indexes.top();return t>0?e[t-1]:null}removeNextSibling(){const e=this._containers.top();if(e&&Array.isArray(e)){const t=this._indexes.top();if(e.length>t+1)return e.splice(t+1,1)[0]}return null}replace(...e){const t=this._containers.top();if(!t)throw new PerseusError$2("Can't replace the root of the tree",Errors$2.Internal);if(Array.isArray(t)){const r=this._indexes.top();t.splice(r,1,...e),this._indexes.pop(),this._indexes.push(r+e.length-1)}else{const r=this._indexes.top();0===e.length?delete t[r]:1===e.length?t[r]=e[0]:t[r]=e}}hasPreviousSibling(){return Array.isArray(this._containers.top())&&this._indexes.top()>0}goToPreviousSibling(){if(!this.hasPreviousSibling())throw new PerseusError$2("goToPreviousSibling(): node has no previous sibling",Errors$2.Internal);this._currentNode=this.previousSibling();const e=this._indexes.pop();this._indexes.push(e-1)}hasParent(){return 0!==this._ancestors.size()}goToParent(){if(!this.hasParent())throw new PerseusError$2("goToParent(): node has no ancestor",Errors$2.NotAllowed);for(this._currentNode=this._ancestors.pop();this._containers.size()&&this._containers.top()[this._indexes.top()]!==this._currentNode;)this._containers.pop(),this._indexes.pop()}clone(){const e=new TraversalState(this.root);return e._currentNode=this._currentNode,e._containers=this._containers.clone(),e._indexes=this._indexes.clone(),e._ancestors=this._ancestors.clone(),e}equals(e){return this.root===e.root&&this._currentNode===e._currentNode&&this._containers.equals(e._containers)&&this._indexes.equals(e._indexes)&&this._ancestors.equals(e._ancestors)}constructor(e){this.root=e,this._currentNode=null,this._containers=new Stack$1,this._indexes=new Stack$1,this._ancestors=new Stack$1}}let Stack$1=class e{push(e){this.stack.push(e)}pop(){return this.stack.pop()}top(){return this.stack[this.stack.length-1]}values(){return this.stack.slice(0)}size(){return this.stack.length}toString(){return this.stack.toString()}clone(){return new e(this.stack)}equals(e){if(!e||!e.stack||e.stack.length!==this.stack.length)return!1;for(let t=0;t<this.stack.length;t++)if(this.stack[t]!==e.stack[t])return!1;return!0}constructor(e){this.stack=e?e.slice(0):[]}};const allLintRules=AllRules.filter(e=>e.severity<Rule.Severity.BULK_WARNING);function runLinter(e,t,r,n=allLintRules){const i=[],o=new TreeTransformer(e);o.traverse((e,t,r)=>{if(TreeTransformer.isTextNode(e)){let r=t.nextSibling();for(;TreeTransformer.isTextNode(r);)e.content+=r.content,t.removeNextSibling(),r=t.nextSibling()}});let a=[],s=!1;return o.traverse((e,r,o)=>{const l=[],c=n.filter(e=>e.applies(t)),u=[...t.stack];u.push(e.type);const d={...t,stack:u.join(".")};if(c.forEach(t=>{const n=t.check(e,r,o,d);n&&((n.start||n.end)&&(n.target=o.substring(n.start,n.end)),i.push(n),l.push(n))}),"table"===e.type?(a.length&&l.push(...a),s=!1,a=[]):s||(s=r.ancestors().some(e=>"table"===e.type)),s&&l.length>0&&a.push(...l),l.length>0)if(l.sort((e,t)=>e.severity-t.severity),"text"!==e.type||l.length>1)r.replace({type:"lint",content:e,message:l.map(e=>e.message).join("\n\n"),ruleName:l[0].rule,blockHighlight:d.blockHighlight,insideTable:s,severity:l[0].severity});else{const t=e.content,n=l[0],i=n.start||0,o=n.end||t.length,a=t.substring(0,i),c=t.substring(i,o),u=t.substring(o),d=[];a&&d.push({type:"text",content:a}),d.push({type:"lint",content:{type:"text",content:c},message:n.message,ruleName:n.rule,insideTable:s,severity:n.severity}),u&&d.push({type:"text",content:u}),r.replace(...d)}}),i}function pushContextStack(e,t){const r=e.stack||[];return{...e,stack:r.concat(t)}}var stringHash$1,hasRequiredStringHash;function requireStringHash(){if(hasRequiredStringHash)return stringHash$1;return hasRequiredStringHash=1,stringHash$1=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}var stringHashExports=requireStringHash();const stringHash=getDefaultExportFromCjs$1(stringHashExports);var browserRaw,hasRequiredBrowserRaw,browserAsap,hasRequiredBrowserAsap;function requireBrowserRaw(){if(hasRequiredBrowserRaw)return browserRaw;function e(e){r.length||t(),r[r.length]=e}hasRequiredBrowserRaw=1,browserRaw=e;var t,r=[],n=0;function i(){for(;n<r.length;){var e=n;if(n+=1,r[e].call(),n>1024){for(var t=0,i=r.length-n;t<i;t++)r[t]=r[t+n];r.length-=n,n=0}}r.length=0,n=0}var o,a,s,l=void 0!==commonjsGlobal?commonjsGlobal:self,c=l.MutationObserver||l.WebKitMutationObserver;function u(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}return"function"==typeof c?(o=1,a=new c(i),s=document.createTextNode(""),a.observe(s,{characterData:!0}),t=function(){o=-o,s.data=o}):t=u(i),e.requestFlush=t,e.makeRequestCallFromTimer=u,browserRaw}function requireBrowserAsap(){if(hasRequiredBrowserAsap)return browserAsap;hasRequiredBrowserAsap=1;var e=requireBrowserRaw(),t=[],r=[],n=e.makeRequestCallFromTimer(function(){if(r.length)throw r.shift()});function i(r){var n;(n=t.length?t.pop():new o).task=r,e(n)}function o(){this.task=null}return browserAsap=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(r.push(e),n())}finally{this.task=null,t[t.length]=this}},browserAsap}var browserAsapExports=requireBrowserAsap();const asap=getDefaultExportFromCjs$1(browserAsapExports);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty$1(e,t,r[t])})}return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var UPPERCASE_RE=/([A-Z])/g,UPPERCASE_RE_TO_KEBAB=function(e){return"-".concat(e.toLowerCase())},kebabifyStyleName=function(e){var t=e.replace(UPPERCASE_RE,UPPERCASE_RE_TO_KEBAB);return"m"===t[0]&&"s"===t[1]&&"-"===t[2]?"-".concat(t):t},isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function prefixKey(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(e){prefixes.forEach(function(t){isUnitlessNumber[prefixKey(t,e)]=isUnitlessNumber[e]})});var stringifyValue=function(e,t){return"number"==typeof t?isUnitlessNumber[e]?""+t:t+"px":""+t},stringifyAndImportantifyValue=function(e,t){return importantify(stringifyValue(e,t))},hashString=function(e,t){return stringHash(e).toString(36)},hashObject=function(e){return hashString(JSON.stringify(e))},importantify=function(e){return"!"===e[e.length-10]&&" !important"===e.slice(-11)?e:"".concat(e," !important")},MAP_EXISTS="undefined"!=typeof Map,OrderedElements=function(){function e(){this.elements={},this.keyOrder=[]}var t=e.prototype;return t.forEach=function(e){for(var t=0;t<this.keyOrder.length;t++)e(this.elements[this.keyOrder[t]],this.keyOrder[t])},t.set=function(t,r,n){if(this.elements.hasOwnProperty(t)){if(n){var i=this.keyOrder.indexOf(t);this.keyOrder.splice(i,1),this.keyOrder.push(t)}}else this.keyOrder.push(t);if(null!=r){if(MAP_EXISTS&&r instanceof Map||r instanceof e){var o=this.elements.hasOwnProperty(t)?this.elements[t]:new e;return r.forEach(function(e,t){o.set(t,e,n)}),void(this.elements[t]=o)}if(Array.isArray(r)||"object"!==_typeof(r))this.elements[t]=r;else{for(var a=this.elements.hasOwnProperty(t)?this.elements[t]:new e,s=Object.keys(r),l=0;l<s.length;l+=1)a.set(s[l],r[s[l]],n);this.elements[t]=a}}else this.elements[t]=r},t.get=function(e){return this.elements[e]},t.has=function(e){return this.elements.hasOwnProperty(e)},t.addStyleType=function(t){var r=this;if(MAP_EXISTS&&t instanceof Map||t instanceof e)t.forEach(function(e,t){r.set(t,e,!0)});else for(var n=Object.keys(t),i=0;i<n.length;i++)this.set(n[i],t[n[i]],!0)},e}();function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var capitalizeString_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}});unwrapExports(capitalizeString_1);var prefixProperty_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(e.hasOwnProperty(t)){for(var i={},o=e[t],a=(0,n.default)(t),s=Object.keys(r),l=0;l<s.length;l++){var c=s[l];if(c===t)for(var u=0;u<o.length;u++)i[o[u]+a]=r[t];i[c]=r[c]}return i}return r};var r,n=(r=capitalizeString_1)&&r.__esModule?r:{default:r}});unwrapExports(prefixProperty_1);var prefixValue_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,r,n,i);if(s)return s}}});unwrapExports(prefixValue_1);var addNewValuesOnly_1=createCommonjsModule(function(e,t){function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)r(e,t[n]);else r(e,t)}});unwrapExports(addNewValuesOnly_1);var isObject_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}});unwrapExports(isObject_1);var createPrefixer_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,a=e.plugins;return function e(s){for(var l in s){var c=s[l];if((0,o.default)(c))s[l]=e(c);else if(Array.isArray(c)){for(var u=[],d=0,h=c.length;d<h;++d){var p=(0,n.default)(a,l,c[d],s,t);(0,i.default)(u,p||c[d])}u.length>0&&(s[l]=u)}else{var f=(0,n.default)(a,l,c,s,t);f&&(s[l]=f),s=(0,r.default)(t,l,s)}}return s}};var r=a(prefixProperty_1),n=a(prefixValue_1),i=a(addNewValuesOnly_1),o=a(isObject_1);function a(e){return e&&e.__esModule?e:{default:e}}}),createPrefixer=unwrapExports(createPrefixer_1),backgroundClip_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}}),backgroundClip=unwrapExports(backgroundClip_1),isPrefixedValue_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default});unwrapExports(isPrefixedValue_1);var calc_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&t.indexOf("calc(")>-1)return i.map(function(e){return t.replace(/calc\(/g,e+"calc(")})};var r,n=(r=isPrefixedValue_1)&&r.__esModule?r:{default:r};var i=["-webkit-","-moz-",""]}),calc=unwrapExports(calc_1),crossFade_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&t.indexOf("cross-fade(")>-1)return i.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})};var r,n=(r=isPrefixedValue_1)&&r.__esModule?r:{default:r};var i=["-webkit-",""]}),crossFade=unwrapExports(crossFade_1),cursor_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&n.hasOwnProperty(t))return r.map(function(e){return e+t})};var r=["-webkit-","-moz-",""],n={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}}),cursor=unwrapExports(cursor_1),filter_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&t.indexOf("filter(")>-1)return i.map(function(e){return t.replace(/filter\(/g,e+"filter(")})};var r,n=(r=isPrefixedValue_1)&&r.__esModule?r:{default:r};var i=["-webkit-",""]}),filter=unwrapExports(filter_1),flex_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}}),flex=unwrapExports(flex_1),flexboxIE_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){Object.prototype.hasOwnProperty.call(n,e)&&(a[n[e]]=r[t]||t);if("flex"===e){if(Object.prototype.hasOwnProperty.call(i,t))return void(a.msFlex=i[t]);if(o.test(t))return void(a.msFlex=t+" 1 0%");var s=t.split(/\s/);switch(s.length){case 1:return void(a.msFlex="1 1 "+t);case 2:return void(o.test(s[1])?a.msFlex=s[0]+" "+s[1]+" 0%":a.msFlex=s[0]+" 1 "+s[1]);default:a.msFlex=t}}};var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},n={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},i={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},o=/^\d+(\.\d+)?$/}),flexboxIE=unwrapExports(flexboxIE_1),flexboxOld_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal");n.hasOwnProperty(e)&&(i[n[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},n={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}}),flexboxOld=unwrapExports(flexboxOld_1),gradient_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&o.test(t))return i.map(function(e){return t.replace(o,function(t){return e+t})})};var r,n=(r=isPrefixedValue_1)&&r.__esModule?r:{default:r};var i=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi}),gradient=unwrapExports(gradient_1),grid_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function n(e){return"number"==typeof e&&!isNaN(e)}t.default=function(e,t,r){if("display"===e&&t in o)return o[t];if(e in a){(0,a[e])(t,r)}};var i=["center","end","start","stretch"],o={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},a={alignSelf:function(e,t){i.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(n(e))t.msGridColumn=e;else{var i=e.split("/").map(function(e){return+e}),o=r(i,2),s=o[0],l=o[1];a.gridColumnStart(s,t),a.gridColumnEnd(l,t)}},gridColumnEnd:function(e,t){var r=t.msGridColumn;n(e)&&n(r)&&(t.msGridColumnSpan=e-r)},gridColumnStart:function(e,t){n(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(n(e))t.msGridRow=e;else{var i=e.split("/").map(function(e){return+e}),o=r(i,2),s=o[0],l=o[1];a.gridRowStart(s,t),a.gridRowEnd(l,t)}},gridRowEnd:function(e,t){var r=t.msGridRow;n(e)&&n(r)&&(t.msGridRowSpan=e-r)},gridRowStart:function(e,t){n(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){i.indexOf(e)>-1&&(t.msGridColumnAlign=e)}}}),grid=unwrapExports(grid_1),imageSet_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&t.indexOf("image-set(")>-1)return i.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var r,n=(r=isPrefixedValue_1)&&r.__esModule?r:{default:r};var i=["-webkit-",""]}),imageSet=unwrapExports(imageSet_1),logical_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var i=r[e],o=0,a=i.length;o<a;++o)n[i[o]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}}),logical=unwrapExports(logical_1),position_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}}),position=unwrapExports(position_1),sizing_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(n.hasOwnProperty(e)&&i.hasOwnProperty(t))return r.map(function(e){return e+t})};var r=["-webkit-","-moz-",""],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}}),sizing$4=unwrapExports(sizing_1),uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache={};function toHyphenLower(e){return"-"+e.toLowerCase()}function hyphenateStyleName(e){if(cache.hasOwnProperty(e))return cache[e];var t=e.replace(uppercasePattern,toHyphenLower);return cache[e]=msPattern.test(t)?"-"+t:t}var hyphenateStyleName$1=Object.freeze({default:hyphenateStyleName}),_hyphenateStyleName=getCjsExportFromNamespace(hyphenateStyleName$1),hyphenateProperty_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e)};var r,n=(r=_hyphenateStyleName)&&r.__esModule?r:{default:r};e.exports=t.default});unwrapExports(hyphenateProperty_1);var transition_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,l){if("string"==typeof t&&a.hasOwnProperty(e)){var c=function(e,t){if((0,n.default)(e))return e;for(var i=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=i.length;o<a;++o){var l=i[o],c=[l];for(var u in t){var d=(0,r.default)(u);if(l.indexOf(d)>-1&&"order"!==d)for(var h=t[u],p=0,f=h.length;p<f;++p)c.unshift(l.replace(d,s[h[p]]+d))}i[o]=c.join(",")}return i.join(",")}(t,l),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return u;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?d:(o["Webkit"+(0,i.default)(e)]=u,o["Moz"+(0,i.default)(e)]=d,c)}};var r=o(hyphenateProperty_1),n=o(isPrefixedValue_1),i=o(capitalizeString_1);function o(e){return e&&e.__esModule?e:{default:e}}var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}}),transition=unwrapExports(transition_1),w$2=["Webkit"],m=["Moz"],ms$3=["ms"],wm=["Webkit","Moz"],wms=["Webkit","ms"],wmms=["Webkit","Moz","ms"],staticData={plugins:[backgroundClip,calc,crossFade,cursor,filter,flex,flexboxIE,flexboxOld,gradient,grid,imageSet,logical,position,sizing$4,transition],prefixMap:{transform:wms,transformOrigin:wms,transformOriginX:wms,transformOriginY:wms,backfaceVisibility:w$2,perspective:w$2,perspectiveOrigin:w$2,transformStyle:w$2,transformOriginZ:w$2,animation:w$2,animationDelay:w$2,animationDirection:w$2,animationFillMode:w$2,animationDuration:w$2,animationIterationCount:w$2,animationName:w$2,animationPlayState:w$2,animationTimingFunction:w$2,appearance:wm,userSelect:wmms,fontKerning:w$2,textEmphasisPosition:w$2,textEmphasis:w$2,textEmphasisStyle:w$2,textEmphasisColor:w$2,boxDecorationBreak:w$2,clipPath:w$2,maskImage:w$2,maskMode:w$2,maskRepeat:w$2,maskPosition:w$2,maskClip:w$2,maskOrigin:w$2,maskSize:w$2,maskComposite:w$2,mask:w$2,maskBorderSource:w$2,maskBorderMode:w$2,maskBorderSlice:w$2,maskBorderWidth:w$2,maskBorderOutset:w$2,maskBorderRepeat:w$2,maskBorder:w$2,maskType:w$2,textDecorationStyle:wm,textDecorationSkip:wm,textDecorationLine:wm,textDecorationColor:wm,filter:w$2,fontFeatureSettings:wm,breakAfter:wmms,breakBefore:wmms,breakInside:wmms,columnCount:wm,columnFill:wm,columnGap:wm,columnRule:wm,columnRuleColor:wm,columnRuleStyle:wm,columnRuleWidth:wm,columns:wm,columnSpan:wm,columnWidth:wm,writingMode:wms,flex:wms,flexBasis:w$2,flexDirection:wms,flexGrow:w$2,flexFlow:wms,flexShrink:w$2,flexWrap:wms,alignContent:w$2,alignItems:w$2,alignSelf:w$2,justifyContent:w$2,order:w$2,transitionDelay:w$2,transitionDuration:w$2,transitionProperty:w$2,transitionTimingFunction:w$2,backdropFilter:w$2,scrollSnapType:wms,scrollSnapPointsX:wms,scrollSnapPointsY:wms,scrollSnapDestination:wms,scrollSnapCoordinate:wms,shapeImageThreshold:w$2,shapeImageMargin:w$2,shapeImageOutside:w$2,hyphens:wmms,flowInto:wms,flowFrom:wms,regionFragment:wms,textOrientation:w$2,boxSizing:m,textAlignLast:m,tabSize:m,wrapFlow:ms$3,wrapThrough:ms$3,wrapMargin:ms$3,touchAction:ms$3,textSizeAdjust:wms,borderImage:w$2,borderImageOutset:w$2,borderImageRepeat:w$2,borderImageSlice:w$2,borderImageSource:w$2,borderImageWidth:w$2}},prefixAll=createPrefixer(staticData),defaultSelectorHandlers=[function(e,t,r){return":"!==e[0]?null:r(t+e)},function(e,t,r){if("@"!==e[0])return null;var n=r(t);return["".concat(e,"{").concat(n.join(""),"}")]}],generateCSS=function e(t,r,n,i,o){for(var a=new OrderedElements,s=0;s<r.length;s++)a.addStyleType(r[s]);var l=new OrderedElements,c=[];a.forEach(function(r,a){n.some(function(s){var l=s(a,t,function(t){return e(t,[r],n,i,o)});if(null!=l)return Array.isArray(l)?c.push.apply(c,_toConsumableArray(l)):c.push("@media all {".concat(l,"}")),!0})||l.set(a,r,!0)});var u=generateCSSRuleset(t,l,i,o,n);return u&&c.unshift(u),c},runStringHandlers=function(e,t,r){if(t)for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i];e.has(o)&&e.set(o,t[o](e.get(o),r),!1)}},transformRule=function(e,t,r){return"".concat(kebabifyStyleName(e),":").concat(r(e,t),";")},arrayToObjectKeysReducer=function(e,t){return e[t]=!0,e},generateCSSRuleset=function(e,t,r,n,i){runStringHandlers(t,r,i);var o=Object.keys(t.elements).reduce(arrayToObjectKeysReducer,Object.create(null)),a=prefixAll(t.elements),s=Object.keys(a);if(s.length!==t.keyOrder.length)for(var l=0;l<s.length;l++)if(!o[s[l]]){var c=void 0;if((c="W"===s[l][0]?s[l][6].toLowerCase()+s[l].slice(7):"o"===s[l][1]?s[l][3].toLowerCase()+s[l].slice(4):s[l][2].toLowerCase()+s[l].slice(3))&&o[c]){var u=t.keyOrder.indexOf(c);t.keyOrder.splice(u,0,s[l])}else t.keyOrder.unshift(s[l])}for(var d=!1===n?stringifyValue:stringifyAndImportantifyValue,h=[],p=0;p<t.keyOrder.length;p++){var f=t.keyOrder[p],m=a[f];if(Array.isArray(m))for(var g=0;g<m.length;g++)h.push(transformRule(f,m[g],d));else h.push(transformRule(f,m,d))}return h.length?"".concat(e,"{").concat(h.join(""),"}"):""},styleTag=null,injectStyleTag=function(e){if(null==styleTag&&null==(styleTag=document.querySelector("style[data-aphrodite]"))){var t=document.head||document.getElementsByTagName("head")[0];(styleTag=document.createElement("style")).type="text/css",styleTag.setAttribute("data-aphrodite",""),t.appendChild(styleTag)}var r=styleTag.styleSheet||styleTag.sheet;if(r.insertRule){var n=r.cssRules.length;e.forEach(function(e){try{r.insertRule(e,n),n+=1}catch(t){}})}else styleTag.innerText=(styleTag.innerText||"")+e.join("")},stringHandlers={fontFamily:function e(t){if(Array.isArray(t)){var r={};return t.forEach(function(t){r[e(t)]=!0}),Object.keys(r).join(",")}return"object"===_typeof(t)?(injectStyleOnce(t.src,"@font-face",[t],!1),'"'.concat(t.fontFamily,'"')):t},animationName:function e(t,r){if(Array.isArray(t))return t.map(function(t){return e(t,r)}).join(",");if("object"===_typeof(t)){var n="keyframe_".concat(hashObject(t)),i="@keyframes ".concat(n,"{");return t instanceof OrderedElements?t.forEach(function(e,t){i+=generateCSS(t,[e],r,stringHandlers,!1).join("")}):Object.keys(t).forEach(function(e){i+=generateCSS(e,[t[e]],r,stringHandlers,!1).join("")}),injectGeneratedCSSOnce(n,[i+="}"]),n}return t}},alreadyInjected={},injectionBuffer=[],isBuffering=!1,injectGeneratedCSSOnce=function(e,t){var r;if(!alreadyInjected[e]){if(!isBuffering){if("undefined"==typeof document)throw new Error("Cannot automatically buffer without a document");isBuffering=!0,asap(flushToStyleTag)}(r=injectionBuffer).push.apply(r,_toConsumableArray(t)),alreadyInjected[e]=!0}},injectStyleOnce=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!alreadyInjected[e]){var o=generateCSS(t,r,i,stringHandlers,n);injectGeneratedCSSOnce(e,o)}},reset=function(){injectionBuffer=[],alreadyInjected={},isBuffering=!1,styleTag=null},resetInjectedStyle=function(e){delete alreadyInjected[e]},startBuffering=function(){if(isBuffering)throw new Error("Cannot buffer while already buffering");isBuffering=!0},flushToArray=function(){isBuffering=!1;var e=injectionBuffer;return injectionBuffer=[],e},flushToString=function(){return flushToArray().join("")},flushToStyleTag=function(){var e=flushToArray();e.length>0&&injectStyleTag(e)},getRenderedClassNames=function(){return Object.keys(alreadyInjected)},addRenderedClassNames=function(e){e.forEach(function(e){alreadyInjected[e]=!0})},isValidStyleDefinition=function(e){return"_definition"in e&&"_name"in e&&"_len"in e},processStyleDefinitions=function e(t,r,n,i){for(var o=0;o<t.length;o+=1)if(t[o])if(Array.isArray(t[o]))i+=e(t[o],r,n,i);else{if(!isValidStyleDefinition(t[o]))throw new Error("Invalid Style Definition: Styles should be defined using the StyleSheet.create method.");r.push(t[o]._name),n.push(t[o]._definition),i+=t[o]._len}return i},injectAndGetClassName=function(e,t,r){var n,i=[],o=[],a=processStyleDefinitions(t,i,o,0);return 0===i.length?"":(n=1===i.length?"_".concat(i[0]):"_".concat(hashString(i.join())).concat((a%36).toString(36)),injectStyleOnce(n,".".concat(n),o,e,r),n)},unminifiedHashFn=function(e,t){return"".concat(t,"_").concat(hashString(e))},initialHashFn=function(){return hashString},hashFn=initialHashFn(),StyleSheet$1={create:function(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n+=1){var i=r[n],o=e[i],a=JSON.stringify(o);t[i]={_len:a.length,_name:hashFn(a,i),_definition:o}}return t},rehydrate:function(){addRenderedClassNames(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}},StyleSheetServer="undefined"!=typeof window?null:{renderStatic:function(e){return reset(),startBuffering(),{html:e(),css:{content:flushToString(),renderedClassNames:getRenderedClassNames()}}}},StyleSheetTestUtils=null;function makeExports(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultSelectorHandlers;return{StyleSheet:_objectSpread({},StyleSheet$1,{extend:function(r){var n=r.map(function(e){return e.selectorHandler}).filter(function(e){return e});return makeExports(e,t.concat(n))}}),StyleSheetServer:StyleSheetServer,StyleSheetTestUtils:StyleSheetTestUtils,minify:function(e){hashFn=e?hashString:unminifiedHashFn},css:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return injectAndGetClassName(e,n,t)},flushToStyleTag:flushToStyleTag,injectAndGetClassName:injectAndGetClassName,defaultSelectorHandlers:defaultSelectorHandlers,reset:reset,resetInjectedStyle:resetInjectedStyle}}var useImportant=!0,Aphrodite=makeExports(useImportant),StyleSheet=Aphrodite.StyleSheet;Aphrodite.StyleSheetServer,Aphrodite.StyleSheetTestUtils;var css=Aphrodite.css;Aphrodite.minify,Aphrodite.flushToStyleTag,Aphrodite.injectAndGetClassName,Aphrodite.defaultSelectorHandlers,Aphrodite.reset,Aphrodite.resetInjectedStyle;var classnames={exports:{}},hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,e=classnames,function(){var t={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,n(r)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var o in e)t.call(e,o)&&e[o]&&(n=i(n,o));return n}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):window.classNames=r}()),classnames.exports;var e}var classnamesExports=requireClassnames();const cn=getDefaultExportFromCjs$1(classnamesExports),addLibraryVersionToPerseusDebug$1=(e,t)=>{let r="v";"__lib_version__"===t&&(r="");const n=`${r}${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==n){const r=Array.isArray(t)?t:[t];r.push(n),globalThis.__perseus_debug__[e]=r}}else globalThis.__perseus_debug__[e]=n}},libName$6="@khanacademy/kas",libVersion$6="2.1.5";addLibraryVersionToPerseusDebug$1(libName$6,libVersion$6),function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,11],r=[1,9],n=[8,17],i=[6,11],o=[6,11,13,17],a={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return{type:"unitMagnitude",magnitude:o[s-2],unit:o[s-1]};case 2:return{type:"unitStandalone",unit:o[s-1]};case 3:this.$=o[s-2]+"e"+o[s];break;case 4:case 13:case 14:case 15:case 17:this.$=o[s];break;case 5:this.$={num:o[s-2],denom:o[s]};break;case 6:this.$={num:o[s],denom:null};break;case 7:this.$=[o[s-2]].concat(o[s]);break;case 8:this.$=[o[s-1]].concat(o[s]);break;case 9:this.$=[o[s]];break;case 10:this.$={name:o[s-2],pow:o[s]};break;case 11:this.$={name:o[s],pow:1};break;case 12:this.$=e;break;case 16:this.$="-"+o[s]}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:r},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},e(n,[2,13]),e(n,[2,14]),e(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),e([6,8,11,13,17],[2,15]),e(o,[2,11],{15:[1,18]}),e([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},e(i,[2,8]),{16:25,19:r},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},e(i,[2,7]),e(o,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,c=i.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);u.setInput(e,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var p=u.yylloc;i.push(p);var f=u.options&&u.options.ranges;function m(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,v,x,$,S,E,w={};;){if(y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null==g&&(g=m()),b=o[y]&&o[y][g]),void 0===b||!b.length||!b[0]){var _="";for(x in E=[],o[y])this.terminals_[x]&&x>2&&E.push("'"+this.terminals_[x]+"'");_=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:u.match,token:this.terminals_[g]||g,line:u.yylineno,loc:p,expected:E})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:r.push(g),n.push(u.yytext),i.push(u.yylloc),r.push(b[1]),g=null,l=u.yyleng,a=u.yytext,s=u.yylineno,p=u.yylloc;break;case 2:if($=this.productions_[b[1]][1],w.$=n[n.length-$],w._$={first_line:i[i.length-($||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-($||1)].first_column,last_column:i[i.length-1].last_column},f&&(w._$.range=[i[i.length-($||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.apply(w,[a,l,s,d.yy,b[1],n,i].concat(c))))return v;$&&(r=r.slice(0,-1*$*2),n=n.slice(0,-1*$),i=i.slice(0,-1*$)),r.push(this.productions_[b[1]][0]),n.push(w.$),i.push(w._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},s=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:case 10:case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();function l(){this.yy={}}a.lexer=s,l.prototype=a,a.Parser=l,new l}();var parser=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,7],r=[1,17],n=[1,13],i=[1,14],o=[1,15],a=[1,32],s=[1,22],l=[1,23],c=[1,24],u=[1,25],d=[1,26],h=[1,33],p=[1,27],f=[1,28],m=[1,29],g=[1,30],y=[1,20],b=[1,36],v=[1,37],x=[5,6,8,10,33,35,41,43,45],$=[1,39],S=[1,40],E=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],w=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],_=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],M={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return new n.Eq(o[s-3],o[s-2],o[s-1]);case 2:return o[s-1];case 3:return new n.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=o[s];break;case 5:this.$=n.Add.createOrAppend(o[s-2],o[s]);break;case 6:this.$=n.Add.createOrAppend(o[s-2],n.Mul.handleNegative(o[s],"subtract"));break;case 8:this.$=n.Mul.fold(n.Mul.createOrAppend(o[s-1],o[s]));break;case 9:this.$=n.Mul.fold(n.Mul.createOrAppend(o[s-2],o[s]));break;case 10:this.$=n.Mul.fold(n.Mul.handleDivide(o[s-2],o[s]));break;case 12:this.$=n.Mul.handleNegative(o[s]);break;case 14:case 17:this.$=[e];break;case 16:this.$=o[s-2].concat(o[s]);break;case 18:this.$=n.Log.natural();break;case 19:this.$=n.Log.common();break;case 21:this.$=n.Trig.create(o[s-1],o[s]);break;case 22:this.$=n.Log.create(o[s-1],o[s]);break;case 24:this.$=new n.Pow(o[s-2],o[s]);break;case 26:case 34:this.$=e;break;case 27:this.$=new n.Var(o[s-2],o[s]);break;case 28:this.$=new n.Var(o[s]);break;case 29:this.$=new n.Const(e.toLowerCase());break;case 30:this.$=n.Int.create(Number(e));break;case 31:this.$=n.Float.create(Number(e));break;case 32:this.$=o[s-1].completeParse();break;case 33:this.$=o[s-1].completeParse().addHint("parens");break;case 35:case 36:this.$=n.Pow.sqrt(o[s-1]);break;case 37:this.$=new n.Pow.nthroot(o[s-1],o[s-4]);break;case 38:case 39:case 40:this.$=new n.Abs(o[s-1]);break;case 41:this.$=new n.Func(o[s-3],o[s-1]);break;case 44:this.$=n.Mul.handleDivide(o[s-4],o[s-1])}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},e([5,6],[2,4],{8:b,10:v}),e(x,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(E,[2,11]),{10:t,11:8,13:41,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,13]),{10:t,11:8,13:42,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{10:t,11:8,13:43,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,23]),e(w,[2,15],{18:[1,44]}),e(w,[2,17]),e(w,[2,18]),e(w,[2,19],{23:[1,45]}),e(E,[2,25],{18:[1,46]}),e([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),e(_,[2,42]),e(_,[2,43]),{32:[1,47]},e(_,[2,28],{23:[1,48]}),e(_,[2,29]),e(_,[2,30]),e(_,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:50,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:56,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{34:[1,57]},e([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{9:60,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,8]),{10:t,11:8,13:61,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{10:t,11:8,13:62,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},e(E,[2,12]),e(E,[2,21]),e(E,[2,22]),{10:t,11:8,13:63,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{24:64,27:21,28:a,29:s,30:l,31:c,32:u,34:d},{10:t,11:8,13:65,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:66,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{24:67,27:21,28:a,29:s,30:l,31:c,32:u,34:d},{8:b,10:v,33:[1,68]},{8:b,10:v,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:71,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:72,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:73,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{8:b,10:v,43:[1,74]},{8:b,10:v,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{6:[1,77]},e(x,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(x,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$,14:S,16:r,19:n,21:i,22:o,28:a,29:s,30:l,31:c,32:u,34:d,37:h,39:p,42:f,44:g,46:y}),e(E,[2,9]),e(E,[2,10]),e(w,[2,16]),e(w,[2,20]),e(E,[2,24]),{8:b,10:v,33:[1,78]},e(_,[2,27]),e(_,[2,32]),e(_,[2,33]),{8:b,10:v,35:[1,79]},{8:b,10:v,33:[1,80]},{8:b,10:v,41:[1,81]},{8:b,10:v,35:[1,82]},e(_,[2,39]),e(_,[2,40]),{8:b,10:v,35:[1,83]},{1:[2,1]},{32:[1,84]},e(_,[2,35]),e(_,[2,36]),{32:[1,85]},e(_,[2,38]),e(_,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{7:87,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:o,24:18,25:11,26:16,27:21,28:a,29:s,30:l,31:c,32:u,34:d,36:31,37:h,38:19,39:p,42:f,43:m,44:g,46:y},{8:b,10:v,33:[1,88]},{8:b,10:v,33:[1,89]},e(_,[2,44]),e(_,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,c=i.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);u.setInput(e,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var p=u.yylloc;i.push(p);var f=u.options&&u.options.ranges;function m(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,v,x,$,S,E,w={};;){if(y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null==g&&(g=m()),b=o[y]&&o[y][g]),void 0===b||!b.length||!b[0]){var _="";for(x in E=[],o[y])this.terminals_[x]&&x>2&&E.push("'"+this.terminals_[x]+"'");_=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:u.match,token:this.terminals_[g]||g,line:u.yylineno,loc:p,expected:E})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:r.push(g),n.push(u.yytext),i.push(u.yylloc),r.push(b[1]),g=null,l=u.yyleng,a=u.yytext,s=u.yylineno,p=u.yylloc;break;case 2:if($=this.productions_[b[1]][1],w.$=n[n.length-$],w._$={first_line:i[i.length-($||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-($||1)].first_column,last_column:i[i.length-1].last_column},f&&(w._$.range=[i[i.length-($||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.apply(w,[a,l,s,d.yy,b[1],n,i].concat(c))))return v;$&&(r=r.slice(0,-1*$*2),n=n.slice(0,-1*$),i=i.slice(0,-1*$)),r.push(this.productions_[b[1]][0]),n.push(w.$),i.push(w._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},C=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(e,t,r,n){switch(r){case 0:case 1:case 2:case 84:break;case 3:return"INT";case 4:return"FLOAT";case 5:case 15:return"^";case 6:case 7:case 8:case 9:return"*";case 10:case 11:return"/";case 12:case 13:return"-";case 14:return"+";case 16:case 18:return"(";case 17:case 19:return")";case 20:return"[";case 21:return"]";case 22:case 24:return"{";case 23:case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:case 34:case 40:return t.yytext="<=","SIGN";case 33:case 35:case 41:return t.yytext=">=","SIGN";case 36:case 37:case 38:case 39:return t.yytext="<>","SIGN";case 42:case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:case 49:case 50:case 51:return"TRIG";case 52:return t.yytext="sin","TRIG";case 53:return t.yytext="cos","TRIG";case 54:return t.yytext="tan","TRIG";case 55:return t.yytext="csc","TRIG";case 56:return t.yytext="sec","TRIG";case 57:return t.yytext="cot","TRIG";case 58:return t.yytext="arcsin","TRIG";case 59:return t.yytext="arccos","TRIG";case 60:return t.yytext="arctan","TRIG";case 61:return t.yytext="arccsc","TRIG";case 62:return t.yytext="arcsec","TRIG";case 63:return t.yytext="arccot","TRIG";case 64:case 65:return"TRIGINV";case 66:return t.yytext="sinh","TRIG";case 67:return t.yytext="cosh","TRIG";case 68:case 71:return t.yytext="tanh","TRIG";case 69:return t.yytext="csch","TRIG";case 70:return t.yytext="sech","TRIG";case 72:return"CONST";case 73:case 74:return t.yytext="pi","CONST";case 75:case 78:return"VAR";case 76:case 77:return t.yytext="theta","VAR";case 79:case 80:return t.yytext="phi","VAR";case 81:return e.symbolLexer(t.yytext);case 82:return"EOF";case 83:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|)/,/^(?:\\times|)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|)/,/^(?:-)/,/^(?:)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:)/,/^(?:)/,/^(?:)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}}}();function T(){this.yy={}}return M.lexer=C,T.prototype=M,M.Parser=T,new T}();const isNaN$1=function(e){return e!=e},isInfinite=function(e){return e===1/0||e===-1/0},randomFloat=function(e,t){var r=t-e;return Math.random()*r+e};var ITERATIONS=12,TOLERANCE=9;function partition(e,t){const r=[],n=[];return _.forEach(e,(e,i,o)=>{t(e,i,o)?r.push(e):n.push(e)}),[r,n]}function isExpr(e){return e instanceof Expr}const isAdd=function(e){return e instanceof Add};function isRational(e){return e instanceof Rational}function getFactors(e){return e instanceof Mul?e.terms:[e]}class Expr{construct(e){const t=new(0,this.func)(...e);if(void 0===t)throw new Error("constructor function returning undefined");return t}recurse(e,...t){var r=this.args().map(function(r){return _.isString(r)||_.isNumber(r)?r:r?.[e].apply(r,t)});return this.construct(r)}eval(e={},t){throw new Error("Abstract method - must override for expr: "+this.print())}codegen(){throw new Error("Abstract method - must override for expr: "+this.print())}compile(){var e=this.codegen();try{return new Function("vars","return "+e+";")}catch{throw new Error("Function did not compile: "+e)}}asTex(e){e=e||{},_.defaults(e,{display:!0,dynamic:!0,times:!1});let t=this.tex();return e.display&&(t="\\displaystyle "+t),e.dynamic&&(t=t.replace(/\(/g,"\\left("),t=t.replace(/\)/g,"\\right)")),e.times&&(t=t.replace(/\\cdot/g,"\\times")),t}name(){return this.func.name}repr(){return this.name()+"("+this.args().map(function(e){return _.isString(e)||_.isNumber(e)?e:e?.repr()}).join(",")+")"}strip(){return this.recurse("strip")}normalize(){return this.recurse("normalize")}expand(){return this.recurse("expand")}factor(e){return this.recurse("factor",e)}collect(e){return this.recurse("collect",e)}equals(e){return this.normalize().print()===e.normalize().print()}simplify(e){e={once:!1,...e};var t=this.factor(e),r=t.collect(e);t.equals(r)&&(r=this.collect(e));var n=r.expand(),i=n.collect(e);n.equals(i)&&(i=r.collect(e));var o=i;return e.once||this.equals(o)?o:o.simplify(e)}isSimplified(){return this.equals(this.simplify())}exprArgs(){return this.args().filter(isExpr)}getVars(e){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getVars",e))).sort()}getConsts(){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getConsts"))).sort()}getUnits(){return _.flatten(_.invoke(this.exprArgs(),"getUnits"))}is(e){return this instanceof e}has(e){return this instanceof e||_.any(this.exprArgs(),function(t){return t.has(e)})}raiseToThe(e,t){return new Pow(this,e)}isSubtract(){return!1}isDivide(){return!1}isRoot(){return!1}needsExplicitMul(){return this.exprArgs()[0].needsExplicitMul()}sameVars(e){var t=this.getVars(),r=e.getVars(),n=function(e,t){return!_.difference(e,t).length},i=function(e){return _.uniq(_.invoke(e,"toLowerCase")).sort()};return{equal:n(t,r),equalIgnoringCase:n(i(t),i(r))}}compare(e){if(e instanceof Eq)return!1;var t=_.union(this.getVars(!0),e.getVars(!0)),r=function(e,t){var r=function(e,t){return Math.abs(e)<1||Math.abs(t)<1?Math.abs(e-t):Math.abs(1-e/t)}(e,t);return isInfinite(e)&&isInfinite(t)||isNaN$1(e)&&isNaN$1(t)||r<Math.pow(10,-9)};if(!_.union(this.getVars(!1),e.getVars(!1)).length&&!this.has(Unit)&&!e.has(Unit))return r(this.eval(),e.eval());var n=this.collect(),i=e.collect(),o=this.getUnits(),a=e.getUnits();if(!_.isEqual(o,a))return!1;for(var s=0;s<ITERATIONS;s++){var l={},c=Math.pow(10,1+Math.floor(3*s/ITERATIONS)),u=s%2==0;let e;if(_.each(t,function(e){l[e]=u?randomFloat(-c,c):_.random(-c,c)}),n.has(Func)||i.has(Func)||n.has(Unit)||i.has(Unit)){const t=n.partialEval(l),r=i.partialEval(l);e=t.simplify().equals(r.simplify())}else{e=r(n.eval(l),i.eval(l))}if(!e)return!1}return!0}partialEval(e){return this instanceof Unit?this:this.has(Func)?this instanceof Func?new Func(this.symbol,this.arg.partialEval(e)):this.recurse("partialEval",e):new Float(+this.eval(e).toFixed(TOLERANCE)).collect()}sameForm(e){return this.strip().equals(e.strip())}findGCD(e){return this.equals(e)?e:NumOne}getDenominator(){return NumOne}asMul(){return new Mul(NumOne,this)}isPositive(){throw new Error("Abstract method - must override for expr: "+this.print())}isNegative(){return!1}asPositiveFactor(){return this.isPositive()?this:NumOne}addHint(e){if(!e)return this;var t=this.construct(this.args());return t.hints=_.clone(this.hints),t.hints[e]=!0,t}completeParse(){return this.recurse("completeParse")}abs(){throw new Error("Abstract method - must override for expr: "+this.print())}negate(){return new Mul(NumNeg,this)}constructor(){this.hints={parens:!1}}}class Seq extends Expr{args(){return this.terms}normalize(){var e=_.sortBy(_.invoke(this.terms,"normalize"),e=>e.print());return new this.func(e)}expand(){return this.recurse("expand").flatten()}partition(){var[e,t]=partition(this.terms,e=>e instanceof Num);return[new this.func(e),new this.func(t)]}flatten(){var e=this,t=_.reject(this.terms,t=>t.equals(e.identity));if(0===t.length)return e.identity;if(1===t.length)return t[0];const[r,n]=partition(t,t=>t instanceof e.func);var i=n.concat(_.flatten(_.pluck(r,"terms"),!0));return new e.func(i)}isPositive(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isPositive"))}replace(e,t){const r=e instanceof Expr?_.indexOf(this.terms,e):e;var n=[];Array.isArray(t)?n=t:t&&(n=[t]);var i=this.terms.slice(0,r).concat(n).concat(this.terms.slice(r+1));return new this.func(i)}remove(e){return this.replace(e)}getDenominator(){return new Mul(_.invoke(this.terms,"getDenominator")).flatten()}constructor(...e){super(),1===e.length?this.terms=e[0]:this.terms=e}}class Add extends Seq{eval(e={},t){return _.reduce(this.terms,(r,n)=>r+n.eval(e,t),0)}codegen(){return _.map(this.terms,e=>"("+e.codegen()+")").join(" + ")||"0"}print(){return _.invoke(this.terms,"print").join("+")}tex(){let e="";return _.each(this.terms,t=>{!e||t.isSubtract()?e+=t.tex():e+="+"+t.tex()}),e}collect(e){var t=_.invoke(this.terms,"collect",e),r=[];_.each(t,t=>{if(t instanceof Mul){var n=t.partition();r.push([n[1].flatten(),n[0].reduce(e)])}else t instanceof Num?r.push([NumOne,t]):r.push([t,NumOne])});var n=_.groupBy(r,e=>e[0].normalize().print()),i=_.compact(_.map(n,t=>{var r=t[0][0],n=new Add(_.zip.apply(_,t)[1]).reduce(e);return new Mul(n,r).collect(e)}));return new Add(i).flatten()}factor(e={keepNegative:!1}){const t=this.terms.map(e=>e.collect());let r;r=t[0]instanceof Mul?t[0].terms:[t[0]],_.each(_.rest(this.terms),e=>{r=_.map(r,t=>e.findGCD(t))}),!e.keepNegative&&this.isNegative()&&r.push(NumNeg);const n=new Mul(r).flatten().collect(),i=t.map(e=>Mul.handleDivide(e,n).simplify()),o=new Add(i).flatten();return Mul.createOrAppend(n,o).flatten()}reduce(e){return _.reduce(this.terms,(t,r)=>t.add(r,e),this.identity)}needsExplicitMul(){return!1}isNegative(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isNegative"))}negate(){return new Add(_.invoke(this.terms,"negate"))}static createOrAppend(e,t){return e instanceof Add?new Add(e.terms.concat(t)):new Add(e,t)}constructor(...e){super(...e),this.identity=NumZero,this.func=Add}}class Mul extends Seq{eval(e={},t){return _.reduce(this.terms,(r,n)=>r*n.eval(e,t),1)}codegen(){return _.map(this.terms,e=>"("+e.codegen()+")").join(" * ")||"0"}print(){return _.map(this.terms,e=>e instanceof Add?"("+e.print()+")":e.print()).join("*")}getUnits(){var e=_(this.terms).chain().map(e=>e.getUnits()).flatten().value();return e.sort((e,t)=>e.unit.localeCompare(t.unit)),e}tex(){for(var e,t=" \\cdot ",r=_.groupBy(this.terms,e=>e.isDivide()?"inverse":e instanceof Num?"number":"other"),n=r.inverse||[],i=r.number||[],o=r.other||[],a="",s=0;s<i.length;s++){if(i[s]instanceof Rational&&!(i[s]instanceof Int)&&o.length>0&&n.length>0){var l=i.slice();l.splice(s,1);var c=l.concat(n).concat(o);return i[s].tex()+new Mul(c).tex()}}if(0===(i=_.compact(_.map(i,e=>{var t=!e.hints.fraction||n.length>0;if(e instanceof Rational&&!(e instanceof Int)&&t){n.push(new Pow(new Int(e.d),NumDiv));var r=new Int(e.n);return r.hints=e.hints,_.any(e.hints)?r:null}return e}))).length&&1===o.length)e=o[0].tex();else{var u="";_.each(i,e=>{e.hints.subtract&&e.hints.entered?(a+="-",u+=(u?t:"")+e.abs().tex()):e instanceof Int&&-1===e.n&&(e.hints.negate||e.hints.subtract)?a+="-":u+=(u?t:"")+e.tex()}),_.each(o,e=>{e.needsExplicitMul()?u+=(u?t:"")+e.tex():u+=e instanceof Add?"("+e.tex()+")":e.tex()}),e=u||"1"}if(n.length){var d=new Mul(_.invoke(n,"asDivide")).flatten().tex();return a+"\\frac{"+e+"}{"+d+"}"}return a+e}strip(){var e=_.map(this.terms,e=>e instanceof Num?e.abs():e.strip());return new Mul(e).flatten()}expand(){const e=function(e){return e instanceof Pow&&e.exp.isNegative()},t=this.recurse("expand").flatten(),r=getFactors(t),n=_.any(r,isAdd),i=_.any(r,function(t){return e(t)&&isAdd(t.base)});if(!n&&!i)return t;let[o,a]=partition(r,e);if(n){const[e,t]=partition(a,isAdd),r=_.reduce(e,function(e,t){return _.reduce(e,function(e,r){return e.concat(_.map(t.terms,e=>r.concat(e)))},[])},[[]]),n=_.map(r,function(e){return new Mul(t.concat(e)).flatten()});a=[new Add(n)]}if(i){const e=new Mul(_.invoke(o,"getDenominator")).flatten();o=[new Pow(e.expand(),NumDiv)]}return new Mul(a.concat(o)).flatten()}factor(e){var t=this.recurse("factor",e).flatten();if(!(t instanceof Mul))return t;var[r,n]=partition(t.terms,e=>e instanceof Rational);const i=_.reduce(r,(e,t)=>({n:e.n*t.n,d:e.d*t.d}),{n:1,d:1}),o=1===i.d?new Int(i.n):new Rational(i.n,i.d);return new Mul(n.concat(o)).flatten()}collect(e){var t=this.recurse("collect",e).partition(),r=t[0].reduce(e);if(0===r.eval())return NumZero;const n=t[1].flatten();if(!(n instanceof Mul))return new Mul(r,n).flatten();const i=n.terms;var o=[];_.each(i,e=>{e instanceof Pow?o.push([e.base,e.exp]):o.push([e,NumOne])});var a=_.groupBy(o,e=>e[0].normalize().print()),s=_.compact(_.map(a,t=>{var r=t[0][0],n=new Add(_.zip.apply(_,t)[1]).collect(e);return n instanceof Num&&0===n.eval()?null:[r,n]}));const l=_.groupBy(s,e=>e[0]instanceof Trig&&e[0].isBasic()?"trig":e[0]instanceof Log?"log":"expr");let c=l.trig||[],u=l.log||[];const d=l.expr||[];if(c.length>1){var h=_.groupBy(c,e=>e[0].arg.normalize().print());c=[],_.each(h,t=>{const r=t[0][0].arg;let n={sin:NumZero,cos:NumZero};_.each(t,e=>{n[e[0].type]=e[1]}),Mul.handleNegative(n.sin).collect(e).equals(n.cos)&&(n=n.cos.isNegative()?{tan:n.sin}:{cot:n.cos}),_.each(n,(e,t)=>{c.push([new Trig(t,r),e])})})}if(u.length>1){var p=_.groupBy(u,e=>e[0].base.normalize().print());u=[],_.each(p,t=>{2===t.length&&Mul.handleNegative(t[0][1]).collect(e).equals(t[1][1])?t[0][1].isNegative()?u.push([new Log(t[0][0].power,t[1][0].power),t[1][1]]):u.push([new Log(t[1][0].power,t[0][0].power),t[0][1]]):u=u.concat(t)})}var f=_.map([...c,...u,...d],t=>new Pow(t[0],t[1]).collect(e));return new Mul([r].concat(f)).flatten()}isSubtract(){return _.any(this.terms,e=>e instanceof Num&&Boolean(e.hints.subtract))}factorIn(e){var t=this.partition()[0].terms;if(t.length&&_.all(t,e=>e.n>0)){var r=t[0].negate();return r.hints=t[0].hints,this.replace(t[0],r.addHint(e))}return new Mul([Num.negativeOne(e)].concat(this.terms))}factorOut(){var e=!1,t=_.compact(_.map(this.terms,t=>!e&&t instanceof Num&&t.hints.divide?(e=!0,-1!==t.n?t.negate():null):t));return 1===t.length?t[0]:new Mul(t)}reduce(e){return _.reduce(this.terms,(t,r)=>t.mul(r,e),this.identity)}findGCD(e){return new Mul(_.invoke(this.terms,"findGCD",e)).flatten()}asMul(){return this}asPositiveFactor(){if(this.isPositive())return this;{const e=getFactors(this.collect()).map(e=>e.asPositiveFactor());return new Mul(e).flatten()}}isNegative(){const e=getFactors(this.collect()).map(e=>e.isNegative());return _.any(e)}fold(){return Mul.fold(this)}negate(){const e=_.find(this.terms,e=>e instanceof Num);return e?this.replace(e,e.negate()):new Mul([NumNeg].concat(this.terms))}static handleNegative(e,t){if(e instanceof Num&&e.n>0){var r=e.negate();return r.hints=e.hints,r.addHint(t)}return e instanceof Mul?e.factorIn(t):new Mul(Num.negativeOne(t),e)}static handleDivide(e,t){if(t instanceof Mul){var r=Mul.handleDivide(e,t.terms[0]),n=new Mul(_.rest(t.terms)).flatten();return Mul.handleDivide(r,n)}var i=e=>e instanceof Int;if(i(t)&&e instanceof Mul&&_.any(e.terms,i)){var o=e.terms.slice().reverse(),a=o.find(e=>e instanceof Rational);if(!i(a))return new Mul(e.terms.concat([new Rational(1,t.n).addHint("fraction")]));var s=new Rational(a.n,t.n);return s.hints=a.hints,a===o[0]&&(s=s.addHint("fraction")),a.n<0&&t.n<0?(s.d=-s.d,e.replace(a,[NumNeg,s])):e.replace(a,s)}var l=(e,t)=>{if(t instanceof Int){if(e instanceof Int)return e.n<0&&t.n<0?[NumNeg,new Rational(e.n,-t.n).addHint("fraction")]:[new Rational(e.n,t.n).addHint("fraction")];var r=new Rational(1,t.eval());return t.eval()<0?[e,r.addHint("negate")]:[e,r]}var n;if(t instanceof Trig&&t.exp){var i=t.exp;t.exp=void 0,t=new Pow(t,i)}return n=t instanceof Pow?new Pow(t.base,Mul.handleNegative(t.exp,"divide")):new Pow(t,NumDiv),e instanceof Int&&1===e.n?[n]:[e,n]};if(e instanceof Mul){var c=l(_.last(e.terms),t);return new Mul(_.initial(e.terms).concat(c))}c=l(e,t);return new Mul(c).flatten()}static fold(e){if(e instanceof Mul){var t=_.find(_.initial(e.terms),e=>(e instanceof Trig||e instanceof Log)&&Boolean(e.hints.open));if(t){const r=_.last(e.terms);if(!(t.hints.parens||r.hints.parens||r.has(Trig)||r.has(Log))){const n=t instanceof Trig?Trig.create([t.type,t.exp],Mul.createOrAppend(t.arg,r).fold()):Log.create(t.base,Mul.createOrAppend(t.power,r).fold()),i=_.indexOf(e.terms,t);return 0===i?n:new Mul(e.terms.slice(0,i).concat(n)).fold()}t.hints.open=!1}var r=e.partition()[0].terms,n=e=>e.n>0,i=e=>-1===e.n&&Boolean(e.hints.negate);const s=r.find(n),l=r.find(i);if(r.length>1&&l&&s&&_.every(r,function(e){return n(e)||i(e)})){var o=_.indexOf(e.terms,l),a=_.indexOf(e.terms,s);if(o<a)return e.replace(a,e.terms[a].negate()).remove(o)}}return e}static createOrAppend(e,t){return e instanceof Mul?new Mul(e.terms.concat(t)):new Mul(e,t)}constructor(...e){super(...e),this.identity=NumOne,this.func=Mul}}class Pow extends Expr{args(){return[this.base,this.exp]}eval(e={},t){var r=this.base.eval(e,t),n=this.exp.eval(e,t);if(r<0){var i=this.exp.simplify();if(i instanceof Float){var o=i.n,a=(o-+o.toFixed()).toString().length-2,s=Math.pow(10,a);i=new Rational(o*s,s).simplify()}if(i instanceof Rational)if(Math.abs(i.d)%2==1)return(Math.abs(i.n)%2==1?-1:1)*Math.pow(-1*r,n)}return Math.pow(r,n)}getUnits(){return this.base.getUnits().map(e=>({unit:e.unit,pow:e.pow*this.exp.n}))}codegen(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"}print(){var e=this.base.print();return(this.base instanceof Seq||this.base instanceof Pow)&&(e="("+e+")"),e+"^("+this.exp.print()+")"}tex(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot()&&isRational(this.exp)){if(1!==this.exp.n)throw new Error("Node marked with hint 'root' does not have exponent of form 1/x.");return 2===this.exp.d?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}if(this.base instanceof Trig&&!this.base.isInverse()&&this.exp instanceof Num&&this.exp.isSimple()&&this.exp.eval()>=0){var e=this.base.texSplit();return e[0]+"^{"+this.exp.tex()+"}"+e[1]}var t=this.base.tex();return this.base instanceof Seq||this.base instanceof Pow||this.base instanceof Num&&!this.base.isSimple()?t="("+t+")":(this.base instanceof Trig||this.base instanceof Log)&&(t="["+t+"]"),t+"^{"+this.exp.tex()+"}"}needsExplicitMul(){return!this.isRoot()&&this.base.needsExplicitMul()}expand(){var e=this.recurse("expand");if(e.base instanceof Mul){var t=_.map(e.base.terms,t=>new Pow(t,e.exp));return new Mul(t).expand()}if(e.base instanceof Add&&e.exp instanceof Int&&e.exp.abs().eval()>1){var r=e.exp.eval()>0,n=e.exp.abs().eval(),i=function(e){return r?e:new Pow(e,NumDiv)};const t={1:e.base};for(var o=2;o<=n;o*=2){const e=new Mul(t[o/2],t[o/2]);t[o]=e.expand().collect()}if(n in t)return i(t[n]);let a=_.map(n.toString(2).split(""),function(e,t,r){return Number(e)*Math.pow(2,r.length-t-1)});a=_.without(a,0);const s=[];for(const e of a)e in t&&s.push(t[e]);return i(new Mul(s).expand().collect())}if(e.exp instanceof Add){const t=_.map(e.exp.terms,t=>new Pow(e.base,t).expand());return new Mul(t).expand()}return e}factor(){var e=this.recurse("factor");if(e.base instanceof Mul){var t=_.map(e.base.terms,t=>t instanceof Int&&e.exp.equals(NumDiv)?new Rational(1,t.n):new Pow(t,e.exp));return new Mul(t)}return e}collect(e){if(this.base instanceof Pow){const t=this.base.base,r=Mul.createOrAppend(this.base.exp,this.exp);return new Pow(t,r).collect(e)}const t=this.recurse("collect",e),r=function(e){return e instanceof Log&&e.base.equals(t.base)};if(t.exp instanceof Num&&0===t.exp.eval())return NumOne;if(t.exp instanceof Num&&1===t.exp.eval())return t.base;if(r(t.exp))return t.exp.power;if(t.exp instanceof Mul&&_.any(t.exp.terms,r)){const n=t.exp.terms.find(r),i=n.power,o=t.exp.remove(n).flatten();return new Pow(i,o).collect(e)}if(t.base instanceof Num&&t.exp instanceof Num){if(e&&e.preciseFloats){const e=t.exp.asRational(),r=t.base.getDecimalPlaces();if(new Pow(t.base,new Rational(1,e.d)).collect().getDecimalPlaces()>r){const r=new Pow(t.base,new Int(e.n)).collect();return new Pow(r,new Rational(1,e.d))}}return t.base.raiseToThe(t.exp,e)}return t}isDivide(){var e=function(e){return e instanceof Num&&Boolean(e.hints.divide)};return e(this.exp)||this.exp instanceof Mul&&_.any(this.exp.terms,e)}asDivide(){if(this.exp instanceof Num){if(-1===this.exp.eval())return this.base;var e=this.exp.negate();return e.hints=_.clone(this.exp.hints),e.hints.divide=!1,new Pow(this.base,e)}if(this.exp instanceof Mul)return new Pow(this.base,this.exp.factorOut());throw new Error("called asDivide() on an Expr that wasn't a Num or Mul")}isRoot(){return this.exp instanceof Rational&&Boolean(this.exp.hints.root)}isSquaredTrig(){return this.base instanceof Trig&&!this.base.isInverse()&&this.exp instanceof Num&&2===this.exp.eval()}getDenominator(){if(this.exp instanceof Num&&-1===this.exp.eval())return Mul.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var e=new Pow(this.base,Mul.handleNegative(this.exp).collect());return Mul.createOrAppend(e,e.collect().getDenominator()).flatten()}return this.base instanceof Num?new Pow(this.base.getDenominator(),this.exp).collect():NumOne}findGCD(e){const[t,r]=e instanceof Pow?[e.base,e.exp]:[e,NumOne];if(this.base.equals(t)){if(this.exp.equals(r))return this;if(this.exp instanceof Num&&r instanceof Num)return new Pow(this.base,Num.min(this.exp,r)).collect();if(this.exp instanceof Num||r instanceof Num)return NumOne;var n=this.exp.asMul().partition(),i=r.asMul().partition();if(n[1].equals(i[1])){var o=Num.min(n[0].reduce(),i[0].reduce()),a=new Mul(o,n[1].flatten()).flatten();return new Pow(t,a).collect()}}return NumOne}isPositive(){if(this.base.isPositive())return!0;var e=this.exp.simplify();return e instanceof Int&&e.eval()%2==0}asPositiveFactor(){if(this.isPositive())return this;var e=this.exp.simplify();if(e instanceof Int){var t=e.eval();if(t>2)return new Pow(this.base,new Int(t-1));if(t<-2)return new Pow(this.base,new Int(t+1))}return NumOne}static sqrt(e){return new Pow(e,NumSqrt)}constructor(e,t){super(),this.func=Pow,this.base=e,this.exp=t}}Pow.nthroot=function(e,t){var r=Mul.fold(Mul.handleDivide(new Int(1),t));return new Pow(e,r.addHint("root"))};class Log extends Expr{args(){return[this.base,this.power]}eval(e={},t){return Math.log(this.power.eval(e,t))/Math.log(this.base.eval(e,t))}codegen(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"}print(){var e="("+this.power.print()+")";return this.isNatural()?"ln"+e:"log_("+this.base.print()+") "+e}tex(){var e="("+this.power.tex()+")";return this.isNatural()?"\\ln"+e:"\\log_{"+this.base.tex()+"}"+e}collect(e){var t=this.recurse("collect",e);return t.power instanceof Num&&1===t.power.eval()?NumZero:t.base.equals(t.power)?NumOne:t.power instanceof Pow&&t.power.base.equals(t.base)?t.power.exp:t}expand(){var e=this.recurse("expand");if(e.power instanceof Mul){var t=_.map(e.power.terms,t=>new Log(e.base,t).expand());return new Add(t)}return e.power instanceof Pow?new Mul(e.power.exp,new Log(e.base,e.power.base).expand()).flatten():e.isNatural()?e:Mul.handleDivide(new Log(Const.e,e.power),new Log(Const.e,e.base))}isPositive(){var e=this.collect();return e instanceof Log&&e.base instanceof Num&&e.power instanceof Num&&this.eval()>0}needsExplicitMul(){return!1}isNatural(){return this.base.equals(Const.e)}static natural(){return Const.e}static common(){return NumTen}static create(e,t){var r=new Log(e,t);return t.hints.parens||(r=r.addHint("open")),r}constructor(e,t){super(),this.func=Log,this.base=e,this.power=t,this.hints={...this.hints,open:!1}}}class Trig extends Expr{args(){return[this.type,this.arg]}isEven(){return _.contains(["cos","sec"],this.type)}isInverse(){return 0===this.type.indexOf("arc")}isBasic(){return _.contains(["sin","cos"],this.type)}eval(e={},t){return(0,this.functions[this.type].eval)(this.arg.eval(e,t))}codegen(){var e=this.functions[this.type].codegen;if("function"==typeof e)return e(this.arg.codegen());if("string"==typeof e)return e+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)}print(){return this.type+"("+this.arg.print()+")"}tex(){return this.functions[this.type].tex+("("+this.arg.tex()+")")}texSplit(){return[this.functions[this.type].tex,"("+this.arg.tex()+")"]}isPositive(){var e=this.collect();return e instanceof Trig&&e.arg instanceof Num&&this.eval()>0}completeParse(){if(this.exp){var e=new Pow(this,this.exp);return this.exp=void 0,e}return this}needsExplicitMul(){return!1}expand(){var e=this.recurse("expand");if(e.isInverse())return e;var t=e.functions[e.type].expand;return _.bind(t,e)()}collect(e){var t=this.recurse("collect",e);if(!t.isInverse()&&t.arg.isNegative()){const r=t.arg instanceof Num?t.arg.abs():Mul.handleDivide(t.arg,NumNeg).collect(e);return t.isEven()?new Trig(t.type,r):new Mul(NumNeg,new Trig(t.type,r))}return t}static create(e,t){var r=e[0],n=e[1];n&&n.equals(NumNeg)&&(r="arc"+r,n=void 0);var i=new Trig(r,t);return t.hints.parens||(i=i.addHint("open")),n&&(i.exp=n),i}static sin(e){return new Trig("sin",e)}static cos(e){return new Trig("cos",e)}static sinh(e){return new Trig("sinh",e)}static cosh(e){return new Trig("cosh",e)}constructor(e,t){super(),this.func=Trig,this.functions={sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:()=>this},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:()=>this},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:()=>Mul.handleDivide(Trig.sin(this.arg),Trig.cos(this.arg))},csc:{eval:e=>1/Math.sin(e),codegen:"(1/Math.sin(",tex:"\\csc",expand:()=>Mul.handleDivide(NumOne,Trig.sin(this.arg))},sec:{eval:e=>1/Math.cos(e),codegen:"(1/Math.cos(",tex:"\\sec",expand:()=>Mul.handleDivide(NumOne,Trig.cos(this.arg))},cot:{eval:e=>1/Math.tan(e),codegen:"(1/Math.tan(",tex:"\\cot",expand:()=>Mul.handleDivide(Trig.cos(this.arg),Trig.sin(this.arg))},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:e=>Math.asin(1/e),codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:e=>Math.acos(1/e),codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:e=>Math.atan(1/e),codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:e=>(Math.exp(e)-Math.exp(-e))/2,codegen:e=>"((Math.exp("+e+") - Math.exp(-("+e+"))) / 2)",tex:"\\sinh",expand:()=>this},cosh:{eval:e=>(Math.exp(e)+Math.exp(-e))/2,codegen:e=>"((Math.exp("+e+") + Math.exp(-("+e+"))) / 2)",tex:"\\cosh",expand:()=>this},tanh:{eval:e=>(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e)),codegen:e=>"((Math.exp("+e+") - Math.exp(-("+e+"))) / (Math.exp("+e+") + Math.exp(-("+e+"))))",tex:"\\tanh",expand:()=>Mul.handleDivide(Trig.sinh(this.arg),Trig.cosh(this.arg))},csch:{eval:e=>2/(Math.exp(e)-Math.exp(-e)),codegen:e=>"(2 / (Math.exp("+e+") - Math.exp(-("+e+"))))",tex:"\\csch",expand:()=>Mul.handleDivide(NumOne,Trig.sinh(this.arg))},sech:{eval:e=>2/(Math.exp(e)+Math.exp(-e)),codegen:e=>"(2 / (Math.exp("+e+") + Math.exp(-("+e+"))))",tex:"\\sech",expand:()=>Mul.handleDivide(NumOne,Trig.cosh(this.arg))},coth:{eval:e=>(Math.exp(e)+Math.exp(-e))/(Math.exp(e)-Math.exp(-e)),codegen:e=>"((Math.exp("+e+") + Math.exp(-("+e+"))) / (Math.exp("+e+") - Math.exp(-("+e+"))))",tex:"\\coth",expand:()=>Mul.handleDivide(Trig.cosh(this.arg),Trig.sinh(this.arg))}},this.type=e,this.arg=t,this.hints={...this.hints,open:!1}}}class Abs extends Expr{args(){return[this.arg]}eval(e={},t){return Math.abs(this.arg.eval(e,t))}codegen(){return"Math.abs("+this.arg.codegen()+")"}print(){return"abs("+this.arg.print()+")"}tex(){return"\\left|"+this.arg.tex()+"\\right|"}collect(e){var t=this.recurse("collect",e);if(t.arg.isPositive())return t.arg;if(t.arg instanceof Num)return t.arg.abs();if(t.arg instanceof Mul){var r=_.groupBy(t.arg.terms,e=>e.isPositive()?"positive":e instanceof Num?"number":"other"),n=r.positive.concat(_.invoke(r.number,"abs"));return r.other.length&&n.push(new Abs(new Mul(r.other).flatten())),new Mul(n).flatten()}return t}expand(){var e=this.recurse("expand");if(e.arg instanceof Mul){var t=_.map(e.arg.terms,e=>new Abs(e));return new Mul(t)}return e}isPositive(){return!0}constructor(e){super(),this.func=Abs,this.arg=e}}class Eq extends Expr{args(){return[this.left,this.type,this.right]}needsExplicitMul(){return!1}print(){return this.left.print()+this.type+this.right.print()}tex(){return this.left.tex()+this.signs[this.type]+this.right.tex()}normalize(){var e=this.recurse("normalize");return _.contains([">",">="],e.type)?new Eq(e.right,e.type.replace(">","<"),e.left):e}asExpr(e=!1){var t=e=>e instanceof Num&&e.isSimple()&&0===e.eval();let r=[];this.left instanceof Add?r=_.clone(this.left.terms):t(this.left)||(r=[this.left]),this.right instanceof Add?r=r.concat(this.right.negate().terms):t(this.right)||r.push(this.right.negate());var n=!this.isEquality();r=_.invoke(r,"collect",{preciseFloats:!0});for(var i=0;i<r.length;i++){var o=r[i].getDenominator();n&&!o.isPositive()&&(o=o.asPositiveFactor()),o.equals(NumOne)||(r=_.map(r,e=>Mul.createOrAppend(e,o).simplify({once:!0,preciseFloats:!0})))}var a=new Add(r).flatten();return e?a:this.divideThrough(a)}divideThrough(e){const t=!this.isEquality(),r=e.simplify({once:!0}),n=r.factor({keepNegative:t});if(!(n instanceof Mul))return e;const i=n.terms,o=e=>!!e.getVars().length,[a,s]=partition(i,isAdd);if(a.length&&this.isEquality())return new Mul(a).flatten();let l=s;a.length||(l=_.reject(l,o)),t&&(l=_.invoke(l,"asPositiveFactor")),l=_.reject(l,e=>e.equals(NumOne)),l=_.map(l,e=>new Pow(e,NumDiv));const c=new Mul(i.concat(l)).collect();return c.equals(n)?r:c}isEquality(){return _.contains(["=","<>"],this.type)}compare(e){if(!(e instanceof Eq))return!1;var t=this.normalize(),r=e.normalize();if(t.type!==r.type)return!1;var n=t.divideThrough(t.asExpr(!0).collect()),i=r.divideThrough(r.asExpr(!0).collect());return t.isEquality()?n.compare(i)||n.compare(Mul.handleNegative(i)):n.compare(i)}sameForm(e){var t=this.normalize(),r=e.normalize(),n=t.left.sameForm(r.left)&&t.right.sameForm(r.right);return t.isEquality()?n||t.left.sameForm(r.right)&&t.right.sameForm(r.left):n}isSimplified(){var e=this.asExpr(!0),t=this.divideThrough(e).simplify();return e.equals(t)&&this.left.isSimplified()&&this.right.isSimplified()}solveLinearEquationForVariable(e){var t=this.asExpr();if(!(t instanceof Add)||2!==t.terms.length)throw new Error("Can only handle linear equations of the form a + bx (= 0)");const r=(n=t.terms[0]).has(Var)&&_.contains(n.getVars(),e.symbol);var n;const i=r?Mul.handleNegative(t.terms[1]):Mul.handleNegative(t.terms[0]),o=r?Mul.handleDivide(t.terms[0],e):Mul.handleDivide(t.terms[1],e);return Mul.handleDivide(i,o).simplify()}constructor(e,t,r){super(),this.func=Eq,this.signs={"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},this.left=e,this.type=t,this.right=r}}class Sym extends Expr{needsExplicitMul(){return!1}findGCD(e){return e instanceof Sym||e instanceof Num?this.equals(e)?this:NumOne:e.findGCD(this)}}class Func extends Sym{args(){return[this.symbol,this.arg]}print(){return this.symbol+"("+this.arg.print()+")"}tex(){return this.symbol+"("+this.arg.tex()+")"}eval(e={},t){var r=this.arg,n=e[this.symbol],i=_.extend(_.clone(e),{x:r.eval(e,t)}),o=parse$4(n,t);return o.parsed?o.expr.eval(i,t):o}codegen(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"}getUnits(){return this.arg.getUnits()}getVars(e){return e?this.arg.getVars():_.union(this.arg.getVars(),[this.symbol]).sort()}getConsts(){return this.arg.getConsts()}constructor(e,t){super(),this.func=Func,this.symbol=e,this.arg=t}}class Var extends Sym{args(){return[this.symbol,this.subscript]}exprArgs(){return[]}recurse(){return this}print(){var e="";return this.subscript&&(e="_("+this.subscript.print()+")"),this.symbol+e}prettyPrint(){var e=this.subscript;return e&&(e instanceof Num||e instanceof Sym)?this.symbol+"_"+e.print():this.print()}tex(){var e="";return this.subscript&&(e="_{"+this.subscript.tex()+"}"),(this.symbol.length>1?"\\":"")+this.symbol+e}repr(){return"Var("+this.print()+")"}eval(e={},t){return e[this.prettyPrint()]}codegen(){return'vars["'+this.prettyPrint()+'"]'}getVars(){return[this.prettyPrint()]}isPositive(){return!1}constructor(e,t){super(),this.func=Var,this.symbol=e,this.subscript=t}}class Const extends Sym{args(){return[this.symbol]}recurse(){return this}eval(e={},t){return"pi"===this.symbol?Math.PI:"e"===this.symbol?Math.E:void 0}codegen(){return"pi"===this.symbol?"Math.PI":"e"===this.symbol?"Math.E":void 0}print(){return this.symbol}tex(){return"pi"===this.symbol?"\\pi ":"e"===this.symbol?"e":void 0}isPositive(){return this.eval()>0}abs(){return this.eval()>0?this:Mul.handleNegative(this)}getConsts(){return[this.print()]}constructor(e){super(),this.func=Const,this.symbol=e}}Const.e=new Const("e"),Const.pi=new Const("pi");class Num extends Expr{repr(){return this.print()}strip(){return this.abs()}recurse(){return this}codegen(){return this.print()}isSubtract(){return Boolean(this.hints.subtract)}needsExplicitMul(){return!0}isPositive(){return this.eval()>0}isNegative(){return this.eval()<0}asPositiveFactor(){return this.isPositive()?this:this.abs()}getDecimalPlaces(){var e=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}static negativeOne(e){return"subtract"===e?NumSub:"divide"===e?NumDiv:NumNeg}static findGCD(e,t){var r;if(e=Math.abs(e),t=Math.abs(t),e!==Math.floor(e)||t!==Math.floor(t))return 1;for(;t;)r=e%t,e=t,t=r;return e}static min(...e){return _.min(e,e=>e.eval())}static max(...e){return _.max(e,e=>e.eval())}constructor(){super(),this.n=0,this.hints={...this.hints,negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}}}class Rational extends Num{args(){return[this.n,this.d]}eval(){return this.n/this.d}print(){return this.n.toString()+"/"+this.d.toString()}tex(){var e="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+e:e}add(e,t){return e instanceof Rational?new Rational(this.n*e.d+this.d*e.n,this.d*e.d).collect():e.add(this,t)}mul(e,t){return e instanceof Rational?new Rational(this.n*e.n,this.d*e.d).collect():e.mul(this,t)}collect(){var e=Num.findGCD(this.n,this.d),t=this.n/e,r=this.d/e;return 1===r?new Int(t):new Rational(t,r)}negate(){return new Rational(-this.n,this.d)}abs(){return new Rational(Math.abs(this.n),this.d)}findGCD(e){if(e instanceof Rational){var t=Num.findGCD(this.n*e.d,e.n*this.d),r=this.d*e.d;return new Rational(t,r).collect()}return e instanceof Int?new Rational(Num.findGCD(this.n,e.n),this.d):e.findGCD(this)}raiseToThe(e){if(e instanceof Int){var t=e.eval()>0,r=e.abs().eval(),n=Math.pow(this.n,r),i=Math.pow(this.d,r);return t?new Rational(n,i).collect():new Rational(i,n).collect()}return new Float(this.eval()).raiseToThe(e)}getDenominator(){return new Int(this.d)}isSimple(){return!1}asRational(){return this}constructor(e,t){super(),this.func=Rational;var r=e,n=t;n<0&&(r=-r,n=-n),this.n=r,this.d=n}}class Int extends Rational{args(){return[this.n]}print(){return this.n.toString()}tex(){return this.n.toString()}negate(){return new Int(-this.n)}abs(){return new Int(Math.abs(this.n))}isSimple(){return!0}findGCD(e){return e instanceof Int?new Int(Num.findGCD(this.n,e.n)):e.findGCD(this)}static create(e){return new Int(e).addHint("entered")}constructor(e){super(e,1),this.func=Int}}class Float extends Num{args(){return[this.n]}eval(){return this.n}print(){return this.n.toString()}tex(){return this.n.toString()}add(e,t){return t&&t.preciseFloats?Float.toDecimalPlaces(this.n+e.eval(),Math.max(this.getDecimalPlaces(),e.getDecimalPlaces())):new Float(this.n+e.eval()).collect()}mul(e,t){return t&&t.preciseFloats?Float.toDecimalPlaces(this.n*e.eval(),this.getDecimalPlaces()+e.getDecimalPlaces()):new Float(this.n*e.eval()).collect()}collect(e){return this}negate(){return new Float(-this.n)}abs(){return new Float(Math.abs(this.n))}findGCD(e){return e instanceof Num?new Float(Num.findGCD(this.eval(),e.eval())).collect():e.findGCD(this)}raiseToThe(e,t){return t&&t.preciseFloats&&e instanceof Int&&e.n>1?Float.toDecimalPlaces(new Pow(this,e).eval(),this.getDecimalPlaces()*e.n):new Float(new Pow(this,e).eval()).collect()}asRational(){var e=this.n.toString().split(".");if(1===e.length)return new Rational(this.n,1);var t=Number(e.join("")),r=Math.pow(10,e[1].length);return new Rational(t,r).collect()}getDenominator(){return this.asRational().getDenominator()}isSimple(){return!0}static create(e){return new Float(e).addHint("entered")}static toDecimalPlaces(e,t){return new Float(+e.toFixed(Math.min(t,20))).collect()}constructor(e){super(),this.func=Float,this.n=e}}const NumNeg=new Int(-1).addHint("negate"),NumSub=new Int(-1).addHint("subtract"),NumDiv=new Int(-1).addHint("divide"),NumSqrt=new Rational(1,2).addHint("root"),NumZero=new Int(0),NumOne=new Int(1),NumTen=new Int(10);var parseError=function(e,t){throw new Error(t.loc.first_column)};parser.yy={Add:Add,Mul:Mul,Pow:Pow,Log:Log,Trig:Trig,Eq:Eq,Abs:Abs,Func:Func,Const:Const,Var:Var,Int:Int,Float:Float,parseError:parseError,constants:["e"],symbolLexer:function(e){return _.contains(parser.yy.constants,e)?"CONST":_.contains(parser.yy.functions,e)?"FUNC":"VAR"}};const parse$4=function(e,t){try{return t&&t.functions?parser.yy.functions=_.without(t.functions,"i"):parser.yy.functions=[],t&&t.decimal_separator&&(e=e.split(t.decimal_separator).join(".")),t&&t.divide_symbol&&(e=e.split(t.divide_symbol).join("/")),{parsed:!0,expr:parser.parse(e).completeParse()}}catch(r){return{parsed:!1,error:r.message}}};class Unit extends Sym{args(){return[this.symbol]}recurse(){return this}eval(e={},t){return 1}getUnits(){return[{unit:this.symbol,pow:1}]}codegen(){return"1"}print(){return this.symbol}tex(){return this.symbol}collect(e){if(_(baseUnits).has(this.symbol))return this;if(_(derivedUnits).has(this.symbol))return derivedUnits[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}constructor(e){super(),this.func=Unit,this.symbol=e}}var baseUnits={m:new Unit("m"),g:new Unit("g"),s:new Unit("s"),A:new Unit("A"),K:new Unit("K"),mol:new Unit("mol"),cd:new Unit("cd")};new Pow(new Int(10),new Int(-18)),new Pow(new Int(10),new Int(-15)),new Pow(new Int(10),new Int(-12)),new Pow(new Int(10),new Int(-9)),new Pow(new Int(10),new Int(-6)),new Pow(new Int(10),new Int(-3)),new Pow(new Int(10),new Int(-2)),new Pow(new Int(10),new Int(-1)),new Int(10),new Pow(new Int(10),new Int(2)),new Pow(new Int(10),new Int(3)),new Pow(new Int(10),new Int(6)),new Pow(new Int(10),new Int(9)),new Pow(new Int(10),new Int(12)),new Pow(new Int(10),new Int(15)),new Pow(new Int(10),new Int(18)),new Pow(new Int(10),new Int(27));const hasPrefixes="hasPrefixes",hasntPrefixes="hasntPrefixes",makeAlias=function(e,t){var r=e.split("|"),n=r[0].trim(),i=r[1].trim(),o=NumOne;""!==n&&(o=parse$4(n).expr);var a=i.split("/"),s=[o];return a[0]&&a[0].split(" ").filter(e=>""!==e).forEach(e=>s.push(new Unit(e))),a[1]&&a[1].split(" ").filter(e=>""!==e).forEach(e=>s.push(new Pow(new Unit(e),NumDiv))),{conversion:new Mul(s),prefixes:t}};var derivedUnits={Da:makeAlias("1.6605388628 x 10^-24 | g",hasPrefixes),u:makeAlias("| Da",hasntPrefixes),meter:makeAlias("| m",hasntPrefixes),meters:makeAlias("| m",hasntPrefixes),in:makeAlias("254 / 10000 | m",hasntPrefixes),ft:makeAlias("3048  / 10000 | m",hasntPrefixes),yd:makeAlias("9144  / 10000 | m",hasntPrefixes),mi:makeAlias("1609344 / 1000 | m",hasntPrefixes),ly:makeAlias("9.4607 x 10^15 | m",hasntPrefixes),nmi:makeAlias("1852 | m",hasntPrefixes),"":makeAlias("10^-10 | m",hasntPrefixes),pc:makeAlias("3.0857 x 10^16 | m",hasntPrefixes),min:makeAlias("60 | s",hasntPrefixes),hr:makeAlias("3600 | s",hasntPrefixes),sec:makeAlias("| s",hasntPrefixes),day:makeAlias("86400 | s",hasntPrefixes),wk:makeAlias("604800 | s",hasntPrefixes),fortnight:makeAlias("14 | day",hasntPrefixes),shake:makeAlias("10^-8 | s",hasntPrefixes),olympiad:makeAlias("126200000 | s",hasntPrefixes),"C":makeAlias("1 | K",hasntPrefixes),"F":makeAlias("5/9 | K",hasntPrefixes),"R":makeAlias("5/9 | K",hasntPrefixes),e:makeAlias("1.6021765314 x 10^-19 | C",hasntPrefixes),c:makeAlias("299792458 | m / s",hasntPrefixes),kn:makeAlias("514/1000 | m / s",hasntPrefixes),kt:makeAlias("| kn",hasntPrefixes),knot:makeAlias("| kn",hasntPrefixes),J:makeAlias("| N m",hasPrefixes),BTU:makeAlias("1060 | J",hasntPrefixes),cal:makeAlias("4184 / 1000 | J",hasPrefixes),eV:makeAlias("1.602176514 x 10^-19 | J",hasPrefixes),erg:makeAlias("10^7 | J",hasPrefixes),W:makeAlias("| J / s",hasPrefixes),"H-e":makeAlias("80 | W",hasntPrefixes),N:makeAlias("1000 | g m / s s",hasPrefixes),lb:makeAlias("4448221615 / 1000000000 | N",hasntPrefixes),dyn:makeAlias("10^-5 | N",hasntPrefixes),Pa:makeAlias("1 | N / m m m",hasPrefixes),bar:makeAlias("10^5 | Pa",hasPrefixes),"":makeAlias("1/1000 | bar",hasntPrefixes),"":makeAlias("| bar",hasntPrefixes),atm:makeAlias("101325 | Pa",hasntPrefixes),Torr:makeAlias("1/760 | atm",hasntPrefixes),mmHg:makeAlias("| Torr",hasntPrefixes),ha:makeAlias("10^4 | m m",hasntPrefixes),b:makeAlias("10^28 | m m",hasPrefixes),barn:makeAlias("| b",hasPrefixes),acre:makeAlias("4046.87 | m m",hasntPrefixes),skilodge:makeAlias("10^-31 | m m",hasntPrefixes),outhouse:makeAlias("10^-34 | m m",hasntPrefixes),shed:makeAlias("10^-52 | m m",hasntPrefixes),L:makeAlias("1/1000 | m m m",hasPrefixes),gal:makeAlias("3785/1000 | L",hasPrefixes),cup:makeAlias("1/16 | gal",hasntPrefixes),qt:makeAlias("1/4 | gal",hasntPrefixes),quart:makeAlias("| qt",hasntPrefixes),p:makeAlias("1/8 | gal",hasntPrefixes),pt:makeAlias("| p",hasntPrefixes),pint:makeAlias("| p",hasntPrefixes),"fl oz":makeAlias("1/8 | cup",hasntPrefixes),"fl. oz.":makeAlias("1/8 | cup",hasntPrefixes),tbsp:makeAlias("1/16 | cup",hasntPrefixes),tsp:makeAlias("1/3 | tbsp",hasntPrefixes),rev:makeAlias("2 pi | rad",hasntPrefixes),deg:makeAlias("180 pi | rad",hasntPrefixes),"":makeAlias("| deg",hasntPrefixes),arcminute:makeAlias("1/60 | deg",hasntPrefixes),arcsec:makeAlias("1/3600 | deg",hasntPrefixes),Hu:makeAlias("1000 | dB",hasPrefixes),dozen:makeAlias("12 |",hasntPrefixes),mol:makeAlias("6.0221412927 x 10^23 |",hasPrefixes),"%":makeAlias("1/100 |",hasntPrefixes),percent:makeAlias("| %",hasntPrefixes),ppm:makeAlias("1/1000000 |",hasntPrefixes),V:makeAlias("1000 | g m m / s s C",hasPrefixes),C:makeAlias("| A s",hasPrefixes),ampere:makeAlias("| A",hasntPrefixes),"":makeAlias("| V / A",hasPrefixes),ohm:makeAlias("| ",hasntPrefixes),F:makeAlias("| C / V",hasPrefixes),H:makeAlias("| ohm s",hasPrefixes),T:makeAlias("1000 | g / C s",hasPrefixes),Wb:makeAlias("1000 | g m m / C s",hasPrefixes),lm:makeAlias("pi x 10^4 | cd / m m",hasntPrefixes),lx:makeAlias("| lm / m m",hasntPrefixes),nit:makeAlias("| cd / m m",hasntPrefixes),sb:makeAlias("10^4 | cd / m m",hasntPrefixes),stilb:makeAlias("1 | sb",hasntPrefixes),apostilb:makeAlias("1 / pi x 10^(-4) | sb",hasntPrefixes),blondel:makeAlias("| apostilb",hasntPrefixes),asb:makeAlias("| apostilb",hasntPrefixes),la:makeAlias("| lm",hasntPrefixes),Lb:makeAlias("| lm",hasntPrefixes),sk:makeAlias("10^-7 | lm",hasntPrefixes),skot:makeAlias("| sk",hasntPrefixes),bril:makeAlias("10^-11 | lm",hasntPrefixes),Hz:makeAlias("| / s",hasPrefixes)};const libName$5="@khanacademy/simple-markdown",libVersion$5="2.1.3";addLibraryVersionToPerseusDebug$1(libName$5,libVersion$5);var CR_NEWLINE_R=/\r\n?/g,TAB_R=/\t/g,FORMFEED_R=/\f/g,preprocess=function(e){return e.replace(CR_NEWLINE_R,"\n").replace(FORMFEED_R,"").replace(TAB_R,"    ")},populateInitialState=function(e,t){var r=e||{};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},parserFor=function(e,t){var r,n=Object.keys(e).filter(function(t){var r=e[t];if(null==r||null==r.match)return!1;var n=r.order;return"number"!=typeof n||isFinite(n),!0});n.sort(function(t,r){var n=e[t],i=e[r],o=n.order,a=i.order;if(o!==a)return o-a;var s=n.quality?0:1,l=i.quality?0:1;return s!==l?s-l:t<r?-1:t>r?1:0});var i=function(t,o){var a=[];for(r=o=o||r;t;){var s=null,l=null,c=null,u=NaN,d=0,h=n[0],p=e[h];do{var f=p.order,m=null==o.prevCapture?"":o.prevCapture[0],g=p.match(t,o,m);if(g){var y=p.quality?p.quality(g,o,m):0;y<=u||(s=h,l=p,c=g,u=y)}d++,h=n[d],p=e[h]}while(p&&(!c||p.order===f&&p.quality));if(null==l||null==c)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+n[n.length-1]+"'. It seems to not match the following source:\n"+t);if(c.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var b=l.parse(c,i,o);if(Array.isArray(b))Array.prototype.push.apply(a,b);else{if(null==b||"object"!=typeof b)throw new Error(`parse() function returned invalid parse result: '${b}'`);null==b.type&&(b.type=s),a.push(b)}o.prevCapture=c,t=t.substring(o.prevCapture[0].length)}return a};return function(e,n){return(r=populateInitialState(n,t)).inline||r.disableAutoBlockNewlines||(e+="\n\n"),r.prevCapture=null,i(preprocess(e),r)}},inlineRegex=function(e){var t=function(t,r,n){return r.inline?e.exec(t):null};return t.regex=e,t},blockRegex=function(e){var t=function(t,r){return r.inline?null:e.exec(t)};return t.regex=e,t},anyScopeRegex=function(e){var t=function(t,r){return e.exec(t)};return t.regex=e,t},TYPE_SYMBOL="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,reactElement=function(e,t,r){return{$$typeof:TYPE_SYMBOL,type:e,key:null==t?void 0:t,ref:null,props:r,_owner:null}},htmlTag=function(e,t,r,n){r=r||{},n=void 0===n||n;var i="";for(var o in r){var a=r[o];Object.prototype.hasOwnProperty.call(r,o)&&a&&(i+=" "+sanitizeText(o)+'="'+sanitizeText(a)+'"')}var s="<"+e+i+">";return n?s+t+"</"+e+">":s},EMPTY_PROPS={},sanitizeUrl=function(e){if(null==e)return null;try{var t=new URL(e,"https://localhost").protocol;if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}catch{return null}return e},SANITIZE_TEXT_R=/[<>&"']/g,SANITIZE_TEXT_CODES={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},sanitizeText=function(e){return String(e).replace(SANITIZE_TEXT_R,function(e){return SANITIZE_TEXT_CODES[e]})},UNESCAPE_URL_R=/\\([^0-9A-Za-z\s])/g,unescapeUrl=function(e){return e.replace(UNESCAPE_URL_R,"$1")},parseInline=function(e,t,r){var n=r.inline||!1;r.inline=!0;var i=e(t,r);return r.inline=n,i},parseBlock=function(e,t,r){var n=r.inline||!1;r.inline=!1;var i=e(t+"\n\n",r);return r.inline=n,i},parseCaptureInline=function(e,t,r){return{content:parseInline(t,e[1],r)}},ignoreCapture=function(){return{}},LIST_BULLET="(?:[*+-]|\\d+\\.)",LIST_ITEM_PREFIX="( *)("+LIST_BULLET+") +",LIST_ITEM_PREFIX_R=new RegExp("^"+LIST_ITEM_PREFIX),LIST_ITEM_R=new RegExp(LIST_ITEM_PREFIX+"[^\\n]*(?:\\n(?!\\1"+LIST_BULLET+" )[^\\n]*)*(\n|$)","gm"),BLOCK_END_R=/\n{2,}$/,INLINE_CODE_ESCAPE_BACKTICKS_R=/^ (?= *`)|(` *) $/g,LIST_BLOCK_END_R=BLOCK_END_R,LIST_ITEM_END_R=/ *\n+$/,LIST_R=new RegExp("^( *)("+LIST_BULLET+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+LIST_BULLET+" )\\n*|\\s*\n*$)"),LIST_LOOKBEHIND_R=/(?:^|\n)( *)$/,TABLES=function(){var e=/^ *\| *| *\| *$/g,t=/ *$/,r=/^ *-+: *$/,n=/^ *:-+: *$/,i=/^ *:-+ *$/,o=function(e){return r.test(e)?"right":n.test(e)?"center":i.test(e)?"left":null},a=function(e,r,n,i){var o=n.inTable;n.inTable=!0;var a=r(e.trim(),n);n.inTable=o;var s=[[]];return a.forEach(function(e,r){"tableSeparator"===e.type?(!i||0!==r&&r!==a.length-1)&&s.push([]):("text"!==e.type||null!=a[r+1]&&"tableSeparator"!==a[r+1].type||(e.content=e.content.replace(t,"")),s[s.length-1].push(e))}),s},s=function(t){return function(r,n,i){i.inline=!0;var s=a(r[1],n,i,t),l=function(t,r,n,i){return i&&(t=t.replace(e,"")),t.trim().split("|").map(o)}(r[2],0,0,t),c=function(e,t,r,n){return e.trim().split("\n").map(function(e){return a(e,t,r,n)})}(r[3],n,i,t);return i.inline=!1,{type:"table",header:s,align:l,cells:c}}};return{parseTable:s(!0),parseNpTable:s(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}}(),LINK_INSIDE="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",LINK_HREF_AND_TITLE="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",AUTOLINK_MAILTO_CHECK_R=/mailto:/i,parseRef=function(e,t,r){var n=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[n]){var i=t._defs[n];r.target=i.target,r.title=i.title}return t._refs=t._refs||{},t._refs[n]=t._refs[n]||[],t._refs[n].push(r),r},currOrder=0,defaultRules={Array:{react:function(e,t,r){for(var n=r.key,i=[],o=0,a=0;o<e.length;o++,a++){r.key=""+o;var s=e[o];if("text"===s.type)for(s={type:"text",content:s.content};o+1<e.length&&"text"===e[o+1].type;o++)s.content+=e[o+1].content;i.push(t(s,r))}return r.key=n,i},html:function(e,t,r){for(var n="",i=0;i<e.length;i++){var o=e[i];if("text"===o.type)for(o={type:"text",content:o.content};i+1<e.length&&"text"===e[i+1].type;i++)o.content+=e[i+1].content;n+=t(o,r)}return n}},heading:{order:currOrder++,match:blockRegex(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(e,t,r){return{level:e[1].length,content:parseInline(t,e[2].trim(),r)}},react:function(e,t,r){return reactElement("h"+e.level,r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("h"+e.level,t(e.content,r))}},nptable:{order:currOrder++,match:blockRegex(TABLES.NPTABLE_REGEX),parse:TABLES.parseNpTable,react:null,html:null},lheading:{order:currOrder++,match:blockRegex(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,r){return{type:"heading",level:"="===e[2]?1:2,content:parseInline(t,e[1],r)}},react:null,html:null},hr:{order:currOrder++,match:blockRegex(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:ignoreCapture,react:function(e,t,r){return reactElement("hr",r.key,{"aria-hidden":!0})},html:function(e,t,r){return'<hr aria-hidden="true">'}},codeBlock:{order:currOrder++,match:blockRegex(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,r){return{lang:void 0,content:e[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0;return reactElement("pre",r.key,{children:reactElement("code",null,{className:n,children:e.content})})},html:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0,i=htmlTag("code",sanitizeText(e.content),{class:n});return htmlTag("pre",i)}},fence:{order:currOrder++,match:blockRegex(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(e,t,r){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}},react:null,html:null},blockQuote:{order:currOrder++,match:blockRegex(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,r){return{content:t(e[0].replace(/^ *> ?/gm,""),r)}},react:function(e,t,r){return reactElement("blockquote",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("blockquote",t(e.content,r))}},list:{order:currOrder++,match:function(e,t){var r=null==t.prevCapture?"":t.prevCapture[0],n=LIST_LOOKBEHIND_R.exec(r),i=t._list||!t.inline;return n&&i?(e=n[1]+e,LIST_R.exec(e)):null},parse:function(e,t,r){var n=e[2],i=n.length>1,o=i?+n:void 0,a=e[0].replace(LIST_BLOCK_END_R,"\n").match(LIST_ITEM_R),s=!1;return{ordered:i,start:o,items:a.map(function(e,n){var i=LIST_ITEM_PREFIX_R.exec(e),o=i?i[0].length:0,l=new RegExp("^ {1,"+o+"}","gm"),c=e.replace(l,"").replace(LIST_ITEM_PREFIX_R,""),u=n===a.length-1,d=-1!==c.indexOf("\n\n")||u&&s;s=d;var h,p=r.inline,f=r._list;r._list=!0,d?(r.inline=!1,h=c.replace(LIST_ITEM_END_R,"\n\n")):(r.inline=!0,h=c.replace(LIST_ITEM_END_R,""));var m=t(h,r);return r.inline=p,r._list=f,m})}},react:function(e,t,r){var n=e.ordered?"ol":"ul";return reactElement(n,r.key,{start:e.start,children:e.items.map(function(e,n){return reactElement("li",""+n,{children:t(e,r)})})})},html:function(e,t,r){var n=e.items.map(function(e){return htmlTag("li",t(e,r))}).join(""),i=e.ordered?"ol":"ul",o={start:e.start};return htmlTag(i,n,o)}},def:{order:currOrder++,match:blockRegex(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(e,t,r){var n=e[1].replace(/\s+/g," ").toLowerCase(),i=e[2],o=e[3];return r._refs&&r._refs[n]&&r._refs[n].forEach(function(e){e.target=i,e.title=o}),r._defs=r._defs||{},r._defs[n]={target:i,title:o},{def:n,target:i,title:o}},react:function(){return null},html:function(){return""}},table:{order:currOrder++,match:blockRegex(TABLES.TABLE_REGEX),parse:TABLES.parseTable,react:function(e,t,r){var n=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},i=e.header.map(function(e,i){return reactElement("th",""+i,{style:n(i),scope:"col",children:t(e,r)})}),o=e.cells.map(function(e,i){return reactElement("tr",""+i,{children:e.map(function(e,i){return reactElement("td",""+i,{style:n(i),children:t(e,r)})})})});return reactElement("table",r.key,{children:[reactElement("thead","thead",{children:reactElement("tr",null,{children:i})}),reactElement("tbody","tbody",{children:o})]})},html:function(e,t,r){var n=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},i=e.header.map(function(e,i){return htmlTag("th",t(e,r),{style:n(i),scope:"col"})}).join(""),o=e.cells.map(function(e){var i=e.map(function(e,i){return htmlTag("td",t(e,r),{style:n(i)})}).join("");return htmlTag("tr",i)}).join(""),a=htmlTag("thead",htmlTag("tr",i)),s=htmlTag("tbody",o);return htmlTag("table",a+s)}},newline:{order:currOrder++,match:blockRegex(/^(?:\n *)*\n/),parse:ignoreCapture,react:function(e,t,r){return"\n"},html:function(e,t,r){return"\n"}},paragraph:{order:currOrder++,match:blockRegex(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:parseCaptureInline,react:function(e,t,r){return reactElement("div",r.key,{className:"paragraph",children:t(e.content,r)})},html:function(e,t,r){return htmlTag("div",t(e.content,r),{class:"paragraph"})}},escape:{order:currOrder++,match:inlineRegex(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,r){return{type:"text",content:e[1]}},react:null,html:null},tableSeparator:{order:currOrder++,match:function(e,t){return t.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:currOrder++,match:inlineRegex(/^<([^: >]+:\/[^ >]+)>/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}},react:null,html:null},mailto:{order:currOrder++,match:inlineRegex(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,r){var n=e[1],i=e[1];return AUTOLINK_MAILTO_CHECK_R.test(i)||(i="mailto:"+i),{type:"link",content:[{type:"text",content:n}],target:i}},react:null,html:null},url:{order:currOrder++,match:inlineRegex(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}},react:null,html:null},link:{order:currOrder++,match:inlineRegex(new RegExp("^\\[("+LINK_INSIDE+")\\]\\("+LINK_HREF_AND_TITLE+"\\)")),parse:function(e,t,r){return{content:t(e[1],r),target:unescapeUrl(e[2]),title:e[3]}},react:function(e,t,r){return reactElement("a",r.key,{href:sanitizeUrl(e.target),title:e.title,children:t(e.content,r)})},html:function(e,t,r){var n={href:sanitizeUrl(e.target),title:e.title};return htmlTag("a",t(e.content,r),n)}},image:{order:currOrder++,match:inlineRegex(new RegExp("^!\\[("+LINK_INSIDE+")\\]\\("+LINK_HREF_AND_TITLE+"\\)")),parse:function(e,t,r){return{alt:e[1],target:unescapeUrl(e[2]),title:e[3]}},react:function(e,t,r){return reactElement("img",r.key,{src:sanitizeUrl(e.target),alt:e.alt,title:e.title})},html:function(e,t,r){var n={src:sanitizeUrl(e.target),alt:e.alt,title:e.title};return htmlTag("img","",n,!1)}},reflink:{order:currOrder++,match:inlineRegex(new RegExp("^\\[("+LINK_INSIDE+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return parseRef(e,r,{type:"link",content:t(e[1],r)})},react:null,html:null},refimage:{order:currOrder++,match:inlineRegex(new RegExp("^!\\[("+LINK_INSIDE+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return parseRef(e,r,{type:"image",alt:e[1]})},react:null,html:null},em:{order:currOrder,match:inlineRegex(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(e,t,r){return{content:t(e[2]||e[1],r)}},react:function(e,t,r){return reactElement("em",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("em",t(e.content,r))}},strong:{order:currOrder,match:inlineRegex(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:parseCaptureInline,react:function(e,t,r){return reactElement("strong",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("strong",t(e.content,r))}},u:{order:currOrder++,match:inlineRegex(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:parseCaptureInline,react:function(e,t,r){return reactElement("u",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("u",t(e.content,r))}},del:{order:currOrder++,match:inlineRegex(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:parseCaptureInline,react:function(e,t,r){return reactElement("del",r.key,{children:t(e.content,r)})},html:function(e,t,r){return htmlTag("del",t(e.content,r))}},inlineCode:{order:currOrder++,match:inlineRegex(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(e,t,r){return{content:e[2].replace(INLINE_CODE_ESCAPE_BACKTICKS_R,"$1")}},react:function(e,t,r){return reactElement("code",r.key,{children:e.content})},html:function(e,t,r){return htmlTag("code",sanitizeText(e.content))}},br:{order:currOrder++,match:anyScopeRegex(/^ {2,}\n/),parse:ignoreCapture,react:function(e,t,r){return reactElement("br",r.key,EMPTY_PROPS)},html:function(e,t,r){return"<br>"}},text:{order:currOrder++,match:anyScopeRegex(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,r){return{content:e[0]}},react:function(e,t,r){return e.content},html:function(e,t,r){return sanitizeText(e.content)}}},ruleOutput=function(e,t){return function(r,n,i){return e[r.type][t](r,n,i)}},reactFor=function(e){var t=function(r,n){if(n=n||{},Array.isArray(r)){for(var i=n.key,o=[],a=null,s=0;s<r.length;s++){n.key=""+s;var l=t(r[s],n);"string"==typeof l&&"string"==typeof a?(a+=l,o[o.length-1]=a):(o.push(l),a=l)}return n.key=i,o}return e(r,t,n)};return t},htmlFor=function(e){var t=function(r,n){return n=n||{},Array.isArray(r)?r.map(function(e){return t(e,n)}).join(""):e(r,t,n)};return t},outputFor=function(e,t,r={}){if(!t)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var n,i=(e.Array||defaultRules.Array)[t];if(!i)throw new Error("simple-markdown: outputFor: to join nodes of type `"+t+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var o=i,a=function(r,i){return n=i=i||n,Array.isArray(r)?o(r,a,i):e[r.type][t](r,a,i)};return function(e,t){return n=populateInitialState(t,r),a(e,n)}},defaultRawParse=parserFor(defaultRules),defaultBlockParse=function(e,t){return(t=t||{}).inline=!1,defaultRawParse(e,t)},defaultInlineParse=function(e,t){return(t=t||{}).inline=!0,defaultRawParse(e,t)},defaultImplicitParse=function(e,t){var r=BLOCK_END_R.test(e);return(t=t||{}).inline=!r,defaultRawParse(e,t)},defaultReactOutput=outputFor(defaultRules,"react"),defaultHtmlOutput=outputFor(defaultRules,"html"),markdownToReact=function(e,t){return defaultReactOutput(defaultBlockParse(e,t),t)},markdownToHtml=function(e,t){return defaultHtmlOutput(defaultBlockParse(e,t),t)},ReactMarkdown=function(e){var t={};for(var r in e)"source"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.children=markdownToReact(e.source),reactElement("div",null,t)},SimpleMarkdown={defaultRules:defaultRules,parserFor:parserFor,outputFor:outputFor,inlineRegex:inlineRegex,blockRegex:blockRegex,anyScopeRegex:anyScopeRegex,parseInline:parseInline,parseBlock:parseBlock,markdownToReact:markdownToReact,markdownToHtml:markdownToHtml,ReactMarkdown:ReactMarkdown,defaultBlockParse:defaultBlockParse,defaultInlineParse:defaultInlineParse,defaultImplicitParse:defaultImplicitParse,defaultReactOutput:defaultReactOutput,defaultHtmlOutput:defaultHtmlOutput,preprocess:preprocess,sanitizeText:sanitizeText,sanitizeUrl:sanitizeUrl,unescapeUrl:unescapeUrl,htmlTag:htmlTag,reactElement:reactElement,defaultRawParse:defaultRawParse,ruleOutput:ruleOutput,reactFor:reactFor,htmlFor:htmlFor,defaultParse:function(...e){return defaultImplicitParse.apply(null,e)},defaultOutput:function(...e){return defaultReactOutput.apply(null,e)}};const libName$4="@khanacademy/pure-markdown",libVersion$4="2.2.3";addLibraryVersionToPerseusDebug$1(libName$4,libVersion$4);const rWidgetRule=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,mathMatcher=(e,t,r)=>{const n=e.length;let i=0;if(r){if(t.inline)return null;for(;i<n&&" "===e[i];)i++}if(!(i<n&&"$"===e[i]))return null;i++;const o=i;let a=0;for(;i<n;){const t=e[i];if("\\"===t)i++;else{if(a<=0&&"$"===t){let t=i+1;if(r){const r=/^(?: *\n){2,}/.exec(e.slice(t));t=r?t+r[0].length:null}return t?[e.substring(0,t),e.substring(o,i)]:null}if("{"===t)a++;else if("}"===t)a--;else if("\n"===t&&"\n"===e[i-1])return null}i++}return null},mathMatch=(e,t)=>mathMatcher(e,t,!1),blockMathMatch=(e,t)=>mathMatcher(e,t,!0),TITLED_TABLE_REGEX=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+SimpleMarkdown.defaultRules.nptable.match.regex.source.substring(1)+")"),crowdinJiptMatcher=SimpleMarkdown.blockRegex(/^(crwdns.*)\n\s*\n/),pureMarkdownRules={...SimpleMarkdown.defaultRules,columns:{order:-2,match:SimpleMarkdown.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:(e,t,r)=>({col1:t(e[1],r),col2:t(e[2],r)})},crowdinId:{order:-1,match:(e,t,r)=>t.isJipt?crowdinJiptMatcher(e,t,r):null,parse:(e,t,r)=>({id:e[1]})},titledTable:{order:SimpleMarkdown.defaultRules.nptable.order-.5,match:SimpleMarkdown.blockRegex(TITLED_TABLE_REGEX),parse:(e,t,r)=>{const n=SimpleMarkdown.parseInline(t,e[1],r),i=e.slice(2);return{title:n,table:SimpleMarkdown.defaultRules.nptable.parse(i,t,r)}}},widget:{order:SimpleMarkdown.defaultRules.link.order-.75,match:SimpleMarkdown.inlineRegex(rWidgetRule),parse:(e,t,r)=>({id:e[1],widgetType:e[2]})},blockMath:{order:SimpleMarkdown.defaultRules.codeBlock.order+.5,match:blockMathMatch,parse:(e,t,r)=>({content:e[1]})},math:{order:SimpleMarkdown.defaultRules.link.order-.25,match:mathMatch,parse:(e,t,r)=>({content:e[1]})},unescapedDollar:{order:SimpleMarkdown.defaultRules.link.order-.24,match:SimpleMarkdown.inlineRegex(/^(?!\\)\$/),parse:(e,t,r)=>({})},fence:{...SimpleMarkdown.defaultRules.fence,parse:(e,t,r)=>{const n=SimpleMarkdown.defaultRules.fence.parse(e,t,r);return"alt"===n.lang?{type:"codeBlock",lang:"alt",content:t(n.content+"\n\n",r)}:n}},blockQuote:{...SimpleMarkdown.defaultRules.blockQuote,match:SimpleMarkdown.blockRegex(/^ *>[^\n]+(\n( *>)?[^\n]+)*\n{2,}/)},lint:{order:1e3,match:e=>null,parse:(e,t,r)=>({})}};function getMatrixSize$1(e){const t=[1,1];return e.forEach((e,r)=>{let n=0;e.forEach((e,t)=>{null!=e&&e.toString().length&&(n=t+1)}),t[1]=Math.max(t[1],n),n>0&&(t[0]=Math.max(t[0],r+1))}),t}SimpleMarkdown.parserFor(pureMarkdownRules);const getDecimalSeparator$1=e=>{if("ka"===e)return",";{const t=1.1,r=new Intl.NumberFormat(e).format(t).match(/[^\d\u0661\u06F1\u0967\u09e7]/);return r?.[0]??"."}},localesThatUseColon=["az","bg","cs","da","de","hu","hy","id","it","ky","lt","lv","nb","nl","pl","pt-pt","ro","sv","uk","vi","ro","ru"],getDivideSymbol=e=>localesThatUseColon.includes(e)?":":"/",getDivideSymbolForTex=e=>{const t=getDivideSymbol(e);return"/"===t?"\\div":t};function approximateEqual$1(e,t){return"number"==typeof e&&"number"==typeof t?Math.abs(e-t)<1e-9:e===t}function approximateDeepEqual$1(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!approximateDeepEqual$1(e[r],t[r]))return!1;return!0}return!Array.isArray(e)&&!Array.isArray(t)&&("function"==typeof e&&"function"==typeof t?approximateEqual$1(e,t):"function"!=typeof e&&"function"!=typeof t&&("object"==typeof e&&"object"==typeof t&&e&&t?e===t||_.all(e,function(e,r){return approximateDeepEqual$1(t[r],e)})&&_.all(t,function(t,r){return approximateDeepEqual$1(e[r],t)}):!("object"==typeof e&&e||"object"==typeof t&&t)&&approximateEqual$1(e,t)))}function deepClone$1(e){return JSON.parse(JSON.stringify(e))}const MOVABLES$1={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function canonicalSineCoefficients$3(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=2*Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}function canonicalTangentCoefficients$1(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}const PlotDefaults$1={areEqual:function(e,t){return approximateDeepEqual$1(e,t)},movable:MOVABLES$1.PLOT,getPropsForCoeffs:function(e){return{fn:_.partial(this.getFunctionForCoeffs,e)}}},Linear$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;const o=i/n;return[o,r[1]-o*r[0]]},getFunctionForCoeffs:function(e,t){return e[0]*t+e[1]},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1];return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}}),Quadratic$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:MOVABLES$1.PARABOLA,getCoefficients:function(e){const t=e[0],r=e[1],n=t[0],i=t[1],o=(r[1]-i)/((r[0]-n)*(r[0]-n));return[o,-2*n*o,o*n*n+i]},getFunctionForCoeffs:function(e,t){return(e[0]*t+e[1])*t+e[2]},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"x^2 + "+n.toFixed(3)+"x + "+i.toFixed(3)}}),Sinusoid$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:MOVABLES$1.SINUSOID,getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(2*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.sin(n*t-i)+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual$1(canonicalSineCoefficients$3(e),canonicalSineCoefficients$3(t))}}),Tangent$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(4*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.tan(n*t-i)+o},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual$1(canonicalTangentCoefficients$1(e),canonicalTangentCoefficients$1(t))}}),Exponential$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][1];return _.all(r,e=>e[1]!==o)},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[1];if(_.all(r,e=>e[1]>o)||_.all(r,e=>e[1]<o))return[t[0],o];const a=t[1];if(_.all(r,e=>e[1]>a)){const e=_.min(_.map(r,e=>e[1]));return[t[0],e-i.snapStep[1]]}const s=_.max(_.map(r,e=>e[1]));return[t[0],s+i.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e[0],n=e[1],i=t[0][1],o=Math.log((r[1]-i)/(n[1]-i))/(r[0]-n[0]);return[(r[1]-i)/Math.exp(o*r[0]),o,i]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.exp(n*t)+i},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = "+n.toFixed(3)+"e^("+i.toFixed(3)+"x) + "+o.toFixed(3)}}),Logarithm$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][0];return _.all(r,e=>e[0]!==o)&&r[0][1]!==r[1][1]},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[0];if(_.all(r,e=>e[0]>o)||_.all(r,e=>e[0]<o))return[o,t[1]];const a=t[0];if(_.all(r,e=>e[0]>a)){return[_.min(_.map(r,e=>e[0]))-i.snapStep[0],t[1]]}return[_.max(_.map(r,e=>e[0]))+i.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e=>[e[1],e[0]],n=Exponential$1.getCoefficients(_.map(e,r),_.map(t,r));if(n){const e=-n[2]/n[0],t=1/n[0];return[1/n[1],t,e]}},getFunctionForCoeffs:function(e,t,r){const n=e[0],i=e[1],o=e[2];return n*Math.log(i*t+o)},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = ln("+n.toFixed(3)+"x + "+i.toFixed(3)+") + "+o.toFixed(3)}}),AbsoluteValue$1=_.extend({},PlotDefaults$1,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;let o=Math.abs(i/n);r[1]<t[1]&&(o*=-1);return[o,t[0],t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.abs(t-n)+i},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"| x - "+n.toFixed(3)+"| + "+i.toFixed(3)}}),functionTypeMapping$1={linear:Linear$1,quadratic:Quadratic$1,sinusoid:Sinusoid$1,tangent:Tangent$1,exponential:Exponential$1,logarithm:Logarithm$1,absolute_value:AbsoluteValue$1},allTypes$1=_.keys(functionTypeMapping$1);function functionForType$1(e){return functionTypeMapping$1[e]}var grapherUtil$1=Object.freeze({__proto__:null,MOVABLES:MOVABLES$1,allTypes:allTypes$1,functionForType:functionForType$1});const blankPerseusRenderer$1={content:"",images:{},widgets:{}};function generateTestPerseusRenderer$1(e={}){return deepClone$1({...blankPerseusRenderer$1,...e})}function success$1(e){return{type:"success",value:e}}function failure$1(e){return{type:"failure",detail:e}}function isFailure$1(e){return"failure"===e.type}function isSuccess$1(e){return"success"===e.type}function all$1(e,t=e=>e){const r=[],n=[];for(const i of e)"success"===i.type?r.push(i.value):n.push(i.detail);return n.length>0?failure$1(n.reduce(t)):success$1(r)}generateTestPerseusRenderer$1();const any$1=(e,t)=>t.success(e);function array$1(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all$1(t.map((t,n)=>e(t,r.forSubtree(n))),concat$1)}}function arrayWithIndex$1(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all$1(t.map((t,n)=>e(n)(t,r.forSubtree(n))),concat$1)}}function concat$1(e,t){return[...e,...t]}function boolean$1(e,t){return"boolean"==typeof e?t.success(e):t.failure("boolean",e)}function constant$1(e){return(t,r)=>t!==e?r.failure(String(JSON.stringify(e)),t):r.success(e)}function defaulted$1(e,t){return(r,n)=>null==r?success$1(t(r)):e(r,n)}function defaultedNonEmptyString$1(e){return(t,r)=>null==t?r.success(e()):"string"==typeof t?""===t.trim()?r.success(e()):r.success(t):r.failure("string",t)}function enumeration$1(...e){return(t,r)=>{if("string"==typeof t){const n=e.indexOf(t);if(n>-1)return r.success(e[n])}const n=e.map(e=>JSON.stringify(e));return r.failure(n,t)}}const objectConstructorString$1=Object.prototype.constructor.toString(),functionToString$1=Function.prototype.toString;function isPlainObject$1(e){if(null==e)return!1;const t=Object.getPrototypeOf(e);return null==t||"function"==typeof t.constructor&&functionToString$1.call(t.constructor)===objectConstructorString$1}function nullable$1(e){return(t,r)=>null===t?r.success(t):e(t,r)}const number$2=(e,t)=>"number"==typeof e?t.success(e):t.failure("number",e);function objectWithAllPropertiesRequired$1(e){return object$1(e)}function object$1(e){return(t,r)=>{if(!isPlainObject$1(t))return r.failure("object",t);const n={...t},i=[];for(const[o,a]of Object.entries(e)){const e=a(t[o],r.forSubtree(o));isSuccess$1(e)?(void 0!==e.value||o in t)&&(n[o]=e.value):i.push(...e.detail)}return i.length>0?failure$1(i):r.success(n)}}function optional$1(e){return(t,r)=>void 0===t?r.success(t):e(t,r)}function pair$1(e,t){return(r,n)=>{if(!Array.isArray(r))return n.failure("array",r);if(2!==r.length)return n.failure("array of length 2",r);const[i,o]=r,a=e(i,n.forSubtree(0));if(isFailure$1(a))return a;const s=t(o,n.forSubtree(1));return isFailure$1(s)?s:n.success([a.value,s.value])}}function pipeParsers$1(e){return new ParserPipeline$1(e)}let ParserPipeline$1=class e{then(t){return new e(composeParsers$1(this.parser,t))}constructor(e){this.parser=e}};function composeParsers$1(e,t){return(r,n)=>{const i=e(r,n);return isFailure$1(i)?i:t(i.value,n)}}function record$1(e,t){return(r,n)=>{if(!isPlainObject$1(r))return n.failure("object",r);const i={},o=[];for(const[a,s]of Object.entries(r)){const r=n.forSubtree(a),l=e(a,r);isFailure$1(l)&&o.push(...l.detail);const c=t(s,r);isFailure$1(c)&&o.push(...c.detail),isSuccess$1(l)&&isSuccess$1(c)&&(i[l.value]=c.value)}return o.length>0?failure$1(o):n.success(i)}}const string$2=(e,t)=>"string"==typeof e?t.success(e):t.failure("string",e);function trio$1(e,t,r){return(n,i)=>{if(!Array.isArray(n))return i.failure("array",n);if(3!==n.length)return i.failure("array of length 3",n);const o=e(n[0],i.forSubtree(0));if(isFailure$1(o))return o;const a=t(n[1],i.forSubtree(1));if(isFailure$1(a))return a;const s=r(n[2],i.forSubtree(2));return isFailure$1(s)?s:i.success([o.value,a.value,s.value])}}function union$1(e){return new UnionBuilder$1(e)}let UnionBuilder$1=class e{or(t){return new e(either$1(this.parser,t))}constructor(e){this.parser=e}};function either$1(e,t){return(r,n)=>{const i=e(r,n);return isSuccess$1(i)?i:t(r,n)}}const parsePerseusImageDetail$1=object$1({width:number$2,height:number$2}),parseImages$1=defaulted$1(record$1(string$2,parsePerseusImageDetail$1),()=>({}));function parseWidget$1(e,t){return objectWithAllPropertiesRequired$1({type:e,static:optional$1(boolean$1),graded:optional$1(boolean$1),alignment:optional$1(string$2),options:t,key:optional$1(nullable$1(number$2)),version:optional$1(object$1({major:number$2,minor:number$2}))})}function parseWidgetWithVersion$1(e,t,r){return objectWithAllPropertiesRequired$1({type:t,static:optional$1(boolean$1),graded:optional$1(boolean$1),alignment:optional$1(string$2),options:r,key:optional$1(nullable$1(number$2)),version:e})}const parseCategorizerWidget$1=parseWidget$1(constant$1("categorizer"),object$1({items:array$1(string$2),categories:array$1(string$2),randomizeItems:defaulted$1(boolean$1,()=>!1),static:defaulted$1(boolean$1,()=>!1),values:defaulted$1(array$1(defaulted$1(number$2,()=>0)),()=>[]),highlightLint:optional$1(boolean$1),linterContext:optional$1(object$1({contentType:string$2,paths:array$1(string$2),stack:array$1(string$2)}))})),parseCSProgramWidget$1=parseWidget$1(constant$1("cs-program"),object$1({programID:string$2,programType:any$1,settings:array$1(object$1({name:string$2,value:string$2})),showEditor:boolean$1,showButtons:boolean$1,height:number$2,static:defaulted$1(boolean$1,()=>!1)})),parseDefinitionWidget$1=parseWidget$1(constant$1("definition"),object$1({togglePrompt:string$2,definition:string$2,static:defaulted$1(boolean$1,()=>!1)})),parseDropdownWidget$1=parseWidget$1(constant$1("dropdown"),object$1({placeholder:defaulted$1(string$2,()=>""),ariaLabel:optional$1(string$2),visibleLabel:optional$1(string$2),static:defaulted$1(boolean$1,()=>!1),choices:array$1(object$1({content:string$2,correct:defaulted$1(boolean$1,()=>!1)}))})),parseExplanationWidget$1=parseWidget$1(constant$1("explanation"),object$1({showPrompt:string$2,hidePrompt:string$2,explanation:string$2,widgets:defaulted$1((e,t)=>parseWidgetsMap$1(e,t),()=>({})),static:defaulted$1(boolean$1,()=>!1)})),KeypadKeys$1=["PLUS","MINUS","NEGATIVE","TIMES","DIVIDE","DECIMAL","PERIOD","PERCENT","CDOT","EQUAL","NEQ","GT","LT","GEQ","LEQ","FRAC_INCLUSIVE","FRAC_EXCLUSIVE","FRAC","EXP","EXP_2","EXP_3","SQRT","CUBE_ROOT","RADICAL","LEFT_PAREN","RIGHT_PAREN","LN","LOG","LOG_N","SIN","COS","TAN","PI","THETA","UP","RIGHT","DOWN","LEFT","BACKSPACE","DISMISS","JUMP_OUT_PARENTHESES","JUMP_OUT_EXPONENT","JUMP_OUT_BASE","JUMP_INTO_NUMERATOR","JUMP_OUT_NUMERATOR","JUMP_OUT_DENOMINATOR","NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function deriveExtraKeys$1(e){if(e.extraKeys)return e.extraKeys;const t=["PI"];if(null==e.answerForms)return t;const r={},n={};for(const o of e.answerForms){const t=parse$4(o.value,e);if(t.parsed){const e=t.expr,i=e=>"pi"===e||"theta"===e,o=e=>i(e)?e.toUpperCase():e,a=e=>KeypadKeys$1.includes(e);for(const t of e.getVars()){const e=o(t);a(e)&&(r[e]=!0)}for(const t of e.getConsts()){const e=o(t);a(e)&&(n[e]=!0)}}}const i=[...Object.keys(r).sort(),...Object.keys(n).sort()];return i.length?i:t}function convert$1(e){return(t,r)=>r.success(e(t))}const parseLegacyButtonSet$1=enumeration$1("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),parseLegacyButtonSets$1=defaulted$1(array$1(parseLegacyButtonSet$1),()=>["basic","trig","prealgebra","logarithms"]);function versionedWidgetOptions$1(e,t){return new VersionedWidgetOptionsParserBuilder$1(e,t,e=>e,(e,t)=>t.failure("widget options with a known version number",e))}let VersionedWidgetOptionsParserBuilder$1=class e{withMigrationFrom(t,r,n){const i=this.parser;return new e(t,r,e=>this.migrateToLatest(n(e)),i)}constructor(e,t,r,n){this.migrateToLatest=r,this.parseOtherVersions=n;const i=pipeParsers$1(t).then(convert$1(this.migrateToLatest)).parser;this.parser=(t,r)=>{if(!isPlainObject$1(t))return r.failure("object",t);const n=parseVersionedObject$1(t,r);return isFailure$1(n)?n:n.value.version.major!==e?this.parseOtherVersions(t,r):i(t,r)}}};const parseVersionedObject$1=object$1({version:defaulted$1(object$1({major:number$2,minor:number$2}),()=>({major:0,minor:0}))}),stringOrNumberOrNullOrUndefined$1=union$1(string$2).or(number$2).or(constant$1(null)).or(constant$1(void 0)).parser;function numberOrNullToString$1(e){return"number"==typeof e||null===e?String(e):e}const parsePossiblyInvalidAnswerForm$1=object$1({value:optional$1(string$2),form:defaulted$1(boolean$1,()=>!1),simplify:defaulted$1(boolean$1,()=>!1),considered:enumeration$1("correct","wrong","ungraded"),key:pipeParsers$1(stringOrNumberOrNullOrUndefined$1).then(convert$1(numberOrNullToString$1)).parser});function removeInvalidAnswerForms$1(e){return e.flatMap(e=>{const{value:t}=e;return null!=t?[{...e,value:t}]:[]})}const parseAnswerForms$1=pipeParsers$1(defaulted$1(array$1(parsePossiblyInvalidAnswerForm$1),()=>[])).then(convert$1(removeInvalidAnswerForms$1)).parser,version2$1$1=object$1({major:constant$1(2),minor:number$2}),parseExpressionWidgetV2$1=parseWidgetWithVersion$1(version2$1$1,constant$1("expression"),object$1({answerForms:parseAnswerForms$1,functions:array$1(string$2),times:boolean$1,visibleLabel:optional$1(string$2),ariaLabel:optional$1(string$2),buttonSets:parseLegacyButtonSets$1,buttonsVisible:optional$1(enumeration$1("always","never","focused")),extraKeys:optional$1(array$1(enumeration$1(...KeypadKeys$1)))})),version1$1$1=object$1({major:constant$1(1),minor:number$2}),parseExpressionWidgetV1$1=parseWidgetWithVersion$1(version1$1$1,constant$1("expression"),object$1({answerForms:parseAnswerForms$1,functions:array$1(string$2),times:boolean$1,visibleLabel:optional$1(string$2),ariaLabel:optional$1(string$2),buttonSets:parseLegacyButtonSets$1,buttonsVisible:optional$1(enumeration$1("always","never","focused"))}));function migrateV1ToV2$1$1(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:t.answerForms,extraKeys:deriveExtraKeys$1(t)??[]}}}const version0$1$1=optional$1(object$1({major:constant$1(0),minor:number$2})),parseExpressionWidgetV0$1=parseWidgetWithVersion$1(version0$1$1,constant$1("expression"),object$1({functions:array$1(string$2),times:boolean$1,visibleLabel:optional$1(string$2),ariaLabel:optional$1(string$2),form:boolean$1,simplify:boolean$1,value:string$2,buttonSets:parseLegacyButtonSets$1,buttonsVisible:optional$1(enumeration$1("always","never","focused"))}));function migrateV0ToV1$1$1(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const parseExpressionWidget$1=versionedWidgetOptions$1(2,parseExpressionWidgetV2$1).withMigrationFrom(1,parseExpressionWidgetV1$1,migrateV1ToV2$1$1).withMigrationFrom(0,parseExpressionWidgetV0$1,migrateV0ToV1$1$1).parser,parseFreeResponseWidget$1=parseWidget$1(constant$1("free-response"),object$1({allowUnlimitedCharacters:boolean$1,characterLimit:number$2,placeholder:string$2,question:string$2,scoringCriteria:array$1(object$1({text:string$2}))})),falseToNull$1=pipeParsers$1(constant$1(!1)).then(convert$1(()=>null)).parser,parseGradedGroupWidgetOptions$1=object$1({title:defaulted$1(string$2,()=>""),hasHint:optional$1(nullable$1(boolean$1)),hint:union$1(falseToNull$1).or(constant$1(null)).or(constant$1(void 0)).or((e,t)=>parsePerseusRenderer$1(e,t)).parser,content:string$2,widgets:(e,t)=>parseWidgetsMap$1(e,t),widgetEnabled:optional$1(nullable$1(boolean$1)),immutableWidgets:optional$1(nullable$1(boolean$1)),images:record$1(string$2,object$1({width:number$2,height:number$2}))}),parseGradedGroupWidget$1=parseWidget$1(constant$1("graded-group"),parseGradedGroupWidgetOptions$1),parseGradedGroupSetWidget$1=parseWidget$1(constant$1("graded-group-set"),object$1({gradedGroups:array$1(parseGradedGroupWidgetOptions$1)}));function discriminatedUnionOn$1(e){return new DiscriminatedUnionBuilder$1(e,(t,r)=>isPlainObject$1(t)?r.forSubtree(e).failure("a valid value",t[e]):r.failure("object",t))}let DiscriminatedUnionBuilder$1=class e{withBranch(t,r){const n=discriminatedUnionBranch$1(this.discriminantKey,t,r,this.parser);return new e(this.discriminantKey,n)}constructor(e,t){this.discriminantKey=e,this.parser=t}};function discriminatedUnionBranch$1(e,t,r,n){return(i,o)=>isPlainObject$1(i)?i[e]===t?r(i,o):n(i,o):o.failure("object",i)}const pairOfNumbers$3$1=pair$1(number$2,number$2),pairOfPoints$1=pair$1(pairOfNumbers$3$1,pairOfNumbers$3$1),emptyArray$1=(e,t)=>Array.isArray(e)&&0===e.length?t.success([]):t.failure("empty array",e),parseCoords$1=union$1(nullable$1(pairOfPoints$1)).or(pipeParsers$1(emptyArray$1).then(convert$1(()=>null)).parser).parser,parseCorrect$1=defaulted$1(discriminatedUnionOn$1("type").withBranch("absolute_value",object$1({type:constant$1("absolute_value"),coords:parseCoords$1})).withBranch("exponential",object$1({type:constant$1("exponential"),asymptote:pairOfPoints$1,coords:parseCoords$1})).withBranch("linear",object$1({type:constant$1("linear"),coords:parseCoords$1})).withBranch("logarithm",object$1({type:constant$1("logarithm"),asymptote:pairOfPoints$1,coords:parseCoords$1})).withBranch("quadratic",object$1({type:constant$1("quadratic"),coords:parseCoords$1})).withBranch("sinusoid",object$1({type:constant$1("sinusoid"),coords:parseCoords$1})).withBranch("tangent",object$1({type:constant$1("tangent"),coords:parseCoords$1})).parser,()=>({type:"linear",coords:null})),parseGrapherWidget$1=parseWidget$1(constant$1("grapher"),object$1({availableTypes:array$1(enumeration$1("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:parseCorrect$1,graph:object$1({backgroundImage:object$1({bottom:optional$1(number$2),height:optional$1(number$2),left:optional$1(number$2),scale:optional$1(number$2),url:optional$1(nullable$1(string$2)),width:optional$1(number$2)}),box:optional$1(pairOfNumbers$3$1),editableSettings:optional$1(array$1(enumeration$1("graph","snap","image","measure"))),gridStep:optional$1(pairOfNumbers$3$1),labels:pair$1(string$2,string$2),markings:enumeration$1("graph","none","grid","axes"),range:pair$1(pairOfNumbers$3$1,pairOfNumbers$3$1),rulerLabel:constant$1(""),rulerTicks:number$2,showProtractor:optional$1(boolean$1),showRuler:optional$1(boolean$1),showTooltips:optional$1(boolean$1),snapStep:optional$1(pairOfNumbers$3$1),step:pairOfNumbers$3$1,valid:optional$1(union$1(boolean$1).or(string$2).parser)})})),parseGroupWidget$1=parseWidget$1(constant$1("group"),(e,t)=>parsePerseusRenderer$1(e,t)),parseIframeWidget$1=parseWidget$1(constant$1("iframe"),object$1({url:string$2,settings:optional$1(array$1(object$1({name:string$2,value:string$2}))),width:union$1(number$2).or(string$2).parser,height:union$1(number$2).or(string$2).parser,allowFullScreen:defaulted$1(boolean$1,()=>!1),allowTopNavigation:optional$1(boolean$1),static:defaulted$1(boolean$1,()=>!1)})),stringToNumber$1=(e,t)=>{if("number"==typeof e)return t.success(e);const r=+e;return""===e||isNaN(r)?t.failure("a number or numeric string",e):t.success(r)};function emptyToZero$1(e){return""===e?0:e}const imageDimensionToNumber$1=pipeParsers$1(union$1(number$2).or(string$2).parser).then(convert$1(emptyToZero$1)).then(stringToNumber$1).parser,dimensionOrUndefined$1=defaulted$1(optional$1(imageDimensionToNumber$1),()=>{}),parsePerseusImageBackground$1=object$1({url:optional$1(nullable$1(string$2)),width:dimensionOrUndefined$1,height:dimensionOrUndefined$1,top:dimensionOrUndefined$1,left:dimensionOrUndefined$1,bottom:dimensionOrUndefined$1,scale:dimensionOrUndefined$1}),pairOfNumbers$2$1=pair$1(number$2,number$2),parseImageWidget$1=parseWidget$1(constant$1("image"),object$1({title:optional$1(string$2),caption:optional$1(string$2),alt:optional$1(string$2),longDescription:optional$1(string$2),decorative:optional$1(boolean$1),backgroundImage:parsePerseusImageBackground$1,static:optional$1(boolean$1),labels:optional$1(array$1(object$1({content:string$2,alignment:string$2,coordinates:array$1(number$2)}))),range:optional$1(pair$1(pairOfNumbers$2$1,pairOfNumbers$2$1)),box:optional$1(pairOfNumbers$2$1)})),booleanToString$1=(e,t)=>"boolean"==typeof e?t.success(String(e)):t.failure("boolean",e),parseInputNumberWidget$1=parseWidget$1(constant$1("input-number"),object$1({answerType:optional$1(enumeration$1("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:optional$1(boolean$1),maxError:optional$1(union$1(number$2).or(string$2).parser),rightAlign:optional$1(boolean$1),simplify:enumeration$1("required","optional","enforced"),size:enumeration$1("normal","small"),value:defaulted$1(union$1(number$2).or(string$2).or(booleanToString$1).parser,()=>0),customKeypad:optional$1(boolean$1)})),pairOfNumbers$1$1=pair$1(number$2,number$2),stringOrEmpty$1=defaulted$1(string$2,()=>""),parseKey$1=pipeParsers$1(optional$1(string$2)).then(convert$1(String)).parser,parseFunctionElement$1=object$1({type:constant$1("function"),key:parseKey$1,options:object$1({value:string$2,funcName:string$2,rangeMin:string$2,rangeMax:string$2,color:string$2,strokeDasharray:string$2,strokeWidth:number$2})}),parseLabelElement$1=object$1({type:constant$1("label"),key:parseKey$1,options:object$1({label:string$2,color:string$2,coordX:string$2,coordY:string$2})}),parseLineElement$1=object$1({type:constant$1("line"),key:parseKey$1,options:object$1({color:string$2,startX:string$2,startY:string$2,endX:string$2,endY:string$2,strokeDasharray:string$2,strokeWidth:number$2,arrows:string$2})}),parseMovableLineElement$1=object$1({type:constant$1("movable-line"),key:parseKey$1,options:object$1({startX:string$2,startY:string$2,startSubscript:number$2,endX:string$2,endY:string$2,endSubscript:number$2,constraint:string$2,snap:number$2,constraintFn:string$2,constraintXMin:string$2,constraintXMax:string$2,constraintYMin:string$2,constraintYMax:string$2})}),parseMovablePointElement$1=object$1({type:constant$1("movable-point"),key:parseKey$1,options:object$1({startX:string$2,startY:string$2,varSubscript:number$2,constraint:string$2,snap:number$2,constraintFn:string$2,constraintXMin:stringOrEmpty$1,constraintXMax:stringOrEmpty$1,constraintYMin:stringOrEmpty$1,constraintYMax:stringOrEmpty$1})}),parseParametricElement$1=object$1({type:constant$1("parametric"),key:parseKey$1,options:object$1({x:string$2,y:string$2,rangeMin:string$2,rangeMax:string$2,color:string$2,strokeDasharray:string$2,strokeWidth:number$2})}),parsePointElement$1=object$1({type:constant$1("point"),key:parseKey$1,options:object$1({color:string$2,coordX:string$2,coordY:string$2})}),parseRectangleElement$1=object$1({type:constant$1("rectangle"),key:parseKey$1,options:object$1({color:string$2,coordX:string$2,coordY:string$2,width:string$2,height:string$2})}),parseInteractionWidget$1=parseWidget$1(constant$1("interaction"),object$1({static:defaulted$1(boolean$1,()=>!1),graph:object$1({editableSettings:optional$1(array$1(enumeration$1("canvas","graph"))),box:pairOfNumbers$1$1,labels:array$1(string$2),range:pair$1(pairOfNumbers$1$1,pairOfNumbers$1$1),gridStep:pairOfNumbers$1$1,markings:enumeration$1("graph","grid","none","axes"),snapStep:optional$1(pairOfNumbers$1$1),valid:optional$1(union$1(boolean$1).or(string$2).parser),backgroundImage:optional$1(parsePerseusImageBackground$1),showProtractor:optional$1(boolean$1),showRuler:optional$1(boolean$1),rulerLabel:optional$1(string$2),rulerTicks:optional$1(number$2),tickStep:pairOfNumbers$1$1}),elements:array$1(discriminatedUnionOn$1("type").withBranch("function",parseFunctionElement$1).withBranch("label",parseLabelElement$1).withBranch("line",parseLineElement$1).withBranch("movable-line",parseMovableLineElement$1).withBranch("movable-point",parseMovablePointElement$1).withBranch("parametric",parseParametricElement$1).withBranch("point",parsePointElement$1).withBranch("rectangle",parseRectangleElement$1).parser)})),ItemExtras=["calculator","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey"],lockedFigureColorNames$1=["blue","green","grayH","purple","pink","orange","red"],lockedFigureColors={blue:"#3D7586",green:"#447A53",grayH:"#3B3D45",purple:"#594094",pink:"#B25071",red:"#D92916",orange:"#946700"},lockedFigureFillStyles={none:0,white:1,translucent:.4,solid:1},plotterPlotTypes$1=["bar","line","pic","histogram","dotplot"],pairOfNumbers$4=pair$1(number$2,number$2),parsePerseusGraphTypeAngle$1=object$1({type:constant$1("angle"),showAngles:optional$1(boolean$1),allowReflexAngles:optional$1(boolean$1),angleOffsetDeg:optional$1(number$2),snapDegrees:optional$1(number$2),match:optional$1(constant$1("congruent")),coords:optional$1(trio$1(pairOfNumbers$4,pairOfNumbers$4,pairOfNumbers$4)),startCoords:optional$1(trio$1(pairOfNumbers$4,pairOfNumbers$4,pairOfNumbers$4))}),parsePerseusGraphTypeCircle$1=object$1({type:constant$1("circle"),center:optional$1(pairOfNumbers$4),radius:optional$1(number$2),startCoords:optional$1(object$1({center:pairOfNumbers$4,radius:number$2}))}),parsePerseusGraphTypeLinear$1=object$1({type:constant$1("linear"),coords:optional$1(nullable$1(pair$1(pairOfNumbers$4,pairOfNumbers$4))),startCoords:optional$1(pair$1(pairOfNumbers$4,pairOfNumbers$4))}),parsePerseusGraphTypeLinearSystem$1=object$1({type:constant$1("linear-system"),coords:optional$1(nullable$1(array$1(pair$1(pairOfNumbers$4,pairOfNumbers$4)))),startCoords:optional$1(array$1(pair$1(pairOfNumbers$4,pairOfNumbers$4)))}),parsePerseusGraphTypeNone$1=object$1({type:constant$1("none")}),parsePerseusGraphTypePoint$1=object$1({type:constant$1("point"),numPoints:optional$1(union$1(number$2).or(constant$1("unlimited")).parser),coords:optional$1(nullable$1(array$1(pairOfNumbers$4))),startCoords:optional$1(array$1(pairOfNumbers$4)),coord:optional$1(pairOfNumbers$4)}),parsePerseusGraphTypePolygon$1=object$1({type:constant$1("polygon"),numSides:optional$1(union$1(number$2).or(constant$1("unlimited")).parser),showAngles:optional$1(boolean$1),showSides:optional$1(boolean$1),snapTo:optional$1(enumeration$1("grid","angles","sides")),match:optional$1(enumeration$1("similar","congruent","approx","exact")),startCoords:optional$1(array$1(pairOfNumbers$4)),coords:optional$1(nullable$1(array$1(pairOfNumbers$4)))}),parsePerseusGraphTypeQuadratic$1=object$1({type:constant$1("quadratic"),coords:optional$1(nullable$1(trio$1(pairOfNumbers$4,pairOfNumbers$4,pairOfNumbers$4))),startCoords:optional$1(trio$1(pairOfNumbers$4,pairOfNumbers$4,pairOfNumbers$4))}),parsePerseusGraphTypeRay$1=object$1({type:constant$1("ray"),coords:optional$1(nullable$1(pair$1(pairOfNumbers$4,pairOfNumbers$4))),startCoords:optional$1(pair$1(pairOfNumbers$4,pairOfNumbers$4))}),parsePerseusGraphTypeSegment$1=object$1({type:constant$1("segment"),numSegments:optional$1(number$2),coords:optional$1(nullable$1(array$1(pair$1(pairOfNumbers$4,pairOfNumbers$4)))),startCoords:optional$1(array$1(pair$1(pairOfNumbers$4,pairOfNumbers$4)))}),parsePerseusGraphTypeSinusoid$1=object$1({type:constant$1("sinusoid"),coords:optional$1(nullable$1(array$1(pairOfNumbers$4))),startCoords:optional$1(array$1(pairOfNumbers$4))}),parsePerseusGraphType$1=discriminatedUnionOn$1("type").withBranch("angle",parsePerseusGraphTypeAngle$1).withBranch("circle",parsePerseusGraphTypeCircle$1).withBranch("linear",parsePerseusGraphTypeLinear$1).withBranch("linear-system",parsePerseusGraphTypeLinearSystem$1).withBranch("none",parsePerseusGraphTypeNone$1).withBranch("point",parsePerseusGraphTypePoint$1).withBranch("polygon",parsePerseusGraphTypePolygon$1).withBranch("quadratic",parsePerseusGraphTypeQuadratic$1).withBranch("ray",parsePerseusGraphTypeRay$1).withBranch("segment",parsePerseusGraphTypeSegment$1).withBranch("sinusoid",parsePerseusGraphTypeSinusoid$1).parser,parseLockedFigureColor$1=enumeration$1(...lockedFigureColorNames$1),parseLockedFigureFillType$1=enumeration$1("none","white","translucent","solid"),parseLockedLineStyle$1=enumeration$1("solid","dashed"),parseStrokeWeight$1=defaulted$1(enumeration$1("medium","thin","thick"),()=>"medium"),parseLockedLabelType$1=object$1({type:constant$1("label"),coord:pairOfNumbers$4,text:string$2,color:parseLockedFigureColor$1,size:enumeration$1("small","medium","large")}),parseLockedPointType$1=object$1({type:constant$1("point"),coord:pairOfNumbers$4,color:parseLockedFigureColor$1,filled:boolean$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedLineType$1=object$1({type:constant$1("line"),kind:enumeration$1("line","ray","segment"),points:pair$1(parseLockedPointType$1,parseLockedPointType$1),color:parseLockedFigureColor$1,lineStyle:parseLockedLineStyle$1,showPoint1:defaulted$1(boolean$1,()=>!1),showPoint2:defaulted$1(boolean$1,()=>!1),weight:parseStrokeWeight$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedVectorType$1=object$1({type:constant$1("vector"),points:pair$1(pairOfNumbers$4,pairOfNumbers$4),color:parseLockedFigureColor$1,weight:parseStrokeWeight$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedEllipseType$1=object$1({type:constant$1("ellipse"),center:pairOfNumbers$4,radius:pairOfNumbers$4,angle:number$2,color:parseLockedFigureColor$1,fillStyle:parseLockedFigureFillType$1,strokeStyle:parseLockedLineStyle$1,weight:parseStrokeWeight$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedPolygonType$1=object$1({type:constant$1("polygon"),points:array$1(pairOfNumbers$4),color:parseLockedFigureColor$1,showVertices:boolean$1,fillStyle:parseLockedFigureFillType$1,strokeStyle:parseLockedLineStyle$1,weight:parseStrokeWeight$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedFunctionDomain$1=defaulted$1(pair$1(defaulted$1(number$2,()=>-1/0),defaulted$1(number$2,()=>1/0)),()=>[-1/0,1/0]),parseLockedFunctionType$1=object$1({type:constant$1("function"),color:parseLockedFigureColor$1,strokeStyle:parseLockedLineStyle$1,weight:parseStrokeWeight$1,equation:string$2,directionalAxis:enumeration$1("x","y"),domain:parseLockedFunctionDomain$1,labels:defaulted$1(array$1(parseLockedLabelType$1),()=>[]),ariaLabel:optional$1(string$2)}),parseLockedFigure$1=discriminatedUnionOn$1("type").withBranch("point",parseLockedPointType$1).withBranch("line",parseLockedLineType$1).withBranch("vector",parseLockedVectorType$1).withBranch("ellipse",parseLockedEllipseType$1).withBranch("polygon",parseLockedPolygonType$1).withBranch("function",parseLockedFunctionType$1).withBranch("label",parseLockedLabelType$1).parser,parseLabelLocation$1=union$1(enumeration$1("onAxis","alongEdge")).or(pipeParsers$1(constant$1("")).then(convert$1(()=>"onAxis")).parser).parser,parseInteractiveGraphWidget$1=parseWidget$1(constant$1("interactive-graph"),object$1({step:pairOfNumbers$4,gridStep:optional$1(pairOfNumbers$4),snapStep:optional$1(pairOfNumbers$4),backgroundImage:optional$1(parsePerseusImageBackground$1),markings:enumeration$1("graph","grid","none","axes"),labels:optional$1(array$1(string$2)),labelLocation:optional$1(parseLabelLocation$1),showProtractor:boolean$1,showRuler:optional$1(boolean$1),showTooltips:optional$1(boolean$1),rulerLabel:optional$1(string$2),rulerTicks:optional$1(number$2),range:pair$1(pairOfNumbers$4,pairOfNumbers$4),showAxisArrows:defaulted$1(object$1({xMin:boolean$1,xMax:boolean$1,yMin:boolean$1,yMax:boolean$1}),()=>({xMin:!0,xMax:!0,yMin:!0,yMax:!0})),graph:defaulted$1(parsePerseusGraphType$1,()=>({type:"linear"})),correct:defaulted$1(parsePerseusGraphType$1,()=>({type:"linear"})),lockedFigures:defaulted$1(array$1(parseLockedFigure$1),()=>[]),fullGraphAriaLabel:optional$1(string$2),fullGraphAriaDescription:optional$1(string$2)})),parseLabelImageWidget$1=parseWidget$1(constant$1("label-image"),object$1({choices:array$1(string$2),imageUrl:string$2,imageAlt:string$2,imageHeight:number$2,imageWidth:number$2,markers:array$1(object$1({answers:array$1(string$2),label:string$2,x:number$2,y:number$2})),hideChoicesFromInstructions:boolean$1,multipleAnswers:boolean$1,static:defaulted$1(boolean$1,()=>!1)})),matcherOptions$1=object$1({labels:array$1(string$2),left:array$1(string$2),right:array$1(string$2),orderMatters:boolean$1,padding:boolean$1});function getDefaultOptions$1$1(){return{left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0}}const parseMatcherWidget$1=parseWidget$1(constant$1("matcher"),defaulted$1(matcherOptions$1,getDefaultOptions$1$1)),numberOrString$1=union$1(number$2).or(string$2).parser,numeric$2=pipeParsers$1(defaulted$1(numberOrString$1,()=>NaN)).then(stringToNumber$1).parser,parseMatrixWidget$1=parseWidget$1(defaulted$1(constant$1("matrix"),()=>"matrix"),object$1({prefix:optional$1(string$2),suffix:optional$1(string$2),answers:defaulted$1(array$1(array$1(numeric$2)),()=>[]),cursorPosition:optional$1(array$1(number$2)),matrixBoardSize:array$1(number$2),static:optional$1(boolean$1)})),parseMeasurerWidget$1=parseWidget$1(constant$1("measurer"),object$1({image:defaulted$1(parsePerseusImageBackground$1,()=>({url:null,top:0,left:0})),showProtractor:boolean$1,showRuler:boolean$1,rulerLabel:string$2,rulerTicks:number$2,rulerPixels:number$2,rulerLength:number$2,box:pair$1(number$2,number$2)})),parseMoleculeRendererWidget$1=parseWidget$1(constant$1("molecule-renderer"),object$1({widgetId:string$2,rotationAngle:optional$1(number$2),smiles:optional$1(string$2)})),emptyStringToNull$1=pipeParsers$1(constant$1("")).then(convert$1(()=>null)).parser,parseNumberLineWidget$1=parseWidget$1(constant$1("number-line"),object$1({range:array$1(number$2),labelRange:array$1(nullable$1(union$1(number$2).or(emptyStringToNull$1).parser)),labelStyle:string$2,labelTicks:boolean$1,isTickCtrl:defaulted$1(boolean$1,()=>!1),isInequality:defaulted$1(boolean$1,()=>!1),divisionRange:array$1(number$2),numDivisions:optional$1(nullable$1(number$2)),snapDivisions:defaulted$1(number$2,()=>2),tickStep:optional$1(nullable$1(number$2)),correctRel:defaulted$1(optional$1(enumeration$1("eq","lt","gt","le","ge")),()=>{}),correctX:defaulted$1(nullable$1(number$2),()=>null),initialX:optional$1(nullable$1(number$2)),showTooltips:optional$1(boolean$1),static:defaulted$1(boolean$1,()=>!1)})),parseMathFormat$1=enumeration$1("integer","mixed","improper","proper","decimal","percent","pi"),parseSimplify$1=pipeParsers$1(union$1(constant$1(null)).or(constant$1(void 0)).or(boolean$1).or(constant$1("true")).or(constant$1("required")).or(constant$1("correct")).or(constant$1("enforced")).or(constant$1("optional")).or(constant$1("accepted")).parser).then(convert$1(deprecatedSimplifyValuesToRequired$1)).parser;function deprecatedSimplifyValuesToRequired$1(e){switch(e){case"enforced":case"required":case"optional":return e;default:return"required"}}const parseNumericInputWidget$1=parseWidget$1(constant$1("numeric-input"),object$1({answers:array$1(object$1({message:defaulted$1(string$2,()=>""),value:optional$1(nullable$1(number$2)),status:string$2,answerForms:defaulted$1(optional$1(array$1(parseMathFormat$1)),()=>{}),strict:defaulted$1(boolean$1,()=>!1),maxError:optional$1(nullable$1(number$2)),simplify:parseSimplify$1})),labelText:optional$1(string$2),size:string$2,coefficient:defaulted$1(boolean$1,()=>!1),rightAlign:optional$1(boolean$1),static:defaulted$1(boolean$1,()=>!1),answerForms:optional$1(array$1(object$1({name:parseMathFormat$1,simplify:parseSimplify$1})))}));function parseRenderer$1(e,t){return parsePerseusRenderer$1(e,t)}const largeToAuto$1=(e,t)=>"large"===e?t.success("auto"):t.success(e),parseOrdererWidget$1=parseWidget$1(constant$1("orderer"),object$1({options:defaulted$1(array$1(parseRenderer$1),()=>[]),correctOptions:defaulted$1(array$1(parseRenderer$1),()=>[]),otherOptions:defaulted$1(array$1(parseRenderer$1),()=>[]),height:pipeParsers$1(enumeration$1("normal","auto","large")).then(largeToAuto$1).parser,layout:defaulted$1(enumeration$1("horizontal","vertical"),()=>"horizontal")})),parsePassageRefWidget$1=parseWidget$1(constant$1("passage-ref"),object$1({passageNumber:number$2,referenceNumber:number$2,summaryText:optional$1(string$2)})),parsePassageWidget$1=parseWidget$1(constant$1("passage"),object$1({footnotes:defaulted$1(string$2,()=>""),passageText:string$2,passageTitle:defaulted$1(string$2,()=>""),showLineNumbers:boolean$1,static:defaulted$1(boolean$1,()=>!1)})),parsePhetSimulationWidget$1=parseWidget$1(constant$1("phet-simulation"),object$1({url:string$2,description:string$2})),parsePlotterWidget$1=parseWidget$1(constant$1("plotter"),object$1({labels:array$1(string$2),categories:array$1(string$2),type:enumeration$1(...plotterPlotTypes$1),maxY:number$2,scaleY:defaulted$1(number$2,()=>1),labelInterval:optional$1(nullable$1(number$2)),snapsPerLine:defaulted$1(number$2,()=>2),starting:array$1(number$2),correct:defaulted$1(array$1(number$2),()=>[]),picUrl:optional$1(nullable$1(string$2)),picSize:optional$1(nullable$1(number$2)),picBoxHeight:optional$1(nullable$1(number$2)),plotDimensions:defaulted$1(array$1(number$2),()=>[380,300])})),parsePythonProgramWidget$1=parseWidget$1(constant$1("python-program"),object$1({programID:string$2,height:number$2}));function deriveNumCorrect$1(e){return e.filter(e=>e.correct).length}const parseWidgetsMapOrUndefined$1=defaulted$1(optional$1((e,t)=>parseWidgetsMap$1(e,t)),()=>{});function getDefaultOptions$2(){return{choices:[{content:"",id:generateChoiceId$1(0)},{content:"",id:generateChoiceId$1(1)},{content:"",id:generateChoiceId$1(2)},{content:"",id:generateChoiceId$1(3)}]}}const parseOnePerLine$1=defaulted$1(optional$1(boolean$1),()=>{}),parseNoneOfTheAbove$1=defaulted$1(optional$1(constant$1(!1)),()=>{});function generateChoiceId$1(e){return`radio-choice-${e}`}const version3$1=optional$1(object$1({major:constant$1(3),minor:number$2})),parseRadioWidgetV3$1=parseWidgetWithVersion$1(version3$1,constant$1("radio"),object$1({numCorrect:optional$1(number$2),choices:arrayWithIndex$1(e=>object$1({content:defaulted$1(string$2,()=>""),rationale:optional$1(string$2),correct:optional$1(boolean$1),isNoneOfTheAbove:optional$1(boolean$1),id:defaultedNonEmptyString$1(()=>generateChoiceId$1(e))})),hasNoneOfTheAbove:optional$1(boolean$1),countChoices:optional$1(boolean$1),randomize:optional$1(boolean$1),multipleSelect:optional$1(boolean$1),deselectEnabled:optional$1(boolean$1)})),version2$2=optional$1(object$1({major:constant$1(2),minor:number$2})),parseRadioWidgetV2$1=parseWidgetWithVersion$1(version2$2,constant$1("radio"),defaulted$1(object$1({numCorrect:optional$1(number$2),choices:array$1(object$1({content:defaulted$1(string$2,()=>""),clue:optional$1(string$2),correct:optional$1(boolean$1),isNoneOfTheAbove:optional$1(boolean$1),widgets:parseWidgetsMapOrUndefined$1})),hasNoneOfTheAbove:optional$1(boolean$1),countChoices:optional$1(boolean$1),randomize:optional$1(boolean$1),multipleSelect:optional$1(boolean$1),deselectEnabled:optional$1(boolean$1),onePerLine:parseOnePerLine$1,displayCount:optional$1(any$1),noneOfTheAbove:parseNoneOfTheAbove$1}),getDefaultOptions$2)),version1$2=optional$1(object$1({major:constant$1(1),minor:number$2})),parseRadioWidgetV1$1=parseWidgetWithVersion$1(version1$2,constant$1("radio"),defaulted$1(object$1({choices:array$1(object$1({content:defaulted$1(string$2,()=>""),clue:optional$1(string$2),correct:optional$1(boolean$1),isNoneOfTheAbove:optional$1(boolean$1),widgets:parseWidgetsMapOrUndefined$1})),hasNoneOfTheAbove:optional$1(boolean$1),countChoices:optional$1(boolean$1),randomize:optional$1(boolean$1),multipleSelect:optional$1(boolean$1),deselectEnabled:optional$1(boolean$1),onePerLine:parseOnePerLine$1,displayCount:optional$1(any$1),noneOfTheAbove:parseNoneOfTheAbove$1}),getDefaultOptions$2)),version0$2=optional$1(object$1({major:constant$1(0),minor:number$2})),parseRadioWidgetV0$1=parseWidgetWithVersion$1(version0$2,constant$1("radio"),defaulted$1(object$1({choices:array$1(object$1({content:defaulted$1(string$2,()=>""),clue:optional$1(string$2),correct:optional$1(boolean$1),isNoneOfTheAbove:optional$1(boolean$1),widgets:parseWidgetsMapOrUndefined$1})),hasNoneOfTheAbove:optional$1(boolean$1),countChoices:optional$1(boolean$1),randomize:optional$1(boolean$1),multipleSelect:optional$1(boolean$1),deselectEnabled:optional$1(boolean$1),onePerLine:parseOnePerLine$1,displayCount:optional$1(any$1),noneOfTheAbove:parseNoneOfTheAbove$1}),getDefaultOptions$2));function migrateV2toV3$1(e){const{options:t}=e;return{...e,version:{major:3,minor:0},options:{numCorrect:t.numCorrect,hasNoneOfTheAbove:t.hasNoneOfTheAbove,countChoices:t.countChoices,randomize:t.randomize,multipleSelect:t.multipleSelect,deselectEnabled:t.deselectEnabled,choices:t.choices.map((e,t)=>({content:e.content,rationale:e.rationale||e.clue,correct:e.correct,isNoneOfTheAbove:e.isNoneOfTheAbove,id:generateChoiceId$1(t)}))}}}function migrateV1ToV2$2(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{...t,numCorrect:deriveNumCorrect$1(t.choices)}}}function migrateV0ToV1$2(e){const{options:t}=e,{noneOfTheAbove:r,...n}=t;return{...e,version:{major:1,minor:0},options:{...n,hasNoneOfTheAbove:!1,noneOfTheAbove:void 0}}}const parseRadioWidget$1=versionedWidgetOptions$1(3,parseRadioWidgetV3$1).withMigrationFrom(2,parseRadioWidgetV2$1,migrateV2toV3$1).withMigrationFrom(1,parseRadioWidgetV1$1,migrateV1ToV2$2).withMigrationFrom(0,parseRadioWidgetV0$1,migrateV0ToV1$2).parser,parseSorterWidget$1=parseWidget$1(constant$1("sorter"),object$1({correct:array$1(string$2),padding:boolean$1,layout:enumeration$1("horizontal","vertical")})),parseTableWidget$1=parseWidget$1(constant$1("table"),object$1({headers:array$1(string$2),rows:number$2,columns:number$2,answers:defaulted$1(array$1(array$1(string$2)),()=>[])})),parseVideoWidget$1=parseWidget$1(constant$1("video"),object$1({location:string$2,static:optional$1(boolean$1)})),parseStringToNonNegativeInt$1=(e,t)=>"string"==typeof e&&/^(0|[1-9][0-9]*)$/.test(e)?t.success(+e):t.failure("a string representing a non-negative integer",e),parseWidgetIdComponents$1=pair$1(string$2,parseStringToNonNegativeInt$1),parseWidgetsMap$1=(e,t)=>{if(!isPlainObject$1(e))return t.failure("PerseusWidgetsMap",e);const r={};for(const n of Object.keys(e)){const i=parseWidgetsMapEntry$1([n,e[n]],r,t.forSubtree(n));if(isFailure$1(i))return i}return t.success(r)},parseWidgetsMapEntry$1=([e,t],r,n)=>{const i=parseWidgetIdComponents$1(e.split(" "),n.forSubtree("(widget ID)"));if(isFailure$1(i))return i;const[o,a]=i.value;function s(e,i){const o=i(t,n);return isFailure$1(o)?o:(r[e]=o.value,n.success(void 0))}switch(o){case"categorizer":return s(`categorizer ${a}`,parseCategorizerWidget$1);case"cs-program":return s(`cs-program ${a}`,parseCSProgramWidget$1);case"definition":return s(`definition ${a}`,parseDefinitionWidget$1);case"dropdown":return s(`dropdown ${a}`,parseDropdownWidget$1);case"explanation":return s(`explanation ${a}`,parseExplanationWidget$1);case"expression":return s(`expression ${a}`,parseExpressionWidget$1);case"free-response":return s(`free-response ${a}`,parseFreeResponseWidget$1);case"grapher":return s(`grapher ${a}`,parseGrapherWidget$1);case"group":return s(`group ${a}`,parseGroupWidget$1);case"graded-group":return s(`graded-group ${a}`,parseGradedGroupWidget$1);case"graded-group-set":return s(`graded-group-set ${a}`,parseGradedGroupSetWidget$1);case"iframe":return s(`iframe ${a}`,parseIframeWidget$1);case"image":return s(`image ${a}`,parseImageWidget$1);case"input-number":return s(`input-number ${a}`,parseInputNumberWidget$1);case"interaction":return s(`interaction ${a}`,parseInteractionWidget$1);case"interactive-graph":return s(`interactive-graph ${a}`,parseInteractiveGraphWidget$1);case"label-image":return s(`label-image ${a}`,parseLabelImageWidget$1);case"matcher":return s(`matcher ${a}`,parseMatcherWidget$1);case"matrix":return s(`matrix ${a}`,parseMatrixWidget$1);case"measurer":return s(`measurer ${a}`,parseMeasurerWidget$1);case"molecule-renderer":return s(`molecule-renderer ${a}`,parseMoleculeRendererWidget$1);case"number-line":return s(`number-line ${a}`,parseNumberLineWidget$1);case"numeric-input":return s(`numeric-input ${a}`,parseNumericInputWidget$1);case"orderer":return s(`orderer ${a}`,parseOrdererWidget$1);case"passage":return s(`passage ${a}`,parsePassageWidget$1);case"passage-ref":return s(`passage-ref ${a}`,parsePassageRefWidget$1);case"passage-ref-target":return s(`passage-ref-target ${a}`,any$1);case"phet-simulation":return s(`phet-simulation ${a}`,parsePhetSimulationWidget$1);case"plotter":return s(`plotter ${a}`,parsePlotterWidget$1);case"python-program":return s(`python-program ${a}`,parsePythonProgramWidget$1);case"radio":return s(`radio ${a}`,parseRadioWidget$1);case"sorter":return s(`sorter ${a}`,parseSorterWidget$1);case"table":return s(`table ${a}`,parseTableWidget$1);case"video":return s(`video ${a}`,parseVideoWidget$1);case"sequence":return s(`sequence ${a}`,parseDeprecatedWidget$1);case"lights-puzzle":return s(`lights-puzzle ${a}`,parseDeprecatedWidget$1);case"simulator":return s(`simulator ${a}`,parseDeprecatedWidget$1);case"transformer":return s(`transformer ${a}`,parseDeprecatedWidget$1);default:return s(`${o} ${a}`,parseWidget$1(constant$1(o),any$1))}},parseDeprecatedWidget$1=parseWidget$1((e,t)=>t.success("deprecated-standin"),object$1({})),parsePerseusRenderer$1=defaulted$1(object$1({content:defaulted$1(string$2,()=>""),widgets:defaulted$1((e,t)=>parseWidgetsMap$1(e,t),()=>({})),images:parseImages$1,metadata:any$1}),()=>({content:"",widgets:{},images:{}}));function toAnswerArea$1(e){return{calculator:!!e.calculator,financialCalculatorMonthlyPayment:!!e.financialCalculatorMonthlyPayment,financialCalculatorTotalAmount:!!e.financialCalculatorTotalAmount,financialCalculatorTimeToPayOff:!!e.financialCalculatorTimeToPayOff,periodicTable:!!e.periodicTable,periodicTableWithKey:!!e.periodicTableWithKey}}union$1(parsePerseusRenderer$1).or(array$1(parsePerseusRenderer$1)).parser,pipeParsers$1(defaulted$1(object$1({}),()=>({}))).then(convert$1(toAnswerArea$1)).parser,object$1({status:enumeration$1("correct","incorrect","incomplete"),message:nullable$1(string$2)});const coord$1=pair$1(number$2,number$2),coordPair$1=pair$1(coord$1,coord$1),parseAbsoluteValueBranch$1=object$1({type:constant$1("absolute_value"),coords:nullable$1(coordPair$1)}),parseExponentialBranch$1=object$1({type:constant$1("exponential"),asymptote:coordPair$1,coords:nullable$1(coordPair$1)}),parseLinearBranch$1=object$1({type:constant$1("linear"),coords:nullable$1(coordPair$1)}),parseLogarithmBranch$1=object$1({type:constant$1("logarithm"),asymptote:coordPair$1,coords:nullable$1(coordPair$1)}),parseQuadraticBranch$1=object$1({type:constant$1("quadratic"),coords:nullable$1(coordPair$1)}),parseSinusoidBranch$1=object$1({type:constant$1("sinusoid"),coords:nullable$1(coordPair$1)}),parseTangentBranch$1=object$1({type:constant$1("tangent"),coords:nullable$1(coordPair$1)});discriminatedUnionOn$1("type").withBranch("absolute_value",parseAbsoluteValueBranch$1).withBranch("exponential",parseExponentialBranch$1).withBranch("linear",parseLinearBranch$1).withBranch("logarithm",parseLogarithmBranch$1).withBranch("quadratic",parseQuadraticBranch$1).withBranch("sinusoid",parseSinusoidBranch$1).withBranch("tangent",parseTangentBranch$1).parser,object$1({status:enumeration$1("correct","incorrect","incomplete"),message:optional$1(nullable$1(string$2))}),object$1({numLinePosition:number$2,rel:enumeration$1("eq","lt","gt","le","ge"),numDivisions:number$2});const libName$3="@khanacademy/perseus-core",libVersion$3="20.2.1";addLibraryVersionToPerseusDebug$1(libName$3,libVersion$3);const Errors$1=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",NotAllowed:"NotAllowed",TransientService:"TransientService",Service:"Service"});let PerseusError$1=class extends Error{constructor(e,t,r){super(e),this.kind=t,this.metadata=r?.metadata}};const pluck=function(e,t){return _.object(_.map(e,function(e,r){return[r,e[t]]}))},mapObject$1=function(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=t(e[n],n)}),r};function getCategorizerPublicWidgetOptions$1(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const defaultWidgetOptions$w$1={items:[],categories:[],values:[],randomizeItems:!1},categorizerWidgetLogic$1={name:"categorizer",defaultWidgetOptions:defaultWidgetOptions$w$1,getPublicWidgetOptions:getCategorizerPublicWidgetOptions$1,accessible:!1};function getCSProgramPublicWidgetOptions$1(e){return e}const DEFAULT_HEIGHT$1=400,defaultWidgetOptions$v$1={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:DEFAULT_HEIGHT$1},csProgramWidgetLogic$1={name:"cs-program",defaultWidgetOptions:defaultWidgetOptions$v$1,supportedAlignments:["block","full-width"],getPublicWidgetOptions:getCSProgramPublicWidgetOptions$1,accessible:!1},defaultWidgetOptions$u$1={togglePrompt:"",definition:""},definitionWidgetLogic$1={name:"definition",defaultWidgetOptions:defaultWidgetOptions$u$1,defaultAlignment:"inline",accessible:!0};function getDropdownPublicWidgetOptions$1(e){return{choices:e.choices.map(e=>({content:e.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const defaultWidgetOptions$t$1={placeholder:"",choices:[{content:"",correct:!1}]},dropdownWidgetLogic$1={name:"dropdown",defaultWidgetOptions:defaultWidgetOptions$t$1,defaultAlignment:"inline-block",getPublicWidgetOptions:getDropdownPublicWidgetOptions$1,accessible:!0},defaultWidgetOptions$s$1={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}},explanationWidgetLogic$1={name:"explanation",defaultWidgetOptions:defaultWidgetOptions$s$1,defaultAlignment:"inline",accessible:!0};function getExpressionPublicWidgetOptions$1(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible,extraKeys:e.extraKeys}}const currentVersion$3$1={major:2,minor:0},defaultWidgetOptions$r$1={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]},expressionWidgetLogic$1={name:"expression",version:currentVersion$3$1,defaultWidgetOptions:defaultWidgetOptions$r$1,defaultAlignment:"inline-block",getPublicWidgetOptions:getExpressionPublicWidgetOptions$1,accessible:!0},defaultWidgetOptions$q$1={title:"",content:"",widgets:{},images:{},hint:null},traverseChildWidgets$3$1=function(e,t){return{...e,...t(e)}},gradedGroupWidgetLogic$1={name:"graded-group",defaultWidgetOptions:defaultWidgetOptions$q$1,accessible:!0,traverseChildWidgets:traverseChildWidgets$3$1},defaultWidgetOptions$o$1={gradedGroups:[]},traverseChildWidgets$2$1=function(e,t){return{...e,...t(e)}},gradedGroupSetWidgetLogic$1={name:"graded-group-set",defaultWidgetOptions:defaultWidgetOptions$o$1,accessible:!0,traverseChildWidgets:traverseChildWidgets$2$1};function getGrapherPublicWidgetOptions$1(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$n$1={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},grapherWidgetLogic$1={name:"grapher",defaultWidgetOptions:defaultWidgetOptions$n$1,getPublicWidgetOptions:getGrapherPublicWidgetOptions$1,accessible:!1};let Registry$1=class{throwIfUnregistered(){if(!this.anythingRegistered)throw new Error(`${this.name} accessed before initialization!`)}has(e){return this.throwIfUnregistered(),Object.prototype.hasOwnProperty.call(this.contents,e)}get(e){return this.throwIfUnregistered(),this.contents[e]}keys(){return this.throwIfUnregistered(),Object.keys(this.contents)}entries(){return this.throwIfUnregistered(),Object.entries(this.contents)}set(e,t){this.anythingRegistered=!0,this.contents[e]=t}constructor(e="Registry"){this.contents={},this.anythingRegistered=!1,this.name=e}};const deprecatedStandinWidgetLogic$1={name:"deprecated-standin",accessible:!0};function getIFramePublicWidgetOptions$1(e){return e}const defaultWidgetOptions$m$1={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},iframeWidgetLogic$1={name:"iframe",defaultWidgetOptions:defaultWidgetOptions$m$1,getPublicWidgetOptions:getIFramePublicWidgetOptions$1,accessible:!1},defaultWidgetOptions$l$1={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},imageWidgetLogic$1={name:"image",defaultWidgetOptions:defaultWidgetOptions$l$1,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block",accessible:e=>{const t=e,r=null!=t.backgroundImage.url,n=!!t.alt,i=!0===t.decorative;return r&&(n||i)}};function getInputNumberPublicWidgetOptions$1(e){const{value:t,...r}=e;return r}const defaultWidgetOptions$k$1={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},inputNumberWidgetLogic$1={name:"input-number",defaultWidgetOptions:defaultWidgetOptions$k$1,defaultAlignment:"inline-block",accessible:!1,getPublicWidgetOptions:getInputNumberPublicWidgetOptions$1},defaultWidgetOptions$j$1={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},interactionWidgetLogic$1={name:"interaction",defaultWidgetOptions:defaultWidgetOptions$j$1,accessible:!1},svgLabelsRegex$1=/^web\+graphie:/,svgLocalLabelsRegex$1=/^file\+graphie:/;function getRealImageUrl(e){return isLabeledSVG$1(e)?getSvgUrl(e):e}function isLabeledSVG$1(e){return svgLabelsRegex$1.test(e)||svgLocalLabelsRegex$1.test(e)}function getBaseUrl(e){return e.replace(svgLabelsRegex$1,"https:").replace(svgLocalLabelsRegex$1,"file:")}function getSvgUrl(e){return getBaseUrl(e)+".svg"}function getDataUrl(e){return getBaseUrl(e)+"-data.json"}async function getImageSizeModern(e){const t=new Image;return new Promise((r,n)=>{t.onload=()=>{r([t.naturalWidth,t.naturalHeight])},t.onerror=n,t.src=getRealImageUrl(e)})}function getInteractiveGraphPublicWidgetOptions$1(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$i$1={labels:["$x$","$y$"],labelLocation:"onAxis",range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},interactiveGraphWidgetLogic$1={name:"interactive-graph",defaultWidgetOptions:defaultWidgetOptions$i$1,getPublicWidgetOptions:getInteractiveGraphPublicWidgetOptions$1,accessible:e=>{const t=e;return!t.showProtractor&&(!t.backgroundImage?.url||!isLabeledSVG$1(t.backgroundImage?.url))}};function getLabelImagePublicWidgetOptions$1(e){return{...e,markers:e.markers.map(getLabelImageMarkerPublicData$1)}}function getLabelImageMarkerPublicData$1(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$h$1={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},labelImageWidgetLogic$1={name:"label-image",defaultWidgetOptions:defaultWidgetOptions$h$1,getPublicWidgetOptions:getLabelImagePublicWidgetOptions$1,accessible:e=>{const t=e;return""===t.imageUrl||""!==t.imageAlt}},seededRNG$1=function(e){let t=e;return function(){let e=t;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(t=268435455&e)/268435456}};function shuffle(e,t,r=!1){let n;return n="function"==typeof t?t:seededRNG$1(t),constrainedShuffle(e,n,function(t){return!r||!_.isEqual(e,t)})}function constrainedShuffle(e,t,r){const n=[...e];if(n.every(e=>_.isEqual(e,n[0])))return n;for(let i=0;i<100;i++)if(shuffleInPlace(n,t),r(n))return n;throw new Error("constrainedShuffle: constraint not met after 100 attempts")}function shuffleInPlace(e,t){for(let r=e.length-1;r>0;r--){const n=randomIntInRange(0,r,t);[e[n],e[r]]=[e[r],e[n]]}}function randomIntInRange(e,t,r){return Math.floor(r()*(t-e+1))+e}seededRNG$1(4294967295&(new Date).getTime());const shuffleMatcher=(e,t)=>{const r=seededRNG$1(t);return{left:e.orderMatters?shuffleDisplacingFirst$1(e.left,r):e.left,right:shuffleDisplacingFirst$1(e.right,r)}};function getMatcherPublicWidgetOptions$1(e){return{...e,left:e.orderMatters?sortAllButFirst$1$1(e.left):e.left,right:sortAllButFirst$1$1(e.right)}}function sortAllButFirst$1$1([e,...t]){return[e,...t.sort()]}function shuffleDisplacingFirst$1(e,t){return constrainedShuffle(e,t,function(t){return t[0]!==e[0]})}const defaultWidgetOptions$g$1={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},matcherWidgetLogic$1={name:"matcher",defaultWidgetOptions:defaultWidgetOptions$g$1,getPublicWidgetOptions:getMatcherPublicWidgetOptions$1,accessible:!1};function getMatrixPublicWidgetOptions$1(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$f$1={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},matrixWidgetLogic$1={name:"matrix",defaultWidgetOptions:defaultWidgetOptions$f$1,getPublicWidgetOptions:getMatrixPublicWidgetOptions$1,accessible:!1},currentVersion$2$1={major:1,minor:0},defaultWidgetOptions$e$1={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},measurerWidgetLogic$1={name:"measurer",version:currentVersion$2$1,defaultWidgetOptions:defaultWidgetOptions$e$1,accessible:!1};function getNumberLinePublicWidgetOptions$1(e){const{correctX:t,correctRel:r,...n}=e;return n}const defaultWidgetOptions$d$1={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},numberLineWidgetLogic$1={name:"number-line",defaultWidgetOptions:defaultWidgetOptions$d$1,getPublicWidgetOptions:getNumberLinePublicWidgetOptions$1,accessible:!1};function getNumericInputAnswerPublicData$1(e){const{answerForms:t,simplify:r,status:n}=e;return{answerForms:t,simplify:r,status:n}}function getNumericInputPublicWidgetOptions$1(e){const{answers:t,...r}=e;return{...r,answers:t.map(getNumericInputAnswerPublicData$1)}}const defaultWidgetOptions$c$1={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},numericInputWidgetLogic$1={name:"numeric-input",defaultWidgetOptions:defaultWidgetOptions$c$1,defaultAlignment:"inline-block",getPublicWidgetOptions:getNumericInputPublicWidgetOptions$1,accessible:!0};function getOrdererPublicWidgetOptions$1(e){const{options:t,height:r,layout:n}=e;return{options:t,height:r,layout:n}}const defaultWidgetOptions$b$1={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},ordererWidgetLogic$1={name:"orderer",defaultWidgetOptions:defaultWidgetOptions$b$1,getPublicWidgetOptions:getOrdererPublicWidgetOptions$1,accessible:!1},defaultWidgetOptions$a$1={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},passageWidgetLogic$1={name:"passage",defaultWidgetOptions:defaultWidgetOptions$a$1,accessible:!1},currentVersion$1$1={major:0,minor:1},defaultWidgetOptions$9$1={passageNumber:1,referenceNumber:1,summaryText:""},passageRefWidgetLogic$1={name:"passage-ref",version:currentVersion$1$1,defaultWidgetOptions:defaultWidgetOptions$9$1,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$8$1={content:""},passageRefTargetWidgetLogic$1={name:"passage-ref-target",defaultWidgetOptions:defaultWidgetOptions$8$1,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$7$1={url:"",description:""},phetSimulationWidgetLogic$1={name:"phet-simulation",defaultWidgetOptions:defaultWidgetOptions$7$1,accessible:!0};function getPlotterPublicWidgetOptions$1(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$6$1={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},plotterWidgetLogic$1={name:"plotter",defaultWidgetOptions:defaultWidgetOptions$6$1,getPublicWidgetOptions:getPlotterPublicWidgetOptions$1,accessible:!1},defaultWidgetOptions$5$1={programID:"",height:400},pythonProgramWidgetLogic$1={name:"python-program",defaultWidgetOptions:defaultWidgetOptions$5$1,accessible:!0};function getRadioChoicePublicData$1(e){const{id:t,content:r,isNoneOfTheAbove:n}=e;return{id:t,content:r,isNoneOfTheAbove:n}}function usesNumCorrect$1(e,t,r){return e&&t&&r}function getRadioPublicWidgetOptions$1(e){const{numCorrect:t,choices:r,multipleSelect:n,countChoices:i}=e;return{...e,numCorrect:usesNumCorrect$1(n,i,t)?t:void 0,choices:r.map(getRadioChoicePublicData$1)}}const currentVersion$4={major:3,minor:0},defaultWidgetOptions$4$1={choices:[{content:"",id:"radio-choice-0"},{content:"",id:"radio-choice-1"},{content:"",id:"radio-choice-2"},{content:"",id:"radio-choice-3"}],randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1},radioWidgetLogic$1={name:"radio",version:currentVersion$4,defaultWidgetOptions:defaultWidgetOptions$4$1,getPublicWidgetOptions:getRadioPublicWidgetOptions$1,accessible:!0};function getSorterPublicWidgetOptions$1(e){return{...e,correct:sortAllButFirst$2(e.correct)}}function shuffleSorter(e,t){const{correct:r}=e;return shuffleDisplacingFirst(r,seededRNG$1(t??0))}function sortAllButFirst$2([e,...t]){return[e,...t.sort()]}function shuffleDisplacingFirst(e,t){return constrainedShuffle(e,t,function(t){return t[0]!==e[0]})}const defaultWidgetOptions$3$1={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},sorterWidgetLogic$1={name:"sorter",defaultWidgetOptions:defaultWidgetOptions$3$1,getPublicWidgetOptions:getSorterPublicWidgetOptions$1,accessible:!1};function getTablePublicWidgetOptions$1(e){const{answers:t,...r}=e;return r}const defaultRows$1=4,defaultColumns$1=1,answers$1=new Array(defaultRows$1).fill(0).map(()=>new Array(defaultColumns$1).fill("")),defaultWidgetOptions$2$1={headers:[""],rows:defaultRows$1,columns:defaultColumns$1,answers:answers$1},tableWidgetLogic$1={name:"table",defaultWidgetOptions:defaultWidgetOptions$2$1,getPublicWidgetOptions:getTablePublicWidgetOptions$1,accessible:!0},defaultWidgetOptions$1$1={location:""},videoWidgetLogic$1={name:"video",defaultWidgetOptions:defaultWidgetOptions$1$1,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block",accessible:!0},widgets$2=new Registry$1("Core widget registry");function registerWidget$2(e,t){widgets$2.set(e,t)}function isWidgetRegistered$1(e){const t=widgets$2.get(e);return Boolean(t)}function getCurrentVersion$1(e){const t=widgets$2.get(e);return t?.version||{major:0,minor:0}}const getPublicWidgetOptionsFunction$1=e=>widgets$2.get(e)?.getPublicWidgetOptions??(e=>e);function getDefaultWidgetOptions$1(e){const t=widgets$2.get(e);return t?.defaultWidgetOptions||{}}function isAccessible(e,t){const r=widgets$2.get(e)?.accessible;return"function"==typeof r?r(t):!!r}const traverseChildWidgets$1=(e,t)=>{if(!t)throw new PerseusError$1("traverseRenderer must be provided, but was not",Errors$1.Internal);if(!e||!e.type||!widgets$2.get(e.type))return e;const r=widgets$2.get(e.type),n=e.options;if(null!=r?.traverseChildWidgets&&null!=n){const i=r.traverseChildWidgets(n,t);return{...e,options:i}}return e},getSupportedAlignments$1=e=>{const t=widgets$2.get(e);return t?.supportedAlignments?.[0]?t?.supportedAlignments:["default"]},getDefaultAlignment=e=>{const t=widgets$2.get(e);return t?.defaultAlignment?t.defaultAlignment:"block"},getAlignmentClassName=(e,t)=>{switch(t){case"block":return" widget-block";case"inline-block":return" widget-inline-block";case"inline":return" widget-inline";case"float-left":return" widget-float-left";case"float-right":return" widget-float-right";case"full-width":return" widget-full-width";case"default":return getDefaultAlignment(e);default:return""}};function registerCoreWidgets$1(){[categorizerWidgetLogic$1,csProgramWidgetLogic$1,definitionWidgetLogic$1,deprecatedStandinWidgetLogic$1,dropdownWidgetLogic$1,explanationWidgetLogic$1,expressionWidgetLogic$1,gradedGroupWidgetLogic$1,gradedGroupSetWidgetLogic$1,grapherWidgetLogic$1,groupWidgetLogic$1,iframeWidgetLogic$1,imageWidgetLogic$1,inputNumberWidgetLogic$1,interactionWidgetLogic$1,interactiveGraphWidgetLogic$1,labelImageWidgetLogic$1,matcherWidgetLogic$1,matrixWidgetLogic$1,measurerWidgetLogic$1,numberLineWidgetLogic$1,numericInputWidgetLogic$1,ordererWidgetLogic$1,passageWidgetLogic$1,passageRefWidgetLogic$1,passageRefTargetWidgetLogic$1,phetSimulationWidgetLogic$1,plotterWidgetLogic$1,pythonProgramWidgetLogic$1,radioWidgetLogic$1,sorterWidgetLogic$1,tableWidgetLogic$1,videoWidgetLogic$1].forEach(e=>{registerWidget$2(e.name,e)})}var coreWidgetRegistry=Object.freeze({__proto__:null,getAlignmentClassName:getAlignmentClassName,getCurrentVersion:getCurrentVersion$1,getDefaultAlignment:getDefaultAlignment,getDefaultWidgetOptions:getDefaultWidgetOptions$1,getPublicWidgetOptionsFunction:getPublicWidgetOptionsFunction$1,getSupportedAlignments:getSupportedAlignments$1,isAccessible:isAccessible,isWidgetRegistered:isWidgetRegistered$1,registerCoreWidgets:registerCoreWidgets$1,registerWidget:registerWidget$2,traverseChildWidgets:traverseChildWidgets$1});const DEFAULT_STATIC$1=!1,applyDefaultsToWidget$1=e=>{const t=e.type;if(!_.isString(t))throw new PerseusError$1("widget type must be a string, but was: "+t,Errors$1.Internal);if(!isWidgetRegistered$1(t))return e;const r=e.version||{major:0,minor:0},n=getCurrentVersion$1(t);if(r.major>n.major||r.major===n.major&&r.minor>n.minor)return e;let i=_.clone(e.options)??{};i={...getDefaultWidgetOptions$1(t),...i};let o=e.alignment;if((null==o||"default"===o)&&(o=getSupportedAlignments$1(t)?.[0],!o))throw new PerseusError$1("No default alignment found when upgrading widget",Errors$1.Internal,{metadata:{widgetType:t}});let a=e.static;return null==a&&(a=DEFAULT_STATIC$1),{...e,version:n,graded:null==e.graded||e.graded,alignment:o,static:a,options:i}};function applyDefaultsToWidgets$1(e){return mapObject$1(e,(e,t)=>{if(!e.type||!e.alignment){const r={};e.type||(r.type=t.split(" ")[0]),e.alignment||(r.alignment="default"),e={...e,...r}}return applyDefaultsToWidget$1(e)})}function splitPerseusRenderer$1(e){const t=applyDefaultsToWidgets$1(deepClone$1(e).widgets??{}),r={};for(const[n,i]of Object.entries(t))if(i.static)r[n]=i;else{const e=getPublicWidgetOptionsFunction$1(i.type);r[n]={...i,options:e(i.options)}}return{...e,widgets:r}}function getGroupPublicWidgetOptions$1(e){return splitPerseusRenderer$1(e)}const defaultWidgetOptions$p={content:"",widgets:{},images:{}},traverseChildWidgets$4=function(e,t){return{...e,...t(e)}},groupWidgetLogic$1={name:"group",defaultWidgetOptions:defaultWidgetOptions$p,accessible:!1,traverseChildWidgets:traverseChildWidgets$4,getPublicWidgetOptions:getGroupPublicWidgetOptions$1};function getDefaultAnswerArea(){return ItemExtras.reduce((e,t)=>({...e,[t]:!1}),{})}function splitPerseusItem(e){const t=deepClone$1(e);return{...t,question:splitPerseusRenderer$1(t.question),hints:[]}}registerCoreWidgets$1();const addLibraryVersionToPerseusDebug=(e,t)=>{let r="v";"__lib_version__"===t&&(r="");const n=`${r}${t}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const t=globalThis.__perseus_debug__[e];if(t){if(t!==n){const r=Array.isArray(t)?t:[t];r.push(n),globalThis.__perseus_debug__[e]=r}}else globalThis.__perseus_debug__[e]=n}};function getMatrixSize(e){const t=[1,1];return e.forEach((e,r)=>{let n=0;e.forEach((e,t)=>{null!=e&&e.toString().length&&(n=t+1)}),t[1]=Math.max(t[1],n),n>0&&(t[0]=Math.max(t[0],r+1))}),t}const getDecimalSeparator=e=>{if("ka"===e)return",";{const t=1.1,r=new Intl.NumberFormat(e).format(t).match(/[^\d\u0661\u06F1\u0967\u09e7]/);return r?.[0]??"."}};function approximateEqual(e,t){return"number"==typeof e&&"number"==typeof t?Math.abs(e-t)<1e-9:e===t}function approximateDeepEqual(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!approximateDeepEqual(e[r],t[r]))return!1;return!0}return!Array.isArray(e)&&!Array.isArray(t)&&("function"==typeof e&&"function"==typeof t?approximateEqual(e,t):"function"!=typeof e&&"function"!=typeof t&&("object"==typeof e&&"object"==typeof t&&e&&t?e===t||_.all(e,function(e,r){return approximateDeepEqual(t[r],e)})&&_.all(t,function(t,r){return approximateDeepEqual(e[r],t)}):!("object"==typeof e&&e||"object"==typeof t&&t)&&approximateEqual(e,t)))}function getWidgetRegex(){return/\[\[ ([A-Za-z0-9- ]+)\]\]/g}function getWidgetIdsFromContent(e){const t=[],r=getWidgetRegex();let n=r.exec(e);for(;null!==n;)t.push(n[1]),n=r.exec(e);return t}function deepClone(e){return JSON.parse(JSON.stringify(e))}const MOVABLES={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function canonicalSineCoefficients$2(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=2*Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}function canonicalTangentCoefficients(e){let t=e[0],r=e[1],n=e[2];const i=e[3];t<0&&(t*=-1,r*=-1,n*=-1);const o=Math.PI;for(r<0&&(r*=-1,n*=-1,n+=o/2);n>0;)n-=o;for(;n<0;)n+=o;return[t,r,n,i]}const PlotDefaults={areEqual:function(e,t){return approximateDeepEqual(e,t)},movable:MOVABLES.PLOT,getPropsForCoeffs:function(e){return{fn:_.partial(this.getFunctionForCoeffs,e)}}},Linear=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;const o=i/n;return[o,r[1]-o*r[0]]},getFunctionForCoeffs:function(e,t){return e[0]*t+e[1]},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1];return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}}),Quadratic=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:MOVABLES.PARABOLA,getCoefficients:function(e){const t=e[0],r=e[1],n=t[0],i=t[1],o=(r[1]-i)/((r[0]-n)*(r[0]-n));return[o,-2*n*o,o*n*n+i]},getFunctionForCoeffs:function(e,t){return(e[0]*t+e[1])*t+e[2]},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"x^2 + "+n.toFixed(3)+"x + "+i.toFixed(3)}}),Sinusoid=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:MOVABLES.SINUSOID,getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(2*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.sin(n*t-i)+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual(canonicalSineCoefficients$2(e),canonicalSineCoefficients$2(t))}}),Tangent=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(4*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2],o=e[3];return r*Math.tan(n*t-i)+o},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2],o=t[3];return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+o.toFixed(3)},areEqual:function(e,t){return approximateDeepEqual(canonicalTangentCoefficients(e),canonicalTangentCoefficients(t))}}),Exponential=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][1];return _.all(r,e=>e[1]!==o)},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[1];if(_.all(r,e=>e[1]>o)||_.all(r,e=>e[1]<o))return[t[0],o];const a=t[1];if(_.all(r,e=>e[1]>a)){const e=_.min(_.map(r,e=>e[1]));return[t[0],e-i.snapStep[1]]}const s=_.max(_.map(r,e=>e[1]));return[t[0],s+i.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e[0],n=e[1],i=t[0][1],o=Math.log((r[1]-i)/(n[1]-i))/(r[0]-n[0]);return[(r[1]-i)/Math.exp(o*r[0]),o,i]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.exp(n*t)+i},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = "+n.toFixed(3)+"e^("+i.toFixed(3)+"x) + "+o.toFixed(3)}}),Logarithm=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,r,n,i){const o=n[0][0];return _.all(r,e=>e[0]!==o)&&r[0][1]!==r[1][1]},extraAsymptoteConstraint:function(e,t,r,n,i){const o=e[0];if(_.all(r,e=>e[0]>o)||_.all(r,e=>e[0]<o))return[o,t[1]];const a=t[0];if(_.all(r,e=>e[0]>a)){return[_.min(_.map(r,e=>e[0]))-i.snapStep[0],t[1]]}return[_.max(_.map(r,e=>e[0]))+i.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const r=e=>[e[1],e[0]],n=Exponential.getCoefficients(_.map(e,r),_.map(t,r));if(n){const e=-n[2]/n[0],t=1/n[0];return[1/n[1],t,e]}},getFunctionForCoeffs:function(e,t,r){const n=e[0],i=e[1],o=e[2];return n*Math.log(i*t+o)},getEquationString:function(e,t){if(!t)return null;const r=this.getCoefficients(e,t),n=r[0],i=r[1],o=r[2];return"y = ln("+n.toFixed(3)+"x + "+i.toFixed(3)+") + "+o.toFixed(3)}}),AbsoluteValue=_.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(0===n)return;let o=Math.abs(i/n);r[1]<t[1]&&(o*=-1);return[o,t[0],t[1]]},getFunctionForCoeffs:function(e,t){const r=e[0],n=e[1],i=e[2];return r*Math.abs(t-n)+i},getEquationString:function(e){const t=this.getCoefficients(e),r=t[0],n=t[1],i=t[2];return"y = "+r.toFixed(3)+"| x - "+n.toFixed(3)+"| + "+i.toFixed(3)}}),functionTypeMapping={linear:Linear,quadratic:Quadratic,sinusoid:Sinusoid,tangent:Tangent,exponential:Exponential,logarithm:Logarithm,absolute_value:AbsoluteValue},allTypes=_.keys(functionTypeMapping);function functionForType(e){return functionTypeMapping[e]}var grapherUtil=Object.freeze({__proto__:null,MOVABLES:MOVABLES,allTypes:allTypes,functionForType:functionForType});const blankPerseusRenderer={content:"",images:{},widgets:{}};function generateTestPerseusRenderer(e={}){return deepClone({...blankPerseusRenderer,...e})}function success(e){return{type:"success",value:e}}function failure(e){return{type:"failure",detail:e}}function isFailure(e){return"failure"===e.type}function isSuccess(e){return"success"===e.type}function all(e,t=e=>e){const r=[],n=[];for(const i of e)"success"===i.type?r.push(i.value):n.push(i.detail);return n.length>0?failure(n.reduce(t)):success(r)}generateTestPerseusRenderer();const any=(e,t)=>t.success(e);function array(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all(t.map((t,n)=>e(t,r.forSubtree(n))),concat)}}function arrayWithIndex(e){return(t,r)=>{if(!Array.isArray(t))return r.failure("array",t);return all(t.map((t,n)=>e(n)(t,r.forSubtree(n))),concat)}}function concat(e,t){return[...e,...t]}function boolean(e,t){return"boolean"==typeof e?t.success(e):t.failure("boolean",e)}function constant(e){return(t,r)=>t!==e?r.failure(String(JSON.stringify(e)),t):r.success(e)}function defaulted(e,t){return(r,n)=>null==r?success(t(r)):e(r,n)}function defaultedNonEmptyString(e){return(t,r)=>null==t?r.success(e()):"string"==typeof t?""===t.trim()?r.success(e()):r.success(t):r.failure("string",t)}function enumeration(...e){return(t,r)=>{if("string"==typeof t){const n=e.indexOf(t);if(n>-1)return r.success(e[n])}const n=e.map(e=>JSON.stringify(e));return r.failure(n,t)}}const objectConstructorString=Object.prototype.constructor.toString(),functionToString=Function.prototype.toString;function isPlainObject(e){if(null==e)return!1;const t=Object.getPrototypeOf(e);return null==t||"function"==typeof t.constructor&&functionToString.call(t.constructor)===objectConstructorString}function nullable(e){return(t,r)=>null===t?r.success(t):e(t,r)}const number$1=(e,t)=>"number"==typeof e?t.success(e):t.failure("number",e);function objectWithAllPropertiesRequired(e){return object(e)}function object(e){return(t,r)=>{if(!isPlainObject(t))return r.failure("object",t);const n={...t},i=[];for(const[o,a]of Object.entries(e)){const e=a(t[o],r.forSubtree(o));isSuccess(e)?(void 0!==e.value||o in t)&&(n[o]=e.value):i.push(...e.detail)}return i.length>0?failure(i):r.success(n)}}function optional(e){return(t,r)=>void 0===t?r.success(t):e(t,r)}function pair(e,t){return(r,n)=>{if(!Array.isArray(r))return n.failure("array",r);if(2!==r.length)return n.failure("array of length 2",r);const[i,o]=r,a=e(i,n.forSubtree(0));if(isFailure(a))return a;const s=t(o,n.forSubtree(1));return isFailure(s)?s:n.success([a.value,s.value])}}function pipeParsers(e){return new ParserPipeline(e)}class ParserPipeline{then(e){return new ParserPipeline(composeParsers(this.parser,e))}constructor(e){this.parser=e}}function composeParsers(e,t){return(r,n)=>{const i=e(r,n);return isFailure(i)?i:t(i.value,n)}}function record(e,t){return(r,n)=>{if(!isPlainObject(r))return n.failure("object",r);const i={},o=[];for(const[a,s]of Object.entries(r)){const r=n.forSubtree(a),l=e(a,r);isFailure(l)&&o.push(...l.detail);const c=t(s,r);isFailure(c)&&o.push(...c.detail),isSuccess(l)&&isSuccess(c)&&(i[l.value]=c.value)}return o.length>0?failure(o):n.success(i)}}const string$1=(e,t)=>"string"==typeof e?t.success(e):t.failure("string",e);function trio(e,t,r){return(n,i)=>{if(!Array.isArray(n))return i.failure("array",n);if(3!==n.length)return i.failure("array of length 3",n);const o=e(n[0],i.forSubtree(0));if(isFailure(o))return o;const a=t(n[1],i.forSubtree(1));if(isFailure(a))return a;const s=r(n[2],i.forSubtree(2));return isFailure(s)?s:i.success([o.value,a.value,s.value])}}function union(e){return new UnionBuilder(e)}class UnionBuilder{or(e){return new UnionBuilder(either(this.parser,e))}constructor(e){this.parser=e}}function either(e,t){return(r,n)=>{const i=e(r,n);return isSuccess(i)?i:t(r,n)}}const parsePerseusImageDetail=object({width:number$1,height:number$1}),parseImages=defaulted(record(string$1,parsePerseusImageDetail),()=>({}));function parseWidget(e,t){return objectWithAllPropertiesRequired({type:e,static:optional(boolean),graded:optional(boolean),alignment:optional(string$1),options:t,key:optional(nullable(number$1)),version:optional(object({major:number$1,minor:number$1}))})}function parseWidgetWithVersion(e,t,r){return objectWithAllPropertiesRequired({type:t,static:optional(boolean),graded:optional(boolean),alignment:optional(string$1),options:r,key:optional(nullable(number$1)),version:e})}const parseCategorizerWidget=parseWidget(constant("categorizer"),object({items:array(string$1),categories:array(string$1),randomizeItems:defaulted(boolean,()=>!1),static:defaulted(boolean,()=>!1),values:defaulted(array(defaulted(number$1,()=>0)),()=>[]),highlightLint:optional(boolean),linterContext:optional(object({contentType:string$1,paths:array(string$1),stack:array(string$1)}))})),parseCSProgramWidget=parseWidget(constant("cs-program"),object({programID:string$1,programType:any,settings:array(object({name:string$1,value:string$1})),showEditor:boolean,showButtons:boolean,height:number$1,static:defaulted(boolean,()=>!1)})),parseDefinitionWidget=parseWidget(constant("definition"),object({togglePrompt:string$1,definition:string$1,static:defaulted(boolean,()=>!1)})),parseDropdownWidget=parseWidget(constant("dropdown"),object({placeholder:defaulted(string$1,()=>""),ariaLabel:optional(string$1),visibleLabel:optional(string$1),static:defaulted(boolean,()=>!1),choices:array(object({content:string$1,correct:defaulted(boolean,()=>!1)}))})),parseExplanationWidget=parseWidget(constant("explanation"),object({showPrompt:string$1,hidePrompt:string$1,explanation:string$1,widgets:defaulted((e,t)=>parseWidgetsMap(e,t),()=>({})),static:defaulted(boolean,()=>!1)})),KeypadKeys=["PLUS","MINUS","NEGATIVE","TIMES","DIVIDE","DECIMAL","PERIOD","PERCENT","CDOT","EQUAL","NEQ","GT","LT","GEQ","LEQ","FRAC_INCLUSIVE","FRAC_EXCLUSIVE","FRAC","EXP","EXP_2","EXP_3","SQRT","CUBE_ROOT","RADICAL","LEFT_PAREN","RIGHT_PAREN","LN","LOG","LOG_N","SIN","COS","TAN","PI","THETA","UP","RIGHT","DOWN","LEFT","BACKSPACE","DISMISS","JUMP_OUT_PARENTHESES","JUMP_OUT_EXPONENT","JUMP_OUT_BASE","JUMP_INTO_NUMERATOR","JUMP_OUT_NUMERATOR","JUMP_OUT_DENOMINATOR","NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function deriveExtraKeys(e){if(e.extraKeys)return e.extraKeys;const t=["PI"];if(null==e.answerForms)return t;const r={},n={};for(const o of e.answerForms){const t=parse$5(o.value,e);if(t.parsed){const e=t.expr,i=e=>"pi"===e||"theta"===e,o=e=>i(e)?e.toUpperCase():e,a=e=>KeypadKeys.includes(e);for(const t of e.getVars()){const e=o(t);a(e)&&(r[e]=!0)}for(const t of e.getConsts()){const e=o(t);a(e)&&(n[e]=!0)}}}const i=[...Object.keys(r).sort(),...Object.keys(n).sort()];return i.length?i:t}function convert(e){return(t,r)=>r.success(e(t))}const parseLegacyButtonSet=enumeration("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),parseLegacyButtonSets=defaulted(array(parseLegacyButtonSet),()=>["basic","trig","prealgebra","logarithms"]);function versionedWidgetOptions(e,t){return new VersionedWidgetOptionsParserBuilder(e,t,e=>e,(e,t)=>t.failure("widget options with a known version number",e))}class VersionedWidgetOptionsParserBuilder{withMigrationFrom(e,t,r){const n=this.parser;return new VersionedWidgetOptionsParserBuilder(e,t,e=>this.migrateToLatest(r(e)),n)}constructor(e,t,r,n){this.migrateToLatest=r,this.parseOtherVersions=n;const i=pipeParsers(t).then(convert(this.migrateToLatest)).parser;this.parser=(t,r)=>{if(!isPlainObject(t))return r.failure("object",t);const n=parseVersionedObject(t,r);return isFailure(n)?n:n.value.version.major!==e?this.parseOtherVersions(t,r):i(t,r)}}}const parseVersionedObject=object({version:defaulted(object({major:number$1,minor:number$1}),()=>({major:0,minor:0}))}),stringOrNumberOrNullOrUndefined=union(string$1).or(number$1).or(constant(null)).or(constant(void 0)).parser;function numberOrNullToString(e){return"number"==typeof e||null===e?String(e):e}const parsePossiblyInvalidAnswerForm=object({value:optional(string$1),form:defaulted(boolean,()=>!1),simplify:defaulted(boolean,()=>!1),considered:enumeration("correct","wrong","ungraded"),key:pipeParsers(stringOrNumberOrNullOrUndefined).then(convert(numberOrNullToString)).parser});function removeInvalidAnswerForms(e){return e.flatMap(e=>{const{value:t}=e;return null!=t?[{...e,value:t}]:[]})}const parseAnswerForms=pipeParsers(defaulted(array(parsePossiblyInvalidAnswerForm),()=>[])).then(convert(removeInvalidAnswerForms)).parser,version2$1=object({major:constant(2),minor:number$1}),parseExpressionWidgetV2=parseWidgetWithVersion(version2$1,constant("expression"),object({answerForms:parseAnswerForms,functions:array(string$1),times:boolean,visibleLabel:optional(string$1),ariaLabel:optional(string$1),buttonSets:parseLegacyButtonSets,buttonsVisible:optional(enumeration("always","never","focused")),extraKeys:optional(array(enumeration(...KeypadKeys)))})),version1$1=object({major:constant(1),minor:number$1}),parseExpressionWidgetV1=parseWidgetWithVersion(version1$1,constant("expression"),object({answerForms:parseAnswerForms,functions:array(string$1),times:boolean,visibleLabel:optional(string$1),ariaLabel:optional(string$1),buttonSets:parseLegacyButtonSets,buttonsVisible:optional(enumeration("always","never","focused"))}));function migrateV1ToV2$1(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:t.answerForms,extraKeys:deriveExtraKeys(t)??[]}}}const version0$1=optional(object({major:constant(0),minor:number$1})),parseExpressionWidgetV0=parseWidgetWithVersion(version0$1,constant("expression"),object({functions:array(string$1),times:boolean,visibleLabel:optional(string$1),ariaLabel:optional(string$1),form:boolean,simplify:boolean,value:string$1,buttonSets:parseLegacyButtonSets,buttonsVisible:optional(enumeration("always","never","focused"))}));function migrateV0ToV1$1(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const parseExpressionWidget=versionedWidgetOptions(2,parseExpressionWidgetV2).withMigrationFrom(1,parseExpressionWidgetV1,migrateV1ToV2$1).withMigrationFrom(0,parseExpressionWidgetV0,migrateV0ToV1$1).parser,parseFreeResponseWidget=parseWidget(constant("free-response"),object({allowUnlimitedCharacters:boolean,characterLimit:number$1,placeholder:string$1,question:string$1,scoringCriteria:array(object({text:string$1}))})),falseToNull=pipeParsers(constant(!1)).then(convert(()=>null)).parser,parseGradedGroupWidgetOptions=object({title:defaulted(string$1,()=>""),hasHint:optional(nullable(boolean)),hint:union(falseToNull).or(constant(null)).or(constant(void 0)).or((e,t)=>parsePerseusRenderer(e,t)).parser,content:string$1,widgets:(e,t)=>parseWidgetsMap(e,t),widgetEnabled:optional(nullable(boolean)),immutableWidgets:optional(nullable(boolean)),images:record(string$1,object({width:number$1,height:number$1}))}),parseGradedGroupWidget=parseWidget(constant("graded-group"),parseGradedGroupWidgetOptions),parseGradedGroupSetWidget=parseWidget(constant("graded-group-set"),object({gradedGroups:array(parseGradedGroupWidgetOptions)}));function discriminatedUnionOn(e){return new DiscriminatedUnionBuilder(e,(t,r)=>isPlainObject(t)?r.forSubtree(e).failure("a valid value",t[e]):r.failure("object",t))}class DiscriminatedUnionBuilder{withBranch(e,t){const r=discriminatedUnionBranch(this.discriminantKey,e,t,this.parser);return new DiscriminatedUnionBuilder(this.discriminantKey,r)}constructor(e,t){this.discriminantKey=e,this.parser=t}}function discriminatedUnionBranch(e,t,r,n){return(i,o)=>isPlainObject(i)?i[e]===t?r(i,o):n(i,o):o.failure("object",i)}const pairOfNumbers$3=pair(number$1,number$1),pairOfPoints=pair(pairOfNumbers$3,pairOfNumbers$3),emptyArray=(e,t)=>Array.isArray(e)&&0===e.length?t.success([]):t.failure("empty array",e),parseCoords=union(nullable(pairOfPoints)).or(pipeParsers(emptyArray).then(convert(()=>null)).parser).parser,parseCorrect=defaulted(discriminatedUnionOn("type").withBranch("absolute_value",object({type:constant("absolute_value"),coords:parseCoords})).withBranch("exponential",object({type:constant("exponential"),asymptote:pairOfPoints,coords:parseCoords})).withBranch("linear",object({type:constant("linear"),coords:parseCoords})).withBranch("logarithm",object({type:constant("logarithm"),asymptote:pairOfPoints,coords:parseCoords})).withBranch("quadratic",object({type:constant("quadratic"),coords:parseCoords})).withBranch("sinusoid",object({type:constant("sinusoid"),coords:parseCoords})).withBranch("tangent",object({type:constant("tangent"),coords:parseCoords})).parser,()=>({type:"linear",coords:null})),parseGrapherWidget=parseWidget(constant("grapher"),object({availableTypes:array(enumeration("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:parseCorrect,graph:object({backgroundImage:object({bottom:optional(number$1),height:optional(number$1),left:optional(number$1),scale:optional(number$1),url:optional(nullable(string$1)),width:optional(number$1)}),box:optional(pairOfNumbers$3),editableSettings:optional(array(enumeration("graph","snap","image","measure"))),gridStep:optional(pairOfNumbers$3),labels:pair(string$1,string$1),markings:enumeration("graph","none","grid","axes"),range:pair(pairOfNumbers$3,pairOfNumbers$3),rulerLabel:constant(""),rulerTicks:number$1,showProtractor:optional(boolean),showRuler:optional(boolean),showTooltips:optional(boolean),snapStep:optional(pairOfNumbers$3),step:pairOfNumbers$3,valid:optional(union(boolean).or(string$1).parser)})})),parseGroupWidget=parseWidget(constant("group"),(e,t)=>parsePerseusRenderer(e,t)),parseIframeWidget=parseWidget(constant("iframe"),object({url:string$1,settings:optional(array(object({name:string$1,value:string$1}))),width:union(number$1).or(string$1).parser,height:union(number$1).or(string$1).parser,allowFullScreen:defaulted(boolean,()=>!1),allowTopNavigation:optional(boolean),static:defaulted(boolean,()=>!1)})),stringToNumber=(e,t)=>{if("number"==typeof e)return t.success(e);const r=+e;return""===e||isNaN(r)?t.failure("a number or numeric string",e):t.success(r)};function emptyToZero(e){return""===e?0:e}const imageDimensionToNumber=pipeParsers(union(number$1).or(string$1).parser).then(convert(emptyToZero)).then(stringToNumber).parser,dimensionOrUndefined=defaulted(optional(imageDimensionToNumber),()=>{}),parsePerseusImageBackground=object({url:optional(nullable(string$1)),width:dimensionOrUndefined,height:dimensionOrUndefined,top:dimensionOrUndefined,left:dimensionOrUndefined,bottom:dimensionOrUndefined,scale:dimensionOrUndefined}),pairOfNumbers$2=pair(number$1,number$1),parseImageWidget=parseWidget(constant("image"),object({title:optional(string$1),caption:optional(string$1),alt:optional(string$1),backgroundImage:parsePerseusImageBackground,static:optional(boolean),labels:optional(array(object({content:string$1,alignment:string$1,coordinates:array(number$1)}))),range:optional(pair(pairOfNumbers$2,pairOfNumbers$2)),box:optional(pairOfNumbers$2)})),booleanToString=(e,t)=>"boolean"==typeof e?t.success(String(e)):t.failure("boolean",e),parseInputNumberWidget=parseWidget(constant("input-number"),object({answerType:optional(enumeration("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:optional(boolean),maxError:optional(union(number$1).or(string$1).parser),rightAlign:optional(boolean),simplify:enumeration("required","optional","enforced"),size:enumeration("normal","small"),value:defaulted(union(number$1).or(string$1).or(booleanToString).parser,()=>0),customKeypad:optional(boolean)})),pairOfNumbers$1=pair(number$1,number$1),stringOrEmpty=defaulted(string$1,()=>""),parseKey=pipeParsers(optional(string$1)).then(convert(String)).parser,parseFunctionElement=object({type:constant("function"),key:parseKey,options:object({value:string$1,funcName:string$1,rangeMin:string$1,rangeMax:string$1,color:string$1,strokeDasharray:string$1,strokeWidth:number$1})}),parseLabelElement=object({type:constant("label"),key:parseKey,options:object({label:string$1,color:string$1,coordX:string$1,coordY:string$1})}),parseLineElement=object({type:constant("line"),key:parseKey,options:object({color:string$1,startX:string$1,startY:string$1,endX:string$1,endY:string$1,strokeDasharray:string$1,strokeWidth:number$1,arrows:string$1})}),parseMovableLineElement=object({type:constant("movable-line"),key:parseKey,options:object({startX:string$1,startY:string$1,startSubscript:number$1,endX:string$1,endY:string$1,endSubscript:number$1,constraint:string$1,snap:number$1,constraintFn:string$1,constraintXMin:string$1,constraintXMax:string$1,constraintYMin:string$1,constraintYMax:string$1})}),parseMovablePointElement=object({type:constant("movable-point"),key:parseKey,options:object({startX:string$1,startY:string$1,varSubscript:number$1,constraint:string$1,snap:number$1,constraintFn:string$1,constraintXMin:stringOrEmpty,constraintXMax:stringOrEmpty,constraintYMin:stringOrEmpty,constraintYMax:stringOrEmpty})}),parseParametricElement=object({type:constant("parametric"),key:parseKey,options:object({x:string$1,y:string$1,rangeMin:string$1,rangeMax:string$1,color:string$1,strokeDasharray:string$1,strokeWidth:number$1})}),parsePointElement=object({type:constant("point"),key:parseKey,options:object({color:string$1,coordX:string$1,coordY:string$1})}),parseRectangleElement=object({type:constant("rectangle"),key:parseKey,options:object({color:string$1,coordX:string$1,coordY:string$1,width:string$1,height:string$1})}),parseInteractionWidget=parseWidget(constant("interaction"),object({static:defaulted(boolean,()=>!1),graph:object({editableSettings:optional(array(enumeration("canvas","graph"))),box:pairOfNumbers$1,labels:array(string$1),range:pair(pairOfNumbers$1,pairOfNumbers$1),gridStep:pairOfNumbers$1,markings:enumeration("graph","grid","none","axes"),snapStep:optional(pairOfNumbers$1),valid:optional(union(boolean).or(string$1).parser),backgroundImage:optional(parsePerseusImageBackground),showProtractor:optional(boolean),showRuler:optional(boolean),rulerLabel:optional(string$1),rulerTicks:optional(number$1),tickStep:pairOfNumbers$1}),elements:array(discriminatedUnionOn("type").withBranch("function",parseFunctionElement).withBranch("label",parseLabelElement).withBranch("line",parseLineElement).withBranch("movable-line",parseMovableLineElement).withBranch("movable-point",parseMovablePointElement).withBranch("parametric",parseParametricElement).withBranch("point",parsePointElement).withBranch("rectangle",parseRectangleElement).parser)})),lockedFigureColorNames=["blue","green","grayH","purple","pink","orange","red"],plotterPlotTypes=["bar","line","pic","histogram","dotplot"],pairOfNumbers=pair(number$1,number$1),parsePerseusGraphTypeAngle=object({type:constant("angle"),showAngles:optional(boolean),allowReflexAngles:optional(boolean),angleOffsetDeg:optional(number$1),snapDegrees:optional(number$1),match:optional(constant("congruent")),coords:optional(trio(pairOfNumbers,pairOfNumbers,pairOfNumbers)),startCoords:optional(trio(pairOfNumbers,pairOfNumbers,pairOfNumbers))}),parsePerseusGraphTypeCircle=object({type:constant("circle"),center:optional(pairOfNumbers),radius:optional(number$1),startCoords:optional(object({center:pairOfNumbers,radius:number$1}))}),parsePerseusGraphTypeLinear=object({type:constant("linear"),coords:optional(nullable(pair(pairOfNumbers,pairOfNumbers))),startCoords:optional(pair(pairOfNumbers,pairOfNumbers))}),parsePerseusGraphTypeLinearSystem=object({type:constant("linear-system"),coords:optional(nullable(array(pair(pairOfNumbers,pairOfNumbers)))),startCoords:optional(array(pair(pairOfNumbers,pairOfNumbers)))}),parsePerseusGraphTypeNone=object({type:constant("none")}),parsePerseusGraphTypePoint=object({type:constant("point"),numPoints:optional(union(number$1).or(constant("unlimited")).parser),coords:optional(nullable(array(pairOfNumbers))),startCoords:optional(array(pairOfNumbers)),coord:optional(pairOfNumbers)}),parsePerseusGraphTypePolygon=object({type:constant("polygon"),numSides:optional(union(number$1).or(constant("unlimited")).parser),showAngles:optional(boolean),showSides:optional(boolean),snapTo:optional(enumeration("grid","angles","sides")),match:optional(enumeration("similar","congruent","approx","exact")),startCoords:optional(array(pairOfNumbers)),coords:optional(nullable(array(pairOfNumbers)))}),parsePerseusGraphTypeQuadratic=object({type:constant("quadratic"),coords:optional(nullable(trio(pairOfNumbers,pairOfNumbers,pairOfNumbers))),startCoords:optional(trio(pairOfNumbers,pairOfNumbers,pairOfNumbers))}),parsePerseusGraphTypeRay=object({type:constant("ray"),coords:optional(nullable(pair(pairOfNumbers,pairOfNumbers))),startCoords:optional(pair(pairOfNumbers,pairOfNumbers))}),parsePerseusGraphTypeSegment=object({type:constant("segment"),numSegments:optional(number$1),coords:optional(nullable(array(pair(pairOfNumbers,pairOfNumbers)))),startCoords:optional(array(pair(pairOfNumbers,pairOfNumbers)))}),parsePerseusGraphTypeSinusoid=object({type:constant("sinusoid"),coords:optional(nullable(array(pairOfNumbers))),startCoords:optional(array(pairOfNumbers))}),parsePerseusGraphType=discriminatedUnionOn("type").withBranch("angle",parsePerseusGraphTypeAngle).withBranch("circle",parsePerseusGraphTypeCircle).withBranch("linear",parsePerseusGraphTypeLinear).withBranch("linear-system",parsePerseusGraphTypeLinearSystem).withBranch("none",parsePerseusGraphTypeNone).withBranch("point",parsePerseusGraphTypePoint).withBranch("polygon",parsePerseusGraphTypePolygon).withBranch("quadratic",parsePerseusGraphTypeQuadratic).withBranch("ray",parsePerseusGraphTypeRay).withBranch("segment",parsePerseusGraphTypeSegment).withBranch("sinusoid",parsePerseusGraphTypeSinusoid).parser,parseLockedFigureColor=enumeration(...lockedFigureColorNames),parseLockedFigureFillType=enumeration("none","white","translucent","solid"),parseLockedLineStyle=enumeration("solid","dashed"),parseStrokeWeight=defaulted(enumeration("medium","thin","thick"),()=>"medium"),parseLockedLabelType=object({type:constant("label"),coord:pairOfNumbers,text:string$1,color:parseLockedFigureColor,size:enumeration("small","medium","large")}),parseLockedPointType=object({type:constant("point"),coord:pairOfNumbers,color:parseLockedFigureColor,filled:boolean,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedLineType=object({type:constant("line"),kind:enumeration("line","ray","segment"),points:pair(parseLockedPointType,parseLockedPointType),color:parseLockedFigureColor,lineStyle:parseLockedLineStyle,showPoint1:defaulted(boolean,()=>!1),showPoint2:defaulted(boolean,()=>!1),weight:parseStrokeWeight,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedVectorType=object({type:constant("vector"),points:pair(pairOfNumbers,pairOfNumbers),color:parseLockedFigureColor,weight:parseStrokeWeight,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedEllipseType=object({type:constant("ellipse"),center:pairOfNumbers,radius:pairOfNumbers,angle:number$1,color:parseLockedFigureColor,fillStyle:parseLockedFigureFillType,strokeStyle:parseLockedLineStyle,weight:parseStrokeWeight,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedPolygonType=object({type:constant("polygon"),points:array(pairOfNumbers),color:parseLockedFigureColor,showVertices:boolean,fillStyle:parseLockedFigureFillType,strokeStyle:parseLockedLineStyle,weight:parseStrokeWeight,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedFunctionDomain=defaulted(pair(defaulted(number$1,()=>-1/0),defaulted(number$1,()=>1/0)),()=>[-1/0,1/0]),parseLockedFunctionType=object({type:constant("function"),color:parseLockedFigureColor,strokeStyle:parseLockedLineStyle,weight:parseStrokeWeight,equation:string$1,directionalAxis:enumeration("x","y"),domain:parseLockedFunctionDomain,labels:defaulted(array(parseLockedLabelType),()=>[]),ariaLabel:optional(string$1)}),parseLockedFigure=discriminatedUnionOn("type").withBranch("point",parseLockedPointType).withBranch("line",parseLockedLineType).withBranch("vector",parseLockedVectorType).withBranch("ellipse",parseLockedEllipseType).withBranch("polygon",parseLockedPolygonType).withBranch("function",parseLockedFunctionType).withBranch("label",parseLockedLabelType).parser,parseLabelLocation=union(enumeration("onAxis","alongEdge")).or(pipeParsers(constant("")).then(convert(()=>"onAxis")).parser).parser,parseInteractiveGraphWidget=parseWidget(constant("interactive-graph"),object({step:pairOfNumbers,gridStep:optional(pairOfNumbers),snapStep:optional(pairOfNumbers),backgroundImage:optional(parsePerseusImageBackground),markings:enumeration("graph","grid","none","axes"),labels:optional(array(string$1)),labelLocation:optional(parseLabelLocation),showProtractor:boolean,showRuler:optional(boolean),showTooltips:optional(boolean),rulerLabel:optional(string$1),rulerTicks:optional(number$1),range:pair(pairOfNumbers,pairOfNumbers),showAxisArrows:defaulted(object({xMin:boolean,xMax:boolean,yMin:boolean,yMax:boolean}),()=>({xMin:!0,xMax:!0,yMin:!0,yMax:!0})),graph:defaulted(parsePerseusGraphType,()=>({type:"linear"})),correct:defaulted(parsePerseusGraphType,()=>({type:"linear"})),lockedFigures:defaulted(array(parseLockedFigure),()=>[]),fullGraphAriaLabel:optional(string$1),fullGraphAriaDescription:optional(string$1)})),parseLabelImageWidget=parseWidget(constant("label-image"),object({choices:array(string$1),imageUrl:string$1,imageAlt:string$1,imageHeight:number$1,imageWidth:number$1,markers:array(object({answers:array(string$1),label:string$1,x:number$1,y:number$1})),hideChoicesFromInstructions:boolean,multipleAnswers:boolean,static:defaulted(boolean,()=>!1)})),matcherOptions=object({labels:array(string$1),left:array(string$1),right:array(string$1),orderMatters:boolean,padding:boolean});function getDefaultOptions$1(){return{left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0}}const parseMatcherWidget=parseWidget(constant("matcher"),defaulted(matcherOptions,getDefaultOptions$1)),numberOrString=union(number$1).or(string$1).parser,numeric$1=pipeParsers(defaulted(numberOrString,()=>NaN)).then(stringToNumber).parser,parseMatrixWidget=parseWidget(defaulted(constant("matrix"),()=>"matrix"),object({prefix:optional(string$1),suffix:optional(string$1),answers:defaulted(array(array(numeric$1)),()=>[]),cursorPosition:optional(array(number$1)),matrixBoardSize:array(number$1),static:optional(boolean)})),parseMeasurerWidget=parseWidget(constant("measurer"),object({image:defaulted(parsePerseusImageBackground,()=>({url:null,top:0,left:0})),showProtractor:boolean,showRuler:boolean,rulerLabel:string$1,rulerTicks:number$1,rulerPixels:number$1,rulerLength:number$1,box:pair(number$1,number$1)})),parseMoleculeRendererWidget=parseWidget(constant("molecule-renderer"),object({widgetId:string$1,rotationAngle:optional(number$1),smiles:optional(string$1)})),emptyStringToNull=pipeParsers(constant("")).then(convert(()=>null)).parser,parseNumberLineWidget=parseWidget(constant("number-line"),object({range:array(number$1),labelRange:array(nullable(union(number$1).or(emptyStringToNull).parser)),labelStyle:string$1,labelTicks:boolean,isTickCtrl:defaulted(boolean,()=>!1),isInequality:defaulted(boolean,()=>!1),divisionRange:array(number$1),numDivisions:optional(nullable(number$1)),snapDivisions:defaulted(number$1,()=>2),tickStep:optional(nullable(number$1)),correctRel:defaulted(optional(enumeration("eq","lt","gt","le","ge")),()=>{}),correctX:defaulted(nullable(number$1),()=>null),initialX:optional(nullable(number$1)),showTooltips:optional(boolean),static:defaulted(boolean,()=>!1)})),parseMathFormat=enumeration("integer","mixed","improper","proper","decimal","percent","pi"),parseSimplify=pipeParsers(union(constant(null)).or(constant(void 0)).or(boolean).or(constant("true")).or(constant("required")).or(constant("correct")).or(constant("enforced")).or(constant("optional")).or(constant("accepted")).parser).then(convert(deprecatedSimplifyValuesToRequired)).parser;function deprecatedSimplifyValuesToRequired(e){switch(e){case"enforced":case"required":case"optional":return e;default:return"required"}}const parseNumericInputWidget=parseWidget(constant("numeric-input"),object({answers:array(object({message:defaulted(string$1,()=>""),value:optional(nullable(number$1)),status:string$1,answerForms:defaulted(optional(array(parseMathFormat)),()=>{}),strict:defaulted(boolean,()=>!1),maxError:optional(nullable(number$1)),simplify:parseSimplify})),labelText:optional(string$1),size:string$1,coefficient:defaulted(boolean,()=>!1),rightAlign:optional(boolean),static:defaulted(boolean,()=>!1),answerForms:optional(array(object({name:parseMathFormat,simplify:parseSimplify})))}));function parseRenderer(e,t){return parsePerseusRenderer(e,t)}const largeToAuto=(e,t)=>"large"===e?t.success("auto"):t.success(e),parseOrdererWidget=parseWidget(constant("orderer"),object({options:defaulted(array(parseRenderer),()=>[]),correctOptions:defaulted(array(parseRenderer),()=>[]),otherOptions:defaulted(array(parseRenderer),()=>[]),height:pipeParsers(enumeration("normal","auto","large")).then(largeToAuto).parser,layout:defaulted(enumeration("horizontal","vertical"),()=>"horizontal")})),parsePassageRefWidget=parseWidget(constant("passage-ref"),object({passageNumber:number$1,referenceNumber:number$1,summaryText:optional(string$1)})),parsePassageWidget=parseWidget(constant("passage"),object({footnotes:defaulted(string$1,()=>""),passageText:string$1,passageTitle:defaulted(string$1,()=>""),showLineNumbers:boolean,static:defaulted(boolean,()=>!1)})),parsePhetSimulationWidget=parseWidget(constant("phet-simulation"),object({url:string$1,description:string$1})),parsePlotterWidget=parseWidget(constant("plotter"),object({labels:array(string$1),categories:array(string$1),type:enumeration(...plotterPlotTypes),maxY:number$1,scaleY:defaulted(number$1,()=>1),labelInterval:optional(nullable(number$1)),snapsPerLine:defaulted(number$1,()=>2),starting:array(number$1),correct:defaulted(array(number$1),()=>[]),picUrl:optional(nullable(string$1)),picSize:optional(nullable(number$1)),picBoxHeight:optional(nullable(number$1)),plotDimensions:defaulted(array(number$1),()=>[380,300])})),parsePythonProgramWidget=parseWidget(constant("python-program"),object({programID:string$1,height:number$1}));function deriveNumCorrect(e){return e.filter(e=>e.correct).length}const parseWidgetsMapOrUndefined=defaulted(optional((e,t)=>parseWidgetsMap(e,t)),()=>{});function getDefaultOptions(){return{choices:[{content:"",id:generateChoiceId(0)},{content:"",id:generateChoiceId(1)},{content:"",id:generateChoiceId(2)},{content:"",id:generateChoiceId(3)}]}}const parseOnePerLine=defaulted(optional(boolean),()=>{}),parseNoneOfTheAbove=defaulted(optional(constant(!1)),()=>{});function generateChoiceId(e){return`radio-choice-${e}`}const version3=optional(object({major:constant(3),minor:number$1})),parseRadioWidgetV3=parseWidgetWithVersion(version3,constant("radio"),object({numCorrect:optional(number$1),choices:arrayWithIndex(e=>object({content:defaulted(string$1,()=>""),rationale:optional(string$1),correct:optional(boolean),isNoneOfTheAbove:optional(boolean),id:defaultedNonEmptyString(()=>generateChoiceId(e))})),hasNoneOfTheAbove:optional(boolean),countChoices:optional(boolean),randomize:optional(boolean),multipleSelect:optional(boolean),deselectEnabled:optional(boolean)})),version2=optional(object({major:constant(2),minor:number$1})),parseRadioWidgetV2=parseWidgetWithVersion(version2,constant("radio"),defaulted(object({numCorrect:optional(number$1),choices:array(object({content:defaulted(string$1,()=>""),clue:optional(string$1),correct:optional(boolean),isNoneOfTheAbove:optional(boolean),widgets:parseWidgetsMapOrUndefined})),hasNoneOfTheAbove:optional(boolean),countChoices:optional(boolean),randomize:optional(boolean),multipleSelect:optional(boolean),deselectEnabled:optional(boolean),onePerLine:parseOnePerLine,displayCount:optional(any),noneOfTheAbove:parseNoneOfTheAbove}),getDefaultOptions)),version1=optional(object({major:constant(1),minor:number$1})),parseRadioWidgetV1=parseWidgetWithVersion(version1,constant("radio"),defaulted(object({choices:array(object({content:defaulted(string$1,()=>""),clue:optional(string$1),correct:optional(boolean),isNoneOfTheAbove:optional(boolean),widgets:parseWidgetsMapOrUndefined})),hasNoneOfTheAbove:optional(boolean),countChoices:optional(boolean),randomize:optional(boolean),multipleSelect:optional(boolean),deselectEnabled:optional(boolean),onePerLine:parseOnePerLine,displayCount:optional(any),noneOfTheAbove:parseNoneOfTheAbove}),getDefaultOptions)),version0=optional(object({major:constant(0),minor:number$1})),parseRadioWidgetV0=parseWidgetWithVersion(version0,constant("radio"),defaulted(object({choices:array(object({content:defaulted(string$1,()=>""),clue:optional(string$1),correct:optional(boolean),isNoneOfTheAbove:optional(boolean),widgets:parseWidgetsMapOrUndefined})),hasNoneOfTheAbove:optional(boolean),countChoices:optional(boolean),randomize:optional(boolean),multipleSelect:optional(boolean),deselectEnabled:optional(boolean),onePerLine:parseOnePerLine,displayCount:optional(any),noneOfTheAbove:parseNoneOfTheAbove}),getDefaultOptions));function migrateV2toV3(e){const{options:t}=e;return{...e,version:{major:3,minor:0},options:{numCorrect:t.numCorrect,hasNoneOfTheAbove:t.hasNoneOfTheAbove,countChoices:t.countChoices,randomize:t.randomize,multipleSelect:t.multipleSelect,deselectEnabled:t.deselectEnabled,choices:t.choices.map((e,t)=>({content:e.content,rationale:e.clue,correct:e.correct,isNoneOfTheAbove:e.isNoneOfTheAbove,id:generateChoiceId(t)}))}}}function migrateV1ToV2(e){const{options:t}=e;return{...e,version:{major:2,minor:0},options:{...t,numCorrect:deriveNumCorrect(t.choices)}}}function migrateV0ToV1(e){const{options:t}=e,{noneOfTheAbove:r,...n}=t;return{...e,version:{major:1,minor:0},options:{...n,hasNoneOfTheAbove:!1,noneOfTheAbove:void 0}}}const parseRadioWidget=versionedWidgetOptions(3,parseRadioWidgetV3).withMigrationFrom(2,parseRadioWidgetV2,migrateV2toV3).withMigrationFrom(1,parseRadioWidgetV1,migrateV1ToV2).withMigrationFrom(0,parseRadioWidgetV0,migrateV0ToV1).parser,parseSorterWidget=parseWidget(constant("sorter"),object({correct:array(string$1),padding:boolean,layout:enumeration("horizontal","vertical")})),parseTableWidget=parseWidget(constant("table"),object({headers:array(string$1),rows:number$1,columns:number$1,answers:defaulted(array(array(string$1)),()=>[])})),parseVideoWidget=parseWidget(constant("video"),object({location:string$1,static:optional(boolean)})),parseStringToNonNegativeInt=(e,t)=>"string"==typeof e&&/^(0|[1-9][0-9]*)$/.test(e)?t.success(+e):t.failure("a string representing a non-negative integer",e),parseWidgetIdComponents=pair(string$1,parseStringToNonNegativeInt),parseWidgetsMap=(e,t)=>{if(!isPlainObject(e))return t.failure("PerseusWidgetsMap",e);const r={};for(const n of Object.keys(e)){const i=parseWidgetsMapEntry([n,e[n]],r,t.forSubtree(n));if(isFailure(i))return i}return t.success(r)},parseWidgetsMapEntry=([e,t],r,n)=>{const i=parseWidgetIdComponents(e.split(" "),n.forSubtree("(widget ID)"));if(isFailure(i))return i;const[o,a]=i.value;function s(e,i){const o=i(t,n);return isFailure(o)?o:(r[e]=o.value,n.success(void 0))}switch(o){case"categorizer":return s(`categorizer ${a}`,parseCategorizerWidget);case"cs-program":return s(`cs-program ${a}`,parseCSProgramWidget);case"definition":return s(`definition ${a}`,parseDefinitionWidget);case"dropdown":return s(`dropdown ${a}`,parseDropdownWidget);case"explanation":return s(`explanation ${a}`,parseExplanationWidget);case"expression":return s(`expression ${a}`,parseExpressionWidget);case"free-response":return s(`free-response ${a}`,parseFreeResponseWidget);case"grapher":return s(`grapher ${a}`,parseGrapherWidget);case"group":return s(`group ${a}`,parseGroupWidget);case"graded-group":return s(`graded-group ${a}`,parseGradedGroupWidget);case"graded-group-set":return s(`graded-group-set ${a}`,parseGradedGroupSetWidget);case"iframe":return s(`iframe ${a}`,parseIframeWidget);case"image":return s(`image ${a}`,parseImageWidget);case"input-number":return s(`input-number ${a}`,parseInputNumberWidget);case"interaction":return s(`interaction ${a}`,parseInteractionWidget);case"interactive-graph":return s(`interactive-graph ${a}`,parseInteractiveGraphWidget);case"label-image":return s(`label-image ${a}`,parseLabelImageWidget);case"matcher":return s(`matcher ${a}`,parseMatcherWidget);case"matrix":return s(`matrix ${a}`,parseMatrixWidget);case"measurer":return s(`measurer ${a}`,parseMeasurerWidget);case"molecule-renderer":return s(`molecule-renderer ${a}`,parseMoleculeRendererWidget);case"number-line":return s(`number-line ${a}`,parseNumberLineWidget);case"numeric-input":return s(`numeric-input ${a}`,parseNumericInputWidget);case"orderer":return s(`orderer ${a}`,parseOrdererWidget);case"passage":return s(`passage ${a}`,parsePassageWidget);case"passage-ref":return s(`passage-ref ${a}`,parsePassageRefWidget);case"passage-ref-target":return s(`passage-ref-target ${a}`,any);case"phet-simulation":return s(`phet-simulation ${a}`,parsePhetSimulationWidget);case"plotter":return s(`plotter ${a}`,parsePlotterWidget);case"python-program":return s(`python-program ${a}`,parsePythonProgramWidget);case"radio":return s(`radio ${a}`,parseRadioWidget);case"sorter":return s(`sorter ${a}`,parseSorterWidget);case"table":return s(`table ${a}`,parseTableWidget);case"video":return s(`video ${a}`,parseVideoWidget);case"sequence":return s(`sequence ${a}`,parseDeprecatedWidget);case"lights-puzzle":return s(`lights-puzzle ${a}`,parseDeprecatedWidget);case"simulator":return s(`simulator ${a}`,parseDeprecatedWidget);case"transformer":return s(`transformer ${a}`,parseDeprecatedWidget);default:return s(`${o} ${a}`,parseWidget(constant(o),any))}},parseDeprecatedWidget=parseWidget((e,t)=>t.success("deprecated-standin"),object({})),parsePerseusRenderer=defaulted(object({content:defaulted(string$1,()=>""),widgets:defaulted((e,t)=>parseWidgetsMap(e,t),()=>({})),images:parseImages,metadata:any}),()=>({content:"",widgets:{},images:{}}));function toAnswerArea(e){return{calculator:!!e.calculator,financialCalculatorMonthlyPayment:!!e.financialCalculatorMonthlyPayment,financialCalculatorTotalAmount:!!e.financialCalculatorTotalAmount,financialCalculatorTimeToPayOff:!!e.financialCalculatorTimeToPayOff,periodicTable:!!e.periodicTable,periodicTableWithKey:!!e.periodicTableWithKey}}union(parsePerseusRenderer).or(array(parsePerseusRenderer)).parser,pipeParsers(defaulted(object({}),()=>({}))).then(convert(toAnswerArea)).parser,object({status:enumeration("correct","incorrect","incomplete"),message:nullable(string$1)});const coord=pair(number$1,number$1),coordPair=pair(coord,coord),parseAbsoluteValueBranch=object({type:constant("absolute_value"),coords:nullable(coordPair)}),parseExponentialBranch=object({type:constant("exponential"),asymptote:coordPair,coords:nullable(coordPair)}),parseLinearBranch=object({type:constant("linear"),coords:nullable(coordPair)}),parseLogarithmBranch=object({type:constant("logarithm"),asymptote:coordPair,coords:nullable(coordPair)}),parseQuadraticBranch=object({type:constant("quadratic"),coords:nullable(coordPair)}),parseSinusoidBranch=object({type:constant("sinusoid"),coords:nullable(coordPair)}),parseTangentBranch=object({type:constant("tangent"),coords:nullable(coordPair)});discriminatedUnionOn("type").withBranch("absolute_value",parseAbsoluteValueBranch).withBranch("exponential",parseExponentialBranch).withBranch("linear",parseLinearBranch).withBranch("logarithm",parseLogarithmBranch).withBranch("quadratic",parseQuadraticBranch).withBranch("sinusoid",parseSinusoidBranch).withBranch("tangent",parseTangentBranch).parser,object({status:enumeration("correct","incorrect","incomplete"),message:optional(nullable(string$1))}),object({numLinePosition:number$1,rel:enumeration("eq","lt","gt","le","ge"),numDivisions:number$1});const libName$2="@khanacademy/perseus-core",libVersion$2="19.0.2";addLibraryVersionToPerseusDebug(libName$2,libVersion$2);const Errors=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",NotAllowed:"NotAllowed",TransientService:"TransientService",Service:"Service"});class PerseusError extends Error{constructor(e,t,r){super(e),this.kind=t,this.metadata=r?.metadata}}const mapObject=function(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=t(e[n],n)}),r};function getCategorizerPublicWidgetOptions(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const defaultWidgetOptions$w={items:[],categories:[],values:[],randomizeItems:!1},categorizerWidgetLogic={name:"categorizer",defaultWidgetOptions:defaultWidgetOptions$w,getPublicWidgetOptions:getCategorizerPublicWidgetOptions,accessible:!1};function getCSProgramPublicWidgetOptions(e){return e}const DEFAULT_HEIGHT=400,defaultWidgetOptions$v={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:DEFAULT_HEIGHT},csProgramWidgetLogic={name:"cs-program",defaultWidgetOptions:defaultWidgetOptions$v,supportedAlignments:["block","full-width"],getPublicWidgetOptions:getCSProgramPublicWidgetOptions,accessible:!1},defaultWidgetOptions$u={togglePrompt:"",definition:""},definitionWidgetLogic={name:"definition",defaultWidgetOptions:defaultWidgetOptions$u,defaultAlignment:"inline",accessible:!0};function getDropdownPublicWidgetOptions(e){return{choices:e.choices.map(e=>({content:e.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const defaultWidgetOptions$t={placeholder:"",choices:[{content:"",correct:!1}]},dropdownWidgetLogic={name:"dropdown",defaultWidgetOptions:defaultWidgetOptions$t,defaultAlignment:"inline-block",getPublicWidgetOptions:getDropdownPublicWidgetOptions,accessible:!0},defaultWidgetOptions$s={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}},explanationWidgetLogic={name:"explanation",defaultWidgetOptions:defaultWidgetOptions$s,defaultAlignment:"inline",accessible:!0};function getExpressionPublicWidgetOptions(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible,extraKeys:e.extraKeys}}const currentVersion$3={major:2,minor:0},defaultWidgetOptions$r={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]},expressionWidgetLogic={name:"expression",version:currentVersion$3,defaultWidgetOptions:defaultWidgetOptions$r,defaultAlignment:"inline-block",getPublicWidgetOptions:getExpressionPublicWidgetOptions,accessible:!0},defaultWidgetOptions$q={title:"",content:"",widgets:{},images:{},hint:null},traverseChildWidgets$3=function(e,t){return{...e,...t(e)}},gradedGroupWidgetLogic={name:"graded-group",defaultWidgetOptions:defaultWidgetOptions$q,accessible:!0,traverseChildWidgets:traverseChildWidgets$3},defaultWidgetOptions$o={gradedGroups:[]},traverseChildWidgets$2=function(e,t){return{...e,...t(e)}},gradedGroupSetWidgetLogic={name:"graded-group-set",defaultWidgetOptions:defaultWidgetOptions$o,accessible:!0,traverseChildWidgets:traverseChildWidgets$2};function getGrapherPublicWidgetOptions(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$n={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},grapherWidgetLogic={name:"grapher",defaultWidgetOptions:defaultWidgetOptions$n,getPublicWidgetOptions:getGrapherPublicWidgetOptions,accessible:!1};class Registry{throwIfUnregistered(){if(!this.anythingRegistered)throw new Error(`${this.name} accessed before initialization!`)}has(e){return this.throwIfUnregistered(),Object.prototype.hasOwnProperty.call(this.contents,e)}get(e){return this.throwIfUnregistered(),this.contents[e]}keys(){return this.throwIfUnregistered(),Object.keys(this.contents)}entries(){return this.throwIfUnregistered(),Object.entries(this.contents)}set(e,t){this.anythingRegistered=!0,this.contents[e]=t}constructor(e="Registry"){this.contents={},this.anythingRegistered=!1,this.name=e}}const deprecatedStandinWidgetLogic={name:"deprecated-standin",accessible:!0};function getIFramePublicWidgetOptions(e){return e}const defaultWidgetOptions$m={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},iframeWidgetLogic={name:"iframe",defaultWidgetOptions:defaultWidgetOptions$m,getPublicWidgetOptions:getIFramePublicWidgetOptions,accessible:!1},defaultWidgetOptions$l={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},imageWidgetLogic={name:"image",defaultWidgetOptions:defaultWidgetOptions$l,supportedAlignments:["block","full-width"],defaultAlignment:"block",accessible:e=>{const t=e;return!(null!=t.backgroundImage.url&&!t.alt)}};function getInputNumberPublicWidgetOptions(e){const{value:t,...r}=e;return r}const defaultWidgetOptions$k={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},inputNumberWidgetLogic={name:"input-number",defaultWidgetOptions:defaultWidgetOptions$k,defaultAlignment:"inline-block",accessible:!1,getPublicWidgetOptions:getInputNumberPublicWidgetOptions},defaultWidgetOptions$j={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},interactionWidgetLogic={name:"interaction",defaultWidgetOptions:defaultWidgetOptions$j,accessible:!1},svgLabelsRegex=/^web\+graphie:/,svgLocalLabelsRegex=/^file\+graphie:/;function isLabeledSVG(e){return svgLabelsRegex.test(e)||svgLocalLabelsRegex.test(e)}function getInteractiveGraphPublicWidgetOptions(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$i={labels:["x","y"],labelLocation:"onAxis",range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},interactiveGraphWidgetLogic={name:"interactive-graph",defaultWidgetOptions:defaultWidgetOptions$i,getPublicWidgetOptions:getInteractiveGraphPublicWidgetOptions,accessible:e=>{const t=e;return!t.showProtractor&&(!t.backgroundImage?.url||!isLabeledSVG(t.backgroundImage?.url))}};function getLabelImagePublicWidgetOptions(e){return{...e,markers:e.markers.map(getLabelImageMarkerPublicData)}}function getLabelImageMarkerPublicData(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$h={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},labelImageWidgetLogic={name:"label-image",defaultWidgetOptions:defaultWidgetOptions$h,getPublicWidgetOptions:getLabelImagePublicWidgetOptions,accessible:e=>{const t=e;return""===t.imageUrl||""!==t.imageAlt}},seededRNG=function(e){let t=e;return function(){let e=t;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(t=268435455&e)/268435456}};function getMatcherPublicWidgetOptions(e){return{...e,left:e.orderMatters?sortAllButFirst$1(e.left):e.left,right:sortAllButFirst$1(e.right)}}function sortAllButFirst$1([e,...t]){return[e,...t.sort()]}seededRNG(4294967295&(new Date).getTime());const defaultWidgetOptions$g={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},matcherWidgetLogic={name:"matcher",defaultWidgetOptions:defaultWidgetOptions$g,getPublicWidgetOptions:getMatcherPublicWidgetOptions,accessible:!1};function getMatrixPublicWidgetOptions(e){const{answers:t,...r}=e;return r}const defaultWidgetOptions$f={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},matrixWidgetLogic={name:"matrix",defaultWidgetOptions:defaultWidgetOptions$f,getPublicWidgetOptions:getMatrixPublicWidgetOptions,accessible:!1},currentVersion$2={major:1,minor:0},defaultWidgetOptions$e={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},measurerWidgetLogic={name:"measurer",version:currentVersion$2,defaultWidgetOptions:defaultWidgetOptions$e,accessible:!1};function getNumberLinePublicWidgetOptions(e){const{correctX:t,correctRel:r,...n}=e;return n}const defaultWidgetOptions$d={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},numberLineWidgetLogic={name:"number-line",defaultWidgetOptions:defaultWidgetOptions$d,getPublicWidgetOptions:getNumberLinePublicWidgetOptions,accessible:!1};function getNumericInputAnswerPublicData(e){const{answerForms:t,simplify:r,status:n}=e;return{answerForms:t,simplify:r,status:n}}function getNumericInputPublicWidgetOptions(e){const{answers:t,...r}=e;return{...r,answers:t.map(getNumericInputAnswerPublicData)}}const defaultWidgetOptions$c={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},numericInputWidgetLogic={name:"numeric-input",defaultWidgetOptions:defaultWidgetOptions$c,defaultAlignment:"inline-block",getPublicWidgetOptions:getNumericInputPublicWidgetOptions,accessible:!0};function getOrdererPublicWidgetOptions(e){const{options:t,height:r,layout:n}=e;return{options:t,height:r,layout:n}}const defaultWidgetOptions$b={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},ordererWidgetLogic={name:"orderer",defaultWidgetOptions:defaultWidgetOptions$b,getPublicWidgetOptions:getOrdererPublicWidgetOptions,accessible:!1},defaultWidgetOptions$a={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},passageWidgetLogic={name:"passage",defaultWidgetOptions:defaultWidgetOptions$a,accessible:!1},currentVersion$1={major:0,minor:1},defaultWidgetOptions$9={passageNumber:1,referenceNumber:1,summaryText:""},passageRefWidgetLogic={name:"passage-ref",version:currentVersion$1,defaultWidgetOptions:defaultWidgetOptions$9,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$8={content:""},passageRefTargetWidgetLogic={name:"passage-ref-target",defaultWidgetOptions:defaultWidgetOptions$8,defaultAlignment:"inline",accessible:!1},defaultWidgetOptions$7={url:"",description:""},phetSimulationWidgetLogic={name:"phet-simulation",defaultWidgetOptions:defaultWidgetOptions$7,accessible:!0};function getPlotterPublicWidgetOptions(e){const{correct:t,...r}=e;return r}const defaultWidgetOptions$6={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},plotterWidgetLogic={name:"plotter",defaultWidgetOptions:defaultWidgetOptions$6,getPublicWidgetOptions:getPlotterPublicWidgetOptions,accessible:!1},defaultWidgetOptions$5={programID:"",height:400},pythonProgramWidgetLogic={name:"python-program",defaultWidgetOptions:defaultWidgetOptions$5,accessible:!0};function getRadioChoicePublicData(e){const{id:t,content:r,isNoneOfTheAbove:n}=e;return{id:t,content:r,isNoneOfTheAbove:n}}function usesNumCorrect(e,t,r){return e&&t&&r}function getRadioPublicWidgetOptions(e){const{numCorrect:t,choices:r,multipleSelect:n,countChoices:i}=e;return{...e,numCorrect:usesNumCorrect(n,i,t)?t:void 0,choices:r.map(getRadioChoicePublicData)}}const currentVersion={major:2,minor:0},defaultWidgetOptions$4={choices:[{content:"",id:"radio-choice-0"},{content:"",id:"radio-choice-1"},{content:"",id:"radio-choice-2"},{content:"",id:"radio-choice-3"}],randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1},radioWidgetLogic={name:"radio",version:currentVersion,defaultWidgetOptions:defaultWidgetOptions$4,getPublicWidgetOptions:getRadioPublicWidgetOptions,accessible:!0};function getSorterPublicWidgetOptions(e){return{...e,correct:sortAllButFirst(e.correct)}}function sortAllButFirst([e,...t]){return[e,...t.sort()]}const defaultWidgetOptions$3={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},sorterWidgetLogic={name:"sorter",defaultWidgetOptions:defaultWidgetOptions$3,getPublicWidgetOptions:getSorterPublicWidgetOptions,accessible:!1};function getTablePublicWidgetOptions(e){const{answers:t,...r}=e;return r}const defaultRows=4,defaultColumns=1,answers=new Array(defaultRows).fill(0).map(()=>new Array(defaultColumns).fill("")),defaultWidgetOptions$2={headers:[""],rows:defaultRows,columns:defaultColumns,answers:answers},tableWidgetLogic={name:"table",defaultWidgetOptions:defaultWidgetOptions$2,getPublicWidgetOptions:getTablePublicWidgetOptions,accessible:!0},defaultWidgetOptions$1={location:""},videoWidgetLogic={name:"video",defaultWidgetOptions:defaultWidgetOptions$1,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block",accessible:!0},widgets$1=new Registry("Core widget registry");function registerWidget$1(e,t){widgets$1.set(e,t)}function isWidgetRegistered(e){const t=widgets$1.get(e);return Boolean(t)}function getCurrentVersion(e){const t=widgets$1.get(e);return t?.version||{major:0,minor:0}}const getPublicWidgetOptionsFunction=e=>widgets$1.get(e)?.getPublicWidgetOptions??(e=>e);function getDefaultWidgetOptions(e){const t=widgets$1.get(e);return t?.defaultWidgetOptions||{}}const getSupportedAlignments=e=>{const t=widgets$1.get(e);return t?.supportedAlignments?.[0]?t?.supportedAlignments:["default"]};function registerCoreWidgets(){[categorizerWidgetLogic,csProgramWidgetLogic,definitionWidgetLogic,deprecatedStandinWidgetLogic,dropdownWidgetLogic,explanationWidgetLogic,expressionWidgetLogic,gradedGroupWidgetLogic,gradedGroupSetWidgetLogic,grapherWidgetLogic,groupWidgetLogic,iframeWidgetLogic,imageWidgetLogic,inputNumberWidgetLogic,interactionWidgetLogic,interactiveGraphWidgetLogic,labelImageWidgetLogic,matcherWidgetLogic,matrixWidgetLogic,measurerWidgetLogic,numberLineWidgetLogic,numericInputWidgetLogic,ordererWidgetLogic,passageWidgetLogic,passageRefWidgetLogic,passageRefTargetWidgetLogic,phetSimulationWidgetLogic,plotterWidgetLogic,pythonProgramWidgetLogic,radioWidgetLogic,sorterWidgetLogic,tableWidgetLogic,videoWidgetLogic].forEach(e=>{registerWidget$1(e.name,e)})}const DEFAULT_STATIC=!1,applyDefaultsToWidget=e=>{const t=e.type;if(!_.isString(t))throw new PerseusError("widget type must be a string, but was: "+t,Errors.Internal);if(!isWidgetRegistered(t))return e;const r=e.version||{major:0,minor:0},n=getCurrentVersion(t);if(r.major>n.major||r.major===n.major&&r.minor>n.minor)return e;let i=_.clone(e.options)??{};i={...getDefaultWidgetOptions(t),...i};let o=e.alignment;if((null==o||"default"===o)&&(o=getSupportedAlignments(t)?.[0],!o))throw new PerseusError("No default alignment found when upgrading widget",Errors.Internal,{metadata:{widgetType:t}});let a=e.static;return null==a&&(a=DEFAULT_STATIC),{...e,version:n,graded:null==e.graded||e.graded,alignment:o,static:a,options:i}};function applyDefaultsToWidgets(e){return mapObject(e,(e,t)=>{if(!e.type||!e.alignment){const r={};e.type||(r.type=t.split(" ")[0]),e.alignment||(r.alignment="default"),e={...e,...r}}return applyDefaultsToWidget(e)})}function splitPerseusRenderer(e){const t=applyDefaultsToWidgets(deepClone(e).widgets??{}),r={};for(const[n,i]of Object.entries(t))if(i.static)r[n]=i;else{const e=getPublicWidgetOptionsFunction(i.type);r[n]={...i,options:e(i.options)}}return{...e,widgets:r}}function getGroupPublicWidgetOptions(e){return splitPerseusRenderer(e)}const defaultWidgetOptions={content:"",widgets:{},images:{}},traverseChildWidgets=function(e,t){return{...e,...t(e)}},groupWidgetLogic={name:"group",defaultWidgetOptions:defaultWidgetOptions,accessible:!1,traverseChildWidgets:traverseChildWidgets,getPublicWidgetOptions:getGroupPublicWidgetOptions};registerCoreWidgets();var jquery$1={exports:{}},jquery=jquery$1.exports,hasRequiredJquery;function requireJquery(){return hasRequiredJquery||(hasRequiredJquery=1,e="undefined"!=typeof window?window:jquery,t=function(e,t){var r=[],n=e.document,i=r.slice,o=r.concat,a=r.push,s=r.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d={},h="1.12.4",p=function(e,t){return new p.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,y=function(e,t){return t.toUpperCase()};function b(e){var t=!!e&&"length"in e&&e.length,r=p.type(e);return"function"!==r&&!p.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}p.fn=p.prototype={jquery:h,constructor:p,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return p.each(this,e)},map:function(e){return this.pushStack(p.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},p.extend=p.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(n in i)e=a[n],a!==(r=i[n])&&(c&&r&&(p.isPlainObject(r)||(t=p.isArray(r)))?(t?(t=!1,o=e&&p.isArray(e)?e:[]):o=e&&p.isPlainObject(e)?e:{},a[n]=p.extend(c,o,r)):void 0!==r&&(a[n]=r));return a},p.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!p.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(!d.ownFirst)for(t in e)return u.call(e,t);for(t in e);return void 0===t||u.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e},globalEval:function(t){t&&p.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(m,"ms-").replace(g,y)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,n=0;if(b(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(b(Object(e))?p.merge(r,"string"==typeof e?[e]:e):a.call(r,e)),r},inArray:function(e,t,r){var n;if(t){if(s)return s.call(t,e,r);for(n=t.length,r=r?r<0?Math.max(0,n+r):r:0;r<n;r++)if(r in t&&t[r]===e)return r}return-1},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;)e[i++]=t[n++];if(r!=r)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,r){var n,i,a=0,s=[];if(b(e))for(n=e.length;a<n;a++)null!=(i=t(e[a],a,r))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,r))&&s.push(i);return o.apply([],s)},guid:1,proxy:function(e,t){var r,n,o;if("string"==typeof t&&(o=e[t],t=e,e=o),p.isFunction(e))return r=i.call(arguments,2),n=function(){return e.apply(t||this,r.concat(i.call(arguments)))},n.guid=e.guid=e.guid||p.guid++,n},now:function(){return+new Date},support:d}),"function"==typeof Symbol&&(p.fn[Symbol.iterator]=r[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var v=
/*!
         * Sizzle CSS Selector Engine v2.2.1
         * http://sizzlejs.com/
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license
         * http://jquery.org/license
         *
         * Date: 2015-10-17
         */function(e){var t,r,n,i,o,a,s,l,c,u,d,h,p,f,m,g,y,b,v,x="sizzle"+1*new Date,$=e.document,S=0,E=0,w=oe(),_=oe(),M=oe(),C=function(e,t){return e===t&&(d=!0),0},T=1<<31,R={}.hasOwnProperty,O=[],k=O.pop,A=O.push,N=O.push,I=O.slice,L=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+B+"*("+q+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+B+"*\\]",D=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",F=new RegExp(B+"+","g"),z=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),H=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),U=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),V=new RegExp(D),G=new RegExp("^"+q+"$"),X={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),re=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ne=function(){h()};try{N.apply(O=I.call($.childNodes),$.childNodes),O[$.childNodes.length].nodeType}catch($e){N={apply:O.length?function(e,t){A.apply(e,I.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function ie(e,t,n,i){var o,s,c,u,d,f,y,b,S=t&&t.ownerDocument,E=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return n;if(!i&&((t?t.ownerDocument||t:$)!==p&&h(t),t=t||p,m)){if(11!==E&&(f=Z.exec(e)))if(o=f[1]){if(9===E){if(!(c=t.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(S&&(c=S.getElementById(o))&&v(t,c)&&c.id===o)return n.push(c),n}else{if(f[2])return N.apply(n,t.getElementsByTagName(e)),n;if((o=f[3])&&r.getElementsByClassName&&t.getElementsByClassName)return N.apply(n,t.getElementsByClassName(o)),n}if(r.qsa&&!M[e+" "]&&(!g||!g.test(e))){if(1!==E)S=t,b=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=x),s=(y=a(e)).length,d=G.test(u)?"#"+u:"[id='"+u+"']";s--;)y[s]=d+" "+me(y[s]);b=y.join(","),S=Q.test(e)&&pe(t.parentNode)||t}if(b)try{return N.apply(n,S.querySelectorAll(b)),n}catch(w){}finally{u===x&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,n,i)}function oe(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function ae(e){return e[x]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch($e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function ce(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||T)-(~e.sourceIndex||T);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function he(e){return ae(function(t){return t=+t,ae(function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:$;return a!==p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,m=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ne,!1):i.attachEvent&&i.attachEvent("onunload",ne)),r.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=J.test(p.getElementsByClassName),r.getById=se(function(e){return f.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),r.getById?(n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r=t.getElementById(e);return r?[r]:[]}},n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(r.qsa=J.test(p.querySelectorAll))&&(se(function(e){f.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+x+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]")}),se(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=J.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&se(function(e){r.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),y.push("!=",D)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=J.test(f.compareDocumentPosition),v=t||J.test(f.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===$&&v($,e)?-1:t===p||t.ownerDocument===$&&v($,t)?1:u?L(u,e)-L(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:u?L(u,e)-L(u,t):0;if(i===o)return ce(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?ce(a[n],s[n]):a[n]===$?-1:s[n]===$?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(U,"='$1']"),r.matchesSelector&&m&&!M[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var n=b.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch($e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),v(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=n.attrHandle[t.toLowerCase()],o=i&&R.call(n.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:r.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,o=0;if(d=!r.detectDuplicates,u=!r.sortStable&&e.slice(0),e.sort(C),d){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return u=null,e},i=ie.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=ie.selectors={cacheLength:50,createPseudo:ae,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&V.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var i=ie.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(F," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var c,u,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),b=!l&&!s,v=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(v=(p=(c=(u=(d=(h=g)[x]||(h[x]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(v=p=0)||f.pop();)if(1===h.nodeType&&++v&&h===t){u[e]=[S,p,v];break}}else if(b&&(v=p=(c=(u=(d=(h=t)[x]||(h[x]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===v)for(;(h=++p&&h&&h[m]||(v=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++v||(b&&((u=(d=h[x]||(h[x]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[S,v]),h!==t)););return(v-=i)===n||v%n===0&&v/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,r){for(var n,o=i(e,t),a=o.length;a--;)e[n=L(e,o[a])]=!(r[n]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:ae(function(e){var t=[],r=[],n=s(e.replace(z,"$1"));return n[x]?ae(function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}}),has:ae(function(e){return function(t){return ie(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ae(function(e){return G.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,r){return[r<0?r+t:r]}),even:he(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:he(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:he(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:he(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function fe(){}function me(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ge(e,t,r){var n=t.dir,i=r&&"parentNode"===n,o=E++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o)}:function(t,r,a){var s,l,c,u=[S,o];if(a){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,a))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if((s=(l=(c=t[x]||(t[x]={}))[t.uniqueID]||(c[t.uniqueID]={}))[n])&&s[0]===S&&s[1]===o)return u[2]=s[2];if(l[n]=u,u[2]=e(t,r,a))return!0}}}function ye(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function be(e,t,r,n,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),c&&t.push(s)));return a}function ve(e,t,r,n,i,o){return n&&!n[x]&&(n=ve(n)),i&&!i[x]&&(i=ve(i,o)),ae(function(o,a,s,l){var c,u,d,h=[],p=[],f=a.length,m=o||function(e,t,r){for(var n=0,i=t.length;n<i;n++)ie(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:be(m,h,e,s,l),y=r?i||(o?e:f||n)?[]:a:g;if(r&&r(g,y,s,l),n)for(c=be(y,p),n(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(g[p[u]]=d));if(o){if(i||e){if(i){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(g[u]=d);i(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=i?L(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else y=be(y===a?y.splice(f,y.length):y),i?i(null,a,y,l):N.apply(a,y)})}function xe(e){for(var t,r,i,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,u=ge(function(e){return e===t},s,!0),d=ge(function(e){return L(t,e)>-1},s,!0),h=[function(e,r,n){var i=!a&&(n||r!==c)||((t=r).nodeType?u(e,r,n):d(e,r,n));return t=null,i}];l<o;l++)if(r=n.relative[e[l].type])h=[ge(ye(h),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[x]){for(i=++l;i<o&&!n.relative[e[i].type];i++);return ve(l>1&&ye(h),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),r,l<i&&xe(e.slice(l,i)),i<o&&xe(e=e.slice(i)),i<o&&me(e))}h.push(r)}return ye(h)}return fe.prototype=n.filters=n.pseudos,n.setFilters=new fe,a=ie.tokenize=function(e,t){var r,i,o,a,s,l,c,u=_[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(a in r&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=H.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(z," ")}),s=s.slice(r.length)),n.filter)!(i=X[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?ie.error(e):_(e,l).slice(0)},s=ie.compile=function(e,t){var r,i=[],o=[],s=M[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=xe(t[r]))[x]?i.push(s):o.push(s);s=M(e,function(e,t){var r=t.length>0,i=e.length>0,o=function(o,a,s,l,u){var d,f,g,y=0,b="0",v=o&&[],x=[],$=c,E=o||i&&n.find.TAG("*",u),w=S+=null==$?1:Math.random()||.1,_=E.length;for(u&&(c=a===p||a||u);b!==_&&null!=(d=E[b]);b++){if(i&&d){for(f=0,a||d.ownerDocument===p||(h(d),s=!m);g=e[f++];)if(g(d,a||p,s)){l.push(d);break}u&&(S=w)}r&&((d=!g&&d)&&y--,o&&v.push(d))}if(y+=b,r&&b!==y){for(f=0;g=t[f++];)g(v,x,a,s);if(o){if(y>0)for(;b--;)v[b]||x[b]||(x[b]=k.call(l));x=be(x)}N.apply(l,x),u&&!o&&x.length>0&&y+t.length>1&&ie.uniqueSort(l)}return u&&(S=w,c=$),v};return r?ae(o):o}(o,i)),s.selector=e}return s},l=ie.select=function(e,t,i,o){var l,c,u,d,h,p="function"==typeof e&&e,f=!o&&a(e=p.selector||e);if(i=i||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&r.getById&&9===t.nodeType&&m&&n.relative[c[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(te,re),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=X.needsContext.test(e)?0:c.length;l--&&(u=c[l],!n.relative[d=u.type]);)if((h=n.find[d])&&(o=h(u.matches[0].replace(te,re),Q.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&me(c)))return N.apply(i,o),i;break}}return(p||s(e,f))(o,t,!m,i,!t||Q.test(e)&&pe(t.parentNode)||t),i},r.sortStable=x.split("").sort(C).join("")===x,r.detectDuplicates=!!d,h(),r.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ie}(e);p.find=v,p.expr=v.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=v.uniqueSort,p.text=v.getText,p.isXMLDoc=v.isXML,p.contains=v.contains;var x=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(r))break;n.push(e)}return n},$=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},S=p.expr.match.needsContext,E=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function _(e,t,r){if(p.isFunction(t))return p.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return p.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(w.test(t))return p.filter(t,e,r);t=p.filter(t,e)}return p.grep(e,function(e){return p.inArray(e,t)>-1!==r})}p.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?p.find.matchesSelector(n,e)?[n]:[]:p.find.matches(e,p.grep(t,function(e){return 1===e.nodeType}))},p.fn.extend({find:function(e){var t,r=[],n=this,i=n.length;if("string"!=typeof e)return this.pushStack(p(e).filter(function(){for(t=0;t<i;t++)if(p.contains(n[t],this))return!0}));for(t=0;t<i;t++)p.find(e,n[t],r);return(r=this.pushStack(i>1?p.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&S.test(e)?p(e):e||[],!1).length}});var M,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t,r){var i,o;if(!e)return this;if(r=r||M,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:C.exec(e))||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),E.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=n.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return M.find(e);this.length=1,this[0]=o}return this.context=n,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==r.ready?r.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,M=p(n);var T=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}p.fn.extend({has:function(e){var t,r=p(e,this),n=r.length;return this.filter(function(){for(t=0;t<n;t++)if(p.contains(this,r[t]))return!0})},closest:function(e,t){for(var r,n=0,i=this.length,o=[],a=S.test(e)||"string"!=typeof e?p(e,t||this.context):0;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&p.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?p.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?p.inArray(this[0],p(e)):p.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,r){return x(e,"parentNode",r)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,r){return x(e,"nextSibling",r)},prevUntil:function(e,t,r){return x(e,"previousSibling",r)},siblings:function(e){return $((e.parentNode||{}).firstChild,e)},children:function(e){return $(e.firstChild)},contents:function(e){return p.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:p.merge([],e.childNodes)}},function(e,t){p.fn[e]=function(r,n){var i=p.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=p.filter(n,i)),this.length>1&&(R[e]||(i=p.uniqueSort(i)),T.test(e)&&(i=i.reverse())),this.pushStack(i)}});var k,A,N=/\S+/g;function I(){n.addEventListener?(n.removeEventListener("DOMContentLoaded",L),e.removeEventListener("load",L)):(n.detachEvent("onreadystatechange",L),e.detachEvent("onload",L))}function L(){(n.addEventListener||"load"===e.event.type||"complete"===n.readyState)&&(I(),p.ready())}for(A in p.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return p.each(e.match(N)||[],function(e,r){t[r]=!0}),t}(e):p.extend({},e);var t,r,n,i,o=[],a=[],s=-1,l=function(){for(i=e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},c={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){p.each(r,function(r,n){p.isFunction(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==p.type(n)&&t(n)})}(arguments),r&&!t&&l()),this},remove:function(){return p.each(arguments,function(e,t){for(var r;(r=p.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(e){return e?p.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=!0,r||c.disable(),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred(function(r){p.each(t,function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this===n?r.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?p.extend(e,n):n}},i={};return n.pipe=n.then,p.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){r=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,o=0,a=i.call(arguments),s=a.length,l=1!==s||e&&p.isFunction(e.promise)?s:0,c=1===l?e:p.Deferred(),u=function(e,r,n){return function(o){r[e]=this,n[e]=arguments.length>1?i.call(arguments):o,n===t?c.notifyWith(r,n):--l||c.resolveWith(r,n)}};if(s>1)for(t=new Array(s),r=new Array(s),n=new Array(s);o<s;o++)a[o]&&p.isFunction(a[o].promise)?a[o].promise().progress(u(o,r,t)).done(u(o,n,a)).fail(c.reject):--l;return l||c.resolveWith(n,a),c.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(k.resolveWith(n,[p]),p.fn.triggerHandler&&(p(n).triggerHandler("ready"),p(n).off("ready"))))}}),p.ready.promise=function(t){if(!k)if(k=p.Deferred(),"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll)e.setTimeout(p.ready);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",L),e.addEventListener("load",L);else{n.attachEvent("onreadystatechange",L),e.attachEvent("onload",L);var r=!1;try{r=null==e.frameElement&&n.documentElement}catch(i){}r&&r.doScroll&&function t(){if(!p.isReady){try{r.doScroll("left")}catch(i){return e.setTimeout(t,50)}I(),p.ready()}}()}return k.promise(t)},p.ready.promise(),p(d))break;d.ownFirst="0"===A,d.inlineBlockNeedsLayout=!1,p(function(){var e,t,r,i;(r=n.getElementsByTagName("body")[0])&&r.style&&(t=n.createElement("div"),(i=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",d.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(r.style.zoom=1)),r.removeChild(i))}),function(){var e=n.createElement("div");d.deleteExpando=!0;try{delete e.test}catch(t){d.deleteExpando=!1}e=null}();var P,B=function(e){var t=p.noData[(e.nodeName+" ").toLowerCase()],r=+e.nodeType||1;return(1===r||9===r)&&(!t||!0!==t&&e.getAttribute("classid")===t)},q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/([A-Z])/g;function D(e,t,r){if(void 0===r&&1===e.nodeType){var n="data-"+t.replace(j,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(n))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:q.test(r)?p.parseJSON(r):r)}catch(i){}p.data(e,t,r)}else r=void 0}return r}function F(e){var t;for(t in e)if(("data"!==t||!p.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function z(e,t,n,i){if(B(e)){var o,a,s=p.expando,l=e.nodeType,c=l?p.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(i||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=l?e[s]=r.pop()||p.guid++:s),c[u]||(c[u]=l?{}:{toJSON:p.noop}),"object"!=typeof t&&"function"!=typeof t||(i?c[u]=p.extend(c[u],t):c[u].data=p.extend(c[u].data,t)),a=c[u],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[p.camelCase(t)]=n),"string"==typeof t?null==(o=a[t])&&(o=a[p.camelCase(t)]):o=a,o}}function W(e,t,r){if(B(e)){var n,i,o=e.nodeType,a=o?p.cache:e,s=o?e[p.expando]:p.expando;if(a[s]){if(t&&(n=r?a[s]:a[s].data)){i=(t=p.isArray(t)?t.concat(p.map(t,p.camelCase)):t in n||(t=p.camelCase(t))in n?[t]:t.split(" ")).length;for(;i--;)delete n[t[i]];if(r?!F(n):!p.isEmptyObject(n))return}(r||(delete a[s].data,F(a[s])))&&(o?p.cleanData([e],!0):d.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?p.cache[e[p.expando]]:e[p.expando])&&!F(e)},data:function(e,t,r){return z(e,t,r)},removeData:function(e,t){return W(e,t)},_data:function(e,t,r){return z(e,t,r,!0)},_removeData:function(e,t){return W(e,t,!0)}}),p.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=p.data(o),1===o.nodeType&&!p._data(o,"parsedAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&D(o,n=p.camelCase(n.slice(5)),i[n]);p._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){p.data(this,e)}):arguments.length>1?this.each(function(){p.data(this,e,t)}):o?D(o,e,p.data(o,e)):void 0},removeData:function(e){return this.each(function(){p.removeData(this,e)})}}),p.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=p._data(e,t),r&&(!n||p.isArray(r)?n=p._data(e,t,p.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=p.queue(e,t),n=r.length,i=r.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,function(){p.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return p._data(e,r)||p._data(e,r,{empty:p.Callbacks("once memory").add(function(){p._removeData(e,t+"queue"),p._removeData(e,r)})})}}),p.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?p.queue(this[0],e):void 0===t?this:this.each(function(){var r=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&p.dequeue(this,e)})},dequeue:function(e){return this.each(function(){p.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=p.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=p._data(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}}),d.shrinkWrapBlocks=function(){return null!=P?P:(P=!1,(t=n.getElementsByTagName("body")[0])&&t.style?(e=n.createElement("div"),(r=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(r).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(n.createElement("div")).style.width="5px",P=3!==e.offsetWidth),t.removeChild(r),P):void 0);var e,t,r};var H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],G=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)};function X(e,t,r,n){var i,o=1,a=20,s=n?function(){return n.cur()}:function(){return p.css(e,t,"")},l=s(),c=r&&r[3]||(p.cssNumber[t]?"":"px"),u=(p.cssNumber[t]||"px"!==c&&+l)&&U.exec(p.css(e,t));if(u&&u[3]!==c){c=c||u[3],r=r||[],u=+l||1;do{u/=o=o||".5",p.style(e,t,u+c)}while(o!==(o=s()/l)&&1!==o&&--a)}return r&&(u=+u||+l||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=i)),i}var K,Y,J,Z=function(e,t,r,n,i,o,a){var s=0,l=e.length,c=null==r;if("object"===p.type(r))for(s in i=!0,r)Z(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,p.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(p(e),r)})),t))for(;s<l;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:c?t.call(e):l?t(e[0],r):o},Q=/^(?:checkbox|radio)$/i,ee=/<([\w:-]+)/,te=/^$|\/(?:java|ecma)script/i,re=/^\s+/,ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ie(e){var t=ne.split("|"),r=e.createDocumentFragment();if(r.createElement)for(;t.length;)r.createElement(t.pop());return r}K=n.createElement("div"),Y=n.createDocumentFragment(),J=n.createElement("input"),K.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d.leadingWhitespace=3===K.firstChild.nodeType,d.tbody=!K.getElementsByTagName("tbody").length,d.htmlSerialize=!!K.getElementsByTagName("link").length,d.html5Clone="<:nav></:nav>"!==n.createElement("nav").cloneNode(!0).outerHTML,J.type="checkbox",J.checked=!0,Y.appendChild(J),d.appendChecked=J.checked,K.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!K.cloneNode(!0).lastChild.defaultValue,Y.appendChild(K),(J=n.createElement("input")).setAttribute("type","radio"),J.setAttribute("checked","checked"),J.setAttribute("name","t"),K.appendChild(J),d.checkClone=K.cloneNode(!0).cloneNode(!0).lastChild.checked,d.noCloneEvent=!!K.addEventListener,K[p.expando]=1,d.attributes=!K.getAttribute(p.expando);var oe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ae(e,t){var r,n,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],r=e.childNodes||e;null!=(n=r[i]);i++)!t||p.nodeName(n,t)?o.push(n):p.merge(o,ae(n,t));return void 0===t||t&&p.nodeName(e,t)?p.merge([e],o):o}function se(e,t){for(var r,n=0;null!=(r=e[n]);n++)p._data(r,"globalEval",!t||p._data(t[n],"globalEval"))}oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var le=/<|&#?\w+;/,ce=/<tbody/i;function ue(e){Q.test(e.type)&&(e.defaultChecked=e.checked)}function de(e,t,r,n,i){for(var o,a,s,l,c,u,h,f=e.length,m=ie(t),g=[],y=0;y<f;y++)if((a=e[y])||0===a)if("object"===p.type(a))p.merge(g,a.nodeType?[a]:a);else if(le.test(a)){for(l=l||m.appendChild(t.createElement("div")),c=(ee.exec(a)||["",""])[1].toLowerCase(),h=oe[c]||oe._default,l.innerHTML=h[1]+p.htmlPrefilter(a)+h[2],o=h[0];o--;)l=l.lastChild;if(!d.leadingWhitespace&&re.test(a)&&g.push(t.createTextNode(re.exec(a)[0])),!d.tbody)for(o=(a="table"!==c||ce.test(a)?"<table>"!==h[1]||ce.test(a)?0:l:l.firstChild)&&a.childNodes.length;o--;)p.nodeName(u=a.childNodes[o],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(p.merge(g,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=m.lastChild}else g.push(t.createTextNode(a));for(l&&m.removeChild(l),d.appendChecked||p.grep(ae(g,"input"),ue),y=0;a=g[y++];)if(n&&p.inArray(a,n)>-1)i&&i.push(a);else if(s=p.contains(a.ownerDocument,a),l=ae(m.appendChild(a),"script"),s&&se(l),r)for(o=0;a=l[o++];)te.test(a.type||"")&&r.push(a);return l=null,m}!function(){var t,r,i=n.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})r="on"+t,(d[t]=r in e)||(i.setAttribute(r,"t"),d[t]=!1===i.attributes[r].expando);i=null}();var he=/^(?:input|select|textarea)$/i,pe=/^key/,fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,me=/^(?:focusinfocus|focusoutblur)$/,ge=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function be(){return!1}function ve(){try{return n.activeElement}catch(e){}}function xe(e,t,r,n,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)xe(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=be;else if(!i)return e;return 1===o&&(a=i,i=function(e){return p().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=p.guid++)),e.each(function(){p.event.add(this,t,i,n,r)})}p.event={global:{},add:function(e,t,r,n,i){var o,a,s,l,c,u,d,h,f,m,g,y=p._data(e);if(y){for(r.handler&&(r=(l=r).handler,i=l.selector),r.guid||(r.guid=p.guid++),(a=y.events)||(a=y.events={}),(u=y.handle)||(u=y.handle=function(e){return void 0===p||e&&p.event.triggered===e.type?void 0:p.event.dispatch.apply(u.elem,arguments)},u.elem=e),s=(t=(t||"").match(N)||[""]).length;s--;)f=g=(o=ge.exec(t[s])||[])[1],m=(o[2]||"").split(".").sort(),f&&(c=p.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=p.event.special[f]||{},d=p.extend({type:f,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,m,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),p.event.global[f]=!0);e=null}},remove:function(e,t,r,n,i){var o,a,s,l,c,u,d,h,f,m,g,y=p.hasData(e)&&p._data(e);if(y&&(u=y.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=g=(s=ge.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),f){for(d=p.event.special[f]||{},h=u[f=(n?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!i&&g!==a.origType||r&&r.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,m,y.handle)||p.removeEvent(e,f,y.handle),delete u[f])}else for(f in u)p.event.remove(e,f+t[c],r,n,!0);p.isEmptyObject(u)&&(delete y.handle,p._removeData(e,"events"))}},trigger:function(t,r,i,o){var a,s,l,c,d,h,f,m=[i||n],g=u.call(t,"type")?t.type:t,y=u.call(t,"namespace")?t.namespace.split("."):[];if(l=h=i=i||n,3!==i.nodeType&&8!==i.nodeType&&!me.test(g+p.event.triggered)&&(g.indexOf(".")>-1&&(y=g.split("."),g=y.shift(),y.sort()),s=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),r=null==r?[t]:p.makeArray(r,[t]),d=p.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(i,r))){if(!o&&!d.noBubble&&!p.isWindow(i)){for(c=d.delegateType||g,me.test(c+g)||(l=l.parentNode);l;l=l.parentNode)m.push(l),h=l;h===(i.ownerDocument||n)&&m.push(h.defaultView||h.parentWindow||e)}for(f=0;(l=m[f++])&&!t.isPropagationStopped();)t.type=f>1?c:d.bindType||g,(a=(p._data(l,"events")||{})[t.type]&&p._data(l,"handle"))&&a.apply(l,r),(a=s&&l[s])&&a.apply&&B(l)&&(t.result=a.apply(l,r),!1===t.result&&t.preventDefault());if(t.type=g,!o&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(m.pop(),r))&&B(i)&&s&&i[g]&&!p.isWindow(i)){(h=i[s])&&(i[s]=null),p.event.triggered=g;try{i[g]()}catch(b){}p.event.triggered=void 0,h&&(i[s]=h)}return t.result}},dispatch:function(e){e=p.event.fix(e);var t,r,n,o,a,s,l=i.call(arguments),c=(p._data(this,"events")||{})[e.type]||[],u=p.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(n=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],r=0;r<s;r++)void 0===n[i=(o=t[r]).selector+" "]&&(n[i]=o.needsContext?p(i,this).index(l)>-1:p.find(i,this,null,[l]).length),n[i]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[p.expando])return e;var t,r,i,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=fe.test(o)?this.mouseHooks:pe.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new p.Event(a),t=i.length;t--;)e[r=i[t]]=a[r];return e.target||(e.target=a.srcElement||n),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||n).documentElement,r=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ve()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ve()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(p.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r){var n=p.extend(new p.Event,r,{type:e,isSimulated:!0});p.event.trigger(n,null,t),n.isDefaultPrevented()&&r.preventDefault()}},p.removeEvent=n.removeEventListener?function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)}:function(e,t,r){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,r))},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:be):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||p.contains(this,n))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}}),d.submit||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,r=p.nodeName(t,"input")||p.nodeName(t,"button")?p.prop(t,"form"):void 0;r&&!p._data(r,"submit")&&(p.event.add(r,"submit._submit",function(e){e._submitBubble=!0}),p._data(r,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&p.event.simulate("submit",this.parentNode,e))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),d.change||(p.event.special.change={setup:function(){if(he.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(p.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),p.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),p.event.simulate("change",this,e)})),!1;p.event.add(this,"beforeactivate._change",function(e){var t=e.target;he.test(t.nodeName)&&!p._data(t,"change")&&(p.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||p.event.simulate("change",this.parentNode,e)}),p._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!he.test(this.nodeName)}}),d.focusin||p.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){p.event.simulate(t,e.target,p.event.fix(e))};p.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=p._data(n,t);i||n.addEventListener(e,r,!0),p._data(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=p._data(n,t)-1;i?p._data(n,t,i):(n.removeEventListener(e,r,!0),p._removeData(n,t))}}}),p.fn.extend({on:function(e,t,r,n){return xe(this,e,t,r,n)},one:function(e,t,r,n){return xe(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,p(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=be),this.each(function(){p.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){p.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return p.event.trigger(e,t,r,!0)}});var $e=/ jQuery\d+="(?:null|\d+)"/g,Se=new RegExp("<(?:"+ne+")[\\s/>]","i"),Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,we=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^true\/(.*)/,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Te=ie(n).appendChild(n.createElement("div"));function Re(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Oe(e){return e.type=(null!==p.find.attr(e,"type"))+"/"+e.type,e}function ke(e){var t=Me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ae(e,t){if(1===t.nodeType&&p.hasData(e)){var r,n,i,o=p._data(e),a=p._data(t,o),s=o.events;if(s)for(r in delete a.handle,a.events={},s)for(n=0,i=s[r].length;n<i;n++)p.event.add(t,r,s[r][n]);a.data&&(a.data=p.extend({},a.data))}}function Ne(e,t){var r,n,i;if(1===t.nodeType){if(r=t.nodeName.toLowerCase(),!d.noCloneEvent&&t[p.expando]){for(n in(i=p._data(t)).events)p.removeEvent(t,n,i.handle);t.removeAttribute(p.expando)}"script"===r&&t.text!==e.text?(Oe(t).text=e.text,ke(t)):"object"===r?(t.parentNode&&(t.outerHTML=e.outerHTML),d.html5Clone&&e.innerHTML&&!p.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===r&&Q.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===r?t.defaultSelected=t.selected=e.defaultSelected:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}}function Ie(e,t,r,n){t=o.apply([],t);var i,a,s,l,c,u,h=0,f=e.length,m=f-1,g=t[0],y=p.isFunction(g);if(y||f>1&&"string"==typeof g&&!d.checkClone&&_e.test(g))return e.each(function(i){var o=e.eq(i);y&&(t[0]=g.call(this,i,o.html())),Ie(o,t,r,n)});if(f&&(i=(u=de(t,e[0].ownerDocument,!1,e,n)).firstChild,1===u.childNodes.length&&(u=i),i||n)){for(s=(l=p.map(ae(u,"script"),Oe)).length;h<f;h++)a=u,h!==m&&(a=p.clone(a,!0,!0),s&&p.merge(l,ae(a,"script"))),r.call(e[h],a,h);if(s)for(c=l[l.length-1].ownerDocument,p.map(l,ke),h=0;h<s;h++)a=l[h],te.test(a.type||"")&&!p._data(a,"globalEval")&&p.contains(c,a)&&(a.src?p._evalUrl&&p._evalUrl(a.src):p.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ce,"")));u=i=null}return e}function Le(e,t,r){for(var n,i=t?p.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||p.cleanData(ae(n)),n.parentNode&&(r&&p.contains(n.ownerDocument,n)&&se(ae(n,"script")),n.parentNode.removeChild(n));return e}p.extend({htmlPrefilter:function(e){return e.replace(Ee,"<$1></$2>")},clone:function(e,t,r){var n,i,o,a,s,l=p.contains(e.ownerDocument,e);if(d.html5Clone||p.isXMLDoc(e)||!Se.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Te.innerHTML=e.outerHTML,Te.removeChild(o=Te.firstChild)),!(d.noCloneEvent&&d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(n=ae(o),s=ae(e),a=0;null!=(i=s[a]);++a)n[a]&&Ne(i,n[a]);if(t)if(r)for(s=s||ae(e),n=n||ae(o),a=0;null!=(i=s[a]);a++)Ae(i,n[a]);else Ae(e,o);return(n=ae(o,"script")).length>0&&se(n,!l&&ae(e,"script")),n=s=i=null,o},cleanData:function(e,t){for(var n,i,o,a,s=0,l=p.expando,c=p.cache,u=d.attributes,h=p.event.special;null!=(n=e[s]);s++)if((t||B(n))&&(a=(o=n[l])&&c[o])){if(a.events)for(i in a.events)h[i]?p.event.remove(n,i):p.removeEvent(n,i,a.handle);c[o]&&(delete c[o],u||void 0===n.removeAttribute?n[l]=void 0:n.removeAttribute(l),r.push(o))}}}),p.fn.extend({domManip:Ie,detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return Z(this,function(e){return void 0===e?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&p.cleanData(ae(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&p.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return p.clone(this,e,t)})},html:function(e){return Z(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace($e,""):void 0;if("string"==typeof e&&!we.test(e)&&(d.htmlSerialize||!Se.test(e))&&(d.leadingWhitespace||!re.test(e))&&!oe[(ee.exec(e)||["",""])[1].toLowerCase()]){e=p.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(p.cleanData(ae(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ie(this,arguments,function(t){var r=this.parentNode;p.inArray(this,e)<0&&(p.cleanData(ae(this)),r&&r.replaceChild(t,this))},e)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){p.fn[e]=function(e){for(var r,n=0,i=[],o=p(e),s=o.length-1;n<=s;n++)r=n===s?this:this.clone(!0),p(o[n])[t](r),a.apply(i,r.get());return this.pushStack(i)}});var Pe,Be={HTML:"block",BODY:"block"};function qe(e,t){var r=p(t.createElement(e)).appendTo(t.body),n=p.css(r[0],"display");return r.detach(),n}function je(e){var t=n,r=Be[e];return r||("none"!==(r=qe(e,t))&&r||((t=((Pe=(Pe||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Pe[0].contentDocument).document).write(),t.close(),r=qe(e,t),Pe.detach()),Be[e]=r),r}var De=/^margin/,Fe=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),ze=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=r.apply(e,n||[]),t)e.style[o]=a[o];return i},We=n.documentElement;!function(){var t,r,i,o,a,s,l=n.createElement("div"),c=n.createElement("div");function u(){var u,d,h=n.documentElement;h.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=s=!1,r=a=!0,e.getComputedStyle&&(d=e.getComputedStyle(c),t="1%"!==(d||{}).top,s="2px"===(d||{}).marginLeft,i="4px"===(d||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(d||{marginRight:"4px"}).marginRight,(u=c.appendChild(n.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",u.style.marginRight=u.style.width="0",c.style.width="1px",a=!parseFloat((e.getComputedStyle(u)||{}).marginRight),c.removeChild(u)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(u=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===u[0].offsetHeight)&&(u[0].style.display="",u[1].style.display="none",o=0===u[0].offsetHeight)),h.removeChild(l)}c.style&&(c.style.cssText="float:left;opacity:.5",d.opacity="0.5"===c.style.opacity,d.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===c.style.backgroundClip,(l=n.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),d.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,p.extend(d,{reliableHiddenOffsets:function(){return null==t&&u(),o},boxSizingReliable:function(){return null==t&&u(),i},pixelMarginRight:function(){return null==t&&u(),r},pixelPosition:function(){return null==t&&u(),t},reliableMarginRight:function(){return null==t&&u(),a},reliableMarginLeft:function(){return null==t&&u(),s}}))}();var He,Ue,Ve=/^(top|right|bottom|left)$/;function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}e.getComputedStyle?(He=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},Ue=function(e,t,r){var n,i,o,a,s=e.style;return""!==(a=(r=r||He(e))?r.getPropertyValue(t)||r[t]:void 0)&&void 0!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),r&&!d.pixelMarginRight()&&Fe.test(a)&&De.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):We.currentStyle&&(He=function(e){return e.currentStyle},Ue=function(e,t,r){var n,i,o,a,s=e.style;return null==(a=(r=r||He(e))?r[t]:void 0)&&s&&s[t]&&(a=s[t]),Fe.test(a)&&!Ve.test(t)&&(n=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var Xe=/alpha\([^)]*\)/i,Ke=/opacity\s*=\s*([^)]*)/i,Ye=/^(none|table(?!-c[ea]).+)/,Je=new RegExp("^("+H+")(.*)$","i"),Ze={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=n.createElement("div").style;function rt(e){if(e in tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=et.length;r--;)if((e=et[r]+t)in tt)return e}function nt(e,t){for(var r,n,i,o=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(o[a]=p._data(n,"olddisplay"),r=n.style.display,t?(o[a]||"none"!==r||(n.style.display=""),""===n.style.display&&G(n)&&(o[a]=p._data(n,"olddisplay",je(n.nodeName)))):(i=G(n),(r&&"none"!==r||!i)&&p._data(n,"olddisplay",i?r:p.css(n,"display"))));for(a=0;a<s;a++)(n=e[a]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function it(e,t,r){var n=Je.exec(t);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):t}function ot(e,t,r,n,i){for(var o=r===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===r&&(a+=p.css(e,r+V[o],!0,i)),n?("content"===r&&(a-=p.css(e,"padding"+V[o],!0,i)),"margin"!==r&&(a-=p.css(e,"border"+V[o]+"Width",!0,i))):(a+=p.css(e,"padding"+V[o],!0,i),"padding"!==r&&(a+=p.css(e,"border"+V[o]+"Width",!0,i)));return a}function at(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),a=d.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Ue(e,t,o))<0||null==i)&&(i=e.style[t]),Fe.test(i))return i;n=a&&(d.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+ot(e,t,r||(a?"border":"content"),n,o)+"px"}function st(e,t,r,n,i){return new st.prototype.init(e,t,r,n,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ue(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),l=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=rt(s)||s),a=p.cssHooks[t]||p.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:l[t];if("string"==(o=typeof r)&&(i=U.exec(r))&&i[1]&&(r=X(e,t,i),o="number"),null!=r&&r==r&&("number"===o&&(r+=i&&i[3]||(p.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),!a||!("set"in a)||void 0!==(r=a.set(e,r,n))))try{l[t]=r}catch(c){}}},css:function(e,t,r,n){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=rt(s)||s),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=Ue(e,t,n)),"normal"===o&&t in Qe&&(o=Qe[t]),""===r||r?(i=parseFloat(o),!0===r||isFinite(i)?i||0:o):o}}),p.each(["height","width"],function(e,t){p.cssHooks[t]={get:function(e,r,n){if(r)return Ye.test(p.css(e,"display"))&&0===e.offsetWidth?ze(e,Ze,function(){return at(e,t,n)}):at(e,t,n)},set:function(e,r,n){var i=n&&He(e);return it(0,r,n?ot(e,t,n,d.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}}),d.opacity||(p.cssHooks.opacity={get:function(e,t){return Ke.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var r=e.style,n=e.currentStyle,i=p.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||r.filter||"";r.zoom=1,(t>=1||""===t)&&""===p.trim(o.replace(Xe,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||n&&!n.filter)||(r.filter=Xe.test(o)?o.replace(Xe,i):o+" "+i)}}),p.cssHooks.marginRight=Ge(d.reliableMarginRight,function(e,t){if(t)return ze(e,{display:"inline-block"},Ue,[e,"marginRight"])}),p.cssHooks.marginLeft=Ge(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||(p.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(e,t){p.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+V[n]+t]=o[n]||o[n-2]||o[0];return i}},De.test(e)||(p.cssHooks[e+t].set=it)}),p.fn.extend({css:function(e,t){return Z(this,function(e,t,r){var n,i,o={},a=0;if(p.isArray(t)){for(n=He(e),i=t.length;a<i;a++)o[t[a]]=p.css(e,t[a],!1,n);return o}return void 0!==r?p.style(e,t,r):p.css(e,t)},e,t,arguments.length>1)},show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){G(this)?p(this).show():p(this).hide()})}}),p.Tween=st,st.prototype={constructor:st,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||p.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(p.cssNumber[r]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,r=st.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):st.propHooks._default.set(this),this}},st.prototype.init.prototype=st.prototype,st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[p.cssProps[e.prop]]&&!p.cssHooks[e.prop]?e.elem[e.prop]=e.now:p.style(e.elem,e.prop,e.now+e.unit)}}},st.propHooks.scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},p.fx=st.prototype.init,p.fx.step={};var lt,ct,ut=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ht(){return e.setTimeout(function(){lt=void 0}),lt=p.now()}function pt(e,t){var r,n={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n["margin"+(r=V[i])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function ft(e,t,r){for(var n,i=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function mt(e,t,r){var n,i,o=0,a=mt.prefilters.length,s=p.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=lt||ht(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(e,[c,n,r]),n<1&&a?r:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},r),originalProperties:t,originalOptions:r,startTime:lt||ht(),duration:r.duration,tweens:[],createTween:function(t,r){var n=p.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var r,n,i,o,a;for(r in e)if(i=t[n=p.camelCase(r)],o=e[r],p.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(a=p.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}(u,c.opts.specialEasing);o<a;o++)if(n=mt.prefilters[o].call(c,e,u,c.opts))return p.isFunction(n.stop)&&(p._queueHooks(c.elem,c.opts.queue).stop=p.proxy(n.stop,n)),n;return p.map(u,ft,c),p.isFunction(c.opts.start)&&c.opts.start.call(e,c),p.fx.timer(p.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}p.Animation=p.extend(mt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return X(r.elem,e,U.exec(t),r),r}]},tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.match(N);for(var r,n=0,i=e.length;n<i;n++)r=e[n],mt.tweeners[r]=mt.tweeners[r]||[],mt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,o,a,s,l,c,u=this,h={},f=e.style,m=e.nodeType&&G(e),g=p._data(e,"fxshow");for(n in r.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=p.css(e,"display"))?p._data(e,"olddisplay")||je(e.nodeName):c)&&"none"===p.css(e,"float")&&(d.inlineBlockNeedsLayout&&"inline"!==je(e.nodeName)?f.zoom=1:f.display="inline-block")),r.overflow&&(f.overflow="hidden",d.shrinkWrapBlocks()||u.always(function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]})),t)if(i=t[n],ut.exec(i)){if(delete t[n],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;m=!0}h[n]=g&&g[n]||p.style(e,n)}else c=void 0;if(p.isEmptyObject(h))"inline"===("none"===c?je(e.nodeName):c)&&(f.display=c);else for(n in g?"hidden"in g&&(m=g.hidden):g=p._data(e,"fxshow",{}),o&&(g.hidden=!m),m?p(e).show():u.done(function(){p(e).hide()}),u.done(function(){var t;for(t in p._removeData(e,"fxshow"),h)p.style(e,t,h[t])}),h)a=ft(m?g[n]:0,n,u),n in g||(g[n]=a.start,m&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),p.speed=function(e,t,r){var n=e&&"object"==typeof e?p.extend({},e):{complete:r||!r&&t||p.isFunction(e)&&e,duration:e,easing:r&&t||t&&!p.isFunction(t)&&t};return n.duration=p.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in p.fx.speeds?p.fx.speeds[n.duration]:p.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p.isFunction(n.old)&&n.old.call(this),n.queue&&p.dequeue(this,n.queue)},n},p.fn.extend({fadeTo:function(e,t,r,n){return this.filter(G).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=p.isEmptyObject(e),o=p.speed(t,r,n),a=function(){var t=mt(this,p.extend({},e),o);(i||p._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=p._data(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&dt.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||p.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=p._data(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=p.timers,a=n?n.length:0;for(r.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),p.each(["toggle","show","hide"],function(e,t){var r=p.fn[t];p.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(pt(t,!0),e,n,i)}}),p.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){p.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),p.timers=[],p.fx.tick=function(){var e,t=p.timers,r=0;for(lt=p.now();r<t.length;r++)(e=t[r])()||t[r]!==e||t.splice(r--,1);t.length||p.fx.stop(),lt=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){ct||(ct=e.setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){e.clearInterval(ct),ct=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,r){return t=p.fx&&p.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(r,n){var i=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(i)}})},function(){var e,t=n.createElement("input"),r=n.createElement("div"),i=n.createElement("select"),o=i.appendChild(n.createElement("option"));(r=n.createElement("div")).setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),r.appendChild(t),(e=r.getElementsByTagName("a")[0]).style.cssText="top:1px",d.getSetAttribute="t"!==r.className,d.style=/top/.test(e.getAttribute("style")),d.hrefNormalized="/a"===e.getAttribute("href"),d.checkOn=!!t.value,d.optSelected=o.selected,d.enctype=!!n.createElement("form").enctype,i.disabled=!0,d.optDisabled=!o.disabled,(t=n.createElement("input")).setAttribute("value",""),d.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),d.radioValue="t"===t.value}();var gt=/\r/g,yt=/[\x20\t\r\n\f]+/g;p.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=p.isFunction(e),this.each(function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,function(e){return null==e?"":e+""})),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(gt,""):null==r?"":r:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e)).replace(yt," ")}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:n.length,l=i<0?s:o?i:0;l<s;l++)if(((r=n[l]).selected||l===i)&&(d.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!p.nodeName(r.parentNode,"optgroup"))){if(t=p(r).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var r,n,i=e.options,o=p.makeArray(t),a=i.length;a--;)if(n=i[a],p.inArray(p.valHooks.option.get(n),o)>-1)try{n.selected=r=!0}catch(s){n.scrollHeight}else n.selected=!1;return r||(e.selectedIndex=-1),i}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>-1}},d.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,vt,xt=p.expr.attrHandle,$t=/^(?:checked|selected)$/i,St=d.getSetAttribute,Et=d.input;p.fn.extend({attr:function(e,t){return Z(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){p.removeAttr(this,e)})}}),p.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,r):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),i=p.attrHooks[t]||(p.expr.match.bool.test(t)?vt:bt)),void 0!==r?null===r?void p.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=p.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&p.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n,i=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;r=o[i++];)n=p.propFix[r]||r,p.expr.match.bool.test(r)?Et&&St||!$t.test(r)?e[n]=!1:e[p.camelCase("default-"+r)]=e[n]=!1:p.attr(e,r,""),e.removeAttribute(St?r:n)}}),vt={set:function(e,t,r){return!1===t?p.removeAttr(e,r):Et&&St||!$t.test(r)?e.setAttribute(!St&&p.propFix[r]||r,r):e[p.camelCase("default-"+r)]=e[r]=!0,r}},p.each(p.expr.match.bool.source.match(/\w+/g),function(e,t){var r=xt[t]||p.find.attr;Et&&St||!$t.test(t)?xt[t]=function(e,t,n){var i,o;return n||(o=xt[t],xt[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,xt[t]=o),i}:xt[t]=function(e,t,r){if(!r)return e[p.camelCase("default-"+t)]?t.toLowerCase():null}}),Et&&St||(p.attrHooks.value={set:function(e,t,r){if(!p.nodeName(e,"input"))return bt&&bt.set(e,t,r);e.defaultValue=t}}),St||(bt={set:function(e,t,r){var n=e.getAttributeNode(r);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(r)),n.value=t+="","value"===r||t===e.getAttribute(r))return t}},xt.id=xt.name=xt.coords=function(e,t,r){var n;if(!r)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},p.valHooks.button={get:function(e,t){var r=e.getAttributeNode(t);if(r&&r.specified)return r.value},set:bt.set},p.attrHooks.contenteditable={set:function(e,t,r){bt.set(e,""!==t&&t,r)}},p.each(["width","height"],function(e,t){p.attrHooks[t]={set:function(e,r){if(""===r)return e.setAttribute(t,"auto"),r}}})),d.style||(p.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var wt=/^(?:input|select|textarea|button|object)$/i,_t=/^(?:a|area)$/i;p.fn.extend({prop:function(e,t){return Z(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return e=p.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),p.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&p.isXMLDoc(e)||(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=p.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.hrefNormalized||p.each(["href","src"],function(e,t){p.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),d.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this}),d.enctype||(p.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;function Ct(e){return p.attr(e,"class")||""}p.fn.extend({addClass:function(e){var t,r,n,i,o,a,s,l=0;if(p.isFunction(e))return this.each(function(t){p(this).addClass(e.call(this,t,Ct(this)))});if("string"==typeof e&&e)for(t=e.match(N)||[];r=this[l++];)if(i=Ct(r),n=1===r.nodeType&&(" "+i+" ").replace(Mt," ")){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=p.trim(n))&&p.attr(r,"class",s)}return this},removeClass:function(e){var t,r,n,i,o,a,s,l=0;if(p.isFunction(e))return this.each(function(t){p(this).removeClass(e.call(this,t,Ct(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(N)||[];r=this[l++];)if(i=Ct(r),n=1===r.nodeType&&(" "+i+" ").replace(Mt," ")){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=p.trim(n))&&p.attr(r,"class",s)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each(function(r){p(this).toggleClass(e.call(this,r,Ct(this),t),t)}):this.each(function(){var t,n,i,o;if("string"===r)for(n=0,i=p(this),o=e.match(N)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||((t=Ct(this))&&p._data(this,"__className__",t),p.attr(this,"class",t||!1===e?"":p._data(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+Ct(r)+" ").replace(Mt," ").indexOf(t)>-1)return!0;return!1}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){p.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Tt=e.location,Rt=p.now(),Ot=/\?/,kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var r,n=null,i=p.trim(t+"");return i&&!p.trim(i.replace(kt,function(e,t,i,o){return r&&t&&(n=0),0===n?e:(r=i||t,n+=!o-!i,"")}))?Function("return "+i)():p.error("Invalid JSON: "+t)},p.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?r=(new e.DOMParser).parseFromString(t,"text/xml"):((r=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(t))}catch(n){r=void 0}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),r};var At=/#.*$/,Nt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qt={},jt={},Dt="*/".concat("*"),Ft=Tt.href,zt=Bt.exec(Ft.toLowerCase())||[];function Wt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(N)||[];if(p.isFunction(r))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ht(e,t,r,n){var i={},o=e===jt;function a(s){var l;return i[s]=!0,p.each(e[s]||[],function(e,s){var c=s(t,r,n);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ut(e,t){var r,n,i=p.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&p.extend(!0,e,r),e}function Vt(e){return e.style&&e.style.display||p.css(e,"display")}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(zt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,p.ajaxSettings),t):Ut(p.ajaxSettings,e)},ajaxPrefilter:Wt(qt),ajaxTransport:Wt(jt),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,i,o,a,s,l,c,u,d=p.ajaxSetup({},r),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?p(h):p.event,m=p.Deferred(),g=p.Callbacks("once memory"),y=d.statusCode||{},b={},v={},x=0,$="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=It.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return x||(e=v[r]=v[r]||e,b[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||$;return c&&c.abort(t),E(0,t),this}};if(m.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,d.url=((t||d.url||Ft)+"").replace(At,"").replace(Pt,zt[1]+"//"),d.type=r.method||r.type||d.method||d.type,d.dataTypes=p.trim(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain&&(n=Bt.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===zt[1]&&n[2]===zt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(zt[3]||("http:"===zt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=p.param(d.data,d.traditional)),Ht(qt,d,r,S),2===x)return S;for(i in(l=p.event&&d.global)&&0===p.active++&&p.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Lt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Ot.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Nt.test(o)?o.replace(Nt,"$1_="+Rt++):o+(Ot.test(o)?"&":"?")+"_="+Rt++)),d.ifModified&&(p.lastModified[o]&&S.setRequestHeader("If-Modified-Since",p.lastModified[o]),p.etag[o]&&S.setRequestHeader("If-None-Match",p.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||r.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Dt+"; q=0.01":""):d.accepts["*"]),d.headers)S.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(h,S,d)||2===x))return S.abort();for(i in $="abort",{success:1,error:1,complete:1})S[i](d[i]);if(c=Ht(jt,d,r,S)){if(S.readyState=1,l&&f.trigger("ajaxSend",[S,d]),2===x)return S;d.async&&d.timeout>0&&(s=e.setTimeout(function(){S.abort("timeout")},d.timeout));try{x=1,c.send(b,E)}catch(w){if(!(x<2))throw w;E(-1,w)}}else E(-1,"No Transport");function E(t,r,n,i){var u,b,v,$,E,_=r;2!==x&&(x=2,s&&e.clearTimeout(s),c=void 0,a=i||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&($=function(e,t,r){for(var n,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in r)o=l[0];else{for(a in r){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),r[o]}(d,S,n)),$=function(e,t,r,n){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(w){return{state:"parsererror",error:a?w:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(d,$,S,u),u?(d.ifModified&&((E=S.getResponseHeader("Last-Modified"))&&(p.lastModified[o]=E),(E=S.getResponseHeader("etag"))&&(p.etag[o]=E)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=$.state,b=$.data,u=!(v=$.error))):(v=_,!t&&_||(_="error",t<0&&(t=0))),S.status=t,S.statusText=(r||_)+"",u?m.resolveWith(h,[b,_,S]):m.rejectWith(h,[S,_,v]),S.statusCode(y),y=void 0,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[S,d,u?b:v]),g.fireWith(h,[S,_]),l&&(f.trigger("ajaxComplete",[S,d]),--p.active||p.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,r){return p.get(e,t,r,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],function(e,t){p[t]=function(e,r,n,i){return p.isFunction(r)&&(i=i||n,n=r,r=void 0),p.ajax(p.extend({url:e,type:t,dataType:i,data:r,success:n},p.isPlainObject(e)&&e))}}),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){if(p.isFunction(e))return this.each(function(t){p(this).wrapAll(e.call(this,t))});if(this[0]){var t=p(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return p.isFunction(e)?this.each(function(t){p(this).wrapInner(e.call(this,t))}):this.each(function(){var t=p(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=p.isFunction(e);return this.each(function(r){p(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}}),p.expr.filters.hidden=function(e){return d.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!p.contains(e.ownerDocument||n,e))return!0;for(;e&&1===e.nodeType;){if("none"===Vt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}(e)},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var Gt=/%20/g,Xt=/\[\]$/,Kt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;function Zt(e,t,r,n){var i;if(p.isArray(t))p.each(t,function(t,i){r||Xt.test(e)?n(e,i):Zt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)});else if(r||"object"!==p.type(t))n(e,t);else for(i in t)Zt(e+"["+i+"]",t[i],r,n)}p.param=function(e,t){var r,n=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,function(){i(this.name,this.value)});else for(r in e)Zt(r,e[r],t,i);return n.join("&").replace(Gt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&Jt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!Q.test(e))}).map(function(e,t){var r=p(this).val();return null==r?null:p.isArray(r)?p.map(r,function(e){return{name:t.name,value:e.replace(Kt,"\r\n")}}):{name:t.name,value:r.replace(Kt,"\r\n")}}).get()}}),p.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?nr():n.documentMode>8?rr():/^(get|post|head|put|delete|options)$/i.test(this.type)&&rr()||nr()}:rr;var Qt=0,er={},tr=p.ajaxSettings.xhr();function rr(){try{return new e.XMLHttpRequest}catch(t){}}function nr(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}e.attachEvent&&e.attachEvent("onunload",function(){for(var e in er)er[e](void 0,!0)}),d.cors=!!tr&&"withCredentials"in tr,(tr=d.ajax=!!tr)&&p.ajaxTransport(function(t){var r;if(!t.crossDomain||d.cors)return{send:function(n,i){var o,a=t.xhr(),s=++Qt;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(t.hasContent&&t.data||null),r=function(e,n){var o,l,c;if(r&&(n||4===a.readyState))if(delete er[s],r=void 0,a.onreadystatechange=p.noop,n)4!==a.readyState&&a.abort();else{c={},o=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,l,c,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(r):a.onreadystatechange=er[s]=r:r()},abort:function(){r&&r(void 0,!0)}}}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),p.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=n.head||p("head")[0]||n.documentElement;return{send:function(i,o){(t=n.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,r||o(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ir=[],or=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ir.pop()||p.expando+"_"+Rt++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",function(t,r,n){var i,o,a,s=!1!==t.jsonp&&(or.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&or.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(or,"$1"+i):!1!==t.jsonp&&(t.url+=(Ot.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},n.always(function(){void 0===o?p(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=r.jsonpCallback,ir.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),p.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||n;var i=E.exec(e),o=!r&&[];return i?[t.createElement(i[1])]:(i=de([e],t,o),o&&o.length&&p(o).remove(),p.merge([],i.childNodes))};var ar=p.fn.load;function sr(e){return p.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}p.fn.load=function(e,t,r){if("string"!=typeof e&&ar)return ar.apply(this,arguments);var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=p.trim(e.slice(s,e.length)),e=e.slice(0,s)),p.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?p("<div>").append(p.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){p.fn[t]=function(e){return this.on(t,e)}}),p.expr.filters.animated=function(e){return p.grep(p.timers,function(t){return e===t.elem}).length},p.offset={setOffset:function(e,t,r){var n,i,o,a,s,l,c=p.css(e,"position"),u=p(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=p.css(e,"top"),l=p.css(e,"left"),("absolute"===c||"fixed"===c)&&p.inArray("auto",[o,l])>-1?(a=(n=u.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),p.isFunction(t)&&(t=t.call(e,r,p.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){p.offset.setOffset(this,e,t)});var t,r,n={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,p.contains(t,i)?(void 0!==i.getBoundingClientRect&&(n=i.getBoundingClientRect()),r=sr(o),{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,r={top:0,left:0},n=this[0];return"fixed"===p.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(r=e.offset()),r.top+=p.css(e[0],"borderTopWidth",!0),r.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-p.css(n,"marginTop",!0),left:t.left-r.left-p.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||We})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=/Y/.test(t);p.fn[e]=function(n){return Z(this,function(e,n,i){var o=sr(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[n]:e[n];o?o.scrollTo(r?p(o).scrollLeft():i,r?i:p(o).scrollTop()):e[n]=i},e,n,arguments.length,null)}}),p.each(["top","left"],function(e,t){p.cssHooks[t]=Ge(d.pixelPosition,function(e,r){if(r)return r=Ue(e,t),Fe.test(r)?p(e).position()[t]+"px":r})}),p.each({Height:"height",Width:"width"},function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){p.fn[n]=function(n,i){var o=arguments.length&&(r||"boolean"!=typeof n),a=r||(!0===n||!0===i?"margin":"border");return Z(this,function(t,r,n){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?p.css(t,r,a):p.style(t,r,n,a)},t,o?n:void 0,o,null)}})}),p.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack;var lr=e.jQuery,cr=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=cr),t&&e.jQuery===p&&(e.jQuery=lr),p},t||(e.jQuery=e.$=p),p},jquery$1.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}),jquery$1.exports;var e,t}var jqueryExports=requireJquery();const $=getDefaultExportFromCjs$1(jqueryExports),libName$1="@khanacademy/kmath",libVersion$1="2.2.4";addLibraryVersionToPerseusDebug(libName$1,libVersion$1);const DEFAULT_TOLERANCE=1e-9,EPSILON=Math.pow(2,-42);function is$2(e){return _.isNumber(e)&&!_.isNaN(e)}function equal$4(e,t,r){return null==e||null==t?e===t:e===t||(null==r&&(r=DEFAULT_TOLERANCE),Math.abs(e-t)<r)}function sign$1(e,t){return equal$4(e,0,t)?0:Math.abs(e)/e}function isInteger(e,t){return equal$4(Math.round(e),e,t)}function round$2(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}function roundTo$2(e,t){return Math.round(e/t)*t}function floorTo$2(e,t){return Math.floor(e/t)*t}function ceilTo$2(e,t){return Math.ceil(e/t)*t}function toFraction(e,t=EPSILON,r=1e3){let n=[1,0],i=[0,1],o=Math.floor(e),a=e-o;for(;i[0]<=r;){if(equal$4(n[0]/i[0],e,t))return[n[0],i[0]];n=[o*n[0]+n[1],n[0]],i=[o*i[0]+i[1],i[0]],o=Math.floor(1/a),a=1/a-o}return[e,1]}var number=Object.freeze({__proto__:null,DEFAULT_TOLERANCE:DEFAULT_TOLERANCE,EPSILON:EPSILON,ceilTo:ceilTo$2,equal:equal$4,floorTo:floorTo$2,is:is$2,isInteger:isInteger,round:round$2,roundTo:roundTo$2,sign:sign$1,toFraction:toFraction});function zip(...e){const t=Math.min(...e.map(e=>e.length)),r=[];for(let n=0;n<t;n++)r.push(e.map(e=>e[n]));return r}function equal$3(e,t,r){return e.length===t.length&&zip(e,t).every(e=>equal$4(e[0],e[1],r))}const equal$2=equal$3,KhanMath={cleanMath:function(e){return"string"==typeof e?e.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):e},bound:function(e){return 0===e?e:e<0?-KhanMath.bound(-e):Math.max(1e-6,Math.min(e,1e20))},factorial:function(e){return e<=1?e:e*KhanMath.factorial(e-1)},getGCD:function(e,t){if(arguments.length>2){const t=[].slice.call(arguments,1);return KhanMath.getGCD(e,KhanMath.getGCD(...t))}let r;for(e=Math.abs(e),t=Math.abs(t);t;)r=e%t,e=t,t=r;return e},getLCM:function(e,t){if(arguments.length>2){const t=[].slice.call(arguments,1);return KhanMath.getLCM(e,KhanMath.getLCM(...t))}return Math.abs(e*t)/KhanMath.getGCD(e,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(e){if(e<=1)return!1;if(e<101)return!!$.grep(KhanMath.primes,function(t,r){return Math.abs(t-e)<=.5}).length;if(e<=1||e>2&&e%2==0)return!1;for(let t=3,r=Math.sqrt(e);t<=r;t+=2)if(e%t===0)return!1;return!0},getPrimeFactorization:function(e){if(1===e)return[];if(KhanMath.isPrime(e))return[e];const t=Math.sqrt(e);for(let r=2;r<=t;r++)if(e%r===0)return $.merge(KhanMath.getPrimeFactorization(r),KhanMath.getPrimeFactorization(e/r))},roundToNearest:function(e,t){return Math.round(t/e)*e},roundTo:function(e,t){const r=Math.pow(10,e).toFixed(5);return Math.round((t*r).toFixed(5))/r},toFixedApprox:function(e,t){const r=e.toFixed(t);return equal$4(+r,e)?r:"\\approx "+r},roundToApprox:function(e,t){const r=KhanMath.roundTo(t,e);return equal$4(r,e)?String(r):KhanMath.toFixedApprox(e,t)},toFraction:function(e,t){if(null==t&&(t=Math.pow(2,-46)),e<0||e>1){let r=e%1;r+=r<0?1:0;const n=KhanMath.toFraction(r,t);return n[0]+=Math.round(e-r)*n[1],n}if(Math.abs(Math.round(Number(e))-e)<=t)return[Math.round(e),1];let r=0,n=1,i=1,o=1,a=1,s=2;for(;;){if(Math.abs(Number(a/s)-e)<=t)return[a,s];a/s<e?(r=a,n=s):(i=a,o=s),a=r+i,s=n+o}},getNumericFormat:function(e){if((e=(e=$.trim(e)).replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1")).match(/^[+-]?\d+$/))return"integer";if(e.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";const t=e.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":e.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":e.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(e,t){if(null==e)return"";if(0===e)return"0";if("percent"===t)return 100*e+"%";if("pi"===t){const t=toFraction(e/Math.PI),r=Math.abs(t[0]),n=t[1];if(isInteger(r)){return(e<0?"-":"")+(1===r?"":r)+""+(1===n?"":"/"+n)}}if(_(["proper","improper","mixed","fraction"]).contains(t)){const r=toFraction(e),n=Math.abs(r[0]),i=r[1],o=e<0?"-":"";if(1===i)return o+n;if("mixed"===t){const e=n%i,t=(n-e)/i;return o+(t?t+" ":"")+e+"/"+i}return o+n+"/"+i}return String(e)}};function sum(e){return e.reduce(add,0)}function add(e,t){return e+t}function sign(e){return approximateEqual(e,0)?0:e>0?1:-1}function ccw(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}function collinear$1(e,t,r){return approximateEqual(ccw(e,t,r),0)}function pointInRect(e,t,r){return r[0]<=Math.max(e[0],t[0])&&r[0]>=Math.min(e[0],t[0])&&r[1]<=Math.max(e[1],t[1])&&r[1]>=Math.min(e[1],t[1])}function intersects(e,t){const r=[[e[0],e[1],t[0]],[e[0],e[1],t[1]],[t[0],t[1],e[0]],[t[0],t[1],e[1]]],n=_.map(r,function(e){return sign(ccw(...e))});if(n[0]!==n[1]&&n[2]!==n[3])return!0;for(let i=0;i<4;i++)if(0===n[i]&&pointInRect(...r[i]))return!0;return!1}function polygonSidesIntersect(e){for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){if(equal$2(e[t],e[r]))return!0;const n=(t+1)%e.length,i=(r+1)%e.length;if(n===r||i===t)continue;if(intersects([e[t],e[n]],[e[r],e[i]]))return!0}return!1}function vector(e,t){return _.map(_.zip(e,t),function(e){return e[0]-e[1]})}function reverseVector(e){return[-e[0],-e[1]]}function clockwise$1(e){const t=_.zip(e,e.slice(1).concat(e.slice(0,1)));return sum(_.map(t,function(e){const t=e[0],r=e[1];return(r[0]-t[0])*(r[1]+t[1])}))>0}function magnitude(e){return Math.sqrt(_.reduce(e,function(e,t){return e+Math.pow(t,2)},0))}function dotProduct(e,t){return _.reduce(_.zip(e,t),function(e,t){return e+t[0]*t[1]},0)}function sideLengths(e){return _.zip(e,rotate(e)).map(function(e){return magnitude(vector(...e))})}function angleMeasures(e){const t=_.zip(rotate(e,-1),e,rotate(e,1)),r=_.map(t,function(e){const t=vector(e[1],e[0]),r=vector(e[2],e[1]),n=Math.acos(dotProduct(t,r)/(magnitude(t)*magnitude(r)));return sign(ccw(...e))>0?n:-n}),n=_.reduce(r,function(e,t){return e+t},0);return _.map(r,function(e){return n>0?Math.PI-e:Math.PI+e})}function similar$1(e,t,r){if(e.length!==t.length)return!1;const n=e.length,i=angleMeasures(e),o=angleMeasures(t),a=sideLengths(e),s=sideLengths(t);for(let l=0;l<2*n;l++){let e=o.slice(),t=s.slice();if(l>=n&&(e.reverse(),t.reverse(),t=rotate(t,1)),e=rotate(e,l),t=rotate(t,l),approximateDeepEqual(i,e)){const e=_.zip(a,t),n=_.map(e,function(e){return e[0]/e[1]}),i=_.all(n,function(e){return approximateEqual(n[0],e)}),o=_.all(e,function(e){return equal$4(e[0],e[1],r)});if(i&&o)return!0}}return!1}function lawOfCosines(e,t,r){return 180*Math.acos((e*e+t*t-r*r)/(2*e*t))/Math.PI}function canonicalSineCoefficients$1([e,t,r,n]){e<0&&(e*=-1,t*=-1,r*=-1);const i=2*Math.PI;for(t<0&&(t*=-1,r*=-1,r+=i/2);r>0;)r-=i;for(;r<0;)r+=i;return[e,t,r,n]}function rotate(e,t){return t=void 0===t?1:t%e.length,e.slice(t).concat(e.slice(0,t))}function getLineEquation(e,t){if(approximateEqual(e[0],t[0]))return"x = "+e[0].toFixed(3);const r=(t[1]-e[1])/(t[0]-e[0]),n=e[1]-r*e[0];return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}function getLineIntersection(e,t){const r=e[0][0],n=e[0][1],i=e[1][0],o=e[1][1],a=t[0][0],s=t[0][1],l=t[1][0],c=t[1][1],u=(r-i)*(s-c)-(n-o)*(a-l);if(Math.abs(u)<1e-9)return null;return[((r*o-n*i)*(a-l)-(r-i)*(a*c-s*l))/u,((r*o-n*i)*(s-c)-(n-o)*(a*c-s*l))/u]}function getLineIntersectionString(e,t){const r=getLineIntersection(e,t);if(null===r)return"Lines are parallel";const[n,i]=r;return"Intersection: ("+n.toFixed(3)+", "+i.toFixed(3)+")"}var geometry=Object.freeze({__proto__:null,angleMeasures:angleMeasures,canonicalSineCoefficients:canonicalSineCoefficients$1,ccw:ccw,clockwise:clockwise$1,collinear:collinear$1,getLineEquation:getLineEquation,getLineIntersection:getLineIntersection,getLineIntersectionString:getLineIntersectionString,intersects:intersects,lawOfCosines:lawOfCosines,magnitude:magnitude,polygonSidesIntersect:polygonSidesIntersect,reverseVector:reverseVector,rotate:rotate,sign:sign,similar:similar$1,vector:vector});function convertDegreesToRadians(e){return e/180*Math.PI}function convertRadiansToDegrees(e){const t=e/Math.PI*180;return Number(t.toPrecision(15))}function calculateAngleInDegrees([e,t]){return 180*Math.atan2(t,e)/Math.PI}function polar(e,t){return"number"==typeof e&&(e=[e,e]),t=t*Math.PI/180,[e[0]*Math.cos(t),e[1]*Math.sin(t)]}const getAngleFromVertex=(e,t)=>{const r=e[0]-t[0],n=e[1]-t[1];return r||n?(180+180*Math.atan2(-n,-r)/Math.PI+360)%360:0},getClockwiseAngle$1=(e,t=!1)=>{const r=[...e],n=!clockwise$1([r[0],r[2],r[1]])||t?r.reverse():r;return(getAngleFromVertex(n[0],n[1])+360-getAngleFromVertex(n[2],n[1]))%360};var angles=Object.freeze({__proto__:null,calculateAngleInDegrees:calculateAngleInDegrees,convertDegreesToRadians:convertDegreesToRadians,convertRadiansToDegrees:convertRadiansToDegrees,getAngleFromVertex:getAngleFromVertex,getClockwiseAngle:getClockwiseAngle$1,polar:polar});function getSinusoidCoefficients$1(e){const t=e[0],r=e[1],n=r[1]-t[1],i=Math.PI/(2*(r[0]-t[0]));return[n,i,t[0]*i,t[1]]}function getQuadraticCoefficients$1(e){const t=e[0],r=e[1],n=e[2],i=(t[0]-r[0])*(t[0]-n[0])*(r[0]-n[0]);if(0===i)return;return[(n[0]*(r[1]-t[1])+r[0]*(t[1]-n[1])+t[0]*(n[1]-r[1]))/i,(n[0]*n[0]*(t[1]-r[1])+r[0]*r[0]*(n[1]-t[1])+t[0]*t[0]*(r[1]-n[1]))/i,(r[0]*n[0]*(r[0]-n[0])*t[1]+n[0]*t[0]*(n[0]-t[0])*r[1]+t[0]*r[0]*(t[0]-r[0])*n[1])/i]}var coefficients=Object.freeze({__proto__:null,getQuadraticCoefficients:getQuadraticCoefficients$1,getSinusoidCoefficients:getSinusoidCoefficients$1});const APPROXIMATED_PI_ERROR="APPROXIMATED_PI_ERROR",CHOOSE_CORRECT_NUM_ERROR="CHOOSE_CORRECT_NUM_ERROR",EXTRA_SYMBOLS_ERROR="EXTRA_SYMBOLS_ERROR",FILL_ALL_CELLS_ERROR="FILL_ALL_CELLS_ERROR",INVALID_SELECTION_ERROR="INVALID_SELECTION_ERROR",MISSING_PERCENT_ERROR="MISSING_PERCENT_ERROR",MULTIPLICATION_SIGN_ERROR="MULTIPLICATION_SIGN_ERROR",NEEDS_TO_BE_SIMPLIFIED_ERROR="NEEDS_TO_BE_SIMPLIFIED_ERROR",NOT_NONE_ABOVE_ERROR="NOT_NONE_ABOVE_ERROR",USER_INPUT_EMPTY="USER_INPUT_EMPTY",USER_INPUT_TOO_LONG="USER_INPUT_TOO_LONG",WRONG_CASE_ERROR="WRONG_CASE_ERROR",WRONG_LETTER_ERROR="WRONG_LETTER_ERROR",ErrorCodes={APPROXIMATED_PI_ERROR:APPROXIMATED_PI_ERROR,CHOOSE_CORRECT_NUM_ERROR:CHOOSE_CORRECT_NUM_ERROR,EXTRA_SYMBOLS_ERROR:EXTRA_SYMBOLS_ERROR,FILL_ALL_CELLS_ERROR:FILL_ALL_CELLS_ERROR,INVALID_SELECTION_ERROR:INVALID_SELECTION_ERROR,MISSING_PERCENT_ERROR:MISSING_PERCENT_ERROR,MULTIPLICATION_SIGN_ERROR:MULTIPLICATION_SIGN_ERROR,NEEDS_TO_BE_SIMPLIFIED_ERROR:NEEDS_TO_BE_SIMPLIFIED_ERROR,NOT_NONE_ABOVE_ERROR:NOT_NONE_ABOVE_ERROR,USER_INPUT_EMPTY:USER_INPUT_EMPTY,USER_INPUT_TOO_LONG:USER_INPUT_TOO_LONG,WRONG_CASE_ERROR:WRONG_CASE_ERROR,WRONG_LETTER_ERROR:WRONG_LETTER_ERROR},MAXERROR_EPSILON=Math.pow(2,-42),KhanAnswerTypes={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(e,t){let r;t=_.extend({simplify:"required",ratio:!1,forms:KhanAnswerTypes.predicate.defaultForms},t),r=_.isArray(t.forms)?t.forms:t.forms.split(/\s*,\s*/),void 0===t.inexact&&(t.maxError=0),t.maxError=+t.maxError+MAXERROR_EPSILON,_.contains(r,"percent")&&(r=_.without(r,"percent"),r.push("percent"));const n=function(e){const r=(e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"")).match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),n=e.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/),i=parseInt(e,10);if(r||n){let e,i,o=!0;return r?(e=parseFloat(r[1]),i=parseFloat(r[2])):(e=parseFloat(n[2]),"-"===n[1]&&(e<0&&(o=!1),e=-e),i=parseFloat(n[3])),o=o&&i>0&&(t.ratio||1!==i)&&1===KhanMath.getGCD(e,i),[{value:e/i,exact:o}]}return isNaN(i)||""+i!==e?[]:[{value:i,exact:!0}]},i={integer:function(e){const t=i.decimal(e),r=i.decimal(e,1);return null!=t[0]?.value&&t[0].value===r[0]?.value||null!=t[1]?.value&&t[1].value===r[1]?.value?t:[]},proper:function(e){return n(e).flatMap(e=>Math.abs(e.value)<1?[e]:[])},improper:function(e){if(!(e.includes("/")||e.match(/\\(d?frac)/)))return[];return n(e).flatMap(e=>Math.abs(e.value)>=1?[e]:[])},pi:function(e){let t,r=[];if(t=(e=e.replace(/\u2212/,"-")).match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=[{value:parseFloat(t[1]+"1"),exact:!0}];else if(t=e.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=n(t[1]);else if(t=e.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){const e=parseFloat(t[1]+"1"),n=parseFloat(t[2]),i=parseFloat(t[3]),o=parseFloat(t[4]);r=[{value:e*(n+i/o),exact:i<o&&1===KhanMath.getGCD(i,o)}]}else if(t=e.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))r=n(t[1]+"/"+t[3]);else if(t=e.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))r=n(t[1]+"1/"+t[3]);else if("0"===e)r=[{value:0,exact:!0}];else{if(!(t=e.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))){r=_.reduce(KhanAnswerTypes.predicate.defaultForms.split(/\s*,\s*/),function(t,r){return t.concat(i[r](e))},[]);let t=!1;const n=parseFloat(e);if(isNaN(n)||n===parseInt(e))e.match(/\/\s*7/)&&(t=!0);else{const e=Math.PI/12,r=e*Math.round(n/e);Math.abs(n-r)<.01&&(t=!0)}return t&&_.each(r,function(e){e.piApprox=!0}),r}r=i.decimal(t[1])}let o=Math.PI;return e.match(/\\?tau|t|\u03c4/)&&(o=2*Math.PI),e.match(/pau/)&&(o=1.5*Math.PI),r.forEach(e=>{e.value*=o}),r},coefficient:function(e){let t=[];return""===(e=e.replace(/\u2212/,"-"))?t=[{value:1,exact:!0}]:"-"===e&&(t=[{value:-1,exact:!0}]),t},log:function(e){let t,r=[];return(t=(e=(e=e.replace(/\u2212/,"-")).replace(/[ \(\)]/g,"")).match(/^log\s*(\S+)\s*$/i))?r=i.decimal(t[1]):"0"===e&&(r=[{value:0,exact:!0}]),r},percent:function(e){e=String(e).trim();let t=!1;e.indexOf("%")===e.length-1&&(e=e.substring(0,e.length-1).trim(),t=!0);const r=i.decimal(e);return r.forEach(e=>{e.exact=t,e.value=e.value/100}),r},mixed:function(e){const t=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(t){const e=parseFloat(t[1]+"1"),r=parseFloat(t[2]),n=parseFloat(t[3]),i=parseFloat(t[4]);return[{value:e*(r+n/i),exact:n<i&&1===KhanMath.getGCD(n,i)}]}return[]},decimal:function(e,r=1e10){const n=function(e){const n=(e=String(e).trim()).replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),i=e.match(/^0[0,]*,/);if(n&&!i){let e=parseFloat(n[1].replace(/[, ]/g,""));return void 0===t.inexact&&(e=Math.round(e*r)/r),e}},i=[{value:n(e),exact:!0}];var o;return","===t.decimal_separator&&i.push({value:(o=e,o=o.replace(/([\.,])/g,function(e,t){return"."===t?",":"."}),n(o)),exact:!0}),i}};return function(n){const o=null!=t.fallback?""+t.fallback:"",a={empty:""===(n=String(n).trim()||o),correct:!1,message:null,guess:n};if((()=>{for(const o of r){const r=i[o](n);for(let n=0,i=r.length;n<i;n++){const i=r[n].value,s=r[n].exact,l=r[n].piApprox;if(e(i,t.maxError))return s||"optional"===t.simplify?(a.correct=!0,a.message=t.message||null,a.empty=!1):"percent"===o?(a.empty=!0,a.message=ErrorCodes.MISSING_PERCENT_ERROR):("enforced"!==t.simplify&&(a.empty=!0),a.message=ErrorCodes.NEEDS_TO_BE_SIMPLIFIED_ERROR),!1;l&&e(i,Math.abs(.001*i))&&(a.empty=!0,a.message=ErrorCodes.APPROXIMATED_PI_ERROR)}}})(),!1===a.correct){let e=!1;if(_.each(i,function(t){_.any(t(n),function(e){return null!=e.value&&!_.isNaN(e.value)})&&(e=!0)}),!e)return a.empty=!0,a.message=ErrorCodes.EXTRA_SYMBOLS_ERROR,a}return a}}},number:{convertToPredicate:function(e,t){const r=parseFloat(e);return[function(e,t){return Math.abs(e-r)<t},{...t,type:"predicate"}]},createValidatorFunctional:function(e,t){return KhanAnswerTypes.predicate.createValidatorFunctional(...KhanAnswerTypes.number.convertToPredicate(e,t))}},expression:{parseSolution:function(e,t){let r=parse$5(e,t);if(!r.parsed)throw new PerseusError("The provided solution ("+e+") didn't parse.",Errors.InvalidInput);if(t.simplified&&!r.expr.isSimplified())throw new PerseusError("The provided solution ("+e+") isn't fully expanded and simplified.",Errors.InvalidInput);return r=r.expr,r},createValidatorFunctional:function(e,t){return function(r){const n={empty:!1,correct:!1,message:null,guess:r,ungraded:!1};if(!r)return n.empty=!0,n;const i=parse$5(r,t);if(!i.parsed)return n.empty=!0,n;"string"==typeof e&&(e=KhanAnswerTypes.expression.parseSolution(e,t));const o=compare(i.expr,e,t);if(o.equal)n.correct=!0;else if(o.wrongVariableNames||o.wrongVariableCase)n.ungraded=!0,n.message=o.wrongVariableCase?ErrorCodes.WRONG_CASE_ERROR:ErrorCodes.WRONG_LETTER_ERROR,n.suppressAlmostThere=!0;else if(o.message)n.message=o.message;else{const i=parse$5(r.replace(/[xX]/g,"*"),t);if(i.parsed){const r=compare(i.expr,e,t);r.equal?(n.ungraded=!0,n.message=ErrorCodes.MULTIPLICATION_SIGN_ERROR):r.message&&(n.message=r.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return n}}}};function scoreCategorizer(e,t){if(null==e)return{type:"invalid",message:null};let r=!0;return t.values.forEach((t,n)=>{e.values[n]!==t&&(r=!1)}),{type:"points",earned:r?1:0,total:1,message:null}}function validateCategorizer(e,t){if(null==e)return{type:"invalid",message:null};return t.items.some((t,r)=>null==e.values[r])?{type:"invalid",message:ErrorCodes.INVALID_SELECTION_ERROR}:null}function scoreCSProgram(e){return null==e?{type:"invalid",message:null}:"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}function scoreDropdown(e,t){if(null==e)return{type:"invalid",message:null};return{type:"points",earned:t.choices[e.value-1].correct?1:0,total:1,message:null}}function validateDropdown(e){return null==e||0===e.value?{type:"invalid",message:null}:null}function scoreExpression(e,t,r){if(null==e)return{type:"invalid",message:null};const n=_.clone(t);if(_.extend(n,{decimal_separator:getDecimalSeparator(r)}),!parse$5(e,n).parsed)return{type:"invalid",message:ErrorCodes.EXTRA_SYMBOLS_ERROR};const i=e=>{const r=parse$5(e.value,t);if(!r.parsed)throw new PerseusError("Unable to parse solution answer for expression",Errors.InvalidInput,{metadata:{rubric:JSON.stringify(t)}});return KhanAnswerTypes.expression.createValidatorFunctional(r.expr,_({}).extend(n,{simplify:e.simplify,form:e.form}))};let o,a,s,l=!0;for(const c of t.answerForms||[]){const t=i(c);if(!t)continue;const r=t(e);if(r.correct){o=c,a=r.message||"";break}l=l&&r.empty,"correct"===c.considered&&r.ungraded&&!s&&(s=r)}return o?"ungraded"===o.considered?{type:"invalid",message:a}:{type:"points",earned:"correct"===o.considered?1:0,total:1,message:a}:s?{type:"invalid",message:s.message,suppressAlmostThere:s.suppressAlmostThere}:l?{type:"invalid",message:null}:{type:"points",earned:0,total:1}}function validateExpression(e){return""===e||null==e?{type:"invalid",message:null}:null}function getCoefficientsByType(e){if(null!=e.coords){if("exponential"===e.type||"logarithm"===e.type){return grapherUtil.functionForType(e.type).getCoefficients(e.coords,e.asymptote)}if("linear"===e.type||"quadratic"===e.type||"absolute_value"===e.type||"sinusoid"===e.type||"tangent"===e.type){return grapherUtil.functionForType(e.type).getCoefficients(e.coords)}throw new PerseusError("Invalid grapher type",Errors.InvalidInput)}}function scoreGrapher(e,t){if(null==e)return{type:"invalid",message:null};if(e.type!==t.correct.type)return{type:"points",earned:0,total:1,message:null};if(null==e.coords)return{type:"invalid",message:null};const r=grapherUtil.functionForType(e.type),n=getCoefficientsByType(e),i=getCoefficientsByType(t.correct);return null==n||null==i?{type:"invalid",message:null}:r.areEqual(n,i)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}}function scoreIframe(e){return null==e?{type:"invalid",message:null}:"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}const{collinear:collinear,canonicalSineCoefficients:canonicalSineCoefficients,similar:similar,clockwise:clockwise}=geometry,{getClockwiseAngle:getClockwiseAngle}=angles,{getSinusoidCoefficients:getSinusoidCoefficients,getQuadraticCoefficients:getQuadraticCoefficients}=coefficients;function scoreInteractiveGraph(e,t){if(null==e)return{type:"invalid",message:null};if("none"===e.type&&"none"===t.correct.type)return{type:"points",earned:0,total:0,message:null};const r=Boolean(e.coords||e.center&&e.radius);if(e.type===t.correct.type&&r)if("linear"===e.type&&"linear"===t.correct.type&&null!=e.coords){const r=e.coords,n=t.correct.coords;if(collinear(n[0],n[1],r[0])&&collinear(n[0],n[1],r[1]))return{type:"points",earned:1,total:1,message:null}}else if("linear-system"===e.type&&"linear-system"===t.correct.type&&null!=e.coords){const r=e.coords,n=t.correct.coords;if(collinear(n[0][0],n[0][1],r[0][0])&&collinear(n[0][0],n[0][1],r[0][1])&&collinear(n[1][0],n[1][1],r[1][0])&&collinear(n[1][0],n[1][1],r[1][1])||collinear(n[0][0],n[0][1],r[1][0])&&collinear(n[0][0],n[0][1],r[1][1])&&collinear(n[1][0],n[1][1],r[0][0])&&collinear(n[1][0],n[1][1],r[0][1]))return{type:"points",earned:1,total:1,message:null}}else if("quadratic"===e.type&&"quadratic"===t.correct.type&&null!=e.coords){if(approximateDeepEqual(getQuadraticCoefficients(e.coords),getQuadraticCoefficients(t.correct.coords)))return{type:"points",earned:1,total:1,message:null}}else if("sinusoid"===e.type&&"sinusoid"===t.correct.type&&null!=e.coords){const r=getSinusoidCoefficients(e.coords),n=getSinusoidCoefficients(t.correct.coords);if(approximateDeepEqual(canonicalSineCoefficients(r),canonicalSineCoefficients(n)))return{type:"points",earned:1,total:1,message:null}}else if("circle"===e.type&&"circle"===t.correct.type){if(approximateDeepEqual(e.center,t.correct.center)&&approximateEqual(e.radius,t.correct.radius))return{type:"points",earned:1,total:1,message:null}}else if("point"===e.type&&"point"===t.correct.type&&null!=e.coords){let r=t.correct.coords;if(null==r)throw new Error("Point graph rubric has null coords");const n=e.coords.slice();if(r=r.slice(),n?.sort(),r.sort(),approximateDeepEqual(n,r))return{type:"points",earned:1,total:1,message:null}}else if("polygon"===e.type&&"polygon"===t.correct.type&&null!=e.coords){const r=e.coords.slice(),n=t.correct.coords.slice();let i;if("similar"===t.correct.match?i=similar(r,n,Number.POSITIVE_INFINITY):"congruent"===t.correct.match?i=similar(r,n,number.DEFAULT_TOLERANCE):"approx"===t.correct.match?i=similar(r,n,.1):(r.sort(),n.sort(),i=approximateDeepEqual(r,n)),i)return{type:"points",earned:1,total:1,message:null}}else if("segment"===e.type&&"segment"===t.correct.type&&null!=e.coords){let r=deepClone(e.coords),n=deepClone(t.correct.coords);if(r=_.invoke(r,"sort").sort(),n=_.invoke(n,"sort").sort(),approximateDeepEqual(r,n))return{type:"points",earned:1,total:1,message:null}}else if("ray"===e.type&&"ray"===t.correct.type&&null!=e.coords){const r=e.coords,n=t.correct.coords;if(approximateDeepEqual(r[0],n[0])&&collinear(n[0],n[1],r[1]))return{type:"points",earned:1,total:1,message:null}}else if("angle"===e.type&&"angle"===t.correct.type){const r=e.coords,n=t.correct.coords,i=t.correct.allowReflexAngles;if(!r)return{type:"invalid",message:null};const o=clockwise([r[0],r[2],r[1]])&&!i?r.slice().reverse():r;let a;if("congruent"===t.correct.match){a=approximateEqual(..._.map([o,n],function(e){if(!e)return!1;return getClockwiseAngle(e,i)}))}else a=approximateDeepEqual(o[1],n[1])&&collinear(n[1],n[0],o[0])&&collinear(n[1],n[2],o[2]);if(a)return{type:"points",earned:1,total:1,message:null}}return!r||_.isEqual(e,t.graph)?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}function scoreLabelImageMarker(e,t){const r={hasAnswers:!1,isCorrect:!1};return e&&e.length>0&&(r.hasAnswers=!0),t.length>0?e&&e.length===t.length&&(r.isCorrect=e.every(e=>t.includes(e))):e&&0!==e.length||(r.isCorrect=!0),r}function scoreLabelImage(e,t){if(null==e)return{type:"invalid",message:null};let r=0;for(let n=0;n<e.markers.length;n++){scoreLabelImageMarker(e.markers[n].selected,t.markers[n].answers).isCorrect&&r++}return{type:"points",earned:r===e.markers.length?1:0,total:1,message:null}}function scoreMatcher(e,t){if(null==e)return{type:"invalid",message:null};return{type:"points",earned:_.isEqual(e.left,t.left)&&_.isEqual(e.right,t.right)?1:0,total:1,message:null}}function scoreMatrix(e,t){if(null==e)return{type:"invalid",message:null};const r=t.answers,n=e.answers,i=getMatrixSize(r),o=getMatrixSize(n),a=i[0]!==o[0]||i[1]!==o[1],s=KhanAnswerTypes.number.createValidatorFunctional;let l=null,c=!1;return _(o[0]).times(e=>{_(o[1]).times(t=>{if(!a){const i=s(r[e][t],{simplify:!0})(n[e][t]);i.message&&(l=i.message),i.correct||(c=!0)}})}),a?{type:"points",earned:0,total:1,message:null}:{type:"points",earned:c?0:1,total:1,message:l}}function validateMatrix(e){if(null==e)return{type:"invalid",message:null};const t=e.answers,r=getMatrixSize(t);for(let n=0;n<r[0];n++)for(let e=0;e<r[1];e++){const r=t[n],i=r?.[e];if(null==i||0===i.toString().length)return{type:"invalid",message:ErrorCodes.FILL_ALL_CELLS_ERROR}}return null}function scoreNumberLine(e,t){if(null==e)return{type:"invalid",message:null};const r=t.divisionRange,n=e.numDivisions>r[1]||e.numDivisions<r[0];if(t.isTickCtrl&&n)return{type:"invalid",message:"Number of divisions is outside the allowed range."};const i=t.range,o=null!=t.initialX?t.initialX:i[0],a=t.isInequality?"ge":"eq",s=t.correctRel||"eq";return number.equal(e.numLinePosition,t.correctX||0)&&s===e.rel?{type:"points",earned:1,total:1,message:null}:e.numLinePosition===o&&e.rel===a?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}function findEndpoint(e,t){let r=0;for(let n=t,i=e.length;n<i;n++){const t=e[n];if("{"===t?r++:"}"===t&&r--,r<0)return n}return e.length}function parseNextExpression(e,t,r){const n=e.indexOf("{",t);if(-1===n)return{endpoint:e.length,expression:""};const i=n+1,o=findEndpoint(e,i);return{endpoint:o,expression:walkTex(e.substring(i,o),r)}}function getNextFracIndex(e,t){const r=e.indexOf("\\frac",t),n=e.indexOf("\\dfrac",t);return r>-1&&n>-1?Math.min(r,n):r>-1?r:n>-1?n:-1}function walkTex(e,t){if(!e)return"";let r="",n=0,i=getNextFracIndex(e,n);for(;i>-1;){r+=e.substring(n,i),n=i;const o=parseNextExpression(e,n,t);n=o.endpoint+1;const a=parseNextExpression(e,n,t);n=a.endpoint+1,r.length&&(r+=" "),r+=t(o.expression,a.expression),i=getNextFracIndex(e,n)}return r+=e.slice(n),r}function parseTex(e){return walkTex(e,function(e,t){return e+"/"+t}).replace("\\%","%")}const answerFormButtons=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:""},{title:"Improper fractions",value:"improper",content:""},{title:"Mixed numbers",value:"mixed",content:"1"},{title:"Numbers with ",value:"pi",content:""}];function maybeParsePercentInput(e,t){if("string"!=typeof e||!e.endsWith("%"))return e;const r=parseFloat(e.slice(0,-1));return isNaN(r)?e:t?r/100:r}function scoreNumericInput(e,t,r){if(null==e)return{type:"invalid",message:null};const n=answerFormButtons.map(e=>e.value).filter(e=>"pi"!==e),i=parseTex(e.currentValue),o=t.answers.filter(e=>"correct"===e.status).every(e=>null!=e.value&&Math.abs(e.value)<=1);let a=i;t.coefficient&&(a?"-"===a&&(a=-1):a=1);const s=t.answers.map(e=>{const t=(e=>{const t=`${e.value}`,i=[...e.answerForms??[]];return e.strict&&0!==i.length||i.push(...n),KhanAnswerTypes.number.createValidatorFunctional(t,{message:e.message,simplify:"correct"===e.status?e.simplify:"optional",inexact:!0,maxError:e.maxError,forms:i,...r&&{decimal_separator:getDecimalSeparator(r)}})})(e),i=t(maybeParsePercentInput(a,o));return{...e,score:i}}).find(e=>e.score.correct||"correct"===e.status&&e.score.empty),l="correct"===s?.status?s.score:{empty:"ungraded"===s?.status,correct:"correct"===s?.status,message:s?.message??null};return l.empty?{type:"invalid",message:l.message}:{type:"points",earned:l.correct?1:0,total:1,message:l.message}}function scoreOrderer(e,t){if(null==e)return{type:"invalid",message:null};return{type:"points",earned:_.isEqual(e.current,t.correctOptions.map(e=>e.content))?1:0,total:1,message:null}}function validateOrderer(e){return null==e||0===e.current.length?{type:"invalid",message:null}:null}function scorePlotter(e,t){return{type:"points",earned:approximateDeepEqual(e,t.correct)?1:0,total:1,message:null}}function validatePlotter(e,t){return null==e||approximateDeepEqual(e,t.starting)?{type:"invalid",message:null}:null}function scoreRadio(e,t){if(null==e)return{type:"invalid",message:null};if(e.selectedChoiceIds.filter(e=>!t.choices.some(t=>t.id===e)).length>0)return{type:"invalid",message:"Invalid choice selection"};const r=e.selectedChoiceIds.length,n=t.choices.reduce((e,t)=>t.correct?e+1:e,0);if(n>1&&r!==n&&t.countChoices)return{type:"invalid",message:ErrorCodes.CHOOSE_CORRECT_NUM_ERROR};if(t.choices.some(t=>t.isNoneOfTheAbove&&e.selectedChoiceIds.includes(t.id))&&r>1)return{type:"invalid",message:ErrorCodes.NOT_NONE_ABOVE_ERROR};return{type:"points",earned:t.choices.every(t=>{const r=e.selectedChoiceIds.includes(t.id);return!!t.correct===r})?1:0,total:1,message:null}}function validateRadio(e){return null==e||0===e.selectedChoiceIds.length?{type:"invalid",message:null}:null}function scoreSorter(e,t){return{type:"points",earned:approximateDeepEqual(e.options,t.correct)?1:0,total:1,message:null}}function validateSorter(e){return e?.changed?null:{type:"invalid",message:null}}const filterNonEmpty=function(e){return e.filter(function(e){return e.some(e=>e)})};function validateTable(e){const t=filterNonEmpty(e);return t.some(function(e){return e.some(function(e){return""===e})})||!t.length?{type:"invalid",message:null}:null}function scoreTable(e,t){const r=validateTable(e);if(null!=r)return r;const n=filterNonEmpty(e),i=filterNonEmpty(t.answers);if(n.length!==i.length)return{type:"points",earned:0,total:1,message:null};const o=KhanAnswerTypes.number.createValidatorFunctional;let a=null;return{type:"points",earned:i.every(function(e){for(let t=0;t<n.length;t++){if(n[t].every(function(t,r){const n=e[r],i=o(n,{simplify:!0})(t);return i.message&&(a=i.message),i.correct}))return n.splice(t,1),!0}return!1})?1:0,total:1,message:a}}const inputNumberAnswerTypes={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}};function scoreInputNumber(e,t,r){if(null==e)return{type:"invalid",message:null};null==t.answerType&&(t.answerType="number");const n=`${t.value}`,i=KhanAnswerTypes.number.createValidatorFunctional(n,{simplify:t.simplify,inexact:t.inexact||void 0,maxError:t.maxError,forms:inputNumberAnswerTypes[t.answerType].forms,...r&&{decimal_separator:getDecimalSeparator(r)}})(parseTex(e.currentValue));return i.empty?{type:"invalid",message:i.message}:{type:"points",earned:i.correct?1:0,total:1,message:i.message}}function scoreNoop(e=0){return{type:"points",earned:e,total:e,message:null}}function scoreFreeResponse(e,t,r){return scoreNoop()}function validateFreeResponse(e,t){const r=e?.currentValue.trim().length??0;return 0===r?{type:"invalid",message:ErrorCodes.USER_INPUT_EMPTY}:!t.allowUnlimitedCharacters&&r>t.characterLimit?{type:"invalid",message:ErrorCodes.USER_INPUT_TOO_LONG}:null}function scoreGroup(e,t,r){if(null==e)return{type:"invalid",message:null};return flattenScores(scoreWidgetsFunctional(t.widgets,Object.keys(t.widgets),e,r))}function emptyWidgetsFunctional(e,t,r,n){return t.filter(t=>{const i=e[t];if(!i||!0===i.static)return!1;const o=getWidgetValidator(i.type),a=r[t],s=i.options,l=o?.(a,s,n);return!!l&&scoreIsEmpty(l)})}function validateGroup(e,t,r){if(null==e)return{type:"invalid",message:null};return 0===emptyWidgetsFunctional(t.widgets,Object.keys(t.widgets),e,r).length?null:{type:"invalid",message:null}}function validateLabelImage(e){if(null==e)return{type:"invalid",message:null};let t=0;for(let r=0;r<e.markers.length;r++){const n=e.markers[r].selected;n&&n.length>0&&t++}return t!==e.markers.length?{type:"invalid",message:null}:null}function validateMockWidget(e){return null==e?.currentValue||""===e.currentValue?{type:"invalid",message:""}:null}function scoreMockWidget(e,t){const r=validateMockWidget(e);return null!=r?r:{type:"points",earned:e?.currentValue===t.value?1:0,total:1,message:""}}const widgets=new Registry("Score widget registry");function registerWidget(e,t,r){const n={scorer:t,validator:r};widgets.set(e,n)}const getWidgetValidator=e=>widgets.get(e)?.validator??null,getWidgetScorer=e=>widgets.get(e)?.scorer??null;registerWidget("categorizer",scoreCategorizer,validateCategorizer),registerWidget("cs-program",scoreCSProgram),registerWidget("dropdown",scoreDropdown,validateDropdown),registerWidget("expression",scoreExpression,validateExpression),registerWidget("free-response",scoreFreeResponse,validateFreeResponse),registerWidget("grapher",scoreGrapher),registerWidget("group",scoreGroup,validateGroup),registerWidget("iframe",scoreIframe),registerWidget("input-number",scoreInputNumber),registerWidget("interactive-graph",scoreInteractiveGraph),registerWidget("label-image",scoreLabelImage,validateLabelImage),registerWidget("matcher",scoreMatcher),registerWidget("matrix",scoreMatrix,validateMatrix),registerWidget("mock-widget",scoreMockWidget,scoreMockWidget),registerWidget("number-line",scoreNumberLine),registerWidget("numeric-input",scoreNumericInput),registerWidget("orderer",scoreOrderer,validateOrderer),registerWidget("plotter",scorePlotter,validatePlotter),registerWidget("radio",scoreRadio,validateRadio),registerWidget("sorter",scoreSorter,validateSorter),registerWidget("table",scoreTable,validateTable),registerWidget("deprecated-standin",()=>scoreNoop(1)),registerWidget("measurer",()=>scoreNoop(1)),registerWidget("definition",scoreNoop),registerWidget("explanation",scoreNoop),registerWidget("image",scoreNoop),registerWidget("interaction",scoreNoop),registerWidget("molecule",scoreNoop),registerWidget("passage",scoreNoop),registerWidget("passage-ref",scoreNoop),registerWidget("passage-ref-target",scoreNoop),registerWidget("video",scoreNoop);const noScore={type:"points",earned:0,total:0,message:null};function scoreIsEmpty(e){return"invalid"===e.type&&(!e.message||0===e.message.length)}function combineScores(e,t){let r;if("points"===e.type&&"points"===t.type)return r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"points",earned:e.earned+t.earned,total:e.total+t.total,message:r};if("points"===e.type&&"invalid"===t.type)return t;if("invalid"===e.type&&"points"===t.type)return e;if("invalid"===e.type&&"invalid"===t.type)return r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"invalid",message:r};throw new PerseusError("PerseusScore with unknown type encountered",Errors.InvalidInput,{metadata:{scoreA:JSON.stringify(e),scoreB:JSON.stringify(t)}})}function flattenScores(e){return Object.values(e).reduce(combineScores,noScore)}function scorePerseusItem(e,t,r){const n=getWidgetIdsFromContent(e.content);return flattenScores(scoreWidgetsFunctional(e.widgets,n,t,r))}function scoreWidgetsFunctional(e,t,r,n){const i=applyDefaultsToWidgets(e),o=t.filter(e=>{const t=i[e];return(null==t?.graded||t.graded)&&!!!t?.static}),a={};return o.forEach(e=>{const t=i[e];if(!t)return;const o=r[e],s=getWidgetValidator(t.type),l=getWidgetScorer(t.type),c=s?.(o,t.options,n)??l?.(o,t.options,n);null!=c&&(a[e]=c)}),a}function flatten$2(e){const t=[];if(!e)return t;if(Array.isArray(e))for(const r of e)t.push(...flatten$2(r));else t.push(e);return t}function processStyleList$1(e){const t=[],r=[];if(!e)return{style:{},className:""};const n="undefined"!=typeof global&&global.SNAPSHOT_INLINE_APHRODITE;flatten$2(e).forEach(e=>{const i=e._definition;if(null!=i)if(n){const e={};for(const[t,r]of Object.entries(i))e[t.replace(/-[a-z]/g,e=>e[1].toUpperCase())]=r;r.push(e)}else t.push(e);else r.push(e)});const i=Object.assign({},...r);if(r.length>0&&!n){const e=StyleSheet.create({inlineStyles:i});t.push(e.inlineStyles)}return{style:n?i:{},className:css(...t)}}const isHeaderRegex$1=/^h[1-6]$/,styles$1$j=StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}}),Text$4=reactExports.forwardRef(function({children:e,style:t,tag:r="span",testId:n,...i},o){const a=isHeaderRegex$1.test(r),s=processStyleList$1([styles$1$j.text,a&&styles$1$j.header,t]),l=i.className?[i.className,s.className].join(" "):s.className;return jsxRuntimeExports$1.jsx(r,{...i,style:s.style,className:l,"data-testid":n,ref:o,children:e})});function addStyle$1(e,t){return reactExports.forwardRef((r,n)=>{const{className:i,style:o,...a}=r,s="string"==typeof e?overrides$1[e]:null,{className:l,style:c}=processStyleList$1([s,t,o]);return jsxRuntimeExports$1.jsx(e,{...a,ref:n,className:[l,i].filter(Boolean).join(" "),style:c})})}const overrides$1=StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),styles$E=StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),View$2=reactExports.forwardRef(function(e,t){const{testId:r,tag:n="div",...i}=e,o={...i,"data-testid":r},a=reactExports.useMemo(()=>addStyle$1(n,styles$E.default),[n]);return jsxRuntimeExports$1.jsx(a,{...o,ref:t})});var RenderStateInternal=function(e){return e.Root="root",e.Initial="initial",e.Standard="standard",e}({});const RenderStateContext$1=reactExports.createContext("root");RenderStateContext$1.displayName="RenderStateContext";const Id=({id:e,children:t})=>{const r=reactExports.useId();return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:t(e??r)})};function useLatestRef(e){const t=reactExports.useRef(e);return t.current=e,t}const useOnMountEffect=e=>{const t=reactExports.useRef(!0);reactExports.useEffect(()=>{const r=e(t);return()=>{r?.(),t.current=!1}},[])},{useEffect:useEffect,useState:useState,useContext:useContext}=$2AODx$react,RenderStateRoot=({children:e,throwIfNested:t=!0})=>{const[r,n]=useState(!0),i=useContext(RenderStateContext$1);if(useEffect(()=>{n(!1)},[]),i!==RenderStateInternal.Root){if(t)throw new Error("There's already a <RenderStateRoot> above this instance in the render tree.  This instance should be removed.");return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:e})}const o=r?RenderStateInternal.Initial:RenderStateInternal.Standard;return jsxRuntimeExports$1.jsx(RenderStateContext$1.Provider,{value:o,children:e})},keys$1={enter:"Enter",escape:"Escape",tab:"Tab",space:" ",up:"ArrowUp",down:"ArrowDown"},color6Regexp$2=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,color3Regexp$2=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,rgbaRegexp$2=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,parse$3=e=>{if("string"!=typeof e)throw new Error(`Failed to parse color: ${e}`);const t=e.match(color3Regexp$2);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const r=e.match(color6Regexp$2);if(r)return{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1};const n=e.match(rgbaRegexp$2);if(n)return{r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:n[4]?parseFloat(n[4]):1};throw new Error(`Failed to parse color: ${e}`)},format$2=e=>{const t=Math.round(e.r),r=Math.round(e.g),n=Math.round(e.b);if(1===e.a){const e=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t};return`#${e(t)}${e(r)}${e(n)}`}return`rgba(${t},${r},${n},${e.a.toFixed(2)})`},fade$2=(e,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const r=parse$3(e);return format$2({...r,a:r.a*t})},mix$2=(e,t)=>{const r=parse$3(e),n=parse$3(t);return format$2({r:r.r*r.a+n.r*(1-r.a),g:r.g*r.a+n.g*(1-r.a),b:r.b*r.a+n.b*(1-r.a),a:n.a})},offBlack$2="#21242c",white$1$2="#ffffff",eggplant$2="#5f1e5c",baseColors$2={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:offBlack$2,offBlack64:fade$2(offBlack$2,.64),offBlack50:fade$2(offBlack$2,.5),offBlack32:fade$2(offBlack$2,.32),offBlack16:fade$2(offBlack$2,.16),offBlack8:fade$2(offBlack$2,.08),offWhite:"#f7f8fa",white:white$1$2,white64:fade$2(white$1$2,.64),white50:fade$2(white$1$2,.5),white32:fade$2(white$1$2,.32),darkBlue:"#0b2149",teal:"#14bf96"},fadedColorWithWhite$2=(e,t)=>mix$2(fade$2(e,t),baseColors$2.white),color$1$2={...baseColors$2,activeBlue:mix$2(baseColors$2.offBlack32,baseColors$2.blue),fadedBlue:fadedColorWithWhite$2(baseColors$2.blue,.32),fadedBlue24:fadedColorWithWhite$2(baseColors$2.blue,.24),fadedBlue16:fadedColorWithWhite$2(baseColors$2.blue,.16),fadedBlue8:fadedColorWithWhite$2(baseColors$2.blue,.08),activeRed:mix$2(baseColors$2.offBlack32,baseColors$2.red),fadedRed:fadedColorWithWhite$2(baseColors$2.red,.32),fadedRed24:fadedColorWithWhite$2(baseColors$2.red,.24),fadedRed16:fadedColorWithWhite$2(baseColors$2.red,.16),fadedRed8:fadedColorWithWhite$2(baseColors$2.red,.08),activeGreen:mix$2(baseColors$2.offBlack32,baseColors$2.green),fadedGreen24:fadedColorWithWhite$2(baseColors$2.green,.24),fadedGreen16:fadedColorWithWhite$2(baseColors$2.green,.16),fadedGreen8:fadedColorWithWhite$2(baseColors$2.green,.08),activeGold:mix$2(baseColors$2.offBlack32,baseColors$2.gold),fadedGold24:fadedColorWithWhite$2(baseColors$2.gold,.24),fadedGold16:fadedColorWithWhite$2(baseColors$2.gold,.16),fadedGold8:fadedColorWithWhite$2(baseColors$2.gold,.08),fadedPurple24:fadedColorWithWhite$2(baseColors$2.purple,.24),fadedPurple16:fadedColorWithWhite$2(baseColors$2.purple,.16),fadedPurple8:fadedColorWithWhite$2(baseColors$2.purple,.08),eggplant:eggplant$2,fadedEggplant8:fadedColorWithWhite$2(eggplant$2,.08),fadedOffBlack72:fadedColorWithWhite$2(offBlack$2,.72),fadedOffBlack64:fadedColorWithWhite$2(offBlack$2,.64),fadedOffBlack50:fadedColorWithWhite$2(offBlack$2,.5),fadedOffBlack32:fadedColorWithWhite$2(offBlack$2,.32),fadedOffBlack16:fadedColorWithWhite$2(offBlack$2,.16),fadedOffBlack8:fadedColorWithWhite$2(offBlack$2,.08)},spacing$2={xxxxSmall_2:2,xxxSmall_4:4,xxSmall_6:6,xSmall_8:8,small_12:12,medium_16:16,large_24:24,xLarge_32:32,xxxLarge_64:64},width$3={xsMax:567,smMax:681,mdMax:1023,lgMin:1024},mediaQuery$2={xl:`@media screen and (min-width: ${width$3.lgMin}px) /* breakpoint.mediaQuery.xl */`,smOrSmaller:`@media screen and (max-width: ${width$3.smMax}px) /* breakpoint.mediaQuery.smOrSmaller */`,mdOrSmaller:`@media screen and (max-width: ${width$3.mdMax}px) /* breakpoint.mediaQuery.mdOrSmaller */`},breakpoint$2={width:width$3,mediaQuery:mediaQuery$2},BASELINE_VALUE$2=10;function remToPx$2(e,t=BASELINE_VALUE$2){const r=parseFloat(e);return`${Math.round(r*t)}px`}function pxToRem$2(e,t=BASELINE_VALUE$2){return e/t+"rem"}function mapValuesToCssVars$2(e,t="--wb-"){const r={};for(const n in e)"object"==typeof e[n]?r[n]=mapValuesToCssVars$2(e[n],`${t}${n}-`):r[n]=`var(${t}${n})`;return r}const CSS_VAR_PREFIX$2="--wb-",sizing$1$2={size_0:pxToRem$2(0),size_010:pxToRem$2(1),size_020:pxToRem$2(2),size_040:pxToRem$2(4),size_060:pxToRem$2(6),size_080:pxToRem$2(8),size_100:pxToRem$2(10),size_120:pxToRem$2(12),size_140:pxToRem$2(14),size_160:pxToRem$2(16),size_180:pxToRem$2(18),size_200:pxToRem$2(20),size_220:pxToRem$2(22),size_240:pxToRem$2(24),size_260:pxToRem$2(26),size_280:pxToRem$2(28),size_320:pxToRem$2(32),size_360:pxToRem$2(36),size_400:pxToRem$2(40),size_440:pxToRem$2(44),size_480:pxToRem$2(48),size_560:pxToRem$2(56),size_640:pxToRem$2(64),size_720:pxToRem$2(72),size_800:pxToRem$2(80),size_880:pxToRem$2(88),size_960:pxToRem$2(96)},fontFamily$2={sans:'Lato, "Noto Sans", sans-serif',serif:'"Noto Serif", serif',mono:"Inconsolata, monospace"},fontWeight$2={light:300,regular:400,bold:700,black:900},font$1$2={family:{sans:fontFamily$2.sans,serif:fontFamily$2.serif,mono:fontFamily$2.mono},size:{xxxLarge:sizing$1$2.size_360,xxLarge:sizing$1$2.size_280,xLarge:sizing$1$2.size_240,large:sizing$1$2.size_200,medium:sizing$1$2.size_160,small:sizing$1$2.size_140,xSmall:sizing$1$2.size_120},lineHeight:{xxxLarge:sizing$1$2.size_400,xxLarge:sizing$1$2.size_320,xLarge:sizing$1$2.size_280,large:sizing$1$2.size_240,xMedium:sizing$1$2.size_220,medium:sizing$1$2.size_200,small:sizing$1$2.size_180,xSmall:sizing$1$2.size_160},weight:{light:fontWeight$2.light,regular:fontWeight$2.regular,medium:fontWeight$2.regular,semi:fontWeight$2.regular,bold:fontWeight$2.bold,black:fontWeight$2.black},body:{size:{xsmall:sizing$1$2.size_120,small:sizing$1$2.size_140,medium:sizing$1$2.size_160},lineHeight:{xsmall:sizing$1$2.size_160,small:sizing$1$2.size_180,medium:sizing$1$2.size_200,large:sizing$1$2.size_220}},heading:{size:{small:sizing$1$2.size_120,medium:sizing$1$2.size_200,large:sizing$1$2.size_240,xlarge:sizing$1$2.size_280,xxlarge:sizing$1$2.size_360},lineHeight:{small:sizing$1$2.size_160,medium:sizing$1$2.size_240,large:sizing$1$2.size_280,xlarge:sizing$1$2.size_320,xxlarge:sizing$1$2.size_400}},textDecoration:{underlineOffset:sizing$1$2.size_020,thickness:sizing$1$2.size_010}},black$2="#191918",color$3={orange_80:"#FEE9E5",orange_60:"#FEBFB1",orange_30:"#F8551A",orange_10:"#983C1A",yellow_60:"#FEE7AD",yellow_50:"#FDD673",yellow_30:"#FCB706",yellow_10:"#966B00",green_60:"#BCEBBB",green_50:"#97D38E",green_30:"#579F6C",cyan_80:"#DDF0FE",cyan_60:"#A9DAFD",cyan_30:"#28A9FF",cyan_20:"#2485C7",cyan_10:"#20628F",magenta_90:"#FCEEF7",magenta_80:"#FFE3F4",magenta_60:"#F9BBE1",magenta_30:"#E83FA4",magenta_10:"#84275E",gray_60:"#CBCBCD",gray_50:"#B5B6B9",gray_20:"#717279",gray_10:"#4A4C53",black_50:fade$2(black$2,.5)},transparent$2="transparent",transparentShadowColor$2=color$1$2.offBlack16,core$2={transparent:transparent$2,border:{instructive:{subtle:color$1$2.fadedBlue,default:color$1$2.blue,strong:color$1$2.activeBlue},neutral:{subtle:color$1$2.fadedOffBlack16,default:color$1$2.fadedOffBlack50,strong:color$1$2.fadedOffBlack72},critical:{subtle:color$1$2.fadedRed24,default:color$1$2.red,strong:color$1$2.activeRed},success:{subtle:color$1$2.fadedGreen24,default:color$1$2.green,strong:color$1$2.activeGreen},warning:{subtle:color$1$2.fadedGold24,default:color$1$2.gold,strong:color$1$2.activeGold},disabled:{subtle:transparent$2,default:color$1$2.fadedOffBlack16,strong:color$1$2.fadedOffBlack32},knockout:{default:color$1$2.white}},background:{base:{subtle:color$1$2.offWhite,default:color$1$2.white,strong:color$1$2.fadedBlue16},instructive:{subtle:color$1$2.fadedBlue8,default:color$1$2.blue,strong:color$1$2.activeBlue},neutral:{subtle:color$1$2.fadedOffBlack8,default:color$1$2.fadedOffBlack72,strong:color$1$2.offBlack},critical:{subtle:color$1$2.fadedRed8,default:color$1$2.red,strong:color$1$2.activeRed},success:{subtle:color$1$2.fadedGreen8,default:color$1$2.green,strong:color$1$2.activeGreen},warning:{subtle:color$1$2.fadedGold8,default:color$1$2.gold,strong:color$1$2.activeGold},disabled:{subtle:transparent$2,default:color$1$2.fadedOffBlack8,strong:color$1$2.fadedOffBlack16},overlay:{default:color$1$2.offBlack50}},foreground:{instructive:{subtle:color$1$2.blue,default:color$1$2.activeBlue,strong:color$1$2.offBlack},neutral:{subtle:color$1$2.fadedOffBlack64,default:color$1$2.fadedOffBlack72,strong:color$1$2.offBlack},critical:{subtle:color$1$2.red,default:color$1$2.activeRed,strong:color$1$2.offBlack},success:{subtle:color$1$2.green,default:color$1$2.activeGreen,strong:color$1$2.offBlack},warning:{subtle:color$1$2.gold,default:color$1$2.activeGold,strong:color$1$2.offBlack},disabled:{subtle:color$1$2.fadedOffBlack16,default:color$1$2.fadedOffBlack32,strong:color$1$2.fadedOffBlack50},knockout:{default:color$1$2.white}},shadow:{transparent:{low:transparentShadowColor$2,mid:transparentShadowColor$2,high:transparentShadowColor$2},chonky:{instructive:{subtle:color$1$2.fadedBlue,default:color$1$2.activeBlue},neutral:{subtle:color$1$2.fadedOffBlack32,default:color$1$2.fadedOffBlack50,strong:color$1$2.offBlack}}}},sharedFeedbackStrongTokens$2={background:core$2.background.neutral.strong,border:core$2.border.neutral.strong,text:core$2.foreground.knockout.default},semanticColor$1$2={core:core$2,learning:{math:{foreground:{blue:"#3D7586",gold:"#946700",green:"#447A53",gray:"#5D5F66",grayH:"#3B3D45",grayI:"#21242C",purple:"#594094",purpleD:"#8351E8",pink:"#B25071",red:"#D92916"}},background:{gems:{subtle:color$3.magenta_90,default:color$3.magenta_80,strong:color$3.magenta_10},due:{subtle:color$3.cyan_80,default:color$3.cyan_60,strong:color$3.cyan_10},streaks:{subtle:color$3.orange_80,default:color$3.orange_60,strong:color$3.orange_10},progress:{notStarted:{default:color$3.gray_60},attempted:{default:color$3.yellow_60},complete:{default:color$3.green_60}}},border:{gems:{subtle:color$3.magenta_80,default:color$3.magenta_60,strong:color$3.magenta_30},streaks:{subtle:color$3.orange_80,default:color$3.orange_60,strong:color$3.orange_30},due:{subtle:color$3.cyan_80,default:color$3.cyan_60,strong:color$3.cyan_30}},foreground:{gems:{subtle:color$3.magenta_60,default:color$3.magenta_30,strong:color$3.magenta_10},streaks:{subtle:color$3.orange_60,default:color$3.orange_30,strong:color$3.orange_10},due:{subtle:color$3.cyan_60,default:color$3.cyan_20,strong:color$3.cyan_10},progress:{notStarted:{subtle:color$3.gray_50,strong:color$3.gray_10},attempted:{subtle:color$3.yellow_50,strong:color$3.yellow_10},complete:{strong:color$3.green_50}}},shadow:{progress:{notStarted:{default:color$3.gray_20},attempted:{default:color$3.yellow_30},complete:{default:color$3.green_30}}}},action:{primary:{progressive:{default:{border:core$2.transparent,background:core$2.background.instructive.default,foreground:core$2.foreground.knockout.default},hover:{border:core$2.border.instructive.default,background:core$2.background.instructive.default,foreground:core$2.foreground.knockout.default},press:{border:core$2.border.instructive.strong,background:core$2.background.instructive.strong,foreground:core$2.foreground.knockout.default}},destructive:{default:{border:core$2.transparent,background:core$2.background.critical.default,foreground:core$2.foreground.knockout.default},hover:{border:core$2.border.critical.default,background:core$2.background.critical.default,foreground:core$2.foreground.knockout.default},press:{border:core$2.border.critical.strong,background:core$2.background.critical.strong,foreground:core$2.foreground.knockout.default}},neutral:{default:{border:core$2.transparent,background:core$2.background.neutral.default,foreground:core$2.foreground.knockout.default},hover:{border:core$2.border.neutral.default,background:core$2.background.neutral.default,foreground:core$2.foreground.knockout.default},press:{border:core$2.border.neutral.strong,background:core$2.background.neutral.strong,foreground:core$2.foreground.knockout.default}},disabled:{border:core$2.border.disabled.strong,background:core$2.border.disabled.strong,foreground:core$2.foreground.knockout.default}},secondary:{progressive:{default:{border:core$2.border.neutral.default,background:core$2.transparent,foreground:core$2.foreground.instructive.subtle},hover:{border:core$2.border.instructive.default,background:core$2.transparent,foreground:core$2.foreground.instructive.subtle},press:{border:core$2.border.instructive.strong,background:core$2.background.instructive.subtle,foreground:core$2.foreground.instructive.default}},destructive:{default:{border:core$2.border.neutral.default,background:core$2.transparent,foreground:core$2.foreground.critical.subtle},hover:{border:core$2.border.critical.default,background:core$2.transparent,foreground:core$2.foreground.critical.subtle},press:{border:core$2.border.critical.strong,background:core$2.background.critical.subtle,foreground:core$2.foreground.critical.default}},neutral:{default:{border:core$2.border.neutral.default,background:core$2.transparent,foreground:core$2.foreground.neutral.default},hover:{border:core$2.border.neutral.default,background:core$2.transparent,foreground:core$2.foreground.neutral.default},press:{border:core$2.border.neutral.strong,background:core$2.background.neutral.subtle,foreground:core$2.foreground.neutral.strong}},disabled:{border:core$2.border.disabled.strong,background:core$2.background.disabled.subtle,foreground:core$2.foreground.disabled.default}},tertiary:{progressive:{default:{border:core$2.transparent,background:core$2.transparent,foreground:core$2.foreground.instructive.subtle},hover:{border:core$2.border.instructive.default,background:core$2.transparent,foreground:core$2.foreground.instructive.subtle},press:{border:core$2.border.instructive.strong,background:core$2.transparent,foreground:core$2.foreground.instructive.default}},destructive:{default:{border:core$2.transparent,background:core$2.transparent,foreground:core$2.foreground.critical.subtle},hover:{border:core$2.border.critical.default,background:core$2.transparent,foreground:core$2.foreground.critical.subtle},press:{border:core$2.border.critical.strong,background:core$2.transparent,foreground:core$2.foreground.critical.default}},neutral:{default:{border:core$2.transparent,background:core$2.transparent,foreground:core$2.foreground.neutral.default},hover:{border:core$2.border.neutral.default,background:core$2.transparent,foreground:core$2.foreground.neutral.default},press:{border:core$2.border.neutral.strong,background:core$2.transparent,foreground:core$2.foreground.neutral.strong}},disabled:{border:core$2.border.disabled.default,background:core$2.background.disabled.subtle,foreground:core$2.foreground.disabled.default}}},chonky:{progressive:{background:{primary:{rest:core$2.background.instructive.default,hover:core$2.background.instructive.default,press:core$2.background.instructive.default,selected:core$2.background.instructive.default},secondary:{rest:core$2.background.instructive.subtle,hover:core$2.background.instructive.subtle,press:core$2.background.instructive.subtle,selected:core$2.background.instructive.subtle},tertiary:{rest:core$2.transparent,hover:core$2.transparent,press:core$2.transparent,selected:core$2.transparent}},border:{primary:{rest:core$2.transparent,hover:core$2.transparent,press:core$2.transparent,selected:core$2.transparent},secondary:{rest:core$2.border.instructive.subtle,hover:core$2.border.instructive.subtle,press:core$2.border.instructive.subtle,selected:core$2.border.instructive.subtle},tertiary:{rest:core$2.transparent,hover:core$2.border.neutral.subtle,press:core$2.border.neutral.subtle,selected:core$2.border.instructive.subtle}},foreground:{primary:{rest:core$2.foreground.knockout.default,hover:core$2.foreground.knockout.default,press:core$2.foreground.knockout.default,selected:core$2.foreground.knockout.default},secondary:{rest:core$2.foreground.instructive.default,hover:core$2.foreground.instructive.default,press:core$2.foreground.instructive.default,selected:core$2.foreground.instructive.default},tertiary:{rest:core$2.foreground.instructive.default,hover:core$2.foreground.instructive.default,press:core$2.foreground.instructive.default,selected:core$2.foreground.instructive.default}},shadow:{primary:{rest:core$2.shadow.chonky.instructive.default,hover:core$2.shadow.chonky.instructive.default,press:core$2.shadow.chonky.instructive.default,selected:core$2.shadow.chonky.instructive.default},secondary:{rest:core$2.shadow.chonky.instructive.subtle,hover:core$2.shadow.chonky.instructive.subtle,press:core$2.shadow.chonky.instructive.subtle,selected:core$2.shadow.chonky.instructive.subtle},tertiary:{rest:core$2.transparent,hover:core$2.shadow.chonky.neutral.subtle,press:core$2.shadow.chonky.neutral.subtle,selected:core$2.shadow.chonky.instructive.subtle}}},neutral:{background:{primary:{rest:core$2.background.neutral.default,hover:core$2.background.neutral.default,press:core$2.background.neutral.default,selected:core$2.background.neutral.default},secondary:{rest:core$2.transparent,hover:core$2.transparent,press:core$2.transparent,selected:core$2.background.neutral.subtle},tertiary:{rest:core$2.transparent,hover:core$2.transparent,press:core$2.transparent,selected:core$2.transparent}},border:{primary:{rest:core$2.transparent,hover:core$2.transparent,press:core$2.transparent,selected:core$2.transparent},secondary:{rest:core$2.border.neutral.subtle,hover:core$2.border.neutral.subtle,press:core$2.border.neutral.subtle,selected:core$2.border.neutral.subtle},tertiary:{rest:core$2.transparent,hover:core$2.border.neutral.subtle,press:core$2.border.neutral.subtle,selected:core$2.transparent}},foreground:{primary:{rest:core$2.foreground.knockout.default,hover:core$2.foreground.knockout.default,press:core$2.foreground.knockout.default,selected:core$2.foreground.knockout.default},secondary:{rest:core$2.foreground.neutral.subtle,hover:core$2.foreground.neutral.subtle,press:core$2.foreground.neutral.subtle,selected:core$2.foreground.neutral.subtle},tertiary:{rest:core$2.foreground.neutral.default,hover:core$2.foreground.neutral.default,press:core$2.foreground.neutral.default,selected:core$2.foreground.neutral.default}},shadow:{primary:{rest:core$2.shadow.chonky.neutral.strong,hover:core$2.shadow.chonky.neutral.strong,press:core$2.transparent,selected:core$2.shadow.chonky.neutral.strong},secondary:{rest:core$2.shadow.chonky.neutral.subtle,hover:core$2.shadow.chonky.neutral.subtle,press:core$2.shadow.chonky.neutral.strong,selected:core$2.shadow.chonky.neutral.subtle},tertiary:{rest:core$2.transparent,hover:core$2.shadow.chonky.neutral.subtle,press:core$2.shadow.chonky.neutral.subtle,selected:core$2.shadow.chonky.instructive.subtle}}},disabled:{background:{primary:core$2.background.disabled.default,secondary:core$2.background.disabled.default,tertiary:core$2.background.disabled.subtle},border:{primary:core$2.border.disabled.default,secondary:core$2.border.disabled.default,tertiary:core$2.border.disabled.subtle},foreground:{primary:core$2.foreground.disabled.default,secondary:core$2.foreground.disabled.default,tertiary:core$2.foreground.disabled.default},shadow:{primary:core$2.shadow.chonky.neutral.subtle,secondary:core$2.shadow.chonky.neutral.subtle,tertiary:core$2.transparent}}},input:{default:{border:core$2.border.neutral.default,background:core$2.background.base.default,foreground:core$2.foreground.neutral.strong,placeholder:core$2.foreground.neutral.default},checked:{border:core$2.border.instructive.default,background:core$2.background.instructive.default,foreground:core$2.foreground.knockout.default},disabled:{border:core$2.border.disabled.default,background:color$1$2.offWhite,foreground:core$2.foreground.neutral.default,placeholder:core$2.foreground.neutral.default},error:{border:core$2.border.critical.default,background:core$2.background.critical.subtle,foreground:core$2.foreground.neutral.strong},readOnly:{background:core$2.background.base.default,text:core$2.foreground.neutral.strong,icon:core$2.transparent}},status:{critical:{background:core$2.background.critical.subtle,foreground:core$2.foreground.critical.subtle},warning:{background:core$2.background.warning.subtle,foreground:core$2.foreground.warning.subtle},success:{background:core$2.background.success.subtle,foreground:core$2.foreground.success.subtle},notice:{background:core$2.background.instructive.subtle,foreground:core$2.foreground.instructive.subtle},neutral:{background:core$2.background.neutral.subtle,foreground:core$2.foreground.neutral.strong}},focus:{outer:color$1$2.blue,inner:color$1$2.white},link:{rest:core$2.foreground.instructive.subtle,hover:core$2.foreground.instructive.subtle,press:core$2.foreground.instructive.default,disabled:core$2.foreground.disabled.default},khanmigo:{primary:color$1$2.eggplant,secondary:color$1$2.fadedEggplant8},mastery:{primary:color$1$2.purple},feedback:{info:{subtle:{background:core$2.background.instructive.subtle,border:core$2.border.instructive.subtle,icon:core$2.foreground.instructive.default,text:core$2.foreground.instructive.strong},strong:{...sharedFeedbackStrongTokens$2,icon:core$2.foreground.instructive.subtle}},success:{subtle:{background:core$2.background.success.subtle,border:core$2.border.success.subtle,icon:core$2.foreground.success.default,text:core$2.foreground.success.strong},strong:{...sharedFeedbackStrongTokens$2,icon:core$2.foreground.success.subtle}},warning:{subtle:{background:core$2.background.warning.subtle,border:core$2.border.warning.default,icon:core$2.foreground.warning.default,text:core$2.foreground.warning.strong},strong:{...sharedFeedbackStrongTokens$2,icon:core$2.foreground.warning.subtle}},critical:{subtle:{background:core$2.background.critical.subtle,border:core$2.border.critical.subtle,icon:core$2.foreground.critical.default,text:core$2.foreground.critical.strong},strong:{...sharedFeedbackStrongTokens$2,icon:core$2.foreground.critical.subtle}},neutral:{subtle:{background:core$2.background.neutral.subtle,border:core$2.border.neutral.subtle,icon:core$2.foreground.neutral.default,text:core$2.foreground.neutral.strong},strong:{...sharedFeedbackStrongTokens$2,icon:core$2.foreground.neutral.subtle}}}},border$1$2={radius:{radius_0:remToPx$2(sizing$1$2.size_0),radius_010:remToPx$2(sizing$1$2.size_010),radius_040:remToPx$2(sizing$1$2.size_040),radius_080:remToPx$2(sizing$1$2.size_080),radius_120:remToPx$2(sizing$1$2.size_120),radius_240:remToPx$2(sizing$1$2.size_240),radius_full:"50%"},width:{none:remToPx$2(sizing$1$2.size_0),thin:remToPx$2(sizing$1$2.size_010),medium:remToPx$2(sizing$1$2.size_020),thick:remToPx$2(sizing$1$2.size_040)}},SIZE_20_PX$2=remToPx$2(sizing$1$2.size_020),SIZE_40_PX$2=remToPx$2(sizing$1$2.size_040),SIZE_80_PX$2=remToPx$2(sizing$1$2.size_080),SIZE_160_PX$2=remToPx$2(sizing$1$2.size_160);function boxShadow$1$2(e){return{low:`0 ${SIZE_20_PX$2} ${SIZE_20_PX$2} 0 ${e.core.shadow.transparent.low}`,mid:`0 ${SIZE_40_PX$2} ${SIZE_80_PX$2} 0 ${e.core.shadow.transparent.mid}`,high:`0 ${SIZE_80_PX$2} ${SIZE_160_PX$2} 0 ${e.core.shadow.transparent.high}`}}var themeDefault$e={border:border$1$2,boxShadow:boxShadow$1$2(semanticColor$1$2),font:font$1$2,semanticColor:semanticColor$1$2,sizing:sizing$1$2},theme$j=mapValuesToCssVars$2(themeDefault$e,CSS_VAR_PREFIX$2);const{border:border$3,boxShadow:boxShadow$3,semanticColor:semanticColor$3,sizing:sizing$3,font:font$3}=theme$j,heights$1={xsmall:16,small:24,medium:48,large:96},paths$1={xsmall:"M7.237.741C7.165.393 6.95.154 6.656.053A1.01 1.01 0 0 0 6.18.01c-.053.009-.053.009-.087.017C2.553.949 0 4.214 0 7.91 0 12.36 3.598 16 8 16c4.4 0 8-3.647 8-8.112a1.02 1.02 0 0 0-.118-.423.877.877 0 0 0-.808-.48.909.909 0 0 0-.81.46c-.09.151-.13.296-.146.455-.08 3.493-2.737 6.207-6.118 6.207-3.41 0-6.118-2.74-6.118-6.196 0-2.843 1.936-5.291 4.644-6.022.1-.028.224-.082.352-.177a.928.928 0 0 0 .36-.97z",small:"M10.598.943c-.093-.449-.362-.748-.732-.875a1.314 1.314 0 0 0-.723-.033C3.83 1.417 0 6.317 0 11.864 0 18.538 5.398 24 12 24c6.598 0 12-5.471 12-12.16a1.333 1.333 0 0 0-.154-.548c-.193-.368-.544-.606-1.023-.606-.472 0-.825.229-1.035.585-.117.2-.169.39-.189.582-.124 5.472-4.294 9.73-9.599 9.73-5.349 0-9.599-4.3-9.599-9.72 0-4.46 3.036-8.299 7.28-9.444.127-.036.291-.107.458-.232.373-.28.57-.711.46-1.244z",medium:"M44.19 23.455a1.91 1.91 0 1 1 3.801 0h.003c.004.18.006.363.006.545 0 13.255-10.745 24-24 24S0 37.255 0 24 10.745 0 24 0c.182 0 .364.002.545.006V.01a1.91 1.91 0 1 1 0 3.801v.015A20.564 20.564 0 0 0 24 3.818C12.854 3.818 3.818 12.854 3.818 24c0 11.146 9.036 20.182 20.182 20.182 11.146 0 20.182-9.036 20.182-20.182 0-.182-.003-.364-.007-.545h.015z",large:"M88.38 46.91a3.818 3.818 0 1 1 7.602 0h.006c.008.362.012.725.012 1.09 0 26.51-21.49 48-48 48S0 74.51 0 48 21.49 0 48 0c.365 0 .728.004 1.09.012v.005a3.818 3.818 0 1 1 0 7.602v.032c-.362-.01-.725-.015-1.09-.015C25.708 7.636 7.636 25.708 7.636 48c0 22.292 18.072 40.364 40.364 40.364 22.292 0 40.364-18.072 40.364-40.364 0-.365-.005-.728-.015-1.09h.032z"},colors$1={light:color$1$2.white,dark:color$1$2.offBlack50},StyledPath$1=addStyle$1("path");let CircularSpinner$1=class extends reactExports.Component{render(){const{size:e,light:t,style:r,testId:n}=this.props,i=heights$1[e],o=paths$1[e],a=t?colors$1.light:colors$1.dark,s=jsxRuntimeExports$1.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:`0 0 ${i} ${i}`,"data-testid":n,children:jsxRuntimeExports$1.jsx(StyledPath$1,{style:[styles$D.loadingSpinner,{fill:a}],fillRule:"nonzero",d:o})});return jsxRuntimeExports$1.jsx(View$2,{style:[styles$D.spinnerContainer,r],children:s})}};CircularSpinner$1.defaultProps={size:"large",light:!1};const rotateKeyFrames$1={"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}},styles$D=StyleSheet.create({spinnerContainer:{justifyContent:"center"},loadingSpinner:{transformOrigin:"50% 50%",animationName:rotateKeyFrames$1,animationDuration:"1.1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}});var t$1=e=>null==e||"object"!=typeof e?e:Array.isArray(e)?e.map(t$1):Object.keys(e).reduce((t,r)=>(t[r]=t$1(e[r]),t),{}),e=e=>Object.entries(e),n$1=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",InvalidUse:"InvalidUse",NotFound:"NotFound",NotAllowed:"NotAllowed",Unauthorized:"Unauthorized",NotImplemented:"NotImplemented"});function r$1(e,t,r){return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}let s$1=class e{constructor(e,t,r){r$1(this,"_name",void 0),r$1(this,"_message",void 0),r$1(this,"_stackFrames",void 0),this._name=e,this._message=t,this._stackFrames=[...r]}get message(){return this._message}get name(){return this._name}get messageWithName(){return"".concat(this.name,": ").concat(this.message)}get stack(){return[...this._stackFrames]}get standardizedStack(){return"".concat(this.messageWithName,"\n").concat(this._stackFrames.join("\n"))}static fromConsequenceAndCause(t,r){for(var n,i,o,a,s,l=[],c=r.stack,u=null!==(n=null==t?void 0:t.stack)&&void 0!==n?n:[],d=c.length-1,h=u.length-1;d>=0&&h>=0&&c[d]===u[h];)l.unshift(c[d]),d--,h--;for(;d>=0;d--)l.unshift(c[d]);for(;h>=0;h--)l.unshift(u[h]);return new e(t.name,(i=t.message,o=r.messageWithName,s=(a=e=>(null==e?void 0:e.trim())||"(empty message)")(i),null==o?s:"".concat(s,"\n\tcaused by\n\t\t").concat(a(o))),l)}static normalize(t){var r,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=null!==(r=t.message.toString().split("\n").find(e=>e.trim().length))&&void 0!==r?r:"(empty message)",l=t.toString(),c=(null!==(n=t.stack)&&void 0!==n&&n.startsWith(l)&&t.stack!==l?t.stack.substring(l.length):null!==(i=t.stack)&&void 0!==i?i:"").split("\n").filter(e=>e.trim().length),u=c.length>=o+a?o:0;return new e(t.name,s,c.slice(u))}static from(t){var r,n,i=t.toString(),o=(null!==(r=t.stack)&&void 0!==r&&r.startsWith(i)&&t.stack!==i?t.stack.substring(i.length):null!==(n=t.stack)&&void 0!==n?n:"").split("\n").filter(e=>e.trim().length);return new e(t.name,t.message,o)}},i$3=class extends Error{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n$1.Unknown,{cause:r,prefix:n,name:i,metadata:o,stripStackFrames:a,minimumFrameCount:s,compositeStack:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});super(e),r$1(this,"kind",void 0),r$1(this,"originalMessage",void 0),r$1(this,"originalStack",void 0),r$1(this,"metadata",void 0),r$1(this,"cause",void 0),this.originalMessage=e,this.metadata=(e=>{if(null==e)return e;var t=t$1(e);return Object.freeze(t)})(o),this.name="".concat(null!=n?n:"").concat(t).concat(null!=i?i:"","Error"),this.kind=t,this.originalStack=this.stack,this.cause=r;var c=s$1.normalize(this,null!=a?a:0,null!=s?s:1);if(delete this.stack,this.stack=c.standardizedStack,null!=r){var u=s$1.from(r),d=s$1.fromConsequenceAndCause(c,u);this.message=d.message,!0===l&&(this.stack=d.standardizedStack)}}},w$1=class extends i$3{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n$1.InvalidInput,r=arguments.length>2?arguments[2]:void 0;super("Unhandled case for '".concat(e,"'"),t,r)}};var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min$1={},hasRequiredReactJsxRuntime_production_min$1,hasRequiredJsxRuntime$1;function requireReactJsxRuntime_production_min$1(){if(hasRequiredReactJsxRuntime_production_min$1)return reactJsxRuntime_production_min$1;hasRequiredReactJsxRuntime_production_min$1=1;var e=React,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,s)&&!o.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:i.current}}return reactJsxRuntime_production_min$1.Fragment=r,reactJsxRuntime_production_min$1.jsx=a,reactJsxRuntime_production_min$1.jsxs=a,reactJsxRuntime_production_min$1}function requireJsxRuntime$1(){return hasRequiredJsxRuntime$1||(hasRequiredJsxRuntime$1=1,jsxRuntime$1.exports=requireReactJsxRuntime_production_min$1()),jsxRuntime$1.exports}requireJsxRuntime$1();const KeypadContext=reactExports.createContext({setKeypadActive:e=>{},keypadActive:!1,setKeypadElement:e=>{},keypadElement:null,setRenderer:e=>{},renderer:null,setScrollableElement:e=>{},scrollableElement:null});var dist={},renderer={},chtml={},OutputJax$1={},OutputJax={},Options$1={},hasRequiredOptions;function requireOptions(){return hasRequiredOptions||(hasRequiredOptions=1,function(e){var t=Options$1&&Options$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=Options$1&&Options$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=Options$1&&Options$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.lookup=e.separateOptions=e.selectOptionsFromKeys=e.selectOptions=e.userOptions=e.defaultOptions=e.insert=e.copy=e.keys=e.makeArray=e.expandable=e.Expandable=e.OPTIONS=e.REMOVE=e.APPEND=e.isObject=void 0;var i={}.constructor;function o(e){return"object"==typeof e&&null!==e&&(e.constructor===i||e.constructor===a)}e.isObject=o,e.APPEND="[+]",e.REMOVE="[-]",e.OPTIONS={invalidOption:"warn",optionError:function(t,r){if("fatal"===e.OPTIONS.invalidOption)throw new Error(t)}};var a=function(){return function(){}}();function s(e){return Object.assign(Object.create(a.prototype),e)}function l(e){return e?Object.keys(e).concat(Object.getOwnPropertySymbols(e)):[]}function c(e){var r,n,i={};try{for(var d=t(l(e)),h=d.next();!h.done;h=d.next()){var p=h.value,f=Object.getOwnPropertyDescriptor(e,p),m=f.value;Array.isArray(m)?f.value=u([],m,!1):o(m)&&(f.value=c(m)),f.enumerable&&(i[p]=f)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return Object.defineProperties(e.constructor===a?s({}):{},i)}function u(i,s,d){var h,p;void 0===d&&(d=!0);var f=function(t){if(d&&void 0===i[t]&&i.constructor!==a)return"symbol"==typeof t&&(t=t.toString()),e.OPTIONS.optionError('Invalid option "'.concat(t,'" (no default value).'),t),"continue";var h=s[t],p=i[t];if(!o(h)||null===p||"object"!=typeof p&&"function"!=typeof p)Array.isArray(h)?(i[t]=[],u(i[t],h,!1)):o(h)?i[t]=c(h):i[t]=h;else{var f=l(h);Array.isArray(p)&&(1===f.length&&(f[0]===e.APPEND||f[0]===e.REMOVE)&&Array.isArray(h[f[0]])||2===f.length&&f.sort().join(",")===e.APPEND+","+e.REMOVE&&Array.isArray(h[e.APPEND])&&Array.isArray(h[e.REMOVE]))?(h[e.REMOVE]&&(p=i[t]=p.filter(function(t){return h[e.REMOVE].indexOf(t)<0})),h[e.APPEND]&&(i[t]=n(n([],r(p),!1),r(h[e.APPEND]),!1))):u(p,h,d)}};try{for(var m=t(l(s)),g=m.next();!g.done;g=m.next()){f(g.value)}}catch(y){h={error:y}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}return i}function d(e){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a={};try{for(var s=t(i),l=s.next();!l.done;l=s.next()){var c=l.value;e.hasOwnProperty(c)&&(a[c]=e[c])}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}e.Expandable=a,e.expandable=s,e.makeArray=function(e){return Array.isArray(e)?e:[e]},e.keys=l,e.copy=c,e.insert=u,e.defaultOptions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){return u(e,t,!1)}),e},e.userOptions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){return u(e,t,!0)}),e},e.selectOptions=d,e.selectOptionsFromKeys=function(e,t){return d.apply(void 0,n([e],r(Object.keys(t)),!1))},e.separateOptions=function(e){for(var r,n,i,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var l=[];try{for(var c=t(a),u=c.next();!u.done;u=c.next()){var d=u.value,h={},p={};try{for(var f=(i=void 0,t(Object.keys(e||{}))),m=f.next();!m.done;m=f.next()){var g=m.value;(void 0===d[g]?p:h)[g]=e[g]}}catch(y){i={error:y}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}l.push(h),e=p}}catch(b){r={error:b}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return l.unshift(e),l},e.lookup=function(e,t,r){return void 0===r&&(r=null),t.hasOwnProperty(e)?t[e]:r}}(Options$1)),Options$1}var FunctionList={},PrioritizedList={},hasRequiredPrioritizedList,hasRequiredFunctionList,hasRequiredOutputJax$1;function requirePrioritizedList(){if(hasRequiredPrioritizedList)return PrioritizedList;hasRequiredPrioritizedList=1,Object.defineProperty(PrioritizedList,"__esModule",{value:!0}),PrioritizedList.PrioritizedList=void 0;var e=function(){function e(){this.items=[],this.items=[]}return e.prototype[Symbol.iterator]=function(){var e=0,t=this.items;return{next:function(){return{value:t[e++],done:e>t.length}}}},e.prototype.add=function(t,r){void 0===r&&(r=e.DEFAULTPRIORITY);var n=this.items.length;do{n--}while(n>=0&&r<this.items[n].priority);return this.items.splice(n+1,0,{item:t,priority:r}),t},e.prototype.remove=function(e){var t=this.items.length;do{t--}while(t>=0&&this.items[t].item!==e);t>=0&&this.items.splice(t,1)},e.DEFAULTPRIORITY=5,e}();return PrioritizedList.PrioritizedList=e,PrioritizedList}function requireFunctionList(){if(hasRequiredFunctionList)return FunctionList;hasRequiredFunctionList=1;var e=FunctionList&&FunctionList.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=FunctionList&&FunctionList.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=FunctionList&&FunctionList.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=FunctionList&&FunctionList.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(FunctionList,"__esModule",{value:!0}),FunctionList.FunctionList=void 0;var i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return e(o,i),o.prototype.execute=function(){for(var e,i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];try{for(var s=t(this),l=s.next();!l.done;l=s.next()){var c=l.value;if(!1===c.item.apply(c,n([],r(o),!1)))return!1}}catch(u){e={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return!0},o.prototype.asyncExecute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=-1,o=this.items;return new Promise(function(t,a){!function s(){for(var l;++i<o.length;){var c=(l=o[i]).item.apply(l,n([],r(e),!1));if(c instanceof Promise)return void c.then(s).catch(function(e){return a(e)});if(!1===c)return void t(!1)}t(!0)}()})},o}(requirePrioritizedList().PrioritizedList);return FunctionList.FunctionList=i,FunctionList}function requireOutputJax$1(){if(hasRequiredOutputJax$1)return OutputJax;hasRequiredOutputJax$1=1,Object.defineProperty(OutputJax,"__esModule",{value:!0}),OutputJax.AbstractOutputJax=void 0;var e=requireOptions(),t=requireFunctionList(),r=function(){function r(r){void 0===r&&(r={}),this.adaptor=null;var n=this.constructor;this.options=(0,e.userOptions)((0,e.defaultOptions)({},n.OPTIONS),r),this.postFilters=new t.FunctionList}return Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),r.prototype.setAdaptor=function(e){this.adaptor=e},r.prototype.initialize=function(){},r.prototype.reset=function(){},r.prototype.getMetrics=function(e){},r.prototype.styleSheet=function(e){return null},r.prototype.pageElements=function(e){return null},r.prototype.executeFilters=function(e,t,r,n){var i={math:t,document:r,data:n};return e.execute(i),i.data},r.NAME="generic",r.OPTIONS={},r}();return OutputJax.AbstractOutputJax=r,OutputJax}var MathItem={},hasRequiredMathItem;function requireMathItem(){return hasRequiredMathItem||(hasRequiredMathItem=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newState=e.STATE=e.AbstractMathItem=e.protoItem=void 0,e.protoItem=function(e,t,r,n,i,o,a){return void 0===a&&(a=null),{open:e,math:t,close:r,n:n,start:{n:i},end:{n:o},display:a}};var t=function(){function t(t,r,n,i,o){void 0===n&&(n=!0),void 0===i&&(i={i:0,n:0,delim:""}),void 0===o&&(o={i:0,n:0,delim:""}),this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=e.STATE.UNPROCESSED,this.math=t,this.inputJax=r,this.display=n,this.start=i,this.end=o,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}return Object.defineProperty(t.prototype,"isEscaped",{get:function(){return null===this.display},enumerable:!1,configurable:!0}),t.prototype.render=function(e){e.renderActions.renderMath(this,e)},t.prototype.rerender=function(t,r){void 0===r&&(r=e.STATE.RERENDER),this.state()>=r&&this.state(r-1),t.renderActions.renderMath(this,t,r)},t.prototype.convert=function(t,r){void 0===r&&(r=e.STATE.LAST),t.renderActions.renderConvert(this,t,r)},t.prototype.compile=function(t){this.state()<e.STATE.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(e.STATE.COMPILED))},t.prototype.typeset=function(t){this.state()<e.STATE.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(e.STATE.TYPESET))},t.prototype.updateDocument=function(e){},t.prototype.removeFromDocument=function(e){},t.prototype.setMetrics=function(e,t,r,n,i){this.metrics={em:e,ex:t,containerWidth:r,lineWidth:n,scale:i}},t.prototype.state=function(t,r){return void 0===t&&(t=null),void 0===r&&(r=!1),null!=t&&(t<e.STATE.INSERTED&&this._state>=e.STATE.INSERTED&&this.removeFromDocument(r),t<e.STATE.TYPESET&&this._state>=e.STATE.TYPESET&&(this.outputData={}),t<e.STATE.COMPILED&&this._state>=e.STATE.COMPILED&&(this.inputData={}),this._state=t),this._state},t.prototype.reset=function(t){void 0===t&&(t=!1),this.state(e.STATE.UNPROCESSED,t)},t}();e.AbstractMathItem=t,e.STATE={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4},e.newState=function(t,r){if(t in e.STATE)throw Error("State "+t+" already exists");e.STATE[t]=r}}(MathItem)),MathItem}var lengths={},hasRequiredLengths;function requireLengths(){return hasRequiredLengths||(hasRequiredLengths=1,e=lengths,Object.defineProperty(e,"__esModule",{value:!0}),e.px=e.emRounded=e.em=e.percent=e.length2em=e.MATHSPACE=e.RELUNITS=e.UNITS=e.BIGDIMEN=void 0,e.BIGDIMEN=1e6,e.UNITS={px:1,in:96,cm:96/2.54,mm:96/25.4},e.RELUNITS={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},e.MATHSPACE={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:e.BIGDIMEN},e.length2em=function(t,r,n,i){if(void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=16),"string"!=typeof t&&(t=String(t)),""===t||null==t)return r;if(e.MATHSPACE[t])return e.MATHSPACE[t];var o=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!o)return r;var a=parseFloat(o[1]||"1"),s=o[2];return e.UNITS.hasOwnProperty(s)?a*e.UNITS[s]/i/n:e.RELUNITS.hasOwnProperty(s)?a*e.RELUNITS[s]:"%"===s?a/100*r:a*r},e.percent=function(e){return(100*e).toFixed(1).replace(/\.?0+$/,"")+"%"},e.em=function(e){return Math.abs(e)<.001?"0":e.toFixed(3).replace(/\.?0+$/,"")+"em"},e.emRounded=function(e,t){return void 0===t&&(t=16),e=(Math.round(e*t)+.05)/t,Math.abs(e)<.001?"0em":e.toFixed(3).replace(/\.?0+$/,"")+"em"},e.px=function(t,r,n){return void 0===r&&(r=-e.BIGDIMEN),void 0===n&&(n=16),t*=n,r&&t<r&&(t=r),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"}),lengths;var e}var Styles={},hasRequiredStyles;function requireStyles(){if(hasRequiredStyles)return Styles;hasRequiredStyles=1;var e=Styles&&Styles.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=Styles&&Styles.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=Styles&&Styles.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(Styles,"__esModule",{value:!0}),Styles.Styles=void 0;var n=["top","right","bottom","left"],i=["width","style","color"];function o(e){for(var t=e.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),r=[];t.length>1;)t.shift(),r.push(t.shift());return r}function a(t){var r,n,i=o(this.styles[t]);0===i.length&&i.push(""),1===i.length&&i.push(i[0]),2===i.length&&i.push(i[0]),3===i.length&&i.push(i[1]);try{for(var a=e(y.connect[t].children),s=a.next();!s.done;s=a.next()){var l=s.value;this.setStyle(this.childName(t,l),i.shift())}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function s(t){var r,n,i=y.connect[t].children,o=[];try{for(var a=e(i),s=a.next();!s.done;s=a.next()){var l=s.value,c=this.styles[t+"-"+l];if(!c)return void delete this.styles[t];o.push(c)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}o[3]===o[1]&&(o.pop(),o[2]===o[0]&&(o.pop(),o[1]===o[0]&&o.pop())),this.styles[t]=o.join(" ")}function l(t){var r,n;try{for(var i=e(y.connect[t].children),o=i.next();!o.done;o=i.next()){var a=o.value;this.setStyle(this.childName(t,a),this.styles[t])}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function c(n){var i,o,a=r([],t(y.connect[n].children),!1),s=this.styles[this.childName(n,a.shift())];try{for(var l=e(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(this.styles[this.childName(n,u)]!==s)return void delete this.styles[n]}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this.styles[n]=s}var u=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,d=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function h(t){var r,n,i,a,s={width:"",style:"",color:""};try{for(var l=e(o(this.styles[t])),c=l.next();!c.done;c=l.next()){var h=c.value;h.match(u)&&""===s.width?s.width=h:h.match(d)&&""===s.style?s.style=h:s.color=h}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var p=e(y.connect[t].children),f=p.next();!f.done;f=p.next()){var m=f.value;this.setStyle(this.childName(t,m),s[m])}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}function p(t){var r,n,i=[];try{for(var o=e(y.connect[t].children),a=o.next();!a.done;a=o.next()){var s=a.value,l=this.styles[this.childName(t,s)];l&&i.push(l)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}i.length?this.styles[t]=i.join(" "):delete this.styles[t]}var f={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?condensed","(?:(?:semi|extra|ulta)-)?expanded","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[d.]+%|[d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[d.+](?:%|[a-z]+)?))?$")};function m(r){var n,i,a,s,l=o(this.styles[r]),c={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};try{for(var u=e(l),d=u.next();!d.done;d=u.next()){var h=d.value;c.family=h;try{for(var p=(a=void 0,e(Object.keys(f))),m=p.next();!m.done;m=p.next()){var g=m.value;if((Array.isArray(c[g])||""===c[g])&&h.match(f[g]))if("size"===g){var b=t(h.split(/\//),2),v=b[0],x=b[1];c[g]=v,x&&(c["line-height"]=x)}else""===c.size&&(Array.isArray(c[g])?c[g].push(h):c[g]=h)}}catch($){a={error:$}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(S){n={error:S}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}!function(t,r){var n,i;try{for(var o=e(y.connect[t].children),a=o.next();!a.done;a=o.next()){var s=a.value,l=this.childName(t,s);if(Array.isArray(r[s])){var c=r[s];c.length&&(this.styles[l]=c.join(" "))}else""!==r[s]&&(this.styles[l]=r[s])}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}(r,c),delete this.styles[r]}function g(e){}var y=function(){function r(e){void 0===e&&(e=""),this.parse(e)}return Object.defineProperty(r.prototype,"cssText",{get:function(){var t,r,n=[];try{for(var i=e(Object.keys(this.styles)),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.parentName(a);this.styles[s]||n.push(a+": "+this.styles[a]+";")}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join(" ")},enumerable:!1,configurable:!0}),r.prototype.set=function(e,t){for(e=this.normalizeName(e),this.setStyle(e,t),r.connect[e]&&!r.connect[e].combine&&(this.combineChildren(e),delete this.styles[e]);e.match(/-/)&&(e=this.parentName(e),r.connect[e]);)r.connect[e].combine.call(this,e)},r.prototype.get=function(e){return e=this.normalizeName(e),this.styles.hasOwnProperty(e)?this.styles[e]:""},r.prototype.setStyle=function(e,t){this.styles[e]=t,r.connect[e]&&r.connect[e].children&&r.connect[e].split.call(this,e),""===t&&delete this.styles[e]},r.prototype.combineChildren=function(t){var n,i,o=this.parentName(t);try{for(var a=e(r.connect[t].children),s=a.next();!s.done;s=a.next()){var l=s.value,c=this.childName(o,l);r.connect[c].combine.call(this,c)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},r.prototype.parentName=function(e){var t=e.replace(/-[^-]*$/,"");return e===t?"":t},r.prototype.childName=function(e,t){return t.match(/-/)?t:(r.connect[e]&&!r.connect[e].combine&&(t+=e.replace(/.*-/,"-"),e=this.parentName(e)),e+"-"+t)},r.prototype.normalizeName=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},r.prototype.parse=function(e){void 0===e&&(e="");var r=this.constructor.pattern;this.styles={};for(var n=e.replace(r.comment,"").split(r.style);n.length>1;){var i=t(n.splice(0,3),3),o=i[0],a=i[1],s=i[2];if(o.match(/[^\s\n]/))return;this.set(a,s)}},r.pattern={style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'[^']*'|"[^"]*"|\n|.)*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},r.connect={padding:{children:n,split:a,combine:s},border:{children:n,split:l,combine:c},"border-top":{children:i,split:h,combine:p},"border-right":{children:i,split:h,combine:p},"border-bottom":{children:i,split:h,combine:p},"border-left":{children:i,split:h,combine:p},"border-width":{children:n,split:a,combine:null},"border-style":{children:n,split:a,combine:null},"border-color":{children:n,split:a,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:m,combine:g}},r}();return Styles.Styles=y,Styles}var StyleList={},hasRequiredStyleList,hasRequiredOutputJax;function requireStyleList(){if(hasRequiredStyleList)return StyleList;hasRequiredStyleList=1;var e=StyleList&&StyleList.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(StyleList,"__esModule",{value:!0}),StyleList.CssStyles=void 0;var t=function(){function t(e){void 0===e&&(e=null),this.styles={},this.addStyles(e)}return Object.defineProperty(t.prototype,"cssText",{get:function(){return this.getStyleString()},enumerable:!1,configurable:!0}),t.prototype.addStyles=function(t){var r,n;if(t)try{for(var i=e(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;this.styles[a]||(this.styles[a]={}),Object.assign(this.styles[a],t[a])}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.removeStyles=function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=e(n),a=o.next();!a.done;a=o.next()){var s=a.value;delete this.styles[s]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t.prototype.clear=function(){this.styles={}},t.prototype.getStyleString=function(){return this.getStyleRules().join("\n\n")},t.prototype.getStyleRules=function(){var t,r,n=Object.keys(this.styles),i=new Array(n.length),o=0;try{for(var a=e(n),s=a.next();!s.done;s=a.next()){var l=s.value;i[o++]=l+" {\n"+this.getStyleDefString(this.styles[l])+"\n}"}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},t.prototype.getStyleDefString=function(t){var r,n,i=Object.keys(t),o=new Array(i.length),a=0;try{for(var s=e(i),l=s.next();!l.done;l=s.next()){var c=l.value;o[a++]="  "+c+": "+t[c]+";"}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o.join("\n")},t}();return StyleList.CssStyles=t,StyleList}function requireOutputJax(){if(hasRequiredOutputJax)return OutputJax$1;hasRequiredOutputJax=1;var e=OutputJax$1&&OutputJax$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=OutputJax$1&&OutputJax$1.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=OutputJax$1&&OutputJax$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=OutputJax$1&&OutputJax$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(OutputJax$1,"__esModule",{value:!0}),OutputJax$1.CommonOutputJax=void 0;var i=requireOutputJax$1(),o=requireMathItem(),a=requireOptions(),s=requireLengths(),l=requireStyles(),c=requireStyleList(),u=function(u){function d(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null);var i=this,o=r((0,a.separateOptions)(e,n.OPTIONS),2),s=o[0],l=o[1];return(i=u.call(this,s)||this).factory=i.options.wrapperFactory||new t,i.factory.jax=i,i.cssStyles=i.options.cssStyles||new c.CssStyles,i.font=i.options.font||new n(l),i.unknownCache=new Map,i}return e(d,u),d.prototype.typeset=function(e,t){this.setDocument(t);var r=this.createNode();return this.toDOM(e,r,t),r},d.prototype.createNode=function(){var e=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:e})},d.prototype.setScale=function(e){var t=this.math.metrics.scale*this.options.scale;1!==t&&this.adaptor.setStyle(e,"fontSize",(0,s.percent)(t))},d.prototype.toDOM=function(e,t,r){void 0===r&&(r=null),this.setDocument(r),this.math=e,this.pxPerEm=e.metrics.ex/this.font.params.x_height,e.root.setTeXclass(null),this.setScale(t),this.nodeMap=new Map,this.container=t,this.processMath(e.root,t),this.nodeMap=null,this.executeFilters(this.postFilters,e,r,t)},d.prototype.getBBox=function(e,t){this.setDocument(t),this.math=e,e.root.setTeXclass(null),this.nodeMap=new Map;var r=this.factory.wrap(e.root).getOuterBBox();return this.nodeMap=null,r},d.prototype.getMetrics=function(e){var t,r;this.setDocument(e);var i=this.adaptor,a=this.getMetricMaps(e);try{for(var s=n(e.math),l=s.next();!l.done;l=s.next()){var c=l.value,u=i.parent(c.start.node);if(c.state()<o.STATE.METRICS&&u){var d=a[c.display?1:0].get(u),h=d.em,p=d.ex,f=d.containerWidth,m=d.lineWidth,g=d.scale,y=d.family;c.setMetrics(h,p,f,m,g),this.options.mtextInheritFont&&(c.outputData.mtextFamily=y),this.options.merrorInheritFont&&(c.outputData.merrorFamily=y),c.state(o.STATE.METRICS)}}}catch(b){t={error:b}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}},d.prototype.getMetricsFor=function(e,t){var r=this.options.mtextInheritFont||this.options.merrorInheritFont,n=this.getTestElement(e,t),i=this.measureMetrics(n,r);return this.adaptor.remove(n),i},d.prototype.getMetricMaps=function(e){var t,r,i,a,s,l,c,u,d,h,p=this.adaptor,f=[new Map,new Map];try{for(var m=n(e.math),g=m.next();!g.done;g=m.next()){var y=g.value;if((M=p.parent(y.start.node))&&y.state()<o.STATE.METRICS){var b=f[y.display?1:0];b.has(M)||b.set(M,this.getTestElement(M,y.display))}}}catch(k){t={error:k}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}var v=this.options.mtextInheritFont||this.options.merrorInheritFont,x=[new Map,new Map];try{for(var $=n(x.keys()),S=$.next();!S.done;S=$.next()){var E=S.value;try{for(var w=(s=void 0,n(f[E].keys())),_=w.next();!_.done;_=w.next()){var M=_.value;x[E].set(M,this.measureMetrics(f[E].get(M),v))}}catch(A){s={error:A}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}}catch(N){i={error:N}}finally{try{S&&!S.done&&(a=$.return)&&a.call($)}finally{if(i)throw i.error}}try{for(var C=n(x.keys()),T=C.next();!T.done;T=C.next()){E=T.value;try{for(var R=(d=void 0,n(f[E].values())),O=R.next();!O.done;O=R.next()){M=O.value;p.remove(M)}}catch(I){d={error:I}}finally{try{O&&!O.done&&(h=R.return)&&h.call(R)}finally{if(d)throw d.error}}}}catch(L){c={error:L}}finally{try{T&&!T.done&&(u=C.return)&&u.call(C)}finally{if(c)throw c.error}}return x},d.prototype.getTestElement=function(e,t){var r=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=r.clone(this.testInline),r.setStyle(this.testDisplay,"display","table"),r.setStyle(this.testDisplay,"margin-right",""),r.setStyle(r.firstChild(this.testDisplay),"display","none");var n=r.lastChild(this.testDisplay);r.setStyle(n,"display","table-cell"),r.setStyle(n,"width","10000em"),r.setStyle(n,"float","")}return r.append(e,r.clone(t?this.testDisplay:this.testInline))},d.prototype.measureMetrics=function(e,t){var n=this.adaptor,i=t?n.fontFamily(e):"",o=n.fontSize(e),a=r(n.nodeSize(n.childNode(e,1)),2),s=a[0],l=a[1],c=s?l/60:o*this.options.exFactor;return{em:o,ex:c,containerWidth:s?"table"===n.getStyle(e,"display")?n.nodeSize(n.lastChild(e))[0]-1:n.nodeBBox(n.lastChild(e)).left-n.nodeBBox(n.firstChild(e)).left-2:1e6,lineWidth:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?c/this.font.params.x_height/o:1),family:i}},d.prototype.styleSheet=function(e){var t,r;if(this.setDocument(e),this.cssStyles.clear(),this.cssStyles.addStyles(this.constructor.commonStyles),"getStyles"in e)try{for(var i=n(e.getStyles()),o=i.next();!o.done;o=i.next()){var a=o.value;this.cssStyles.addStyles(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return this.addWrapperStyles(this.cssStyles),this.addFontStyles(this.cssStyles),this.html("style",{id:"MJX-styles"},[this.text("\n"+this.cssStyles.cssText+"\n")])},d.prototype.addFontStyles=function(e){e.addStyles(this.font.styles)},d.prototype.addWrapperStyles=function(e){var t,r;try{for(var i=n(this.factory.getKinds()),o=i.next();!o.done;o=i.next()){var a=o.value;this.addClassStyles(this.factory.getNodeClass(a),e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},d.prototype.addClassStyles=function(e,t){t.addStyles(e.styles)},d.prototype.setDocument=function(e){e&&(this.document=e,this.adaptor.document=e.document)},d.prototype.html=function(e,t,r,n){return void 0===t&&(t={}),void 0===r&&(r=[]),this.adaptor.node(e,t,r,n)},d.prototype.text=function(e){return this.adaptor.text(e)},d.prototype.fixed=function(e,t){return void 0===t&&(t=3),Math.abs(e)<6e-4?"0":e.toFixed(t).replace(/\.?0+$/,"")},d.prototype.measureText=function(e,t,r){void 0===r&&(r=["",!1,!1]);var n=this.unknownText(e,t);if("-explicitFont"===t){var i=this.cssFontStyles(r);this.adaptor.setAttributes(n,{style:i})}return this.measureTextNodeWithCache(n,e,t,r)},d.prototype.measureTextNodeWithCache=function(e,t,r,n){void 0===n&&(n=["",!1,!1]),"-explicitFont"===r&&(r=[n[0],n[1]?"T":"F",n[2]?"T":"F",""].join("-")),this.unknownCache.has(r)||this.unknownCache.set(r,new Map);var i=this.unknownCache.get(r),o=i.get(t);if(o)return o;var a=this.measureTextNode(e);return i.set(t,a),a},d.prototype.measureXMLnode=function(e){var t=this.adaptor,r=this.html("mjx-xml-block",{style:{display:"inline-block"}},[t.clone(e)]),n=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),i=this.html("mjx-measure-xml",{style:{position:"absolute",display:"inline-block","font-family":"initial","line-height":"normal"}},[n,r]);t.append(t.parent(this.math.start.node),this.container),t.append(this.container,i);var o=this.math.metrics.em*this.math.metrics.scale,a=t.nodeBBox(r),s=a.left,l=a.right,c=a.bottom,u=a.top,d=(l-s)/o,h=(t.nodeBBox(n).top-u)/o,p=(c-u)/o-h;return t.remove(this.container),t.remove(i),{w:d,h:h,d:p}},d.prototype.cssFontStyles=function(e,t){void 0===t&&(t={});var n=r(e,3),i=n[0],o=n[1],a=n[2];return t["font-family"]=this.font.getFamily(i),o&&(t["font-style"]="italic"),a&&(t["font-weight"]="bold"),t},d.prototype.getFontData=function(e){return e||(e=new l.Styles),[this.font.getFamily(e.get("font-family")),"italic"===e.get("font-style"),"bold"===e.get("font-weight")]},d.NAME="Common",d.OPTIONS=t(t({},i.AbstractOutputJax.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",wrapperFactory:null,font:null,cssStyles:null}),d.commonStyles={},d}(i.AbstractOutputJax);return OutputJax$1.CommonOutputJax=u,OutputJax$1}var WrapperFactory$2={},WrapperFactory$1={},WrapperFactory={},Factory={},hasRequiredFactory,hasRequiredWrapperFactory$2,hasRequiredWrapperFactory$1;function requireFactory(){if(hasRequiredFactory)return Factory;hasRequiredFactory=1;var e=Factory&&Factory.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=Factory&&Factory.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=Factory&&Factory.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(Factory,"__esModule",{value:!0}),Factory.AbstractFactory=void 0;var n=function(){function n(t){var r,n;void 0===t&&(t=null),this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===t&&(t=this.constructor.defaultNodes);try{for(var i=e(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;this.setNodeClass(a,t[a])}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}return n.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(this.node[e]||this.node[this.defaultKind]).apply(void 0,r([],t(n),!1))},n.prototype.setNodeClass=function(e,n){this.nodeMap.set(e,n);var i=this,o=this.nodeMap.get(e);this.node[e]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(o.bind.apply(o,r([void 0,i],t(e),!1)))}},n.prototype.getNodeClass=function(e){return this.nodeMap.get(e)},n.prototype.deleteNodeClass=function(e){this.nodeMap.delete(e),delete this.node[e]},n.prototype.nodeIsKind=function(e,t){return e instanceof this.getNodeClass(t)},n.prototype.getKinds=function(){return Array.from(this.nodeMap.keys())},n.defaultNodes={},n}();return Factory.AbstractFactory=n,Factory}function requireWrapperFactory$2(){if(hasRequiredWrapperFactory$2)return WrapperFactory;hasRequiredWrapperFactory$2=1;var e=WrapperFactory&&WrapperFactory.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=WrapperFactory&&WrapperFactory.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=WrapperFactory&&WrapperFactory.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(WrapperFactory,"__esModule",{value:!0}),WrapperFactory.AbstractWrapperFactory=void 0;var n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.wrap=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.create.apply(this,r([e.kind,e],t(n),!1))},i}(requireFactory().AbstractFactory);return WrapperFactory.AbstractWrapperFactory=n,WrapperFactory}function requireWrapperFactory$1(){if(hasRequiredWrapperFactory$1)return WrapperFactory$1;hasRequiredWrapperFactory$1=1;var e=WrapperFactory$1&&WrapperFactory$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(WrapperFactory$1,"__esModule",{value:!0}),WrapperFactory$1.CommonWrapperFactory=void 0;var t=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.jax=null,e}return e(r,t),Object.defineProperty(r.prototype,"Wrappers",{get:function(){return this.node},enumerable:!1,configurable:!0}),r.defaultNodes={},r}(requireWrapperFactory$2().AbstractWrapperFactory);return WrapperFactory$1.CommonWrapperFactory=t,WrapperFactory$1}var Wrappers={},Wrapper$2={},Wrapper$1={},Wrapper={},hasRequiredWrapper$2;function requireWrapper$2(){if(hasRequiredWrapper$2)return Wrapper;hasRequiredWrapper$2=1,Object.defineProperty(Wrapper,"__esModule",{value:!0}),Wrapper.AbstractWrapper=void 0;var e=function(){function e(e,t){this.factory=e,this.node=t}return Object.defineProperty(e.prototype,"kind",{get:function(){return this.node.kind},enumerable:!1,configurable:!0}),e.prototype.wrap=function(e){return this.factory.wrap(e)},e}();return Wrapper.AbstractWrapper=e,Wrapper}var MmlNode={},Attributes={},hasRequiredAttributes;function requireAttributes(){return hasRequiredAttributes||(hasRequiredAttributes=1,function(e){var t=Attributes&&Attributes.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Attributes=e.INHERIT=void 0,e.INHERIT="_inherit_";var r=function(){function r(e,t){this.global=t,this.defaults=Object.create(t),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,e)}return r.prototype.set=function(e,t){this.attributes[e]=t},r.prototype.setList=function(e){Object.assign(this.attributes,e)},r.prototype.get=function(t){var r=this.attributes[t];return r===e.INHERIT&&(r=this.global[t]),r},r.prototype.getExplicit=function(e){if(this.attributes.hasOwnProperty(e))return this.attributes[e]},r.prototype.getList=function(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=t(n),s=a.next();!s.done;s=a.next()){var l=s.value;o[l]=this.get(l)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return o},r.prototype.setInherited=function(e,t){this.inherited[e]=t},r.prototype.getInherited=function(e){return this.inherited[e]},r.prototype.getDefault=function(e){return this.defaults[e]},r.prototype.isSet=function(e){return this.attributes.hasOwnProperty(e)||this.inherited.hasOwnProperty(e)},r.prototype.hasDefault=function(e){return e in this.defaults},r.prototype.getExplicitNames=function(){return Object.keys(this.attributes)},r.prototype.getInheritedNames=function(){return Object.keys(this.inherited)},r.prototype.getDefaultNames=function(){return Object.keys(this.defaults)},r.prototype.getGlobalNames=function(){return Object.keys(this.global)},r.prototype.getAllAttributes=function(){return this.attributes},r.prototype.getAllInherited=function(){return this.inherited},r.prototype.getAllDefaults=function(){return this.defaults},r.prototype.getAllGlobals=function(){return this.global},r}();e.Attributes=r}(Attributes)),Attributes}var Node$1={},hasRequiredNode,hasRequiredMmlNode;function requireNode(){if(hasRequiredNode)return Node$1;hasRequiredNode=1;var e=Node$1&&Node$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=Node$1&&Node$1.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=Node$1&&Node$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Node$1,"__esModule",{value:!0}),Node$1.AbstractEmptyNode=Node$1.AbstractNode=void 0;var n=function(){function e(e,t,n){var i,o;void 0===t&&(t={}),void 0===n&&(n=[]),this.factory=e,this.parent=null,this.properties={},this.childNodes=[];try{for(var a=r(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value;this.setProperty(l,t[l])}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}n.length&&this.setChildren(n)}return Object.defineProperty(e.prototype,"kind",{get:function(){return"unknown"},enumerable:!1,configurable:!0}),e.prototype.setProperty=function(e,t){this.properties[e]=t},e.prototype.getProperty=function(e){return this.properties[e]},e.prototype.getPropertyNames=function(){return Object.keys(this.properties)},e.prototype.getAllProperties=function(){return this.properties},e.prototype.removeProperty=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=r(n),a=o.next();!a.done;a=o.next()){var s=a.value;delete this.properties[s]}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.isKind=function(e){return this.factory.nodeIsKind(this,e)},e.prototype.setChildren=function(e){var t,n;this.childNodes=[];try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.appendChild(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.appendChild=function(e){return this.childNodes.push(e),e.parent=this,e},e.prototype.replaceChild=function(e,t){var r=this.childIndex(t);return null!==r&&(this.childNodes[r]=e,e.parent=this,t.parent=null),e},e.prototype.removeChild=function(e){var t=this.childIndex(e);return null!==t&&(this.childNodes.splice(t,1),e.parent=null),e},e.prototype.childIndex=function(e){var t=this.childNodes.indexOf(e);return-1===t?null:t},e.prototype.copy=function(){var e,n,i=this.factory.create(this.kind);i.properties=t({},this.properties);try{for(var o=r(this.childNodes||[]),a=o.next();!a.done;a=o.next()){var s=a.value;s&&i.appendChild(s.copy())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},e.prototype.findNodes=function(e){var t=[];return this.walkTree(function(r){r.isKind(e)&&t.push(r)}),t},e.prototype.walkTree=function(e,t){var n,i;e(this,t);try{for(var o=r(this.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;s&&s.walkTree(e,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t},e.prototype.toString=function(){return this.kind+"("+this.childNodes.join(",")+")"},e}();Node$1.AbstractNode=n;var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.setChildren=function(e){},r.prototype.appendChild=function(e){return e},r.prototype.replaceChild=function(e,t){return t},r.prototype.childIndex=function(e){return null},r.prototype.walkTree=function(e,t){return e(this,t),t},r.prototype.toString=function(){return this.kind},r}(n);return Node$1.AbstractEmptyNode=i,Node$1}function requireMmlNode(){return hasRequiredMmlNode||(hasRequiredMmlNode=1,function(e){var t=MmlNode&&MmlNode.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=MmlNode&&MmlNode.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},n=MmlNode&&MmlNode.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=MmlNode&&MmlNode.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.XMLNode=e.TextNode=e.AbstractMmlEmptyNode=e.AbstractMmlBaseNode=e.AbstractMmlLayoutNode=e.AbstractMmlTokenNode=e.AbstractMmlNode=e.indentAttributes=e.TEXCLASSNAMES=e.TEXCLASS=void 0;var o=requireAttributes(),a=requireNode();e.TEXCLASS={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,VCENTER:8,NONE:-1},e.TEXCLASSNAMES=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"];var s=["","thinmathspace","mediummathspace","thickmathspace"],l=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]];e.indentAttributes=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];var c=function(a){function c(e,t,r){void 0===t&&(t={}),void 0===r&&(r=[]);var n=a.call(this,e)||this;return n.prevClass=null,n.prevLevel=null,n.texclass=null,n.arity<0&&(n.childNodes=[e.create("inferredMrow")],n.childNodes[0].parent=n),n.setChildren(r),n.attributes=new o.Attributes(e.getNodeClass(n.kind).defaults,e.getNodeClass("math").defaults),n.attributes.setList(t),n}return t(c,a),c.prototype.copy=function(e){var t,i,o,a;void 0===e&&(e=!1);var s=this.factory.create(this.kind);if(s.properties=r({},this.properties),this.attributes){var l=this.attributes.getAllAttributes();try{for(var c=n(Object.keys(l)),u=c.next();!u.done;u=c.next()){var d=u.value;("id"!==d||e)&&s.attributes.set(d,l[d])}}catch(g){t={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}}if(this.childNodes&&this.childNodes.length){var h=this.childNodes;1===h.length&&h[0].isInferred&&(h=h[0].childNodes);try{for(var p=n(h),f=p.next();!f.done;f=p.next()){var m=f.value;m?s.appendChild(m.copy()):s.childNodes.push(null)}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return s},Object.defineProperty(c.prototype,"texClass",{get:function(){return this.texclass},set:function(e){this.texclass=e},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 1/0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Parent",{get:function(){for(var e=this.parent;e&&e.notParent;)e=e.Parent;return e},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.setChildren=function(e){return this.arity<0?this.childNodes[0].setChildren(e):a.prototype.setChildren.call(this,e)},c.prototype.appendChild=function(e){var t,r,i=this;if(this.arity<0)return this.childNodes[0].appendChild(e),e;if(e.isInferred){if(this.arity===1/0)return e.childNodes.forEach(function(e){return a.prototype.appendChild.call(i,e)}),e;var o=e;(e=this.factory.create("mrow")).setChildren(o.childNodes),e.attributes=o.attributes;try{for(var s=n(o.getPropertyNames()),l=s.next();!l.done;l=s.next()){var c=l.value;e.setProperty(c,o.getProperty(c))}}catch(u){t={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}return a.prototype.appendChild.call(this,e)},c.prototype.replaceChild=function(e,t){return this.arity<0?(this.childNodes[0].replaceChild(e,t),e):a.prototype.replaceChild.call(this,e,t)},c.prototype.core=function(){return this},c.prototype.coreMO=function(){return this},c.prototype.coreIndex=function(){return 0},c.prototype.childPosition=function(){for(var e,t,r=this,i=r.parent;i&&i.notParent;)r=i,i=i.parent;if(i){var o=0;try{for(var a=n(i.childNodes),s=a.next();!s.done;s=a.next()){if(s.value===r)return o;o++}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}}return null},c.prototype.setTeXclass=function(e){return this.getPrevClass(e),null!=this.texClass?this:e},c.prototype.updateTeXclass=function(e){e&&(this.prevClass=e.prevClass,this.prevLevel=e.prevLevel,e.prevClass=e.prevLevel=null,this.texClass=e.texClass)},c.prototype.getPrevClass=function(e){e&&(this.prevClass=e.texClass,this.prevLevel=e.attributes.get("scriptlevel"))},c.prototype.texSpacing=function(){var t=null!=this.prevClass?this.prevClass:e.TEXCLASS.NONE,r=this.texClass||e.TEXCLASS.ORD;if(t===e.TEXCLASS.NONE||r===e.TEXCLASS.NONE)return"";t===e.TEXCLASS.VCENTER&&(t=e.TEXCLASS.ORD),r===e.TEXCLASS.VCENTER&&(r=e.TEXCLASS.ORD);var n=l[t][r];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&n>=0?"":s[Math.abs(n)]},c.prototype.hasSpacingAttributes=function(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()},c.prototype.setInheritedAttributes=function(e,t,r,o){var a,s;void 0===e&&(e={}),void 0===t&&(t=!1),void 0===r&&(r=0),void 0===o&&(o=!1);var l=this.attributes.getAllDefaults();try{for(var u=n(Object.keys(e)),d=u.next();!d.done;d=u.next()){var h=d.value;if(l.hasOwnProperty(h)||c.alwaysInherit.hasOwnProperty(h)){var p=i(e[h],2),f=p[0],m=p[1];((c.noInherit[f]||{})[this.kind]||{})[h]||this.attributes.setInherited(h,m)}}}catch(y){a={error:y}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",t),void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",r),o&&this.setProperty("texprimestyle",o);var g=this.arity;if(g>=0&&g!==1/0&&(1===g&&0===this.childNodes.length||1!==g&&this.childNodes.length!==g))if(g<this.childNodes.length)this.childNodes=this.childNodes.slice(0,g);else for(;this.childNodes.length<g;)this.appendChild(this.factory.create("mrow"));this.setChildInheritedAttributes(e,t,r,o)},c.prototype.setChildInheritedAttributes=function(e,t,r,i){var o,a;try{for(var s=n(this.childNodes),l=s.next();!l.done;l=s.next()){l.value.setInheritedAttributes(e,t,r,i)}}catch(c){o={error:c}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},c.prototype.addInheritedAttributes=function(e,t){var i,o,a=r({},e);try{for(var s=n(Object.keys(t)),l=s.next();!l.done;l=s.next()){var c=l.value;"displaystyle"!==c&&"scriptlevel"!==c&&"style"!==c&&(a[c]=[this.kind,t[c]])}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},c.prototype.inheritAttributesFrom=function(e){var t=e.attributes,r=t.get("displaystyle"),n=t.get("scriptlevel"),i=t.isSet("mathsize")?{mathsize:["math",t.get("mathsize")]}:{},o=e.getProperty("texprimestyle")||!1;this.setInheritedAttributes(i,r,n,o)},c.prototype.verifyTree=function(e){if(void 0===e&&(e=null),null!==e){this.verifyAttributes(e);var t=this.arity;e.checkArity&&t>=0&&t!==1/0&&(1===t&&0===this.childNodes.length||1!==t&&this.childNodes.length!==t)&&this.mError('Wrong number of children for "'+this.kind+'" node',e,!0),this.verifyChildren(e)}},c.prototype.verifyAttributes=function(e){var t,r;if(e.checkAttributes){var i=this.attributes,o=[];try{for(var a=n(i.getExplicitNames()),s=a.next();!s.done;s=a.next()){var l=s.value;"data-"===l.substr(0,5)||void 0!==i.getDefault(l)||l.match(/^(?:class|style|id|(?:xlink:)?href)$/)||o.push(l)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}o.length&&this.mError("Unknown attributes for "+this.kind+" node: "+o.join(", "),e)}},c.prototype.verifyChildren=function(e){var t,r;try{for(var i=n(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.verifyTree(e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},c.prototype.mError=function(e,t,r){if(void 0===r&&(r=!1),this.parent&&this.parent.isKind("merror"))return null;var n=this.factory.create("merror");if(n.attributes.set("data-mjx-message",e),t.fullErrors||r){var i=this.factory.create("mtext"),o=this.factory.create("text");o.setText(t.fullErrors?e:this.kind),i.appendChild(o),n.appendChild(i),this.parent.replaceChild(n,this)}else this.parent.replaceChild(n,this),n.appendChild(this);return n},c.defaults={mathbackground:o.INHERIT,mathcolor:o.INHERIT,mathsize:o.INHERIT,dir:o.INHERIT},c.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}}},c.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0},c.verifyDefaults={checkArity:!0,checkAttributes:!1,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0},c}(a.AbstractNode);e.AbstractMmlNode=c;var u=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),Object.defineProperty(i.prototype,"isToken",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.getText=function(){var e,t,r="";try{for(var i=n(this.childNodes),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof f&&(r+=a.getText())}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},i.prototype.setChildInheritedAttributes=function(e,t,r,i){var o,a;try{for(var s=n(this.childNodes),l=s.next();!l.done;l=s.next()){var u=l.value;u instanceof c&&u.setInheritedAttributes(e,t,r,i)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},i.prototype.walkTree=function(e,t){var r,i;e(this,t);try{for(var o=n(this.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;s instanceof c&&s.walkTree(e,t)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t},i.defaults=r(r({},c.defaults),{mathvariant:"normal",mathsize:o.INHERIT}),i}(c);e.AbstractMmlTokenNode=u;var d=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),Object.defineProperty(r.prototype,"isSpacelike",{get:function(){return this.childNodes[0].isSpacelike},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),r.prototype.core=function(){return this.childNodes[0]},r.prototype.coreMO=function(){return this.childNodes[0].coreMO()},r.prototype.setTeXclass=function(e){return e=this.childNodes[0].setTeXclass(e),this.updateTeXclass(this.childNodes[0]),e},r.defaults=c.defaults,r}(c);e.AbstractMmlLayoutNode=d;var h=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return t(i,r),Object.defineProperty(i.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),i.prototype.core=function(){return this.childNodes[0]},i.prototype.coreMO=function(){return this.childNodes[0].coreMO()},i.prototype.setTeXclass=function(t){var r,i;this.getPrevClass(t),this.texClass=e.TEXCLASS.ORD;var o=this.childNodes[0];o?this.isEmbellished||o.isKind("mi")?(t=o.setTeXclass(t),this.updateTeXclass(this.core())):(o.setTeXclass(null),t=this):t=this;try{for(var a=n(this.childNodes.slice(1)),s=a.next();!s.done;s=a.next()){var l=s.value;l&&l.setTeXclass(null)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return t},i.defaults=c.defaults,i}(c);e.AbstractMmlBaseNode=h;var p=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return t(n,r),Object.defineProperty(n.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parent",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"texClass",{get:function(){return e.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"prevClass",{get:function(){return e.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"prevLevel",{get:function(){return 0},enumerable:!1,configurable:!0}),n.prototype.hasSpacingAttributes=function(){return!1},Object.defineProperty(n.prototype,"attributes",{get:function(){return null},enumerable:!1,configurable:!0}),n.prototype.core=function(){return this},n.prototype.coreMO=function(){return this},n.prototype.coreIndex=function(){return 0},n.prototype.childPosition=function(){return 0},n.prototype.setTeXclass=function(e){return e},n.prototype.texSpacing=function(){return""},n.prototype.setInheritedAttributes=function(e,t,r,n){},n.prototype.inheritAttributesFrom=function(e){},n.prototype.verifyTree=function(e){},n.prototype.mError=function(e,t,r){return null},n}(a.AbstractEmptyNode);e.AbstractMmlEmptyNode=p;var f=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.text="",t}return t(r,e),Object.defineProperty(r.prototype,"kind",{get:function(){return"text"},enumerable:!1,configurable:!0}),r.prototype.getText=function(){return this.text},r.prototype.setText=function(e){return this.text=e,this},r.prototype.copy=function(){return this.factory.create(this.kind).setText(this.getText())},r.prototype.toString=function(){return this.text},r}(p);e.TextNode=f;var m=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.xml=null,t.adaptor=null,t}return t(r,e),Object.defineProperty(r.prototype,"kind",{get:function(){return"XML"},enumerable:!1,configurable:!0}),r.prototype.getXML=function(){return this.xml},r.prototype.setXML=function(e,t){return void 0===t&&(t=null),this.xml=e,this.adaptor=t,this},r.prototype.getSerializedXML=function(){return this.adaptor.serializeXML(this.xml)},r.prototype.copy=function(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))},r.prototype.toString=function(){return"XML data"},r}(p);e.XMLNode=m}(MmlNode)),MmlNode}var string={},hasRequiredString;function requireString(){if(hasRequiredString)return string;hasRequiredString=1;var e=string&&string.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=string&&string.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(string,"__esModule",{value:!0}),string.split=string.isPercent=string.unicodeString=string.unicodeChars=string.quotePattern=string.sortLength=void 0,string.sortLength=function(e,t){return e.length!==t.length?t.length-e.length:e===t?0:e<t?-1:1},string.quotePattern=function(e){return e.replace(/([\^$(){}+*?\-|\[\]\:\\])/g,"\\$1")},string.unicodeChars=function(e){return Array.from(e).map(function(e){return e.codePointAt(0)})},string.unicodeString=function(r){return String.fromCodePoint.apply(String,t([],e(r),!1))},string.isPercent=function(e){return!!e.match(/%\s*$/)},string.split=function(e){return e.trim().split(/\s+/)},string}var BBox={},hasRequiredBBox;function requireBBox(){if(hasRequiredBBox)return BBox;hasRequiredBBox=1,Object.defineProperty(BBox,"__esModule",{value:!0}),BBox.BBox=void 0;var e=requireLengths(),t=function(){function t(t){void 0===t&&(t={w:0,h:-e.BIGDIMEN,d:-e.BIGDIMEN}),this.w=t.w||0,this.h="h"in t?t.h:-e.BIGDIMEN,this.d="d"in t?t.d:-e.BIGDIMEN,this.L=this.R=this.ic=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}return t.zero=function(){return new t({h:0,d:0,w:0})},t.empty=function(){return new t},t.prototype.empty=function(){return this.w=0,this.h=this.d=-e.BIGDIMEN,this},t.prototype.clean=function(){this.w===-e.BIGDIMEN&&(this.w=0),this.h===-e.BIGDIMEN&&(this.h=0),this.d===-e.BIGDIMEN&&(this.d=0)},t.prototype.rescale=function(e){this.w*=e,this.h*=e,this.d*=e},t.prototype.combine=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=e.rscale,i=t+n*(e.w+e.L+e.R),o=r+n*e.h,a=n*e.d-r;i>this.w&&(this.w=i),o>this.h&&(this.h=o),a>this.d&&(this.d=a)},t.prototype.append=function(e){var t=e.rscale;this.w+=t*(e.w+e.L+e.R),t*e.h>this.h&&(this.h=t*e.h),t*e.d>this.d&&(this.d=t*e.d)},t.prototype.updateFrom=function(e){this.h=e.h,this.d=e.d,this.w=e.w,e.pwidth&&(this.pwidth=e.pwidth)},t.fullWidth="100%",t.StyleAdjust=[["borderTopWidth","h"],["borderRightWidth","w"],["borderBottomWidth","d"],["borderLeftWidth","w",0],["paddingTop","h"],["paddingRight","w"],["paddingBottom","d"],["paddingLeft","w",0]],t}();return BBox.BBox=t,BBox}var FontData$1={},hasRequiredFontData$1,hasRequiredWrapper$1,hasRequiredWrapper;function requireFontData$1(){if(hasRequiredFontData$1)return FontData$1;hasRequiredFontData$1=1;var e=FontData$1&&FontData$1.__assign||function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)},t=FontData$1&&FontData$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=FontData$1&&FontData$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=FontData$1&&FontData$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(FontData$1,"__esModule",{value:!0}),FontData$1.FontData=FontData$1.NOSTRETCH=FontData$1.H=FontData$1.V=void 0;var i=requireOptions();FontData$1.V=1,FontData$1.H=2,FontData$1.NOSTRETCH={dir:0};var o=function(){function o(o){var a,s,l,c;void 0===o&&(o=null),this.variant={},this.delimiters={},this.cssFontMap={},this.remapChars={},this.skewIcFactor=.75;var u=this.constructor;this.options=(0,i.userOptions)((0,i.defaultOptions)({},u.OPTIONS),o),this.params=e({},u.defaultParams),this.sizeVariants=r([],t(u.defaultSizeVariants),!1),this.stretchVariants=r([],t(u.defaultStretchVariants),!1),this.cssFontMap=e({},u.defaultCssFonts);try{for(var d=n(Object.keys(this.cssFontMap)),h=d.next();!h.done;h=d.next()){var p=h.value;"unknown"===this.cssFontMap[p][0]&&(this.cssFontMap[p][0]=this.options.unknownFamily)}}catch(y){a={error:y}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}this.cssFamilyPrefix=u.defaultCssFamilyPrefix,this.createVariants(u.defaultVariants),this.defineDelimiters(u.defaultDelimiters);try{for(var f=n(Object.keys(u.defaultChars)),m=f.next();!m.done;m=f.next()){var g=m.value;this.defineChars(g,u.defaultChars[g])}}catch(b){l={error:b}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}this.defineRemap("accent",u.defaultAccentMap),this.defineRemap("mo",u.defaultMoMap),this.defineRemap("mn",u.defaultMnMap)}return o.charOptions=function(e,t){var r=e[t];return 3===r.length&&(r[3]={}),r[3]},Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles},set:function(e){this._styles=e},enumerable:!1,configurable:!0}),o.prototype.createVariant=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n={linked:[],chars:t?Object.create(this.variant[t].chars):{}};r&&this.variant[r]&&(Object.assign(n.chars,this.variant[r].chars),this.variant[r].linked.push(n.chars),n.chars=Object.create(n.chars)),this.remapSmpChars(n.chars,e),this.variant[e]=n},o.prototype.remapSmpChars=function(e,r){var i,o,a,s,l=this.constructor;if(l.VariantSmp[r]){var c=l.SmpRemap,u=[null,null,l.SmpRemapGreekU,l.SmpRemapGreekL];try{for(var d=n(l.SmpRanges),h=d.next();!h.done;h=d.next()){var p=t(h.value,3),f=p[0],m=p[1],g=p[2],y=l.VariantSmp[r][f];if(y){for(var b=m;b<=g;b++)if(930!==b){var v=y+b-m;e[b]=this.smpChar(c[v]||v)}if(u[f])try{for(var x=(a=void 0,n(Object.keys(u[f]).map(function(e){return parseInt(e)}))),$=x.next();!$.done;$=x.next()){e[b=$.value]=this.smpChar(y+u[f][b])}}catch(S){a={error:S}}finally{try{$&&!$.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}}}}catch(E){i={error:E}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}"bold"===r&&(e[988]=this.smpChar(120778),e[989]=this.smpChar(120779))},o.prototype.smpChar=function(e){return[,,,{smp:e}]},o.prototype.createVariants=function(e){var t,r;try{for(var i=n(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.createVariant(a[0],a[1],a[2])}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},o.prototype.defineChars=function(e,t){var r,i,o=this.variant[e];Object.assign(o.chars,t);try{for(var a=n(o.linked),s=a.next();!s.done;s=a.next()){var l=s.value;Object.assign(l,t)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},o.prototype.defineDelimiters=function(e){Object.assign(this.delimiters,e)},o.prototype.defineRemap=function(e,t){this.remapChars.hasOwnProperty(e)||(this.remapChars[e]={}),Object.assign(this.remapChars[e],t)},o.prototype.getDelimiter=function(e){return this.delimiters[e]},o.prototype.getSizeVariant=function(e,t){return this.delimiters[e].variants&&(t=this.delimiters[e].variants[t]),this.sizeVariants[t]},o.prototype.getStretchVariant=function(e,t){return this.stretchVariants[this.delimiters[e].stretchv?this.delimiters[e].stretchv[t]:0]},o.prototype.getChar=function(e,t){return this.variant[e].chars[t]},o.prototype.getVariant=function(e){return this.variant[e]},o.prototype.getCssFont=function(e){return this.cssFontMap[e]||["serif",!1,!1]},o.prototype.getFamily=function(e){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+e:e},o.prototype.getRemappedChar=function(e,t){return(this.remapChars[e]||{})[t]},o.OPTIONS={unknownFamily:"serif"},o.JAX="common",o.NAME="",o.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"]],o.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1]},o.defaultCssFamilyPrefix="",o.VariantSmp={bold:[119808,119834,120488,120514,120782],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},o.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],o.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},o.SmpRemapGreekU={8711:25,1012:17},o.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},o.defaultAccentMap={768:"",769:"",770:"",771:"",772:"",774:"",775:"",776:"",778:"",780:"",8594:"",8242:"'",8243:"''",8244:"'''",8245:"`",8246:"``",8247:"```",8279:"''''",8400:"",8401:"",8406:"",8417:"",8432:"*",8411:"...",8412:"....",8428:"",8429:"",8430:"",8431:""},o.defaultMoMap={45:""},o.defaultMnMap={45:""},o.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.075,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033},o.defaultDelimiters={},o.defaultChars={},o.defaultSizeVariants=[],o.defaultStretchVariants=[],o}();return FontData$1.FontData=o,FontData$1}function requireWrapper$1(){if(hasRequiredWrapper$1)return Wrapper$1;hasRequiredWrapper$1=1;var e=Wrapper$1&&Wrapper$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=Wrapper$1&&Wrapper$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Wrapper$1&&Wrapper$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=Wrapper$1&&Wrapper$1.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=Wrapper$1&&Wrapper$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=Wrapper$1&&Wrapper$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=Wrapper$1&&Wrapper$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(Wrapper$1,"__esModule",{value:!0}),Wrapper$1.CommonWrapper=void 0;var s=requireWrapper$2(),l=requireMmlNode(),c=requireString(),u=n(requireLengths()),d=requireStyles(),h=requireBBox(),p=requireFontData$1(),f=2/18;function m(e,t){return e?t<f?0:f:t}var g=function(t){function r(e,r,n){void 0===n&&(n=null);var i=t.call(this,e,r)||this;return i.parent=null,i.removedStyles=null,i.styles=null,i.variant="",i.bboxComputed=!1,i.stretch=p.NOSTRETCH,i.font=null,i.parent=n,i.font=e.jax.font,i.bbox=h.BBox.zero(),i.getStyles(),i.getVariant(),i.getScale(),i.getSpace(),i.childNodes=r.childNodes.map(function(e){var t=i.wrap(e);return t.bbox.pwidth&&(r.notParent||r.isKind("math"))&&(i.bbox.pwidth=h.BBox.fullWidth),t}),i}return e(r,t),Object.defineProperty(r.prototype,"jax",{get:function(){return this.factory.jax},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"adaptor",{get:function(){return this.factory.jax.adaptor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"metrics",{get:function(){return this.factory.jax.math.metrics},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fixesPWidth",{get:function(){return!this.node.notParent&&!this.node.isToken},enumerable:!1,configurable:!0}),r.prototype.wrap=function(e,t){void 0===t&&(t=null);var r=this.factory.wrap(e,t||this);return t&&t.childNodes.push(r),this.jax.nodeMap.set(e,r),r},r.prototype.getBBox=function(e){if(void 0===e&&(e=!0),this.bboxComputed)return this.bbox;var t=e?this.bbox:h.BBox.zero();return this.computeBBox(t),this.bboxComputed=e,t},r.prototype.getOuterBBox=function(e){var t,r;void 0===e&&(e=!0);var n=this.getBBox(e);if(!this.styles)return n;var a=new h.BBox;Object.assign(a,n);try{for(var s=i(h.BBox.StyleAdjust),l=s.next();!l.done;l=s.next()){var c=o(l.value,2),u=c[0],d=c[1],p=this.styles.get(u);p&&(a[d]+=this.length2em(p,1,a.rscale))}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},r.prototype.computeBBox=function(e,t){var r,n;void 0===t&&(t=!1),e.empty();try{for(var o=i(this.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;e.append(s.getOuterBBox())}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.clean(),this.fixesPWidth&&this.setChildPWidths(t)&&this.computeBBox(e,!0)},r.prototype.setChildPWidths=function(e,t,r){var n,o;if(void 0===t&&(t=null),void 0===r&&(r=!0),e)return!1;r&&(this.bbox.pwidth="");var a=!1;try{for(var s=i(this.childNodes),l=s.next();!l.done;l=s.next()){var c=l.value,u=c.getOuterBBox();u.pwidth&&c.setChildPWidths(e,null===t?u.w:t,r)&&(a=!0)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a},r.prototype.invalidateBBox=function(){this.bboxComputed&&(this.bboxComputed=!1,this.parent&&this.parent.invalidateBBox())},r.prototype.copySkewIC=function(e){var t=this.childNodes[0];(null==t?void 0:t.bbox.sk)&&(e.sk=t.bbox.sk),(null==t?void 0:t.bbox.dx)&&(e.dx=t.bbox.dx);var r=this.childNodes[this.childNodes.length-1];(null==r?void 0:r.bbox.ic)&&(e.ic=r.bbox.ic,e.w+=e.ic)},r.prototype.getStyles=function(){var e=this.node.attributes.getExplicit("style");if(e)for(var t=this.styles=new d.Styles(e),n=0,i=r.removeStyles.length;n<i;n++){var o=r.removeStyles[n];t.get(o)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[o]=t.get(o),t.set(o,""))}},r.prototype.getVariant=function(){if(this.node.isToken){var e=this.node.attributes,t=e.get("mathvariant");if(!e.getExplicit("mathvariant")){var n=e.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){var i=this.removedStyles;i.fontFamily&&(n.family=i.fontFamily),i.fontWeight&&(n.weight=i.fontWeight),i.fontStyle&&(n.style=i.fontStyle)}n.fontfamily&&(n.family=n.fontfamily),n.fontweight&&(n.weight=n.fontweight),n.fontstyle&&(n.style=n.fontstyle),n.weight&&n.weight.match(/^\d+$/)&&(n.weight=parseInt(n.weight)>600?"bold":"normal"),n.family?t=this.explicitVariant(n.family,n.weight,n.style):(this.node.getProperty("variantForm")&&(t="-tex-variant"),t=(r.BOLDVARIANTS[n.weight]||{})[t]||t,t=(r.ITALICVARIANTS[n.style]||{})[t]||t)}this.variant=t}},r.prototype.explicitVariant=function(e,t,r){var n=this.styles;return n||(n=this.styles=new d.Styles),n.set("fontFamily",e),t&&n.set("fontWeight",t),r&&n.set("fontStyle",r),"-explicitFont"},r.prototype.getScale=function(){var e=1,t=this.parent,r=t?t.bbox.scale:1,n=this.node.attributes,i=Math.min(n.get("scriptlevel"),2),o=n.get("fontsize"),a=this.node.isToken||this.node.isKind("mstyle")?n.get("mathsize"):n.getInherited("mathsize");if(0!==i){e=Math.pow(n.get("scriptsizemultiplier"),i);var s=this.length2em(n.get("scriptminsize"),.8,1);e<s&&(e=s)}this.removedStyles&&this.removedStyles.fontSize&&!o&&(o=this.removedStyles.fontSize),o&&!n.getExplicit("mathsize")&&(a=o),"1"!==a&&(e*=this.length2em(a,1,1)),this.bbox.scale=e,this.bbox.rscale=e/r},r.prototype.getSpace=function(){var e=this.isTopEmbellished(),t=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||t?e&&this.getMathMLSpacing():this.getTeXSpacing(e,t)},r.prototype.getMathMLSpacing=function(){var e=this.node.coreMO(),t=e.coreParent(),r=t.parent;if(r&&r.isKind("mrow")&&1!==r.childNodes.length){var n=e.attributes,i=n.get("scriptlevel")>0;this.bbox.L=n.isSet("lspace")?Math.max(0,this.length2em(n.get("lspace"))):m(i,e.lspace),this.bbox.R=n.isSet("rspace")?Math.max(0,this.length2em(n.get("rspace"))):m(i,e.rspace);var o=r.childIndex(t);if(0!==o){var a=r.childNodes[o-1];if(a.isEmbellished){var s=this.jax.nodeMap.get(a).getBBox();s.R&&(this.bbox.L=Math.max(0,this.bbox.L-s.R))}}}},r.prototype.getTeXSpacing=function(e,t){if(!t){var r=this.node.texSpacing();r&&(this.bbox.L=this.length2em(r))}if(e||t){var n=this.node.coreMO().attributes;n.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(n.get("lspace")))),n.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(n.get("rspace"))))}},r.prototype.isTopEmbellished=function(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)},r.prototype.core=function(){return this.jax.nodeMap.get(this.node.core())},r.prototype.coreMO=function(){return this.jax.nodeMap.get(this.node.coreMO())},r.prototype.getText=function(){var e,t,r="";if(this.node.isToken)try{for(var n=i(this.node.childNodes),o=n.next();!o.done;o=n.next()){var a=o.value;a instanceof l.TextNode&&(r+=a.getText())}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},r.prototype.canStretch=function(e){if(this.stretch=p.NOSTRETCH,this.node.isEmbellished){var t=this.core();t&&t.node!==this.node&&t.canStretch(e)&&(this.stretch=t.stretch)}return 0!==this.stretch.dir},r.prototype.getAlignShift=function(){var e,t=(e=this.node.attributes).getList.apply(e,a([],o(l.indentAttributes),!1)),r=t.indentalign,n=t.indentshift,i=t.indentalignfirst,s=t.indentshiftfirst;return"indentalign"!==i&&(r=i),"auto"===r&&(r=this.jax.options.displayAlign),"indentshift"!==s&&(n=s),"auto"===n&&(n=this.jax.options.displayIndent,"right"!==r||n.match(/^\s*0[a-z]*\s*$/)||(n=("-"+n.trim()).replace(/^--/,""))),[r,this.length2em(n,this.metrics.containerWidth)]},r.prototype.getAlignX=function(e,t,r){return"right"===r?e-(t.w+t.R)*t.rscale:"left"===r?t.L*t.rscale:(e-t.w*t.rscale)/2},r.prototype.getAlignY=function(e,t,r,n,i){return"top"===i?e-r:"bottom"===i?n-t:"center"===i?(e-r-(t-n))/2:0},r.prototype.getWrapWidth=function(e){return this.childNodes[e].getBBox().w},r.prototype.getChildAlign=function(e){return"left"},r.prototype.percent=function(e){return u.percent(e)},r.prototype.em=function(e){return u.em(e)},r.prototype.px=function(e,t){return void 0===t&&(t=-u.BIGDIMEN),u.px(e,t,this.metrics.em)},r.prototype.length2em=function(e,t,r){return void 0===t&&(t=1),void 0===r&&(r=null),null===r&&(r=this.bbox.scale),u.length2em(e,t,r,this.jax.pxPerEm)},r.prototype.unicodeChars=function(e,t){void 0===t&&(t=this.variant);var r=(0,c.unicodeChars)(e),n=this.font.getVariant(t);if(n&&n.chars){var i=n.chars;r=r.map(function(e){return((i[e]||[])[3]||{}).smp||e})}return r},r.prototype.remapChars=function(e){return e},r.prototype.mmlText=function(e){return this.node.factory.create("text").setText(e)},r.prototype.mmlNode=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=[]),this.node.factory.create(e,t,r)},r.prototype.createMo=function(e){var t=this.node.factory,r=t.create("text").setText(e),n=t.create("mo",{stretchy:!0},[r]);n.inheritAttributesFrom(this.node);var i=this.wrap(n);return i.parent=this,i},r.prototype.getVariantChar=function(e,t){var r=this.font.getChar(e,t)||[0,0,0,{unknown:!0}];return 3===r.length&&(r[3]={}),r},r.kind="unknown",r.styles={},r.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],r.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},r.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},r.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}},r}(s.AbstractWrapper);return Wrapper$1.CommonWrapper=g,Wrapper$1}function requireWrapper(){return hasRequiredWrapper||(hasRequiredWrapper=1,function(e){var t,r=Wrapper$2&&Wrapper$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=Wrapper$2&&Wrapper$2.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=Wrapper$2&&Wrapper$2.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Wrapper$2&&Wrapper$2.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=Wrapper$2&&Wrapper$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=Wrapper$2&&Wrapper$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLWrapper=e.SPACE=e.FONTSIZE=void 0;var l=o(requireLengths()),c=requireWrapper$1(),u=requireBBox();e.FONTSIZE={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"},e.SPACE=((t={})[l.em(2/18)]="1",t[l.em(3/18)]="2",t[l.em(4/18)]="3",t[l.em(5/18)]="4",t[l.em(6/18)]="5",t);var d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.chtml=null,e}return r(n,t),n.prototype.toCHTML=function(e){var t,r,n=this.standardCHTMLnode(e);try{for(var i=a(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.toCHTML(n)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.standardCHTMLnode=function(e){this.markUsed();var t=this.createCHTMLnode(e);return this.handleStyles(),this.handleVariant(),this.handleScale(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),t},n.prototype.markUsed=function(){this.jax.wrapperUsage.add(this.kind)},n.prototype.createCHTMLnode=function(e){var t=this.node.attributes.get("href");return t&&(e=this.adaptor.append(e,this.html("a",{href:t}))),this.chtml=this.adaptor.append(e,this.html("mjx-"+this.node.kind)),this.chtml},n.prototype.handleStyles=function(){if(this.styles){var e=this.styles.cssText;if(e){this.adaptor.setAttribute(this.chtml,"style",e);var t=this.styles.get("font-family");t&&this.adaptor.setStyle(this.chtml,"font-family","MJXZERO, "+t)}}},n.prototype.handleVariant=function(){this.node.isToken&&"-explicitFont"!==this.variant&&this.adaptor.setAttribute(this.chtml,"class",(this.font.getVariant(this.variant)||this.font.getVariant("normal")).classes)},n.prototype.handleScale=function(){this.setScale(this.chtml,this.bbox.rscale)},n.prototype.setScale=function(t,r){var n=Math.abs(r-1)<.001?1:r;if(t&&1!==n){var i=this.percent(n);e.FONTSIZE[i]?this.adaptor.setAttribute(t,"size",e.FONTSIZE[i]):this.adaptor.setStyle(t,"fontSize",i)}return t},n.prototype.handleSpace=function(){var t,r;try{for(var n=a([[this.bbox.L,"space","marginLeft"],[this.bbox.R,"rspace","marginRight"]]),i=n.next();!i.done;i=n.next()){var o=i.value,l=s(o,3),c=l[0],u=l[1],d=l[2];if(c){var h=this.em(c);e.SPACE[h]?this.adaptor.setAttribute(this.chtml,u,e.SPACE[h]):this.adaptor.setStyle(this.chtml,d,h)}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},n.prototype.handleColor=function(){var e=this.node.attributes,t=e.getExplicit("mathcolor"),r=e.getExplicit("color"),n=e.getExplicit("mathbackground"),i=e.getExplicit("background");(t||r)&&this.adaptor.setStyle(this.chtml,"color",t||r),(n||i)&&this.adaptor.setStyle(this.chtml,"backgroundColor",n||i)},n.prototype.handleAttributes=function(){var e,t,r,i,o=this.node.attributes,s=o.getAllDefaults(),l=n.skipAttributes;try{for(var c=a(o.getExplicitNames()),u=c.next();!u.done;u=c.next()){var d=u.value;!1!==l[d]&&(d in s||l[d]||this.adaptor.hasAttribute(this.chtml,d))||this.adaptor.setAttribute(this.chtml,d,o.getExplicit(d))}}catch(g){e={error:g}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(o.get("class")){var h=o.get("class").trim().split(/ +/);try{for(var p=a(h),f=p.next();!f.done;f=p.next()){var m=f.value;this.adaptor.addClass(this.chtml,m)}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}},n.prototype.handlePWidth=function(){this.bbox.pwidth&&(this.bbox.pwidth===u.BBox.fullWidth?this.adaptor.setAttribute(this.chtml,"width","full"):this.adaptor.setStyle(this.chtml,"width",this.bbox.pwidth))},n.prototype.setIndent=function(e,t,r){var n=this.adaptor;if("center"===t||"left"===t){var i=this.getBBox().L;n.setStyle(e,"margin-left",this.em(r+i))}if("center"===t||"right"===t){var o=this.getBBox().R;n.setStyle(e,"margin-right",this.em(-r+o))}},n.prototype.drawBBox=function(){var e=this.getBBox(),t=e.w,r=e.h,n=e.d,i=e.R,o=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-t-i)}},[this.html("mjx-box",{style:{height:this.em(r),width:this.em(t),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(n),width:this.em(t),"margin-left":this.em(-t),"vertical-align":this.em(-n),"background-color":"green"}})]),a=this.chtml||this.parent.chtml,s=this.adaptor.getAttribute(a,"size");s&&this.adaptor.setAttribute(o,"size",s);var l=this.adaptor.getStyle(a,"fontSize");l&&this.adaptor.setStyle(o,"fontSize",l),this.adaptor.append(this.adaptor.parent(a),o),this.adaptor.setStyle(a,"backgroundColor","#FFEE00")},n.prototype.html=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=[]),this.jax.html(e,t,r)},n.prototype.text=function(e){return this.jax.text(e)},n.prototype.char=function(e){return this.font.charSelector(e).substr(1)},n.kind="unknown",n.autoStyle=!0,n}(c.CommonWrapper);e.CHTMLWrapper=d}(Wrapper$2)),Wrapper$2}var math$3={},math$2={},hasRequiredMath$2;function requireMath$2(){if(hasRequiredMath$2)return math$2;hasRequiredMath$2=1;var e=math$2&&math$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(math$2,"__esModule",{value:!0}),math$2.CommonMathMixin=void 0,math$2.CommonMathMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.getWrapWidth=function(e){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm},r}(t)},math$2}var math$1={},hasRequiredMath$1,hasRequiredMath;function requireMath$1(){if(hasRequiredMath$1)return math$1;hasRequiredMath$1=1;var e=math$1&&math$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=math$1&&math$1.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(math$1,"__esModule",{value:!0}),math$1.MmlMath=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"math"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.setChildInheritedAttributes=function(e,t,r,i){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),t=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",t),r=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,n.prototype.setChildInheritedAttributes.call(this,e,t,r,i)},i.defaults=t(t({},r.AbstractMmlLayoutNode.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",infixlinebreakstyle:"before",lineleading:"1ex",linebreakmultchar:"",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),i}(r.AbstractMmlLayoutNode);return math$1.MmlMath=n,math$1}function requireMath(){if(hasRequiredMath)return math$3;hasRequiredMath=1;var e=math$3&&math$3.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=math$3&&math$3.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(math$3,"__esModule",{value:!0}),math$3.CHTMLmath=void 0;var r=requireWrapper(),n=requireMath$2(),i=requireMath$1(),o=requireBBox(),a=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){r.prototype.toCHTML.call(this,e);var t=this.chtml,n=this.adaptor;"block"===this.node.attributes.get("display")?(n.setAttribute(t,"display","true"),n.setAttribute(e,"display","true"),this.handleDisplay(e)):this.handleInline(e),n.addClass(t,"MJX-TEX")},n.prototype.handleDisplay=function(e){var r=this.adaptor,n=t(this.getAlignShift(),2),i=n[0],a=n[1];if("center"!==i&&r.setAttribute(e,"justify",i),this.bbox.pwidth===o.BBox.fullWidth){if(r.setAttribute(e,"width","full"),this.jax.table){var s=this.jax.table.getOuterBBox(),l=s.L,c=s.w,u=s.R;"right"===i?u=Math.max(u||-a,-a):"left"===i?l=Math.max(l||a,a):"center"===i&&(c+=2*Math.abs(a));var d=this.em(Math.max(0,l+c+u));r.setStyle(e,"min-width",d),r.setStyle(this.jax.table.chtml,"min-width",d)}}else this.setIndent(this.chtml,i,a)},n.prototype.handleInline=function(e){var t=this.adaptor,r=t.getStyle(this.chtml,"margin-right");r&&(t.setStyle(this.chtml,"margin-right",""),t.setStyle(e,"margin-right",r),t.setStyle(e,"width","0"))},n.prototype.setChildPWidths=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=!0),!!this.parent&&r.prototype.setChildPWidths.call(this,e,t,n)},n.kind=i.MmlMath.prototype.kind,n.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","border-collapse":"collapse","word-wrap":"normal","word-spacing":"normal","white-space":"nowrap",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"]':{display:"block","text-align":"center",margin:"1em 0"},'mjx-container[jax="CHTML"][display="true"][width="full"]':{display:"flex"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},'mjx-container[jax="CHTML"][justify="left"]':{"text-align":"left"},'mjx-container[jax="CHTML"][justify="right"]':{"text-align":"right"}},n}((0,n.CommonMathMixin)(r.CHTMLWrapper));return math$3.CHTMLmath=a,math$3}var mi$2={},mi$1={},hasRequiredMi$2;function requireMi$2(){if(hasRequiredMi$2)return mi$1;hasRequiredMi$2=1;var e=mi$1&&mi$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mi$1,"__esModule",{value:!0}),mi$1.CommonMiMixin=void 0,mi$1.CommonMiMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.computeBBox=function(e,r){t.prototype.computeBBox.call(this,e),this.copySkewIC(e)},r}(t)},mi$1}var mi={},hasRequiredMi$1,hasRequiredMi;function requireMi$1(){if(hasRequiredMi$1)return mi;hasRequiredMi$1=1;var e=mi&&mi.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mi&&mi.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mi,"__esModule",{value:!0}),mi.MmlMi=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mi"},enumerable:!1,configurable:!0}),i.prototype.setInheritedAttributes=function(e,t,r,o){void 0===e&&(e={}),void 0===t&&(t=!1),void 0===r&&(r=0),void 0===o&&(o=!1),n.prototype.setInheritedAttributes.call(this,e,t,r,o),this.getText().match(i.singleCharacter)&&!e.mathvariant&&this.attributes.setInherited("mathvariant","italic")},i.prototype.setTeXclass=function(e){this.getPrevClass(e);var t=this.getText();return t.length>1&&t.match(i.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=r.TEXCLASS.OP,this.setProperty("autoOP",!0)),this},i.defaults=t({},r.AbstractMmlTokenNode.defaults),i.operatorName=/^[a-z][a-z0-9]*$/i,i.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/,i}(r.AbstractMmlTokenNode);return mi.MmlMi=n,mi}function requireMi(){if(hasRequiredMi)return mi$2;hasRequiredMi=1;var e=mi$2&&mi$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mi$2,"__esModule",{value:!0}),mi$2.CHTMLmi=void 0;var t=requireWrapper(),r=requireMi$2(),n=requireMi$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=n.MmlMi.prototype.kind,r}((0,r.CommonMiMixin)(t.CHTMLWrapper));return mi$2.CHTMLmi=i,mi$2}var mo$2={},mo$1={},hasRequiredMo$2;function requireMo$2(){if(hasRequiredMo$2)return mo$1;hasRequiredMo$2=1;var e,t=mo$1&&mo$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=mo$1&&mo$1.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},n=mo$1&&mo$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=mo$1&&mo$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=mo$1&&mo$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mo$1,"__esModule",{value:!0}),mo$1.CommonMoMixin=mo$1.DirectionVH=void 0;var a=requireBBox(),s=requireString(),l=requireFontData$1();return mo$1.DirectionVH=((e={})[1]="v",e[2]="h",e),mo$1.CommonMoMixin=function(e){return function(e){function c(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(this,i([],n(t),!1))||this;return o.size=null,o.isAccent=o.node.isAccent,o}return t(c,e),c.prototype.computeBBox=function(e,t){if(this.protoBBox(e),this.node.attributes.get("symmetric")&&2!==this.stretch.dir){var r=this.getCenterOffset(e);e.h+=r,e.d-=r}this.node.getProperty("mathaccent")&&(0===this.stretch.dir||this.size>=0)&&(e.w=0)},c.prototype.protoBBox=function(t){var r=0!==this.stretch.dir;r&&null===this.size&&this.getStretchedVariant([0]),r&&this.size<0||(e.prototype.computeBBox.call(this,t),this.copySkewIC(t))},c.prototype.getAccentOffset=function(){var e=a.BBox.empty();return this.protoBBox(e),-e.w/2},c.prototype.getCenterOffset=function(t){return void 0===t&&(t=null),t||(t=a.BBox.empty(),e.prototype.computeBBox.call(this,t)),(t.h+t.d)/2+this.font.params.axis_height-t.h},c.prototype.getVariant=function(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.getExplicit("mathvariant")||!1!==this.node.getProperty("pseudoscript")?e.prototype.getVariant.call(this):this.variant="-tex-variant"},c.prototype.canStretch=function(e){if(0!==this.stretch.dir)return this.stretch.dir===e;if(!this.node.attributes.get("stretchy"))return!1;var t=this.getText();if(1!==Array.from(t).length)return!1;var r=this.font.getDelimiter(t.codePointAt(0));return this.stretch=r&&r.dir===e?r:l.NOSTRETCH,0!==this.stretch.dir},c.prototype.getStretchedVariant=function(e,t){var n,i;if(void 0===t&&(t=!1),0!==this.stretch.dir){var a=this.getWH(e),s=this.getSize("minsize",0),l=this.getSize("maxsize",1/0),c=this.node.getProperty("mathaccent");a=Math.max(s,Math.min(l,a));var u=this.font.params.delimiterfactor/1e3,d=this.font.params.delimitershortfall,h=s||t?a:c?Math.min(a/u,a+d):Math.max(a*u,a-d),p=this.stretch,f=p.c||this.getText().codePointAt(0),m=0;if(p.sizes)try{for(var g=o(p.sizes),y=g.next();!y.done;y=g.next()){if(y.value>=h)return c&&m&&m--,this.variant=this.font.getSizeVariant(f,m),this.size=m,void(p.schar&&p.schar[m]&&(this.stretch=r(r({},this.stretch),{c:p.schar[m]})));m++}}catch(b){n={error:b}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}p.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(e,this.checkExtendedHeight(a,p),p)):(this.variant=this.font.getSizeVariant(f,m-1),this.size=m-1)}},c.prototype.getSize=function(e,t){var r=this.node.attributes;return r.isSet(e)&&(t=this.length2em(r.get(e),1,1)),t},c.prototype.getWH=function(e){if(0===e.length)return 0;if(1===e.length)return e[0];var t=n(e,2),r=t[0],i=t[1],o=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(r-o,i+o):r+i},c.prototype.getStretchBBox=function(e,t,r){var i;r.hasOwnProperty("min")&&r.min>t&&(t=r.min);var o=n(r.HDW,3),a=o[0],s=o[1],l=o[2];1===this.stretch.dir?(a=(i=n(this.getBaseline(e,t,r),2))[0],s=i[1]):l=t,this.bbox.h=a,this.bbox.d=s,this.bbox.w=l},c.prototype.getBaseline=function(e,t,r){var i=2===e.length&&e[0]+e[1]===t,o=this.node.attributes.get("symmetric"),a=n(i?e:[t,0],2),s=a[0],l=a[1],c=n([s+l,0],2),u=c[0],d=c[1];if(o){var h=this.font.params.axis_height;i&&(u=2*Math.max(s-h,l+h)),d=u/2-h}else if(i)d=l;else{var p=n(r.HDW||[.75,.25],2),f=p[0],m=p[1];d=m*(u/(f+m))}return[u-d,d]},c.prototype.checkExtendedHeight=function(e,t){if(t.fullExt){var r=n(t.fullExt,2),i=r[0],o=r[1];e=o+Math.ceil(Math.max(0,e-o)/i)*i}return e},c.prototype.remapChars=function(e){var t=this.node.getProperty("primes");if(t)return(0,s.unicodeChars)(t);if(1===e.length){var r=this.node.coreParent().parent,n=this.isAccent&&!r.isKind("mrow")?"accent":"mo",i=this.font.getRemappedChar(n,e[0]);i&&(e=this.unicodeChars(i,this.variant))}return e},c}(e)},mo$1}var mo={},OperatorDictionary={},hasRequiredOperatorDictionary,hasRequiredMo$1,hasRequiredMo;function requireOperatorDictionary(){return hasRequiredOperatorDictionary||(hasRequiredOperatorDictionary=1,function(e){var t=OperatorDictionary&&OperatorDictionary.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.OPTABLE=e.MMLSPACING=e.getRange=e.RANGES=e.MO=e.OPDEF=void 0;var r=requireMmlNode();function n(e,t,n,i){return void 0===n&&(n=r.TEXCLASS.BIN),void 0===i&&(i=null),[e,t,n,i]}e.OPDEF=n,e.MO={ORD:n(0,0,r.TEXCLASS.ORD),ORD11:n(1,1,r.TEXCLASS.ORD),ORD21:n(2,1,r.TEXCLASS.ORD),ORD02:n(0,2,r.TEXCLASS.ORD),ORD55:n(5,5,r.TEXCLASS.ORD),NONE:n(0,0,r.TEXCLASS.NONE),OP:n(1,2,r.TEXCLASS.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:n(1,2,r.TEXCLASS.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:n(0,1,r.TEXCLASS.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:n(1,2,r.TEXCLASS.OP,{largeop:!0,symmetric:!0}),BIN3:n(3,3,r.TEXCLASS.BIN),BIN4:n(4,4,r.TEXCLASS.BIN),BIN01:n(0,1,r.TEXCLASS.BIN),BIN5:n(5,5,r.TEXCLASS.BIN),TALLBIN:n(4,4,r.TEXCLASS.BIN,{stretchy:!0}),BINOP:n(4,4,r.TEXCLASS.BIN,{largeop:!0,movablelimits:!0}),REL:n(5,5,r.TEXCLASS.REL),REL1:n(1,1,r.TEXCLASS.REL,{stretchy:!0}),REL4:n(4,4,r.TEXCLASS.REL),RELSTRETCH:n(5,5,r.TEXCLASS.REL,{stretchy:!0}),RELACCENT:n(5,5,r.TEXCLASS.REL,{accent:!0}),WIDEREL:n(5,5,r.TEXCLASS.REL,{accent:!0,stretchy:!0}),OPEN:n(0,0,r.TEXCLASS.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:n(0,0,r.TEXCLASS.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:n(0,0,r.TEXCLASS.INNER),PUNCT:n(0,3,r.TEXCLASS.PUNCT),ACCENT:n(0,0,r.TEXCLASS.ORD,{accent:!0}),WIDEACCENT:n(0,0,r.TEXCLASS.ORD,{accent:!0,stretchy:!0})},e.RANGES=[[32,127,r.TEXCLASS.REL,"mo"],[160,191,r.TEXCLASS.ORD,"mo"],[192,591,r.TEXCLASS.ORD,"mi"],[688,879,r.TEXCLASS.ORD,"mo"],[880,6688,r.TEXCLASS.ORD,"mi"],[6832,6911,r.TEXCLASS.ORD,"mo"],[6912,7615,r.TEXCLASS.ORD,"mi"],[7616,7679,r.TEXCLASS.ORD,"mo"],[7680,8191,r.TEXCLASS.ORD,"mi"],[8192,8303,r.TEXCLASS.ORD,"mo"],[8304,8351,r.TEXCLASS.ORD,"mo"],[8448,8527,r.TEXCLASS.ORD,"mi"],[8528,8591,r.TEXCLASS.ORD,"mn"],[8592,8703,r.TEXCLASS.REL,"mo"],[8704,8959,r.TEXCLASS.BIN,"mo"],[8960,9215,r.TEXCLASS.ORD,"mo"],[9312,9471,r.TEXCLASS.ORD,"mn"],[9472,10223,r.TEXCLASS.ORD,"mo"],[10224,10239,r.TEXCLASS.REL,"mo"],[10240,10495,r.TEXCLASS.ORD,"mtext"],[10496,10623,r.TEXCLASS.REL,"mo"],[10624,10751,r.TEXCLASS.ORD,"mo"],[10752,11007,r.TEXCLASS.BIN,"mo"],[11008,11055,r.TEXCLASS.ORD,"mo"],[11056,11087,r.TEXCLASS.REL,"mo"],[11088,11263,r.TEXCLASS.ORD,"mo"],[11264,11744,r.TEXCLASS.ORD,"mi"],[11776,11903,r.TEXCLASS.ORD,"mo"],[11904,12255,r.TEXCLASS.ORD,"mi","normal"],[12272,12351,r.TEXCLASS.ORD,"mo"],[12352,42143,r.TEXCLASS.ORD,"mi","normal"],[42192,43055,r.TEXCLASS.ORD,"mi"],[43056,43071,r.TEXCLASS.ORD,"mn"],[43072,55295,r.TEXCLASS.ORD,"mi"],[63744,64255,r.TEXCLASS.ORD,"mi","normal"],[64256,65023,r.TEXCLASS.ORD,"mi"],[65024,65135,r.TEXCLASS.ORD,"mo"],[65136,65791,r.TEXCLASS.ORD,"mi"],[65792,65935,r.TEXCLASS.ORD,"mn"],[65936,74751,r.TEXCLASS.ORD,"mi","normal"],[74752,74879,r.TEXCLASS.ORD,"mn"],[74880,113823,r.TEXCLASS.ORD,"mi","normal"],[113824,119391,r.TEXCLASS.ORD,"mo"],[119648,119679,r.TEXCLASS.ORD,"mn"],[119808,120781,r.TEXCLASS.ORD,"mi"],[120782,120831,r.TEXCLASS.ORD,"mn"],[122624,129023,r.TEXCLASS.ORD,"mo"],[129024,129279,r.TEXCLASS.REL,"mo"],[129280,129535,r.TEXCLASS.ORD,"mo"],[131072,195103,r.TEXCLASS.ORD,"mi","normnal"]],e.getRange=function(r){var n,i,o=r.codePointAt(0);try{for(var a=t(e.RANGES),s=a.next();!s.done;s=a.next()){var l=s.value;if(o<=l[1]){if(o>=l[0])return l;break}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return null},e.MMLSPACING=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],e.OPTABLE={prefix:{"(":e.MO.OPEN,"+":e.MO.BIN01,"-":e.MO.BIN01,"[":e.MO.OPEN,"{":e.MO.OPEN,"|":e.MO.OPEN,"||":[0,0,r.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.ORD21,"":e.MO.BIN01,"":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":[0,0,r.TEXCLASS.OPEN,{fence:!0}],"":[0,0,r.TEXCLASS.OPEN,{fence:!0}],"":e.MO.ORD21,"":n(2,0,r.TEXCLASS.ORD),"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.BIN01,"":e.MO.BIN01,"":[1,1,r.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.ORD11,"":e.MO.ORD11,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.OP,"":e.MO.OP},postfix:{"!!":n(1,0),"!":[1,0,r.TEXCLASS.CLOSE,null],'"':e.MO.ACCENT,"&":e.MO.ORD,")":e.MO.CLOSE,"++":n(0,0),"--":n(0,0),"..":n(0,0),"...":e.MO.ORD,"'":e.MO.ACCENT,"]":e.MO.CLOSE,"^":e.MO.WIDEACCENT,_:e.MO.WIDEACCENT,"`":e.MO.ACCENT,"|":e.MO.CLOSE,"}":e.MO.CLOSE,"~":e.MO.WIDEACCENT,"||":[0,0,r.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.REL,"":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":[0,0,r.TEXCLASS.CLOSE,{fence:!0}],"":e.MO.ACCENT,"":e.MO.ACCENT,"":[0,0,r.TEXCLASS.CLOSE,{fence:!0}],"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.ORD02,"":e.MO.ORD02,"":e.MO.ORD02,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":[0,0,r.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE},infix:{"!=":e.MO.BIN4,"#":e.MO.ORD,$:e.MO.ORD,"%":[3,3,r.TEXCLASS.ORD,null],"&&":e.MO.BIN4,"":e.MO.ORD,"*":e.MO.BIN3,"**":n(1,1),"*=":e.MO.BIN4,"+":e.MO.BIN4,"+=":e.MO.BIN4,",":[0,3,r.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"-":e.MO.BIN4,"-=":e.MO.BIN4,"->":e.MO.BIN5,".":[0,3,r.TEXCLASS.PUNCT,{separator:!0}],"/":e.MO.ORD11,"//":n(1,1),"/=":e.MO.BIN4,":":[1,2,r.TEXCLASS.REL,null],":=":e.MO.BIN4,";":[0,3,r.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"<":e.MO.REL,"<=":e.MO.BIN5,"<>":n(1,1),"=":e.MO.REL,"==":e.MO.BIN4,">":e.MO.REL,">=":e.MO.BIN5,"?":[1,1,r.TEXCLASS.CLOSE,null],"@":e.MO.ORD11,"\\":e.MO.ORD,"^":e.MO.ORD11,_:e.MO.ORD11,"|":[2,2,r.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,r.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,r.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.REL4,"":[0,0,r.TEXCLASS.ORD,{stretchy:!0}],"":[0,0,r.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.INNER,"":e.MO.BIN4,"":e.MO.TALLBIN,"":e.MO.NONE,"":e.MO.NONE,"":[0,0,r.TEXCLASS.NONE,{linebreakstyle:"after",separator:!0}],"":e.MO.NONE,"":e.MO.ACCENT,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":n(1,2,r.TEXCLASS.ORD),"":e.MO.ORD,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.TALLBIN,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.ORD,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.ORD55,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.ORD55,"":e.MO.INNER,"":e.MO.REL,"":[5,5,r.TEXCLASS.INNER,null],"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL4,"":e.MO.REL4,"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.ORD,"":[0,0,r.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.ORD,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT}},e.OPTABLE.infix["^"]=e.MO.WIDEREL,e.OPTABLE.infix._=e.MO.WIDEREL,e.OPTABLE.infix[""]=e.MO.REL}(OperatorDictionary)),OperatorDictionary}function requireMo$1(){if(hasRequiredMo$1)return mo;hasRequiredMo$1=1;var e=mo&&mo.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mo&&mo.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mo&&mo.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=mo&&mo.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mo,"__esModule",{value:!0}),mo.MmlMo=void 0;var i=requireMmlNode(),o=requireOperatorDictionary(),a=requireString(),s=function(s){function l(){var e=null!==s&&s.apply(this,arguments)||this;return e._texClass=null,e.lspace=5/18,e.rspace=5/18,e}return e(l,s),Object.defineProperty(l.prototype,"texClass",{get:function(){if(null===this._texClass){var e=this.getText(),t=r(this.handleExplicitForm(this.getForms()),3),n=t[0],o=t[1],a=t[2],s=this.constructor.OPTABLE,l=s[n][e]||s[o][e]||s[a][e];return l?l[2]:i.TEXCLASS.REL}return this._texClass},set:function(e){this._texClass=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"kind",{get:function(){return"mo"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isEmbellished",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasNewLine",{get:function(){return"newline"===this.attributes.get("linebreak")},enumerable:!1,configurable:!0}),l.prototype.coreParent=function(){for(var e=this,t=this,r=this.factory.getNodeClass("math");t&&t.isEmbellished&&t.coreMO()===this&&!(t instanceof r);)e=t,t=t.parent;return e},l.prototype.coreText=function(e){if(!e)return"";if(e.isEmbellished)return e.coreMO().getText();for(;((e.isKind("mrow")||e.isKind("TeXAtom")&&e.texClass!==i.TEXCLASS.VCENTER||e.isKind("mstyle")||e.isKind("mphantom"))&&1===e.childNodes.length||e.isKind("munderover"))&&e.childNodes[0];)e=e.childNodes[0];return e.isToken?e.getText():""},l.prototype.hasSpacingAttributes=function(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")},Object.defineProperty(l.prototype,"isAccent",{get:function(){var e=!1,t=this.coreParent().parent;if(t){var r=t.isKind("mover")?t.childNodes[t.over].coreMO()?"accent":"":t.isKind("munder")?t.childNodes[t.under].coreMO()?"accentunder":"":t.isKind("munderover")?this===t.childNodes[t.over].coreMO()?"accent":this===t.childNodes[t.under].coreMO()?"accentunder":"":"";if(r)e=void 0!==t.attributes.getExplicit(r)?e:this.attributes.get("accent")}return e},enumerable:!1,configurable:!0}),l.prototype.setTeXclass=function(e){var t=this.attributes.getList("form","fence"),r=t.form,n=t.fence;return void 0===this.getProperty("texClass")&&(this.attributes.isSet("lspace")||this.attributes.isSet("rspace"))?null:(n&&this.texClass===i.TEXCLASS.REL&&("prefix"===r&&(this.texClass=i.TEXCLASS.OPEN),"postfix"===r&&(this.texClass=i.TEXCLASS.CLOSE)),this.adjustTeXclass(e))},l.prototype.adjustTeXclass=function(e){var t=this.texClass,r=this.prevClass;if(t===i.TEXCLASS.NONE)return e;if(e?(!e.getProperty("autoOP")||t!==i.TEXCLASS.BIN&&t!==i.TEXCLASS.REL||(r=e.texClass=i.TEXCLASS.ORD),r=this.prevClass=e.texClass||i.TEXCLASS.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):r=this.prevClass=i.TEXCLASS.NONE,t!==i.TEXCLASS.BIN||r!==i.TEXCLASS.NONE&&r!==i.TEXCLASS.BIN&&r!==i.TEXCLASS.OP&&r!==i.TEXCLASS.REL&&r!==i.TEXCLASS.OPEN&&r!==i.TEXCLASS.PUNCT)if(r!==i.TEXCLASS.BIN||t!==i.TEXCLASS.REL&&t!==i.TEXCLASS.CLOSE&&t!==i.TEXCLASS.PUNCT){if(t===i.TEXCLASS.BIN){for(var n=this,o=this.parent;o&&o.parent&&o.isEmbellished&&(1===o.childNodes.length||!o.isKind("mrow")&&o.core()===n);)n=o,o=o.parent;o.childNodes[o.childNodes.length-1]===n&&(this.texClass=i.TEXCLASS.ORD)}}else e.texClass=this.prevClass=i.TEXCLASS.ORD;else this.texClass=i.TEXCLASS.ORD;return this},l.prototype.setInheritedAttributes=function(e,t,r,n){void 0===e&&(e={}),void 0===t&&(t=!1),void 0===r&&(r=0),void 0===n&&(n=!1),s.prototype.setInheritedAttributes.call(this,e,t,r,n);var i=this.getText();this.checkOperatorTable(i),this.checkPseudoScripts(i),this.checkPrimes(i),this.checkMathAccent(i)},l.prototype.checkOperatorTable=function(e){var t,i,a=r(this.handleExplicitForm(this.getForms()),3),s=a[0],l=a[1],c=a[2];this.attributes.setInherited("form",s);var u=this.constructor.OPTABLE,d=u[s][e]||u[l][e]||u[c][e];if(d){void 0===this.getProperty("texClass")&&(this.texClass=d[2]);try{for(var h=n(Object.keys(d[3]||{})),p=h.next();!p.done;p=h.next()){var f=p.value;this.attributes.setInherited(f,d[3][f])}}catch(y){t={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}this.lspace=(d[0]+1)/18,this.rspace=(d[1]+1)/18}else{var m=(0,o.getRange)(e);if(m){void 0===this.getProperty("texClass")&&(this.texClass=m[2]);var g=this.constructor.MMLSPACING[m[2]];this.lspace=(g[0]+1)/18,this.rspace=(g[1]+1)/18}}},l.prototype.getForms=function(){for(var e=this,t=this.parent,r=this.Parent;r&&r.isEmbellished;)e=t,t=r.parent,r=r.Parent;if(t&&t.isKind("mrow")&&1!==t.nonSpaceLength()){if(t.firstNonSpace()===e)return["prefix","infix","postfix"];if(t.lastNonSpace()===e)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]},l.prototype.handleExplicitForm=function(e){if(this.attributes.isSet("form")){var t=this.attributes.get("form");e=[t].concat(e.filter(function(e){return e!==t}))}return e},l.prototype.checkPseudoScripts=function(e){var t=this.constructor.pseudoScripts;if(e.match(t)){var r=this.coreParent().Parent,n=!r||!(r.isKind("msubsup")&&!r.isKind("msub"));this.setProperty("pseudoscript",n),n&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}},l.prototype.checkPrimes=function(e){var t=this.constructor.primes;if(e.match(t)){var r=this.constructor.remapPrimes,n=(0,a.unicodeString)((0,a.unicodeChars)(e).map(function(e){return r[e]}));this.setProperty("primes",n)}},l.prototype.checkMathAccent=function(e){var t=this.Parent;if(void 0===this.getProperty("mathaccent")&&t&&t.isKind("munderover")){var r=t.childNodes[0];if(!r.isEmbellished||r.coreMO()!==this){var n=this.constructor.mathaccents;e.match(n)&&this.setProperty("mathaccent",!0)}}},l.defaults=t(t({},i.AbstractMmlTokenNode.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"1ex",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),l.MMLSPACING=o.MMLSPACING,l.OPTABLE=o.OPTABLE,l.pseudoScripts=new RegExp(["^[\"'*`","","","-","","","-","-","","-","-","]+$"].join("")),l.primes=new RegExp(["^[\"'`","-","]+$"].join("")),l.remapPrimes={34:8243,39:8242,96:8245,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},l.mathaccents=new RegExp(["^[","","`","","~","","","","^","","","","","","]$"].join("")),l}(i.AbstractMmlTokenNode);return mo.MmlMo=s,mo}function requireMo(){if(hasRequiredMo)return mo$2;hasRequiredMo=1;var e=mo$2&&mo$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mo$2&&mo$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mo$2,"__esModule",{value:!0}),mo$2.CHTMLmo=void 0;var r=requireWrapper(),n=requireMo$2(),i=requireMo$1(),o=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return e(o,r),o.prototype.toCHTML=function(e){var r,n,i=this.node.attributes,o=i.get("symmetric")&&2!==this.stretch.dir,a=0!==this.stretch.dir;a&&null===this.size&&this.getStretchedVariant([]);var s=this.standardCHTMLnode(e);if(a&&this.size<0)this.stretchHTML(s);else{if(o||i.get("largeop")){var l=this.em(this.getCenterOffset());"0"!==l&&this.adaptor.setStyle(s,"verticalAlign",l)}this.node.getProperty("mathaccent")&&(this.adaptor.setStyle(s,"width","0"),this.adaptor.setStyle(s,"margin-left",this.em(this.getAccentOffset())));try{for(var c=t(this.childNodes),u=c.next();!u.done;u=c.next()){u.value.toCHTML(s)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}},o.prototype.stretchHTML=function(e){var t=this.getText().codePointAt(0);this.font.delimUsage.add(t),this.childNodes[0].markUsed();var r=this.stretch,i=r.stretch,o=[];i[0]&&o.push(this.html("mjx-beg",{},[this.html("mjx-c")])),o.push(this.html("mjx-ext",{},[this.html("mjx-c")])),4===i.length&&o.push(this.html("mjx-mid",{},[this.html("mjx-c")]),this.html("mjx-ext",{},[this.html("mjx-c")])),i[2]&&o.push(this.html("mjx-end",{},[this.html("mjx-c")]));var a={},s=this.bbox,l=s.h,c=s.d,u=s.w;1===r.dir?(o.push(this.html("mjx-mark")),a.height=this.em(l+c),a.verticalAlign=this.em(-c)):a.width=this.em(u);var d=n.DirectionVH[r.dir],h={class:this.char(r.c||t),style:a},p=this.html("mjx-stretchy-"+d,h,o);this.adaptor.append(e,p)},o.kind=i.MmlMo.prototype.kind,o.styles={"mjx-stretchy-h":{display:"inline-table",width:"100%"},"mjx-stretchy-h > *":{display:"table-cell",width:0},"mjx-stretchy-h > * > mjx-c":{display:"inline-block",transform:"scalex(1.0000001)"},"mjx-stretchy-h > * > mjx-c::before":{display:"inline-block",width:"initial"},"mjx-stretchy-h > mjx-ext":{"/* IE */ overflow":"hidden","/* others */ overflow":"clip visible",width:"100%"},"mjx-stretchy-h > mjx-ext > mjx-c::before":{transform:"scalex(500)"},"mjx-stretchy-h > mjx-ext > mjx-c":{width:0},"mjx-stretchy-h > mjx-beg > mjx-c":{"margin-right":"-.1em"},"mjx-stretchy-h > mjx-end > mjx-c":{"margin-left":"-.1em"},"mjx-stretchy-v":{display:"inline-block"},"mjx-stretchy-v > *":{display:"block"},"mjx-stretchy-v > mjx-beg":{height:0},"mjx-stretchy-v > mjx-end > mjx-c":{display:"block"},"mjx-stretchy-v > * > mjx-c":{transform:"scaley(1.0000001)","transform-origin":"left center",overflow:"hidden"},"mjx-stretchy-v > mjx-ext":{display:"block",height:"100%","box-sizing":"border-box",border:"0px solid transparent","/* IE */ overflow":"hidden","/* others */ overflow":"visible clip"},"mjx-stretchy-v > mjx-ext > mjx-c::before":{width:"initial","box-sizing":"border-box"},"mjx-stretchy-v > mjx-ext > mjx-c":{transform:"scaleY(500) translateY(.075em)",overflow:"visible"},"mjx-mark":{display:"inline-block",height:"0px"}},o}((0,n.CommonMoMixin)(r.CHTMLWrapper));return mo$2.CHTMLmo=o,mo$2}var mn$2={},mn$1={},hasRequiredMn$2;function requireMn$2(){if(hasRequiredMn$2)return mn$1;hasRequiredMn$2=1;var e=mn$1&&mn$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mn$1,"__esModule",{value:!0}),mn$1.CommonMnMixin=void 0,mn$1.CommonMnMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.remapChars=function(e){if(e.length){var t=this.font.getRemappedChar("mn",e[0]);if(t){var r=this.unicodeChars(t,this.variant);1===r.length?e[0]=r[0]:e=r.concat(e.slice(1))}}return e},r}(t)},mn$1}var mn={},hasRequiredMn$1,hasRequiredMn;function requireMn$1(){if(hasRequiredMn$1)return mn;hasRequiredMn$1=1;var e=mn&&mn.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mn&&mn.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mn,"__esModule",{value:!0}),mn.MmlMn=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mn"},enumerable:!1,configurable:!0}),i.defaults=t({},r.AbstractMmlTokenNode.defaults),i}(r.AbstractMmlTokenNode);return mn.MmlMn=n,mn}function requireMn(){if(hasRequiredMn)return mn$2;hasRequiredMn=1;var e=mn$2&&mn$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mn$2,"__esModule",{value:!0}),mn$2.CHTMLmn=void 0;var t=requireWrapper(),r=requireMn$2(),n=requireMn$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=n.MmlMn.prototype.kind,r}((0,r.CommonMnMixin)(t.CHTMLWrapper));return mn$2.CHTMLmn=i,mn$2}var ms$2={},ms$1={},hasRequiredMs$2;function requireMs$2(){if(hasRequiredMs$2)return ms$1;hasRequiredMs$2=1;var e=ms$1&&ms$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=ms$1&&ms$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=ms$1&&ms$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(ms$1,"__esModule",{value:!0}),ms$1.CommonMsMixin=void 0,ms$1.CommonMsMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this,a=o.node.attributes,s=a.getList("lquote","rquote");return"monospace"!==o.variant&&(a.isSet("lquote")||'"'!==s.lquote||(s.lquote=""),a.isSet("rquote")||'"'!==s.rquote||(s.rquote="")),o.childNodes.unshift(o.createText(s.lquote)),o.childNodes.push(o.createText(s.rquote)),o}return e(i,n),i.prototype.createText=function(e){var t=this.wrap(this.mmlText(e));return t.parent=this,t},i}(n)},ms$1}var ms={},hasRequiredMs$1,hasRequiredMs;function requireMs$1(){if(hasRequiredMs$1)return ms;hasRequiredMs$1=1;var e=ms&&ms.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=ms&&ms.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(ms,"__esModule",{value:!0}),ms.MmlMs=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"ms"},enumerable:!1,configurable:!0}),i.defaults=t(t({},r.AbstractMmlTokenNode.defaults),{lquote:'"',rquote:'"'}),i}(r.AbstractMmlTokenNode);return ms.MmlMs=n,ms}function requireMs(){if(hasRequiredMs)return ms$2;hasRequiredMs=1;var e=ms$2&&ms$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ms$2,"__esModule",{value:!0}),ms$2.CHTMLms=void 0;var t=requireWrapper(),r=requireMs$2(),n=requireMs$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=n.MmlMs.prototype.kind,r}((0,r.CommonMsMixin)(t.CHTMLWrapper));return ms$2.CHTMLms=i,ms$2}var mtext$2={},mtext$1={},hasRequiredMtext$2;function requireMtext$2(){if(hasRequiredMtext$2)return mtext$1;hasRequiredMtext$2=1;var e=mtext$1&&mtext$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mtext$1,"__esModule",{value:!0}),mtext$1.CommonMtextMixin=void 0,mtext$1.CommonMtextMixin=function(t){var r;return r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.getVariant=function(){var e=this.jax.options,r=this.jax.math.outputData,n=(!!r.merrorFamily||!!e.merrorFont)&&this.node.Parent.isKind("merror");if(r.mtextFamily||e.mtextFont||n){var i=this.node.attributes.get("mathvariant"),o=this.constructor.INHERITFONTS[i]||this.jax.font.getCssFont(i),a=o[0]||(n?r.merrorFamily||e.merrorFont:r.mtextFamily||e.mtextFont);this.variant=this.explicitVariant(a,o[2]?"bold":"",o[1]?"italic":"")}else t.prototype.getVariant.call(this)},r}(t),r.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},r},mtext$1}var mtext={},hasRequiredMtext$1,hasRequiredMtext;function requireMtext$1(){if(hasRequiredMtext$1)return mtext;hasRequiredMtext$1=1;var e=mtext&&mtext.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtext&&mtext.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mtext,"__esModule",{value:!0}),mtext.MmlMtext=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mtext"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),i.defaults=t({},r.AbstractMmlTokenNode.defaults),i}(r.AbstractMmlTokenNode);return mtext.MmlMtext=n,mtext}function requireMtext(){if(hasRequiredMtext)return mtext$2;hasRequiredMtext=1;var e=mtext$2&&mtext$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mtext$2,"__esModule",{value:!0}),mtext$2.CHTMLmtext=void 0;var t=requireWrapper(),r=requireMtext$2(),n=requireMtext$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=n.MmlMtext.prototype.kind,r}((0,r.CommonMtextMixin)(t.CHTMLWrapper));return mtext$2.CHTMLmtext=i,mtext$2}var mspace$2={},mspace$1={},hasRequiredMspace$2;function requireMspace$2(){if(hasRequiredMspace$2)return mspace$1;hasRequiredMspace$2=1;var e=mspace$1&&mspace$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mspace$1,"__esModule",{value:!0}),mspace$1.CommonMspaceMixin=void 0,mspace$1.CommonMspaceMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.computeBBox=function(e,t){var r=this.node.attributes;e.w=this.length2em(r.get("width"),0),e.h=this.length2em(r.get("height"),0),e.d=this.length2em(r.get("depth"),0)},r.prototype.handleVariant=function(){},r}(t)},mspace$1}var mspace={},hasRequiredMspace$1,hasRequiredMspace;function requireMspace$1(){if(hasRequiredMspace$1)return mspace;hasRequiredMspace$1=1;var e=mspace&&mspace.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mspace&&mspace.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mspace,"__esModule",{value:!0}),mspace.MmlMspace=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.NONE,e}return e(i,n),i.prototype.setTeXclass=function(e){return e},Object.defineProperty(i.prototype,"kind",{get:function(){return"mspace"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasNewline",{get:function(){var e=this.attributes;return null==e.getExplicit("width")&&null==e.getExplicit("height")&&null==e.getExplicit("depth")&&"newline"===e.get("linebreak")},enumerable:!1,configurable:!0}),i.defaults=t(t({},r.AbstractMmlTokenNode.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto"}),i}(r.AbstractMmlTokenNode);return mspace.MmlMspace=n,mspace}function requireMspace(){if(hasRequiredMspace)return mspace$2;hasRequiredMspace=1;var e=mspace$2&&mspace$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mspace$2,"__esModule",{value:!0}),mspace$2.CHTMLmspace=void 0;var t=requireWrapper(),r=requireMspace$2(),n=requireMspace$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t=this.standardCHTMLnode(e),r=this.getBBox(),n=r.w,i=r.h,o=r.d;n<0&&(this.adaptor.setStyle(t,"marginRight",this.em(n)),n=0),n&&this.adaptor.setStyle(t,"width",this.em(n)),(i=Math.max(0,i+o))&&this.adaptor.setStyle(t,"height",this.em(Math.max(0,i))),o&&this.adaptor.setStyle(t,"verticalAlign",this.em(-o))},r.kind=n.MmlMspace.prototype.kind,r}((0,r.CommonMspaceMixin)(t.CHTMLWrapper));return mspace$2.CHTMLmspace=i,mspace$2}var mpadded$2={},mpadded$1={},hasRequiredMpadded$2;function requireMpadded$2(){if(hasRequiredMpadded$2)return mpadded$1;hasRequiredMpadded$2=1;var e=mpadded$1&&mpadded$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mpadded$1&&mpadded$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};return Object.defineProperty(mpadded$1,"__esModule",{value:!0}),mpadded$1.CommonMpaddedMixin=void 0,mpadded$1.CommonMpaddedMixin=function(r){return function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.getDimens=function(){var e=this.node.attributes.getList("width","height","depth","lspace","voffset"),t=this.childNodes[0].getBBox(),r=t.w,n=t.h,i=t.d,o=r,a=n,s=i,l=0,c=0,u=0;""!==e.width&&(r=this.dimen(e.width,t,"w",0)),""!==e.height&&(n=this.dimen(e.height,t,"h",0)),""!==e.depth&&(i=this.dimen(e.depth,t,"d",0)),""!==e.voffset&&(c=this.dimen(e.voffset,t)),""!==e.lspace&&(l=this.dimen(e.lspace,t));var d=this.node.attributes.get("data-align");return d&&(u=this.getAlignX(r,t,d)),[a,s,o,n-a,i-s,r-o,l,c,u]},n.prototype.dimen=function(e,t,r,n){void 0===r&&(r=""),void 0===n&&(n=null);var i=(e=String(e)).match(/width|height|depth/),o=i?t[i[0].charAt(0)]:r?t[r]:0,a=this.length2em(e,o)||0;return e.match(/^[-+]/)&&r&&(a+=o),null!=n&&(a=Math.max(n,a)),a},n.prototype.computeBBox=function(e,r){void 0===r&&(r=!1);var n=t(this.getDimens(),6),i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5];e.w=a+c,e.h=i+s,e.d=o+l,this.setChildPWidths(r,e.w)},n.prototype.getWrapWidth=function(e){return this.getBBox().w},n.prototype.getChildAlign=function(e){return this.node.attributes.get("data-align")||"left"},n}(r)},mpadded$1}var mpadded={},hasRequiredMpadded$1,hasRequiredMpadded;function requireMpadded$1(){if(hasRequiredMpadded$1)return mpadded;hasRequiredMpadded$1=1;var e=mpadded&&mpadded.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mpadded&&mpadded.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mpadded,"__esModule",{value:!0}),mpadded.MmlMpadded=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mpadded"},enumerable:!1,configurable:!0}),i.defaults=t(t({},r.AbstractMmlLayoutNode.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0}),i}(r.AbstractMmlLayoutNode);return mpadded.MmlMpadded=n,mpadded}function requireMpadded(){if(hasRequiredMpadded)return mpadded$2;hasRequiredMpadded=1;var e=mpadded$2&&mpadded$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mpadded$2&&mpadded$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mpadded$2&&mpadded$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mpadded$2,"__esModule",{value:!0}),mpadded$2.CHTMLmpadded=void 0;var n=requireWrapper(),i=requireMpadded$2(),o=requireMpadded$1(),a=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.toCHTML=function(e){var n,i,o=this.standardCHTMLnode(e),a=[],s={},l=t(this.getDimens(),9),c=l[2],u=l[3],d=l[4],h=l[5],p=l[6],f=l[7],m=l[8];if(h&&(s.width=this.em(c+h)),(u||d)&&(s.margin=this.em(u)+" 0 "+this.em(d)),p+m||f){s.position="relative";var g=this.html("mjx-rbox",{style:{left:this.em(p+m),top:this.em(-f),"max-width":s.width}});p+m&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(g,"width","full"),this.adaptor.setStyle(g,"left",this.em(p))),a.push(g)}o=this.adaptor.append(o,this.html("mjx-block",{style:s},a));try{for(var y=r(this.childNodes),b=y.next();!b.done;b=y.next()){b.value.toCHTML(a[0]||o)}}catch(v){n={error:v}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}},i.kind=o.MmlMpadded.prototype.kind,i.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}},i}((0,i.CommonMpaddedMixin)(n.CHTMLWrapper));return mpadded$2.CHTMLmpadded=a,mpadded$2}var menclose$2={},menclose$1={},Notation$1={},hasRequiredNotation$1,hasRequiredMenclose$2;function requireNotation$1(){return hasRequiredNotation$1||(hasRequiredNotation$1=1,function(e){var t=Notation$1&&Notation$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonArrow=e.CommonDiagonalArrow=e.CommonDiagonalStrike=e.CommonBorder2=e.CommonBorder=e.arrowBBox=e.diagonalArrowDef=e.arrowDef=e.arrowBBoxW=e.arrowBBoxHD=e.arrowHead=e.fullBorder=e.fullPadding=e.fullBBox=e.sideNames=e.sideIndex=e.SOLID=e.PADDING=e.THICKNESS=e.ARROWY=e.ARROWDX=e.ARROWX=void 0,e.ARROWX=4,e.ARROWDX=1,e.ARROWY=2,e.THICKNESS=.067,e.PADDING=.2,e.SOLID=e.THICKNESS+"em solid",e.sideIndex={top:0,right:1,bottom:2,left:3},e.sideNames=Object.keys(e.sideIndex),e.fullBBox=function(e){return new Array(4).fill(e.thickness+e.padding)},e.fullPadding=function(e){return new Array(4).fill(e.padding)},e.fullBorder=function(e){return new Array(4).fill(e.thickness)};e.arrowHead=function(e){return Math.max(e.padding,e.thickness*(e.arrowhead.x+e.arrowhead.dx+1))};e.arrowBBoxHD=function(e,t){if(e.childNodes[0]){var r=e.childNodes[0].getBBox(),n=r.h,i=r.d;t[0]=t[2]=Math.max(0,e.thickness*e.arrowhead.y-(n+i)/2)}return t};e.arrowBBoxW=function(e,t){if(e.childNodes[0]){var r=e.childNodes[0].getBBox().w;t[1]=t[3]=Math.max(0,e.thickness*e.arrowhead.y-r/2)}return t},e.arrowDef={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},e.diagonalArrowDef={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},e.arrowBBox={up:function(t){return(0,e.arrowBBoxW)(t,[(0,e.arrowHead)(t),0,t.padding,0])},down:function(t){return(0,e.arrowBBoxW)(t,[t.padding,0,(0,e.arrowHead)(t),0])},right:function(t){return(0,e.arrowBBoxHD)(t,[0,(0,e.arrowHead)(t),0,t.padding])},left:function(t){return(0,e.arrowBBoxHD)(t,[0,t.padding,0,(0,e.arrowHead)(t)])},updown:function(t){return(0,e.arrowBBoxW)(t,[(0,e.arrowHead)(t),0,(0,e.arrowHead)(t),0])},leftright:function(t){return(0,e.arrowBBoxHD)(t,[0,(0,e.arrowHead)(t),0,(0,e.arrowHead)(t)])}};e.CommonBorder=function(t){return function(r){var n=e.sideIndex[r];return[r,{renderer:t,bbox:function(e){var t=[0,0,0,0];return t[n]=e.thickness+e.padding,t},border:function(e){var t=[0,0,0,0];return t[n]=e.thickness,t}}]}};e.CommonBorder2=function(t){return function(r,n,i){var o=e.sideIndex[n],a=e.sideIndex[i];return[r,{renderer:t,bbox:function(e){var t=e.thickness+e.padding,r=[0,0,0,0];return r[o]=r[a]=t,r},border:function(e){var t=[0,0,0,0];return t[o]=t[a]=e.thickness,t},remove:n+" "+i}]}};e.CommonDiagonalStrike=function(t){return function(r){var n="mjx-"+r.charAt(0)+"strike";return[r+"diagonalstrike",{renderer:t(n),bbox:e.fullBBox}]}};e.CommonDiagonalArrow=function(r){return function(n){var i=t(e.diagonalArrowDef[n],4),o=i[0],a=i[1],s=i[2];return[n+"arrow",{renderer:function(e,n){var i=t(e.arrowAW(),2),l=i[0],c=i[1],u=e.arrow(c,o*(l-a),s);r(e,u)},bbox:function(e){var r=e.arrowData(),n=r.a,i=r.x,o=r.y,a=t([e.arrowhead.x,e.arrowhead.y,e.arrowhead.dx],3),s=a[0],l=a[1],c=a[2],u=t(e.getArgMod(s+c,l),2),d=u[0],h=u[1],p=o+(d>n?e.thickness*h*Math.sin(d-n):0),f=i+(d>Math.PI/2-n?e.thickness*h*Math.sin(d+n-Math.PI/2):0);return[p,f,p,f]},remove:i[3]}]}};e.CommonArrow=function(r){return function(n){var i=t(e.arrowDef[n],4),o=i[0],a=i[1],s=i[2],l=i[3];return[n+"arrow",{renderer:function(e,n){var i=e.getBBox(),l=i.w,c=i.h,u=i.d,d=t(s?[c+u,"X"]:[l,"Y"],2),h=d[0],p=d[1],f=e.getOffset(p),m=e.arrow(h,o,a,p,f);r(e,m)},bbox:e.arrowBBox[n],remove:l}]}}}(Notation$1)),Notation$1}function requireMenclose$2(){if(hasRequiredMenclose$2)return menclose$1;hasRequiredMenclose$2=1;var e=menclose$1&&menclose$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=menclose$1&&menclose$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=menclose$1&&menclose$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=menclose$1&&menclose$1.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=menclose$1&&menclose$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=menclose$1&&menclose$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},a=menclose$1&&menclose$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(menclose$1,"__esModule",{value:!0}),menclose$1.CommonMencloseMixin=void 0;var s=n(requireNotation$1()),l=requireString();return menclose$1.CommonMencloseMixin=function(t){return function(t){function r(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,o([],i(e),!1))||this;return n.notations={},n.renderChild=null,n.msqrt=null,n.padding=s.PADDING,n.thickness=s.THICKNESS,n.arrowhead={x:s.ARROWX,y:s.ARROWY,dx:s.ARROWDX},n.TRBL=[0,0,0,0],n.getParameters(),n.getNotations(),n.removeRedundantNotations(),n.initializeNotations(),n.TRBL=n.getBBoxExtenders(),n}return e(r,t),r.prototype.getParameters=function(){var e=this.node.attributes,t=e.get("data-padding");void 0!==t&&(this.padding=this.length2em(t,s.PADDING));var r=e.get("data-thickness");void 0!==r&&(this.thickness=this.length2em(r,s.THICKNESS));var n=e.get("data-arrowhead");if(void 0!==n){var o=i((0,l.split)(n),3),a=o[0],c=o[1],u=o[2];this.arrowhead={x:a?parseFloat(a):s.ARROWX,y:c?parseFloat(c):s.ARROWY,dx:u?parseFloat(u):s.ARROWDX}}},r.prototype.getNotations=function(){var e,t,r=this.constructor.notations;try{for(var n=a((0,l.split)(this.node.attributes.get("notation"))),i=n.next();!i.done;i=n.next()){var o=i.value,s=r.get(o);s&&(this.notations[o]=s,s.renderChild&&(this.renderChild=s.renderer))}}catch(c){e={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.removeRedundantNotations=function(){var e,t,r,n;try{for(var i=a(Object.keys(this.notations)),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.notations[s]){var l=this.notations[s].remove||"";try{for(var c=(r=void 0,a(l.split(/ /))),u=c.next();!u.done;u=c.next()){var d=u.value;delete this.notations[d]}}catch(h){r={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},r.prototype.initializeNotations=function(){var e,t;try{for(var r=a(Object.keys(this.notations)),n=r.next();!n.done;n=r.next()){var i=n.value,o=this.notations[i].init;o&&o(this)}}catch(s){e={error:s}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},r.prototype.computeBBox=function(e,t){void 0===t&&(t=!1);var r=i(this.TRBL,4),n=r[0],o=r[1],a=r[2],s=r[3],l=this.childNodes[0].getBBox();e.combine(l,s,0),e.h+=n,e.d+=a,e.w+=o,this.setChildPWidths(t)},r.prototype.getBBoxExtenders=function(){var e,t,r=[0,0,0,0];try{for(var n=a(Object.keys(this.notations)),i=n.next();!i.done;i=n.next()){var o=i.value;this.maximizeEntries(r,this.notations[o].bbox(this))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},r.prototype.getPadding=function(){var e,t,r=this,n=[0,0,0,0];try{for(var i=a(Object.keys(this.notations)),o=i.next();!o.done;o=i.next()){var s=o.value,l=this.notations[s].border;l&&this.maximizeEntries(n,l(this))}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return[0,1,2,3].map(function(e){return r.TRBL[e]-n[e]})},r.prototype.maximizeEntries=function(e,t){for(var r=0;r<e.length;r++)e[r]<t[r]&&(e[r]=t[r])},r.prototype.getOffset=function(e){var t=i(this.TRBL,4),r=t[0],n=t[1],o=t[2],a=t[3],s=("X"===e?n-a:o-r)/2;return Math.abs(s)>.001?s:0},r.prototype.getArgMod=function(e,t){return[Math.atan2(t,e),Math.sqrt(e*e+t*t)]},r.prototype.arrow=function(e,t,r,n,i){return null},r.prototype.arrowData=function(){var e=i([this.padding,this.thickness],2),t=e[0],r=e[1]*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),n=this.childNodes[0].getBBox(),o=n.h,a=n.d,s=n.w,l=o+a,c=Math.sqrt(l*l+s*s),u=Math.max(t,r*s/c),d=Math.max(t,r*l/c),h=i(this.getArgMod(s+2*u,l+2*d),2);return{a:h[0],W:h[1],x:u,y:d}},r.prototype.arrowAW=function(){var e=this.childNodes[0].getBBox(),t=e.h,r=e.d,n=e.w,o=i(this.TRBL,4),a=o[0],s=o[1],l=o[2],c=o[3];return this.getArgMod(c+n+s,a+t+r+l)},r.prototype.createMsqrt=function(e){var t=this.node.factory.create("msqrt");t.inheritAttributesFrom(this.node),t.childNodes[0]=e.node;var r=this.wrap(t);return r.parent=this,r},r.prototype.sqrtTRBL=function(){var e=this.msqrt.getBBox(),t=this.msqrt.childNodes[0].getBBox();return[e.h-t.h,0,e.d-t.d,e.w-t.w]},r}(t)},menclose$1}var Notation={},hasRequiredNotation;function requireNotation(){return hasRequiredNotation||(hasRequiredNotation=1,function(e){var t=Notation&&Notation.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Notation&&Notation.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=Notation&&Notation.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=Notation&&Notation.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)},o=Notation&&Notation.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=e.DiagonalArrow=e.DiagonalStrike=e.Border2=e.Border=e.RenderElement=void 0;var a=n(requireNotation$1());i(requireNotation$1(),e);e.RenderElement=function(e,t){return void 0===t&&(t=""),function(r,n){var i=r.adjustBorder(r.html("mjx-"+e));if(t){var o=r.getOffset(t);if(r.thickness!==a.THICKNESS||o){var s="translate".concat(t,"(").concat(r.em(r.thickness/2-o),")");r.adaptor.setStyle(i,"transform",s)}}r.adaptor.append(r.chtml,i)}};e.Border=function(e){return a.CommonBorder(function(t,r){t.adaptor.setStyle(r,"border-"+e,t.em(t.thickness)+" solid")})(e)};e.Border2=function(e,t,r){return a.CommonBorder2(function(e,n){var i=e.em(e.thickness)+" solid";e.adaptor.setStyle(n,"border-"+t,i),e.adaptor.setStyle(n,"border-"+r,i)})(e,t,r)};e.DiagonalStrike=function(e,t){return a.CommonDiagonalStrike(function(e){return function(r,n){var i=r.getBBox(),a=i.w,s=i.h,l=i.d,c=o(r.getArgMod(a,s+l),2),u=c[0],d=c[1],h=t*r.thickness/2,p=r.adjustBorder(r.html(e,{style:{width:r.em(d),transform:"rotate("+r.fixed(-t*u)+"rad) translateY("+h+"em)"}}));r.adaptor.append(r.chtml,p)}})(e)};e.DiagonalArrow=function(e){return a.CommonDiagonalArrow(function(e,t){e.adaptor.append(e.chtml,t)})(e)};e.Arrow=function(e){return a.CommonArrow(function(e,t){e.adaptor.append(e.chtml,t)})(e)}}(Notation)),Notation}var menclose={},hasRequiredMenclose$1,hasRequiredMenclose;function requireMenclose$1(){if(hasRequiredMenclose$1)return menclose;hasRequiredMenclose$1=1;var e=menclose&&menclose.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=menclose&&menclose.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(menclose,"__esModule",{value:!0}),menclose.MmlMenclose=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"menclose"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linebreakContininer",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.setTeXclass=function(e){return e=this.childNodes[0].setTeXclass(e),this.updateTeXclass(this.childNodes[0]),e},i.defaults=t(t({},r.AbstractMmlNode.defaults),{notation:"longdiv"}),i}(r.AbstractMmlNode);return menclose.MmlMenclose=n,menclose}function requireMenclose(){if(hasRequiredMenclose)return menclose$2;hasRequiredMenclose=1;var e=menclose$2&&menclose$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=menclose$2&&menclose$2.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=menclose$2&&menclose$2.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=menclose$2&&menclose$2.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=menclose$2&&menclose$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=menclose$2&&menclose$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(menclose$2,"__esModule",{value:!0}),menclose$2.CHTMLmenclose=void 0;var a=requireWrapper(),s=requireMenclose$2(),l=n(requireNotation()),c=requireMenclose$1(),u=requireLengths();function d(e,t){return Math.atan2(e,t).toFixed(3).replace(/\.?0+$/,"")}var h=d(l.ARROWDX,l.ARROWY),p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t,r,n,o,a=this.adaptor,s=this.standardCHTMLnode(e),c=a.append(s,this.html("mjx-box"));this.renderChild?this.renderChild(this,c):this.childNodes[0].toCHTML(c);try{for(var u=i(Object.keys(this.notations)),d=u.next();!d.done;d=u.next()){var h=d.value,p=this.notations[h];!p.renderChild&&p.renderer(this,c)}}catch(v){t={error:v}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var f=this.getPadding();try{for(var m=i(l.sideNames),g=m.next();!g.done;g=m.next()){var y=g.value,b=l.sideIndex[y];f[b]>0&&a.setStyle(c,"padding-"+y,this.em(f[b]))}}catch(x){n={error:x}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}},r.prototype.arrow=function(e,t,r,n,i){void 0===n&&(n=""),void 0===i&&(i=0);var o=this.getBBox().w,a={width:this.em(e)};o!==e&&(a.left=this.em((o-e)/2)),t&&(a.transform="rotate("+this.fixed(t)+"rad)");var s=this.html("mjx-arrow",{style:a},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return r&&(this.adaptor.append(s,this.html("mjx-lthead")),this.adaptor.append(s,this.html("mjx-lbhead")),this.adaptor.setAttribute(s,"double","true")),this.adjustArrow(s,r),this.moveArrow(s,n,i),s},r.prototype.adjustArrow=function(e,t){var r=this,n=this.thickness,i=this.arrowhead;if(i.x!==l.ARROWX||i.y!==l.ARROWY||i.dx!==l.ARROWDX||n!==l.THICKNESS){var a=o([n*i.x,n*i.y].map(function(e){return r.em(e)}),2),s=a[0],c=a[1],u=d(i.dx,i.y),h=o(this.adaptor.childNodes(e),5),p=h[0],f=h[1],m=h[2],g=h[3],y=h[4];this.adjustHead(f,[c,"0","1px",s],u),this.adjustHead(m,["1px","0",c,s],"-"+u),this.adjustHead(g,[c,s,"1px","0"],"-"+u),this.adjustHead(y,["1px",s,c,"0"],u),this.adjustLine(p,n,i.x,t)}},r.prototype.adjustHead=function(e,t,r){e&&(this.adaptor.setStyle(e,"border-width",t.join(" ")),this.adaptor.setStyle(e,"transform","skewX("+r+"rad)"))},r.prototype.adjustLine=function(e,t,r,n){this.adaptor.setStyle(e,"borderTop",this.em(t)+" solid"),this.adaptor.setStyle(e,"top",this.em(-t/2)),this.adaptor.setStyle(e,"right",this.em(t*(r-1))),n&&this.adaptor.setStyle(e,"left",this.em(t*(r-1)))},r.prototype.moveArrow=function(e,t,r){if(r){var n=this.adaptor.getStyle(e,"transform");this.adaptor.setStyle(e,"transform","translate".concat(t,"(").concat(this.em(-r),")").concat(n?" "+n:""))}},r.prototype.adjustBorder=function(e){return this.thickness!==l.THICKNESS&&this.adaptor.setStyle(e,"borderWidth",this.em(this.thickness)),e},r.prototype.adjustThickness=function(e){return this.thickness!==l.THICKNESS&&this.adaptor.setStyle(e,"strokeWidth",this.fixed(this.thickness)),e},r.prototype.fixed=function(e,t){return void 0===t&&(t=3),Math.abs(e)<6e-4?"0":e.toFixed(t).replace(/\.?0+$/,"")},r.prototype.em=function(e){return t.prototype.em.call(this,e)},r.kind=c.MmlMenclose.prototype.kind,r.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":l.SOLID,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":l.SOLID,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":l.SOLID,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+(0,u.em)(l.THICKNESS/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":l.SOLID,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+(0,u.em)(l.THICKNESS/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:l.SOLID,"border-radius":(0,u.em)(l.THICKNESS+l.PADDING)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:l.SOLID,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":(0,u.em)(l.THICKNESS*l.ARROWX)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:(0,u.em)(-l.THICKNESS/2),right:(0,u.em)(l.THICKNESS*(l.ARROWX-1)),height:0,"border-top":(0,u.em)(l.THICKNESS)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:(0,u.em)(l.THICKNESS*(l.ARROWX-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+h+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":(0,u.em)(l.THICKNESS*l.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+h+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":(0,u.em)(l.THICKNESS*l.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+h+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":(0,u.em)(l.THICKNESS*l.ARROWX)+" solid","border-bottom":"1px solid transparent","border-top":(0,u.em)(l.THICKNESS*l.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+h+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":(0,u.em)(l.THICKNESS*l.ARROWX)+" solid","border-top":"1px solid transparent","border-bottom":(0,u.em)(l.THICKNESS*l.ARROWY)+" solid transparent"},"mjx-menclose > dbox":{position:"absolute",top:0,bottom:0,left:(0,u.em)(-1.5*l.PADDING),width:(0,u.em)(3*l.PADDING),border:(0,u.em)(l.THICKNESS)+" solid","border-radius":"50%","clip-path":"inset(0 0 0 "+(0,u.em)(1.5*l.PADDING)+")","box-sizing":"border-box"}},r.notations=new Map([l.Border("top"),l.Border("right"),l.Border("bottom"),l.Border("left"),l.Border2("actuarial","top","right"),l.Border2("madruwb","bottom","right"),l.DiagonalStrike("up",1),l.DiagonalStrike("down",-1),["horizontalstrike",{renderer:l.RenderElement("hstrike","Y"),bbox:function(e){return[0,e.padding,0,e.padding]}}],["verticalstrike",{renderer:l.RenderElement("vstrike","X"),bbox:function(e){return[e.padding,0,e.padding,0]}}],["box",{renderer:function(e,t){e.adaptor.setStyle(t,"border",e.em(e.thickness)+" solid")},bbox:l.fullBBox,border:l.fullBorder,remove:"left right top bottom"}],["roundedbox",{renderer:l.RenderElement("rbox"),bbox:l.fullBBox}],["circle",{renderer:l.RenderElement("cbox"),bbox:l.fullBBox}],["phasorangle",{renderer:function(e,t){var r=e.getBBox(),n=r.h,i=r.d,a=o(e.getArgMod(1.75*e.padding,n+i),2),s=a[0],l=a[1],c=e.thickness*Math.sin(s)*.9;e.adaptor.setStyle(t,"border-bottom",e.em(e.thickness)+" solid");var u=e.adjustBorder(e.html("mjx-ustrike",{style:{width:e.em(l),transform:"translateX("+e.em(c)+") rotate("+e.fixed(-s)+"rad)"}}));e.adaptor.append(e.chtml,u)},bbox:function(e){var t=e.padding/2,r=e.thickness;return[2*t,t,t+r,3*t+r]},border:function(e){return[0,0,e.thickness,0]},remove:"bottom"}],l.Arrow("up"),l.Arrow("down"),l.Arrow("left"),l.Arrow("right"),l.Arrow("updown"),l.Arrow("leftright"),l.DiagonalArrow("updiagonal"),l.DiagonalArrow("northeast"),l.DiagonalArrow("southeast"),l.DiagonalArrow("northwest"),l.DiagonalArrow("southwest"),l.DiagonalArrow("northeastsouthwest"),l.DiagonalArrow("northwestsoutheast"),["longdiv",{renderer:function(e,t){var r=e.adaptor;r.setStyle(t,"border-top",e.em(e.thickness)+" solid");var n=r.append(e.chtml,e.html("dbox")),i=e.thickness,o=e.padding;i!==l.THICKNESS&&r.setStyle(n,"border-width",e.em(i)),o!==l.PADDING&&(r.setStyle(n,"left",e.em(-1.5*o)),r.setStyle(n,"width",e.em(3*o)),r.setStyle(n,"clip-path","inset(0 0 0 "+e.em(1.5*o)+")"))},bbox:function(e){var t=e.padding,r=e.thickness;return[t+r,t,t,2*t+r/2]}}],["radical",{renderer:function(e,t){e.msqrt.toCHTML(t);var r=e.sqrtTRBL();e.adaptor.setStyle(e.msqrt.chtml,"margin",r.map(function(t){return e.em(-t)}).join(" "))},init:function(e){e.msqrt=e.createMsqrt(e.childNodes[0])},bbox:function(e){return e.sqrtTRBL()},renderChild:!0}]]),r}((0,s.CommonMencloseMixin)(a.CHTMLWrapper));return menclose$2.CHTMLmenclose=p,menclose$2}var mrow$2={},mrow$1={},hasRequiredMrow$2;function requireMrow$2(){if(hasRequiredMrow$2)return mrow$1;hasRequiredMrow$2=1;var e=mrow$1&&mrow$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mrow$1&&mrow$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mrow$1&&mrow$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=mrow$1&&mrow$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mrow$1,"__esModule",{value:!0}),mrow$1.CommonInferredMrowMixin=mrow$1.CommonMrowMixin=void 0;var i=requireBBox();return mrow$1.CommonMrowMixin=function(o){return function(o){function a(){for(var e,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=o.apply(this,r([],t(s),!1))||this;c.stretchChildren();try{for(var u=n(c.childNodes),d=u.next();!d.done;d=u.next()){if(d.value.bbox.pwidth){c.bbox.pwidth=i.BBox.fullWidth;break}}}catch(h){e={error:h}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(e)throw e.error}}return c}return e(a,o),Object.defineProperty(a.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.stretchChildren=function(){var e,t,r,i,o,a,s=[];try{for(var l=n(this.childNodes),c=l.next();!c.done;c=l.next()){(w=c.value).canStretch(1)&&s.push(w)}}catch(_){e={error:_}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var u=s.length,d=this.childNodes.length;if(u&&d>1){var h=0,p=0,f=u>1&&u===d;try{for(var m=n(this.childNodes),g=m.next();!g.done;g=m.next()){var y=0===(w=g.value).stretch.dir;if(f||y){var b=w.getOuterBBox(y),v=b.h,x=b.d,$=b.rscale;(v*=$)>h&&(h=v),(x*=$)>p&&(p=x)}}}catch(M){r={error:M}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var S=n(s),E=S.next();!E.done;E=S.next()){var w;(w=E.value).coreMO().getStretchedVariant([h,p])}}catch(C){o={error:C}}finally{try{E&&!E.done&&(a=S.return)&&a.call(S)}finally{if(o)throw o.error}}}},a}(o)},mrow$1.CommonInferredMrowMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.getScale=function(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1},r}(t)},mrow$1}var mrow={},hasRequiredMrow$1,hasRequiredMrow;function requireMrow$1(){if(hasRequiredMrow$1)return mrow;hasRequiredMrow$1=1;var e=mrow&&mrow.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mrow&&mrow.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mrow&&mrow.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mrow,"__esModule",{value:!0}),mrow.MmlInferredMrow=mrow.MmlMrow=void 0;var n=requireMmlNode(),i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e._core=null,e}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"mrow"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSpacelike",{get:function(){var e,t;try{for(var n=r(this.childNodes),i=n.next();!i.done;i=n.next()){if(!i.value.isSpacelike)return!1}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isEmbellished",{get:function(){var e,t,n=!1,i=0;try{for(var o=r(this.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;if(s)if(s.isEmbellished){if(n)return!1;n=!0,this._core=i}else if(!s.isSpacelike)return!1;i++}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),o.prototype.core=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this},o.prototype.coreMO=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this},o.prototype.nonSpaceLength=function(){var e,t,n=0;try{for(var i=r(this.childNodes),o=i.next();!o.done;o=i.next()){var a=o.value;a&&!a.isSpacelike&&n++}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},o.prototype.firstNonSpace=function(){var e,t;try{for(var n=r(this.childNodes),i=n.next();!i.done;i=n.next()){var o=i.value;if(o&&!o.isSpacelike)return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},o.prototype.lastNonSpace=function(){for(var e=this.childNodes.length;--e>=0;){var t=this.childNodes[e];if(t&&!t.isSpacelike)return t}return null},o.prototype.setTeXclass=function(e){var t,i,o,a;if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(e),e=null;try{for(var s=r(this.childNodes),l=s.next();!l.done;l=s.next()){e=l.value.setTeXclass(e)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}null==this.texClass&&(this.texClass=n.TEXCLASS.INNER)}else{try{for(var c=r(this.childNodes),u=c.next();!u.done;u=c.next()){e=u.value.setTeXclass(e)}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}this.childNodes[0]&&this.updateTeXclass(this.childNodes[0])}return e},o.defaults=t({},n.AbstractMmlNode.defaults),o}(n.AbstractMmlNode);mrow.MmlMrow=i;var o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"inferredMrow"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isInferred",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"["+this.childNodes.join(",")+"]"},r.defaults=i.defaults,r}(i);return mrow.MmlInferredMrow=o,mrow}function requireMrow(){if(hasRequiredMrow)return mrow$2;hasRequiredMrow=1;var e=mrow$2&&mrow$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mrow$2&&mrow$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mrow$2,"__esModule",{value:!0}),mrow$2.CHTMLinferredMrow=mrow$2.CHTMLmrow=void 0;var r=requireWrapper(),n=requireMrow$2(),i=requireMrow$2(),o=requireMrow$1(),a=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){var r,n,i=this.node.isInferred?this.chtml=e:this.standardCHTMLnode(e),o=!1;try{for(var a=t(this.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value;l.toCHTML(i),l.bbox.w<0&&(o=!0)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(o){var c=this.getBBox().w;c&&(this.adaptor.setStyle(i,"width",this.em(Math.max(0,c))),c<0&&this.adaptor.setStyle(i,"marginRight",this.em(c)))}},n.kind=o.MmlMrow.prototype.kind,n}((0,n.CommonMrowMixin)(r.CHTMLWrapper));mrow$2.CHTMLmrow=a;var s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=o.MmlInferredMrow.prototype.kind,r}((0,i.CommonInferredMrowMixin)(a));return mrow$2.CHTMLinferredMrow=s,mrow$2}var mfenced$2={},mfenced$1={},hasRequiredMfenced$2;function requireMfenced$2(){if(hasRequiredMfenced$2)return mfenced$1;hasRequiredMfenced$2=1;var e=mfenced$1&&mfenced$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mfenced$1&&mfenced$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mfenced$1&&mfenced$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=mfenced$1&&mfenced$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};return Object.defineProperty(mfenced$1,"__esModule",{value:!0}),mfenced$1.CommonMfencedMixin=void 0,mfenced$1.CommonMfencedMixin=function(i){return function(i){function o(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=i.apply(this,r([],t(e),!1))||this;return o.mrow=null,o.createMrow(),o.addMrowChildren(),o}return e(o,i),o.prototype.createMrow=function(){var e=this.node.factory.create("inferredMrow");e.inheritAttributesFrom(this.node),this.mrow=this.wrap(e),this.mrow.parent=this},o.prototype.addMrowChildren=function(){var e,t,r=this.node,i=this.mrow;this.addMo(r.open),this.childNodes.length&&i.childNodes.push(this.childNodes[0]);var o=0;try{for(var a=n(this.childNodes.slice(1)),s=a.next();!s.done;s=a.next()){var l=s.value;this.addMo(r.separators[o++]),i.childNodes.push(l)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.addMo(r.close),i.stretchChildren()},o.prototype.addMo=function(e){if(e){var t=this.wrap(e);this.mrow.childNodes.push(t),t.parent=this.mrow}},o.prototype.computeBBox=function(e,t){void 0===t&&(t=!1),e.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(t)},o}(i)},mfenced$1}var mfenced={},hasRequiredMfenced$1,hasRequiredMfenced;function requireMfenced$1(){if(hasRequiredMfenced$1)return mfenced;hasRequiredMfenced$1=1;var e=mfenced&&mfenced.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mfenced&&mfenced.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mfenced&&mfenced.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mfenced,"__esModule",{value:!0}),mfenced.MmlMfenced=void 0;var n=requireMmlNode(),i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.texclass=n.TEXCLASS.INNER,e.separators=[],e.open=null,e.close=null,e}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"mfenced"},enumerable:!1,configurable:!0}),o.prototype.setTeXclass=function(e){this.getPrevClass(e),this.open&&(e=this.open.setTeXclass(e)),this.childNodes[0]&&(e=this.childNodes[0].setTeXclass(e));for(var t=1,r=this.childNodes.length;t<r;t++)this.separators[t-1]&&(e=this.separators[t-1].setTeXclass(e)),this.childNodes[t]&&(e=this.childNodes[t].setTeXclass(e));return this.close&&(e=this.close.setTeXclass(e)),this.updateTeXclass(this.open),e},o.prototype.setChildInheritedAttributes=function(e,t,n,o){var a,s;this.addFakeNodes();try{for(var l=r([this.open,this.close].concat(this.separators)),c=l.next();!c.done;c=l.next()){var u=c.value;u&&u.setInheritedAttributes(e,t,n,o)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}i.prototype.setChildInheritedAttributes.call(this,e,t,n,o)},o.prototype.addFakeNodes=function(){var e,t,i=this.attributes.getList("open","close","separators"),o=i.open,a=i.close,s=i.separators;if(o=o.replace(/[ \t\n\r]/g,""),a=a.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),o&&(this.open=this.fakeNode(o,{fence:!0,form:"prefix"},n.TEXCLASS.OPEN)),s){for(;s.length<this.childNodes.length-1;)s+=s.charAt(s.length-1);var l=0;try{for(var c=r(this.childNodes.slice(1)),u=c.next();!u.done;u=c.next()){u.value&&this.separators.push(this.fakeNode(s.charAt(l++)))}}catch(d){e={error:d}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}}a&&(this.close=this.fakeNode(a,{fence:!0,form:"postfix"},n.TEXCLASS.CLOSE))},o.prototype.fakeNode=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=this.factory.create("text").setText(e),i=this.factory.create("mo",t,[n]);return i.texClass=r,i.parent=this,i},o.defaults=t(t({},n.AbstractMmlNode.defaults),{open:"(",close:")",separators:","}),o}(n.AbstractMmlNode);return mfenced.MmlMfenced=i,mfenced}function requireMfenced(){if(hasRequiredMfenced)return mfenced$2;hasRequiredMfenced=1;var e=mfenced$2&&mfenced$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mfenced$2,"__esModule",{value:!0}),mfenced$2.CHTMLmfenced=void 0;var t=requireWrapper(),r=requireMfenced$2(),n=requireMfenced$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t=this.standardCHTMLnode(e);this.mrow.toCHTML(t)},r.kind=n.MmlMfenced.prototype.kind,r}((0,r.CommonMfencedMixin)(t.CHTMLWrapper));return mfenced$2.CHTMLmfenced=i,mfenced$2}var mfrac$2={},mfrac$1={},hasRequiredMfrac$2;function requireMfrac$2(){if(hasRequiredMfrac$2)return mfrac$1;hasRequiredMfrac$2=1;var e=mfrac$1&&mfrac$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mfrac$1&&mfrac$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mfrac$1&&mfrac$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(mfrac$1,"__esModule",{value:!0}),mfrac$1.CommonMfracMixin=void 0,mfrac$1.CommonMfracMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this;if(o.bevel=null,o.pad=o.node.getProperty("withDelims")?0:o.font.params.nulldelimiterspace,o.node.attributes.get("bevelled")){var a=o.getBevelData(o.isDisplay()).H,s=o.bevel=o.createMo("/");s.node.attributes.set("symmetric",!0),s.canStretch(1),s.getStretchedVariant([a],!0)}return o}return e(i,n),i.prototype.computeBBox=function(e,t){void 0===t&&(t=!1),e.empty();var r=this.node.attributes.getList("linethickness","bevelled"),n=r.linethickness,i=r.bevelled,o=this.isDisplay(),a=null;if(i)this.getBevelledBBox(e,o);else{var s=this.length2em(String(n),.06);a=-2*this.pad,0===s?this.getAtopBBox(e,o):(this.getFractionBBox(e,o,s),a-=.2),a+=e.w}e.clean(),this.setChildPWidths(t,a)},i.prototype.getFractionBBox=function(e,t,r){var n=this.childNodes[0].getOuterBBox(),i=this.childNodes[1].getOuterBBox(),o=this.font.params.axis_height,a=this.getTUV(t,r),s=a.T,l=a.u,c=a.v;e.combine(n,0,o+s+Math.max(n.d*n.rscale,l)),e.combine(i,0,o-s-Math.max(i.h*i.rscale,c)),e.w+=2*this.pad+.2},i.prototype.getTUV=function(e,t){var r=this.font.params,n=r.axis_height,i=(e?3.5:1.5)*t;return{T:(e?3.5:1.5)*t,u:(e?r.num1:r.num2)-n-i,v:(e?r.denom1:r.denom2)+n-i}},i.prototype.getAtopBBox=function(e,t){var r=this.getUVQ(t),n=r.u,i=r.v,o=r.nbox,a=r.dbox;e.combine(o,0,n),e.combine(a,0,-i),e.w+=2*this.pad},i.prototype.getUVQ=function(e){var r=this.childNodes[0].getOuterBBox(),n=this.childNodes[1].getOuterBBox(),i=this.font.params,o=t(e?[i.num1,i.denom1]:[i.num3,i.denom2],2),a=o[0],s=o[1],l=(e?7:3)*i.rule_thickness,c=a-r.d*r.scale-(n.h*n.scale-s);return c<l&&(a+=(l-c)/2,s+=(l-c)/2,c=l),{u:a,v:s,q:c,nbox:r,dbox:n}},i.prototype.getBevelledBBox=function(e,t){var r=this.getBevelData(t),n=r.u,i=r.v,o=r.delta,a=r.nbox,s=r.dbox,l=this.bevel.getOuterBBox();e.combine(a,0,n),e.combine(l,e.w-o/2,0),e.combine(s,e.w-o/2,i)},i.prototype.getBevelData=function(e){var t=this.childNodes[0].getOuterBBox(),r=this.childNodes[1].getOuterBBox(),n=e?.4:.15,i=Math.max(t.scale*(t.h+t.d),r.scale*(r.h+r.d))+2*n,o=this.font.params.axis_height;return{H:i,delta:n,u:t.scale*(t.d-t.h)/2+o+n,v:r.scale*(r.d-r.h)/2+o-n,nbox:t,dbox:r}},i.prototype.canStretch=function(e){return!1},i.prototype.isDisplay=function(){var e=this.node.attributes.getList("displaystyle","scriptlevel"),t=e.displaystyle,r=e.scriptlevel;return t&&0===r},i.prototype.getWrapWidth=function(e){var t=this.node.attributes;return t.get("bevelled")?this.childNodes[e].getOuterBBox().w:this.getBBox().w-(this.length2em(t.get("linethickness"))?.2:0)-2*this.pad},i.prototype.getChildAlign=function(e){var t=this.node.attributes;return t.get("bevelled")?"left":t.get(["numalign","denomalign"][e])},i}(n)},mfrac$1}var mfrac={},hasRequiredMfrac$1,hasRequiredMfrac;function requireMfrac$1(){if(hasRequiredMfrac$1)return mfrac;hasRequiredMfrac$1=1;var e=mfrac&&mfrac.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mfrac&&mfrac.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mfrac&&mfrac.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mfrac,"__esModule",{value:!0}),mfrac.MmlMfrac=void 0;var n=requireMmlNode(),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"mfrac"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.setTeXclass=function(e){var t,n;this.getPrevClass(e);try{for(var i=r(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.setTeXclass(null)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},o.prototype.setChildInheritedAttributes=function(e,t,r,n){(!t||r>0)&&r++,this.childNodes[0].setInheritedAttributes(e,!1,r,n),this.childNodes[1].setInheritedAttributes(e,!1,r,!0)},o.defaults=t(t({},n.AbstractMmlBaseNode.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1}),o}(n.AbstractMmlBaseNode);return mfrac.MmlMfrac=i,mfrac}function requireMfrac(){if(hasRequiredMfrac)return mfrac$2;hasRequiredMfrac=1;var e=mfrac$2&&mfrac$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mfrac$2&&mfrac$2.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mfrac$2,"__esModule",{value:!0}),mfrac$2.CHTMLmfrac=void 0;var r=requireWrapper(),n=requireMfrac$2(),i=requireMfrac$1(),o=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){this.standardCHTMLnode(e);var t=this.node.attributes.getList("linethickness","bevelled"),r=t.linethickness,n=t.bevelled,i=this.isDisplay();if(n)this.makeBevelled(i);else{var o=this.length2em(String(r),.06);0===o?this.makeAtop(i):this.makeFraction(i,o)}},n.prototype.makeFraction=function(e,r){var n,i,o=this.node.attributes.getList("numalign","denomalign"),a=o.numalign,s=o.denomalign,l=e?{type:"d"}:{},c=this.node.getProperty("withDelims")?t(t({},l),{delims:"true"}):t({},l),u="center"!==a?{align:a}:{},d="center"!==s?{align:s}:{},h=t({},l),p=t({},l),f=this.font.params;if(.06!==r){var m=f.axis_height,g=this.em(r),y=this.getTUV(e,r),b=y.T,v=y.u,x=y.v,$=(e?this.em(3*r):g)+" -.1em";l.style={height:g,"border-top":g+" solid",margin:$};var S=this.em(Math.max(0,v));p.style={height:S,"vertical-align":"-"+S},h.style={height:this.em(Math.max(0,x))},c.style={"vertical-align":this.em(m-b)}}this.adaptor.append(this.chtml,this.html("mjx-frac",c,[n=this.html("mjx-num",u,[this.html("mjx-nstrut",p)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",l),this.html("mjx-row",{},[i=this.html("mjx-den",d,[this.html("mjx-dstrut",h)])])])])])),this.childNodes[0].toCHTML(n),this.childNodes[1].toCHTML(i)},n.prototype.makeAtop=function(e){var r,n,i=this.node.attributes.getList("numalign","denomalign"),o=i.numalign,a=i.denomalign,s=e?{type:"d",atop:!0}:{atop:!0},l=this.node.getProperty("withDelims")?t(t({},s),{delims:!0}):t({},s),c="center"!==o?{align:o}:{},u="center"!==a?{align:a}:{},d=this.getUVQ(e),h=d.v,p=d.q;c.style={"padding-bottom":this.em(p)},l.style={"vertical-align":this.em(-h)},this.adaptor.append(this.chtml,this.html("mjx-frac",l,[r=this.html("mjx-num",c),n=this.html("mjx-den",u)])),this.childNodes[0].toCHTML(r),this.childNodes[1].toCHTML(n)},n.prototype.makeBevelled=function(e){var t=this.adaptor;t.setAttribute(this.chtml,"bevelled","ture");var r=t.append(this.chtml,this.html("mjx-num"));this.childNodes[0].toCHTML(r),this.bevel.toCHTML(this.chtml);var n=t.append(this.chtml,this.html("mjx-den"));this.childNodes[1].toCHTML(n);var i=this.getBevelData(e),o=i.u,a=i.v,s=i.delta,l=i.nbox,c=i.dbox;o&&t.setStyle(r,"verticalAlign",this.em(o/l.scale)),a&&t.setStyle(n,"verticalAlign",this.em(a/c.scale));var u=this.em(-s/2);t.setStyle(this.bevel.chtml,"marginLeft",u),t.setStyle(this.bevel.chtml,"marginRight",u)},n.kind=i.MmlMfrac.prototype.kind,n.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".06em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}},n}((0,n.CommonMfracMixin)(r.CHTMLWrapper));return mfrac$2.CHTMLmfrac=o,mfrac$2}var msqrt$2={},msqrt$1={},hasRequiredMsqrt$2;function requireMsqrt$2(){if(hasRequiredMsqrt$2)return msqrt$1;hasRequiredMsqrt$2=1;var e=msqrt$1&&msqrt$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msqrt$1&&msqrt$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=msqrt$1&&msqrt$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(msqrt$1,"__esModule",{value:!0}),msqrt$1.CommonMsqrtMixin=void 0;var n=requireBBox();return msqrt$1.CommonMsqrtMixin=function(i){return function(i){function o(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=i.apply(this,r([],t(e),!1))||this,a=o.createMo("");a.canStretch(1);var s=o.childNodes[o.base].getOuterBBox(),l=s.h,c=s.d,u=o.font.params.rule_thickness,d=o.node.attributes.get("displaystyle")?o.font.params.x_height:u;return o.surdH=l+c+2*u+d/4,a.getStretchedVariant([o.surdH-c,c],!0),o}return e(o,i),Object.defineProperty(o.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"surd",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"root",{get:function(){return null},enumerable:!1,configurable:!0}),o.prototype.createMo=function(e){var t=i.prototype.createMo.call(this,e);return this.childNodes.push(t),t},o.prototype.computeBBox=function(e,r){void 0===r&&(r=!1);var i=this.childNodes[this.surd].getBBox(),o=new n.BBox(this.childNodes[this.base].getOuterBBox()),a=this.getPQ(i)[1],s=this.font.params.rule_thickness,l=o.h+a+s,c=t(this.getRootDimens(i,l),1)[0];e.h=l+s,this.combineRootBBox(e,i,l),e.combine(i,c,l-i.h),e.combine(o,c+i.w,0),e.clean(),this.setChildPWidths(r)},o.prototype.combineRootBBox=function(e,t,r){},o.prototype.getPQ=function(e){var t=this.font.params.rule_thickness,r=this.node.attributes.get("displaystyle")?this.font.params.x_height:t;return[r,e.h+e.d>this.surdH?(e.h+e.d-(this.surdH-2*t-r/2))/2:t+r/4]},o.prototype.getRootDimens=function(e,t){return[0,0,0,0]},o}(i)},msqrt$1}var msqrt={},hasRequiredMsqrt$1,hasRequiredMsqrt;function requireMsqrt$1(){if(hasRequiredMsqrt$1)return msqrt;hasRequiredMsqrt$1=1;var e=msqrt&&msqrt.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msqrt&&msqrt.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(msqrt,"__esModule",{value:!0}),msqrt.MmlMsqrt=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"msqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.setTeXclass=function(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this},i.prototype.setChildInheritedAttributes=function(e,t,r,n){this.childNodes[0].setInheritedAttributes(e,t,r,!0)},i.defaults=t({},r.AbstractMmlNode.defaults),i}(r.AbstractMmlNode);return msqrt.MmlMsqrt=n,msqrt}function requireMsqrt(){if(hasRequiredMsqrt)return msqrt$2;hasRequiredMsqrt=1;var e=msqrt$2&&msqrt$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msqrt$2&&msqrt$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(msqrt$2,"__esModule",{value:!0}),msqrt$2.CHTMLmsqrt=void 0;var r=requireWrapper(),n=requireMsqrt$2(),i=requireMsqrt$1(),o=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){var r,n,i,o,a=this.childNodes[this.surd],s=this.childNodes[this.base],l=a.getBBox(),c=s.getOuterBBox(),u=t(this.getPQ(l),2)[1],d=this.font.params.rule_thickness,h=c.h+u+d,p=this.standardCHTMLnode(e);null!=this.root&&(i=this.adaptor.append(p,this.html("mjx-root")),o=this.childNodes[this.root]);var f=this.adaptor.append(p,this.html("mjx-sqrt",{},[r=this.html("mjx-surd"),n=this.html("mjx-box",{style:{paddingTop:this.em(u)}})]));this.addRoot(i,o,l,h),a.toCHTML(r),s.toCHTML(n),a.size<0&&this.adaptor.addClass(f,"mjx-tall")},n.prototype.addRoot=function(e,t,r,n){},n.kind=i.MmlMsqrt.prototype.kind,n.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".07em"},"mjx-sqrt > mjx-box":{"border-top":".07em solid"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}},n}((0,n.CommonMsqrtMixin)(r.CHTMLWrapper));return msqrt$2.CHTMLmsqrt=o,msqrt$2}var mroot$2={},mroot$1={},hasRequiredMroot$2;function requireMroot$2(){if(hasRequiredMroot$2)return mroot$1;hasRequiredMroot$2=1;var e=mroot$1&&mroot$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mroot$1,"__esModule",{value:!0}),mroot$1.CommonMrootMixin=void 0,mroot$1.CommonMrootMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"surd",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){return 1},enumerable:!1,configurable:!0}),r.prototype.combineRootBBox=function(e,t,r){var n=this.childNodes[this.root].getOuterBBox(),i=this.getRootDimens(t,r)[1];e.combine(n,0,i)},r.prototype.getRootDimens=function(e,t){var r=this.childNodes[this.surd],n=this.childNodes[this.root].getOuterBBox(),i=(r.size<0?.5:.6)*e.w,o=n.w,a=n.rscale,s=Math.max(o,i/a),l=Math.max(0,s-o);return[s*a-i,this.rootHeight(n,e,r.size,t),l]},r.prototype.rootHeight=function(e,t,r,n){var i=t.h+t.d;return(r<0?1.9:.55*i)-(i-n)+Math.max(0,e.d*e.rscale)},r}(t)},mroot$1}var mroot={},hasRequiredMroot$1,hasRequiredMroot;function requireMroot$1(){if(hasRequiredMroot$1)return mroot;hasRequiredMroot$1=1;var e=mroot&&mroot.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mroot&&mroot.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mroot,"__esModule",{value:!0}),mroot.MmlMroot=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mroot"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),i.prototype.setTeXclass=function(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this},i.prototype.setChildInheritedAttributes=function(e,t,r,n){this.childNodes[0].setInheritedAttributes(e,t,r,!0),this.childNodes[1].setInheritedAttributes(e,!1,r+2,n)},i.defaults=t({},r.AbstractMmlNode.defaults),i}(r.AbstractMmlNode);return mroot.MmlMroot=n,mroot}function requireMroot(){if(hasRequiredMroot)return mroot$2;hasRequiredMroot=1;var e=mroot$2&&mroot$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mroot$2&&mroot$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(mroot$2,"__esModule",{value:!0}),mroot$2.CHTMLmroot=void 0;var r=requireMsqrt(),n=requireMroot$2(),i=requireMroot$1(),o=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.addRoot=function(e,r,n,i){r.toCHTML(e);var o=t(this.getRootDimens(n,i),3),a=o[0],s=o[1],l=o[2];this.adaptor.setStyle(e,"verticalAlign",this.em(s)),this.adaptor.setStyle(e,"width",this.em(a)),l&&this.adaptor.setStyle(this.adaptor.firstChild(e),"paddingLeft",this.em(l))},n.kind=i.MmlMroot.prototype.kind,n}((0,n.CommonMrootMixin)(r.CHTMLmsqrt));return mroot$2.CHTMLmroot=o,mroot$2}var msubsup$2={},scriptbase$1={},scriptbase={},hasRequiredScriptbase$1,hasRequiredScriptbase;function requireScriptbase$1(){if(hasRequiredScriptbase$1)return scriptbase;hasRequiredScriptbase$1=1;var e=scriptbase&&scriptbase.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=scriptbase&&scriptbase.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=scriptbase&&scriptbase.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=scriptbase&&scriptbase.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(scriptbase,"__esModule",{value:!0}),scriptbase.CommonScriptbaseMixin=void 0;var i=requireMmlNode();return scriptbase.CommonScriptbaseMixin=function(o){var a;return a=function(o){function a(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=o.apply(this,r([],t(e),!1))||this;i.baseScale=1,i.baseIc=0,i.baseRemoveIc=!1,i.baseIsChar=!1,i.baseHasAccentOver=null,i.baseHasAccentUnder=null,i.isLineAbove=!1,i.isLineBelow=!1,i.isMathAccent=!1;var a=i.baseCore=i.getBaseCore();return a?(i.setBaseAccentsFor(a),i.baseScale=i.getBaseScale(),i.baseIc=i.getBaseIc(),i.baseIsChar=i.isCharBase(),i.isMathAccent=i.baseIsChar&&i.scriptChild&&!!i.scriptChild.coreMO().node.getProperty("mathaccent"),i.checkLineAccents(),i.baseRemoveIc=!i.isLineAbove&&!i.isLineBelow&&(!i.constructor.useIC||i.isMathAccent),i):i}return e(a,o),Object.defineProperty(a.prototype,"baseChild",{get:function(){return this.childNodes[this.node.base]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scriptChild",{get:function(){return this.childNodes[1]},enumerable:!1,configurable:!0}),a.prototype.getBaseCore=function(){for(var e=this.getSemanticBase()||this.childNodes[0];e&&(1===e.childNodes.length&&(e.node.isKind("mrow")||e.node.isKind("TeXAtom")&&e.node.texClass!==i.TEXCLASS.VCENTER||e.node.isKind("mstyle")||e.node.isKind("mpadded")||e.node.isKind("mphantom")||e.node.isKind("semantics"))||e.node.isKind("munderover")&&e.isMathAccent);)this.setBaseAccentsFor(e),e=e.childNodes[0];return e||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),e||this.childNodes[0]},a.prototype.setBaseAccentsFor=function(e){e.node.isKind("munderover")&&(null===this.baseHasAccentOver&&(this.baseHasAccentOver=!!e.node.attributes.get("accent")),null===this.baseHasAccentUnder&&(this.baseHasAccentUnder=!!e.node.attributes.get("accentunder")))},a.prototype.getSemanticBase=function(){var e=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,e)},a.prototype.getBaseFence=function(e,t){var r,i;if(!e||!e.node.attributes||!t)return null;if(e.node.attributes.getExplicit("data-semantic-id")===t)return e;try{for(var o=n(e.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value,l=this.getBaseFence(s,t);if(l)return l}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return null},a.prototype.getBaseScale=function(){for(var e=this.baseCore,t=1;e&&e!==this;){t*=e.getOuterBBox().rscale,e=e.parent}return t},a.prototype.getBaseIc=function(){return this.baseCore.getOuterBBox().ic*this.baseScale},a.prototype.getAdjustedIc=function(){var e=this.baseCore.getOuterBBox();return(e.ic?1.05*e.ic+.05:0)*this.baseScale},a.prototype.isCharBase=function(){var e=this.baseCore;return(e.node.isKind("mo")&&null===e.size||e.node.isKind("mi")||e.node.isKind("mn"))&&1===e.bbox.rscale&&1===Array.from(e.getText()).length},a.prototype.checkLineAccents=function(){if(this.node.isKind("munderover"))if(this.node.isKind("mover"))this.isLineAbove=this.isLineAccent(this.scriptChild);else if(this.node.isKind("munder"))this.isLineBelow=this.isLineAccent(this.scriptChild);else{this.isLineAbove=this.isLineAccent(this.overChild),this.isLineBelow=this.isLineAccent(this.underChild)}},a.prototype.isLineAccent=function(e){var t=e.coreMO().node;return t.isToken&&""===t.getText()},a.prototype.getBaseWidth=function(){var e=this.baseChild.getOuterBBox();return e.w*e.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic},a.prototype.computeBBox=function(e,r){void 0===r&&(r=!1);var n=this.getBaseWidth(),i=t(this.getOffset(),2),o=i[0],a=i[1];e.append(this.baseChild.getOuterBBox()),e.combine(this.scriptChild.getOuterBBox(),n+o,a),e.w+=this.font.params.scriptspace,e.clean(),this.setChildPWidths(r)},a.prototype.getOffset=function(){return[0,0]},a.prototype.baseCharZero=function(e){var t=!!this.baseCore.node.attributes.get("largeop"),r=this.baseScale;return this.baseIsChar&&!t&&1===r?0:e},a.prototype.getV=function(){var e=this.baseCore.getOuterBBox(),t=this.scriptChild.getOuterBBox(),r=this.font.params,n=this.length2em(this.node.attributes.get("subscriptshift"),r.sub1);return Math.max(this.baseCharZero(e.d*this.baseScale+r.sub_drop*t.rscale),n,t.h*t.rscale-.8*r.x_height)},a.prototype.getU=function(){var e=this.baseCore.getOuterBBox(),t=this.scriptChild.getOuterBBox(),r=this.font.params,n=this.node.attributes.getList("displaystyle","superscriptshift"),i=this.node.getProperty("texprimestyle")?r.sup3:n.displaystyle?r.sup1:r.sup2,o=this.length2em(n.superscriptshift,i);return Math.max(this.baseCharZero(e.h*this.baseScale-r.sup_drop*t.rscale),o,t.d*t.rscale+1/4*r.x_height)},a.prototype.hasMovableLimits=function(){var e=this.node.attributes.get("displaystyle"),t=this.baseChild.coreMO().node;return!e&&!!t.attributes.get("movablelimits")},a.prototype.getOverKU=function(e,t){var r=this.node.attributes.get("accent"),n=this.font.params,i=t.d*t.rscale,o=n.rule_thickness*n.separation_factor,a=this.baseHasAccentOver?o:0,s=this.isLineAbove?3*n.rule_thickness:o,l=(r?s:Math.max(n.big_op_spacing1,n.big_op_spacing3-Math.max(0,i)))-a;return[l,e.h*e.rscale+l+i]},a.prototype.getUnderKV=function(e,t){var r=this.node.attributes.get("accentunder"),n=this.font.params,i=t.h*t.rscale,o=n.rule_thickness*n.separation_factor,a=this.baseHasAccentUnder?o:0,s=this.isLineBelow?3*n.rule_thickness:o,l=(r?s:Math.max(n.big_op_spacing2,n.big_op_spacing4-i))-a;return[l,-(e.d*e.rscale+l+i)]},a.prototype.getDeltaW=function(e,i){var o,a,s,l;void 0===i&&(i=[0,0,0]);var c=this.node.attributes.get("align"),u=e.map(function(e){return e.w*e.rscale});u[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0;var d=Math.max.apply(Math,r([],t(u),!1)),h=[],p=0;try{for(var f=n(u.keys()),m=f.next();!m.done;m=f.next()){var g=m.value;h[g]=("center"===c?(d-u[g])/2:"right"===c?d-u[g]:0)+i[g],h[g]<p&&(p=-h[g])}}catch(v){o={error:v}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}if(p)try{for(var y=n(h.keys()),b=y.next();!b.done;b=y.next()){g=b.value;h[g]+=p}}catch(x){s={error:x}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}return[1,2].map(function(t){return h[t]+=e[t]?e[t].dx*e[0].scale:0}),h},a.prototype.getDelta=function(e){void 0===e&&(e=!1);var t=this.node.attributes.get("accent"),r=this.baseCore.getOuterBBox(),n=r.sk,i=r.ic;return((t&&!e?n:0)+this.font.skewIcFactor*i)*this.baseScale},a.prototype.stretchChildren=function(){var e,t,r,i,o,a,s=[];try{for(var l=n(this.childNodes),c=l.next();!c.done;c=l.next()){(S=c.value).canStretch(2)&&s.push(S)}}catch(E){e={error:E}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var u=s.length,d=this.childNodes.length;if(u&&d>1){var h=0,p=u>1&&u===d;try{for(var f=n(this.childNodes),m=f.next();!m.done;m=f.next()){var g=0===(S=m.value).stretch.dir;if(p||g){var y=S.getOuterBBox(g),b=y.w,v=y.rscale;b*v>h&&(h=b*v)}}}catch(w){r={error:w}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}try{for(var x=n(s),$=x.next();!$.done;$=x.next()){var S;(S=$.value).coreMO().getStretchedVariant([h/S.bbox.rscale])}}catch(_){o={error:_}}finally{try{$&&!$.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}}},a}(o),a.useIC=!0,a},scriptbase}function requireScriptbase(){if(hasRequiredScriptbase)return scriptbase$1;hasRequiredScriptbase=1;var e=scriptbase$1&&scriptbase$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=scriptbase$1&&scriptbase$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=scriptbase$1&&scriptbase$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(scriptbase$1,"__esModule",{value:!0}),scriptbase$1.CHTMLscriptbase=void 0;var n=requireWrapper(),i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.toCHTML=function(e){this.chtml=this.standardCHTMLnode(e);var r=t(this.getOffset(),2),n=r[0],i=r[1],o=n-(this.baseRemoveIc?this.baseIc:0),a={"vertical-align":this.em(i)};o&&(a["margin-left"]=this.em(o)),this.baseChild.toCHTML(this.chtml),this.scriptChild.toCHTML(this.adaptor.append(this.chtml,this.html("mjx-script",{style:a})))},i.prototype.setDeltaW=function(e,t){for(var r=0;r<t.length;r++)t[r]&&this.adaptor.setStyle(e[r],"paddingLeft",this.em(t[r]))},i.prototype.adjustOverDepth=function(e,t){t.d>=0||this.adaptor.setStyle(e,"marginBottom",this.em(t.d*t.rscale))},i.prototype.adjustUnderDepth=function(e,t){var n,i;if(!(t.d>=0)){var o=this.adaptor,a=this.em(t.d),s=this.html("mjx-box",{style:{"margin-bottom":a,"vertical-align":a}});try{for(var l=r(o.childNodes(o.firstChild(e))),c=l.next();!c.done;c=l.next()){var u=c.value;o.append(s,u)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}o.append(o.firstChild(e),s)}},i.prototype.adjustBaseHeight=function(e,t){if(this.node.attributes.get("accent")){var r=this.font.params.x_height*t.scale;t.h<r&&(this.adaptor.setStyle(e,"paddingTop",this.em(r-t.h)),t.h=r)}},i.kind="scriptbase",i}((0,requireScriptbase$1().CommonScriptbaseMixin)(n.CHTMLWrapper));return scriptbase$1.CHTMLscriptbase=i,scriptbase$1}var msubsup$1={},hasRequiredMsubsup$2;function requireMsubsup$2(){if(hasRequiredMsubsup$2)return msubsup$1;hasRequiredMsubsup$2=1;var e=msubsup$1&&msubsup$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msubsup$1&&msubsup$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};return Object.defineProperty(msubsup$1,"__esModule",{value:!0}),msubsup$1.CommonMsubsupMixin=msubsup$1.CommonMsupMixin=msubsup$1.CommonMsubMixin=void 0,msubsup$1.CommonMsubMixin=function(t){var r;return r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),r.prototype.getOffset=function(){return[0,-this.getV()]},r}(t),r.useIC=!1,r},msubsup$1.CommonMsupMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),r.prototype.getOffset=function(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]},r}(t)},msubsup$1.CommonMsubsupMixin=function(r){var n;return n=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e.UVQ=null,e}return e(n,r),Object.defineProperty(n.prototype,"subChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"supChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),n.prototype.computeBBox=function(e,r){void 0===r&&(r=!1);var n=this.baseChild.getOuterBBox(),i=t([this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],2),o=i[0],a=i[1];e.empty(),e.append(n);var s=this.getBaseWidth(),l=this.getAdjustedIc(),c=t(this.getUVQ(),2),u=c[0],d=c[1];e.combine(o,s,d),e.combine(a,s+l,u),e.w+=this.font.params.scriptspace,e.clean(),this.setChildPWidths(r)},n.prototype.getUVQ=function(e,r){void 0===e&&(e=this.subChild.getOuterBBox()),void 0===r&&(r=this.supChild.getOuterBBox());var n=this.baseCore.getOuterBBox();if(this.UVQ)return this.UVQ;var i=this.font.params,o=3*i.rule_thickness,a=this.length2em(this.node.attributes.get("subscriptshift"),i.sub2),s=this.baseCharZero(n.d*this.baseScale+i.sub_drop*e.rscale),l=t([this.getU(),Math.max(s,a)],2),c=l[0],u=l[1],d=c-r.d*r.rscale-(e.h*e.rscale-u);if(d<o){u+=o-d;var h=.8*i.x_height-(c-r.d*r.rscale);h>0&&(c+=h,u-=h)}return c=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),c),c),u=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),u),u),d=c-r.d*r.rscale-(e.h*e.rscale-u),this.UVQ=[c,-u,d],this.UVQ},n}(r),n.useIC=!1,n},msubsup$1}var msubsup={},hasRequiredMsubsup$1,hasRequiredMsubsup;function requireMsubsup$1(){if(hasRequiredMsubsup$1)return msubsup;hasRequiredMsubsup$1=1;var e=msubsup&&msubsup.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msubsup&&msubsup.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(msubsup,"__esModule",{value:!0}),msubsup.MmlMsup=msubsup.MmlMsub=msubsup.MmlMsubsup=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"msubsup"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sub",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sup",{get:function(){return 2},enumerable:!1,configurable:!0}),i.prototype.setChildInheritedAttributes=function(e,t,r,n){var i=this.childNodes;i[0].setInheritedAttributes(e,t,r,n),i[1].setInheritedAttributes(e,!1,r+1,n||1===this.sub),i[2]&&i[2].setInheritedAttributes(e,!1,r+1,n||2===this.sub)},i.defaults=t(t({},r.AbstractMmlBaseNode.defaults),{subscriptshift:"",superscriptshift:""}),i}(r.AbstractMmlBaseNode);msubsup.MmlMsubsup=n;var i=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"msub"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),i.defaults=t({},n.defaults),i}(n);msubsup.MmlMsub=i;var o=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"msup"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sup",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sub",{get:function(){return 2},enumerable:!1,configurable:!0}),i.defaults=t({},n.defaults),i}(n);return msubsup.MmlMsup=o,msubsup}function requireMsubsup(){if(hasRequiredMsubsup)return msubsup$2;hasRequiredMsubsup=1;var e=msubsup$2&&msubsup$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=msubsup$2&&msubsup$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(msubsup$2,"__esModule",{value:!0}),msubsup$2.CHTMLmsubsup=msubsup$2.CHTMLmsup=msubsup$2.CHTMLmsub=void 0;var r=requireScriptbase(),n=requireMsubsup$2(),i=requireMsubsup$2(),o=requireMsubsup$2(),a=requireMsubsup$1(),s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=a.MmlMsub.prototype.kind,r}((0,n.CommonMsubMixin)(r.CHTMLscriptbase));msubsup$2.CHTMLmsub=s;var l=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=a.MmlMsup.prototype.kind,r}((0,i.CommonMsupMixin)(r.CHTMLscriptbase));msubsup$2.CHTMLmsup=l;var c=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){var r=this.adaptor,n=this.standardCHTMLnode(e),i=t([this.baseChild,this.supChild,this.subChild],3),o=i[0],a=i[1],s=i[2],l=t(this.getUVQ(),3),c=l[1],u=l[2],d={"vertical-align":this.em(c)};o.toCHTML(n);var h=r.append(n,this.html("mjx-script",{style:d}));a.toCHTML(h),r.append(h,this.html("mjx-spacer",{style:{"margin-top":this.em(u)}})),s.toCHTML(h);var p=this.getAdjustedIc();p&&r.setStyle(a.chtml,"marginLeft",this.em(p/a.bbox.rscale)),this.baseRemoveIc&&r.setStyle(h,"marginLeft",this.em(-this.baseIc))},n.kind=a.MmlMsubsup.prototype.kind,n.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > mjx-spacer":{display:"block"}},n}((0,o.CommonMsubsupMixin)(r.CHTMLscriptbase));return msubsup$2.CHTMLmsubsup=c,msubsup$2}var munderover$2={},munderover$1={},hasRequiredMunderover$2;function requireMunderover$2(){if(hasRequiredMunderover$2)return munderover$1;hasRequiredMunderover$2=1;var e=munderover$1&&munderover$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=munderover$1&&munderover$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=munderover$1&&munderover$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(munderover$1,"__esModule",{value:!0}),munderover$1.CommonMunderoverMixin=munderover$1.CommonMoverMixin=munderover$1.CommonMunderMixin=void 0,munderover$1.CommonMunderMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this;return o.stretchChildren(),o}return e(i,n),Object.defineProperty(i.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),i.prototype.computeBBox=function(e,r){if(void 0===r&&(r=!1),this.hasMovableLimits())n.prototype.computeBBox.call(this,e,r);else{e.empty();var i=this.baseChild.getOuterBBox(),o=this.scriptChild.getOuterBBox(),a=this.getUnderKV(i,o)[1],s=this.isLineBelow?0:this.getDelta(!0),l=t(this.getDeltaW([i,o],[0,-s]),2),c=l[0],u=l[1];e.combine(i,c,0),e.combine(o,u,a),e.d+=this.font.params.big_op_spacing5,e.clean(),this.setChildPWidths(r)}},i}(n)},munderover$1.CommonMoverMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this;return o.stretchChildren(),o}return e(i,n),Object.defineProperty(i.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),i.prototype.computeBBox=function(e){if(this.hasMovableLimits())n.prototype.computeBBox.call(this,e);else{e.empty();var r=this.baseChild.getOuterBBox(),i=this.scriptChild.getOuterBBox();this.node.attributes.get("accent")&&(r.h=Math.max(r.h,this.font.params.x_height*r.scale));var o=this.getOverKU(r,i)[1],a=this.isLineAbove?0:this.getDelta(),s=t(this.getDeltaW([r,i],[0,a]),2),l=s[0],c=s[1];e.combine(r,l,0),e.combine(i,c,o),e.h+=this.font.params.big_op_spacing5,e.clean()}},i}(n)},munderover$1.CommonMunderoverMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this;return o.stretchChildren(),o}return e(i,n),Object.defineProperty(i.prototype,"underChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"subChild",{get:function(){return this.underChild},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"supChild",{get:function(){return this.overChild},enumerable:!1,configurable:!0}),i.prototype.computeBBox=function(e){if(this.hasMovableLimits())n.prototype.computeBBox.call(this,e);else{e.empty();var r=this.overChild.getOuterBBox(),i=this.baseChild.getOuterBBox(),o=this.underChild.getOuterBBox();this.node.attributes.get("accent")&&(i.h=Math.max(i.h,this.font.params.x_height*i.scale));var a=this.getOverKU(i,r)[1],s=this.getUnderKV(i,o)[1],l=this.getDelta(),c=t(this.getDeltaW([i,o,r],[0,this.isLineBelow?0:-l,this.isLineAbove?0:l]),3),u=c[0],d=c[1],h=c[2];e.combine(i,u,0),e.combine(r,h,a),e.combine(o,d,s);var p=this.font.params.big_op_spacing5;e.h+=p,e.d+=p,e.clean()}},i}(n)},munderover$1}var munderover={},hasRequiredMunderover$1,hasRequiredMunderover;function requireMunderover$1(){if(hasRequiredMunderover$1)return munderover;hasRequiredMunderover$1=1;var e=munderover&&munderover.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=munderover&&munderover.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(munderover,"__esModule",{value:!0}),munderover.MmlMover=munderover.MmlMunder=munderover.MmlMunderover=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"munderover"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"under",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"over",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.setChildInheritedAttributes=function(e,t,r,n){var i=this.childNodes;i[0].setInheritedAttributes(e,t,r,n||!!i[this.over]);var o=!(t||!i[0].coreMO().attributes.get("movablelimits")),a=this.constructor.ACCENTS;i[1].setInheritedAttributes(e,!1,this.getScriptlevel(a[1],o,r),n||1===this.under),this.setInheritedAccent(1,a[1],t,r,n,o),i[2]&&(i[2].setInheritedAttributes(e,!1,this.getScriptlevel(a[2],o,r),n||2===this.under),this.setInheritedAccent(2,a[2],t,r,n,o))},i.prototype.getScriptlevel=function(e,t,r){return!t&&this.attributes.get(e)||r++,r},i.prototype.setInheritedAccent=function(e,t,r,n,i,o){var a=this.childNodes[e];if(null==this.attributes.getExplicit(t)&&a.isEmbellished){var s=a.coreMO().attributes.get("accent");this.attributes.setInherited(t,s),s!==this.attributes.getDefault(t)&&a.setInheritedAttributes({},r,this.getScriptlevel(t,o,n),i)}},i.defaults=t(t({},r.AbstractMmlBaseNode.defaults),{accent:!1,accentunder:!1,align:"center"}),i.ACCENTS=["","accentunder","accent"],i}(r.AbstractMmlBaseNode);munderover.MmlMunderover=n;var i=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"munder"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),i.defaults=t({},n.defaults),i}(n);munderover.MmlMunder=i;var o=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"mover"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"over",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"under",{get:function(){return 2},enumerable:!1,configurable:!0}),i.defaults=t({},n.defaults),i.ACCENTS=["","accent","accentunder"],i}(n);return munderover.MmlMover=o,munderover}function requireMunderover(){if(hasRequiredMunderover)return munderover$2;hasRequiredMunderover=1;var e=munderover$2&&munderover$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(munderover$2,"__esModule",{value:!0}),munderover$2.CHTMLmunderover=munderover$2.CHTMLmover=munderover$2.CHTMLmunder=void 0;var t=requireMsubsup(),r=requireMunderover$2(),n=requireMunderover$2(),i=requireMunderover$2(),o=requireMunderover$1(),a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){if(this.hasMovableLimits())return t.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var r=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-base")),n=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-under"));this.baseChild.toCHTML(r),this.scriptChild.toCHTML(n);var i=this.baseChild.getOuterBBox(),o=this.scriptChild.getOuterBBox(),a=this.getUnderKV(i,o)[0],s=this.isLineBelow?0:this.getDelta(!0);this.adaptor.setStyle(n,"paddingTop",this.em(a)),this.setDeltaW([r,n],this.getDeltaW([i,o],[0,-s])),this.adjustUnderDepth(n,o)},r.kind=o.MmlMunder.prototype.kind,r.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}},r}((0,r.CommonMunderMixin)(t.CHTMLmsub));munderover$2.CHTMLmunder=a;var s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){if(this.hasMovableLimits())return t.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var r=this.adaptor.append(this.chtml,this.html("mjx-over")),n=this.adaptor.append(this.chtml,this.html("mjx-base"));this.scriptChild.toCHTML(r),this.baseChild.toCHTML(n);var i=this.scriptChild.getOuterBBox(),o=this.baseChild.getOuterBBox();this.adjustBaseHeight(n,o);var a=this.getOverKU(o,i)[0],s=this.isLineAbove?0:this.getDelta();this.adaptor.setStyle(r,"paddingBottom",this.em(a)),this.setDeltaW([n,r],this.getDeltaW([o,i],[0,s])),this.adjustOverDepth(r,i)},r.kind=o.MmlMover.prototype.kind,r.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},r}((0,n.CommonMoverMixin)(t.CHTMLmsup));munderover$2.CHTMLmover=s;var l=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){if(this.hasMovableLimits())return r.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var t=this.adaptor.append(this.chtml,this.html("mjx-over")),n=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-box")),this.html("mjx-munder")),i=this.adaptor.append(this.adaptor.append(n,this.html("mjx-row")),this.html("mjx-base")),o=this.adaptor.append(this.adaptor.append(n,this.html("mjx-row")),this.html("mjx-under"));this.overChild.toCHTML(t),this.baseChild.toCHTML(i),this.underChild.toCHTML(o);var a=this.overChild.getOuterBBox(),s=this.baseChild.getOuterBBox(),l=this.underChild.getOuterBBox();this.adjustBaseHeight(i,s);var c=this.getOverKU(s,a)[0],u=this.getUnderKV(s,l)[0],d=this.getDelta();this.adaptor.setStyle(t,"paddingBottom",this.em(c)),this.adaptor.setStyle(o,"paddingTop",this.em(u)),this.setDeltaW([i,o,t],this.getDeltaW([s,l,a],[0,this.isLineBelow?0:-d,this.isLineAbove?0:d])),this.adjustOverDepth(t,a),this.adjustUnderDepth(o,l)},n.prototype.markUsed=function(){r.prototype.markUsed.call(this),this.jax.wrapperUsage.add(t.CHTMLmsubsup.kind)},n.kind=o.MmlMunderover.prototype.kind,n.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},n}((0,i.CommonMunderoverMixin)(t.CHTMLmsubsup));return munderover$2.CHTMLmunderover=l,munderover$2}var mmultiscripts$2={},mmultiscripts$1={},hasRequiredMmultiscripts$2;function requireMmultiscripts$2(){return hasRequiredMmultiscripts$2||(hasRequiredMmultiscripts$2=1,function(e){var t=mmultiscripts$1&&mmultiscripts$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=mmultiscripts$1&&mmultiscripts$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=mmultiscripts$1&&mmultiscripts$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=mmultiscripts$1&&mmultiscripts$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMmultiscriptsMixin=e.ScriptNames=e.NextScript=void 0;var o=requireBBox();e.NextScript={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},e.ScriptNames=["sup","sup","psup","psub"],e.CommonMmultiscriptsMixin=function(a){return function(a){function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=a.apply(this,n([],r(e),!1))||this;return i.scriptData=null,i.firstPrescript=0,i.getScriptData(),i}return t(s,a),s.prototype.combinePrePost=function(e,t){var r=new o.BBox(e);return r.combine(t,0,0),r},s.prototype.computeBBox=function(e,t){void 0===t&&(t=!1);var n=this.font.params.scriptspace,i=this.scriptData,o=this.combinePrePost(i.sub,i.psub),a=this.combinePrePost(i.sup,i.psup),s=r(this.getUVQ(o,a),2),l=s[0],c=s[1];if(e.empty(),i.numPrescripts&&(e.combine(i.psup,n,l),e.combine(i.psub,n,c)),e.append(i.base),i.numScripts){var u=e.w;e.combine(i.sup,u,l),e.combine(i.sub,u,c),e.w+=n}e.clean(),this.setChildPWidths(t)},s.prototype.getScriptData=function(){var e=this.scriptData={base:null,sub:o.BBox.empty(),sup:o.BBox.empty(),psub:o.BBox.empty(),psup:o.BBox.empty(),numPrescripts:0,numScripts:0},t=this.getScriptBBoxLists();this.combineBBoxLists(e.sub,e.sup,t.subList,t.supList),this.combineBBoxLists(e.psub,e.psup,t.psubList,t.psupList),e.base=t.base[0],e.numPrescripts=t.psubList.length,e.numScripts=t.subList.length},s.prototype.getScriptBBoxLists=function(){var t,r,n={base:[],subList:[],supList:[],psubList:[],psupList:[]},o="base";try{for(var a=i(this.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value;l.node.isKind("mprescripts")?o="psubList":(n[o].push(l.getOuterBBox()),o=e.NextScript[o])}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.firstPrescript=n.subList.length+n.supList.length+2,this.padLists(n.subList,n.supList),this.padLists(n.psubList,n.psupList),n},s.prototype.padLists=function(e,t){e.length>t.length&&t.push(o.BBox.empty())},s.prototype.combineBBoxLists=function(e,t,n,i){for(var o=0;o<n.length;o++){var a=r(this.getScaledWHD(n[o]),3),s=a[0],l=a[1],c=a[2],u=r(this.getScaledWHD(i[o]),3),d=u[0],h=u[1],p=u[2],f=Math.max(s,d);e.w+=f,t.w+=f,l>e.h&&(e.h=l),c>e.d&&(e.d=c),h>t.h&&(t.h=h),p>t.d&&(t.d=p)}},s.prototype.getScaledWHD=function(e){var t=e.w,r=e.h,n=e.d,i=e.rscale;return[t*i,r*i,n*i]},s.prototype.getUVQ=function(e,t){var n;if(!this.UVQ){var i=r([0,0,0],3),o=i[0],s=i[1],l=i[2];0===e.h&&0===e.d?o=this.getU():0===t.h&&0===t.d?o=-this.getV():(o=(n=r(a.prototype.getUVQ.call(this,e,t),3))[0],s=n[1],l=n[2]),this.UVQ=[o,s,l]}return this.UVQ},s}(a)}}(mmultiscripts$1)),mmultiscripts$1}var mmultiscripts={},hasRequiredMmultiscripts$1,hasRequiredMmultiscripts;function requireMmultiscripts$1(){if(hasRequiredMmultiscripts$1)return mmultiscripts;hasRequiredMmultiscripts$1=1;var e=mmultiscripts&&mmultiscripts.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mmultiscripts&&mmultiscripts.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mmultiscripts,"__esModule",{value:!0}),mmultiscripts.MmlNone=mmultiscripts.MmlMprescripts=mmultiscripts.MmlMmultiscripts=void 0;var r=requireMmlNode(),n=requireMsubsup$1(),i=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"mmultiscripts"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),i.prototype.setChildInheritedAttributes=function(e,t,r,n){this.childNodes[0].setInheritedAttributes(e,t,r,n);for(var i=!1,o=1,a=0;o<this.childNodes.length;o++){var s=this.childNodes[o];if(s.isKind("mprescripts")){if(!i&&(i=!0,o%2==0)){var l=this.factory.create("mrow");this.childNodes.splice(o,0,l),l.parent=this,o++}}else{var c=n||a%2==0;s.setInheritedAttributes(e,!1,r+1,c),a++}}this.childNodes.length%2==(i?1:0)&&(this.appendChild(this.factory.create("mrow")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(e,!1,r+1,n))},i.prototype.verifyChildren=function(e){for(var t=!1,n=e.fixMmultiscripts,i=0;i<this.childNodes.length;i++){var o=this.childNodes[i];o.isKind("mprescripts")&&(t?o.mError(o.kind+" can only appear once in "+this.kind,e,!0):(t=!0,i%2!=0||n||this.mError("There must be an equal number of prescripts of each type",e)))}this.childNodes.length%2!=(t?1:0)||n||this.mError("There must be an equal number of scripts of each type",e),r.prototype.verifyChildren.call(this,e)},i.defaults=t({},n.MmlMsubsup.defaults),i}(n.MmlMsubsup);mmultiscripts.MmlMmultiscripts=i;var o=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mprescripts"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),i.prototype.verifyTree=function(e){n.prototype.verifyTree.call(this,e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)},i.defaults=t({},r.AbstractMmlNode.defaults),i}(r.AbstractMmlNode);mmultiscripts.MmlMprescripts=o;var a=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"none"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),i.prototype.verifyTree=function(e){n.prototype.verifyTree.call(this,e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)},i.defaults=t({},r.AbstractMmlNode.defaults),i}(r.AbstractMmlNode);return mmultiscripts.MmlNone=a,mmultiscripts}function requireMmultiscripts(){if(hasRequiredMmultiscripts)return mmultiscripts$2;hasRequiredMmultiscripts=1;var e=mmultiscripts$2&&mmultiscripts$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mmultiscripts$2&&mmultiscripts$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(mmultiscripts$2,"__esModule",{value:!0}),mmultiscripts$2.CHTMLmmultiscripts=void 0;var r=requireMsubsup(),n=requireMmultiscripts$2(),i=requireMmultiscripts$1(),o=requireString(),a=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.toCHTML=function(e){var r=this.standardCHTMLnode(e),n=this.scriptData,i=this.node.getProperty("scriptalign")||"right left",a=t((0,o.split)(i+" "+i),2),s=a[0],l=a[1],c=this.combinePrePost(n.sub,n.psub),u=this.combinePrePost(n.sup,n.psup),d=t(this.getUVQ(c,u),2),h=d[0],p=d[1];if(n.numPrescripts){var f=this.addScripts(h,-p,!0,n.psub,n.psup,this.firstPrescript,n.numPrescripts);"right"!==s&&this.adaptor.setAttribute(f,"script-align",s)}if(this.childNodes[0].toCHTML(r),n.numScripts){f=this.addScripts(h,-p,!1,n.sub,n.sup,1,n.numScripts);"left"!==l&&this.adaptor.setAttribute(f,"script-align",l)}},n.prototype.addScripts=function(e,t,r,n,i,o,a){for(var s=this.adaptor,l=e-i.d+(t-n.h),c=e<0&&0===t?n.h+e:e,u=l>0?{style:{height:this.em(l)}}:{},d=c?{style:{"vertical-align":this.em(c)}}:{},h=this.html("mjx-row"),p=this.html("mjx-row",u),f=this.html("mjx-row"),m="mjx-"+(r?"pre":"")+"scripts",g=o+2*a;o<g;)this.childNodes[o++].toCHTML(s.append(f,this.html("mjx-cell"))),this.childNodes[o++].toCHTML(s.append(h,this.html("mjx-cell")));return s.append(this.chtml,this.html(m,d,[h,p,f]))},n.kind=i.MmlMmultiscripts.prototype.kind,n.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":"left"},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":"center"},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":"right"}},n}((0,n.CommonMmultiscriptsMixin)(r.CHTMLmsubsup));return mmultiscripts$2.CHTMLmmultiscripts=a,mmultiscripts$2}var mtable$2={},mtable$1={},numeric={},hasRequiredNumeric,hasRequiredMtable$2;function requireNumeric(){if(hasRequiredNumeric)return numeric;return hasRequiredNumeric=1,Object.defineProperty(numeric,"__esModule",{value:!0}),numeric.max=numeric.sum=void 0,numeric.sum=function(e){return e.reduce(function(e,t){return e+t},0)},numeric.max=function(e){return e.reduce(function(e,t){return Math.max(e,t)},0)},numeric}function requireMtable$2(){if(hasRequiredMtable$2)return mtable$1;hasRequiredMtable$2=1;var e=mtable$1&&mtable$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtable$1&&mtable$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mtable$1&&mtable$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=mtable$1&&mtable$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mtable$1,"__esModule",{value:!0}),mtable$1.CommonMtableMixin=void 0;var i=requireBBox(),o=requireString(),a=requireNumeric();return mtable$1.CommonMtableMixin=function(s){return function(s){function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=s.apply(this,r([],t(e),!1))||this;i.numCols=0,i.numRows=0,i.data=null,i.pwidthCells=[],i.pWidth=0,i.numCols=(0,a.max)(i.tableRows.map(function(e){return e.numCells})),i.numRows=i.childNodes.length,i.hasLabels=i.childNodes.reduce(function(e,t){return e||t.node.isKind("mlabeledtr")},!1),i.findContainer(),i.isTop=!i.container||i.container.node.isKind("math")&&!i.container.parent,i.isTop&&(i.jax.table=i),i.getPercentageWidth();var o=i.node.attributes;return i.frame="none"!==o.get("frame"),i.fLine=i.frame&&o.get("frame")?.07:0,i.fSpace=i.frame?i.convertLengths(i.getAttributeArray("framespacing")):[0,0],i.cSpace=i.convertLengths(i.getColumnAttributes("columnspacing")),i.rSpace=i.convertLengths(i.getRowAttributes("rowspacing")),i.cLines=i.getColumnAttributes("columnlines").map(function(e){return"none"===e?0:.07}),i.rLines=i.getRowAttributes("rowlines").map(function(e){return"none"===e?0:.07}),i.cWidths=i.getColumnWidths(),i.stretchRows(),i.stretchColumns(),i}return e(l,s),Object.defineProperty(l.prototype,"tableRows",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),l.prototype.findContainer=function(){for(var e=this,t=e.parent;t&&(t.node.notParent||t.node.isKind("mrow"));)e=t,t=t.parent;this.container=t,this.containerI=e.node.childPosition()},l.prototype.getPercentageWidth=function(){if(this.hasLabels)this.bbox.pwidth=i.BBox.fullWidth;else{var e=this.node.attributes.get("width");(0,o.isPercent)(e)&&(this.bbox.pwidth=e)}},l.prototype.stretchRows=function(){for(var e=this.node.attributes.get("equalrows"),t=e?this.getEqualRowHeight():0,r=e?this.getTableData():{H:[0],D:[0]},n=r.H,i=r.D,o=this.tableRows,a=0;a<this.numRows;a++){var s=e?[(t+n[a]-i[a])/2,(t-n[a]+i[a])/2]:null;o[a].stretchChildren(s)}},l.prototype.stretchColumns=function(){for(var e=0;e<this.numCols;e++){var t="number"==typeof this.cWidths[e]?this.cWidths[e]:null;this.stretchColumn(e,t)}},l.prototype.stretchColumn=function(e,t){var r,i,o,a,s,l,c=[];try{for(var u=n(this.tableRows),d=u.next();!d.done;d=u.next()){if(y=d.value.getChild(e))0===(S=y.childNodes[0]).stretch.dir&&S.canStretch(2)&&c.push(S)}}catch(E){r={error:E}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var h=c.length,p=this.childNodes.length;if(h&&p>1){if(null===t){t=0;var f=h>1&&h===p;try{for(var m=n(this.tableRows),g=m.next();!g.done;g=m.next()){var y;if(y=g.value.getChild(e)){var b=0===(S=y.childNodes[0]).stretch.dir;if(f||b){var v=S.getBBox(b).w;v>t&&(t=v)}}}}catch(w){o={error:w}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}try{for(var x=n(c),$=x.next();!$.done;$=x.next()){var S;(S=$.value).coreMO().getStretchedVariant([t])}}catch(_){s={error:_}}finally{try{$&&!$.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}},l.prototype.getTableData=function(){if(this.data)return this.data;for(var e=new Array(this.numRows).fill(0),t=new Array(this.numRows).fill(0),r=new Array(this.numCols).fill(0),n=new Array(this.numRows),i=new Array(this.numRows),o=[0],a=this.tableRows,s=0;s<a.length;s++){for(var l=0,c=a[s],u=c.node.attributes.get("rowalign"),d=0;d<c.numCells;d++){var h=c.getChild(d);l=this.updateHDW(h,d,s,u,e,t,r,l),this.recordPWidthCell(h,d)}n[s]=e[s],i[s]=t[s],c.labeled&&(l=this.updateHDW(c.childNodes[0],0,s,u,e,t,o,l)),this.extendHD(s,e,t,l),this.extendHD(s,n,i,l)}var p=o[0];return this.data={H:e,D:t,W:r,NH:n,ND:i,L:p},this.data},l.prototype.updateHDW=function(e,t,r,n,i,o,a,s){var l=e.getBBox(),c=l.h,u=l.d,d=l.w,h=e.parent.bbox.rscale;1!==e.parent.bbox.rscale&&(c*=h,u*=h,d*=h),this.node.getProperty("useHeight")&&(c<.75&&(c=.75),u<.25&&(u=.25));var p=0;return"baseline"!==(n=e.node.attributes.get("rowalign")||n)&&"axis"!==n&&(p=c+u,c=u=0),c>i[r]&&(i[r]=c),u>o[r]&&(o[r]=u),p>s&&(s=p),a&&d>a[t]&&(a[t]=d),s},l.prototype.extendHD=function(e,t,r,n){var i=(n-(t[e]+r[e]))/2;i<1e-5||(t[e]+=i,r[e]+=i)},l.prototype.recordPWidthCell=function(e,t){e.childNodes[0]&&e.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([e,t])},l.prototype.computeBBox=function(e,r){var n,i,s=this.getTableData(),l=s.H,c=s.D;if(this.node.attributes.get("equalrows")){var u=this.getEqualRowHeight();n=(0,a.sum)([].concat(this.rLines,this.rSpace))+u*this.numRows}else n=(0,a.sum)(l.concat(c,this.rLines,this.rSpace));n+=2*(this.fLine+this.fSpace[1]);var d=this.getComputedWidths();i=(0,a.sum)(d.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]);var h=this.node.attributes.get("width");"auto"!==h&&(i=Math.max(this.length2em(h,0)+2*this.fLine,i));var p=t(this.getBBoxHD(n),2),f=p[0],m=p[1];e.h=f,e.d=m,e.w=i;var g=t(this.getBBoxLR(),2),y=g[0],b=g[1];e.L=y,e.R=b,(0,o.isPercent)(h)||this.setColumnPWidths()},l.prototype.setChildPWidths=function(e,t,r){var n=this.node.attributes.get("width");if(!(0,o.isPercent)(n))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var i=this.bbox,s=i.w,l=i.L,c=i.R,u=this.node.attributes.get("data-width-includes-label"),d=Math.max(s,this.length2em(n,Math.max(t,l+s+c)))-(u?l+c:0),h=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);this.cWidths=this.getColumnWidthsFixed(h,d);var p=this.getComputedWidths();return this.pWidth=(0,a.sum)(p.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==s&&this.parent.invalidateBBox(),this.pWidth!==s},l.prototype.setColumnPWidths=function(){var e,r,i=this.cWidths;try{for(var o=n(this.pwidthCells),a=o.next();!a.done;a=o.next()){var s=t(a.value,2),l=s[0],c=s[1];l.setChildPWidths(!1,i[c])&&(l.invalidateBBox(),l.getBBox())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},l.prototype.getBBoxHD=function(e){var r=t(this.getAlignmentRow(),2),n=r[0],i=r[1];if(null===i){var o=this.font.params.axis_height,a=e/2;return{top:[0,e],center:[a,a],bottom:[e,0],baseline:[a,a],axis:[a+o,a-o]}[n]||[a,a]}var s=this.getVerticalPosition(i,n);return[s,e-s]},l.prototype.getBBoxLR=function(){if(this.hasLabels){var e=this.node.attributes,r=e.get("side"),n=t(this.getPadAlignShift(r),2),i=n[0],o=n[1],a=this.hasLabels&&!!e.get("data-width-includes-label");return a&&this.frame&&this.fSpace[0]&&(i-=this.fSpace[0]),"center"!==o||a?"left"===r?[i,0]:[0,i]:[i,i]}return[0,0]},l.prototype.getPadAlignShift=function(e){var r=this.getTableData().L+this.length2em(this.node.attributes.get("minlabelspacing")),n=t(null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")],2),i=n[0],o=n[1];(i||o)&&(r=Math.max(r,this.length2em(i||"0"),this.length2em(o||"0")));var a=t(this.getAlignShift(),2),s=a[0],l=a[1];return s===e&&(l="left"===e?Math.max(r,l)-r:Math.min(-r,l)+r),[r,s,l]},l.prototype.getAlignShift=function(){return this.isTop?s.prototype.getAlignShift.call(this):[this.container.getChildAlign(this.containerI),0]},l.prototype.getWidth=function(){return this.pWidth||this.getBBox().w},l.prototype.getEqualRowHeight=function(){var e=this.getTableData(),t=e.H,r=e.D,n=Array.from(t.keys()).map(function(e){return t[e]+r[e]});return Math.max.apply(Math,n)},l.prototype.getComputedWidths=function(){var e=this,t=this.getTableData().W,r=Array.from(t.keys()).map(function(r){return"number"==typeof e.cWidths[r]?e.cWidths[r]:t[r]});return this.node.attributes.get("equalcolumns")&&(r=Array(r.length).fill((0,a.max)(r))),r},l.prototype.getColumnWidths=function(){var e=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(e);var t=this.getColumnAttributes("columnwidth",0);return"auto"===e?this.getColumnWidthsAuto(t):(0,o.isPercent)(e)?this.getColumnWidthsPercent(t):this.getColumnWidthsFixed(t,this.length2em(e))},l.prototype.getEqualColumns=function(e){var t,r=Math.max(1,this.numCols);if("auto"===e){var n=this.getTableData().W;t=(0,a.max)(n)}else if((0,o.isPercent)(e))t=this.percent(1/r);else{var i=(0,a.sum)([].concat(this.cLines,this.cSpace))+2*this.fSpace[0];t=Math.max(0,this.length2em(e)-i)/r}return Array(this.numCols).fill(t)},l.prototype.getColumnWidthsAuto=function(e){var t=this;return e.map(function(e){return"auto"===e||"fit"===e?null:(0,o.isPercent)(e)?e:t.length2em(e)})},l.prototype.getColumnWidthsPercent=function(e){var t=this,r=e.indexOf("fit")>=0,n=(r?this.getTableData():{W:null}).W;return Array.from(e.keys()).map(function(i){var a=e[i];return"fit"===a?null:"auto"===a?r?n[i]:null:(0,o.isPercent)(a)?a:t.length2em(a)})},l.prototype.getColumnWidthsFixed=function(e,t){var r=this,n=Array.from(e.keys()),i=n.filter(function(t){return"fit"===e[t]}),o=n.filter(function(t){return"auto"===e[t]}),s=i.length||o.length,l=(s?this.getTableData():{W:null}).W,c=t-(0,a.sum)([].concat(this.cLines,this.cSpace))-2*this.fSpace[0],u=c;n.forEach(function(t){var n=e[t];u-="fit"===n||"auto"===n?l[t]:r.length2em(n,c)});var d=s&&u>0?u/s:0;return n.map(function(t){var n=e[t];return"fit"===n?l[t]+d:"auto"===n?l[t]+(0===i.length?d:0):r.length2em(n,c)})},l.prototype.getVerticalPosition=function(e,r){for(var n=this.node.attributes.get("equalrows"),i=this.getTableData(),o=i.H,a=i.D,s=n?this.getEqualRowHeight():0,l=this.getRowHalfSpacing(),c=this.fLine,u=0;u<e;u++)c+=l[u]+(n?s:o[u]+a[u])+l[u+1]+this.rLines[u];var d=t(n?[(s+o[e]-a[e])/2,(s-o[e]+a[e])/2]:[o[e],a[e]],2),h=d[0],p=d[1];return c+={top:0,center:l[e]+(h+p)/2,bottom:l[e]+h+p+l[e+1],baseline:l[e]+h,axis:l[e]+h-.25}[r]||0},l.prototype.getEmHalfSpacing=function(e,t,r){void 0===r&&(r=1);var n=this.em(e*r),i=this.addEm(t,2/r);return i.unshift(n),i.push(n),i},l.prototype.getRowHalfSpacing=function(){var e=this.rSpace.map(function(e){return e/2});return e.unshift(this.fSpace[1]),e.push(this.fSpace[1]),e},l.prototype.getColumnHalfSpacing=function(){var e=this.cSpace.map(function(e){return e/2});return e.unshift(this.fSpace[0]),e.push(this.fSpace[0]),e},l.prototype.getAlignmentRow=function(){var e=t((0,o.split)(this.node.attributes.get("align")),2),r=e[0],n=e[1];if(null==n)return[r,null];var i=parseInt(n);return i<0&&(i+=this.numRows+1),[r,i<1||i>this.numRows?null:i-1]},l.prototype.getColumnAttributes=function(e,t){void 0===t&&(t=1);var r=this.numCols-t,n=this.getAttributeArray(e);if(0===n.length)return null;for(;n.length<r;)n.push(n[n.length-1]);return n.length>r&&n.splice(r),n},l.prototype.getRowAttributes=function(e,t){void 0===t&&(t=1);var r=this.numRows-t,n=this.getAttributeArray(e);if(0===n.length)return null;for(;n.length<r;)n.push(n[n.length-1]);return n.length>r&&n.splice(r),n},l.prototype.getAttributeArray=function(e){var t=this.node.attributes.get(e);return t?(0,o.split)(t):[this.node.attributes.getDefault(e)]},l.prototype.addEm=function(e,t){var r=this;return void 0===t&&(t=1),e?e.map(function(e){return r.em(e/t)}):null},l.prototype.convertLengths=function(e){var t=this;return e?e.map(function(e){return t.length2em(e)}):null},l}(s)},mtable$1}var mtable={},hasRequiredMtable$1,hasRequiredMtable;function requireMtable$1(){if(hasRequiredMtable$1)return mtable;hasRequiredMtable$1=1;var e=mtable&&mtable.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtable&&mtable.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mtable&&mtable.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mtable,"__esModule",{value:!0}),mtable.MmlMtable=void 0;var n=requireMmlNode(),i=requireString(),o=function(o){function a(){var e=null!==o&&o.apply(this,arguments)||this;return e.properties={useHeight:!0},e.texclass=n.TEXCLASS.ORD,e}return e(a,o),Object.defineProperty(a.prototype,"kind",{get:function(){return"mtable"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.setInheritedAttributes=function(e,t,i,a){var s,l;try{for(var c=r(n.indentAttributes),u=c.next();!u.done;u=c.next()){var d=u.value;e[d]&&this.attributes.setInherited(d,e[d][1]),void 0!==this.attributes.getExplicit(d)&&delete this.attributes.getAllAttributes()[d]}}catch(h){s={error:h}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}o.prototype.setInheritedAttributes.call(this,e,t,i,a)},a.prototype.setChildInheritedAttributes=function(e,t,n,o){var a,s,l,c;try{for(var u=r(this.childNodes),d=u.next();!d.done;d=u.next()){(g=d.value).isKind("mtr")||this.replaceChild(this.factory.create("mtr"),g).appendChild(g)}}catch(y){a={error:y}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}n=this.getProperty("scriptlevel")||n,t=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),e=this.addInheritedAttributes(e,{columnalign:this.attributes.get("columnalign"),rowalign:"center"});var h=this.attributes.getExplicit("data-cramped"),p=(0,i.split)(this.attributes.get("rowalign"));try{for(var f=r(this.childNodes),m=f.next();!m.done;m=f.next()){var g=m.value;e.rowalign[1]=p.shift()||e.rowalign[1],g.setInheritedAttributes(e,t,n,!!h)}}catch(b){l={error:b}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}},a.prototype.verifyChildren=function(e){for(var t=null,r=this.factory,n=0;n<this.childNodes.length;n++){var i=this.childNodes[n];if(i.isKind("mtr"))t=null;else{var a=i.isKind("mtd");if(t?(this.removeChild(i),n--):t=this.replaceChild(r.create("mtr"),i),t.appendChild(a?i:r.create("mtd",{},[i])),!e.fixMtables){i.parent.removeChild(i),i.parent=this,a&&t.appendChild(r.create("mtd"));var s=i.mError("Children of "+this.kind+" must be mtr or mlabeledtr",e,a);t.childNodes[t.childNodes.length-1].appendChild(s)}}}o.prototype.verifyChildren.call(this,e)},a.prototype.setTeXclass=function(e){var t,n;this.getPrevClass(e);try{for(var i=r(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.setTeXclass(null)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},a.defaults=t(t({},n.AbstractMmlNode.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em"}),a}(n.AbstractMmlNode);return mtable.MmlMtable=o,mtable}function requireMtable(){if(hasRequiredMtable)return mtable$2;hasRequiredMtable=1;var e=mtable$2&&mtable$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtable$2&&mtable$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=mtable$2&&mtable$2.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(mtable$2,"__esModule",{value:!0}),mtable$2.CHTMLmtable=void 0;var n=requireWrapper(),i=requireMtable$2(),o=requireMtable$1(),a=requireString(),s=function(n){function i(e,t,r){void 0===r&&(r=null);var i=n.call(this,e,t,r)||this;return i.itable=i.html("mjx-itable"),i.labels=i.html("mjx-itable"),i}return e(i,n),i.prototype.getAlignShift=function(){var e=n.prototype.getAlignShift.call(this);return this.isTop||(e[1]=0),e},i.prototype.toCHTML=function(e){var r,n,i=this.standardCHTMLnode(e);this.adaptor.append(i,this.html("mjx-table",{},[this.itable]));try{for(var o=t(this.childNodes),a=o.next();!a.done;a=o.next()){a.value.toCHTML(this.itable)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()},i.prototype.shiftColor=function(){var e=this.adaptor,t=e.getStyle(this.chtml,"backgroundColor");t&&(e.setStyle(this.chtml,"backgroundColor",""),e.setStyle(this.itable,"backgroundColor",t))},i.prototype.padRows=function(){var e,r,n=this.adaptor;try{for(var i=t(n.childNodes(this.itable)),o=i.next();!o.done;o=i.next())for(var a=o.value;n.childNodes(a).length<this.numCols;)n.append(a,this.html("mjx-mtd",{extra:!0}))}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},i.prototype.handleColumnSpacing=function(){var e,r,n,i,o=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,a=this.getEmHalfSpacing(this.fSpace[0],this.cSpace,o),s=this.frame;try{for(var l=t(this.tableRows),c=l.next();!c.done;c=l.next()){var u=c.value,d=0;try{for(var h=(n=void 0,t(u.tableCells)),p=h.next();!p.done;p=h.next()){var f=p.value,m=a[d++],g=a[d],y=f?f.chtml:this.adaptor.childNodes(u.chtml)[d];(d>1&&"0.4em"!==m||s&&1===d)&&this.adaptor.setStyle(y,"paddingLeft",m),(d<this.numCols&&"0.4em"!==g||s&&d===this.numCols)&&this.adaptor.setStyle(y,"paddingRight",g)}}catch(b){n={error:b}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(v){e={error:v}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}},i.prototype.handleColumnLines=function(){var e,r,n,i;if("none"!==this.node.attributes.get("columnlines")){var o=this.getColumnAttributes("columnlines");try{for(var a=t(this.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value,c=0;try{for(var u=(n=void 0,t(this.adaptor.childNodes(l.chtml).slice(1))),d=u.next();!d.done;d=u.next()){var h=d.value,p=o[c++];"none"!==p&&this.adaptor.setStyle(h,"borderLeft",".07em "+p)}}catch(f){n={error:f}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(m){e={error:m}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}}},i.prototype.handleColumnWidths=function(){var e,r,n,i;try{for(var o=t(this.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value,l=0;try{for(var c=(n=void 0,t(this.adaptor.childNodes(s.chtml))),u=c.next();!u.done;u=c.next()){var d=u.value,h=this.cWidths[l++];if(null!==h){var p="number"==typeof h?this.em(h):h;this.adaptor.setStyle(d,"width",p),this.adaptor.setStyle(d,"maxWidth",p),this.adaptor.setStyle(d,"minWidth",p)}}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(m){e={error:m}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},i.prototype.handleRowSpacing=function(){var e,r,n,i,o=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,a=this.getEmHalfSpacing(this.fSpace[1],this.rSpace,o),s=this.frame,l=0;try{for(var c=t(this.childNodes),u=c.next();!u.done;u=c.next()){var d=u.value,h=a[l++],p=a[l];try{for(var f=(n=void 0,t(d.childNodes)),m=f.next();!m.done;m=f.next()){var g=m.value;(l>1&&"0.215em"!==h||s&&1===l)&&this.adaptor.setStyle(g.chtml,"paddingTop",h),(l<this.numRows&&"0.215em"!==p||s&&l===this.numRows)&&this.adaptor.setStyle(g.chtml,"paddingBottom",p)}}catch(y){n={error:y}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}}catch(b){e={error:b}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}},i.prototype.handleRowLines=function(){var e,r,n,i;if("none"!==this.node.attributes.get("rowlines")){var o=this.getRowAttributes("rowlines"),a=0;try{for(var s=t(this.childNodes.slice(1)),l=s.next();!l.done;l=s.next()){var c=l.value,u=o[a++];if("none"!==u)try{for(var d=(n=void 0,t(this.adaptor.childNodes(c.chtml))),h=d.next();!h.done;h=d.next()){var p=h.value;this.adaptor.setStyle(p,"borderTop",".07em "+u)}}catch(f){n={error:f}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}}catch(m){e={error:m}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}}},i.prototype.handleRowHeights=function(){this.node.attributes.get("equalrows")&&this.handleEqualRows()},i.prototype.handleEqualRows=function(){for(var e=this.getRowHalfSpacing(),t=this.getTableData(),r=t.H,n=t.D,i=t.NH,o=t.ND,a=this.getEqualRowHeight(),s=0;s<this.numRows;s++){var l=this.childNodes[s];this.setRowHeight(l,a+e[s]+e[s+1]+this.rLines[s]),a!==i[s]+o[s]&&this.setRowBaseline(l,a,(a-r[s]+n[s])/2)}},i.prototype.setRowHeight=function(e,t){this.adaptor.setStyle(e.chtml,"height",this.em(t))},i.prototype.setRowBaseline=function(e,r,n){var i,o,a=e.node.attributes.get("rowalign");try{for(var s=t(e.childNodes),l=s.next();!l.done;l=s.next()){var c=l.value;if(this.setCellBaseline(c,a,r,n))break}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},i.prototype.setCellBaseline=function(e,t,r,n){var i=e.node.attributes.get("rowalign");if("baseline"===i||"axis"===i){var o=this.adaptor,a=o.lastChild(e.chtml);o.setStyle(a,"height",this.em(r)),o.setStyle(a,"verticalAlign",this.em(-n));var s=e.parent;if(!(s.node.isKind("mlabeledtr")&&e===s.childNodes[0]||"baseline"!==t&&"axis"!==t))return!0}return!1},i.prototype.handleFrame=function(){this.frame&&this.fLine&&this.adaptor.setStyle(this.itable,"border",".07em "+this.node.attributes.get("frame"))},i.prototype.handleWidth=function(){var e=this.adaptor,t=this.getBBox(),r=t.w,n=t.L,i=t.R;e.setStyle(this.chtml,"minWidth",this.em(n+r+i));var o=this.node.attributes.get("width");if((0,a.isPercent)(o))e.setStyle(this.chtml,"width",""),e.setAttribute(this.chtml,"width","full");else if(!this.hasLabels){if("auto"===o)return;o=this.em(this.length2em(o)+2*this.fLine)}var s=e.firstChild(this.chtml);if(e.setStyle(s,"width",o),e.setStyle(s,"minWidth",this.em(r)),n||i){e.setStyle(this.chtml,"margin","");var l=this.node.attributes.get("data-width-includes-label")?"padding":"margin";n===i?e.setStyle(s,l,"0 "+this.em(i)):e.setStyle(s,l,"0 "+this.em(i)+" 0 "+this.em(n))}e.setAttribute(this.itable,"width","full")},i.prototype.handleAlign=function(){var e=r(this.getAlignmentRow(),2),t=e[0],n=e[1];if(null===n)"axis"!==t&&this.adaptor.setAttribute(this.chtml,"align",t);else{var i=this.getVerticalPosition(n,t);this.adaptor.setAttribute(this.chtml,"align","top"),this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(i))}},i.prototype.handleJustify=function(){var e=this.getAlignShift()[0];"center"!==e&&this.adaptor.setAttribute(this.chtml,"justify",e)},i.prototype.handleLabels=function(){if(this.hasLabels){var e=this.labels,t=this.node.attributes,n=this.adaptor,i=t.get("side");n.setAttribute(this.chtml,"side",i),n.setAttribute(e,"align",i),n.setStyle(e,i,"0");var o=r(this.addLabelPadding(i),2),a=o[0],s=o[1];if(s){var l=n.firstChild(this.chtml);this.setIndent(l,a,s)}this.updateRowHeights(),this.addLabelSpacing()}},i.prototype.addLabelPadding=function(e){var t=r(this.getPadAlignShift(e),3),n=t[1],i=t[2],o={};if("right"===e&&!this.node.attributes.get("data-width-includes-label")){var s=this.node.attributes.get("width"),l=this.getBBox(),c=l.w,u=l.L,d=l.R;o.style={width:(0,a.isPercent)(s)?"calc("+s+" + "+this.em(u+d)+")":this.em(u+c+d)}}return this.adaptor.append(this.chtml,this.html("mjx-labels",o,[this.labels])),[n,i]},i.prototype.updateRowHeights=function(){for(var e=this.getTableData(),t=e.H,r=e.D,n=e.NH,i=e.ND,o=this.getRowHalfSpacing(),a=0;a<this.numRows;a++){var s=this.childNodes[a];this.setRowHeight(s,t[a]+r[a]+o[a]+o[a+1]+this.rLines[a]),t[a]!==n[a]||r[a]!==i[a]?this.setRowBaseline(s,t[a]+r[a],r[a]):s.node.isKind("mlabeledtr")&&this.setCellBaseline(s.childNodes[0],"",t[a]+r[a],r[a])}},i.prototype.addLabelSpacing=function(){for(var e=this.adaptor,t=this.node.attributes.get("equalrows"),r=this.getTableData(),n=r.H,i=r.D,o=t?this.getEqualRowHeight():0,a=this.getRowHalfSpacing(),s=this.fLine,l=e.firstChild(this.labels),c=0;c<this.numRows;c++){this.childNodes[c].node.isKind("mlabeledtr")?(s&&e.insert(this.html("mjx-mtr",{style:{height:this.em(s)}}),l),e.setStyle(l,"height",this.em((t?o:n[c]+i[c])+a[c]+a[c+1])),l=e.next(l),s=this.rLines[c]):s+=a[c]+(t?o:n[c]+i[c])+a[c+1]+this.rLines[c]}},i.kind=o.MmlMtable.prototype.kind,i.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex","box-sizing":"border-box"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}},i}((0,i.CommonMtableMixin)(n.CHTMLWrapper));return mtable$2.CHTMLmtable=s,mtable$2}var mtr$2={},mtr$1={},hasRequiredMtr$2;function requireMtr$2(){if(hasRequiredMtr$2)return mtr$1;hasRequiredMtr$2=1;var e=mtr$1&&mtr$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtr$1&&mtr$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};return Object.defineProperty(mtr$1,"__esModule",{value:!0}),mtr$1.CommonMlabeledtrMixin=mtr$1.CommonMtrMixin=void 0,mtr$1.CommonMtrMixin=function(r){return function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),Object.defineProperty(n.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"numCells",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labeled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableCells",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),n.prototype.getChild=function(e){return this.childNodes[e]},n.prototype.getChildBBoxes=function(){return this.childNodes.map(function(e){return e.getBBox()})},n.prototype.stretchChildren=function(e){var r,n,i,o,a,s;void 0===e&&(e=null);var l=[],c=this.labeled?this.childNodes.slice(1):this.childNodes;try{for(var u=t(c),d=u.next();!d.done;d=u.next()){(_=d.value.childNodes[0]).canStretch(1)&&l.push(_)}}catch(M){r={error:M}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}var h=l.length,p=this.childNodes.length;if(h&&p>1){if(null===e){var f=0,m=0,g=h>1&&h===p;try{for(var y=t(c),b=y.next();!b.done;b=y.next()){var v=0===(_=b.value.childNodes[0]).stretch.dir;if(g||v){var x=_.getBBox(v),$=x.h,S=x.d;$>f&&(f=$),S>m&&(m=S)}}}catch(C){i={error:C}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}e=[f,m]}try{for(var E=t(l),w=E.next();!w.done;w=E.next()){var _;(_=w.value).coreMO().getStretchedVariant(e)}}catch(T){a={error:T}}finally{try{w&&!w.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}},n}(r)},mtr$1.CommonMlabeledtrMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"numCells",{get:function(){return Math.max(0,this.childNodes.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labeled",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableCells",{get:function(){return this.childNodes.slice(1)},enumerable:!1,configurable:!0}),r.prototype.getChild=function(e){return this.childNodes[e+1]},r.prototype.getChildBBoxes=function(){return this.childNodes.slice(1).map(function(e){return e.getBBox()})},r}(t)},mtr$1}var mtr={},hasRequiredMtr$1,hasRequiredMtr;function requireMtr$1(){if(hasRequiredMtr$1)return mtr;hasRequiredMtr$1=1;var e=mtr&&mtr.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtr&&mtr.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=mtr&&mtr.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mtr,"__esModule",{value:!0}),mtr.MmlMlabeledtr=mtr.MmlMtr=void 0;var n=requireMmlNode(),i=requireAttributes(),o=requireString(),a=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return e(s,a),Object.defineProperty(s.prototype,"kind",{get:function(){return"mtr"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.setChildInheritedAttributes=function(e,t,n,i){var a,s,l,c;try{for(var u=r(this.childNodes),d=u.next();!d.done;d=u.next()){(m=d.value).isKind("mtd")||this.replaceChild(this.factory.create("mtd"),m).appendChild(m)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}var h=(0,o.split)(this.attributes.get("columnalign"));1===this.arity&&h.unshift(this.parent.attributes.get("side")),e=this.addInheritedAttributes(e,{rowalign:this.attributes.get("rowalign"),columnalign:"center"});try{for(var p=r(this.childNodes),f=p.next();!f.done;f=p.next()){var m=f.value;e.columnalign[1]=h.shift()||e.columnalign[1],m.setInheritedAttributes(e,t,n,i)}}catch(y){l={error:y}}finally{try{f&&!f.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}},s.prototype.verifyChildren=function(e){var t,n;if(!this.parent||this.parent.isKind("mtable")){try{for(var i=r(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s.isKind("mtd"))this.replaceChild(this.factory.create("mtd"),s).appendChild(s),e.fixMtables||s.mError("Children of "+this.kind+" must be mtd",e)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}a.prototype.verifyChildren.call(this,e)}else this.mError(this.kind+" can only be a child of an mtable",e,!0)},s.prototype.setTeXclass=function(e){var t,n;this.getPrevClass(e);try{for(var i=r(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.setTeXclass(null)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},s.defaults=t(t({},n.AbstractMmlNode.defaults),{rowalign:i.INHERIT,columnalign:i.INHERIT,groupalign:i.INHERIT}),s}(n.AbstractMmlNode);mtr.MmlMtr=a;var s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"mlabeledtr"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),r}(a);return mtr.MmlMlabeledtr=s,mtr}function requireMtr(){if(hasRequiredMtr)return mtr$2;hasRequiredMtr=1;var e=mtr$2&&mtr$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mtr$2,"__esModule",{value:!0}),mtr$2.CHTMLmlabeledtr=mtr$2.CHTMLmtr=void 0;var t=requireWrapper(),r=requireMtr$2(),n=requireMtr$2(),i=requireMtr$1(),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.node.attributes.get("rowalign");"baseline"!==r&&this.adaptor.setAttribute(this.chtml,"rowalign",r)},r.kind=i.MmlMtr.prototype.kind,r.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},r}((0,r.CommonMtrMixin)(t.CHTMLWrapper));mtr$2.CHTMLmtr=o;var a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.adaptor.firstChild(this.chtml);if(r){this.adaptor.remove(r);var n=this.node.attributes.get("rowalign"),i="baseline"!==n&&"axis"!==n?{rowalign:n}:{},o=this.html("mjx-mtr",i,[r]);this.adaptor.append(this.parent.labels,o)}},r.prototype.markUsed=function(){t.prototype.markUsed.call(this),this.jax.wrapperUsage.add(o.kind)},r.kind=i.MmlMlabeledtr.prototype.kind,r.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},r}((0,n.CommonMlabeledtrMixin)(o));return mtr$2.CHTMLmlabeledtr=a,mtr$2}var mtd$2={},mtd$1={},hasRequiredMtd$2;function requireMtd$2(){if(hasRequiredMtd$2)return mtd$1;hasRequiredMtd$2=1;var e=mtd$1&&mtd$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(mtd$1,"__esModule",{value:!0}),mtd$1.CommonMtdMixin=void 0,mtd$1.CommonMtdMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.invalidateBBox=function(){this.bboxComputed=!1},r.prototype.getWrapWidth=function(e){var t=this.parent.parent,r=this.parent,n=this.node.childPosition()-(r.labeled?1:0);return"number"==typeof t.cWidths[n]?t.cWidths[n]:t.getTableData().W[n]},r.prototype.getChildAlign=function(e){return this.node.attributes.get("columnalign")},r}(t)},mtd$1}var mtd={},hasRequiredMtd$1,hasRequiredMtd;function requireMtd$1(){if(hasRequiredMtd$1)return mtd;hasRequiredMtd$1=1;var e=mtd&&mtd.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mtd&&mtd.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mtd,"__esModule",{value:!0}),mtd.MmlMtd=void 0;var r=requireMmlNode(),n=requireAttributes(),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"mtd"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.verifyChildren=function(e){!this.parent||this.parent.isKind("mtr")?i.prototype.verifyChildren.call(this,e):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",e,!0)},o.prototype.setTeXclass=function(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this},o.defaults=t(t({},r.AbstractMmlBaseNode.defaults),{rowspan:1,columnspan:1,rowalign:n.INHERIT,columnalign:n.INHERIT,groupalign:n.INHERIT}),o}(r.AbstractMmlBaseNode);return mtd.MmlMtd=i,mtd}function requireMtd(){if(hasRequiredMtd)return mtd$2;hasRequiredMtd=1;var e=mtd$2&&mtd$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mtd$2,"__esModule",{value:!0}),mtd$2.CHTMLmtd=void 0;var t=requireWrapper(),r=requireMtd$2(),n=requireMtd$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.node.attributes.get("rowalign"),n=this.node.attributes.get("columnalign");r!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.chtml,"rowalign",r),"center"===n||"mlabeledtr"===this.parent.kind&&this===this.parent.childNodes[0]&&n===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.chtml,"textAlign",n),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.chtml,this.html("mjx-tstrut"))},r.kind=n.MmlMtd.prototype.kind,r.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}},r}((0,r.CommonMtdMixin)(t.CHTMLWrapper));return mtd$2.CHTMLmtd=i,mtd$2}var maction$2={},maction$1={},hasRequiredMaction$2;function requireMaction$2(){return hasRequiredMaction$2||(hasRequiredMaction$2=1,function(e){var t=maction$1&&maction$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=maction$1&&maction$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=maction$1&&maction$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMactionMixin=e.TooltipData=void 0;var i=requireString();e.TooltipData={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:function(e,t){t.clearTimer.has(e)&&(clearTimeout(t.clearTimer.get(e)),t.clearTimer.delete(e)),t.hoverTimer.has(e)&&(clearTimeout(t.hoverTimer.get(e)),t.hoverTimer.delete(e))}},e.CommonMactionMixin=function(o){return function(o){function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=o.apply(this,n([],r(e),!1))||this,a=i.constructor.actions,s=i.node.attributes.get("actiontype"),l=r(a.get(s)||[function(e,t){},{}],2),c=l[0],u=l[1];return i.action=c,i.data=u,i.getParameters(),i}return t(a,o),Object.defineProperty(a.prototype,"selected",{get:function(){var e=this.node.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,e))-1;return this.childNodes[t]||this.wrap(this.node.selected)},enumerable:!1,configurable:!0}),a.prototype.getParameters=function(){var t=this.node.attributes.get("data-offsets"),n=r((0,i.split)(t||""),2),o=n[0],a=n[1];this.dx=this.length2em(o||e.TooltipData.dx),this.dy=this.length2em(a||e.TooltipData.dy)},a.prototype.computeBBox=function(e,t){void 0===t&&(t=!1),e.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(t)},a}(o)}}(maction$1)),maction$1}var maction={},hasRequiredMaction$1,hasRequiredMaction;function requireMaction$1(){if(hasRequiredMaction$1)return maction;hasRequiredMaction$1=1;var e=maction&&maction.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=maction&&maction.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(maction,"__esModule",{value:!0}),maction.MmlMaction=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"maction"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){var e=this.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,e))-1;return this.childNodes[t]||this.factory.create("mrow")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isEmbellished",{get:function(){return this.selected.isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isSpacelike",{get:function(){return this.selected.isSpacelike},enumerable:!1,configurable:!0}),i.prototype.core=function(){return this.selected.core()},i.prototype.coreMO=function(){return this.selected.coreMO()},i.prototype.verifyAttributes=function(e){(n.prototype.verifyAttributes.call(this,e),"toggle"!==this.attributes.get("actiontype")&&void 0!==this.attributes.getExplicit("selection"))&&delete this.attributes.getAllAttributes().selection},i.prototype.setTeXclass=function(e){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);var t=this.selected;return e=t.setTeXclass(e),this.updateTeXclass(t),e},i.prototype.nextToggleSelection=function(){var e=Math.max(1,this.attributes.get("selection")+1);e>this.childNodes.length&&(e=1),this.attributes.set("selection",e)},i.defaults=t(t({},r.AbstractMmlNode.defaults),{actiontype:"toggle",selection:1}),i}(r.AbstractMmlNode);return maction.MmlMaction=n,maction}function requireMaction(){if(hasRequiredMaction)return maction$2;hasRequiredMaction=1;var e=maction$2&&maction$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(maction$2,"__esModule",{value:!0}),maction$2.CHTMLmaction=void 0;var t=requireWrapper(),r=requireMaction$2(),n=requireMaction$2(),i=requireMaction$1(),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t=this.standardCHTMLnode(e);this.selected.toCHTML(t),this.action(this,this.data)},r.prototype.setEventHandler=function(e,t){this.chtml.addEventListener(e,t)},r.kind=i.MmlMaction.prototype.kind,r.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block",padding:".2em",border:"1px solid #888","font-size":"70%","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},r.actions=new Map([["toggle",[function(e,t){e.adaptor.setAttribute(e.chtml,"toggle",e.node.attributes.get("selection"));var r=e.factory.jax.math,n=e.factory.jax.document,i=e.node;e.setEventHandler("click",function(e){r.end.node||(r.start.node=r.end.node=r.typesetRoot,r.start.n=r.end.n=0),i.nextToggleSelection(),r.rerender(n),e.stopPropagation()})},{}]],["tooltip",[function(e,t){var r=e.childNodes[1];if(r)if(r.node.isKind("mtext")){var n=r.node.getText();e.adaptor.setAttribute(e.chtml,"title",n)}else{var i=e.adaptor,o=i.append(e.chtml,e.html("mjx-tool",{style:{bottom:e.em(-e.dy),right:e.em(-e.dx)}},[e.html("mjx-tip")]));r.toCHTML(i.firstChild(o)),e.setEventHandler("mouseover",function(r){t.stopTimers(e,t);var n=setTimeout(function(){return i.setStyle(o,"display","block")},t.postDelay);t.hoverTimer.set(e,n),r.stopPropagation()}),e.setEventHandler("mouseout",function(r){t.stopTimers(e,t);var n=setTimeout(function(){return i.setStyle(o,"display","")},t.clearDelay);t.clearTimer.set(e,n),r.stopPropagation()})}},n.TooltipData]],["statusline",[function(e,t){var r=e.childNodes[1];if(r&&r.node.isKind("mtext")){var n=e.adaptor,i=r.node.getText();n.setAttribute(e.chtml,"statusline",i),e.setEventHandler("mouseover",function(r){if(null===t.status){var o=n.body(n.document);t.status=n.append(o,e.html("mjx-status",{},[e.text(i)]))}r.stopPropagation()}),e.setEventHandler("mouseout",function(e){t.status&&(n.remove(t.status),t.status=null),e.stopPropagation()})}},{status:null}]]]),r}((0,r.CommonMactionMixin)(t.CHTMLWrapper));return maction$2.CHTMLmaction=o,maction$2}var mglyph$2={},mglyph$1={},hasRequiredMglyph$2;function requireMglyph$2(){if(hasRequiredMglyph$2)return mglyph$1;hasRequiredMglyph$2=1;var e=mglyph$1&&mglyph$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mglyph$1&&mglyph$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=mglyph$1&&mglyph$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(mglyph$1,"__esModule",{value:!0}),mglyph$1.CommonMglyphMixin=void 0,mglyph$1.CommonMglyphMixin=function(n){return function(n){function i(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.apply(this,r([],t(e),!1))||this;return o.getParameters(),o}return e(i,n),i.prototype.getParameters=function(){var e=this.node.attributes.getList("width","height","valign","src","index"),t=e.width,r=e.height,n=e.valign,i=e.src,o=e.index;if(i)this.width="auto"===t?1:this.length2em(t),this.height="auto"===r?1:this.length2em(r),this.valign=this.length2em(n||"0");else{var a=String.fromCodePoint(parseInt(o)),s=this.node.factory;this.charWrapper=this.wrap(s.create("text").setText(a)),this.charWrapper.parent=this}},i.prototype.computeBBox=function(e,t){this.charWrapper?e.updateFrom(this.charWrapper.getBBox()):(e.w=this.width,e.h=this.height+this.valign,e.d=-this.valign)},i}(n)},mglyph$1}var mglyph={},hasRequiredMglyph$1,hasRequiredMglyph;function requireMglyph$1(){if(hasRequiredMglyph$1)return mglyph;hasRequiredMglyph$1=1;var e=mglyph&&mglyph.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mglyph&&mglyph.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mglyph,"__esModule",{value:!0}),mglyph.MmlMglyph=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mglyph"},enumerable:!1,configurable:!0}),i.prototype.verifyAttributes=function(e){var t=this.attributes.getList("src","fontfamily","index"),r=t.src,i=t.fontfamily,o=t.index;""!==r||""!==i&&""!==o?n.prototype.verifyAttributes.call(this,e):this.mError("mglyph must have either src or fontfamily and index attributes",e,!0)},i.defaults=t(t({},r.AbstractMmlTokenNode.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"}),i}(r.AbstractMmlTokenNode);return mglyph.MmlMglyph=n,mglyph}function requireMglyph(){if(hasRequiredMglyph)return mglyph$2;hasRequiredMglyph=1;var e=mglyph$2&&mglyph$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mglyph$2,"__esModule",{value:!0}),mglyph$2.CHTMLmglyph=void 0;var t=requireWrapper(),r=requireMglyph$2(),n=requireMglyph$1(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t=this.standardCHTMLnode(e);if(this.charWrapper)this.charWrapper.toCHTML(t);else{var r=this.node.attributes.getList("src","alt"),n=r.src,i=r.alt,o={width:this.em(this.width),height:this.em(this.height)};this.valign&&(o.verticalAlign=this.em(this.valign));var a=this.html("img",{src:n,style:o,alt:i,title:i});this.adaptor.append(t,a)}},r.kind=n.MmlMglyph.prototype.kind,r.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}},r}((0,r.CommonMglyphMixin)(t.CHTMLWrapper));return mglyph$2.CHTMLmglyph=i,mglyph$2}var semantics$2={},semantics$1={},hasRequiredSemantics$2;function requireSemantics$2(){if(hasRequiredSemantics$2)return semantics$1;hasRequiredSemantics$2=1;var e=semantics$1&&semantics$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();return Object.defineProperty(semantics$1,"__esModule",{value:!0}),semantics$1.CommonSemanticsMixin=void 0,semantics$1.CommonSemanticsMixin=function(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.computeBBox=function(e,t){if(this.childNodes.length){var r=this.childNodes[0].getBBox(),n=r.w,i=r.h,o=r.d;e.w=n,e.h=i,e.d=o}},r}(t)},semantics$1}var semantics={},hasRequiredSemantics$1,hasRequiredSemantics;function requireSemantics$1(){if(hasRequiredSemantics$1)return semantics;hasRequiredSemantics$1=1;var e=semantics&&semantics.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=semantics&&semantics.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(semantics,"__esModule",{value:!0}),semantics.MmlAnnotation=semantics.MmlAnnotationXML=semantics.MmlSemantics=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"semantics"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),i.defaults=t(t({},r.AbstractMmlBaseNode.defaults),{definitionUrl:null,encoding:null}),i}(r.AbstractMmlBaseNode);semantics.MmlSemantics=n;var i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"annotation-xml"},enumerable:!1,configurable:!0}),i.prototype.setChildInheritedAttributes=function(){},i.defaults=t(t({},r.AbstractMmlNode.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null}),i}(r.AbstractMmlNode);semantics.MmlAnnotationXML=i;var o=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e.properties={isChars:!0},e}return e(n,r),Object.defineProperty(n.prototype,"kind",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),n.defaults=t({},i.defaults),n}(i);return semantics.MmlAnnotation=o,semantics}function requireSemantics(){if(hasRequiredSemantics)return semantics$2;hasRequiredSemantics=1;var e=semantics$2&&semantics$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(semantics$2,"__esModule",{value:!0}),semantics$2.CHTMLxml=semantics$2.CHTMLannotationXML=semantics$2.CHTMLannotation=semantics$2.CHTMLsemantics=void 0;var t=requireWrapper(),r=requireSemantics$2(),n=requireSemantics$1(),i=requireMmlNode(),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){var t=this.standardCHTMLnode(e);this.childNodes.length&&this.childNodes[0].toCHTML(t)},r.kind=n.MmlSemantics.prototype.kind,r}((0,r.CommonSemanticsMixin)(t.CHTMLWrapper));semantics$2.CHTMLsemantics=o;var a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e)},r.prototype.computeBBox=function(){return this.bbox},r.kind=n.MmlAnnotation.prototype.kind,r}(t.CHTMLWrapper);semantics$2.CHTMLannotation=a;var s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.kind=n.MmlAnnotationXML.prototype.kind,r.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},r}(t.CHTMLWrapper);semantics$2.CHTMLannotationXML=s;var l=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){this.chtml=this.adaptor.append(e,this.adaptor.clone(this.node.getXML()))},r.prototype.computeBBox=function(e,t){var r=this.jax.measureXMLnode(this.node.getXML()),n=r.w,i=r.h,o=r.d;e.w=n,e.h=i,e.d=o},r.prototype.getStyles=function(){},r.prototype.getScale=function(){},r.prototype.getVariant=function(){},r.kind=i.XMLNode.prototype.kind,r.autoStyle=!1,r}(t.CHTMLWrapper);return semantics$2.CHTMLxml=l,semantics$2}var TeXAtom$2={},TeXAtom$1={},hasRequiredTeXAtom$2;function requireTeXAtom$2(){if(hasRequiredTeXAtom$2)return TeXAtom$1;hasRequiredTeXAtom$2=1;var e=TeXAtom$1&&TeXAtom$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(TeXAtom$1,"__esModule",{value:!0}),TeXAtom$1.CommonTeXAtomMixin=void 0;var t=requireMmlNode();return TeXAtom$1.CommonTeXAtomMixin=function(r){return function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.computeBBox=function(e,n){if(void 0===n&&(n=!1),r.prototype.computeBBox.call(this,e,n),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(e.ic=this.childNodes[0].bbox.ic),this.node.texClass===t.TEXCLASS.VCENTER){var i=e.h,o=(i+e.d)/2+this.font.params.axis_height-i;e.h+=o,e.d-=o}},n}(r)},TeXAtom$1}var TeXAtom={},hasRequiredTeXAtom$1,hasRequiredTeXAtom;function requireTeXAtom$1(){if(hasRequiredTeXAtom$1)return TeXAtom;hasRequiredTeXAtom$1=1;var e=TeXAtom&&TeXAtom.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=TeXAtom&&TeXAtom.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(TeXAtom,"__esModule",{value:!0}),TeXAtom.TeXAtom=void 0;var r=requireMmlNode(),n=requireMo$1(),i=function(n){function i(e,t,i){var o=n.call(this,e,t,i)||this;return o.texclass=r.TEXCLASS.ORD,o.setProperty("texClass",o.texClass),o}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"TeXAtom"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"notParent",{get:function(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length},enumerable:!1,configurable:!0}),i.prototype.setTeXclass=function(e){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(e)},i.prototype.adjustTeXclass=function(e){return e},i.defaults=t({},r.AbstractMmlBaseNode.defaults),i}(r.AbstractMmlBaseNode);return TeXAtom.TeXAtom=i,i.prototype.adjustTeXclass=n.MmlMo.prototype.adjustTeXclass,TeXAtom}function requireTeXAtom(){if(hasRequiredTeXAtom)return TeXAtom$2;hasRequiredTeXAtom=1;var e=TeXAtom$2&&TeXAtom$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(TeXAtom$2,"__esModule",{value:!0}),TeXAtom$2.CHTMLTeXAtom=void 0;var t=requireWrapper(),r=requireTeXAtom$2(),n=requireTeXAtom$1(),i=requireMmlNode(),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.toCHTML=function(e){if(t.prototype.toCHTML.call(this,e),this.adaptor.setAttribute(this.chtml,"texclass",i.TEXCLASSNAMES[this.node.texClass]),this.node.texClass===i.TEXCLASS.VCENTER){var r=this.childNodes[0].getBBox(),n=r.h,o=(n+r.d)/2+this.font.params.axis_height-n;this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(o))}},r.kind=n.TeXAtom.prototype.kind,r}((0,r.CommonTeXAtomMixin)(t.CHTMLWrapper));return TeXAtom$2.CHTMLTeXAtom=o,TeXAtom$2}var TextNode$2={},TextNode$1={},hasRequiredTextNode$1,hasRequiredTextNode,hasRequiredWrappers,hasRequiredWrapperFactory;function requireTextNode$1(){if(hasRequiredTextNode$1)return TextNode$1;hasRequiredTextNode$1=1;var e=TextNode$1&&TextNode$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=TextNode$1&&TextNode$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=TextNode$1&&TextNode$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};return Object.defineProperty(TextNode$1,"__esModule",{value:!0}),TextNode$1.CommonTextNodeMixin=void 0,TextNode$1.CommonTextNodeMixin=function(n){return function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.computeBBox=function(e,n){var i,o,a=this.parent.variant,s=this.node.getText();if("-explicitFont"===a){var l=this.jax.getFontData(this.parent.styles),c=this.jax.measureText(s,a,l),u=c.w,d=c.h,h=c.d;e.h=d,e.d=h,e.w=u}else{var p=this.remappedText(s,a);e.empty();try{for(var f=t(p),m=f.next();!m.done;m=f.next()){var g=m.value,y=r(this.getVariantChar(a,g),4),b=(d=y[0],h=y[1],u=y[2],y[3]);if(b.unknown){var v=this.jax.measureText(String.fromCodePoint(g),a);u=v.w,d=v.h,h=v.d}e.w+=u,d>e.h&&(e.h=d),h>e.d&&(e.d=h),e.ic=b.ic||0,e.sk=b.sk||0,e.dx=b.dx||0}}catch(x){i={error:x}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}p.length>1&&(e.sk=0),e.clean()}},i.prototype.remappedText=function(e,t){var r=this.parent.stretch.c;return r?[r]:this.parent.remapChars(this.unicodeChars(e,t))},i.prototype.getStyles=function(){},i.prototype.getVariant=function(){},i.prototype.getScale=function(){},i.prototype.getSpace=function(){},i}(n)},TextNode$1}function requireTextNode(){if(hasRequiredTextNode)return TextNode$2;hasRequiredTextNode=1;var e=TextNode$2&&TextNode$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=TextNode$2&&TextNode$2.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(TextNode$2,"__esModule",{value:!0}),TextNode$2.CHTMLTextNode=void 0;var r=requireMmlNode(),n=requireWrapper(),i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.toCHTML=function(e){var r,n;this.markUsed();var i=this.adaptor,o=this.parent.variant,a=this.node.getText();if(0!==a.length)if("-explicitFont"===o)i.append(e,this.jax.unknownText(a,o,this.getBBox().w));else{var s=this.remappedText(a,o);try{for(var l=t(s),c=l.next();!c.done;c=l.next()){var u=c.value,d=this.getVariantChar(o,u)[3],h=d.f?" TEX-"+d.f:"",p=d.unknown?this.jax.unknownText(String.fromCodePoint(u),o):this.html("mjx-c",{class:this.char(u)+h});i.append(e,p),!d.unknown&&this.font.charUsage.add([o,u])}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}},i.kind=r.TextNode.prototype.kind,i.autoStyle=!1,i.styles={"mjx-c":{display:"inline-block"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}},i}((0,requireTextNode$1().CommonTextNodeMixin)(n.CHTMLWrapper));return TextNode$2.CHTMLTextNode=i,TextNode$2}function requireWrappers(){if(hasRequiredWrappers)return Wrappers;var e;hasRequiredWrappers=1,Object.defineProperty(Wrappers,"__esModule",{value:!0}),Wrappers.CHTMLWrappers=void 0;var t=requireWrapper(),r=requireMath(),n=requireMi(),i=requireMo(),o=requireMn(),a=requireMs(),s=requireMtext(),l=requireMspace(),c=requireMpadded(),u=requireMenclose(),d=requireMrow(),h=requireMfenced(),p=requireMfrac(),f=requireMsqrt(),m=requireMroot(),g=requireMsubsup(),y=requireMunderover(),b=requireMmultiscripts(),v=requireMtable(),x=requireMtr(),$=requireMtd(),S=requireMaction(),E=requireMglyph(),w=requireSemantics(),_=requireTeXAtom(),M=requireTextNode();return Wrappers.CHTMLWrappers=((e={})[r.CHTMLmath.kind]=r.CHTMLmath,e[d.CHTMLmrow.kind]=d.CHTMLmrow,e[d.CHTMLinferredMrow.kind]=d.CHTMLinferredMrow,e[n.CHTMLmi.kind]=n.CHTMLmi,e[i.CHTMLmo.kind]=i.CHTMLmo,e[o.CHTMLmn.kind]=o.CHTMLmn,e[a.CHTMLms.kind]=a.CHTMLms,e[s.CHTMLmtext.kind]=s.CHTMLmtext,e[l.CHTMLmspace.kind]=l.CHTMLmspace,e[c.CHTMLmpadded.kind]=c.CHTMLmpadded,e[u.CHTMLmenclose.kind]=u.CHTMLmenclose,e[p.CHTMLmfrac.kind]=p.CHTMLmfrac,e[f.CHTMLmsqrt.kind]=f.CHTMLmsqrt,e[m.CHTMLmroot.kind]=m.CHTMLmroot,e[g.CHTMLmsub.kind]=g.CHTMLmsub,e[g.CHTMLmsup.kind]=g.CHTMLmsup,e[g.CHTMLmsubsup.kind]=g.CHTMLmsubsup,e[y.CHTMLmunder.kind]=y.CHTMLmunder,e[y.CHTMLmover.kind]=y.CHTMLmover,e[y.CHTMLmunderover.kind]=y.CHTMLmunderover,e[b.CHTMLmmultiscripts.kind]=b.CHTMLmmultiscripts,e[h.CHTMLmfenced.kind]=h.CHTMLmfenced,e[v.CHTMLmtable.kind]=v.CHTMLmtable,e[x.CHTMLmtr.kind]=x.CHTMLmtr,e[x.CHTMLmlabeledtr.kind]=x.CHTMLmlabeledtr,e[$.CHTMLmtd.kind]=$.CHTMLmtd,e[S.CHTMLmaction.kind]=S.CHTMLmaction,e[E.CHTMLmglyph.kind]=E.CHTMLmglyph,e[w.CHTMLsemantics.kind]=w.CHTMLsemantics,e[w.CHTMLannotation.kind]=w.CHTMLannotation,e[w.CHTMLannotationXML.kind]=w.CHTMLannotationXML,e[w.CHTMLxml.kind]=w.CHTMLxml,e[_.CHTMLTeXAtom.kind]=_.CHTMLTeXAtom,e[M.CHTMLTextNode.kind]=M.CHTMLTextNode,e[t.CHTMLWrapper.kind]=t.CHTMLWrapper,e),Wrappers}function requireWrapperFactory(){if(hasRequiredWrapperFactory)return WrapperFactory$2;hasRequiredWrapperFactory=1;var e=WrapperFactory$2&&WrapperFactory$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(WrapperFactory$2,"__esModule",{value:!0}),WrapperFactory$2.CHTMLWrapperFactory=void 0;var t=requireWrapperFactory$1(),r=requireWrappers(),n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.defaultNodes=r.CHTMLWrappers,n}(t.CommonWrapperFactory);return WrapperFactory$2.CHTMLWrapperFactory=n,WrapperFactory$2}var Usage={},hasRequiredUsage;function requireUsage(){if(hasRequiredUsage)return Usage;hasRequiredUsage=1,Object.defineProperty(Usage,"__esModule",{value:!0}),Usage.Usage=void 0;var e=function(){function e(){this.used=new Set,this.needsUpdate=[]}return e.prototype.add=function(e){var t=JSON.stringify(e);this.used.has(t)||this.needsUpdate.push(e),this.used.add(t)},e.prototype.has=function(e){return this.used.has(JSON.stringify(e))},e.prototype.clear=function(){this.used.clear(),this.needsUpdate=[]},e.prototype.update=function(){var e=this.needsUpdate;return this.needsUpdate=[],e},e}();return Usage.Usage=e,Usage}var tex$2={},FontData={},hasRequiredFontData;function requireFontData(){return hasRequiredFontData||(hasRequiredFontData=1,function(e){var t=FontData&&FontData.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=FontData&&FontData.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},n=FontData&&FontData.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=FontData&&FontData.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=FontData&&FontData.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=FontData&&FontData.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.AddCSS=e.CHTMLFontData=void 0;var s=requireFontData$1(),l=requireUsage(),c=requireLengths();i(requireFontData$1(),e);var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.charUsage=new l.Usage,t.delimUsage=new l.Usage,t}return t(n,e),n.charOptions=function(t,r){return e.charOptions.call(this,t,r)},n.prototype.adaptiveCSS=function(e){this.options.adaptiveCSS=e},n.prototype.clearCache=function(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())},n.prototype.createVariant=function(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.prototype.createVariant.call(this,t,r,n);var i=this.constructor;this.variant[t].classes=i.defaultVariantClasses[t],this.variant[t].letter=i.defaultVariantLetters[t]},n.prototype.defineChars=function(t,r){var i,a;e.prototype.defineChars.call(this,t,r);var s=this.variant[t].letter;try{for(var l=o(Object.keys(r)),c=l.next();!c.done;c=l.next()){var u=c.value,d=n.charOptions(r,parseInt(u));void 0===d.f&&(d.f=s)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}},Object.defineProperty(n.prototype,"styles",{get:function(){var e=this.constructor,t=r({},e.defaultStyles);return this.addFontURLs(t,e.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(t):this.allStyles(t),t},enumerable:!1,configurable:!0}),n.prototype.updateStyles=function(e){var t,r,n,i;try{for(var s=o(this.delimUsage.update()),l=s.next();!l.done;l=s.next()){var c=l.value;this.addDelimiterStyles(e,c,this.delimiters[c])}}catch(m){t={error:m}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var u=o(this.charUsage.update()),d=u.next();!d.done;d=u.next()){var h=a(d.value,2),p=h[0],f=(c=h[1],this.variant[p]);this.addCharStyles(e,f.letter,c,f.chars[c])}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return e},n.prototype.allStyles=function(e){var t,r,n,i,a,s;try{for(var l=o(Object.keys(this.delimiters)),c=l.next();!c.done;c=l.next()){var u=c.value,d=parseInt(u);this.addDelimiterStyles(e,d,this.delimiters[d])}}catch(x){t={error:x}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}try{for(var h=o(Object.keys(this.variant)),p=h.next();!p.done;p=h.next()){var f=p.value,m=this.variant[f],g=m.letter;try{for(var y=(a=void 0,o(Object.keys(m.chars))),b=y.next();!b.done;b=y.next()){u=b.value,d=parseInt(u);var v=m.chars[d];(v[3]||{}).smp||(v.length<4&&(v[3]={}),this.addCharStyles(e,g,d,v))}}catch($){a={error:$}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}},n.prototype.addFontURLs=function(e,t,n){var i,a;try{for(var s=o(Object.keys(t)),l=s.next();!l.done;l=s.next()){var c=l.value,u=r({},t[c]);u.src=u.src.replace(/%%URL%%/,n),e[c]=u}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},n.prototype.addDelimiterStyles=function(e,t,r){var n=this.charSelector(t);r.c&&r.c!==t&&(e[".mjx-stretched mjx-c"+(n=this.charSelector(r.c))+"::before"]={content:this.charContent(r.c)}),r.stretch&&(1===r.dir?this.addDelimiterVStyles(e,n,r):this.addDelimiterHStyles(e,n,r))},n.prototype.addDelimiterVStyles=function(e,t,r){var n=r.HDW,i=a(r.stretch,4),o=i[0],s=i[1],l=i[2],c=i[3],u=this.addDelimiterVPart(e,t,"beg",o,n);this.addDelimiterVPart(e,t,"ext",s,n);var d=this.addDelimiterVPart(e,t,"end",l,n),h={};if(c){var p=this.addDelimiterVPart(e,t,"mid",c,n);h.height="50%",e["mjx-stretchy-v"+t+" > mjx-mid"]={"margin-top":this.em(-p/2),"margin-bottom":this.em(-p/2)}}u&&(h["border-top-width"]=this.em0(u-.03)),d&&(h["border-bottom-width"]=this.em0(d-.03),e["mjx-stretchy-v"+t+" > mjx-end"]={"margin-top":this.em(-d)}),Object.keys(h).length&&(e["mjx-stretchy-v"+t+" > mjx-ext"]=h)},n.prototype.addDelimiterVPart=function(e,t,r,n,i){if(!n)return 0;var o=this.getDelimiterData(n),a=(i[2]-o[2])/2,s={content:this.charContent(n)};return"ext"!==r?s.padding=this.padding(o,a):(s.width=this.em0(i[2]),a&&(s["padding-left"]=this.em0(a))),e["mjx-stretchy-v"+t+" mjx-"+r+" mjx-c::before"]=s,o[0]+o[1]},n.prototype.addDelimiterHStyles=function(e,t,r){var n=a(r.stretch,4),i=n[0],o=n[1],s=n[2],l=n[3],c=r.HDW;this.addDelimiterHPart(e,t,"beg",i,c),this.addDelimiterHPart(e,t,"ext",o,c),this.addDelimiterHPart(e,t,"end",s,c),l&&(this.addDelimiterHPart(e,t,"mid",l,c),e["mjx-stretchy-h"+t+" > mjx-ext"]={width:"50%"})},n.prototype.addDelimiterHPart=function(e,t,r,n,i){if(n){var o=this.getDelimiterData(n)[3],a={content:o&&o.c?'"'+o.c+'"':this.charContent(n)};a.padding=this.padding(i,0,-i[2]),e["mjx-stretchy-h"+t+" mjx-"+r+" mjx-c::before"]=a}},n.prototype.addCharStyles=function(e,t,r,n){var i=n[3],o=void 0!==i.f?i.f:t;e["mjx-c"+this.charSelector(r)+(o?".TEX-"+o:"")+"::before"]={padding:this.padding(n,0,i.ic||0),content:null!=i.c?'"'+i.c+'"':this.charContent(r)}},n.prototype.getDelimiterData=function(e){return this.getChar("-smallop",e)},n.prototype.em=function(e){return(0,c.em)(e)},n.prototype.em0=function(e){return(0,c.em)(Math.max(0,e))},n.prototype.padding=function(e,t,r){var n=a(e,3),i=n[0],o=n[1];return void 0===t&&(t=0),void 0===r&&(r=0),[i,n[2]+r,o,t].map(this.em0).join(" ")},n.prototype.charContent=function(e){return'"'+(e>=32&&e<=126&&34!==e&&39!==e&&92!==e?String.fromCharCode(e):"\\"+e.toString(16).toUpperCase())+'"'},n.prototype.charSelector=function(e){return".mjx-c"+e.toString(16).toUpperCase()},n.OPTIONS=r(r({},s.FontData.OPTIONS),{fontURL:"js/output/chtml/fonts/tex-woff-v2"}),n.JAX="CHTML",n.defaultVariantClasses={},n.defaultVariantLetters={},n.defaultStyles={"mjx-c::before":{display:"block",width:0}},n.defaultFonts={"@font-face /* 0 */":{"font-family":"MJXZERO",src:'url("%%URL%%/MathJax_Zero.woff") format("woff")'}},n}(s.FontData);e.CHTMLFontData=u,e.AddCSS=function(e,t){var r,n;try{for(var i=o(Object.keys(t)),a=i.next();!a.done;a=i.next()){var l=a.value,c=parseInt(l);Object.assign(s.FontData.charOptions(e,c),t[c])}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e}}(FontData)),FontData}var tex$1={},hasRequiredTex$2;function requireTex$2(){if(hasRequiredTex$2)return tex$1;hasRequiredTex$2=1;var e=tex$1&&tex$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=tex$1&&tex$1.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=tex$1&&tex$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=tex$1&&tex$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};return Object.defineProperty(tex$1,"__esModule",{value:!0}),tex$1.CommonTeXFontMixin=void 0,tex$1.CommonTeXFontMixin=function(i){var o;return o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.getDelimiterData=function(e){return this.getChar("-smallop",e)||this.getChar("-size4",e)},r}(i),o.NAME="TeX",o.defaultVariants=n(n([],r(i.defaultVariants),!1),[["-smallop","normal"],["-largeop","normal"],["-size3","normal"],["-size4","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]],!1),o.defaultCssFonts=t(t({},i.defaultCssFonts),{"-smallop":["serif",!1,!1],"-largeop":["serif",!1,!1],"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["serif",!1,!1],"-tex-bold-oldstyle":["serif",!1,!0],"-tex-mathit":["serif",!0,!1]}),o.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-tex-variant"],o.defaultStretchVariants=["-size4"],o},tex$1}var boldItalic$1={},boldItalic={},hasRequiredBoldItalic$1,hasRequiredBoldItalic;function requireBoldItalic$1(){return hasRequiredBoldItalic$1||(hasRequiredBoldItalic$1=1,Object.defineProperty(boldItalic,"__esModule",{value:!0}),boldItalic.boldItalic=void 0,boldItalic.boldItalic={47:[.711,.21,.894],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}],8260:[.711,.21,.894],8710:[.711,0,.958,{sk:.192}],10744:[.711,.21,.894]}),boldItalic}function requireBoldItalic(){if(hasRequiredBoldItalic)return boldItalic$1;hasRequiredBoldItalic=1,Object.defineProperty(boldItalic$1,"__esModule",{value:!0}),boldItalic$1.boldItalic=void 0;var e=requireFontData(),t=requireBoldItalic$1();return boldItalic$1.boldItalic=(0,e.AddCSS)(t.boldItalic,{305:{f:"B"},567:{f:"B"},8260:{c:"/"},8710:{c:"\\394"},10744:{c:"/"}}),boldItalic$1}var bold$1={},bold={},hasRequiredBold$1,hasRequiredBold;function requireBold$1(){return hasRequiredBold$1||(hasRequiredBold$1=1,Object.defineProperty(bold,"__esModule",{value:!0}),bold.bold=void 0,bold.bold={33:[.705,0,.35],34:[.694,-.329,.603],35:[.694,.193,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.694,-.329,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.131,.894],44:[.171,.194,.319],45:[.278,-.166,.383],46:[.171,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.085,.894],61:[.393,-.109,.894],62:[.587,.085,.894],63:[.7,0,.543],64:[.699,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.694,-.52,.575],95:[-.01,.061,.575],96:[.706,-.503,.575],123:[.75,.25,.575],124:[.75,.249,.319],125:[.75,.25,.575],126:[.344,-.202,.575],168:[.695,-.535,.575],172:[.371,-.061,.767],175:[.607,-.54,.575],176:[.702,-.536,.575],177:[.728,.035,.894],180:[.706,-.503,.575],183:[.336,-.166,.319],215:[.53,.028,.894],247:[.597,.096,.894],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.563,-.033,.344],710:[.694,-.52,.575],711:[.66,-.515,.575],713:[.607,-.54,.575],714:[.706,-.503,.575],715:[.706,-.503,.575],728:[.694,-.5,.575],729:[.695,-.525,.575],730:[.702,-.536,.575],732:[.694,-.552,.575],768:[.706,-.503,0],769:[.706,-.503,0],770:[.694,-.52,0],771:[.694,-.552,0],772:[.607,-.54,0],774:[.694,-.5,0],775:[.695,-.525,0],776:[.695,-.535,0],778:[.702,-.536,0],779:[.714,-.511,0],780:[.66,-.515,0],824:[.711,.21,0],8194:[0,0,.5],8195:[0,0,.999],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.083],8211:[.3,-.249,.575],8212:[.3,-.249,1.15],8213:[.3,-.249,1.15],8214:[.75,.248,.575],8215:[-.01,.061,.575],8216:[.694,-.329,.319],8217:[.694,-.329,.319],8220:[.694,-.329,.603],8221:[.694,-.329,.603],8224:[.702,.211,.511],8225:[.702,.202,.511],8226:[.474,-.028,.575],8230:[.171,0,1.295],8242:[.563,-.033,.344],8243:[.563,0,.688],8244:[.563,0,1.032],8254:[.607,-.54,.575],8260:[.75,.25,.575],8279:[.563,0,1.376],8407:[.723,-.513,.575],8463:[.694,.008,.668,{sk:-.0319}],8467:[.702,.019,.474,{sk:.128}],8472:[.461,.21,.74],8501:[.694,0,.703],8592:[.518,.017,1.15],8593:[.694,.193,.575],8594:[.518,.017,1.15],8595:[.694,.194,.575],8596:[.518,.017,1.15],8597:[.767,.267,.575],8598:[.724,.194,1.15],8599:[.724,.193,1.15],8600:[.694,.224,1.15],8601:[.694,.224,1.15],8602:[.711,.21,1.15],8603:[.711,.21,1.15],8614:[.518,.017,1.15],8617:[.518,.017,1.282],8618:[.518,.017,1.282],8622:[.711,.21,1.15],8636:[.518,-.22,1.15],8637:[.281,.017,1.15],8640:[.518,-.22,1.15],8641:[.281,.017,1.15],8652:[.718,.017,1.15],8653:[.711,.21,1.15],8654:[.711,.21,1.15],8655:[.711,.21,1.15],8656:[.547,.046,1.15],8657:[.694,.193,.703],8658:[.547,.046,1.15],8659:[.694,.194,.703],8660:[.547,.046,1.15],8661:[.767,.267,.703],8704:[.694,.016,.639],8707:[.694,0,.639],8708:[.711,.21,.639],8709:[.767,.073,.575],8710:[.698,0,.958],8712:[.587,.086,.767],8713:[.711,.21,.767],8715:[.587,.086,.767],8716:[.711,.21,.767],8722:[.281,-.221,.894],8723:[.537,.227,.894],8725:[.75,.25,.575],8726:[.75,.25,.575],8727:[.472,-.028,.575],8728:[.474,-.028,.575],8729:[.474,-.028,.575],8730:[.82,.18,.958,{ic:.03}],8733:[.451,.008,.894],8734:[.452,.008,1.15],8736:[.714,0,.722],8739:[.75,.249,.319],8740:[.75,.249,.319],8741:[.75,.248,.575],8742:[.75,.248,.575],8743:[.604,.017,.767],8744:[.604,.016,.767],8745:[.603,.016,.767],8746:[.604,.016,.767],8747:[.711,.211,.569,{ic:.063}],8764:[.391,-.109,.894],8768:[.583,.082,.319],8769:[.711,.21,.894],8771:[.502,0,.894],8772:[.711,.21,.894],8773:[.638,.027,.894],8775:[.711,.21,.894],8776:[.524,-.032,.894],8777:[.711,.21,.894],8781:[.533,.032,.894],8784:[.721,-.109,.894],8800:[.711,.21,.894],8801:[.505,0,.894],8802:[.711,.21,.894],8804:[.697,.199,.894],8805:[.697,.199,.894],8810:[.617,.116,1.15],8811:[.618,.116,1.15],8813:[.711,.21,.894],8814:[.711,.21,.894],8815:[.711,.21,.894],8816:[.711,.21,.894],8817:[.711,.21,.894],8826:[.585,.086,.894],8827:[.586,.086,.894],8832:[.711,.21,.894],8833:[.711,.21,.894],8834:[.587,.085,.894],8835:[.587,.086,.894],8836:[.711,.21,.894],8837:[.711,.21,.894],8838:[.697,.199,.894],8839:[.697,.199,.894],8840:[.711,.21,.894],8841:[.711,.21,.894],8846:[.604,.016,.767],8849:[.697,.199,.894],8850:[.697,.199,.894],8851:[.604,0,.767],8852:[.604,0,.767],8853:[.632,.132,.894],8854:[.632,.132,.894],8855:[.632,.132,.894],8856:[.632,.132,.894],8857:[.632,.132,.894],8866:[.693,0,.703],8867:[.693,0,.703],8868:[.694,0,.894],8869:[.693,0,.894],8872:[.75,.249,.974],8876:[.711,.21,.703],8877:[.75,.249,.974],8900:[.523,.021,.575],8901:[.336,-.166,.319],8902:[.502,0,.575],8904:[.54,.039,1],8930:[.711,.21,.894],8931:[.711,.21,.894],8942:[.951,.029,.319],8943:[.336,-.166,1.295],8945:[.871,-.101,1.323],8968:[.75,.248,.511],8969:[.75,.248,.511],8970:[.749,.248,.511],8971:[.749,.248,.511],8994:[.405,-.108,1.15],8995:[.392,-.126,1.15],9001:[.75,.249,.447],9002:[.75,.249,.447],9651:[.711,0,1.022],9653:[.711,0,1.022],9657:[.54,.039,.575],9661:[.5,.21,1.022],9663:[.5,.21,1.022],9667:[.539,.038,.575],9711:[.711,.211,1.15],9824:[.719,.129,.894],9825:[.711,.024,.894],9826:[.719,.154,.894],9827:[.719,.129,.894],9837:[.75,.017,.447],9838:[.741,.223,.447],9839:[.724,.224,.447],10072:[.75,.249,.319],10216:[.75,.249,.447],10217:[.75,.249,.447],10229:[.518,.017,1.805],10230:[.518,.017,1.833],10231:[.518,.017,2.126],10232:[.547,.046,1.868],10233:[.547,.046,1.87],10234:[.547,.046,2.126],10236:[.518,.017,1.833],10744:[.711,.21,.894],10799:[.53,.028,.894],10815:[.686,0,.9],10927:[.696,.199,.894],10928:[.697,.199,.894],12296:[.75,.249,.447],12297:[.75,.249,.447]}),bold}function requireBold(){if(hasRequiredBold)return bold$1;hasRequiredBold=1,Object.defineProperty(bold$1,"__esModule",{value:!0}),bold$1.bold=void 0;var e=requireFontData(),t=requireBold$1();return bold$1.bold=(0,e.AddCSS)(t.bold,{183:{c:"\\22C5"},305:{f:""},567:{f:""},697:{c:"\\2032"},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8407:{c:"\\2192",f:"VB"},8602:{c:"\\2190\\338"},8603:{c:"\\2192\\338"},8622:{c:"\\2194\\338"},8653:{c:"\\21D0\\338"},8654:{c:"\\21D4\\338"},8655:{c:"\\21D2\\338"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8740:{c:"\\2223\\338"},8742:{c:"\\2225\\338"},8769:{c:"\\223C\\338"},8772:{c:"\\2243\\338"},8775:{c:"\\2245\\338"},8777:{c:"\\2248\\338"},8802:{c:"\\2261\\338"},8813:{c:"\\224D\\338"},8814:{c:"<\\338"},8815:{c:">\\338"},8816:{c:"\\2264\\338"},8817:{c:"\\2265\\338"},8832:{c:"\\227A\\338"},8833:{c:"\\227B\\338"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{c:"\\2286\\338"},8841:{c:"\\2287\\338"},8876:{c:"\\22A2\\338"},8877:{c:"\\22A8\\338"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9653:{c:"\\25B3"},9663:{c:"\\25BD"},10072:{c:"\\2223"},10744:{c:"/",f:"BI"},10799:{c:"\\D7"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}}),bold$1}var doubleStruck$1={},doubleStruck={},hasRequiredDoubleStruck$1,hasRequiredDoubleStruck;function requireDoubleStruck$1(){return hasRequiredDoubleStruck$1||(hasRequiredDoubleStruck$1=1,Object.defineProperty(doubleStruck,"__esModule",{value:!0}),doubleStruck.doubleStruck=void 0,doubleStruck.doubleStruck={}),doubleStruck}function requireDoubleStruck(){return hasRequiredDoubleStruck||(hasRequiredDoubleStruck=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.doubleStruck=void 0;var t=requireDoubleStruck$1();Object.defineProperty(e,"doubleStruck",{enumerable:!0,get:function(){return t.doubleStruck}})}(doubleStruck$1)),doubleStruck$1}var frakturBold$1={},frakturBold={},hasRequiredFrakturBold$1,hasRequiredFrakturBold;function requireFrakturBold$1(){return hasRequiredFrakturBold$1||(hasRequiredFrakturBold$1=1,Object.defineProperty(frakturBold,"__esModule",{value:!0}),frakturBold.frakturBold=void 0,frakturBold.frakturBold={33:[.689,.012,.349],34:[.695,-.432,.254],38:[.696,.016,.871],39:[.695,-.436,.25],40:[.737,.186,.459],41:[.735,.187,.459],42:[.692,-.449,.328],43:[.598,.082,.893],44:[.107,.191,.328],45:[.275,-.236,.893],46:[.102,.015,.328],47:[.721,.182,.593],48:[.501,.012,.593],49:[.489,0,.593],50:[.491,0,.593],51:[.487,.193,.593],52:[.495,.196,.593],53:[.481,.19,.593],54:[.704,.012,.593],55:[.479,.197,.593],56:[.714,.005,.593],57:[.487,.195,.593],58:[.457,.012,.255],59:[.458,.19,.255],61:[.343,-.168,.582],63:[.697,.014,.428],91:[.74,.13,.257],93:[.738,.132,.257],94:[.734,-.452,.59],8216:[.708,-.411,.254],8217:[.692,-.394,.254],8260:[.721,.182,.593],58113:[.63,.027,.587],58114:[.693,.212,.394,{ic:.014}],58115:[.681,.219,.387],58116:[.473,.212,.593],58117:[.684,.027,.393],58120:[.679,.22,.981],58121:[.717,.137,.727]}),frakturBold}function requireFrakturBold(){if(hasRequiredFrakturBold)return frakturBold$1;hasRequiredFrakturBold=1,Object.defineProperty(frakturBold$1,"__esModule",{value:!0}),frakturBold$1.frakturBold=void 0;var e=requireFontData(),t=requireFrakturBold$1();return frakturBold$1.frakturBold=(0,e.AddCSS)(t.frakturBold,{8260:{c:"/"}}),frakturBold$1}var fraktur$1={},fraktur={},hasRequiredFraktur$1,hasRequiredFraktur;function requireFraktur$1(){return hasRequiredFraktur$1||(hasRequiredFraktur$1=1,Object.defineProperty(fraktur,"__esModule",{value:!0}),fraktur.fraktur=void 0,fraktur.fraktur={33:[.689,.012,.296],34:[.695,-.432,.215],38:[.698,.011,.738],39:[.695,-.436,.212],40:[.737,.186,.389],41:[.735,.187,.389],42:[.692,-.449,.278],43:[.598,.082,.756],44:[.107,.191,.278],45:[.275,-.236,.756],46:[.102,.015,.278],47:[.721,.182,.502],48:[.492,.013,.502],49:[.468,0,.502],50:[.474,0,.502],51:[.473,.182,.502],52:[.476,.191,.502],53:[.458,.184,.502],54:[.7,.013,.502],55:[.468,.181,.502],56:[.705,.01,.502],57:[.469,.182,.502],58:[.457,.012,.216],59:[.458,.189,.216],61:[.368,-.132,.756],63:[.693,.011,.362],91:[.74,.13,.278],93:[.738,.131,.278],94:[.734,-.452,.5],8216:[.708,-.41,.215],8217:[.692,-.395,.215],8260:[.721,.182,.502],58112:[.683,.032,.497],58113:[.616,.03,.498],58114:[.68,.215,.333],58115:[.679,.224,.329],58116:[.471,.214,.503],58117:[.686,.02,.333],58118:[.577,.021,.334,{ic:.013}],58119:[.475,.022,.501,{ic:.013}]}),fraktur}function requireFraktur(){if(hasRequiredFraktur)return fraktur$1;hasRequiredFraktur=1,Object.defineProperty(fraktur$1,"__esModule",{value:!0}),fraktur$1.fraktur=void 0;var e=requireFontData(),t=requireFraktur$1();return fraktur$1.fraktur=(0,e.AddCSS)(t.fraktur,{8260:{c:"/"}}),fraktur$1}var italic$1={},italic={},hasRequiredItalic$1,hasRequiredItalic;function requireItalic$1(){return hasRequiredItalic$1||(hasRequiredItalic$1=1,Object.defineProperty(italic,"__esModule",{value:!0}),italic.italic=void 0,italic.italic={33:[.716,0,.307,{ic:.073}],34:[.694,-.379,.514,{ic:.024}],35:[.694,.194,.818,{ic:.01}],37:[.75,.056,.818,{ic:.029}],38:[.716,.022,.767,{ic:.035}],39:[.694,-.379,.307,{ic:.07}],40:[.75,.25,.409,{ic:.108}],41:[.75,.25,.409],42:[.75,-.32,.511,{ic:.073}],43:[.557,.057,.767],44:[.121,.194,.307],45:[.251,-.18,.358],46:[.121,0,.307],47:[.716,.215,.778],48:[.665,.021,.511,{ic:.051}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.666,.022,.511,{ic:.056}],54:[.665,.022,.511,{ic:.054}],55:[.666,.022,.511,{ic:.123}],56:[.666,.021,.511,{ic:.042}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.194,.307],61:[.367,-.133,.767],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],93:[.75,.25,.307,{ic:.052}],94:[.694,-.527,.511,{ic:.017}],95:[-.025,.062,.511,{ic:.043}],126:[.318,-.208,.511,{ic:.06}],305:[.441,.01,.307,{ic:.033}],567:[.442,.204,.332],768:[.697,-.5,0],769:[.697,-.5,0,{ic:.039}],770:[.694,-.527,0,{ic:.017}],771:[.668,-.558,0,{ic:.06}],772:[.589,-.544,0,{ic:.054}],774:[.694,-.515,0,{ic:.062}],775:[.669,-.548,0],776:[.669,-.554,0,{ic:.045}],778:[.716,-.542,0],779:[.697,-.503,0,{ic:.065}],780:[.638,-.502,0,{ic:.029}],989:[.605,.085,.778],8211:[.285,-.248,.511,{ic:.043}],8212:[.285,-.248,1.022,{ic:.016}],8213:[.285,-.248,1.022,{ic:.016}],8215:[-.025,.062,.511,{ic:.043}],8216:[.694,-.379,.307,{ic:.055}],8217:[.694,-.379,.307,{ic:.07}],8220:[.694,-.379,.514,{ic:.092}],8221:[.694,-.379,.514,{ic:.024}],8260:[.716,.215,.778],8463:[.695,.013,.54,{ic:.022}],8710:[.716,0,.833,{sk:.167}],10744:[.716,.215,.778]}),italic}function requireItalic(){if(hasRequiredItalic)return italic$1;hasRequiredItalic=1,Object.defineProperty(italic$1,"__esModule",{value:!0}),italic$1.italic=void 0;var e=requireFontData(),t=requireItalic$1();return italic$1.italic=(0,e.AddCSS)(t.italic,{47:{f:"I"},989:{c:"\\E008",f:"A"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/",f:"I"},8710:{c:"\\394",f:"I"},10744:{c:"/",f:"I"}}),italic$1}var largeop$1={},largeop={},hasRequiredLargeop$1,hasRequiredLargeop;function requireLargeop$1(){return hasRequiredLargeop$1||(hasRequiredLargeop$1=1,Object.defineProperty(largeop,"__esModule",{value:!0}),largeop.largeop=void 0,largeop.largeop={40:[1.15,.649,.597],41:[1.15,.649,.597],47:[1.15,.649,.811],91:[1.15,.649,.472],92:[1.15,.649,.811],93:[1.15,.649,.472],123:[1.15,.649,.667],125:[1.15,.649,.667],710:[.772,-.565,1],732:[.75,-.611,1],770:[.772,-.565,0],771:[.75,-.611,0],8214:[.602,0,.778],8260:[1.15,.649,.811],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8730:[1.15,.65,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[1.36,.862,.556,{ic:.388}],8748:[1.36,.862,1.084,{ic:.388}],8749:[1.36,.862,1.592,{ic:.388}],8750:[1.36,.862,.556,{ic:.388}],8896:[.95,.45,1.111],8897:[.95,.45,1.111],8898:[.949,.45,1.111],8899:[.95,.449,1.111],8968:[1.15,.649,.528],8969:[1.15,.649,.528],8970:[1.15,.649,.528],8971:[1.15,.649,.528],9001:[1.15,.649,.611],9002:[1.15,.649,.611],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[1.15,.649,.611],10217:[1.15,.649,.611],10752:[.949,.449,1.511],10753:[.949,.449,1.511],10754:[.949,.449,1.511],10756:[.95,.449,1.111],10758:[.95,.45,1.111],10764:[1.36,.862,2.168,{ic:.388}],12296:[1.15,.649,.611],12297:[1.15,.649,.611]}),largeop}function requireLargeop(){if(hasRequiredLargeop)return largeop$1;hasRequiredLargeop=1,Object.defineProperty(largeop$1,"__esModule",{value:!0}),largeop$1.largeop=void 0;var e=requireFontData(),t=requireLargeop$1();return largeop$1.largeop=(0,e.AddCSS)(t.largeop,{8214:{f:"S1"},8260:{c:"/"},8593:{f:"S1"},8595:{f:"S1"},8657:{f:"S1"},8659:{f:"S1"},8739:{f:"S1"},8741:{f:"S1"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},10072:{c:"\\2223",f:"S1"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}}),largeop$1}var monospace$1={},monospace={},hasRequiredMonospace$1,hasRequiredMonospace;function requireMonospace$1(){return hasRequiredMonospace$1||(hasRequiredMonospace$1=1,Object.defineProperty(monospace,"__esModule",{value:!0}),monospace.monospace=void 0,monospace.monospace={32:[0,0,.525],33:[.622,0,.525],34:[.623,-.333,.525],35:[.611,0,.525],36:[.694,.082,.525],37:[.694,.083,.525],38:[.622,.011,.525],39:[.611,-.287,.525],40:[.694,.082,.525],41:[.694,.082,.525],42:[.52,-.09,.525],43:[.531,-.081,.525],44:[.14,.139,.525],45:[.341,-.271,.525],46:[.14,0,.525],47:[.694,.083,.525],58:[.431,0,.525],59:[.431,.139,.525],60:[.557,-.055,.525],61:[.417,-.195,.525],62:[.557,-.055,.525],63:[.617,0,.525],64:[.617,.006,.525],91:[.694,.082,.525],92:[.694,.083,.525],93:[.694,.082,.525],94:[.611,-.46,.525],95:[-.025,.095,.525],96:[.681,-.357,.525],123:[.694,.083,.525],124:[.694,.082,.525],125:[.694,.083,.525],126:[.611,-.466,.525],127:[.612,-.519,.525],160:[0,0,.525],305:[.431,0,.525],567:[.431,.228,.525],697:[.623,-.334,.525],768:[.611,-.485,0],769:[.611,-.485,0],770:[.611,-.46,0],771:[.611,-.466,0],772:[.577,-.5,0],774:[.611,-.504,0],776:[.612,-.519,0],778:[.619,-.499,0],780:[.577,-.449,0],913:[.623,0,.525],914:[.611,0,.525],915:[.611,0,.525],916:[.623,0,.525],917:[.611,0,.525],918:[.611,0,.525],919:[.611,0,.525],920:[.621,.01,.525],921:[.611,0,.525],922:[.611,0,.525],923:[.623,0,.525],924:[.611,0,.525],925:[.611,0,.525],926:[.611,0,.525],927:[.621,.01,.525],928:[.611,0,.525],929:[.611,0,.525],931:[.611,0,.525],932:[.611,0,.525],933:[.622,0,.525],934:[.611,0,.525],935:[.611,0,.525],936:[.611,0,.525],937:[.622,0,.525],8215:[-.025,.095,.525],8242:[.623,-.334,.525],8243:[.623,0,1.05],8244:[.623,0,1.575],8260:[.694,.083,.525],8279:[.623,0,2.1],8710:[.623,0,.525]}),monospace}function requireMonospace(){if(hasRequiredMonospace)return monospace$1;hasRequiredMonospace=1,Object.defineProperty(monospace$1,"__esModule",{value:!0}),monospace$1.monospace=void 0;var e=requireFontData(),t=requireMonospace$1();return monospace$1.monospace=(0,e.AddCSS)(t.monospace,{697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8215:{c:"_"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8710:{c:"\\394"}}),monospace$1}var normal$1={},normal={},hasRequiredNormal$1,hasRequiredNormal;function requireNormal$1(){return hasRequiredNormal$1||(hasRequiredNormal$1=1,Object.defineProperty(normal,"__esModule",{value:!0}),normal.normal=void 0,normal.normal={32:[0,0,.25],33:[.716,0,.278],34:[.694,-.379,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.694,-.379,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.32,.5],43:[.583,.082,.778],44:[.121,.194,.278],45:[.252,-.179,.333],46:[.12,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5],51:[.665,.022,.5],52:[.677,0,.5],53:[.666,.022,.5],54:[.666,.022,.5],55:[.676,.022,.5],56:[.666,.022,.5],57:[.666,.022,.5],58:[.43,0,.278],59:[.43,.194,.278],60:[.54,.04,.778],61:[.583,.082,.778],62:[.54,.04,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708],67:[.705,.021,.722],68:[.683,0,.764],69:[.68,0,.681],70:[.68,0,.653],71:[.705,.022,.785],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514],75:[.683,0,.778],76:[.683,0,.625],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.193,.778],82:[.683,.022,.736],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.694,-.531,.5],95:[-.025,.062,.5],96:[.699,-.505,.5],97:[.448,.011,.5],98:[.694,.011,.556],99:[.448,.011,.444],100:[.694,.011,.556],101:[.448,.011,.444],102:[.705,0,.306,{ic:.066}],103:[.453,.206,.5],104:[.694,0,.556],105:[.669,0,.278],106:[.669,.205,.306],107:[.694,0,.528],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556],111:[.448,.01,.5],112:[.442,.194,.556],113:[.442,.194,.528],114:[.442,0,.392],115:[.448,.011,.394],116:[.615,.01,.389],117:[.442,.011,.556],118:[.431,.011,.528],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.204,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.249,.278],125:[.75,.25,.5],126:[.318,-.215,.5],160:[0,0,.25],163:[.714,.011,.769],165:[.683,0,.75],168:[.669,-.554,.5],172:[.356,-.089,.667],174:[.709,.175,.947],175:[.59,-.544,.5],176:[.715,-.542,.5],177:[.666,0,.778],180:[.699,-.505,.5],183:[.31,-.19,.278],215:[.491,-.009,.778],240:[.749,.021,.556],247:[.537,.036,.778],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.56,-.043,.275],710:[.694,-.531,.5],711:[.644,-.513,.5],713:[.59,-.544,.5],714:[.699,-.505,.5],715:[.699,-.505,.5],728:[.694,-.515,.5],729:[.669,-.549,.5],730:[.715,-.542,.5],732:[.668,-.565,.5],768:[.699,-.505,0],769:[.699,-.505,0],770:[.694,-.531,0],771:[.668,-.565,0],772:[.59,-.544,0],774:[.694,-.515,0],775:[.669,-.549,0],776:[.669,-.554,0],778:[.715,-.542,0],779:[.701,-.51,0],780:[.644,-.513,0],824:[.716,.215,0],913:[.716,0,.75],914:[.683,0,.708],915:[.68,0,.625],916:[.716,0,.833],917:[.68,0,.681],918:[.683,0,.611],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681],931:[.683,0,.722],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75],936:[.683,0,.778],937:[.704,0,.722],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.1],8203:[0,0,0],8204:[0,0,0],8211:[.285,-.248,.5],8212:[.285,-.248,1],8213:[.285,-.248,1],8214:[.75,.25,.5],8215:[-.025,.062,.5],8216:[.694,-.379,.278],8217:[.694,-.379,.278],8220:[.694,-.379,.5],8221:[.694,-.379,.5],8224:[.705,.216,.444],8225:[.705,.205,.444],8226:[.444,-.055,.5],8230:[.12,0,1.172],8242:[.56,-.043,.275],8243:[.56,0,.55],8244:[.56,0,.825],8245:[.56,-.043,.275],8246:[.56,0,.55],8247:[.56,0,.825],8254:[.59,-.544,.5],8260:[.75,.25,.5],8279:[.56,0,1.1],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8407:[.714,-.516,.5],8450:[.702,.019,.722],8459:[.717,.036,.969,{ic:.272,sk:.333}],8460:[.666,.133,.72],8461:[.683,0,.778],8462:[.694,.011,.576,{sk:-.0278}],8463:[.695,.013,.54,{ic:.022}],8464:[.717,.017,.809,{ic:.137,sk:.333}],8465:[.686,.026,.554],8466:[.717,.017,.874,{ic:.161,sk:.306}],8467:[.705,.02,.417,{sk:.111}],8469:[.683,.02,.722],8472:[.453,.216,.636,{sk:.111}],8473:[.683,0,.611],8474:[.701,.181,.778],8475:[.717,.017,.85,{ic:.037,sk:.194}],8476:[.686,.026,.828],8477:[.683,0,.722],8484:[.683,0,.667],8486:[.704,0,.722],8487:[.684,.022,.722],8488:[.729,.139,.602],8492:[.708,.028,.908,{ic:.02,sk:.194}],8493:[.685,.024,.613],8496:[.707,.008,.562,{ic:.156,sk:.139}],8497:[.735,.036,.895,{ic:.095,sk:.222}],8498:[.695,0,.556],8499:[.721,.05,1.08,{ic:.136,sk:.444}],8501:[.694,0,.611],8502:[.763,.021,.667,{ic:.02}],8503:[.764,.043,.444],8504:[.764,.043,.667],8513:[.705,.023,.639],8592:[.511,.011,1],8593:[.694,.193,.5],8594:[.511,.011,1],8595:[.694,.194,.5],8596:[.511,.011,1],8597:[.772,.272,.5],8598:[.72,.195,1],8599:[.72,.195,1],8600:[.695,.22,1],8601:[.695,.22,1],8602:[.437,-.06,1],8603:[.437,-.06,1],8606:[.417,-.083,1],8608:[.417,-.083,1],8610:[.417,-.083,1.111],8611:[.417,-.083,1.111],8614:[.511,.011,1],8617:[.511,.011,1.126],8618:[.511,.011,1.126],8619:[.575,.041,1],8620:[.575,.041,1],8621:[.417,-.083,1.389],8622:[.437,-.06,1],8624:[.722,0,.5],8625:[.722,0,.5],8630:[.461,0,1],8631:[.46,0,1],8634:[.65,.083,.778],8635:[.65,.083,.778],8636:[.511,-.23,1],8637:[.27,.011,1],8638:[.694,.194,.417],8639:[.694,.194,.417],8640:[.511,-.23,1],8641:[.27,.011,1],8642:[.694,.194,.417],8643:[.694,.194,.417],8644:[.667,0,1],8646:[.667,0,1],8647:[.583,.083,1],8648:[.694,.193,.833],8649:[.583,.083,1],8650:[.694,.194,.833],8651:[.514,.014,1],8652:[.671,.011,1],8653:[.534,.035,1],8654:[.534,.037,1],8655:[.534,.035,1],8656:[.525,.024,1],8657:[.694,.194,.611],8658:[.525,.024,1],8659:[.694,.194,.611],8660:[.526,.025,1],8661:[.772,.272,.611],8666:[.611,.111,1],8667:[.611,.111,1],8669:[.417,-.083,1],8672:[.437,-.064,1.334],8674:[.437,-.064,1.334],8704:[.694,.022,.556],8705:[.846,.021,.5],8706:[.715,.022,.531,{ic:.035,sk:.0833}],8707:[.694,0,.556],8708:[.716,.215,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.54,.04,.667],8713:[.716,.215,.667],8715:[.54,.04,.667],8716:[.716,.215,.667],8717:[.44,0,.429,{ic:.027}],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.082,.778],8723:[.5,.166,.778],8724:[.766,.093,.778],8725:[.75,.25,.5],8726:[.75,.25,.5],8727:[.465,-.035,.5],8728:[.444,-.055,.5],8729:[.444,-.055,.5],8730:[.8,.2,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8736:[.694,0,.722],8737:[.714,.02,.722],8738:[.551,.051,.722],8739:[.75,.249,.278],8740:[.75,.252,.278,{ic:.019}],8741:[.75,.25,.5],8742:[.75,.25,.5,{ic:.018}],8743:[.598,.022,.667],8744:[.598,.022,.667],8745:[.598,.022,.667],8746:[.598,.022,.667],8747:[.716,.216,.417,{ic:.055}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8756:[.471,.082,.667],8757:[.471,.082,.667],8764:[.367,-.133,.778],8765:[.367,-.133,.778],8768:[.583,.083,.278],8769:[.467,-.032,.778],8770:[.463,-.034,.778],8771:[.464,-.036,.778],8772:[.716,.215,.778],8773:[.589,-.022,.778],8775:[.652,.155,.778],8776:[.483,-.055,.778],8777:[.716,.215,.778],8778:[.579,.039,.778],8781:[.484,-.016,.778],8782:[.492,-.008,.778],8783:[.492,-.133,.778],8784:[.67,-.133,.778],8785:[.609,.108,.778],8786:[.601,.101,.778],8787:[.601,.102,.778],8790:[.367,-.133,.778],8791:[.721,-.133,.778],8796:[.859,-.133,.778],8800:[.716,.215,.778],8801:[.464,-.036,.778],8802:[.716,.215,.778],8804:[.636,.138,.778],8805:[.636,.138,.778],8806:[.753,.175,.778],8807:[.753,.175,.778],8808:[.752,.286,.778],8809:[.752,.286,.778],8810:[.568,.067,1],8811:[.567,.067,1],8812:[.75,.25,.5],8813:[.716,.215,.778],8814:[.708,.209,.778],8815:[.708,.209,.778],8816:[.801,.303,.778],8817:[.801,.303,.778],8818:[.732,.228,.778],8819:[.732,.228,.778],8820:[.732,.228,.778],8821:[.732,.228,.778],8822:[.681,.253,.778],8823:[.681,.253,.778],8824:[.716,.253,.778],8825:[.716,.253,.778],8826:[.539,.041,.778],8827:[.539,.041,.778],8828:[.58,.153,.778],8829:[.58,.154,.778],8830:[.732,.228,.778],8831:[.732,.228,.778],8832:[.705,.208,.778],8833:[.705,.208,.778],8834:[.54,.04,.778],8835:[.54,.04,.778],8836:[.716,.215,.778],8837:[.716,.215,.778],8838:[.636,.138,.778],8839:[.636,.138,.778],8840:[.801,.303,.778],8841:[.801,.303,.778],8842:[.635,.241,.778],8843:[.635,.241,.778],8846:[.598,.022,.667],8847:[.539,.041,.778],8848:[.539,.041,.778],8849:[.636,.138,.778],8850:[.636,.138,.778],8851:[.598,0,.667],8852:[.598,0,.667],8853:[.583,.083,.778],8854:[.583,.083,.778],8855:[.583,.083,.778],8856:[.583,.083,.778],8857:[.583,.083,.778],8858:[.582,.082,.778],8859:[.582,.082,.778],8861:[.582,.082,.778],8862:[.689,0,.778],8863:[.689,0,.778],8864:[.689,0,.778],8865:[.689,0,.778],8866:[.694,0,.611],8867:[.694,0,.611],8868:[.668,0,.778],8869:[.668,0,.778],8872:[.75,.249,.867],8873:[.694,0,.722],8874:[.694,0,.889],8876:[.695,0,.611],8877:[.695,0,.611],8878:[.695,0,.722],8879:[.695,0,.722],8882:[.539,.041,.778],8883:[.539,.041,.778],8884:[.636,.138,.778],8885:[.636,.138,.778],8888:[.408,-.092,1.111],8890:[.431,.212,.556],8891:[.716,0,.611],8892:[.716,0,.611],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8900:[.488,-.012,.5],8901:[.31,-.19,.278],8902:[.486,-.016,.5],8903:[.545,.044,.778],8904:[.505,.005,.9],8905:[.492,-.008,.778],8906:[.492,-.008,.778],8907:[.694,.022,.778],8908:[.694,.022,.778],8909:[.464,-.036,.778],8910:[.578,.021,.76],8911:[.578,.022,.76],8912:[.54,.04,.778],8913:[.54,.04,.778],8914:[.598,.022,.667],8915:[.598,.022,.667],8916:[.736,.022,.667],8918:[.541,.041,.778],8919:[.541,.041,.778],8920:[.568,.067,1.333],8921:[.568,.067,1.333],8922:[.886,.386,.778],8923:[.886,.386,.778],8926:[.734,0,.778],8927:[.734,0,.778],8928:[.801,.303,.778],8929:[.801,.303,.778],8930:[.716,.215,.778],8931:[.716,.215,.778],8934:[.73,.359,.778],8935:[.73,.359,.778],8936:[.73,.359,.778],8937:[.73,.359,.778],8938:[.706,.208,.778],8939:[.706,.208,.778],8940:[.802,.303,.778],8941:[.801,.303,.778],8942:[1.3,.03,.278],8943:[.31,-.19,1.172],8945:[1.52,-.1,1.282],8965:[.716,0,.611],8966:[.813,.097,.611],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8988:[.694,-.306,.5],8989:[.694,-.306,.5],8990:[.366,.022,.5],8991:[.366,.022,.5],8994:[.388,-.122,1],8995:[.378,-.134,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9136:[.744,.244,.412],9137:[.744,.244,.412],9168:[.602,0,.667],9416:[.709,.175,.902],9484:[.694,-.306,.5],9488:[.694,-.306,.5],9492:[.366,.022,.5],9496:[.366,.022,.5],9585:[.694,.195,.889],9586:[.694,.195,.889],9632:[.689,0,.778],9633:[.689,0,.778],9642:[.689,0,.778],9650:[.575,.02,.722],9651:[.716,0,.889],9652:[.575,.02,.722],9653:[.716,0,.889],9654:[.539,.041,.778],9656:[.539,.041,.778],9657:[.505,.005,.5],9660:[.576,.019,.722],9661:[.5,.215,.889],9662:[.576,.019,.722],9663:[.5,.215,.889],9664:[.539,.041,.778],9666:[.539,.041,.778],9667:[.505,.005,.5],9674:[.716,.132,.667],9711:[.715,.215,1],9723:[.689,0,.778],9724:[.689,0,.778],9733:[.694,.111,.944],9824:[.727,.13,.778],9825:[.716,.033,.778],9826:[.727,.162,.778],9827:[.726,.13,.778],9837:[.75,.022,.389],9838:[.734,.223,.389],9839:[.723,.223,.389],10003:[.706,.034,.833],10016:[.716,.022,.833],10072:[.75,.249,.278],10216:[.75,.25,.389],10217:[.75,.25,.389],10222:[.744,.244,.412],10223:[.744,.244,.412],10229:[.511,.011,1.609],10230:[.511,.011,1.638],10231:[.511,.011,1.859],10232:[.525,.024,1.609],10233:[.525,.024,1.638],10234:[.525,.024,1.858],10236:[.511,.011,1.638],10731:[.716,.132,.667],10744:[.716,.215,.778],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],10799:[.491,-.009,.778],10815:[.683,0,.75],10846:[.813,.097,.611],10877:[.636,.138,.778],10878:[.636,.138,.778],10885:[.762,.29,.778],10886:[.762,.29,.778],10887:[.635,.241,.778],10888:[.635,.241,.778],10889:[.761,.387,.778],10890:[.761,.387,.778],10891:[1.003,.463,.778],10892:[1.003,.463,.778],10901:[.636,.138,.778],10902:[.636,.138,.778],10927:[.636,.138,.778],10928:[.636,.138,.778],10933:[.752,.286,.778],10934:[.752,.286,.778],10935:[.761,.294,.778],10936:[.761,.294,.778],10937:[.761,.337,.778],10938:[.761,.337,.778],10949:[.753,.215,.778],10950:[.753,.215,.778],10955:[.783,.385,.778],10956:[.783,.385,.778],12296:[.75,.25,.389],12297:[.75,.25,.389],57350:[.43,.023,.222,{ic:.018}],57351:[.431,.024,.389,{ic:.018}],57352:[.605,.085,.778],57353:[.434,.006,.667,{ic:.067}],57356:[.752,.284,.778],57357:[.752,.284,.778],57358:[.919,.421,.778],57359:[.801,.303,.778],57360:[.801,.303,.778],57361:[.919,.421,.778],57366:[.828,.33,.778],57367:[.752,.332,.778],57368:[.828,.33,.778],57369:[.752,.333,.778],57370:[.634,.255,.778],57371:[.634,.254,.778],119808:[.698,0,.869],119809:[.686,0,.818],119810:[.697,.011,.831],119811:[.686,0,.882],119812:[.68,0,.756],119813:[.68,0,.724],119814:[.697,.01,.904],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594],119818:[.686,0,.901],119819:[.686,0,.692],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.696,.01,.864],119823:[.686,0,.786],119824:[.696,.193,.864],119825:[.686,.011,.862],119826:[.697,.011,.639],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.007,.869],119830:[.686,.007,1.189],119831:[.686,0,.869],119832:[.686,0,.869],119833:[.686,0,.703],119834:[.453,.006,.559],119835:[.694,.006,.639],119836:[.453,.006,.511],119837:[.694,.006,.639],119838:[.452,.006,.527],119839:[.7,0,.351,{ic:.101}],119840:[.455,.201,.575],119841:[.694,0,.639],119842:[.695,0,.319],119843:[.695,.2,.351],119844:[.694,0,.607],119845:[.694,0,.319],119846:[.45,0,.958],119847:[.45,0,.639],119848:[.452,.005,.575],119849:[.45,.194,.639],119850:[.45,.194,.607],119851:[.45,0,.474],119852:[.453,.006,.454],119853:[.635,.005,.447],119854:[.45,.006,.639],119855:[.444,0,.607],119856:[.444,0,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.139}],119861:[.683,0,.759,{sk:.0833}],119862:[.705,.022,.715,{ic:.045,sk:.0833}],119863:[.683,0,.828,{sk:.0556}],119864:[.68,0,.738,{ic:.026,sk:.0833}],119865:[.68,0,.643,{ic:.106,sk:.0833}],119866:[.705,.022,.786,{sk:.0833}],119867:[.683,0,.831,{ic:.057,sk:.0556}],119868:[.683,0,.44,{ic:.064,sk:.111}],119869:[.683,.022,.555,{ic:.078,sk:.167}],119870:[.683,0,.849,{ic:.04,sk:.0556}],119871:[.683,0,.681,{sk:.0278}],119872:[.683,0,.97,{ic:.081,sk:.0833}],119873:[.683,0,.803,{ic:.085,sk:.0833}],119874:[.704,.022,.763,{sk:.0833}],119875:[.683,0,.642,{ic:.109,sk:.0833}],119876:[.704,.194,.791,{sk:.0833}],119877:[.683,.021,.759,{sk:.0833}],119878:[.705,.022,.613,{ic:.032,sk:.0833}],119879:[.677,0,.584,{ic:.12,sk:.0833}],119880:[.683,.022,.683,{ic:.084,sk:.0278}],119881:[.683,.022,.583,{ic:.186}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.024,sk:.0833}],119884:[.683,0,.581,{ic:.182}],119885:[.683,0,.683,{ic:.04,sk:.0833}],119886:[.441,.01,.529],119887:[.694,.011,.429],119888:[.442,.011,.433,{sk:.0556}],119889:[.694,.01,.52,{sk:.167}],119890:[.442,.011,.466,{sk:.0556}],119891:[.705,.205,.49,{ic:.06,sk:.167}],119892:[.442,.205,.477,{sk:.0278}],119894:[.661,.011,.345],119895:[.661,.204,.412],119896:[.694,.011,.521],119897:[.694,.011,.298,{sk:.0833}],119898:[.442,.011,.878],119899:[.442,.011,.6],119900:[.441,.011,.485,{sk:.0556}],119901:[.442,.194,.503,{sk:.0833}],119902:[.442,.194,.446,{ic:.014,sk:.0833}],119903:[.442,.011,.451,{sk:.0556}],119904:[.442,.01,.469,{sk:.0556}],119905:[.626,.011,.361,{sk:.0833}],119906:[.442,.011,.572,{sk:.0278}],119907:[.443,.011,.485,{sk:.0278}],119908:[.443,.011,.716,{sk:.0833}],119909:[.442,.011,.572,{sk:.0278}],119910:[.442,.205,.49,{sk:.0556}],119911:[.442,.011,.465,{sk:.0556}],119912:[.711,0,.869,{sk:.16}],119913:[.686,0,.866,{sk:.0958}],119914:[.703,.017,.817,{ic:.038,sk:.0958}],119915:[.686,0,.938,{sk:.0639}],119916:[.68,0,.81,{ic:.015,sk:.0958}],119917:[.68,0,.689,{ic:.12,sk:.0958}],119918:[.703,.016,.887,{sk:.0958}],119919:[.686,0,.982,{ic:.045,sk:.0639}],119920:[.686,0,.511,{ic:.062,sk:.128}],119921:[.686,.017,.631,{ic:.063,sk:.192}],119922:[.686,0,.971,{ic:.032,sk:.0639}],119923:[.686,0,.756,{sk:.0319}],119924:[.686,0,1.142,{ic:.077,sk:.0958}],119925:[.686,0,.95,{ic:.077,sk:.0958}],119926:[.703,.017,.837,{sk:.0958}],119927:[.686,0,.723,{ic:.124,sk:.0958}],119928:[.703,.194,.869,{sk:.0958}],119929:[.686,.017,.872,{sk:.0958}],119930:[.703,.017,.693,{ic:.021,sk:.0958}],119931:[.675,0,.637,{ic:.135,sk:.0958}],119932:[.686,.016,.8,{ic:.077,sk:.0319}],119933:[.686,.016,.678,{ic:.208}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{sk:.0958}],119936:[.686,0,.675,{ic:.201}],119937:[.686,0,.773,{ic:.032,sk:.0958}],119938:[.452,.008,.633],119939:[.694,.008,.521],119940:[.451,.008,.513,{sk:.0639}],119941:[.694,.008,.61,{sk:.192}],119942:[.452,.008,.554,{sk:.0639}],119943:[.701,.201,.568,{ic:.056,sk:.192}],119944:[.452,.202,.545,{sk:.0319}],119945:[.694,.008,.668,{sk:-.0319}],119946:[.694,.008,.405],119947:[.694,.202,.471],119948:[.694,.008,.604],119949:[.694,.008,.348,{sk:.0958}],119950:[.452,.008,1.032],119951:[.452,.008,.713],119952:[.452,.008,.585,{sk:.0639}],119953:[.452,.194,.601,{sk:.0958}],119954:[.452,.194,.542,{sk:.0958}],119955:[.452,.008,.529,{sk:.0639}],119956:[.451,.008,.531,{sk:.0639}],119957:[.643,.007,.415,{sk:.0958}],119958:[.452,.008,.681,{sk:.0319}],119959:[.453,.008,.567,{sk:.0319}],119960:[.453,.008,.831,{sk:.0958}],119961:[.452,.008,.659,{sk:.0319}],119962:[.452,.202,.59,{sk:.0639}],119963:[.452,.008,.555,{sk:.0639}],119964:[.717,.008,.803,{ic:.213,sk:.389}],119966:[.728,.026,.666,{ic:.153,sk:.278}],119967:[.708,.031,.774,{ic:.081,sk:.111}],119970:[.717,.037,.61,{ic:.128,sk:.25}],119973:[.717,.314,1.052,{ic:.081,sk:.417}],119974:[.717,.037,.914,{ic:.29,sk:.361}],119977:[.726,.036,.902,{ic:.306,sk:.389}],119978:[.707,.008,.738,{ic:.067,sk:.167}],119979:[.716,.037,1.013,{ic:.018,sk:.222}],119980:[.717,.017,.883,{sk:.278}],119982:[.708,.036,.868,{ic:.148,sk:.333}],119983:[.735,.037,.747,{ic:.249,sk:.222}],119984:[.717,.017,.8,{ic:.16,sk:.25}],119985:[.717,.017,.622,{ic:.228,sk:.222}],119986:[.717,.017,.805,{ic:.221,sk:.25}],119987:[.717,.017,.944,{ic:.187,sk:.278}],119988:[.716,.017,.71,{ic:.249,sk:.194}],119989:[.717,.016,.821,{ic:.211,sk:.306}],120068:[.696,.026,.718],120069:[.691,.027,.884],120071:[.685,.027,.832],120072:[.685,.024,.663],120073:[.686,.153,.611],120074:[.69,.026,.785],120077:[.686,.139,.552],120078:[.68,.027,.668,{ic:.014}],120079:[.686,.026,.666],120080:[.692,.027,1.05],120081:[.686,.025,.832],120082:[.729,.027,.827],120083:[.692,.218,.828],120084:[.729,.069,.827],120086:[.692,.027,.829],120087:[.701,.027,.669],120088:[.697,.027,.646,{ic:.019}],120089:[.686,.026,.831],120090:[.686,.027,1.046],120091:[.688,.027,.719],120092:[.686,.218,.833],120094:[.47,.035,.5],120095:[.685,.031,.513],120096:[.466,.029,.389],120097:[.609,.033,.499],120098:[.467,.03,.401],120099:[.681,.221,.326],120100:[.47,.209,.504],120101:[.688,.205,.521],120102:[.673,.02,.279],120103:[.672,.208,.281],120104:[.689,.025,.389],120105:[.685,.02,.28],120106:[.475,.026,.767],120107:[.475,.022,.527],120108:[.48,.028,.489],120109:[.541,.212,.5],120110:[.479,.219,.489],120111:[.474,.021,.389],120112:[.478,.029,.443],120113:[.64,.02,.333,{ic:.015}],120114:[.474,.023,.517],120115:[.53,.028,.512],120116:[.532,.028,.774],120117:[.472,.188,.389],120118:[.528,.218,.499],120119:[.471,.214,.391],120120:[.701,0,.722],120121:[.683,0,.667],120123:[.683,0,.722],120124:[.683,0,.667],120125:[.683,0,.611],120126:[.702,.019,.778],120128:[.683,0,.389],120129:[.683,.077,.5],120130:[.683,0,.778],120131:[.683,0,.667],120132:[.683,0,.944],120134:[.701,.019,.778],120138:[.702,.012,.556],120139:[.683,0,.667],120140:[.683,.019,.722],120141:[.683,.02,.722],120142:[.683,.019,1],120143:[.683,0,.722],120144:[.683,0,.722],120172:[.686,.031,.847],120173:[.684,.031,1.044],120174:[.676,.032,.723],120175:[.683,.029,.982],120176:[.686,.029,.783],120177:[.684,.146,.722],120178:[.687,.029,.927],120179:[.683,.126,.851],120180:[.681,.025,.655],120181:[.68,.141,.652],120182:[.681,.026,.789,{ic:.017}],120183:[.683,.028,.786],120184:[.683,.032,1.239],120185:[.679,.03,.983],120186:[.726,.03,.976],120187:[.688,.223,.977],120188:[.726,.083,.976],120189:[.688,.028,.978],120190:[.685,.031,.978],120191:[.686,.03,.79,{ic:.012}],120192:[.688,.039,.851,{ic:.02}],120193:[.685,.029,.982],120194:[.683,.03,1.235],120195:[.681,.035,.849],120196:[.688,.214,.984],120197:[.677,.148,.711],120198:[.472,.032,.603],120199:[.69,.032,.59],120200:[.473,.026,.464],120201:[.632,.028,.589],120202:[.471,.027,.472],120203:[.687,.222,.388],120204:[.472,.208,.595],120205:[.687,.207,.615],120206:[.686,.025,.331],120207:[.682,.203,.332],120208:[.682,.025,.464],120209:[.681,.024,.337],120210:[.476,.031,.921],120211:[.473,.028,.654],120212:[.482,.034,.609],120213:[.557,.207,.604],120214:[.485,.211,.596],120215:[.472,.026,.46],120216:[.479,.034,.523],120217:[.648,.027,.393,{ic:.014}],120218:[.472,.032,.589,{ic:.014}],120219:[.546,.027,.604],120220:[.549,.032,.918],120221:[.471,.188,.459],120222:[.557,.221,.589],120223:[.471,.214,.461],120224:[.694,0,.667],120225:[.694,0,.667],120226:[.705,.011,.639],120227:[.694,0,.722],120228:[.691,0,.597],120229:[.691,0,.569],120230:[.704,.011,.667],120231:[.694,0,.708],120232:[.694,0,.278],120233:[.694,.022,.472],120234:[.694,0,.694],120235:[.694,0,.542],120236:[.694,0,.875],120237:[.694,0,.708],120238:[.715,.022,.736],120239:[.694,0,.639],120240:[.715,.125,.736],120241:[.694,0,.646],120242:[.716,.022,.556],120243:[.688,0,.681],120244:[.694,.022,.688],120245:[.694,0,.667],120246:[.694,0,.944],120247:[.694,0,.667],120248:[.694,0,.667],120249:[.694,0,.611],120250:[.46,.01,.481],120251:[.694,.011,.517],120252:[.46,.01,.444],120253:[.694,.01,.517],120254:[.461,.01,.444],120255:[.705,0,.306,{ic:.041}],120256:[.455,.206,.5],120257:[.694,0,.517],120258:[.68,0,.239],120259:[.68,.205,.267],120260:[.694,0,.489],120261:[.694,0,.239],120262:[.455,0,.794],120263:[.455,0,.517],120264:[.46,.01,.5],120265:[.455,.194,.517],120266:[.455,.194,.517],120267:[.455,0,.342],120268:[.46,.01,.383],120269:[.571,.01,.361],120270:[.444,.01,.517],120271:[.444,0,.461],120272:[.444,0,.683],120273:[.444,0,.461],120274:[.444,.204,.461],120275:[.444,0,.435],120276:[.694,0,.733],120277:[.694,0,.733],120278:[.704,.011,.703],120279:[.694,0,.794],120280:[.691,0,.642],120281:[.691,0,.611],120282:[.705,.011,.733],120283:[.694,0,.794],120284:[.694,0,.331],120285:[.694,.022,.519],120286:[.694,0,.764],120287:[.694,0,.581],120288:[.694,0,.978],120289:[.694,0,.794],120290:[.716,.022,.794],120291:[.694,0,.703],120292:[.716,.106,.794],120293:[.694,0,.703],120294:[.716,.022,.611],120295:[.688,0,.733],120296:[.694,.022,.764],120297:[.694,0,.733],120298:[.694,0,1.039],120299:[.694,0,.733],120300:[.694,0,.733],120301:[.694,0,.672],120302:[.475,.011,.525],120303:[.694,.01,.561],120304:[.475,.011,.489],120305:[.694,.011,.561],120306:[.474,.01,.511],120307:[.705,0,.336,{ic:.045}],120308:[.469,.206,.55],120309:[.694,0,.561],120310:[.695,0,.256],120311:[.695,.205,.286],120312:[.694,0,.531],120313:[.694,0,.256],120314:[.469,0,.867],120315:[.468,0,.561],120316:[.474,.011,.55],120317:[.469,.194,.561],120318:[.469,.194,.561],120319:[.469,0,.372],120320:[.474,.01,.422],120321:[.589,.01,.404],120322:[.458,.011,.561],120323:[.458,0,.5],120324:[.458,0,.744],120325:[.458,0,.5],120326:[.458,.205,.5],120327:[.458,0,.476],120328:[.694,0,.667],120329:[.694,0,.667,{ic:.029}],120330:[.705,.01,.639,{ic:.08}],120331:[.694,0,.722,{ic:.025}],120332:[.691,0,.597,{ic:.091}],120333:[.691,0,.569,{ic:.104}],120334:[.705,.011,.667,{ic:.063}],120335:[.694,0,.708,{ic:.06}],120336:[.694,0,.278,{ic:.06}],120337:[.694,.022,.472,{ic:.063}],120338:[.694,0,.694,{ic:.091}],120339:[.694,0,.542],120340:[.694,0,.875,{ic:.054}],120341:[.694,0,.708,{ic:.058}],120342:[.716,.022,.736,{ic:.027}],120343:[.694,0,.639,{ic:.051}],120344:[.716,.125,.736,{ic:.027}],120345:[.694,0,.646,{ic:.052}],120346:[.716,.022,.556,{ic:.053}],120347:[.688,0,.681,{ic:.109}],120348:[.694,.022,.688,{ic:.059}],120349:[.694,0,.667,{ic:.132}],120350:[.694,0,.944,{ic:.132}],120351:[.694,0,.667,{ic:.091}],120352:[.694,0,.667,{ic:.143}],120353:[.694,0,.611,{ic:.091}],120354:[.461,.01,.481],120355:[.694,.011,.517,{ic:.022}],120356:[.46,.011,.444,{ic:.055}],120357:[.694,.01,.517,{ic:.071}],120358:[.46,.011,.444,{ic:.028}],120359:[.705,0,.306,{ic:.188}],120360:[.455,.206,.5,{ic:.068}],120361:[.694,0,.517],120362:[.68,0,.239,{ic:.076}],120363:[.68,.204,.267,{ic:.069}],120364:[.694,0,.489,{ic:.054}],120365:[.694,0,.239,{ic:.072}],120366:[.455,0,.794],120367:[.454,0,.517],120368:[.461,.011,.5,{ic:.023}],120369:[.455,.194,.517,{ic:.021}],120370:[.455,.194,.517,{ic:.021}],120371:[.455,0,.342,{ic:.082}],120372:[.461,.011,.383,{ic:.053}],120373:[.571,.011,.361,{ic:.049}],120374:[.444,.01,.517,{ic:.02}],120375:[.444,0,.461,{ic:.079}],120376:[.444,0,.683,{ic:.079}],120377:[.444,0,.461,{ic:.076}],120378:[.444,.205,.461,{ic:.079}],120379:[.444,0,.435,{ic:.059}],120432:[.623,0,.525],120433:[.611,0,.525],120434:[.622,.011,.525],120435:[.611,0,.525],120436:[.611,0,.525],120437:[.611,0,.525],120438:[.622,.011,.525],120439:[.611,0,.525],120440:[.611,0,.525],120441:[.611,.011,.525],120442:[.611,0,.525],120443:[.611,0,.525],120444:[.611,0,.525],120445:[.611,0,.525],120446:[.621,.01,.525],120447:[.611,0,.525],120448:[.621,.138,.525],120449:[.611,.011,.525],120450:[.622,.011,.525],120451:[.611,0,.525],120452:[.611,.011,.525],120453:[.611,.007,.525],120454:[.611,.007,.525],120455:[.611,0,.525],120456:[.611,0,.525],120457:[.611,0,.525],120458:[.439,.006,.525],120459:[.611,.006,.525],120460:[.44,.006,.525],120461:[.611,.006,.525],120462:[.44,.006,.525],120463:[.617,0,.525],120464:[.442,.229,.525],120465:[.611,0,.525],120466:[.612,0,.525],120467:[.612,.228,.525],120468:[.611,0,.525],120469:[.611,0,.525],120470:[.436,0,.525,{ic:.011}],120471:[.436,0,.525],120472:[.44,.006,.525],120473:[.437,.221,.525],120474:[.437,.221,.525,{ic:.02}],120475:[.437,0,.525],120476:[.44,.006,.525],120477:[.554,.006,.525],120478:[.431,.005,.525],120479:[.431,0,.525],120480:[.431,0,.525],120481:[.431,0,.525],120482:[.431,.228,.525],120483:[.431,0,.525],120488:[.698,0,.869],120489:[.686,0,.818],120490:[.68,0,.692],120491:[.698,0,.958],120492:[.68,0,.756],120493:[.686,0,.703],120494:[.686,0,.9],120495:[.696,.01,.894],120496:[.686,0,.436],120497:[.686,0,.901],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.696,.01,.864],120503:[.68,0,.9],120504:[.686,0,.786],120506:[.686,0,.831],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869],120511:[.686,0,.894],120512:[.696,0,.831],120513:[.686,.024,.958],120546:[.716,0,.75,{sk:.139}],120547:[.683,0,.759,{sk:.0833}],120548:[.68,0,.615,{ic:.106,sk:.0833}],120549:[.716,0,.833,{sk:.167}],120550:[.68,0,.738,{ic:.026,sk:.0833}],120551:[.683,0,.683,{ic:.04,sk:.0833}],120552:[.683,0,.831,{ic:.057,sk:.0556}],120553:[.704,.022,.763,{sk:.0833}],120554:[.683,0,.44,{ic:.064,sk:.111}],120555:[.683,0,.849,{ic:.04,sk:.0556}],120556:[.716,0,.694,{sk:.167}],120557:[.683,0,.97,{ic:.081,sk:.0833}],120558:[.683,0,.803,{ic:.085,sk:.0833}],120559:[.677,0,.742,{ic:.035,sk:.0833}],120560:[.704,.022,.763,{sk:.0833}],120561:[.68,0,.831,{ic:.056,sk:.0556}],120562:[.683,0,.642,{ic:.109,sk:.0833}],120564:[.683,0,.78,{ic:.026,sk:.0833}],120565:[.677,0,.584,{ic:.12,sk:.0833}],120566:[.705,0,.583,{ic:.117,sk:.0556}],120567:[.683,0,.667,{sk:.0833}],120568:[.683,0,.828,{ic:.024,sk:.0833}],120569:[.683,0,.612,{ic:.08,sk:.0556}],120570:[.704,0,.772,{ic:.014,sk:.0833}],120572:[.442,.011,.64,{sk:.0278}],120573:[.705,.194,.566,{sk:.0833}],120574:[.441,.216,.518,{ic:.025}],120575:[.717,.01,.444,{sk:.0556}],120576:[.452,.022,.466,{sk:.0833}],120577:[.704,.204,.438,{ic:.033,sk:.0833}],120578:[.442,.216,.497,{sk:.0556}],120579:[.705,.01,.469,{sk:.0833}],120580:[.442,.01,.354,{sk:.0556}],120581:[.442,.011,.576],120582:[.694,.012,.583],120583:[.442,.216,.603,{sk:.0278}],120584:[.442,0,.494,{ic:.036,sk:.0278}],120585:[.704,.205,.438,{sk:.111}],120586:[.441,.011,.485,{sk:.0556}],120587:[.431,.011,.57],120588:[.442,.216,.517,{sk:.0833}],120589:[.442,.107,.363,{ic:.042,sk:.0833}],120590:[.431,.011,.571],120591:[.431,.013,.437,{ic:.08,sk:.0278}],120592:[.443,.01,.54,{sk:.0278}],120593:[.442,.218,.654,{sk:.0833}],120594:[.442,.204,.626,{sk:.0556}],120595:[.694,.205,.651,{sk:.111}],120596:[.443,.011,.622],120597:[.715,.022,.531,{ic:.035,sk:.0833}],120598:[.431,.011,.406,{sk:.0556}],120599:[.705,.011,.591,{sk:.0833}],120600:[.434,.006,.667,{ic:.067}],120601:[.694,.205,.596,{sk:.0833}],120602:[.442,.194,.517,{sk:.0833}],120603:[.431,.01,.828],120604:[.711,0,.869,{sk:.16}],120605:[.686,0,.866,{sk:.0958}],120606:[.68,0,.657,{ic:.12,sk:.0958}],120607:[.711,0,.958,{sk:.192}],120608:[.68,0,.81,{ic:.015,sk:.0958}],120609:[.686,0,.773,{ic:.032,sk:.0958}],120610:[.686,0,.982,{ic:.045,sk:.0639}],120611:[.702,.017,.867,{sk:.0958}],120612:[.686,0,.511,{ic:.062,sk:.128}],120613:[.686,0,.971,{ic:.032,sk:.0639}],120614:[.711,0,.806,{sk:.192}],120615:[.686,0,1.142,{ic:.077,sk:.0958}],120616:[.686,0,.95,{ic:.077,sk:.0958}],120617:[.675,0,.841,{ic:.026,sk:.0958}],120618:[.703,.017,.837,{sk:.0958}],120619:[.68,0,.982,{ic:.044,sk:.0639}],120620:[.686,0,.723,{ic:.124,sk:.0958}],120622:[.686,0,.885,{ic:.017,sk:.0958}],120623:[.675,0,.637,{ic:.135,sk:.0958}],120624:[.703,0,.671,{ic:.131,sk:.0639}],120625:[.686,0,.767,{sk:.0958}],120626:[.686,0,.947,{sk:.0958}],120627:[.686,0,.714,{ic:.076,sk:.0639}],120628:[.703,0,.879,{sk:.0958}],120630:[.452,.008,.761,{sk:.0319}],120631:[.701,.194,.66,{sk:.0958}],120632:[.451,.211,.59,{ic:.027}],120633:[.725,.008,.522,{sk:.0639}],120634:[.461,.017,.529,{sk:.0958}],120635:[.711,.202,.508,{ic:.013,sk:.0958}],120636:[.452,.211,.6,{sk:.0639}],120637:[.702,.008,.562,{sk:.0958}],120638:[.452,.008,.412,{sk:.0639}],120639:[.452,.008,.668],120640:[.694,.013,.671],120641:[.452,.211,.708,{sk:.0319}],120642:[.452,0,.577,{ic:.031,sk:.0319}],120643:[.711,.201,.508,{sk:.128}],120644:[.452,.008,.585,{sk:.0639}],120645:[.444,.008,.682],120646:[.451,.211,.612,{sk:.0958}],120647:[.451,.105,.424,{ic:.033,sk:.0958}],120648:[.444,.008,.686],120649:[.444,.013,.521,{ic:.089,sk:.0319}],120650:[.453,.008,.631,{sk:.0319}],120651:[.452,.216,.747,{sk:.0958}],120652:[.452,.201,.718,{sk:.0639}],120653:[.694,.202,.758,{sk:.128}],120654:[.453,.008,.718],120655:[.71,.017,.628,{ic:.029,sk:.0958}],120656:[.444,.007,.483,{sk:.0639}],120657:[.701,.008,.692,{sk:.0958}],120658:[.434,.006,.667,{ic:.067}],120659:[.694,.202,.712,{sk:.0958}],120660:[.451,.194,.612,{sk:.0958}],120661:[.444,.008,.975],120662:[.694,0,.733],120663:[.694,0,.733],120664:[.691,0,.581],120665:[.694,0,.917],120666:[.691,0,.642],120667:[.694,0,.672],120668:[.694,0,.794],120669:[.716,.022,.856],120670:[.694,0,.331],120671:[.694,0,.764],120672:[.694,0,.672],120673:[.694,0,.978],120674:[.694,0,.794],120675:[.688,0,.733],120676:[.716,.022,.794],120677:[.691,0,.794],120678:[.694,0,.703],120680:[.694,0,.794],120681:[.688,0,.733],120682:[.715,0,.856],120683:[.694,0,.794],120684:[.694,0,.733],120685:[.694,0,.856],120686:[.716,0,.794],120782:[.654,.01,.575],120783:[.655,0,.575],120784:[.654,0,.575],120785:[.655,.011,.575],120786:[.656,0,.575],120787:[.655,.011,.575],120788:[.655,.011,.575],120789:[.676,.011,.575],120790:[.654,.011,.575],120791:[.654,.011,.575],120802:[.678,.022,.5],120803:[.678,0,.5],120804:[.677,0,.5],120805:[.678,.022,.5],120806:[.656,0,.5],120807:[.656,.021,.5],120808:[.677,.022,.5],120809:[.656,.011,.5],120810:[.678,.022,.5],120811:[.677,.022,.5],120812:[.715,.022,.55],120813:[.716,0,.55],120814:[.716,0,.55],120815:[.716,.022,.55],120816:[.694,0,.55],120817:[.694,.022,.55],120818:[.716,.022,.55],120819:[.695,.011,.55],120820:[.715,.022,.55],120821:[.716,.022,.55],120822:[.621,.01,.525],120823:[.622,0,.525],120824:[.622,0,.525],120825:[.622,.011,.525],120826:[.624,0,.525],120827:[.611,.01,.525],120828:[.622,.011,.525],120829:[.627,.01,.525],120830:[.621,.01,.525],120831:[.622,.011,.525]}),normal}function requireNormal(){if(hasRequiredNormal)return normal$1;hasRequiredNormal=1,Object.defineProperty(normal$1,"__esModule",{value:!0}),normal$1.normal=void 0;var e=requireFontData(),t=requireNormal$1();return normal$1.normal=(0,e.AddCSS)(t.normal,{163:{f:"MI"},165:{f:"A"},174:{f:"A"},183:{c:"\\22C5"},240:{f:"A"},697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8192:{c:""},8193:{c:""},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8203:{c:""},8204:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8245:{f:"A"},8246:{c:"\\2035\\2035",f:"A"},8247:{c:"\\2035\\2035\\2035",f:"A"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8288:{c:""},8289:{c:""},8290:{c:""},8291:{c:""},8292:{c:""},8407:{c:"\\2192",f:"V"},8450:{c:"C",f:"A"},8459:{c:"H",f:"SC"},8460:{c:"H",f:"FR"},8461:{c:"H",f:"A"},8462:{c:"h",f:"I"},8463:{f:"A"},8464:{c:"I",f:"SC"},8465:{c:"I",f:"FR"},8466:{c:"L",f:"SC"},8469:{c:"N",f:"A"},8473:{c:"P",f:"A"},8474:{c:"Q",f:"A"},8475:{c:"R",f:"SC"},8476:{c:"R",f:"FR"},8477:{c:"R",f:"A"},8484:{c:"Z",f:"A"},8486:{c:"\\3A9"},8487:{f:"A"},8488:{c:"Z",f:"FR"},8492:{c:"B",f:"SC"},8493:{c:"C",f:"FR"},8496:{c:"E",f:"SC"},8497:{c:"F",f:"SC"},8498:{f:"A"},8499:{c:"M",f:"SC"},8502:{f:"A"},8503:{f:"A"},8504:{f:"A"},8513:{f:"A"},8602:{f:"A"},8603:{f:"A"},8606:{f:"A"},8608:{f:"A"},8610:{f:"A"},8611:{f:"A"},8619:{f:"A"},8620:{f:"A"},8621:{f:"A"},8622:{f:"A"},8624:{f:"A"},8625:{f:"A"},8630:{f:"A"},8631:{f:"A"},8634:{f:"A"},8635:{f:"A"},8638:{f:"A"},8639:{f:"A"},8642:{f:"A"},8643:{f:"A"},8644:{f:"A"},8646:{f:"A"},8647:{f:"A"},8648:{f:"A"},8649:{f:"A"},8650:{f:"A"},8651:{f:"A"},8653:{f:"A"},8654:{f:"A"},8655:{f:"A"},8666:{f:"A"},8667:{f:"A"},8669:{f:"A"},8672:{f:"A"},8674:{f:"A"},8705:{f:"A"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8717:{f:"A"},8719:{f:"S1"},8720:{f:"S1"},8721:{f:"S1"},8724:{f:"A"},8737:{f:"A"},8738:{f:"A"},8740:{f:"A"},8742:{f:"A"},8748:{f:"S1"},8749:{f:"S1"},8750:{f:"S1"},8756:{f:"A"},8757:{f:"A"},8765:{f:"A"},8769:{f:"A"},8770:{f:"A"},8772:{c:"\\2243\\338"},8775:{c:"\\2246",f:"A"},8777:{c:"\\2248\\338"},8778:{f:"A"},8782:{f:"A"},8783:{f:"A"},8785:{f:"A"},8786:{f:"A"},8787:{f:"A"},8790:{f:"A"},8791:{f:"A"},8796:{f:"A"},8802:{c:"\\2261\\338"},8806:{f:"A"},8807:{f:"A"},8808:{f:"A"},8809:{f:"A"},8812:{f:"A"},8813:{c:"\\224D\\338"},8814:{f:"A"},8815:{f:"A"},8816:{f:"A"},8817:{f:"A"},8818:{f:"A"},8819:{f:"A"},8820:{c:"\\2272\\338"},8821:{c:"\\2273\\338"},8822:{f:"A"},8823:{f:"A"},8824:{c:"\\2276\\338"},8825:{c:"\\2277\\338"},8828:{f:"A"},8829:{f:"A"},8830:{f:"A"},8831:{f:"A"},8832:{f:"A"},8833:{f:"A"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{f:"A"},8841:{f:"A"},8842:{f:"A"},8843:{f:"A"},8847:{f:"A"},8848:{f:"A"},8858:{f:"A"},8859:{f:"A"},8861:{f:"A"},8862:{f:"A"},8863:{f:"A"},8864:{f:"A"},8865:{f:"A"},8873:{f:"A"},8874:{f:"A"},8876:{f:"A"},8877:{f:"A"},8878:{f:"A"},8879:{f:"A"},8882:{f:"A"},8883:{f:"A"},8884:{f:"A"},8885:{f:"A"},8888:{f:"A"},8890:{f:"A"},8891:{f:"A"},8892:{f:"A"},8896:{f:"S1"},8897:{f:"S1"},8898:{f:"S1"},8899:{f:"S1"},8903:{f:"A"},8905:{f:"A"},8906:{f:"A"},8907:{f:"A"},8908:{f:"A"},8909:{f:"A"},8910:{f:"A"},8911:{f:"A"},8912:{f:"A"},8913:{f:"A"},8914:{f:"A"},8915:{f:"A"},8916:{f:"A"},8918:{f:"A"},8919:{f:"A"},8920:{f:"A"},8921:{f:"A"},8922:{f:"A"},8923:{f:"A"},8926:{f:"A"},8927:{f:"A"},8928:{f:"A"},8929:{f:"A"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},8934:{f:"A"},8935:{f:"A"},8936:{f:"A"},8937:{f:"A"},8938:{f:"A"},8939:{f:"A"},8940:{f:"A"},8941:{f:"A"},8965:{c:"\\22BC",f:"A"},8966:{c:"\\2A5E",f:"A"},8988:{c:"\\250C",f:"A"},8989:{c:"\\2510",f:"A"},8990:{c:"\\2514",f:"A"},8991:{c:"\\2518",f:"A"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},9416:{f:"A"},9484:{f:"A"},9488:{f:"A"},9492:{f:"A"},9496:{f:"A"},9585:{f:"A"},9586:{f:"A"},9632:{f:"A"},9633:{f:"A"},9642:{c:"\\25A0",f:"A"},9650:{f:"A"},9652:{c:"\\25B2",f:"A"},9653:{c:"\\25B3"},9654:{f:"A"},9656:{c:"\\25B6",f:"A"},9660:{f:"A"},9662:{c:"\\25BC",f:"A"},9663:{c:"\\25BD"},9664:{f:"A"},9666:{c:"\\25C0",f:"A"},9674:{f:"A"},9723:{c:"\\25A1",f:"A"},9724:{c:"\\25A0",f:"A"},9733:{f:"A"},10003:{f:"A"},10016:{f:"A"},10072:{c:"\\2223"},10731:{f:"A"},10744:{c:"/",f:"I"},10752:{f:"S1"},10753:{f:"S1"},10754:{f:"S1"},10756:{f:"S1"},10758:{f:"S1"},10764:{c:"\\222C\\222C",f:"S1"},10799:{c:"\\D7"},10846:{f:"A"},10877:{f:"A"},10878:{f:"A"},10885:{f:"A"},10886:{f:"A"},10887:{f:"A"},10888:{f:"A"},10889:{f:"A"},10890:{f:"A"},10891:{f:"A"},10892:{f:"A"},10901:{f:"A"},10902:{f:"A"},10933:{f:"A"},10934:{f:"A"},10935:{f:"A"},10936:{f:"A"},10937:{f:"A"},10938:{f:"A"},10949:{f:"A"},10950:{f:"A"},10955:{f:"A"},10956:{f:"A"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57350:{f:"A"},57351:{f:"A"},57352:{f:"A"},57353:{f:"A"},57356:{f:"A"},57357:{f:"A"},57358:{f:"A"},57359:{f:"A"},57360:{f:"A"},57361:{f:"A"},57366:{f:"A"},57367:{f:"A"},57368:{f:"A"},57369:{f:"A"},57370:{f:"A"},57371:{f:"A"},119808:{c:"A",f:"B"},119809:{c:"B",f:"B"},119810:{c:"C",f:"B"},119811:{c:"D",f:"B"},119812:{c:"E",f:"B"},119813:{c:"F",f:"B"},119814:{c:"G",f:"B"},119815:{c:"H",f:"B"},119816:{c:"I",f:"B"},119817:{c:"J",f:"B"},119818:{c:"K",f:"B"},119819:{c:"L",f:"B"},119820:{c:"M",f:"B"},119821:{c:"N",f:"B"},119822:{c:"O",f:"B"},119823:{c:"P",f:"B"},119824:{c:"Q",f:"B"},119825:{c:"R",f:"B"},119826:{c:"S",f:"B"},119827:{c:"T",f:"B"},119828:{c:"U",f:"B"},119829:{c:"V",f:"B"},119830:{c:"W",f:"B"},119831:{c:"X",f:"B"},119832:{c:"Y",f:"B"},119833:{c:"Z",f:"B"},119834:{c:"a",f:"B"},119835:{c:"b",f:"B"},119836:{c:"c",f:"B"},119837:{c:"d",f:"B"},119838:{c:"e",f:"B"},119839:{c:"f",f:"B"},119840:{c:"g",f:"B"},119841:{c:"h",f:"B"},119842:{c:"i",f:"B"},119843:{c:"j",f:"B"},119844:{c:"k",f:"B"},119845:{c:"l",f:"B"},119846:{c:"m",f:"B"},119847:{c:"n",f:"B"},119848:{c:"o",f:"B"},119849:{c:"p",f:"B"},119850:{c:"q",f:"B"},119851:{c:"r",f:"B"},119852:{c:"s",f:"B"},119853:{c:"t",f:"B"},119854:{c:"u",f:"B"},119855:{c:"v",f:"B"},119856:{c:"w",f:"B"},119857:{c:"x",f:"B"},119858:{c:"y",f:"B"},119859:{c:"z",f:"B"},119860:{c:"A",f:"I"},119861:{c:"B",f:"I"},119862:{c:"C",f:"I"},119863:{c:"D",f:"I"},119864:{c:"E",f:"I"},119865:{c:"F",f:"I"},119866:{c:"G",f:"I"},119867:{c:"H",f:"I"},119868:{c:"I",f:"I"},119869:{c:"J",f:"I"},119870:{c:"K",f:"I"},119871:{c:"L",f:"I"},119872:{c:"M",f:"I"},119873:{c:"N",f:"I"},119874:{c:"O",f:"I"},119875:{c:"P",f:"I"},119876:{c:"Q",f:"I"},119877:{c:"R",f:"I"},119878:{c:"S",f:"I"},119879:{c:"T",f:"I"},119880:{c:"U",f:"I"},119881:{c:"V",f:"I"},119882:{c:"W",f:"I"},119883:{c:"X",f:"I"},119884:{c:"Y",f:"I"},119885:{c:"Z",f:"I"},119886:{c:"a",f:"I"},119887:{c:"b",f:"I"},119888:{c:"c",f:"I"},119889:{c:"d",f:"I"},119890:{c:"e",f:"I"},119891:{c:"f",f:"I"},119892:{c:"g",f:"I"},119894:{c:"i",f:"I"},119895:{c:"j",f:"I"},119896:{c:"k",f:"I"},119897:{c:"l",f:"I"},119898:{c:"m",f:"I"},119899:{c:"n",f:"I"},119900:{c:"o",f:"I"},119901:{c:"p",f:"I"},119902:{c:"q",f:"I"},119903:{c:"r",f:"I"},119904:{c:"s",f:"I"},119905:{c:"t",f:"I"},119906:{c:"u",f:"I"},119907:{c:"v",f:"I"},119908:{c:"w",f:"I"},119909:{c:"x",f:"I"},119910:{c:"y",f:"I"},119911:{c:"z",f:"I"},119912:{c:"A",f:"BI"},119913:{c:"B",f:"BI"},119914:{c:"C",f:"BI"},119915:{c:"D",f:"BI"},119916:{c:"E",f:"BI"},119917:{c:"F",f:"BI"},119918:{c:"G",f:"BI"},119919:{c:"H",f:"BI"},119920:{c:"I",f:"BI"},119921:{c:"J",f:"BI"},119922:{c:"K",f:"BI"},119923:{c:"L",f:"BI"},119924:{c:"M",f:"BI"},119925:{c:"N",f:"BI"},119926:{c:"O",f:"BI"},119927:{c:"P",f:"BI"},119928:{c:"Q",f:"BI"},119929:{c:"R",f:"BI"},119930:{c:"S",f:"BI"},119931:{c:"T",f:"BI"},119932:{c:"U",f:"BI"},119933:{c:"V",f:"BI"},119934:{c:"W",f:"BI"},119935:{c:"X",f:"BI"},119936:{c:"Y",f:"BI"},119937:{c:"Z",f:"BI"},119938:{c:"a",f:"BI"},119939:{c:"b",f:"BI"},119940:{c:"c",f:"BI"},119941:{c:"d",f:"BI"},119942:{c:"e",f:"BI"},119943:{c:"f",f:"BI"},119944:{c:"g",f:"BI"},119945:{c:"h",f:"BI"},119946:{c:"i",f:"BI"},119947:{c:"j",f:"BI"},119948:{c:"k",f:"BI"},119949:{c:"l",f:"BI"},119950:{c:"m",f:"BI"},119951:{c:"n",f:"BI"},119952:{c:"o",f:"BI"},119953:{c:"p",f:"BI"},119954:{c:"q",f:"BI"},119955:{c:"r",f:"BI"},119956:{c:"s",f:"BI"},119957:{c:"t",f:"BI"},119958:{c:"u",f:"BI"},119959:{c:"v",f:"BI"},119960:{c:"w",f:"BI"},119961:{c:"x",f:"BI"},119962:{c:"y",f:"BI"},119963:{c:"z",f:"BI"},119964:{c:"A",f:"SC"},119966:{c:"C",f:"SC"},119967:{c:"D",f:"SC"},119970:{c:"G",f:"SC"},119973:{c:"J",f:"SC"},119974:{c:"K",f:"SC"},119977:{c:"N",f:"SC"},119978:{c:"O",f:"SC"},119979:{c:"P",f:"SC"},119980:{c:"Q",f:"SC"},119982:{c:"S",f:"SC"},119983:{c:"T",f:"SC"},119984:{c:"U",f:"SC"},119985:{c:"V",f:"SC"},119986:{c:"W",f:"SC"},119987:{c:"X",f:"SC"},119988:{c:"Y",f:"SC"},119989:{c:"Z",f:"SC"},120068:{c:"A",f:"FR"},120069:{c:"B",f:"FR"},120071:{c:"D",f:"FR"},120072:{c:"E",f:"FR"},120073:{c:"F",f:"FR"},120074:{c:"G",f:"FR"},120077:{c:"J",f:"FR"},120078:{c:"K",f:"FR"},120079:{c:"L",f:"FR"},120080:{c:"M",f:"FR"},120081:{c:"N",f:"FR"},120082:{c:"O",f:"FR"},120083:{c:"P",f:"FR"},120084:{c:"Q",f:"FR"},120086:{c:"S",f:"FR"},120087:{c:"T",f:"FR"},120088:{c:"U",f:"FR"},120089:{c:"V",f:"FR"},120090:{c:"W",f:"FR"},120091:{c:"X",f:"FR"},120092:{c:"Y",f:"FR"},120094:{c:"a",f:"FR"},120095:{c:"b",f:"FR"},120096:{c:"c",f:"FR"},120097:{c:"d",f:"FR"},120098:{c:"e",f:"FR"},120099:{c:"f",f:"FR"},120100:{c:"g",f:"FR"},120101:{c:"h",f:"FR"},120102:{c:"i",f:"FR"},120103:{c:"j",f:"FR"},120104:{c:"k",f:"FR"},120105:{c:"l",f:"FR"},120106:{c:"m",f:"FR"},120107:{c:"n",f:"FR"},120108:{c:"o",f:"FR"},120109:{c:"p",f:"FR"},120110:{c:"q",f:"FR"},120111:{c:"r",f:"FR"},120112:{c:"s",f:"FR"},120113:{c:"t",f:"FR"},120114:{c:"u",f:"FR"},120115:{c:"v",f:"FR"},120116:{c:"w",f:"FR"},120117:{c:"x",f:"FR"},120118:{c:"y",f:"FR"},120119:{c:"z",f:"FR"},120120:{c:"A",f:"A"},120121:{c:"B",f:"A"},120123:{c:"D",f:"A"},120124:{c:"E",f:"A"},120125:{c:"F",f:"A"},120126:{c:"G",f:"A"},120128:{c:"I",f:"A"},120129:{c:"J",f:"A"},120130:{c:"K",f:"A"},120131:{c:"L",f:"A"},120132:{c:"M",f:"A"},120134:{c:"O",f:"A"},120138:{c:"S",f:"A"},120139:{c:"T",f:"A"},120140:{c:"U",f:"A"},120141:{c:"V",f:"A"},120142:{c:"W",f:"A"},120143:{c:"X",f:"A"},120144:{c:"Y",f:"A"},120172:{c:"A",f:"FRB"},120173:{c:"B",f:"FRB"},120174:{c:"C",f:"FRB"},120175:{c:"D",f:"FRB"},120176:{c:"E",f:"FRB"},120177:{c:"F",f:"FRB"},120178:{c:"G",f:"FRB"},120179:{c:"H",f:"FRB"},120180:{c:"I",f:"FRB"},120181:{c:"J",f:"FRB"},120182:{c:"K",f:"FRB"},120183:{c:"L",f:"FRB"},120184:{c:"M",f:"FRB"},120185:{c:"N",f:"FRB"},120186:{c:"O",f:"FRB"},120187:{c:"P",f:"FRB"},120188:{c:"Q",f:"FRB"},120189:{c:"R",f:"FRB"},120190:{c:"S",f:"FRB"},120191:{c:"T",f:"FRB"},120192:{c:"U",f:"FRB"},120193:{c:"V",f:"FRB"},120194:{c:"W",f:"FRB"},120195:{c:"X",f:"FRB"},120196:{c:"Y",f:"FRB"},120197:{c:"Z",f:"FRB"},120198:{c:"a",f:"FRB"},120199:{c:"b",f:"FRB"},120200:{c:"c",f:"FRB"},120201:{c:"d",f:"FRB"},120202:{c:"e",f:"FRB"},120203:{c:"f",f:"FRB"},120204:{c:"g",f:"FRB"},120205:{c:"h",f:"FRB"},120206:{c:"i",f:"FRB"},120207:{c:"j",f:"FRB"},120208:{c:"k",f:"FRB"},120209:{c:"l",f:"FRB"},120210:{c:"m",f:"FRB"},120211:{c:"n",f:"FRB"},120212:{c:"o",f:"FRB"},120213:{c:"p",f:"FRB"},120214:{c:"q",f:"FRB"},120215:{c:"r",f:"FRB"},120216:{c:"s",f:"FRB"},120217:{c:"t",f:"FRB"},120218:{c:"u",f:"FRB"},120219:{c:"v",f:"FRB"},120220:{c:"w",f:"FRB"},120221:{c:"x",f:"FRB"},120222:{c:"y",f:"FRB"},120223:{c:"z",f:"FRB"},120224:{c:"A",f:"SS"},120225:{c:"B",f:"SS"},120226:{c:"C",f:"SS"},120227:{c:"D",f:"SS"},120228:{c:"E",f:"SS"},120229:{c:"F",f:"SS"},120230:{c:"G",f:"SS"},120231:{c:"H",f:"SS"},120232:{c:"I",f:"SS"},120233:{c:"J",f:"SS"},120234:{c:"K",f:"SS"},120235:{c:"L",f:"SS"},120236:{c:"M",f:"SS"},120237:{c:"N",f:"SS"},120238:{c:"O",f:"SS"},120239:{c:"P",f:"SS"},120240:{c:"Q",f:"SS"},120241:{c:"R",f:"SS"},120242:{c:"S",f:"SS"},120243:{c:"T",f:"SS"},120244:{c:"U",f:"SS"},120245:{c:"V",f:"SS"},120246:{c:"W",f:"SS"},120247:{c:"X",f:"SS"},120248:{c:"Y",f:"SS"},120249:{c:"Z",f:"SS"},120250:{c:"a",f:"SS"},120251:{c:"b",f:"SS"},120252:{c:"c",f:"SS"},120253:{c:"d",f:"SS"},120254:{c:"e",f:"SS"},120255:{c:"f",f:"SS"},120256:{c:"g",f:"SS"},120257:{c:"h",f:"SS"},120258:{c:"i",f:"SS"},120259:{c:"j",f:"SS"},120260:{c:"k",f:"SS"},120261:{c:"l",f:"SS"},120262:{c:"m",f:"SS"},120263:{c:"n",f:"SS"},120264:{c:"o",f:"SS"},120265:{c:"p",f:"SS"},120266:{c:"q",f:"SS"},120267:{c:"r",f:"SS"},120268:{c:"s",f:"SS"},120269:{c:"t",f:"SS"},120270:{c:"u",f:"SS"},120271:{c:"v",f:"SS"},120272:{c:"w",f:"SS"},120273:{c:"x",f:"SS"},120274:{c:"y",f:"SS"},120275:{c:"z",f:"SS"},120276:{c:"A",f:"SSB"},120277:{c:"B",f:"SSB"},120278:{c:"C",f:"SSB"},120279:{c:"D",f:"SSB"},120280:{c:"E",f:"SSB"},120281:{c:"F",f:"SSB"},120282:{c:"G",f:"SSB"},120283:{c:"H",f:"SSB"},120284:{c:"I",f:"SSB"},120285:{c:"J",f:"SSB"},120286:{c:"K",f:"SSB"},120287:{c:"L",f:"SSB"},120288:{c:"M",f:"SSB"},120289:{c:"N",f:"SSB"},120290:{c:"O",f:"SSB"},120291:{c:"P",f:"SSB"},120292:{c:"Q",f:"SSB"},120293:{c:"R",f:"SSB"},120294:{c:"S",f:"SSB"},120295:{c:"T",f:"SSB"},120296:{c:"U",f:"SSB"},120297:{c:"V",f:"SSB"},120298:{c:"W",f:"SSB"},120299:{c:"X",f:"SSB"},120300:{c:"Y",f:"SSB"},120301:{c:"Z",f:"SSB"},120302:{c:"a",f:"SSB"},120303:{c:"b",f:"SSB"},120304:{c:"c",f:"SSB"},120305:{c:"d",f:"SSB"},120306:{c:"e",f:"SSB"},120307:{c:"f",f:"SSB"},120308:{c:"g",f:"SSB"},120309:{c:"h",f:"SSB"},120310:{c:"i",f:"SSB"},120311:{c:"j",f:"SSB"},120312:{c:"k",f:"SSB"},120313:{c:"l",f:"SSB"},120314:{c:"m",f:"SSB"},120315:{c:"n",f:"SSB"},120316:{c:"o",f:"SSB"},120317:{c:"p",f:"SSB"},120318:{c:"q",f:"SSB"},120319:{c:"r",f:"SSB"},120320:{c:"s",f:"SSB"},120321:{c:"t",f:"SSB"},120322:{c:"u",f:"SSB"},120323:{c:"v",f:"SSB"},120324:{c:"w",f:"SSB"},120325:{c:"x",f:"SSB"},120326:{c:"y",f:"SSB"},120327:{c:"z",f:"SSB"},120328:{c:"A",f:"SSI"},120329:{c:"B",f:"SSI"},120330:{c:"C",f:"SSI"},120331:{c:"D",f:"SSI"},120332:{c:"E",f:"SSI"},120333:{c:"F",f:"SSI"},120334:{c:"G",f:"SSI"},120335:{c:"H",f:"SSI"},120336:{c:"I",f:"SSI"},120337:{c:"J",f:"SSI"},120338:{c:"K",f:"SSI"},120339:{c:"L",f:"SSI"},120340:{c:"M",f:"SSI"},120341:{c:"N",f:"SSI"},120342:{c:"O",f:"SSI"},120343:{c:"P",f:"SSI"},120344:{c:"Q",f:"SSI"},120345:{c:"R",f:"SSI"},120346:{c:"S",f:"SSI"},120347:{c:"T",f:"SSI"},120348:{c:"U",f:"SSI"},120349:{c:"V",f:"SSI"},120350:{c:"W",f:"SSI"},120351:{c:"X",f:"SSI"},120352:{c:"Y",f:"SSI"},120353:{c:"Z",f:"SSI"},120354:{c:"a",f:"SSI"},120355:{c:"b",f:"SSI"},120356:{c:"c",f:"SSI"},120357:{c:"d",f:"SSI"},120358:{c:"e",f:"SSI"},120359:{c:"f",f:"SSI"},120360:{c:"g",f:"SSI"},120361:{c:"h",f:"SSI"},120362:{c:"i",f:"SSI"},120363:{c:"j",f:"SSI"},120364:{c:"k",f:"SSI"},120365:{c:"l",f:"SSI"},120366:{c:"m",f:"SSI"},120367:{c:"n",f:"SSI"},120368:{c:"o",f:"SSI"},120369:{c:"p",f:"SSI"},120370:{c:"q",f:"SSI"},120371:{c:"r",f:"SSI"},120372:{c:"s",f:"SSI"},120373:{c:"t",f:"SSI"},120374:{c:"u",f:"SSI"},120375:{c:"v",f:"SSI"},120376:{c:"w",f:"SSI"},120377:{c:"x",f:"SSI"},120378:{c:"y",f:"SSI"},120379:{c:"z",f:"SSI"},120432:{c:"A",f:"T"},120433:{c:"B",f:"T"},120434:{c:"C",f:"T"},120435:{c:"D",f:"T"},120436:{c:"E",f:"T"},120437:{c:"F",f:"T"},120438:{c:"G",f:"T"},120439:{c:"H",f:"T"},120440:{c:"I",f:"T"},120441:{c:"J",f:"T"},120442:{c:"K",f:"T"},120443:{c:"L",f:"T"},120444:{c:"M",f:"T"},120445:{c:"N",f:"T"},120446:{c:"O",f:"T"},120447:{c:"P",f:"T"},120448:{c:"Q",f:"T"},120449:{c:"R",f:"T"},120450:{c:"S",f:"T"},120451:{c:"T",f:"T"},120452:{c:"U",f:"T"},120453:{c:"V",f:"T"},120454:{c:"W",f:"T"},120455:{c:"X",f:"T"},120456:{c:"Y",f:"T"},120457:{c:"Z",f:"T"},120458:{c:"a",f:"T"},120459:{c:"b",f:"T"},120460:{c:"c",f:"T"},120461:{c:"d",f:"T"},120462:{c:"e",f:"T"},120463:{c:"f",f:"T"},120464:{c:"g",f:"T"},120465:{c:"h",f:"T"},120466:{c:"i",f:"T"},120467:{c:"j",f:"T"},120468:{c:"k",f:"T"},120469:{c:"l",f:"T"},120470:{c:"m",f:"T"},120471:{c:"n",f:"T"},120472:{c:"o",f:"T"},120473:{c:"p",f:"T"},120474:{c:"q",f:"T"},120475:{c:"r",f:"T"},120476:{c:"s",f:"T"},120477:{c:"t",f:"T"},120478:{c:"u",f:"T"},120479:{c:"v",f:"T"},120480:{c:"w",f:"T"},120481:{c:"x",f:"T"},120482:{c:"y",f:"T"},120483:{c:"z",f:"T"},120488:{c:"A",f:"B"},120489:{c:"B",f:"B"},120490:{c:"\\393",f:"B"},120491:{c:"\\394",f:"B"},120492:{c:"E",f:"B"},120493:{c:"Z",f:"B"},120494:{c:"H",f:"B"},120495:{c:"\\398",f:"B"},120496:{c:"I",f:"B"},120497:{c:"K",f:"B"},120498:{c:"\\39B",f:"B"},120499:{c:"M",f:"B"},120500:{c:"N",f:"B"},120501:{c:"\\39E",f:"B"},120502:{c:"O",f:"B"},120503:{c:"\\3A0",f:"B"},120504:{c:"P",f:"B"},120506:{c:"\\3A3",f:"B"},120507:{c:"T",f:"B"},120508:{c:"\\3A5",f:"B"},120509:{c:"\\3A6",f:"B"},120510:{c:"X",f:"B"},120511:{c:"\\3A8",f:"B"},120512:{c:"\\3A9",f:"B"},120513:{c:"\\2207",f:"B"},120546:{c:"A",f:"I"},120547:{c:"B",f:"I"},120548:{c:"\\393",f:"I"},120549:{c:"\\394",f:"I"},120550:{c:"E",f:"I"},120551:{c:"Z",f:"I"},120552:{c:"H",f:"I"},120553:{c:"\\398",f:"I"},120554:{c:"I",f:"I"},120555:{c:"K",f:"I"},120556:{c:"\\39B",f:"I"},120557:{c:"M",f:"I"},120558:{c:"N",f:"I"},120559:{c:"\\39E",f:"I"},120560:{c:"O",f:"I"},120561:{c:"\\3A0",f:"I"},120562:{c:"P",f:"I"},120564:{c:"\\3A3",f:"I"},120565:{c:"T",f:"I"},120566:{c:"\\3A5",f:"I"},120567:{c:"\\3A6",f:"I"},120568:{c:"X",f:"I"},120569:{c:"\\3A8",f:"I"},120570:{c:"\\3A9",f:"I"},120572:{c:"\\3B1",f:"I"},120573:{c:"\\3B2",f:"I"},120574:{c:"\\3B3",f:"I"},120575:{c:"\\3B4",f:"I"},120576:{c:"\\3B5",f:"I"},120577:{c:"\\3B6",f:"I"},120578:{c:"\\3B7",f:"I"},120579:{c:"\\3B8",f:"I"},120580:{c:"\\3B9",f:"I"},120581:{c:"\\3BA",f:"I"},120582:{c:"\\3BB",f:"I"},120583:{c:"\\3BC",f:"I"},120584:{c:"\\3BD",f:"I"},120585:{c:"\\3BE",f:"I"},120586:{c:"\\3BF",f:"I"},120587:{c:"\\3C0",f:"I"},120588:{c:"\\3C1",f:"I"},120589:{c:"\\3C2",f:"I"},120590:{c:"\\3C3",f:"I"},120591:{c:"\\3C4",f:"I"},120592:{c:"\\3C5",f:"I"},120593:{c:"\\3C6",f:"I"},120594:{c:"\\3C7",f:"I"},120595:{c:"\\3C8",f:"I"},120596:{c:"\\3C9",f:"I"},120597:{c:"\\2202"},120598:{c:"\\3F5",f:"I"},120599:{c:"\\3D1",f:"I"},120600:{c:"\\E009",f:"A"},120601:{c:"\\3D5",f:"I"},120602:{c:"\\3F1",f:"I"},120603:{c:"\\3D6",f:"I"},120604:{c:"A",f:"BI"},120605:{c:"B",f:"BI"},120606:{c:"\\393",f:"BI"},120607:{c:"\\394",f:"BI"},120608:{c:"E",f:"BI"},120609:{c:"Z",f:"BI"},120610:{c:"H",f:"BI"},120611:{c:"\\398",f:"BI"},120612:{c:"I",f:"BI"},120613:{c:"K",f:"BI"},120614:{c:"\\39B",f:"BI"},120615:{c:"M",f:"BI"},120616:{c:"N",f:"BI"},120617:{c:"\\39E",f:"BI"},120618:{c:"O",f:"BI"},120619:{c:"\\3A0",f:"BI"},120620:{c:"P",f:"BI"},120622:{c:"\\3A3",f:"BI"},120623:{c:"T",f:"BI"},120624:{c:"\\3A5",f:"BI"},120625:{c:"\\3A6",f:"BI"},120626:{c:"X",f:"BI"},120627:{c:"\\3A8",f:"BI"},120628:{c:"\\3A9",f:"BI"},120630:{c:"\\3B1",f:"BI"},120631:{c:"\\3B2",f:"BI"},120632:{c:"\\3B3",f:"BI"},120633:{c:"\\3B4",f:"BI"},120634:{c:"\\3B5",f:"BI"},120635:{c:"\\3B6",f:"BI"},120636:{c:"\\3B7",f:"BI"},120637:{c:"\\3B8",f:"BI"},120638:{c:"\\3B9",f:"BI"},120639:{c:"\\3BA",f:"BI"},120640:{c:"\\3BB",f:"BI"},120641:{c:"\\3BC",f:"BI"},120642:{c:"\\3BD",f:"BI"},120643:{c:"\\3BE",f:"BI"},120644:{c:"\\3BF",f:"BI"},120645:{c:"\\3C0",f:"BI"},120646:{c:"\\3C1",f:"BI"},120647:{c:"\\3C2",f:"BI"},120648:{c:"\\3C3",f:"BI"},120649:{c:"\\3C4",f:"BI"},120650:{c:"\\3C5",f:"BI"},120651:{c:"\\3C6",f:"BI"},120652:{c:"\\3C7",f:"BI"},120653:{c:"\\3C8",f:"BI"},120654:{c:"\\3C9",f:"BI"},120655:{c:"\\2202",f:"B"},120656:{c:"\\3F5",f:"BI"},120657:{c:"\\3D1",f:"BI"},120658:{c:"\\E009",f:"A"},120659:{c:"\\3D5",f:"BI"},120660:{c:"\\3F1",f:"BI"},120661:{c:"\\3D6",f:"BI"},120662:{c:"A",f:"SSB"},120663:{c:"B",f:"SSB"},120664:{c:"\\393",f:"SSB"},120665:{c:"\\394",f:"SSB"},120666:{c:"E",f:"SSB"},120667:{c:"Z",f:"SSB"},120668:{c:"H",f:"SSB"},120669:{c:"\\398",f:"SSB"},120670:{c:"I",f:"SSB"},120671:{c:"K",f:"SSB"},120672:{c:"\\39B",f:"SSB"},120673:{c:"M",f:"SSB"},120674:{c:"N",f:"SSB"},120675:{c:"\\39E",f:"SSB"},120676:{c:"O",f:"SSB"},120677:{c:"\\3A0",f:"SSB"},120678:{c:"P",f:"SSB"},120680:{c:"\\3A3",f:"SSB"},120681:{c:"T",f:"SSB"},120682:{c:"\\3A5",f:"SSB"},120683:{c:"\\3A6",f:"SSB"},120684:{c:"X",f:"SSB"},120685:{c:"\\3A8",f:"SSB"},120686:{c:"\\3A9",f:"SSB"},120782:{c:"0",f:"B"},120783:{c:"1",f:"B"},120784:{c:"2",f:"B"},120785:{c:"3",f:"B"},120786:{c:"4",f:"B"},120787:{c:"5",f:"B"},120788:{c:"6",f:"B"},120789:{c:"7",f:"B"},120790:{c:"8",f:"B"},120791:{c:"9",f:"B"},120802:{c:"0",f:"SS"},120803:{c:"1",f:"SS"},120804:{c:"2",f:"SS"},120805:{c:"3",f:"SS"},120806:{c:"4",f:"SS"},120807:{c:"5",f:"SS"},120808:{c:"6",f:"SS"},120809:{c:"7",f:"SS"},120810:{c:"8",f:"SS"},120811:{c:"9",f:"SS"},120812:{c:"0",f:"SSB"},120813:{c:"1",f:"SSB"},120814:{c:"2",f:"SSB"},120815:{c:"3",f:"SSB"},120816:{c:"4",f:"SSB"},120817:{c:"5",f:"SSB"},120818:{c:"6",f:"SSB"},120819:{c:"7",f:"SSB"},120820:{c:"8",f:"SSB"},120821:{c:"9",f:"SSB"},120822:{c:"0",f:"T"},120823:{c:"1",f:"T"},120824:{c:"2",f:"T"},120825:{c:"3",f:"T"},120826:{c:"4",f:"T"},120827:{c:"5",f:"T"},120828:{c:"6",f:"T"},120829:{c:"7",f:"T"},120830:{c:"8",f:"T"},120831:{c:"9",f:"T"}}),normal$1}var sansSerifBoldItalic$1={},sansSerifBoldItalic={},hasRequiredSansSerifBoldItalic$1,hasRequiredSansSerifBoldItalic;function requireSansSerifBoldItalic$1(){return hasRequiredSansSerifBoldItalic$1||(hasRequiredSansSerifBoldItalic$1=1,Object.defineProperty(sansSerifBoldItalic,"__esModule",{value:!0}),sansSerifBoldItalic.sansSerifBoldItalic=void 0,sansSerifBoldItalic.sansSerifBoldItalic={305:[.458,0,.256],567:[.458,.205,.286]}),sansSerifBoldItalic}function requireSansSerifBoldItalic(){if(hasRequiredSansSerifBoldItalic)return sansSerifBoldItalic$1;hasRequiredSansSerifBoldItalic=1,Object.defineProperty(sansSerifBoldItalic$1,"__esModule",{value:!0}),sansSerifBoldItalic$1.sansSerifBoldItalic=void 0;var e=requireFontData(),t=requireSansSerifBoldItalic$1();return sansSerifBoldItalic$1.sansSerifBoldItalic=(0,e.AddCSS)(t.sansSerifBoldItalic,{305:{f:"SSB"},567:{f:"SSB"}}),sansSerifBoldItalic$1}var sansSerifBold$1={},sansSerifBold={},hasRequiredSansSerifBold$1,hasRequiredSansSerifBold;function requireSansSerifBold$1(){return hasRequiredSansSerifBold$1||(hasRequiredSansSerifBold$1=1,Object.defineProperty(sansSerifBold,"__esModule",{value:!0}),sansSerifBold.sansSerifBold=void 0,sansSerifBold.sansSerifBold={33:[.694,0,.367],34:[.694,-.442,.558],35:[.694,.193,.917],36:[.75,.056,.55],37:[.75,.056,1.029],38:[.716,.022,.831],39:[.694,-.442,.306],40:[.75,.249,.428],41:[.75,.25,.428],42:[.75,-.293,.55],43:[.617,.116,.856],44:[.146,.106,.306],45:[.273,-.186,.367],46:[.146,0,.306],47:[.75,.249,.55],58:[.458,0,.306],59:[.458,.106,.306],61:[.407,-.094,.856],63:[.705,0,.519],64:[.704,.011,.733],91:[.75,.25,.343],93:[.75,.25,.343],94:[.694,-.537,.55],95:[-.023,.11,.55],126:[.344,-.198,.55],305:[.458,0,.256],567:[.458,.205,.286],768:[.694,-.537,0],769:[.694,-.537,0],770:[.694,-.537,0],771:[.694,-.548,0],772:[.66,-.56,0],774:[.694,-.552,0],775:[.695,-.596,0],776:[.695,-.595,0],778:[.694,-.538,0],779:[.694,-.537,0],780:[.657,-.5,0],8211:[.327,-.24,.55],8212:[.327,-.24,1.1],8213:[.327,-.24,1.1],8215:[-.023,.11,.55],8216:[.694,-.443,.306],8217:[.694,-.442,.306],8220:[.694,-.443,.558],8221:[.694,-.442,.558],8260:[.75,.249,.55],8710:[.694,0,.917]}),sansSerifBold}function requireSansSerifBold(){if(hasRequiredSansSerifBold)return sansSerifBold$1;hasRequiredSansSerifBold=1,Object.defineProperty(sansSerifBold$1,"__esModule",{value:!0}),sansSerifBold$1.sansSerifBold=void 0;var e=requireFontData(),t=requireSansSerifBold$1();return sansSerifBold$1.sansSerifBold=(0,e.AddCSS)(t.sansSerifBold,{8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}}),sansSerifBold$1}var sansSerifItalic$1={},sansSerifItalic={},hasRequiredSansSerifItalic$1,hasRequiredSansSerifItalic;function requireSansSerifItalic$1(){return hasRequiredSansSerifItalic$1||(hasRequiredSansSerifItalic$1=1,Object.defineProperty(sansSerifItalic,"__esModule",{value:!0}),sansSerifItalic.sansSerifItalic=void 0,sansSerifItalic.sansSerifItalic={33:[.694,0,.319,{ic:.036}],34:[.694,-.471,.5],35:[.694,.194,.833,{ic:.018}],36:[.75,.056,.5,{ic:.065}],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278,{ic:.057}],40:[.75,.25,.389,{ic:.102}],41:[.75,.25,.389],42:[.75,-.306,.5,{ic:.068}],43:[.583,.083,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5,{ic:.1}],48:[.678,.022,.5,{ic:.049}],49:[.678,0,.5],50:[.678,0,.5,{ic:.051}],51:[.678,.022,.5,{ic:.044}],52:[.656,0,.5,{ic:.021}],53:[.656,.022,.5,{ic:.055}],54:[.678,.022,.5,{ic:.048}],55:[.656,.011,.5,{ic:.096}],56:[.678,.022,.5,{ic:.054}],57:[.677,.022,.5,{ic:.045}],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778,{ic:.018}],63:[.704,0,.472,{ic:.064}],64:[.705,.01,.667,{ic:.04}],91:[.75,.25,.289,{ic:.136}],93:[.75,.25,.289,{ic:.064}],94:[.694,-.527,.5,{ic:.033}],95:[-.038,.114,.5,{ic:.065}],126:[.327,-.193,.5,{ic:.06}],305:[.444,0,.239,{ic:.019}],567:[.444,.204,.267,{ic:.019}],768:[.694,-.527,0],769:[.694,-.527,0,{ic:.063}],770:[.694,-.527,0,{ic:.033}],771:[.677,-.543,0,{ic:.06}],772:[.631,-.552,0,{ic:.064}],774:[.694,-.508,0,{ic:.073}],775:[.68,-.576,0],776:[.68,-.582,0,{ic:.04}],778:[.693,-.527,0],779:[.694,-.527,0,{ic:.063}],780:[.654,-.487,0,{ic:.06}],913:[.694,0,.667],914:[.694,0,.667,{ic:.029}],915:[.691,0,.542,{ic:.104}],916:[.694,0,.833],917:[.691,0,.597,{ic:.091}],918:[.694,0,.611,{ic:.091}],919:[.694,0,.708,{ic:.06}],920:[.715,.022,.778,{ic:.026}],921:[.694,0,.278,{ic:.06}],922:[.694,0,.694,{ic:.091}],923:[.694,0,.611],924:[.694,0,.875,{ic:.054}],925:[.694,0,.708,{ic:.058}],926:[.688,0,.667,{ic:.098}],927:[.716,.022,.736,{ic:.027}],928:[.691,0,.708,{ic:.06}],929:[.694,0,.639,{ic:.051}],931:[.694,0,.722,{ic:.091}],932:[.688,0,.681,{ic:.109}],933:[.716,0,.778,{ic:.065}],934:[.694,0,.722,{ic:.021}],935:[.694,0,.667,{ic:.091}],936:[.694,0,.778,{ic:.076}],937:[.716,0,.722,{ic:.047}],8211:[.312,-.236,.5,{ic:.065}],8212:[.312,-.236,1,{ic:.065}],8213:[.312,-.236,1,{ic:.065}],8215:[-.038,.114,.5,{ic:.065}],8216:[.694,-.471,.278,{ic:.058}],8217:[.694,-.471,.278,{ic:.057}],8220:[.694,-.471,.5,{ic:.114}],8221:[.694,-.471,.5],8260:[.75,.25,.5,{ic:.1}],8710:[.694,0,.833]}),sansSerifItalic}function requireSansSerifItalic(){if(hasRequiredSansSerifItalic)return sansSerifItalic$1;hasRequiredSansSerifItalic=1,Object.defineProperty(sansSerifItalic$1,"__esModule",{value:!0}),sansSerifItalic$1.sansSerifItalic=void 0;var e=requireFontData(),t=requireSansSerifItalic$1();return sansSerifItalic$1.sansSerifItalic=(0,e.AddCSS)(t.sansSerifItalic,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}}),sansSerifItalic$1}var sansSerif$1={},sansSerif={},hasRequiredSansSerif$1,hasRequiredSansSerif;function requireSansSerif$1(){return hasRequiredSansSerif$1||(hasRequiredSansSerif$1=1,Object.defineProperty(sansSerif,"__esModule",{value:!0}),sansSerif.sansSerif=void 0,sansSerif.sansSerif={33:[.694,0,.319],34:[.694,-.471,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.306,.5],43:[.583,.082,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778],63:[.704,0,.472],64:[.704,.011,.667],91:[.75,.25,.289],93:[.75,.25,.289],94:[.694,-.527,.5],95:[-.038,.114,.5],126:[.327,-.193,.5],305:[.444,0,.239],567:[.444,.205,.267],768:[.694,-.527,0],769:[.694,-.527,0],770:[.694,-.527,0],771:[.677,-.543,0],772:[.631,-.552,0],774:[.694,-.508,0],775:[.68,-.576,0],776:[.68,-.582,0],778:[.694,-.527,0],779:[.694,-.527,0],780:[.654,-.487,0],913:[.694,0,.667],914:[.694,0,.667],915:[.691,0,.542],916:[.694,0,.833],917:[.691,0,.597],918:[.694,0,.611],919:[.694,0,.708],920:[.716,.021,.778],921:[.694,0,.278],922:[.694,0,.694],923:[.694,0,.611],924:[.694,0,.875],925:[.694,0,.708],926:[.688,0,.667],927:[.715,.022,.736],928:[.691,0,.708],929:[.694,0,.639],931:[.694,0,.722],932:[.688,0,.681],933:[.716,0,.778],934:[.694,0,.722],935:[.694,0,.667],936:[.694,0,.778],937:[.716,0,.722],8211:[.312,-.236,.5],8212:[.312,-.236,1],8213:[.312,-.236,1],8215:[-.038,.114,.5],8216:[.694,-.471,.278],8217:[.694,-.471,.278],8220:[.694,-.471,.5],8221:[.694,-.471,.5],8260:[.75,.25,.5],8710:[.694,0,.833]}),sansSerif}function requireSansSerif(){if(hasRequiredSansSerif)return sansSerif$1;hasRequiredSansSerif=1,Object.defineProperty(sansSerif$1,"__esModule",{value:!0}),sansSerif$1.sansSerif=void 0;var e=requireFontData(),t=requireSansSerif$1();return sansSerif$1.sansSerif=(0,e.AddCSS)(t.sansSerif,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}}),sansSerif$1}var scriptBold$1={},scriptBold={},hasRequiredScriptBold$1,hasRequiredScriptBold;function requireScriptBold$1(){return hasRequiredScriptBold$1||(hasRequiredScriptBold$1=1,Object.defineProperty(scriptBold,"__esModule",{value:!0}),scriptBold.scriptBold=void 0,scriptBold.scriptBold={}),scriptBold}function requireScriptBold(){return hasRequiredScriptBold||(hasRequiredScriptBold=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.scriptBold=void 0;var t=requireScriptBold$1();Object.defineProperty(e,"scriptBold",{enumerable:!0,get:function(){return t.scriptBold}})}(scriptBold$1)),scriptBold$1}var script$1={},script={},hasRequiredScript$1,hasRequiredScript;function requireScript$1(){return hasRequiredScript$1||(hasRequiredScript$1=1,Object.defineProperty(script,"__esModule",{value:!0}),script.script=void 0,script.script={}),script}function requireScript(){return hasRequiredScript||(hasRequiredScript=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.script=void 0;var t=requireScript$1();Object.defineProperty(e,"script",{enumerable:!0,get:function(){return t.script}})}(script$1)),script$1}var smallop$1={},smallop={},hasRequiredSmallop$1,hasRequiredSmallop;function requireSmallop$1(){return hasRequiredSmallop$1||(hasRequiredSmallop$1=1,Object.defineProperty(smallop,"__esModule",{value:!0}),smallop.smallop=void 0,smallop.smallop={40:[.85,.349,.458],41:[.85,.349,.458],47:[.85,.349,.578],91:[.85,.349,.417],92:[.85,.349,.578],93:[.85,.349,.417],123:[.85,.349,.583],125:[.85,.349,.583],710:[.744,-.551,.556],732:[.722,-.597,.556],770:[.744,-.551,0],771:[.722,-.597,0],8214:[.602,0,.778],8260:[.85,.349,.578],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8730:[.85,.35,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[.805,.306,.472,{ic:.138}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8968:[.85,.349,.472],8969:[.85,.349,.472],8970:[.85,.349,.472],8971:[.85,.349,.472],9001:[.85,.35,.472],9002:[.85,.35,.472],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[.85,.35,.472],10217:[.85,.35,.472],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],12296:[.85,.35,.472],12297:[.85,.35,.472]}),smallop}function requireSmallop(){if(hasRequiredSmallop)return smallop$1;hasRequiredSmallop=1,Object.defineProperty(smallop$1,"__esModule",{value:!0}),smallop$1.smallop=void 0;var e=requireFontData(),t=requireSmallop$1();return smallop$1.smallop=(0,e.AddCSS)(t.smallop,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},10072:{c:"\\2223"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}}),smallop$1}var texCalligraphicBold$1={},texCalligraphicBold={},hasRequiredTexCalligraphicBold$1,hasRequiredTexCalligraphicBold;function requireTexCalligraphicBold$1(){return hasRequiredTexCalligraphicBold$1||(hasRequiredTexCalligraphicBold$1=1,Object.defineProperty(texCalligraphicBold,"__esModule",{value:!0}),texCalligraphicBold.texCalligraphicBold=void 0,texCalligraphicBold.texCalligraphicBold={65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}]}),texCalligraphicBold}function requireTexCalligraphicBold(){if(hasRequiredTexCalligraphicBold)return texCalligraphicBold$1;hasRequiredTexCalligraphicBold=1,Object.defineProperty(texCalligraphicBold$1,"__esModule",{value:!0}),texCalligraphicBold$1.texCalligraphicBold=void 0;var e=requireFontData(),t=requireTexCalligraphicBold$1();return texCalligraphicBold$1.texCalligraphicBold=(0,e.AddCSS)(t.texCalligraphicBold,{305:{f:"B"},567:{f:"B"}}),texCalligraphicBold$1}var texCalligraphic$1={},texCalligraphic={},hasRequiredTexCalligraphic$1,hasRequiredTexCalligraphic;function requireTexCalligraphic$1(){return hasRequiredTexCalligraphic$1||(hasRequiredTexCalligraphic$1=1,Object.defineProperty(texCalligraphic,"__esModule",{value:!0}),texCalligraphic.texCalligraphic=void 0,texCalligraphic.texCalligraphic={65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]}),texCalligraphic}function requireTexCalligraphic(){return hasRequiredTexCalligraphic||(hasRequiredTexCalligraphic=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.texCalligraphic=void 0;var t=requireTexCalligraphic$1();Object.defineProperty(e,"texCalligraphic",{enumerable:!0,get:function(){return t.texCalligraphic}})}(texCalligraphic$1)),texCalligraphic$1}var texMathit$1={},texMathit={},hasRequiredTexMathit$1,hasRequiredTexMathit;function requireTexMathit$1(){return hasRequiredTexMathit$1||(hasRequiredTexMathit$1=1,Object.defineProperty(texMathit,"__esModule",{value:!0}),texMathit.texMathit=void 0,texMathit.texMathit={65:[.716,0,.743],66:[.683,0,.704],67:[.705,.021,.716],68:[.683,0,.755],69:[.68,0,.678],70:[.68,0,.653],71:[.705,.022,.774],72:[.683,0,.743],73:[.683,0,.386],74:[.683,.021,.525],75:[.683,0,.769],76:[.683,0,.627],77:[.683,0,.897],78:[.683,0,.743],79:[.704,.022,.767],80:[.683,0,.678],81:[.704,.194,.767],82:[.683,.022,.729],83:[.705,.022,.562],84:[.677,0,.716],85:[.683,.022,.743],86:[.683,.022,.743],87:[.683,.022,.999],88:[.683,0,.743],89:[.683,0,.743],90:[.683,0,.613],97:[.442,.011,.511],98:[.694,.011,.46],99:[.441,.01,.46],100:[.694,.011,.511],101:[.442,.01,.46],102:[.705,.204,.307],103:[.442,.205,.46],104:[.694,.011,.511],105:[.656,.01,.307],106:[.656,.204,.307],107:[.694,.011,.46],108:[.694,.011,.256],109:[.442,.011,.818],110:[.442,.011,.562],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46],114:[.442,.011,.422],115:[.442,.011,.409],116:[.626,.011,.332],117:[.441,.011,.537],118:[.443,.01,.46],119:[.443,.011,.664],120:[.442,.011,.464],121:[.441,.205,.486],122:[.442,.011,.409]}),texMathit}function requireTexMathit(){return hasRequiredTexMathit||(hasRequiredTexMathit=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.texMathit=void 0;var t=requireTexMathit$1();Object.defineProperty(e,"texMathit",{enumerable:!0,get:function(){return t.texMathit}})}(texMathit$1)),texMathit$1}var texOldstyleBold$1={},texOldstyleBold={},hasRequiredTexOldstyleBold$1,hasRequiredTexOldstyleBold;function requireTexOldstyleBold$1(){return hasRequiredTexOldstyleBold$1||(hasRequiredTexOldstyleBold$1=1,Object.defineProperty(texOldstyleBold,"__esModule",{value:!0}),texOldstyleBold.texOldstyleBold=void 0,texOldstyleBold.texOldstyleBold={48:[.46,.017,.575],49:[.461,0,.575],50:[.46,0,.575],51:[.461,.211,.575],52:[.469,.194,.575],53:[.461,.211,.575],54:[.66,.017,.575],55:[.476,.211,.575],56:[.661,.017,.575],57:[.461,.21,.575],65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}]}),texOldstyleBold}function requireTexOldstyleBold(){return hasRequiredTexOldstyleBold||(hasRequiredTexOldstyleBold=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyleBold=void 0;var t=requireTexOldstyleBold$1();Object.defineProperty(e,"texOldstyleBold",{enumerable:!0,get:function(){return t.texOldstyleBold}})}(texOldstyleBold$1)),texOldstyleBold$1}var texOldstyle$1={},texOldstyle={},hasRequiredTexOldstyle$1,hasRequiredTexOldstyle;function requireTexOldstyle$1(){return hasRequiredTexOldstyle$1||(hasRequiredTexOldstyle$1=1,Object.defineProperty(texOldstyle,"__esModule",{value:!0}),texOldstyle.texOldstyle=void 0,texOldstyle.texOldstyle={48:[.452,.022,.5],49:[.453,0,.5],50:[.453,0,.5],51:[.452,.216,.5],52:[.464,.194,.5],53:[.453,.216,.5],54:[.665,.022,.5],55:[.463,.216,.5],56:[.666,.021,.5],57:[.453,.216,.5],65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]}),texOldstyle}function requireTexOldstyle(){return hasRequiredTexOldstyle||(hasRequiredTexOldstyle=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyle=void 0;var t=requireTexOldstyle$1();Object.defineProperty(e,"texOldstyle",{enumerable:!0,get:function(){return t.texOldstyle}})}(texOldstyle$1)),texOldstyle$1}var texSize3$1={},texSize3={},hasRequiredTexSize3$1,hasRequiredTexSize3;function requireTexSize3$1(){return hasRequiredTexSize3$1||(hasRequiredTexSize3$1=1,Object.defineProperty(texSize3,"__esModule",{value:!0}),texSize3.texSize3=void 0,texSize3.texSize3={40:[1.45,.949,.736],41:[1.45,.949,.736],47:[1.45,.949,1.044],91:[1.45,.949,.528],92:[1.45,.949,1.044],93:[1.45,.949,.528],123:[1.45,.949,.75],125:[1.45,.949,.75],710:[.772,-.564,1.444],732:[.749,-.61,1.444],770:[.772,-.564,0],771:[.749,-.61,0],8260:[1.45,.949,1.044],8730:[1.45,.95,1,{ic:.02}],8968:[1.45,.949,.583],8969:[1.45,.949,.583],8970:[1.45,.949,.583],8971:[1.45,.949,.583],9001:[1.45,.95,.75],9002:[1.45,.949,.75],10216:[1.45,.95,.75],10217:[1.45,.949,.75],12296:[1.45,.95,.75],12297:[1.45,.949,.75]}),texSize3}function requireTexSize3(){if(hasRequiredTexSize3)return texSize3$1;hasRequiredTexSize3=1,Object.defineProperty(texSize3$1,"__esModule",{value:!0}),texSize3$1.texSize3=void 0;var e=requireFontData(),t=requireTexSize3$1();return texSize3$1.texSize3=(0,e.AddCSS)(t.texSize3,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}}),texSize3$1}var texSize4$1={},texSize4={},hasRequiredTexSize4$1,hasRequiredTexSize4;function requireTexSize4$1(){return hasRequiredTexSize4$1||(hasRequiredTexSize4$1=1,Object.defineProperty(texSize4,"__esModule",{value:!0}),texSize4.texSize4=void 0,texSize4.texSize4={40:[1.75,1.249,.792],41:[1.75,1.249,.792],47:[1.75,1.249,1.278],91:[1.75,1.249,.583],92:[1.75,1.249,1.278],93:[1.75,1.249,.583],123:[1.75,1.249,.806],125:[1.75,1.249,.806],710:[.845,-.561,1.889,{ic:.013}],732:[.823,-.583,1.889],770:[.845,-.561,0,{ic:.013}],771:[.823,-.583,0],8260:[1.75,1.249,1.278],8730:[1.75,1.25,1,{ic:.02}],8968:[1.75,1.249,.639],8969:[1.75,1.249,.639],8970:[1.75,1.249,.639],8971:[1.75,1.249,.639],9001:[1.75,1.248,.806],9002:[1.75,1.248,.806],9115:[1.154,.655,.875],9116:[.61,.01,.875],9117:[1.165,.644,.875],9118:[1.154,.655,.875],9119:[.61,.01,.875],9120:[1.165,.644,.875],9121:[1.154,.645,.667],9122:[.602,0,.667],9123:[1.155,.644,.667],9124:[1.154,.645,.667],9125:[.602,0,.667],9126:[1.155,.644,.667],9127:[.899,.01,.889],9128:[1.16,.66,.889],9129:[.01,.899,.889],9130:[.29,.015,.889],9131:[.899,.01,.889],9132:[1.16,.66,.889],9133:[.01,.899,.889],9143:[.935,.885,1.056],10216:[1.75,1.248,.806],10217:[1.75,1.248,.806],12296:[1.75,1.248,.806],12297:[1.75,1.248,.806],57344:[.625,.014,1.056],57345:[.605,.014,1.056,{ic:.02}],57680:[.12,.213,.45,{ic:.01}],57681:[.12,.213,.45,{ic:.024}],57682:[.333,0,.45,{ic:.01}],57683:[.333,0,.45,{ic:.024}],57684:[.32,.2,.4,{ic:.01}],57685:[.333,0,.9,{ic:.01}],57686:[.12,.213,.9,{ic:.01}]}),texSize4}function requireTexSize4(){if(hasRequiredTexSize4)return texSize4$1;hasRequiredTexSize4=1,Object.defineProperty(texSize4$1,"__esModule",{value:!0}),texSize4$1.texSize4=void 0;var e=requireFontData(),t=requireTexSize4$1();return texSize4$1.texSize4=(0,e.AddCSS)(t.texSize4,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57685:{c:"\\E153\\E152"},57686:{c:"\\E151\\E150"}}),texSize4$1}var texVariant$1={},texVariant={},hasRequiredTexVariant$1,hasRequiredTexVariant;function requireTexVariant$1(){return hasRequiredTexVariant$1||(hasRequiredTexVariant$1=1,Object.defineProperty(texVariant,"__esModule",{value:!0}),texVariant.texVariant=void 0,texVariant.texVariant={710:[.845,-.561,2.333,{ic:.013}],732:[.899,-.628,2.333],770:[.845,-.561,0,{ic:.013}],771:[.899,-.628,0],1008:[.434,.006,.667,{ic:.067}],8463:[.695,.013,.54,{ic:.022}],8592:[.437,-.064,.5],8594:[.437,-.064,.5],8652:[.514,.014,1],8708:[.86,.166,.556],8709:[.587,0,.778],8722:[.27,-.23,.5],8726:[.43,.023,.778],8733:[.472,-.028,.778],8739:[.43,.023,.222],8740:[.43,.023,.222,{ic:.018}],8741:[.431,.023,.389],8742:[.431,.024,.389,{ic:.018}],8764:[.365,-.132,.778],8776:[.481,-.05,.778],8808:[.752,.284,.778],8809:[.752,.284,.778],8816:[.919,.421,.778],8817:[.919,.421,.778],8840:[.828,.33,.778],8841:[.828,.33,.778],8842:[.634,.255,.778],8843:[.634,.254,.778],8872:[.694,0,.611],8901:[.189,0,.278],8994:[.378,-.122,.778],8995:[.378,-.143,.778],9651:[.575,.02,.722],9661:[.576,.019,.722],10887:[.801,.303,.778],10888:[.801,.303,.778],10955:[.752,.332,.778],10956:[.752,.333,.778]}),texVariant}function requireTexVariant(){if(hasRequiredTexVariant)return texVariant$1;hasRequiredTexVariant=1,Object.defineProperty(texVariant$1,"__esModule",{value:!0}),texVariant$1.texVariant=void 0;var e=requireFontData(),t=requireTexVariant$1();return texVariant$1.texVariant=(0,e.AddCSS)(t.texVariant,{1008:{c:"\\E009"},8463:{f:""},8740:{c:"\\E006"},8742:{c:"\\E007"},8808:{c:"\\E00C"},8809:{c:"\\E00D"},8816:{c:"\\E011"},8817:{c:"\\E00E"},8840:{c:"\\E016"},8841:{c:"\\E018"},8842:{c:"\\E01A"},8843:{c:"\\E01B"},10887:{c:"\\E010"},10888:{c:"\\E00F"},10955:{c:"\\E017"},10956:{c:"\\E019"}}),texVariant$1}var delimiters$1={},hasRequiredDelimiters,hasRequiredTex$1,hasRequiredChtml;function requireDelimiters(){return hasRequiredDelimiters||(hasRequiredDelimiters=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.delimiters=e.VSIZES=e.HDW3=e.HDW2=e.HDW1=void 0;var t=requireFontData$1();e.HDW1=[.75,.25,.875],e.HDW2=[.85,.349,.667],e.HDW3=[.583,.082,.5],e.VSIZES=[1,1.2,1.8,2.4,3];var r={c:47,dir:t.V,sizes:e.VSIZES},n={c:175,dir:t.H,sizes:[.5],stretch:[0,175],HDW:[.59,-.544,.5]},i={c:710,dir:t.H,sizes:[.5,.556,1,1.444,1.889]},o={c:732,dir:t.H,sizes:[.5,.556,1,1.444,1.889]},a={c:8211,dir:t.H,sizes:[.5],stretch:[0,8211],HDW:[.285,-.248,.5]},s={c:8592,dir:t.H,sizes:[1],stretch:[8592,8722],HDW:e.HDW3},l={c:8594,dir:t.H,sizes:[1],stretch:[0,8722,8594],HDW:e.HDW3},c={c:8596,dir:t.H,sizes:[1],stretch:[8592,8722,8594],HDW:e.HDW3},u={c:8612,dir:t.H,stretch:[8592,8722,8739],HDW:e.HDW3,min:1.278},d={c:8614,dir:t.H,sizes:[1],stretch:[8739,8722,8594],HDW:e.HDW3},h={c:8656,dir:t.H,sizes:[1],stretch:[8656,61],HDW:e.HDW3},p={c:8658,dir:t.H,sizes:[1],stretch:[0,61,8658],HDW:e.HDW3},f={c:8660,dir:t.H,sizes:[1],stretch:[8656,61,8658],HDW:e.HDW3},m={c:8722,dir:t.H,sizes:[.778],stretch:[0,8722],HDW:e.HDW3},g={c:8739,dir:t.V,sizes:[1],stretch:[0,8739],HDW:[.627,.015,.333]},y={c:9180,dir:t.H,sizes:[.778,1],schar:[8994,8994],variants:[5,0],stretch:[57680,57684,57681],HDW:[.32,.2,.5]},b={c:9181,dir:t.H,sizes:[.778,1],schar:[8995,8995],variants:[5,0],stretch:[57682,57684,57683],HDW:[.32,.2,.5]},v={c:9182,dir:t.H,stretch:[57680,57684,57681,57685],HDW:[.32,.2,.5],min:1.8},x={c:9183,dir:t.H,stretch:[57682,57684,57683,57686],HDW:[.32,.2,.5],min:1.8},$={c:10216,dir:t.V,sizes:e.VSIZES},S={c:10217,dir:t.V,sizes:e.VSIZES},E={c:10502,dir:t.H,stretch:[8656,61,8739],HDW:e.HDW3,min:1.278},w={c:10503,dir:t.H,stretch:[8872,61,8658],HDW:e.HDW3,min:1.278};e.delimiters={40:{dir:t.V,sizes:e.VSIZES,stretch:[9115,9116,9117],HDW:[.85,.349,.875]},41:{dir:t.V,sizes:e.VSIZES,stretch:[9118,9119,9120],HDW:[.85,.349,.875]},45:m,47:r,61:{dir:t.H,sizes:[.778],stretch:[0,61],HDW:e.HDW3},91:{dir:t.V,sizes:e.VSIZES,stretch:[9121,9122,9123],HDW:e.HDW2},92:{dir:t.V,sizes:e.VSIZES},93:{dir:t.V,sizes:e.VSIZES,stretch:[9124,9125,9126],HDW:e.HDW2},94:i,95:a,123:{dir:t.V,sizes:e.VSIZES,stretch:[9127,9130,9129,9128],HDW:[.85,.349,.889]},124:{dir:t.V,sizes:[1],stretch:[0,8739],HDW:[.75,.25,.333]},125:{dir:t.V,sizes:e.VSIZES,stretch:[9131,9130,9133,9132],HDW:[.85,.349,.889]},126:o,175:n,710:i,713:n,732:o,770:i,771:o,818:a,8211:a,8212:a,8213:a,8214:{dir:t.V,sizes:[.602,1],schar:[0,8741],variants:[1,0],stretch:[0,8741],HDW:[.602,0,.556]},8215:a,8254:n,8407:l,8592:s,8593:{dir:t.V,sizes:[.888],stretch:[8593,9168],HDW:[.6,0,.667]},8594:l,8595:{dir:t.V,sizes:[.888],stretch:[0,9168,8595],HDW:[.6,0,.667]},8596:c,8597:{dir:t.V,sizes:[1.044],stretch:[8593,9168,8595],HDW:e.HDW1},8606:{dir:t.H,sizes:[1],stretch:[8606,8722],HDW:e.HDW3},8608:{dir:t.H,sizes:[1],stretch:[0,8722,8608],HDW:e.HDW3},8612:u,8613:{dir:t.V,stretch:[8593,9168,8869],HDW:e.HDW1,min:1.555},8614:d,8615:{dir:t.V,stretch:[8868,9168,8595],HDW:e.HDW1,min:1.555},8624:{dir:t.V,sizes:[.722],stretch:[8624,9168],HDW:e.HDW1},8625:{dir:t.V,sizes:[.722],stretch:[8625,9168],HDW:e.HDW1},8636:{dir:t.H,sizes:[1],stretch:[8636,8722],HDW:e.HDW3},8637:{dir:t.H,sizes:[1],stretch:[8637,8722],HDW:e.HDW3},8638:{dir:t.V,sizes:[.888],stretch:[8638,9168],HDW:e.HDW1},8639:{dir:t.V,sizes:[.888],stretch:[8639,9168],HDW:e.HDW1},8640:{dir:t.H,sizes:[1],stretch:[0,8722,8640],HDW:e.HDW3},8641:{dir:t.H,sizes:[1],stretch:[0,8722,8641],HDW:e.HDW3},8642:{dir:t.V,sizes:[.888],stretch:[0,9168,8642],HDW:e.HDW1},8643:{dir:t.V,sizes:[.888],stretch:[0,9168,8643],HDW:e.HDW1},8656:h,8657:{dir:t.V,sizes:[.888],stretch:[8657,8214],HDW:[.599,0,.778]},8658:p,8659:{dir:t.V,sizes:[.888],stretch:[0,8214,8659],HDW:[.6,0,.778]},8660:f,8661:{dir:t.V,sizes:[1.044],stretch:[8657,8214,8659],HDW:[.75,.25,.778]},8666:{dir:t.H,sizes:[1],stretch:[8666,8801],HDW:[.464,-.036,.5]},8667:{dir:t.H,sizes:[1],stretch:[0,8801,8667],HDW:[.464,-.036,.5]},8722:m,8725:r,8730:{dir:t.V,sizes:e.VSIZES,stretch:[57345,57344,9143],fullExt:[.65,2.3],HDW:[.85,.35,1.056]},8739:g,8741:{dir:t.V,sizes:[1],stretch:[0,8741],HDW:[.627,.015,.556]},8968:{dir:t.V,sizes:e.VSIZES,stretch:[9121,9122],HDW:e.HDW2},8969:{dir:t.V,sizes:e.VSIZES,stretch:[9124,9125],HDW:e.HDW2},8970:{dir:t.V,sizes:e.VSIZES,stretch:[0,9122,9123],HDW:e.HDW2},8971:{dir:t.V,sizes:e.VSIZES,stretch:[0,9125,9126],HDW:e.HDW2},8978:y,8994:y,8995:b,9001:$,9002:S,9130:{dir:t.V,sizes:[.32],stretch:[9130,9130,9130],HDW:[.29,.015,.889]},9135:a,9136:{dir:t.V,sizes:[.989],stretch:[9127,9130,9133],HDW:[.75,.25,.889]},9137:{dir:t.V,sizes:[.989],stretch:[9131,9130,9129],HDW:[.75,.25,.889]},9140:{dir:t.H,stretch:[9484,8722,9488],HDW:e.HDW3,min:1},9141:{dir:t.H,stretch:[9492,8722,9496],HDW:e.HDW3,min:1},9168:{dir:t.V,sizes:[.602,1],schar:[0,8739],variants:[1,0],stretch:[0,8739],HDW:[.602,0,.333]},9180:y,9181:b,9182:v,9183:x,9184:{dir:t.H,stretch:[714,713,715],HDW:[.59,-.544,.5],min:1},9185:{dir:t.H,stretch:[715,713,714],HDW:[.59,-.544,.5],min:1},9472:a,10072:g,10216:$,10217:S,10222:{dir:t.V,sizes:[.989],stretch:[9127,9130,9129],HDW:[.75,.25,.889]},10223:{dir:t.V,sizes:[.989],stretch:[9131,9130,9133],HDW:[.75,.25,.889]},10229:s,10230:l,10231:c,10232:h,10233:p,10234:f,10235:u,10236:d,10237:E,10238:w,10502:E,10503:w,10574:{dir:t.H,stretch:[8636,8722,8640],HDW:e.HDW3,min:2},10575:{dir:t.V,stretch:[8638,9168,8642],HDW:e.HDW1,min:1.776},10576:{dir:t.H,stretch:[8637,8722,8641],HDW:e.HDW3,min:2},10577:{dir:t.V,stretch:[8639,9168,8643],HDW:e.HDW1,min:.5},10586:{dir:t.H,stretch:[8636,8722,8739],HDW:e.HDW3,min:1.278},10587:{dir:t.H,stretch:[8739,8722,8640],HDW:e.HDW3,min:1.278},10588:{dir:t.V,stretch:[8638,9168,8869],HDW:e.HDW1,min:1.556},10589:{dir:t.V,stretch:[8868,9168,8642],HDW:e.HDW1,min:1.556},10590:{dir:t.H,stretch:[8637,8722,8739],HDW:e.HDW3,min:1.278},10591:{dir:t.H,stretch:[8739,8722,8641],HDW:e.HDW3,min:1.278},10592:{dir:t.V,stretch:[8639,9168,8869],HDW:e.HDW1,min:1.776},10593:{dir:t.V,stretch:[8868,9168,8643],HDW:e.HDW1,min:1.776},12296:$,12297:S,65079:v,65080:x}}(delimiters$1)),delimiters$1}function requireTex$1(){if(hasRequiredTex$1)return tex$2;hasRequiredTex$1=1;var e=tex$2&&tex$2.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=tex$2&&tex$2.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(tex$2,"__esModule",{value:!0}),tex$2.TeXFont=void 0;var r=requireFontData(),n=requireTex$2(),i=requireBoldItalic(),o=requireBold(),a=requireDoubleStruck(),s=requireFrakturBold(),l=requireFraktur(),c=requireItalic(),u=requireLargeop(),d=requireMonospace(),h=requireNormal(),p=requireSansSerifBoldItalic(),f=requireSansSerifBold(),m=requireSansSerifItalic(),g=requireSansSerif(),y=requireScriptBold(),b=requireScript(),v=requireSmallop(),x=requireTexCalligraphicBold(),$=requireTexCalligraphic(),S=requireTexMathit(),E=requireTexOldstyleBold(),w=requireTexOldstyle(),_=requireTexSize3(),M=requireTexSize4(),C=requireTexVariant(),T=requireDelimiters(),R=function(n){function R(){return null!==n&&n.apply(this,arguments)||this}return e(R,n),R.defaultCssFamilyPrefix="MJXZERO",R.defaultVariantClasses={normal:"mjx-n",bold:"mjx-b",italic:"mjx-i","bold-italic":"mjx-b mjx-i","double-struck":"mjx-ds mjx-b",fraktur:"mjx-fr","bold-fraktur":"mjx-fr mjx-b",script:"mjx-sc mjx-i","bold-script":"mjx-sc mjx-b mjx-i","sans-serif":"mjx-ss","bold-sans-serif":"mjx-ss mjx-b","sans-serif-italic":"mjx-ss mjx-i","sans-serif-bold-italic":"mjx-ss mjx-b mjx-i",monospace:"mjx-ty","-smallop":"mjx-sop","-largeop":"mjx-lop","-size3":"mjx-s3","-size4":"mjx-s4","-tex-calligraphic":"mjx-cal mjx-i","-tex-bold-calligraphic":"mjx-cal mjx-b","-tex-mathit":"mjx-mit mjx-i","-tex-oldstyle":"mjx-os","-tex-bold-oldstyle":"mjx-os mjx-b","-tex-variant":"mjx-var"},R.defaultVariantLetters={normal:"",bold:"B",italic:"MI","bold-italic":"BI","double-struck":"A",fraktur:"FR","bold-fraktur":"FRB",script:"SC","bold-script":"SCB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"T","-smallop":"S1","-largeop":"S2","-size3":"S3","-size4":"S4","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-mathit":"MI","-tex-oldstyle":"C","-tex-bold-oldstyle":"CB","-tex-variant":"A"},R.defaultDelimiters=T.delimiters,R.defaultChars={normal:h.normal,bold:o.bold,italic:c.italic,"bold-italic":i.boldItalic,"double-struck":a.doubleStruck,fraktur:l.fraktur,"bold-fraktur":s.frakturBold,script:b.script,"bold-script":y.scriptBold,"sans-serif":g.sansSerif,"bold-sans-serif":f.sansSerifBold,"sans-serif-italic":m.sansSerifItalic,"sans-serif-bold-italic":p.sansSerifBoldItalic,monospace:d.monospace,"-smallop":v.smallop,"-largeop":u.largeop,"-size3":_.texSize3,"-size4":M.texSize4,"-tex-calligraphic":$.texCalligraphic,"-tex-bold-calligraphic":x.texCalligraphicBold,"-tex-mathit":S.texMathit,"-tex-oldstyle":w.texOldstyle,"-tex-bold-oldstyle":E.texOldstyleBold,"-tex-variant":C.texVariant},R.defaultStyles=t(t({},r.CHTMLFontData.defaultStyles),{".MJX-TEX":{"font-family":"MJXZERO, MJXTEX"},".TEX-B":{"font-family":"MJXZERO, MJXTEX-B"},".TEX-I":{"font-family":"MJXZERO, MJXTEX-I"},".TEX-MI":{"font-family":"MJXZERO, MJXTEX-MI"},".TEX-BI":{"font-family":"MJXZERO, MJXTEX-BI"},".TEX-S1":{"font-family":"MJXZERO, MJXTEX-S1"},".TEX-S2":{"font-family":"MJXZERO, MJXTEX-S2"},".TEX-S3":{"font-family":"MJXZERO, MJXTEX-S3"},".TEX-S4":{"font-family":"MJXZERO, MJXTEX-S4"},".TEX-A":{"font-family":"MJXZERO, MJXTEX-A"},".TEX-C":{"font-family":"MJXZERO, MJXTEX-C"},".TEX-CB":{"font-family":"MJXZERO, MJXTEX-CB"},".TEX-FR":{"font-family":"MJXZERO, MJXTEX-FR"},".TEX-FRB":{"font-family":"MJXZERO, MJXTEX-FRB"},".TEX-SS":{"font-family":"MJXZERO, MJXTEX-SS"},".TEX-SSB":{"font-family":"MJXZERO, MJXTEX-SSB"},".TEX-SSI":{"font-family":"MJXZERO, MJXTEX-SSI"},".TEX-SC":{"font-family":"MJXZERO, MJXTEX-SC"},".TEX-T":{"font-family":"MJXZERO, MJXTEX-T"},".TEX-V":{"font-family":"MJXZERO, MJXTEX-V"},".TEX-VB":{"font-family":"MJXZERO, MJXTEX-VB"},"mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c":{"font-family":"MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important"}}),R.defaultFonts=t(t({},r.CHTMLFontData.defaultFonts),{"@font-face /* 1 */":{"font-family":"MJXTEX",src:'url("%%URL%%/MathJax_Main-Regular.woff") format("woff")'},"@font-face /* 2 */":{"font-family":"MJXTEX-B",src:'url("%%URL%%/MathJax_Main-Bold.woff") format("woff")'},"@font-face /* 3 */":{"font-family":"MJXTEX-I",src:'url("%%URL%%/MathJax_Math-Italic.woff") format("woff")'},"@font-face /* 4 */":{"font-family":"MJXTEX-MI",src:'url("%%URL%%/MathJax_Main-Italic.woff") format("woff")'},"@font-face /* 5 */":{"font-family":"MJXTEX-BI",src:'url("%%URL%%/MathJax_Math-BoldItalic.woff") format("woff")'},"@font-face /* 6 */":{"font-family":"MJXTEX-S1",src:'url("%%URL%%/MathJax_Size1-Regular.woff") format("woff")'},"@font-face /* 7 */":{"font-family":"MJXTEX-S2",src:'url("%%URL%%/MathJax_Size2-Regular.woff") format("woff")'},"@font-face /* 8 */":{"font-family":"MJXTEX-S3",src:'url("%%URL%%/MathJax_Size3-Regular.woff") format("woff")'},"@font-face /* 9 */":{"font-family":"MJXTEX-S4",src:'url("%%URL%%/MathJax_Size4-Regular.woff") format("woff")'},"@font-face /* 10 */":{"font-family":"MJXTEX-A",src:'url("%%URL%%/MathJax_AMS-Regular.woff") format("woff")'},"@font-face /* 11 */":{"font-family":"MJXTEX-C",src:'url("%%URL%%/MathJax_Calligraphic-Regular.woff") format("woff")'},"@font-face /* 12 */":{"font-family":"MJXTEX-CB",src:'url("%%URL%%/MathJax_Calligraphic-Bold.woff") format("woff")'},"@font-face /* 13 */":{"font-family":"MJXTEX-FR",src:'url("%%URL%%/MathJax_Fraktur-Regular.woff") format("woff")'},"@font-face /* 14 */":{"font-family":"MJXTEX-FRB",src:'url("%%URL%%/MathJax_Fraktur-Bold.woff") format("woff")'},"@font-face /* 15 */":{"font-family":"MJXTEX-SS",src:'url("%%URL%%/MathJax_SansSerif-Regular.woff") format("woff")'},"@font-face /* 16 */":{"font-family":"MJXTEX-SSB",src:'url("%%URL%%/MathJax_SansSerif-Bold.woff") format("woff")'},"@font-face /* 17 */":{"font-family":"MJXTEX-SSI",src:'url("%%URL%%/MathJax_SansSerif-Italic.woff") format("woff")'},"@font-face /* 18 */":{"font-family":"MJXTEX-SC",src:'url("%%URL%%/MathJax_Script-Regular.woff") format("woff")'},"@font-face /* 19 */":{"font-family":"MJXTEX-T",src:'url("%%URL%%/MathJax_Typewriter-Regular.woff") format("woff")'},"@font-face /* 20 */":{"font-family":"MJXTEX-V",src:'url("%%URL%%/MathJax_Vector-Regular.woff") format("woff")'},"@font-face /* 21 */":{"font-family":"MJXTEX-VB",src:'url("%%URL%%/MathJax_Vector-Bold.woff") format("woff")'}}),R}((0,n.CommonTeXFontMixin)(r.CHTMLFontData));return tex$2.TeXFont=R,tex$2}function requireChtml(){if(hasRequiredChtml)return chtml;hasRequiredChtml=1;var e=chtml&&chtml.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=chtml&&chtml.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=chtml&&chtml.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=chtml&&chtml.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=chtml&&chtml.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},o=chtml&&chtml.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(chtml,"__esModule",{value:!0}),chtml.CHTML=void 0;var a=requireOutputJax(),s=requireStyleList(),l=requireWrapperFactory(),c=requireUsage(),u=requireTex$1(),d=i(requireLengths()),h=requireString(),p=function(r){function n(e){void 0===e&&(e=null);var t=r.call(this,e,l.CHTMLWrapperFactory,u.TeXFont)||this;return t.chtmlStyles=null,t.font.adaptiveCSS(t.options.adaptiveCSS),t.wrapperUsage=new c.Usage,t}return e(n,r),n.prototype.escaped=function(e,t){return this.setDocument(t),this.html("span",{},[this.text(e.math)])},n.prototype.styleSheet=function(e){if(this.chtmlStyles){if(this.options.adaptiveCSS){var t=new s.CssStyles;this.addWrapperStyles(t),this.updateFontStyles(t),this.adaptor.insertRules(this.chtmlStyles,t.getStyleRules())}return this.chtmlStyles}var i=this.chtmlStyles=r.prototype.styleSheet.call(this,e);return this.adaptor.setAttribute(i,"id",n.STYLESHEETID),this.wrapperUsage.update(),i},n.prototype.updateFontStyles=function(e){e.addStyles(this.font.updateStyles({}))},n.prototype.addWrapperStyles=function(e){var t,n;if(this.options.adaptiveCSS)try{for(var i=o(this.wrapperUsage.update()),a=i.next();!a.done;a=i.next()){var s=a.value,l=this.factory.getNodeClass(s);l&&this.addClassStyles(l,e)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}else r.prototype.addWrapperStyles.call(this,e)},n.prototype.addClassStyles=function(e,t){var n,i=e;i.autoStyle&&"unknown"!==i.kind&&t.addStyles(((n={})["mjx-"+i.kind]={display:"inline-block","text-align":"left"},n)),this.wrapperUsage.add(i.kind),r.prototype.addClassStyles.call(this,e,t)},n.prototype.processMath=function(e,t){this.factory.wrap(e).toCHTML(t)},n.prototype.clearCache=function(){this.cssStyles.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null},n.prototype.reset=function(){this.clearCache()},n.prototype.unknownText=function(e,t,r){void 0===r&&(r=null);var n={},i=100/this.math.metrics.scale;if(100!==i&&(n["font-size"]=this.fixed(i,1)+"%",n.padding=d.em(75/i)+" 0 "+d.em(20/i)+" 0"),"-explicitFont"!==t){var o=(0,h.unicodeChars)(e);(1!==o.length||o[0]<119808||o[0]>120831)&&this.cssFontStyles(this.font.getCssFont(t),n)}if(null!==r){var a=this.math.metrics;n.width=Math.round(r*a.em*a.scale)+"px"}return this.html("mjx-utext",{variant:t,style:n},[this.text(e)])},n.prototype.measureTextNode=function(e){var t=this.adaptor,r=t.clone(e);t.setStyle(r,"font-family",t.getStyle(r,"font-family").replace(/MJXZERO, /g,""));var n=this.html("mjx-measure-text",{style:{position:"absolute","white-space":"nowrap"}},[r]);t.append(t.parent(this.math.start.node),this.container),t.append(this.container,n);var i=t.nodeSize(r,this.math.metrics.em)[0]/this.math.metrics.scale;return t.remove(this.container),t.remove(n),{w:i,h:.75,d:.2}},n.NAME="CHTML",n.OPTIONS=t(t({},a.CommonOutputJax.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),n.commonStyles={'mjx-container[jax="CHTML"]':{"line-height":0},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"},"_::-webkit-full-page-media, _:future, :root mjx-container":{"will-change":"opacity"}},n.STYLESHEETID="MJX-CHTML-styles",n}(a.CommonOutputJax);return chtml.CHTML=p,chtml}var assistiveMml={},SerializedMmlVisitor={},MmlVisitor={},MmlFactory={},NodeFactory$1={},hasRequiredNodeFactory$1;function requireNodeFactory$1(){if(hasRequiredNodeFactory$1)return NodeFactory$1;hasRequiredNodeFactory$1=1;var e=NodeFactory$1&&NodeFactory$1.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(NodeFactory$1,"__esModule",{value:!0}),NodeFactory$1.AbstractNodeFactory=void 0;var t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.create=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=[]),this.node[e](t,r)},r}(requireFactory().AbstractFactory);return NodeFactory$1.AbstractNodeFactory=t,NodeFactory$1}var MML={},mstyle={},hasRequiredMstyle;function requireMstyle(){if(hasRequiredMstyle)return mstyle;hasRequiredMstyle=1;var e=mstyle&&mstyle.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mstyle&&mstyle.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mstyle,"__esModule",{value:!0}),mstyle.MmlMstyle=void 0;var r=requireMmlNode(),n=requireAttributes(),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"mstyle"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"notParent",{get:function(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length},enumerable:!1,configurable:!0}),o.prototype.setChildInheritedAttributes=function(e,t,r,n){var i=this.attributes.getExplicit("scriptlevel");null!=i&&((i=i.toString()).match(/^\s*[-+]/)?r+=parseInt(i):r=parseInt(i),n=!1);var o=this.attributes.getExplicit("displaystyle");null!=o&&(t=!0===o,n=!1);var a=this.attributes.getExplicit("data-cramped");null!=a&&(n=a),e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(e,t,r,n)},o.defaults=t(t({},r.AbstractMmlLayoutNode.defaults),{scriptlevel:n.INHERIT,displaystyle:n.INHERIT,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",mathbackground:n.INHERIT,mathcolor:n.INHERIT,dir:n.INHERIT,infixlinebreakstyle:"before"}),o}(r.AbstractMmlLayoutNode);return mstyle.MmlMstyle=i,mstyle}var merror={},hasRequiredMerror;function requireMerror(){if(hasRequiredMerror)return merror;hasRequiredMerror=1;var e=merror&&merror.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=merror&&merror.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(merror,"__esModule",{value:!0}),merror.MmlMerror=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"merror"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),i.defaults=t({},r.AbstractMmlNode.defaults),i}(r.AbstractMmlNode);return merror.MmlMerror=n,merror}var mphantom={},hasRequiredMphantom;function requireMphantom(){if(hasRequiredMphantom)return mphantom;hasRequiredMphantom=1;var e=mphantom&&mphantom.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mphantom&&mphantom.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mphantom,"__esModule",{value:!0}),mphantom.MmlMphantom=void 0;var r=requireMmlNode(),n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=r.TEXCLASS.ORD,e}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"mphantom"},enumerable:!1,configurable:!0}),i.defaults=t({},r.AbstractMmlLayoutNode.defaults),i}(r.AbstractMmlLayoutNode);return mphantom.MmlMphantom=n,mphantom}var maligngroup={},hasRequiredMaligngroup;function requireMaligngroup(){if(hasRequiredMaligngroup)return maligngroup;hasRequiredMaligngroup=1;var e=maligngroup&&maligngroup.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=maligngroup&&maligngroup.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(maligngroup,"__esModule",{value:!0}),maligngroup.MmlMaligngroup=void 0;var r=requireMmlNode(),n=requireAttributes(),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return e(o,i),Object.defineProperty(o.prototype,"kind",{get:function(){return"maligngroup"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.setChildInheritedAttributes=function(e,t,r,n){e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),i.prototype.setChildInheritedAttributes.call(this,e,t,r,n)},o.defaults=t(t({},r.AbstractMmlLayoutNode.defaults),{groupalign:n.INHERIT}),o}(r.AbstractMmlLayoutNode);return maligngroup.MmlMaligngroup=i,maligngroup}var malignmark={},hasRequiredMalignmark;function requireMalignmark(){if(hasRequiredMalignmark)return malignmark;hasRequiredMalignmark=1;var e=malignmark&&malignmark.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=malignmark&&malignmark.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(malignmark,"__esModule",{value:!0}),malignmark.MmlMalignmark=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"malignmark"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),i.defaults=t(t({},r.AbstractMmlNode.defaults),{edge:"left"}),i}(r.AbstractMmlNode);return malignmark.MmlMalignmark=n,malignmark}var mathchoice={},hasRequiredMathchoice,hasRequiredMML,hasRequiredMmlFactory;function requireMathchoice(){if(hasRequiredMathchoice)return mathchoice;hasRequiredMathchoice=1;var e=mathchoice&&mathchoice.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=mathchoice&&mathchoice.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(mathchoice,"__esModule",{value:!0}),mathchoice.MathChoice=void 0;var r=requireMmlNode(),n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"MathChoice"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arity",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.setInheritedAttributes=function(e,t,r,n){var i=t?0:Math.max(0,Math.min(r,2))+1,o=this.childNodes[i]||this.factory.create("mrow");this.parent.replaceChild(o,this),o.setInheritedAttributes(e,t,r,n)},i.defaults=t({},r.AbstractMmlBaseNode.defaults),i}(r.AbstractMmlBaseNode);return mathchoice.MathChoice=n,mathchoice}function requireMML(){if(hasRequiredMML)return MML;var e;hasRequiredMML=1,Object.defineProperty(MML,"__esModule",{value:!0}),MML.MML=void 0;var t=requireMmlNode(),r=requireMath$1(),n=requireMi$1(),i=requireMn$1(),o=requireMo$1(),a=requireMtext$1(),s=requireMspace$1(),l=requireMs$1(),c=requireMrow$1(),u=requireMfrac$1(),d=requireMsqrt$1(),h=requireMroot$1(),p=requireMstyle(),f=requireMerror(),m=requireMpadded$1(),g=requireMphantom(),y=requireMfenced$1(),b=requireMenclose$1(),v=requireMaction$1(),x=requireMsubsup$1(),$=requireMunderover$1(),S=requireMmultiscripts$1(),E=requireMtable$1(),w=requireMtr$1(),_=requireMtd$1(),M=requireMaligngroup(),C=requireMalignmark(),T=requireMglyph$1(),R=requireSemantics$1(),O=requireTeXAtom$1(),k=requireMathchoice();return MML.MML=((e={})[r.MmlMath.prototype.kind]=r.MmlMath,e[n.MmlMi.prototype.kind]=n.MmlMi,e[i.MmlMn.prototype.kind]=i.MmlMn,e[o.MmlMo.prototype.kind]=o.MmlMo,e[a.MmlMtext.prototype.kind]=a.MmlMtext,e[s.MmlMspace.prototype.kind]=s.MmlMspace,e[l.MmlMs.prototype.kind]=l.MmlMs,e[c.MmlMrow.prototype.kind]=c.MmlMrow,e[c.MmlInferredMrow.prototype.kind]=c.MmlInferredMrow,e[u.MmlMfrac.prototype.kind]=u.MmlMfrac,e[d.MmlMsqrt.prototype.kind]=d.MmlMsqrt,e[h.MmlMroot.prototype.kind]=h.MmlMroot,e[p.MmlMstyle.prototype.kind]=p.MmlMstyle,e[f.MmlMerror.prototype.kind]=f.MmlMerror,e[m.MmlMpadded.prototype.kind]=m.MmlMpadded,e[g.MmlMphantom.prototype.kind]=g.MmlMphantom,e[y.MmlMfenced.prototype.kind]=y.MmlMfenced,e[b.MmlMenclose.prototype.kind]=b.MmlMenclose,e[v.MmlMaction.prototype.kind]=v.MmlMaction,e[x.MmlMsub.prototype.kind]=x.MmlMsub,e[x.MmlMsup.prototype.kind]=x.MmlMsup,e[x.MmlMsubsup.prototype.kind]=x.MmlMsubsup,e[$.MmlMunder.prototype.kind]=$.MmlMunder,e[$.MmlMover.prototype.kind]=$.MmlMover,e[$.MmlMunderover.prototype.kind]=$.MmlMunderover,e[S.MmlMmultiscripts.prototype.kind]=S.MmlMmultiscripts,e[S.MmlMprescripts.prototype.kind]=S.MmlMprescripts,e[S.MmlNone.prototype.kind]=S.MmlNone,e[E.MmlMtable.prototype.kind]=E.MmlMtable,e[w.MmlMlabeledtr.prototype.kind]=w.MmlMlabeledtr,e[w.MmlMtr.prototype.kind]=w.MmlMtr,e[_.MmlMtd.prototype.kind]=_.MmlMtd,e[M.MmlMaligngroup.prototype.kind]=M.MmlMaligngroup,e[C.MmlMalignmark.prototype.kind]=C.MmlMalignmark,e[T.MmlMglyph.prototype.kind]=T.MmlMglyph,e[R.MmlSemantics.prototype.kind]=R.MmlSemantics,e[R.MmlAnnotation.prototype.kind]=R.MmlAnnotation,e[R.MmlAnnotationXML.prototype.kind]=R.MmlAnnotationXML,e[O.TeXAtom.prototype.kind]=O.TeXAtom,e[k.MathChoice.prototype.kind]=k.MathChoice,e[t.TextNode.prototype.kind]=t.TextNode,e[t.XMLNode.prototype.kind]=t.XMLNode,e),MML}function requireMmlFactory(){if(hasRequiredMmlFactory)return MmlFactory;hasRequiredMmlFactory=1;var e=MmlFactory&&MmlFactory.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(MmlFactory,"__esModule",{value:!0}),MmlFactory.MmlFactory=void 0;var t=requireNodeFactory$1(),r=requireMML(),n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),Object.defineProperty(n.prototype,"MML",{get:function(){return this.node},enumerable:!1,configurable:!0}),n.defaultNodes=r.MML,n}(t.AbstractNodeFactory);return MmlFactory.MmlFactory=n,MmlFactory}var Visitor={},hasRequiredVisitor,hasRequiredMmlVisitor,hasRequiredSerializedMmlVisitor,hasRequiredAssistiveMml;function requireVisitor(){if(hasRequiredVisitor)return Visitor;hasRequiredVisitor=1;var e=Visitor&&Visitor.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=Visitor&&Visitor.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=Visitor&&Visitor.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(Visitor,"__esModule",{value:!0}),Visitor.AbstractVisitor=void 0;var n=requireNode(),i=function(){function i(t){var r,n;this.nodeHandlers=new Map;try{for(var o=e(t.getKinds()),a=o.next();!a.done;a=o.next()){var s=a.value,l=this[i.methodName(s)];l&&this.nodeHandlers.set(s,l)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}return i.methodName=function(e){return"visit"+(e.charAt(0).toUpperCase()+e.substr(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"},i.prototype.visitTree=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.visitNode.apply(this,r([e],t(n),!1))},i.prototype.visitNode=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.nodeHandlers.get(e.kind)||this.visitDefault;return o.call.apply(o,r([this,e],t(n),!1))},i.prototype.visitDefault=function(i){for(var o,a,s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(i instanceof n.AbstractNode)try{for(var c=e(i.childNodes),u=c.next();!u.done;u=c.next()){var d=u.value;this.visitNode.apply(this,r([d],t(s),!1))}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}},i.prototype.setNodeHandler=function(e,t){this.nodeHandlers.set(e,t)},i.prototype.removeNodeHandler=function(e){this.nodeHandlers.delete(e)},i}();return Visitor.AbstractVisitor=i,Visitor}function requireMmlVisitor(){if(hasRequiredMmlVisitor)return MmlVisitor;hasRequiredMmlVisitor=1;var e=MmlVisitor&&MmlVisitor.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(MmlVisitor,"__esModule",{value:!0}),MmlVisitor.MmlVisitor=void 0;var t=requireMmlFactory(),r=function(r){function n(e){return void 0===e&&(e=null),e||(e=new t.MmlFactory),r.call(this,e)||this}return e(n,r),n.prototype.visitTextNode=function(e){},n.prototype.visitXMLNode=function(e){},n}(requireVisitor().AbstractVisitor);return MmlVisitor.MmlVisitor=r,MmlVisitor}function requireSerializedMmlVisitor(){return hasRequiredSerializedMmlVisitor||(hasRequiredSerializedMmlVisitor=1,function(e){var t=SerializedMmlVisitor&&SerializedMmlVisitor.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=SerializedMmlVisitor&&SerializedMmlVisitor.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=SerializedMmlVisitor&&SerializedMmlVisitor.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.SerializedMmlVisitor=e.toEntity=e.DATAMJX=void 0;var i=requireMmlVisitor(),o=requireMmlNode(),a=requireMi$1();e.DATAMJX="data-mjx-";e.toEntity=function(e){return"&#x"+e.codePointAt(0).toString(16).toUpperCase()+";"};var s=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return t(s,i),s.prototype.visitTree=function(e){return this.visitNode(e,"")},s.prototype.visitTextNode=function(e,t){return this.quoteHTML(e.getText())},s.prototype.visitXMLNode=function(e,t){return t+e.getSerializedXML()},s.prototype.visitInferredMrowNode=function(e,t){var n,i,o=[];try{for(var a=r(e.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.visitNode(l,t))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o.join("\n")},s.prototype.visitTeXAtomNode=function(e,t){var r=this.childNodeMml(e,t+"  ","\n");return t+"<mrow"+this.getAttributes(e)+">"+(r.match(/\S/)?"\n"+r+t:"")+"</mrow>"},s.prototype.visitAnnotationNode=function(e,t){return t+"<annotation"+this.getAttributes(e)+">"+this.childNodeMml(e,"","")+"</annotation>"},s.prototype.visitDefault=function(e,t){var r=e.kind,i=n(e.isToken||0===e.childNodes.length?["",""]:["\n",t],2),o=i[0],a=i[1],s=this.childNodeMml(e,t+"  ",o);return t+"<"+r+this.getAttributes(e)+">"+(s.match(/\S/)?o+s+a:"")+"</"+r+">"},s.prototype.childNodeMml=function(e,t,n){var i,o,a="";try{for(var s=r(e.childNodes),l=s.next();!l.done;l=s.next()){var c=l.value;a+=this.visitNode(c,t)+n}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},s.prototype.getAttributes=function(e){var t,n,i=[],o=this.constructor.defaultAttributes[e.kind]||{},a=Object.assign({},o,this.getDataAttributes(e),e.attributes.getAllAttributes()),s=this.constructor.variants;a.hasOwnProperty("mathvariant")&&s.hasOwnProperty(a.mathvariant)&&(a.mathvariant=s[a.mathvariant]);try{for(var l=r(Object.keys(a)),c=l.next();!c.done;c=l.next()){var u=c.value,d=String(a[u]);void 0!==d&&i.push(u+'="'+this.quoteHTML(d)+'"')}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i.length?" "+i.join(" "):""},s.prototype.getDataAttributes=function(e){var t={},r=e.attributes.getExplicit("mathvariant"),n=this.constructor.variants;r&&n.hasOwnProperty(r)&&this.setDataAttribute(t,"variant",r),e.getProperty("variantForm")&&this.setDataAttribute(t,"alternate","1"),e.getProperty("pseudoscript")&&this.setDataAttribute(t,"pseudoscript","true"),!1===e.getProperty("autoOP")&&this.setDataAttribute(t,"auto-op","false");var i=e.getProperty("scriptalign");i&&this.setDataAttribute(t,"script-align",i);var s=e.getProperty("texClass");if(void 0!==s){var l=!0;if(s===o.TEXCLASS.OP&&e.isKind("mi")){var c=e.getText();l=!(c.length>1&&c.match(a.MmlMi.operatorName))}l&&this.setDataAttribute(t,"texclass",s<0?"NONE":o.TEXCLASSNAMES[s])}return e.getProperty("scriptlevel")&&!1===e.getProperty("useHeight")&&this.setDataAttribute(t,"smallmatrix","true"),t},s.prototype.setDataAttribute=function(t,r,n){t[e.DATAMJX+r]=n},s.prototype.quoteHTML=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,e.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,e.toEntity)},s.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},s.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}},s}(i.MmlVisitor);e.SerializedMmlVisitor=s}(SerializedMmlVisitor)),SerializedMmlVisitor}function requireAssistiveMml(){if(hasRequiredAssistiveMml)return assistiveMml;hasRequiredAssistiveMml=1;var e=assistiveMml&&assistiveMml.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=assistiveMml&&assistiveMml.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=assistiveMml&&assistiveMml.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=assistiveMml&&assistiveMml.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=assistiveMml&&assistiveMml.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(assistiveMml,"__esModule",{value:!0}),assistiveMml.AssistiveMmlHandler=assistiveMml.AssistiveMmlMathDocumentMixin=assistiveMml.AssistiveMmlMathItemMixin=assistiveMml.LimitedMmlVisitor=void 0;var o=requireMathItem(),a=requireSerializedMmlVisitor(),s=requireOptions(),l=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.getAttributes=function(e){return t.prototype.getAttributes.call(this,e).replace(/ ?id=".*?"/,"")},r}(a.SerializedMmlVisitor);function c(t){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.assistiveMml=function(e,t){if(void 0===t&&(t=!1),!(this.state()>=o.STATE.ASSISTIVEMML)){if(!this.isEscaped&&(e.options.enableAssistiveMml||t)){var r=e.adaptor,n=e.toMML(this.root).replace(/\n */g,"").replace(/<!--.*?-->/g,""),i=r.firstChild(r.body(r.parse(n,"text/html"))),a=r.node("mjx-assistive-mml",{unselectable:"on",display:this.display?"block":"inline"},[i]);r.setAttribute(r.firstChild(this.typesetRoot),"aria-hidden","true"),r.setStyle(this.typesetRoot,"position","relative"),r.append(this.typesetRoot,a)}this.state(o.STATE.ASSISTIVEMML)}},r}(t)}function u(a){var u;return u=function(t){function a(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=t.apply(this,n([],r(e),!1))||this,a=o.constructor,s=a.ProcessBits;return s.has("assistive-mml")||s.allocate("assistive-mml"),o.visitor=new l(o.mmlFactory),o.options.MathItem=c(o.options.MathItem),"addStyles"in o&&o.addStyles(a.assistiveStyles),o}return e(a,t),a.prototype.toMML=function(e){return this.visitor.visitTree(e)},a.prototype.assistiveMml=function(){var e,t;if(!this.processed.isSet("assistive-mml")){try{for(var r=i(this.math),n=r.next();!n.done;n=r.next()){n.value.assistiveMml(this)}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.processed.set("assistive-mml")}return this},a.prototype.state=function(e,r){return void 0===r&&(r=!1),t.prototype.state.call(this,e,r),e<o.STATE.ASSISTIVEMML&&this.processed.clear("assistive-mml"),this},a}(a),u.OPTIONS=t(t({},a.OPTIONS),{enableAssistiveMml:!0,renderActions:(0,s.expandable)(t(t({},a.OPTIONS.renderActions),{assistiveMml:[o.STATE.ASSISTIVEMML]}))}),u.assistiveStyles={"mjx-assistive-mml":{position:"absolute !important",top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)",padding:"1px 0px 0px 0px !important",border:"0px !important",display:"block !important",width:"auto !important",overflow:"hidden !important","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},'mjx-assistive-mml[display="block"]':{width:"100% !important"}},u}return assistiveMml.LimitedMmlVisitor=l,(0,o.newState)("ASSISTIVEMML",153),assistiveMml.AssistiveMmlMathItemMixin=c,assistiveMml.AssistiveMmlMathDocumentMixin=u,assistiveMml.AssistiveMmlHandler=function(e){return e.documentClass=u(e.documentClass),e},assistiveMml}var html={},mathjax={},version$1={},hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,Object.defineProperty(version$1,"__esModule",{value:!0}),version$1.VERSION=void 0,version$1.VERSION="3.2.2"),version$1}var HandlerList={},hasRequiredHandlerList;function requireHandlerList(){if(hasRequiredHandlerList)return HandlerList;hasRequiredHandlerList=1;var e=HandlerList&&HandlerList.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=HandlerList&&HandlerList.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(HandlerList,"__esModule",{value:!0}),HandlerList.HandlerList=void 0;var r=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.register=function(e){return this.add(e,e.priority)},n.prototype.unregister=function(e){this.remove(e)},n.prototype.handlesDocument=function(e){var r,n;try{for(var i=t(this),o=i.next();!o.done;o=i.next()){var a=o.value.item;if(a.handlesDocument(e))return a}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Error("Can't find handler for document")},n.prototype.document=function(e,t){return void 0===t&&(t=null),this.handlesDocument(e).create(e,t)},n}(requirePrioritizedList().PrioritizedList);return HandlerList.HandlerList=r,HandlerList}var Retries={},hasRequiredRetries,hasRequiredMathjax;function requireRetries(){if(hasRequiredRetries)return Retries;return hasRequiredRetries=1,Object.defineProperty(Retries,"__esModule",{value:!0}),Retries.retryAfter=Retries.handleRetriesFor=void 0,Retries.handleRetriesFor=function(e){return new Promise(function t(r,n){try{r(e())}catch(i){i.retry&&i.retry instanceof Promise?i.retry.then(function(){return t(r,n)}).catch(function(e){return n(e)}):i.restart&&i.restart.isCallback?MathJax.Callback.After(function(){return t(r,n)},i.restart):n(i)}})},Retries.retryAfter=function(e){var t=new Error("MathJax retry");throw t.retry=e,t},Retries}function requireMathjax(){return hasRequiredMathjax||(hasRequiredMathjax=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mathjax=void 0;var t=requireVersion(),r=requireHandlerList(),n=requireRetries();e.mathjax={version:t.VERSION,handlers:new r.HandlerList,document:function(t,r){return e.mathjax.handlers.document(t,r)},handleRetriesFor:n.handleRetriesFor,retryAfter:n.retryAfter,asyncLoad:null}}(mathjax)),mathjax}var HTMLHandler={},Handler={},MathDocument={},InputJax={},hasRequiredInputJax;function requireInputJax(){if(hasRequiredInputJax)return InputJax;hasRequiredInputJax=1,Object.defineProperty(InputJax,"__esModule",{value:!0}),InputJax.AbstractInputJax=void 0;var e=requireOptions(),t=requireFunctionList(),r=function(){function r(r){void 0===r&&(r={}),this.adaptor=null,this.mmlFactory=null;var n=this.constructor;this.options=(0,e.userOptions)((0,e.defaultOptions)({},n.OPTIONS),r),this.preFilters=new t.FunctionList,this.postFilters=new t.FunctionList}return Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),r.prototype.setAdaptor=function(e){this.adaptor=e},r.prototype.setMmlFactory=function(e){this.mmlFactory=e},r.prototype.initialize=function(){},r.prototype.reset=function(){},Object.defineProperty(r.prototype,"processStrings",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.findMath=function(e,t){return[]},r.prototype.executeFilters=function(e,t,r,n){var i={math:t,document:r,data:n};return e.execute(i),i.data},r.NAME="generic",r.OPTIONS={},r}();return InputJax.AbstractInputJax=r,InputJax}var MathList={},LinkedList={},hasRequiredLinkedList,hasRequiredMathList;function requireLinkedList(){return hasRequiredLinkedList||(hasRequiredLinkedList=1,function(e){var t=LinkedList&&LinkedList.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},r=LinkedList&&LinkedList.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=LinkedList&&LinkedList.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=LinkedList&&LinkedList.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=e.ListItem=e.END=void 0,e.END=Symbol();var o=function(){return function(e){void 0===e&&(e=null),this.next=null,this.prev=null,this.data=e}}();e.ListItem=o;var a=function(){function a(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.list=new o(e.END),this.list.next=this.list.prev=this.list,this.push.apply(this,n([],r(t),!1))}return a.prototype.isBefore=function(e,t){return e<t},a.prototype.push=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var a=i(r),s=a.next();!s.done;s=a.next()){var l=s.value,c=new o(l);c.next=this.list,c.prev=this.list.prev,this.list.prev=c,c.prev.next=c}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this},a.prototype.pop=function(){var t=this.list.prev;return t.data===e.END?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)},a.prototype.unshift=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var a=i(r.slice(0).reverse()),s=a.next();!s.done;s=a.next()){var l=s.value,c=new o(l);c.next=this.list.next,c.prev=this.list,this.list.next=c,c.next.prev=c}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this},a.prototype.shift=function(){var t=this.list.next;return t.data===e.END?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)},a.prototype.remove=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=new Map;try{for(var s=i(n),l=s.next();!l.done;l=s.next()){var c=l.value;a.set(c,!0)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var u=this.list.next;u.data!==e.END;){var d=u.next;a.has(u.data)&&(u.prev.next=u.next,u.next.prev=u.prev,u.next=u.prev=null),u=d}},a.prototype.clear=function(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this},a.prototype[Symbol.iterator]=function(){var r;return t(this,function(t){switch(t.label){case 0:r=this.list.next,t.label=1;case 1:return r.data===e.END?[3,3]:[4,r.data];case 2:return t.sent(),r=r.next,[3,1];case 3:return[2]}})},a.prototype.reversed=function(){var r;return t(this,function(t){switch(t.label){case 0:r=this.list.prev,t.label=1;case 1:return r.data===e.END?[3,3]:[4,r.data];case 2:return t.sent(),r=r.prev,[3,1];case 3:return[2]}})},a.prototype.insert=function(t,r){void 0===r&&(r=null),null===r&&(r=this.isBefore.bind(this));for(var n=new o(t),i=this.list.next;i.data!==e.END&&r(i.data,n.data);)i=i.next;return n.prev=i.prev,n.next=i,i.prev.next=i.prev=n,this},a.prototype.sort=function(e){var t,r;void 0===e&&(e=null),null===e&&(e=this.isBefore.bind(this));var n=[];try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var l=s.value;n.push(new a(l))}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}for(this.list.next=this.list.prev=this.list;n.length>1;){var c=n.shift(),u=n.shift();c.merge(u,e),n.push(c)}return n.length&&(this.list=n[0].list),this},a.prototype.merge=function(t,n){var i,o,a,s,l;void 0===n&&(n=null),null===n&&(n=this.isBefore.bind(this));for(var c=this.list.next,u=t.list.next;c.data!==e.END&&u.data!==e.END;)n(u.data,c.data)?(i=r([c,u],2),u.prev.next=i[0],c.prev.next=i[1],o=r([c.prev,u.prev],2),u.prev=o[0],c.prev=o[1],a=r([t.list,this.list],2),this.list.prev.next=a[0],t.list.prev.next=a[1],s=r([t.list.prev,this.list.prev],2),this.list.prev=s[0],t.list.prev=s[1],c=(l=r([u.next,c],2))[0],u=l[1]):c=c.next;return u.data!==e.END&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this},a}();e.LinkedList=a}(LinkedList)),LinkedList}function requireMathList(){if(hasRequiredMathList)return MathList;hasRequiredMathList=1;var e=MathList&&MathList.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(MathList,"__esModule",{value:!0}),MathList.AbstractMathList=void 0;var t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.isBefore=function(e,t){return e.start.i<t.start.i||e.start.i===t.start.i&&e.start.n<t.start.n},r}(requireLinkedList().LinkedList);return MathList.AbstractMathList=t,MathList}var BitField={},hasRequiredBitField,hasRequiredMathDocument,hasRequiredHandler;function requireBitField(){if(hasRequiredBitField)return BitField;hasRequiredBitField=1;var e=BitField&&BitField.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=BitField&&BitField.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=BitField&&BitField.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=BitField&&BitField.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(BitField,"__esModule",{value:!0}),BitField.BitFieldClass=BitField.BitField=void 0;var i=function(){function e(){this.bits=0}return e.allocate=function(){for(var r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=t(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(this.has(l))throw new Error("Bit already allocated for "+l);if(this.next===e.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(l,this.next),this.next<<=1}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.has=function(e){return this.names.has(e)},e.prototype.set=function(e){this.bits|=this.getBit(e)},e.prototype.clear=function(e){this.bits&=~this.getBit(e)},e.prototype.isSet=function(e){return!!(this.bits&this.getBit(e))},e.prototype.reset=function(){this.bits=0},e.prototype.getBit=function(e){var t=this.constructor.names.get(e);if(!t)throw new Error("Unknown bit-field name: "+e);return t},e.MAXBIT=1<<31,e.next=1,e.names=new Map,e}();return BitField.BitField=i,BitField.BitFieldClass=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r}(i);return a.allocate.apply(a,n([],r(t),!1)),a},BitField}function requireMathDocument(){return hasRequiredMathDocument||(hasRequiredMathDocument=1,function(e){var t=MathDocument&&MathDocument.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=MathDocument&&MathDocument.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=MathDocument&&MathDocument.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=MathDocument&&MathDocument.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMathDocument=e.resetAllOptions=e.resetOptions=e.RenderList=void 0;var o=requireOptions(),a=requireInputJax(),s=requireOutputJax$1(),l=requireMathList(),c=requireMathItem(),u=requireMmlFactory(),d=requireBitField(),h=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.create=function(e){var t,i,o=new this;try{for(var a=r(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=n(this.action(l,e[l]),2),u=c[0],d=c[1];d&&o.add(u,d)}}catch(h){t={error:h}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return o},i.action=function(e,t){var r,i,o,a,s,l,c=!0,u=t[0];if(1===t.length||"boolean"==typeof t[1])2===t.length&&(c=t[1]),s=(r=n(this.methodActions(e),2))[0],l=r[1];else if("string"==typeof t[1])if("string"==typeof t[2]){4===t.length&&(c=t[3]);var d=n(t.slice(1),2),h=d[0],p=d[1];s=(i=n(this.methodActions(h,p),2))[0],l=i[1]}else 3===t.length&&(c=t[2]),s=(o=n(this.methodActions(t[1]),2))[0],l=o[1];else 4===t.length&&(c=t[3]),s=(a=n(t.slice(1),2))[0],l=a[1];return[{id:e,renderDoc:s,renderMath:l,convert:c},u]},i.methodActions=function(e,t){return void 0===t&&(t=e),[function(t){return e&&t[e](),!1},function(e,r){return t&&e[t](r),!1}]},i.prototype.renderDoc=function(e,t){var n,i;void 0===t&&(t=c.STATE.UNPROCESSED);try{for(var o=r(this.items),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.priority>=t&&s.item.renderDoc(e))return}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},i.prototype.renderMath=function(e,t,n){var i,o;void 0===n&&(n=c.STATE.UNPROCESSED);try{for(var a=r(this.items),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.priority>=n&&l.item.renderMath(e,t))return}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},i.prototype.renderConvert=function(e,t,n){var i,o;void 0===n&&(n=c.STATE.LAST);try{for(var a=r(this.items),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.priority>n)return;if(l.item.convert&&l.item.renderMath(e,t))return}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},i.prototype.findID=function(e){var t,n;try{for(var i=r(this.items),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.item.id===e)return a.item}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},i}(requirePrioritizedList().PrioritizedList);e.RenderList=h,e.resetOptions={all:!1,processed:!1,inputJax:null,outputJax:null},e.resetAllOptions={all:!0,processed:!0,inputJax:[],outputJax:[]};var p=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r.prototype.compile=function(e){return null},r}(a.AbstractInputJax),f=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r.prototype.typeset=function(e,t){return null},r.prototype.escaped=function(e,t){return null},r}(s.AbstractOutputJax),m=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(l.AbstractMathList),g=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(c.AbstractMathItem),y=function(){function t(e,r,n){var i=this,a=this.constructor;this.document=e,this.options=(0,o.userOptions)((0,o.defaultOptions)({},a.OPTIONS),n),this.math=new(this.options.MathList||m),this.renderActions=h.create(this.options.renderActions),this.processed=new t.ProcessBits,this.outputJax=this.options.OutputJax||new f;var s=this.options.InputJax||[new p];Array.isArray(s)||(s=[s]),this.inputJax=s,this.adaptor=r,this.outputJax.setAdaptor(r),this.inputJax.map(function(e){return e.setAdaptor(r)}),this.mmlFactory=this.options.MmlFactory||new u.MmlFactory,this.inputJax.map(function(e){return e.setMmlFactory(i.mmlFactory)}),this.outputJax.initialize(),this.inputJax.map(function(e){return e.initialize()})}return Object.defineProperty(t.prototype,"kind",{get:function(){return this.constructor.KIND},enumerable:!1,configurable:!0}),t.prototype.addRenderAction=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=n(h.action(e,t),2),o=i[0],a=i[1];this.renderActions.add(o,a)},t.prototype.removeRenderAction=function(e){var t=this.renderActions.findID(e);t&&this.renderActions.remove(t)},t.prototype.render=function(){return this.renderActions.renderDoc(this),this},t.prototype.rerender=function(e){return void 0===e&&(e=c.STATE.RERENDER),this.state(e-1),this.render(),this},t.prototype.convert=function(e,t){void 0===t&&(t={});var r=(0,o.userOptions)({format:this.inputJax[0].name,display:!0,end:c.STATE.LAST,em:16,ex:8,containerWidth:null,lineWidth:1e6,scale:1,family:""},t),n=r.format,i=r.display,a=r.end,s=r.ex,l=r.em,u=r.containerWidth,d=r.lineWidth,h=r.scale,p=r.family;null===u&&(u=80*s);var f=this.inputJax.reduce(function(e,t){return t.name===n?t:e},null),m=new this.options.MathItem(e,f,i);return m.start.node=this.adaptor.body(this.document),m.setMetrics(l,s,u,d,h),this.outputJax.options.mtextInheritFont&&(m.outputData.mtextFamily=p),this.outputJax.options.merrorInheritFont&&(m.outputData.merrorFamily=p),m.convert(this,a),m.typesetRoot||m.root},t.prototype.findMath=function(e){return this.processed.set("findMath"),this},t.prototype.compile=function(){var e,t,n,i;if(!this.processed.isSet("compile")){var o=[];try{for(var a=r(this.math),s=a.next();!s.done;s=a.next()){var l=s.value;this.compileMath(l),void 0!==l.inputData.recompile&&o.push(l)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}try{for(var c=r(o),u=c.next();!u.done;u=c.next()){var d=(l=u.value).inputData.recompile;l.state(d.state),l.inputData.recompile=d,this.compileMath(l)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.processed.set("compile")}return this},t.prototype.compileMath=function(e){try{e.compile(this)}catch(t){if(t.retry||t.restart)throw t;this.options.compileError(this,e,t),e.inputData.error=t}},t.prototype.compileError=function(e,t){e.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":t.message,title:t.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),e.display&&e.root.attributes.set("display","block"),e.inputData.error=t.message},t.prototype.typeset=function(){var e,t;if(!this.processed.isSet("typeset")){try{for(var n=r(this.math),i=n.next();!i.done;i=n.next()){var o=i.value;try{o.typeset(this)}catch(a){if(a.retry||a.restart)throw a;this.options.typesetError(this,o,a),o.outputData.error=a}}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.processed.set("typeset")}return this},t.prototype.typesetError=function(e,t){e.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":t.message,title:t.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),e.display&&this.adaptor.setAttributes(e.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),e.outputData.error=t.message},t.prototype.getMetrics=function(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this},t.prototype.updateDocument=function(){var e,t;if(!this.processed.isSet("updateDocument")){try{for(var n=r(this.math.reversed()),i=n.next();!i.done;i=n.next()){i.value.updateDocument(this)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.processed.set("updateDocument")}return this},t.prototype.removeFromDocument=function(e){return this},t.prototype.state=function(e,t){var n,i;void 0===t&&(t=!1);try{for(var o=r(this.math),a=o.next();!a.done;a=o.next()){a.value.state(e,t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e<c.STATE.INSERTED&&this.processed.clear("updateDocument"),e<c.STATE.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),e<c.STATE.COMPILED&&this.processed.clear("compile"),this},t.prototype.reset=function(t){var r;return void 0===t&&(t={processed:!0}),(t=(0,o.userOptions)(Object.assign({},e.resetOptions),t)).all&&Object.assign(t,e.resetAllOptions),t.processed&&this.processed.reset(),t.inputJax&&this.inputJax.forEach(function(e){return e.reset.apply(e,i([],n(t.inputJax),!1))}),t.outputJax&&(r=this.outputJax).reset.apply(r,i([],n(t.outputJax),!1)),this},t.prototype.clear=function(){return this.reset(),this.math.clear(),this},t.prototype.concat=function(e){return this.math.merge(e),this},t.prototype.clearMathItemsWithin=function(e){var t,r=this.getMathItemsWithin(e);return(t=this.math).remove.apply(t,i([],n(r),!1)),r},t.prototype.getMathItemsWithin=function(e){var t,n,i,o;Array.isArray(e)||(e=[e]);var a=this.adaptor,s=[],l=a.getElements(e,this.document);try{e:for(var c=r(this.math),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(i=void 0,r(l)),p=h.next();!p.done;p=h.next()){var f=p.value;if(d.start.node&&a.contains(f,d.start.node)){s.push(d);continue e}}}catch(m){i={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(g){t={error:g}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s},t.KIND="MathDocument",t.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:m,MathItem:g,compileError:function(e,t,r){e.compileError(t,r)},typesetError:function(e,t,r){e.typesetError(t,r)},renderActions:(0,o.expandable)({find:[c.STATE.FINDMATH,"findMath","",!1],compile:[c.STATE.COMPILED],metrics:[c.STATE.METRICS,"getMetrics","",!1],typeset:[c.STATE.TYPESET],update:[c.STATE.INSERTED,"updateDocument",!1]})},t.ProcessBits=(0,d.BitFieldClass)("findMath","compile","getMetrics","typeset","updateDocument"),t}();e.AbstractMathDocument=y}(MathDocument)),MathDocument}function requireHandler(){if(hasRequiredHandler)return Handler;hasRequiredHandler=1;var e=Handler&&Handler.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Handler,"__esModule",{value:!0}),Handler.AbstractHandler=void 0;var t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r}(requireMathDocument().AbstractMathDocument),r=function(){function e(e,r){void 0===r&&(r=5),this.documentClass=t,this.adaptor=e,this.priority=r}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),e.prototype.handlesDocument=function(e){return!1},e.prototype.create=function(e,t){return new this.documentClass(e,this.adaptor,t)},e.NAME="generic",e}();return Handler.AbstractHandler=r,Handler}var HTMLDocument={},HTMLMathItem={},hasRequiredHTMLMathItem;function requireHTMLMathItem(){if(hasRequiredHTMLMathItem)return HTMLMathItem;hasRequiredHTMLMathItem=1;var e=HTMLMathItem&&HTMLMathItem.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(HTMLMathItem,"__esModule",{value:!0}),HTMLMathItem.HTMLMathItem=void 0;var t=requireMathItem(),r=function(r){function n(e,t,n,i,o){return void 0===n&&(n=!0),void 0===i&&(i={node:null,n:0,delim:""}),void 0===o&&(o={node:null,n:0,delim:""}),r.call(this,e,t,n,i,o)||this}return e(n,r),Object.defineProperty(n.prototype,"adaptor",{get:function(){return this.inputJax.adaptor},enumerable:!1,configurable:!0}),n.prototype.updateDocument=function(e){if(this.state()<t.STATE.INSERTED){if(this.inputJax.processStrings){var r=this.start.node;if(r===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(r=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,r);else{for(this.start.n&&(r=this.adaptor.split(r,this.start.n));r!==this.end.node;){var n=this.adaptor.next(r);this.adaptor.remove(r),r=n}this.adaptor.insert(this.typesetRoot,r),this.end.n<this.adaptor.value(r).length&&this.adaptor.split(r,this.end.n),this.adaptor.remove(r)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(t.STATE.INSERTED)}},n.prototype.updateStyleSheet=function(e){e.addStyleSheet()},n.prototype.removeFromDocument=function(e){if(void 0===e&&(e=!1),this.state()>=t.STATE.TYPESET){var r=this.adaptor,n=this.start.node,i=r.text("");if(e){var o=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)i=r.text(o);else{var a=r.parse(o,"text/html");i=r.firstChild(r.body(a))}}r.parent(n)&&r.replace(i,n),this.start.node=this.end.node=i,this.start.n=this.end.n=0}},n}(t.AbstractMathItem);return HTMLMathItem.HTMLMathItem=r,HTMLMathItem}var HTMLMathList={},hasRequiredHTMLMathList;function requireHTMLMathList(){if(hasRequiredHTMLMathList)return HTMLMathList;hasRequiredHTMLMathList=1;var e=HTMLMathList&&HTMLMathList.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(HTMLMathList,"__esModule",{value:!0}),HTMLMathList.HTMLMathList=void 0;var t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r}(requireMathList().AbstractMathList);return HTMLMathList.HTMLMathList=t,HTMLMathList}var HTMLDomStrings={},hasRequiredHTMLDomStrings,hasRequiredHTMLDocument,hasRequiredHTMLHandler,hasRequiredHtml;function requireHTMLDomStrings(){if(hasRequiredHTMLDomStrings)return HTMLDomStrings;hasRequiredHTMLDomStrings=1;var e=HTMLDomStrings&&HTMLDomStrings.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(HTMLDomStrings,"__esModule",{value:!0}),HTMLDomStrings.HTMLDomStrings=void 0;var t=requireOptions(),r=function(){function r(e){void 0===e&&(e=null);var r=this.constructor;this.options=(0,t.userOptions)((0,t.defaultOptions)({},r.OPTIONS),e),this.init(),this.getPatterns()}return r.prototype.init=function(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]},r.prototype.getPatterns=function(){var e=(0,t.makeArray)(this.options.skipHtmlTags),r=(0,t.makeArray)(this.options.ignoreHtmlClass),n=(0,t.makeArray)(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+e.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+r.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+n+")(?: |$)")},r.prototype.pushString=function(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]},r.prototype.extendString=function(e,t){this.snodes.push([e,t.length]),this.string+=t},r.prototype.handleText=function(e,t){return t||this.extendString(e,this.adaptor.value(e)),this.adaptor.next(e)},r.prototype.handleTag=function(e,t){if(!t){var r=this.options.includeHtmlTags[this.adaptor.kind(e)];this.extendString(e,r)}return this.adaptor.next(e)},r.prototype.handleContainer=function(e,t){this.pushString();var r=this.adaptor.getAttribute(e,"class")||"",n=this.adaptor.kind(e)||"",i=this.processHtmlClass.exec(r),o=e;return!this.adaptor.firstChild(e)||this.adaptor.getAttribute(e,"data-MJX")||!i&&this.skipHtmlTags.exec(n)?o=this.adaptor.next(e):(this.adaptor.next(e)&&this.stack.push([this.adaptor.next(e),t]),o=this.adaptor.firstChild(e),t=(t||this.ignoreHtmlClass.exec(r))&&!i),[o,t]},r.prototype.handleOther=function(e,t){return this.pushString(),this.adaptor.next(e)},r.prototype.find=function(t){var r,n;this.init();for(var i=this.adaptor.next(t),o=!1,a=this.options.includeHtmlTags;t&&t!==i;){var s=this.adaptor.kind(t);"#text"===s?t=this.handleText(t,o):a.hasOwnProperty(s)?t=this.handleTag(t,o):s?(t=(r=e(this.handleContainer(t,o),2))[0],o=r[1]):t=this.handleOther(t,o),!t&&this.stack.length&&(this.pushString(),t=(n=e(this.stack.pop(),2))[0],o=n[1])}this.pushString();var l=[this.strings,this.nodes];return this.init(),l},r.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"],includeHtmlTags:{br:"\n",wbr:"","#comment":""},ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},r}();return HTMLDomStrings.HTMLDomStrings=r,HTMLDomStrings}function requireHTMLDocument(){if(hasRequiredHTMLDocument)return HTMLDocument;hasRequiredHTMLDocument=1;var e=HTMLDocument&&HTMLDocument.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=HTMLDocument&&HTMLDocument.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=HTMLDocument&&HTMLDocument.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=HTMLDocument&&HTMLDocument.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(HTMLDocument,"__esModule",{value:!0}),HTMLDocument.HTMLDocument=void 0;var i=requireMathDocument(),o=requireOptions(),a=requireHTMLMathItem(),s=requireHTMLMathList(),l=requireHTMLDomStrings(),c=requireMathItem(),u=function(u){function d(e,t,n){var i=this,a=r((0,o.separateOptions)(n,l.HTMLDomStrings.OPTIONS),2),s=a[0],c=a[1];return(i=u.call(this,e,t,s)||this).domStrings=i.options.DomStrings||new l.HTMLDomStrings(c),i.domStrings.adaptor=t,i.styles=[],i}return e(d,u),d.prototype.findPosition=function(e,t,i,o){var a,s,l=this.adaptor;try{for(var c=n(o[e]),u=c.next();!u.done;u=c.next()){var d=u.value,h=r(d,2),p=h[0],f=h[1];if(t<=f&&"#text"===l.kind(p))return{node:p,n:Math.max(t,0),delim:i};t-=f}}catch(m){a={error:m}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return{node:null,n:0,delim:i}},d.prototype.mathItem=function(e,t,r){var n=e.math,i=this.findPosition(e.n,e.start.n,e.open,r),o=this.findPosition(e.n,e.end.n,e.close,r);return new this.options.MathItem(n,t,e.display,i,o)},d.prototype.findMath=function(e){var t,i,a,s,l,c,u,d,h;if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,e=(0,o.userOptions)({elements:this.options.elements||[this.adaptor.body(this.document)]},e);try{for(var p=n(this.adaptor.getElements(e.elements,this.document)),f=p.next();!f.done;f=p.next()){var m=f.value,g=r([null,null],2),y=g[0],b=g[1];try{for(var v=(a=void 0,n(this.inputJax)),x=v.next();!x.done;x=v.next()){var $=x.value,S=new this.options.MathList;if($.processStrings){null===y&&(y=(l=r(this.domStrings.find(m),2))[0],b=l[1]);try{for(var E=(c=void 0,n($.findMath(y))),w=E.next();!w.done;w=E.next()){var _=w.value;S.push(this.mathItem(_,$,b))}}catch(R){c={error:R}}finally{try{w&&!w.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}}else try{for(var M=(d=void 0,n($.findMath(m))),C=M.next();!C.done;C=M.next()){_=C.value;var T=new this.options.MathItem(_.math,$,_.display,_.start,_.end);S.push(T)}}catch(O){d={error:O}}finally{try{C&&!C.done&&(h=M.return)&&h.call(M)}finally{if(d)throw d.error}}this.math.merge(S)}}catch(k){a={error:k}}finally{try{x&&!x.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}}catch(A){t={error:A}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(t)throw t.error}}this.processed.set("findMath")}return this},d.prototype.updateDocument=function(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),u.prototype.updateDocument.call(this),this.processed.set("updateDocument")),this},d.prototype.addPageElements=function(){var e=this.adaptor.body(this.document),t=this.documentPageElements();t&&this.adaptor.append(e,t)},d.prototype.addStyleSheet=function(){var e=this.documentStyleSheet(),t=this.adaptor;if(e&&!t.parent(e)){var r=t.head(this.document),n=this.findSheet(r,t.getAttribute(e,"id"));n?t.replace(e,n):t.append(r,e)}},d.prototype.findSheet=function(e,t){var r,i;if(t)try{for(var o=n(this.adaptor.tags(e,"style")),a=o.next();!a.done;a=o.next()){var s=a.value;if(this.adaptor.getAttribute(s,"id")===t)return s}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return null},d.prototype.removeFromDocument=function(e){var t,r;if(void 0===e&&(e=!1),this.processed.isSet("updateDocument"))try{for(var i=n(this.math),o=i.next();!o.done;o=i.next()){var a=o.value;a.state()>=c.STATE.INSERTED&&a.state(c.STATE.TYPESET,e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return this.processed.clear("updateDocument"),this},d.prototype.documentStyleSheet=function(){return this.outputJax.styleSheet(this)},d.prototype.documentPageElements=function(){return this.outputJax.pageElements(this)},d.prototype.addStyles=function(e){this.styles.push(e)},d.prototype.getStyles=function(){return this.styles},d.KIND="HTML",d.OPTIONS=t(t({},i.AbstractMathDocument.OPTIONS),{renderActions:(0,o.expandable)(t(t({},i.AbstractMathDocument.OPTIONS.renderActions),{styles:[c.STATE.INSERTED+1,"","updateStyleSheet",!1]})),MathList:s.HTMLMathList,MathItem:a.HTMLMathItem,DomStrings:null}),d}(i.AbstractMathDocument);return HTMLDocument.HTMLDocument=u,HTMLDocument}function requireHTMLHandler(){if(hasRequiredHTMLHandler)return HTMLHandler;hasRequiredHTMLHandler=1;var e=HTMLHandler&&HTMLHandler.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(HTMLHandler,"__esModule",{value:!0}),HTMLHandler.HTMLHandler=void 0;var t=requireHandler(),r=requireHTMLDocument(),n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.documentClass=r.HTMLDocument,e}return e(n,t),n.prototype.handlesDocument=function(e){var t=this.adaptor;if("string"==typeof e)try{e=t.parse(e,"text/html")}catch(r){}return e instanceof t.window.Document||e instanceof t.window.HTMLElement||e instanceof t.window.DocumentFragment},n.prototype.create=function(e,r){var n=this.adaptor;if("string"==typeof e)e=n.parse(e,"text/html");else if(e instanceof n.window.HTMLElement||e instanceof n.window.DocumentFragment){var i=e;e=n.parse("","text/html"),n.append(n.body(e),i)}return t.prototype.create.call(this,e,r)},n}(t.AbstractHandler);return HTMLHandler.HTMLHandler=n,HTMLHandler}function requireHtml(){if(hasRequiredHtml)return html;hasRequiredHtml=1,Object.defineProperty(html,"__esModule",{value:!0}),html.RegisterHTMLHandler=void 0;var e=requireMathjax(),t=requireHTMLHandler();return html.RegisterHTMLHandler=function(r){var n=new t.HTMLHandler(r);return e.mathjax.handlers.register(n),n},html}var browserAdaptor={},HTMLAdaptor={},DOMAdaptor={},hasRequiredDOMAdaptor,hasRequiredHTMLAdaptor,hasRequiredBrowserAdaptor;function requireDOMAdaptor(){if(hasRequiredDOMAdaptor)return DOMAdaptor;hasRequiredDOMAdaptor=1;var e=DOMAdaptor&&DOMAdaptor.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(DOMAdaptor,"__esModule",{value:!0}),DOMAdaptor.AbstractDOMAdaptor=void 0;var t=function(){function t(e){void 0===e&&(e=null),this.document=e}return t.prototype.node=function(t,r,n,i){var o,a;void 0===r&&(r={}),void 0===n&&(n=[]);var s=this.create(t,i);this.setAttributes(s,r);try{for(var l=e(n),c=l.next();!c.done;c=l.next()){var u=c.value;this.append(s,u)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return s},t.prototype.setAttributes=function(t,r){var n,i,o,a,s,l;if(r.style&&"string"!=typeof r.style)try{for(var c=e(Object.keys(r.style)),u=c.next();!u.done;u=c.next()){var d=u.value;this.setStyle(t,d.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),r.style[d])}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(r.properties)try{for(var h=e(Object.keys(r.properties)),p=h.next();!p.done;p=h.next()){t[d=p.value]=r.properties[d]}}catch(y){o={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}try{for(var f=e(Object.keys(r)),m=f.next();!m.done;m=f.next()){"style"===(d=m.value)&&"string"!=typeof r.style||"properties"===d||this.setAttribute(t,d,r[d])}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}},t.prototype.replace=function(e,t){return this.insert(e,t),this.remove(t),t},t.prototype.childNode=function(e,t){return this.childNodes(e)[t]},t.prototype.allClasses=function(e){var t=this.getAttribute(e,"class");return t?t.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]},t}();return DOMAdaptor.AbstractDOMAdaptor=t,DOMAdaptor}function requireHTMLAdaptor(){if(hasRequiredHTMLAdaptor)return HTMLAdaptor;hasRequiredHTMLAdaptor=1;var e=HTMLAdaptor&&HTMLAdaptor.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=HTMLAdaptor&&HTMLAdaptor.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(HTMLAdaptor,"__esModule",{value:!0}),HTMLAdaptor.HTMLAdaptor=void 0;var r=function(r){function n(e){var t=r.call(this,e.document)||this;return t.window=e,t.parser=new e.DOMParser,t}return e(n,r),n.prototype.parse=function(e,t){return void 0===t&&(t="text/html"),this.parser.parseFromString(e,t)},n.prototype.create=function(e,t){return t?this.document.createElementNS(t,e):this.document.createElement(e)},n.prototype.text=function(e){return this.document.createTextNode(e)},n.prototype.head=function(e){return e.head||e},n.prototype.body=function(e){return e.body||e},n.prototype.root=function(e){return e.documentElement||e},n.prototype.doctype=function(e){return e.doctype?"<!DOCTYPE ".concat(e.doctype.name,">"):""},n.prototype.tags=function(e,t,r){void 0===r&&(r=null);var n=r?e.getElementsByTagNameNS(r,t):e.getElementsByTagName(t);return Array.from(n)},n.prototype.getElements=function(e,r){var n,i,o=[];try{for(var a=t(e),s=a.next();!s.done;s=a.next()){var l=s.value;"string"==typeof l?o=o.concat(Array.from(this.document.querySelectorAll(l))):Array.isArray(l)||l instanceof this.window.NodeList||l instanceof this.window.HTMLCollection?o=o.concat(Array.from(l)):o.push(l)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},n.prototype.contains=function(e,t){return e.contains(t)},n.prototype.parent=function(e){return e.parentNode},n.prototype.append=function(e,t){return e.appendChild(t)},n.prototype.insert=function(e,t){return this.parent(t).insertBefore(e,t)},n.prototype.remove=function(e){return this.parent(e).removeChild(e)},n.prototype.replace=function(e,t){return this.parent(t).replaceChild(e,t)},n.prototype.clone=function(e){return e.cloneNode(!0)},n.prototype.split=function(e,t){return e.splitText(t)},n.prototype.next=function(e){return e.nextSibling},n.prototype.previous=function(e){return e.previousSibling},n.prototype.firstChild=function(e){return e.firstChild},n.prototype.lastChild=function(e){return e.lastChild},n.prototype.childNodes=function(e){return Array.from(e.childNodes)},n.prototype.childNode=function(e,t){return e.childNodes[t]},n.prototype.kind=function(e){var t=e.nodeType;return 1===t||3===t||8===t?e.nodeName.toLowerCase():""},n.prototype.value=function(e){return e.nodeValue||""},n.prototype.textContent=function(e){return e.textContent},n.prototype.innerHTML=function(e){return e.innerHTML},n.prototype.outerHTML=function(e){return e.outerHTML},n.prototype.serializeXML=function(e){return(new this.window.XMLSerializer).serializeToString(e)},n.prototype.setAttribute=function(e,t,r,n){return void 0===n&&(n=null),n?(t=n.replace(/.*\//,"")+":"+t.replace(/^.*:/,""),e.setAttributeNS(n,t,r)):e.setAttribute(t,r)},n.prototype.getAttribute=function(e,t){return e.getAttribute(t)},n.prototype.removeAttribute=function(e,t){return e.removeAttribute(t)},n.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},n.prototype.allAttributes=function(e){return Array.from(e.attributes).map(function(e){return{name:e.name,value:e.value}})},n.prototype.addClass=function(e,t){e.classList?e.classList.add(t):e.className=(e.className+" "+t).trim()},n.prototype.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/ /).filter(function(e){return e!==t}).join(" ")},n.prototype.hasClass=function(e,t){return e.classList?e.classList.contains(t):e.className.split(/ /).indexOf(t)>=0},n.prototype.setStyle=function(e,t,r){e.style[t]=r},n.prototype.getStyle=function(e,t){return e.style[t]},n.prototype.allStyles=function(e){return e.style.cssText},n.prototype.insertRules=function(e,r){var n,i;try{for(var o=t(r.reverse()),a=o.next();!a.done;a=o.next()){var s=a.value;try{e.sheet.insertRule(s,0)}catch(l){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},n.prototype.fontSize=function(e){var t=this.window.getComputedStyle(e);return parseFloat(t.fontSize)},n.prototype.fontFamily=function(e){return this.window.getComputedStyle(e).fontFamily||""},n.prototype.nodeSize=function(e,t,r){if(void 0===t&&(t=1),void 0===r&&(r=!1),r&&e.getBBox){var n=e.getBBox();return[n.width/t,n.height/t]}return[e.offsetWidth/t,e.offsetHeight/t]},n.prototype.nodeBBox=function(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},n}(requireDOMAdaptor().AbstractDOMAdaptor);return HTMLAdaptor.HTMLAdaptor=r,HTMLAdaptor}function requireBrowserAdaptor(){if(hasRequiredBrowserAdaptor)return browserAdaptor;hasRequiredBrowserAdaptor=1,Object.defineProperty(browserAdaptor,"__esModule",{value:!0}),browserAdaptor.browserAdaptor=void 0;var e=requireHTMLAdaptor();return browserAdaptor.browserAdaptor=function(){return new e.HTMLAdaptor(window)},browserAdaptor}var tex={},FindTeX={},FindMath={},hasRequiredFindMath,hasRequiredFindTeX;function requireFindMath(){if(hasRequiredFindMath)return FindMath;hasRequiredFindMath=1,Object.defineProperty(FindMath,"__esModule",{value:!0}),FindMath.AbstractFindMath=void 0;var e=requireOptions(),t=function(){function t(t){var r=this.constructor;this.options=(0,e.userOptions)((0,e.defaultOptions)({},r.OPTIONS),t)}return t.OPTIONS={},t}();return FindMath.AbstractFindMath=t,FindMath}function requireFindTeX(){if(hasRequiredFindTeX)return FindTeX;hasRequiredFindTeX=1;var e=FindTeX&&FindTeX.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=FindTeX&&FindTeX.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(FindTeX,"__esModule",{value:!0}),FindTeX.FindTeX=void 0;var r=requireFindMath(),n=requireString(),i=requireMathItem(),o=function(r){function o(e){var t=r.call(this,e)||this;return t.getPatterns(),t}return e(o,r),o.prototype.getPatterns=function(){var e=this,t=this.options,r=[],i=[],o=[];this.end={},this.env=this.sub=0;var a=1;t.inlineMath.forEach(function(t){return e.addPattern(r,t,!1)}),t.displayMath.forEach(function(t){return e.addPattern(r,t,!0)}),r.length&&i.push(r.sort(n.sortLength).join("|")),t.processEnvironments&&(i.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=a,a++),t.processEscapes&&o.push("\\\\([\\\\$])"),t.processRefs&&o.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),o.length&&(i.push("("+o.join("|")+")"),this.sub=a),this.start=new RegExp(i.join("|"),"g"),this.hasPatterns=i.length>0},o.prototype.addPattern=function(e,r,i){var o=t(r,2),a=o[0],s=o[1];e.push((0,n.quotePattern)(a)),this.end[a]=[s,i,this.endPattern(s)]},o.prototype.endPattern=function(e,t){return new RegExp((t||(0,n.quotePattern)(e))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")},o.prototype.findEnd=function(e,r,n,o){for(var a,s=t(o,3),l=s[0],c=s[1],u=s[2],d=u.lastIndex=n.index+n[0].length,h=0;a=u.exec(e);){if((a[1]||a[0])===l&&0===h)return(0,i.protoItem)(n[0],e.substr(d,a.index-d),a[0],r,n.index,a.index+a[0].length,c);"{"===a[0]?h++:"}"===a[0]&&h&&h--}return null},o.prototype.findMathInString=function(e,t,r){var o,a;for(this.start.lastIndex=0;o=this.start.exec(r);){if(void 0!==o[this.env]&&this.env){var s="\\\\end\\s*(\\{"+(0,n.quotePattern)(o[this.env])+"\\})";(a=this.findEnd(r,t,o,["{"+o[this.env]+"}",!0,this.endPattern(null,s)]))&&(a.math=a.open+a.math+a.close,a.open=a.close="")}else if(void 0!==o[this.sub]&&this.sub){var l=o[this.sub];s=o.index+o[this.sub].length;a=2===l.length?(0,i.protoItem)("",l.substr(1),"",t,o.index,s):(0,i.protoItem)("",l,"",t,o.index,s,!1)}else a=this.findEnd(r,t,o,this.end[o[0]]);a&&(e.push(a),this.start.lastIndex=a.end.n)}},o.prototype.findMath=function(e){var t=[];if(this.hasPatterns)for(var r=0,n=e.length;r<n;r++)this.findMathInString(t,r,e[r]);return t},o.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0},o}(r.AbstractFindMath);return FindTeX.FindTeX=o,FindTeX}var FilterUtil={},NodeUtil={},hasRequiredNodeUtil,hasRequiredFilterUtil;function requireNodeUtil(){if(hasRequiredNodeUtil)return NodeUtil;hasRequiredNodeUtil=1;var e=NodeUtil&&NodeUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=NodeUtil&&NodeUtil.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=NodeUtil&&NodeUtil.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(NodeUtil,"__esModule",{value:!0});var n,i=requireMmlNode(),o=requireMo$1();return function(n){var a=new Map([["autoOP",!0],["fnOP",!0],["movesupsub",!0],["subsupOK",!0],["texprimestyle",!0],["useHeight",!0],["variantForm",!0],["withDelims",!0],["mathaccent",!0],["open",!0],["close",!0]]);function s(t,r){var n,i;try{for(var o=e(Object.keys(r)),s=o.next();!s.done;s=o.next()){var l=s.value,c=r[l];"texClass"===l?(t.texClass=c,t.setProperty(l,c)):"movablelimits"===l?(t.setProperty("movablelimits",c),(t.isKind("mo")||t.isKind("mstyle"))&&t.attributes.set("movablelimits",c)):"inferred"===l||(a.has(l)?t.setProperty(l,c):t.attributes.set(l,c))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function l(e,t,r){e.childNodes[t]=r,r&&(r.parent=e)}function c(e,t){return e.isKind(t)}n.createEntity=function(e){return String.fromCodePoint(parseInt(e,16))},n.getChildren=function(e){return e.childNodes},n.getText=function(e){return e.getText()},n.appendChildren=function(t,r){var n,i;try{for(var o=e(r),a=o.next();!a.done;a=o.next()){var s=a.value;t.appendChild(s)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},n.setAttribute=function(e,t,r){e.attributes.set(t,r)},n.setProperty=function(e,t,r){e.setProperty(t,r)},n.setProperties=s,n.getProperty=function(e,t){return e.getProperty(t)},n.getAttribute=function(e,t){return e.attributes.get(t)},n.removeProperties=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.removeProperty.apply(e,r([],t(n),!1))},n.getChildAt=function(e,t){return e.childNodes[t]},n.setChild=l,n.copyChildren=function(e,t){for(var r=e.childNodes,n=0;n<r.length;n++)l(t,n,r[n])},n.copyAttributes=function(e,t){t.attributes=e.attributes,s(t,e.getAllProperties())},n.isType=c,n.isEmbellished=function(e){return e.isEmbellished},n.getTexClass=function(e){return e.texClass},n.getCoreMO=function(e){return e.coreMO()},n.isNode=function(e){return e instanceof i.AbstractMmlNode||e instanceof i.AbstractMmlEmptyNode},n.isInferred=function(e){return e.isInferred},n.getForm=function(t){var r,n;if(!c(t,"mo"))return null;var i=t,a=i.getForms();try{for(var s=e(a),l=s.next();!l.done;l=s.next()){var u=l.value,d=o.MmlMo.OPTABLE[u][i.getText()];if(d)return d}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return null}}(n||(n={})),NodeUtil.default=n,NodeUtil}function requireFilterUtil(){if(hasRequiredFilterUtil)return FilterUtil;hasRequiredFilterUtil=1;var e=FilterUtil&&FilterUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=FilterUtil&&FilterUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FilterUtil,"__esModule",{value:!0});var r,n=requireMmlNode(),i=t(requireNodeUtil());return function(t){t.cleanStretchy=function(t){var r,n,o=t.data;try{for(var a=e(o.getList("fixStretchy")),s=a.next();!s.done;s=a.next()){var l=s.value;if(i.default.getProperty(l,"fixStretchy")){var c=i.default.getForm(l);c&&c[3]&&c[3].stretchy&&i.default.setAttribute(l,"stretchy",!1);var u=l.parent;if(!(i.default.getTexClass(l)||c&&c[2])){var d=o.nodeFactory.create("node","TeXAtom",[l]);u.replaceChild(d,l),d.inheritAttributesFrom(l)}i.default.removeProperties(l,"fixStretchy")}}}catch(h){r={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.cleanAttributes=function(t){t.data.root.walkTree(function(t,r){var n,i,o=t.attributes;if(o){var a=new Set((o.get("mjx-keep-attrs")||"").split(/ /));delete o.getAllAttributes()["mjx-keep-attrs"];try{for(var s=e(o.getExplicitNames()),l=s.next();!l.done;l=s.next()){var c=l.value;a.has(c)||o.attributes[c]!==t.attributes.getInherited(c)||delete o.attributes[c]}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}},{})},t.combineRelations=function(t){var a,s,l,c,u=[];try{for(var d=e(t.data.getList("mo")),h=d.next();!h.done;h=d.next()){var p=h.value;if(!p.getProperty("relationsCombined")&&p.parent&&(!p.parent||i.default.isType(p.parent,"mrow"))&&i.default.getTexClass(p)===n.TEXCLASS.REL){for(var f=p.parent,m=void 0,g=f.childNodes,y=g.indexOf(p)+1,b=i.default.getProperty(p,"variantForm");y<g.length&&(m=g[y])&&i.default.isType(m,"mo")&&i.default.getTexClass(m)===n.TEXCLASS.REL;){if(b!==i.default.getProperty(m,"variantForm")||!o(p,m)){null==p.attributes.getExplicit("rspace")&&i.default.setAttribute(p,"rspace","0pt"),null==m.attributes.getExplicit("lspace")&&i.default.setAttribute(m,"lspace","0pt");break}i.default.appendChildren(p,i.default.getChildren(m)),r(["stretchy","rspace"],p,m);try{for(var v=(l=void 0,e(m.getPropertyNames())),x=v.next();!x.done;x=v.next()){var $=x.value;p.setProperty($,m.getProperty($))}}catch(S){l={error:S}}finally{try{x&&!x.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}g.splice(y,1),u.push(m),m.parent=null,m.setProperty("relationsCombined",!0)}p.attributes.setInherited("form",p.getForms()[0])}}}catch(E){a={error:E}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}t.data.removeFromList("mo",u)};var r=function(e,t,r){var n=t.attributes,i=r.attributes;e.forEach(function(e){var t=i.getExplicit(e);null!=t&&n.set(e,t)})},o=function(t,r){var n,i,o=function(e,t){return e.getExplicitNames().filter(function(r){return r!==t&&("stretchy"!==r||e.getExplicit("stretchy"))})},a=t.attributes,s=r.attributes,l=o(a,"lspace"),c=o(s,"rspace");if(l.length!==c.length)return!1;try{for(var u=e(l),d=u.next();!d.done;d=u.next()){var h=d.value;if(a.getExplicit(h)!==s.getExplicit(h))return!1}}catch(p){n={error:p}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return!0},a=function(t,r,n){var o,a,s=[];try{for(var l=e(t.getList("m"+r+n)),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.childNodes;if(!d[u[r]]||!d[u[n]]){var h=u.parent,p=d[u[r]]?t.nodeFactory.create("node","m"+r,[d[u.base],d[u[r]]]):t.nodeFactory.create("node","m"+n,[d[u.base],d[u[n]]]);i.default.copyAttributes(u,p),h?h.replaceChild(p,u):t.root=p,s.push(u)}}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}t.removeFromList("m"+r+n,s)};t.cleanSubSup=function(e){var t=e.data;t.error||(a(t,"sub","sup"),a(t,"under","over"))};var s=function(t,r,n){var o,a,s=[];try{for(var l=e(t.getList(r)),c=l.next();!c.done;c=l.next()){var u=c.value;if(!u.attributes.get("displaystyle")){var d=u.childNodes[u.base],h=d.coreMO();if(d.getProperty("movablelimits")&&!h.attributes.getExplicit("movablelimits")){var p=t.nodeFactory.create("node",n,u.childNodes);i.default.copyAttributes(u,p),u.parent?u.parent.replaceChild(p,u):t.root=p,s.push(u)}}}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}t.removeFromList(r,s)};t.moveLimits=function(e){var t=e.data;s(t,"munderover","msubsup"),s(t,"munder","msub"),s(t,"mover","msup")},t.setInherited=function(e){e.data.root.setInheritedAttributes({},e.math.display,0,!1)}}(r||(r={})),FilterUtil.default=r,FilterUtil}var TexParser={},ParseUtil={},TexError={},hasRequiredTexError;function requireTexError(){if(hasRequiredTexError)return TexError;hasRequiredTexError=1,Object.defineProperty(TexError,"__esModule",{value:!0});var e=function(){function e(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.id=t,this.message=e.processString(r,n)}return e.processString=function(t,r){for(var n=t.split(e.pattern),i=1,o=n.length;i<o;i+=2){var a=n[i].charAt(0);if(a>="0"&&a<="9")n[i]=r[parseInt(n[i],10)-1],"number"==typeof n[i]&&(n[i]=n[i].toString());else if("{"===a){if((a=n[i].substr(1))>="0"&&a<="9")n[i]=r[parseInt(n[i].substr(1,n[i].length-2),10)-1],"number"==typeof n[i]&&(n[i]=n[i].toString());else n[i].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(n[i]="%"+n[i])}null==n[i]&&(n[i]="???")}return n.join("")},e.pattern=/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,e}();return TexError.default=e,TexError}var Entities={},AsyncLoad={},hasRequiredAsyncLoad,hasRequiredEntities,hasRequiredParseUtil;function requireAsyncLoad(){if(hasRequiredAsyncLoad)return AsyncLoad;hasRequiredAsyncLoad=1,Object.defineProperty(AsyncLoad,"__esModule",{value:!0}),AsyncLoad.asyncLoad=void 0;var e=requireMathjax();return AsyncLoad.asyncLoad=function(t){return e.mathjax.asyncLoad?new Promise(function(r,n){var i=e.mathjax.asyncLoad(t);i instanceof Promise?i.then(function(e){return r(e)}).catch(function(e){return n(e)}):r(i)}):Promise.reject("Can't load '".concat(t,"': No asyncLoad method specified"))},AsyncLoad}function requireEntities(){return hasRequiredEntities||(hasRequiredEntities=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.numeric=e.translate=e.remove=e.add=e.entities=e.options=void 0;var t=requireRetries(),r=requireAsyncLoad();e.options={loadMissingEntities:!0},e.entities={ApplyFunction:"",Backslash:"",Because:"",Breve:"",Cap:"",CenterDot:"",CircleDot:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",Congruent:"",ContourIntegral:"",Coproduct:"",Cross:"",Cup:"",CupCap:"",Dagger:"",Del:"",Delta:"",Diamond:"",DifferentialD:"",DotEqual:"",DoubleDot:"",DoubleRightTee:"",DoubleVerticalBar:"",DownArrow:"",DownLeftVector:"",DownRightVector:"",DownTee:"",Downarrow:"",Element:"",EqualTilde:"",Equilibrium:"",Exists:"",ExponentialE:"",FilledVerySmallSquare:"",ForAll:"",Gamma:"",Gg:"",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Hacek:"",Hat:"^",HumpDownHump:"",HumpEqual:"",Im:"",ImaginaryI:"",Integral:"",Intersection:"",InvisibleComma:"",InvisibleTimes:"",Lambda:"",Larr:"",LeftAngleBracket:"",LeftArrow:"",LeftArrowRightArrow:"",LeftCeiling:"",LeftDownVector:"",LeftFloor:"",LeftRightArrow:"",LeftTee:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpVector:"",LeftVector:"",Leftarrow:"",Leftrightarrow:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",LessSlantEqual:"",LessTilde:"",Ll:"",Lleftarrow:"",LongLeftArrow:"",LongLeftRightArrow:"",LongRightArrow:"",Longleftarrow:"",Longleftrightarrow:"",Longrightarrow:"",Lsh:"",MinusPlus:"",NestedGreaterGreater:"",NestedLessLess:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotPrecedes:"",NotPrecedesSlantEqual:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsSlantEqual:"",NotSupersetEqual:"",NotTilde:"",NotVerticalBar:"",Omega:"",OverBar:"",OverBrace:"",PartialD:"",Phi:"",Pi:"",PlusMinus:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",Product:"",Proportional:"",Psi:"",Rarr:"",Re:"",ReverseEquilibrium:"",RightAngleBracket:"",RightArrow:"",RightArrowLeftArrow:"",RightCeiling:"",RightDownVector:"",RightFloor:"",RightTee:"",RightTeeArrow:"",RightTriangle:"",RightTriangleEqual:"",RightUpVector:"",RightVector:"",Rightarrow:"",Rrightarrow:"",Rsh:"",Sigma:"",SmallCircle:"",Sqrt:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",Star:"",Subset:"",SubsetEqual:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",SuchThat:"",Sum:"",Superset:"",SupersetEqual:"",Supset:"",Therefore:"",Theta:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",UnderBar:"_",UnderBrace:"",Union:"",UnionPlus:"",UpArrow:"",UpDownArrow:"",UpTee:"",Uparrow:"",Updownarrow:"",Upsilon:"",Vdash:"",Vee:"",VerticalBar:"",VerticalTilde:"",Vvdash:"",Wedge:"",Xi:"",amp:"&",acute:"",aleph:"",alpha:"",amalg:"",and:"",ang:"",angmsd:"",angsph:"",ape:"",backprime:"",backsim:"",backsimeq:"",beta:"",beth:"",between:"",bigcirc:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",blacklozenge:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",bowtie:"",boxdl:"",boxdr:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxur:"",bsol:"\\",bull:"",cap:"",check:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledR:"",circledS:"",circledast:"",circledcirc:"",circleddash:"",clubs:"",colon:":",comp:"",ctdot:"",cuepr:"",cuesc:"",cularr:"",cup:"",curarr:"",curlyvee:"",curlywedge:"",dagger:"",daleth:"",ddarr:"",deg:"",delta:"",digamma:"",div:"",divideontimes:"",dot:"",doteqdot:"",dotplus:"",dotsquare:"",dtdot:"",ecir:"",efDot:"",egs:"",ell:"",els:"",empty:"",epsi:"",epsiv:"",erDot:"",eta:"",eth:"",flat:"",fork:"",frown:"",gEl:"",gamma:"",gap:"",gimel:"",gnE:"",gnap:"",gne:"",gnsim:"",gt:">",gtdot:"",harrw:"",hbar:"",hellip:"",hookleftarrow:"",hookrightarrow:"",imath:"",infin:"",intcal:"",iota:"",jmath:"",kappa:"",kappav:"",lEg:"",lambda:"",lap:"",larrlp:"",larrtl:"",lbrace:"{",lbrack:"[",le:"",leftleftarrows:"",leftthreetimes:"",lessdot:"",lmoust:"",lnE:"",lnap:"",lne:"",lnsim:"",longmapsto:"",looparrowright:"",lowast:"",loz:"",lt:"<",ltimes:"",ltri:"",macr:"",malt:"",mho:"",mu:"",multimap:"",nLeftarrow:"",nLeftrightarrow:"",nRightarrow:"",nVDash:"",nVdash:"",natur:"",nearr:"",nharr:"",nlarr:"",not:"",nrarr:"",nu:"",nvDash:"",nvdash:"",nwarr:"",omega:"",omicron:"",or:"",osol:"",period:".",phi:"",phiv:"",pi:"",piv:"",prap:"",precnapprox:"",precneqq:"",precnsim:"",prime:"",psi:"",quot:'"',rarrtl:"",rbrace:"}",rbrack:"]",rho:"",rhov:"",rightrightarrows:"",rightthreetimes:"",ring:"",rmoust:"",rtimes:"",rtri:"",scap:"",scnE:"",scnap:"",scnsim:"",sdot:"",searr:"",sect:"",sharp:"",sigma:"",sigmav:"",simne:"",smile:"",spades:"",sub:"",subE:"",subnE:"",subne:"",supE:"",supnE:"",supne:"",swarr:"",tau:"",theta:"",thetav:"",tilde:"",times:"",triangle:"",triangleq:"",upsi:"",upuparrows:"",veebar:"",vellip:"",weierp:"",xi:"",yen:"",zeta:"",zigrarr:"",nbsp:"",rsquo:"",lsquo:""};var n={};function i(i,a){if("#"===a.charAt(0))return o(a.slice(1));if(e.entities[a])return e.entities[a];if(e.options.loadMissingEntities){var s=a.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:a.charAt(0).toLowerCase();n[s]||(n[s]=!0,(0,t.retryAfter)((0,r.asyncLoad)("./util/entities/"+s+".js")))}return i}function o(e){var t="x"===e.charAt(0)?parseInt(e.slice(1),16):parseInt(e);return String.fromCodePoint(t)}e.add=function(t,r){Object.assign(e.entities,t),n[r]=!0},e.remove=function(t){delete e.entities[t]},e.translate=function(e){return e.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,i)},e.numeric=o}(Entities)),Entities}function requireParseUtil(){if(hasRequiredParseUtil)return ParseUtil;hasRequiredParseUtil=1;var e=ParseUtil&&ParseUtil.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=ParseUtil&&ParseUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=ParseUtil&&ParseUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ParseUtil,"__esModule",{value:!0});var n,i=requireMmlNode(),o=r(requireNodeUtil()),a=r(requireTexParser()),s=r(requireTexError()),l=requireEntities();return function(r){var n=7.2,c={em:function(e){return e},ex:function(e){return.43*e},pt:function(e){return e/10},pc:function(e){return 1.2*e},px:function(e){return e*n/72},in:function(e){return e*n},cm:function(e){return e*n/2.54},mm:function(e){return e*n/25.4},mu:function(e){return e/18}},u="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",d="(pt|em|ex|mu|px|mm|cm|in|pc)",h=RegExp("^\\s*"+u+"\\s*"+d+"\\s*$"),p=RegExp("^\\s*"+u+"\\s*"+d+" ?");function f(t,r){void 0===r&&(r=!1);var n=t.match(r?p:h);return n?function(t){var r=e(t,3),n=r[0],i=r[1],o=r[2];if("mu"!==i)return[n,i,o];return[m(c[i](parseFloat(n||"1"))).slice(0,-2),"em",o]}([n[1].replace(/,/,"."),n[4],n[0].length]):[null,null,0]}function m(e){return Math.abs(e)<6e-4?"0em":e.toFixed(3).replace(/\.?0+$/,"")+"em"}function g(e,t,r){"{"!==t&&"}"!==t||(t="\\"+t);var n="{\\bigg"+r+" "+t+"}",i="{\\big"+r+" "+t+"}";return new a.default("\\mathchoice"+n+i+i+i,{},e).mml()}function y(e,t,r){t=t.replace(/^\s+/,l.entities.nbsp).replace(/\s+$/,l.entities.nbsp);var n=e.create("text",t);return e.create("node","mtext",[],r,n)}function b(e,t,r){if(r.match(/^[a-z]/i)&&t.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(t+=" "),t.length+r.length>e.configuration.options.maxBuffer)throw new s.default("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return t+r}function v(e,t){for(;t>0;)e=e.trim().slice(1,-1),t--;return e.trim()}function x(e,t){for(var r=e.length,n=0,i="",o=0,a=0,l=!0,c=!1;o<r;){var u=e[o++];switch(u){case" ":break;case"{":l?a++:(c=!1,a>n&&(a=n)),n++;break;case"}":n&&n--,(l||c)&&(a--,c=!0),l=!1;break;default:if(!n&&-1!==t.indexOf(u))return[c?"true":v(i,a),u,e.slice(o)];l=!1,c=!1}i+=u}if(n)throw new s.default("ExtraOpenMissingClose","Extra open brace or missing close brace");return[c?"true":v(i,a),"",e.slice(o)]}r.matchDimen=f,r.dimen2em=function(t){var r=e(f(t),2),n=r[0],i=r[1],o=parseFloat(n||"1"),a=c[i];return a?a(o):0},r.Em=m,r.cols=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return m(e)}).join(" ")},r.fenced=function(e,t,r,n,s,l){void 0===s&&(s=""),void 0===l&&(l="");var c,u=e.nodeFactory,d=u.create("node","mrow",[],{open:t,close:n,texClass:i.TEXCLASS.INNER});if(s)c=new a.default("\\"+s+"l"+t,e.parser.stack.env,e).mml();else{var h=u.create("text",t);c=u.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:i.TEXCLASS.OPEN},h)}if(o.default.appendChildren(d,[c,r]),s)c=new a.default("\\"+s+"r"+n,e.parser.stack.env,e).mml();else{var p=u.create("text",n);c=u.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:i.TEXCLASS.CLOSE},p)}return l&&c.attributes.set("mathcolor",l),o.default.appendChildren(d,[c]),d},r.fixedFence=function(e,t,r,n){var a=e.nodeFactory.create("node","mrow",[],{open:t,close:n,texClass:i.TEXCLASS.ORD});return t&&o.default.appendChildren(a,[g(e,t,"l")]),o.default.isType(r,"mrow")?o.default.appendChildren(a,o.default.getChildren(r)):o.default.appendChildren(a,[r]),n&&o.default.appendChildren(a,[g(e,n,"r")]),a},r.mathPalette=g,r.fixInitialMO=function(e,t){for(var r=0,n=t.length;r<n;r++){var a=t[r];if(a&&!o.default.isType(a,"mspace")&&(!o.default.isType(a,"TeXAtom")||o.default.getChildren(a)[0]&&o.default.getChildren(o.default.getChildren(a)[0]).length)){if(o.default.isEmbellished(a)||o.default.isType(a,"TeXAtom")&&o.default.getTexClass(a)===i.TEXCLASS.REL){var s=e.nodeFactory.create("node","mi");t.unshift(s)}break}}},r.internalMath=function(e,t,r,n){if(e.configuration.options.internalMath)return e.configuration.options.internalMath(e,t,r,n);var i,o,l=n||e.stack.env.font,c=l?{mathvariant:l}:{},u=[],d=0,h=0,p="",f=0;if(t.match(/\\?[${}\\]|\\\(|\\(eq)?ref\s*\{/)){for(;d<t.length;)if("$"===(i=t.charAt(d++)))"$"===p&&0===f?(o=e.create("node","TeXAtom",[new a.default(t.slice(h,d-1),{},e.configuration).mml()]),u.push(o),p="",h=d):""===p&&(h<d-1&&u.push(y(e,t.slice(h,d-1),c)),p="$",h=d);else if("{"===i&&""!==p)f++;else if("}"===i)if("}"===p&&0===f){var m=new a.default(t.slice(h,d),{},e.configuration).mml();o=e.create("node","TeXAtom",[m],c),u.push(o),p="",h=d}else""!==p&&f&&f--;else if("\\"===i)if(""===p&&t.substr(d).match(/^(eq)?ref\s*\{/)){var g=RegExp["$&"].length;h<d-1&&u.push(y(e,t.slice(h,d-1),c)),p="}",h=d-1,d+=g}else"("===(i=t.charAt(d++))&&""===p?(h<d-2&&u.push(y(e,t.slice(h,d-2),c)),p=")",h=d):")"===i&&")"===p&&0===f?(o=e.create("node","TeXAtom",[new a.default(t.slice(h,d-2),{},e.configuration).mml()]),u.push(o),p="",h=d):i.match(/[${}\\]/)&&""===p&&(d--,t=t.substr(0,d-1)+t.substr(d));if(""!==p)throw new s.default("MathNotTerminated","Math not terminated in text box")}return h<t.length&&u.push(y(e,t.slice(h),c)),null!=r?u=[e.create("node","mstyle",u,{displaystyle:!1,scriptlevel:r})]:u.length>1&&(u=[e.create("node","mrow",u)]),u},r.internalText=y,r.underOver=function(e,t,n,a,s){if(r.checkMovableLimits(t),o.default.isType(t,"munderover")&&o.default.isEmbellished(t)){o.default.setProperties(o.default.getCoreMO(t),{lspace:0,rspace:0});var l=e.create("node","mo",[],{rspace:0});t=e.create("node","mrow",[l,t])}var c=e.create("node","munderover",[t]);o.default.setChild(c,"over"===a?c.over:c.under,n);var u=c;return s&&(u=e.create("node","TeXAtom",[c],{texClass:i.TEXCLASS.OP,movesupsub:!0})),o.default.setProperty(u,"subsupOK",!0),u},r.checkMovableLimits=function(e){var t=o.default.isType(e,"mo")?o.default.getForm(e):null;(o.default.getProperty(e,"movablelimits")||t&&t[3]&&t[3].movablelimits)&&o.default.setProperties(e,{movablelimits:!1})},r.trimSpaces=function(e){if("string"!=typeof e)return e;var t=e.trim();return t.match(/\\$/)&&e.match(/ $/)&&(t+=" "),t},r.setArrayAlign=function(e,t){return"t"===(t=r.trimSpaces(t||""))?e.arraydef.align="baseline 1":"b"===t?e.arraydef.align="baseline -1":"c"===t?e.arraydef.align="axis":t&&(e.arraydef.align=t),e},r.substituteArgs=function(e,t,r){for(var n="",i="",o=0;o<r.length;){var a=r.charAt(o++);if("\\"===a)n+=a+r.charAt(o++);else if("#"===a)if("#"===(a=r.charAt(o++)))n+=a;else{if(!a.match(/[1-9]/)||parseInt(a,10)>t.length)throw new s.default("IllegalMacroParam","Illegal macro parameter reference");i=b(e,b(e,i,n),t[parseInt(a,10)-1]),n=""}else n+=a}return b(e,i,n)},r.addArgs=b,r.checkMaxMacros=function(e,t){if(void 0===t&&(t=!0),!(++e.macroCount<=e.configuration.options.maxMacros))throw t?new s.default("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?"):new s.default("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?")},r.checkEqnEnv=function(e){if(e.stack.global.eqnenv)throw new s.default("ErroneousNestingEq","Erroneous nesting of equation structures");e.stack.global.eqnenv=!0},r.copyNode=function(e,r){var n=e.copy(),i=r.configuration;return n.walkTree(function(e){var r,n;i.addNode(e.kind,e);var o=(e.getProperty("in-lists")||"").split(/,/);try{for(var a=t(o),s=a.next();!s.done;s=a.next()){var l=s.value;l&&i.addNode(l,e)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}),n},r.MmlFilterAttribute=function(e,t,r){return r},r.getFontDef=function(e){var t=e.stack.env.font;return t?{mathvariant:t}:{}},r.keyvalOptions=function(r,n,i){var o,a;void 0===n&&(n=null),void 0===i&&(i=!1);var l=function(t){var r,n,i,o,a,s={},l=t;for(;l;)o=(r=e(x(l,["=",","]),3))[0],i=r[1],l=r[2],"="===i?(a=(n=e(x(l,[","]),3))[0],i=n[1],l=n[2],a="false"===a||"true"===a?JSON.parse(a):a,s[o]=a):o&&(s[o]=!0);return s}(r);if(n)try{for(var c=t(Object.keys(l)),u=c.next();!u.done;u=c.next()){var d=u.value;if(!n.hasOwnProperty(d)){if(i)throw new s.default("InvalidOption","Invalid option: %1",d);delete l[d]}}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return l}}(n||(n={})),ParseUtil.default=n,ParseUtil}var Stack={},hasRequiredStack,hasRequiredTexParser;function requireStack(){if(hasRequiredStack)return Stack;hasRequiredStack=1;var e=Stack&&Stack.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=Stack&&Stack.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=Stack&&Stack.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=Stack&&Stack.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Stack,"__esModule",{value:!0});var i=n(requireNodeUtil()),o=function(){function n(e,t,r){this._factory=e,this._env=t,this.global={},this.stack=[],this.global={isInner:r},this.stack=[this._factory.create("start",this.global)],t&&(this.stack[0].env=t),this.env=this.stack[0].env}return Object.defineProperty(n.prototype,"env",{get:function(){return this._env},set:function(e){this._env=e},enumerable:!1,configurable:!0}),n.prototype.Push=function(){for(var n,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];try{for(var l=e(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(u){var d=i.default.isNode(u)?this._factory.create("mml",u):u;d.global=this.global;var h=t(this.stack.length?this.Top().checkItem(d):[null,!0],2),p=h[0];h[1]&&(p?(this.Pop(),this.Push.apply(this,r([],t(p),!1))):(this.stack.push(d),d.env?(d.copyEnv&&Object.assign(d.env,this.env),this.env=d.env):d.env=this.env))}}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}},n.prototype.Pop=function(){var e=this.stack.pop();return e.isOpen||delete e.env,this.env=this.stack.length?this.Top().env:{},e},n.prototype.Top=function(e){return void 0===e&&(e=1),this.stack.length<e?null:this.stack[this.stack.length-e]},n.prototype.Prev=function(e){var t=this.Top();return e?t.First:t.Pop()},n.prototype.toString=function(){return"stack[\n  "+this.stack.join("\n  ")+"\n]"},n}();return Stack.default=o,Stack}function requireTexParser(){if(hasRequiredTexParser)return TexParser;hasRequiredTexParser=1;var e=TexParser&&TexParser.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=TexParser&&TexParser.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=TexParser&&TexParser.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=TexParser&&TexParser.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TexParser,"__esModule",{value:!0});var i=n(requireParseUtil()),o=n(requireStack()),a=n(requireTexError()),s=requireMmlNode(),l=function(){function n(t,r,n){var i,a;this._string=t,this.configuration=n,this.macroCount=0,this.i=0,this.currentCS="";var s,l=r.hasOwnProperty("isInner"),c=r.isInner;if(delete r.isInner,r){s={};try{for(var u=e(Object.keys(r)),d=u.next();!d.done;d=u.next()){var h=d.value;s[h]=r[h]}}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}this.configuration.pushParser(this),this.stack=new o.default(this.itemFactory,s,!l||c),this.Parse(),this.Push(this.itemFactory.create("stop"))}return Object.defineProperty(n.prototype,"options",{get:function(){return this.configuration.options},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"itemFactory",{get:function(){return this.configuration.itemFactory},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tags",{get:function(){return this.configuration.tags},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"string",{get:function(){return this._string},set:function(e){this._string=e},enumerable:!1,configurable:!0}),n.prototype.parse=function(e,t){return this.configuration.handlers.get(e).parse(t)},n.prototype.lookup=function(e,t){return this.configuration.handlers.get(e).lookup(t)},n.prototype.contains=function(e,t){return this.configuration.handlers.get(e).contains(t)},n.prototype.toString=function(){var t,r,n="";try{for(var i=e(Array.from(this.configuration.handlers.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;n+=a+": "+this.configuration.handlers.get(a)+"\n"}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},n.prototype.Parse=function(){for(var e;this.i<this.string.length;)e=this.getCodePoint(),this.i+=e.length,this.parse("character",[this,e])},n.prototype.Push=function(e){e instanceof s.AbstractMmlNode&&e.isInferred?this.PushAll(e.childNodes):this.stack.Push(e)},n.prototype.PushAll=function(t){var r,n;try{for(var i=e(t),o=i.next();!o.done;o=i.next()){var a=o.value;this.stack.Push(a)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},n.prototype.mml=function(){if(!this.stack.Top().isKind("mml"))return null;var e=this.stack.Top().First;return this.configuration.popParser(),e},n.prototype.convertDelimiter=function(e){var t=this.lookup("delimiter",e);return t?t.char:null},n.prototype.getCodePoint=function(){var e=this.string.codePointAt(this.i);return void 0===e?"":String.fromCodePoint(e)},n.prototype.nextIsSpace=function(){return!!this.string.charAt(this.i).match(/\s/)},n.prototype.GetNext=function(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()},n.prototype.GetCS=function(){var e=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return e?(this.i+=e[0].length,e[2]||e[1]):(this.i++," ")},n.prototype.GetArgument=function(e,t){switch(this.GetNext()){case"":if(!t)throw new a.default("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!t)throw new a.default("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":for(var r=++this.i,n=1;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":n++;break;case"}":if(0===--n)return this.string.slice(r,this.i-1)}throw new a.default("MissingCloseBrace","Missing close brace")}var i=this.getCodePoint();return this.i+=i.length,i},n.prototype.GetBrackets=function(e,t){if("["!==this.GetNext())return t;for(var r=++this.i,n=0;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":n++;break;case"\\":this.i++;break;case"}":if(n--<=0)throw new a.default("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"]":if(0===n)return this.string.slice(r,this.i-1)}throw new a.default("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)},n.prototype.GetDelimiter=function(e,t){var r=this.GetNext();if(this.i+=r.length,this.i<=this.string.length&&("\\"===r?r+=this.GetCS():"{"===r&&t&&(this.i--,r=this.GetArgument(e).trim()),this.contains("delimiter",r)))return this.convertDelimiter(r);throw new a.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},n.prototype.GetDimen=function(e){if("{"===this.GetNext()){var r=this.GetArgument(e),n=t(i.default.matchDimen(r),2),o=n[0],s=n[1];if(o)return o+s}else{r=this.string.slice(this.i);var l=t(i.default.matchDimen(r,!0),3),c=(o=l[0],s=l[1],l[2]);if(o)return this.i+=c,o+s}throw new a.default("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)},n.prototype.GetUpTo=function(e,t){for(;this.nextIsSpace();)this.i++;for(var r=this.i,n=0;this.i<this.string.length;){var i=this.i,o=this.GetNext();switch(this.i+=o.length,o){case"\\":o+=this.GetCS();break;case"{":n++;break;case"}":if(0===n)throw new a.default("ExtraCloseLooking","Extra close brace while looking for %1",t);n--}if(0===n&&o===t)return this.string.slice(r,i)}throw new a.default("TokenNotFoundForCommand","Could not find %1 for %2",t,this.currentCS)},n.prototype.ParseArg=function(e){return new n(this.GetArgument(e),this.stack.env,this.configuration).mml()},n.prototype.ParseUpTo=function(e,t){return new n(this.GetUpTo(e,t),this.stack.env,this.configuration).mml()},n.prototype.GetDelimiterArg=function(e){var t=i.default.trimSpaces(this.GetArgument(e));if(""===t)return null;if(this.contains("delimiter",t))return t;throw new a.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},n.prototype.GetStar=function(){var e="*"===this.GetNext();return e&&this.i++,e},n.prototype.create=function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=this.configuration.nodeFactory).create.apply(n,r([e],t(i),!1))},n}();return TexParser.default=l,TexParser}var ParseOptions={},StackItemFactory={},StackItem={},hasRequiredStackItem,hasRequiredStackItemFactory;function requireStackItem(){if(hasRequiredStackItem)return StackItem;hasRequiredStackItem=1;var e=StackItem&&StackItem.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=StackItem&&StackItem.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=StackItem&&StackItem.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=StackItem&&StackItem.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=StackItem&&StackItem.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(StackItem,"__esModule",{value:!0}),StackItem.BaseItem=StackItem.MmlStack=void 0;var o=i(requireTexError()),a=function(){function e(e){this._nodes=e}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),e.prototype.Push=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(e=this._nodes).push.apply(e,r([],t(n),!1))},e.prototype.Pop=function(){return this._nodes.pop()},Object.defineProperty(e.prototype,"First",{get:function(){return this._nodes[this.Size()-1]},set:function(e){this._nodes[this.Size()-1]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Last",{get:function(){return this._nodes[0]},set:function(e){this._nodes[0]=e},enumerable:!1,configurable:!0}),e.prototype.Peek=function(e){return null==e&&(e=1),this._nodes.slice(this.Size()-e)},e.prototype.Size=function(){return this._nodes.length},e.prototype.Clear=function(){this._nodes=[]},e.prototype.toMml=function(e,t){return void 0===e&&(e=!0),1!==this._nodes.length||t?this.create("node",e?"inferredMrow":"mrow",this._nodes,{}):this.First},e.prototype.create=function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=this.factory.configuration.nodeFactory).create.apply(n,r([e],t(i),!1))},e}();StackItem.MmlStack=a;var s=function(r){function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.call(this,t)||this;return i.factory=e,i.global={},i._properties={},i.isOpen&&(i._env={}),i}return e(i,r),Object.defineProperty(i.prototype,"kind",{get:function(){return"base"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"env",{get:function(){return this._env},set:function(e){this._env=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"copyEnv",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.getProperty=function(e){return this._properties[e]},i.prototype.setProperty=function(e,t){return this._properties[e]=t,this},Object.defineProperty(i.prototype,"isOpen",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isClose",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isFinal",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.isKind=function(e){return e===this.kind},i.prototype.checkItem=function(e){if(e.isKind("over")&&this.isOpen&&(e.setProperty("num",this.toMml(!1)),this.Clear()),e.isKind("cell")&&this.isOpen){if(e.getProperty("linebreak"))return i.fail;throw new o.default("Misplaced","Misplaced %1",e.getName())}if(e.isClose&&this.getErrors(e.kind)){var r=t(this.getErrors(e.kind),2),n=r[0],a=r[1];throw new o.default(n,a,e.getName())}return e.isFinal?(this.Push(e.First),i.fail):i.success},i.prototype.clearEnv=function(){var e,t;try{for(var r=n(Object.keys(this.env)),i=r.next();!i.done;i=r.next()){var o=i.value;delete this.env[o]}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},i.prototype.setProperties=function(e){return Object.assign(this._properties,e),this},i.prototype.getName=function(){return this.getProperty("name")},i.prototype.toString=function(){return this.kind+"["+this.nodes.join("; ")+"]"},i.prototype.getErrors=function(e){return(this.constructor.errors||{})[e]||i.errors[e]},i.fail=[null,!1],i.success=[null,!0],i.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]},i}(a);return StackItem.BaseItem=s,StackItem}function requireStackItemFactory(){if(hasRequiredStackItemFactory)return StackItemFactory;hasRequiredStackItemFactory=1;var e,t=StackItemFactory&&StackItemFactory.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(StackItemFactory,"__esModule",{value:!0});var r=requireStackItem(),n=requireFactory(),i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(r.BaseItem),o=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e.defaultKind="dummy",e.configuration=null,e}return t(n,r),n.DefaultStackItems=((e={})[i.prototype.kind]=i,e),n}(n.AbstractFactory);return StackItemFactory.default=o,StackItemFactory}var NodeFactory={},hasRequiredNodeFactory,hasRequiredParseOptions;function requireNodeFactory(){if(hasRequiredNodeFactory)return NodeFactory;hasRequiredNodeFactory=1;var e=NodeFactory&&NodeFactory.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=NodeFactory&&NodeFactory.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},r=NodeFactory&&NodeFactory.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NodeFactory,"__esModule",{value:!0}),NodeFactory.NodeFactory=void 0;var n=r(requireNodeUtil()),i=function(){function r(){this.mmlFactory=null,this.factory={node:r.createNode,token:r.createToken,text:r.createText,error:r.createError}}return r.createNode=function(e,t,r,i,o){void 0===r&&(r=[]),void 0===i&&(i={});var a=e.mmlFactory.create(t);return a.setChildren(r),o&&a.appendChild(o),n.default.setProperties(a,i),a},r.createToken=function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n="");var i=e.create("text",n);return e.create("node",t,[],r,i)},r.createText=function(e,t){return null==t?null:e.mmlFactory.create("text").setText(t)},r.createError=function(e,t){var r=e.create("text",t),n=e.create("node","mtext",[],{},r);return e.create("node","merror",[n],{"data-mjx-error":t})},r.prototype.setMmlFactory=function(e){this.mmlFactory=e},r.prototype.set=function(e,t){this.factory[e]=t},r.prototype.setCreators=function(e){for(var t in e)this.set(t,e[t])},r.prototype.create=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(this.factory[r]||this.factory.node).apply(void 0,t([this,n[0]],e(n.slice(1)),!1));return"node"===r&&this.configuration.addNode(n[0],o),o},r.prototype.get=function(e){return this.factory[e]},r}();return NodeFactory.NodeFactory=i,NodeFactory}function requireParseOptions(){if(hasRequiredParseOptions)return ParseOptions;hasRequiredParseOptions=1;var e=ParseOptions&&ParseOptions.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=ParseOptions&&ParseOptions.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},r=ParseOptions&&ParseOptions.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=ParseOptions&&ParseOptions.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ParseOptions,"__esModule",{value:!0});var i=n(requireStackItemFactory()),o=requireNodeFactory(),a=n(requireNodeUtil()),s=requireOptions(),l=function(){function n(r,n){void 0===n&&(n=[]),this.options={},this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=r.handlers,this.nodeFactory=new o.NodeFactory,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(r.nodes),this.itemFactory=new i.default(r.items),this.itemFactory.configuration=this,s.defaultOptions.apply(void 0,t([this.options],e(n),!1)),(0,s.defaultOptions)(this.options,r.options)}return n.prototype.pushParser=function(e){this.parsers.unshift(e)},n.prototype.popParser=function(){this.parsers.shift()},Object.defineProperty(n.prototype,"parser",{get:function(){return this.parsers[0]},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()},n.prototype.addNode=function(e,t){var r=this.nodeLists[e];if(r||(r=this.nodeLists[e]=[]),r.push(t),t.kind!==e){var n=a.default.getProperty(t,"in-lists")||"",i=(n?n.split(/,/):[]).concat(e).join(",");a.default.setProperty(t,"in-lists",i)}},n.prototype.getList=function(e){var t,n,i=this.nodeLists[e]||[],o=[];try{for(var a=r(i),s=a.next();!s.done;s=a.next()){var l=s.value;this.inTree(l)&&o.push(l)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.nodeLists[e]=o,o},n.prototype.removeFromList=function(e,t){var n,i,o=this.nodeLists[e]||[];try{for(var a=r(t),s=a.next();!s.done;s=a.next()){var l=s.value,c=o.indexOf(l);c>=0&&o.splice(c,1)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},n.prototype.inTree=function(e){for(;e&&e!==this.root;)e=e.parent;return!!e},n}();return ParseOptions.default=l,ParseOptions}var Tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,function(e){var t=Tags&&Tags.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=Tags&&Tags.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=Tags&&Tags.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TagsFactory=e.AllTags=e.NoTags=e.AbstractTags=e.TagInfo=e.Label=void 0;var i=n(requireTexParser()),o=function(){return function(e,t){void 0===e&&(e="???"),void 0===t&&(t=""),this.tag=e,this.id=t}}();e.Label=o;var a=function(){return function(e,t,r,n,i,o,a,s){void 0===e&&(e=""),void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===n&&(n=null),void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a=!1),void 0===s&&(s=""),this.env=e,this.taggable=t,this.defaultTags=r,this.tag=n,this.tagId=i,this.tagFormat=o,this.noTag=a,this.labelId=s}}();e.TagInfo=a;var s=function(){function e(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new a,this.history=[],this.stack=[],this.enTag=function(e,t){var r=this.configuration.nodeFactory,n=r.create("node","mtd",[e]),i=r.create("node","mlabeledtr",[t,n]);return r.create("node","mtable",[i],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}return e.prototype.start=function(e,t,r){this.currentTag&&this.stack.push(this.currentTag),this.currentTag=new a(e,t,r)},Object.defineProperty(e.prototype,"env",{get:function(){return this.currentTag.env},enumerable:!1,configurable:!0}),e.prototype.end=function(){this.history.push(this.currentTag),this.currentTag=this.stack.pop()},e.prototype.tag=function(e,t){this.currentTag.tag=e,this.currentTag.tagFormat=t?e:this.formatTag(e),this.currentTag.noTag=!1},e.prototype.notag=function(){this.tag("",!0),this.currentTag.noTag=!0},Object.defineProperty(e.prototype,"noTag",{get:function(){return this.currentTag.noTag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.currentTag.labelId},set:function(e){this.currentTag.labelId=e},enumerable:!1,configurable:!0}),e.prototype.formatUrl=function(e,t){return t+"#"+encodeURIComponent(e)},e.prototype.formatTag=function(e){return"("+e+")"},e.prototype.formatId=function(e){return"mjx-eqn:"+e.replace(/\s/g,"_")},e.prototype.formatNumber=function(e){return e.toString()},e.prototype.autoTag=function(){null==this.currentTag.tag&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))},e.prototype.clearTag=function(){this.label="",this.tag(null,!0),this.currentTag.tagId=""},e.prototype.getTag=function(e){if(void 0===e&&(e=!1),e)return this.autoTag(),this.makeTag();var t=this.currentTag;return t.taggable&&!t.noTag&&(t.defaultTags&&this.autoTag(),t.tag)?this.makeTag():null},e.prototype.resetTag=function(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()},e.prototype.reset=function(e){void 0===e&&(e=0),this.resetTag(),this.counter=this.allCounter=e,this.allLabels={},this.allIds={}},e.prototype.startEquation=function(e){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new a("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;var t=e.inputData.recompile;t&&(this.refUpdate=!0,this.counter=t.counter)},e.prototype.finishEquation=function(e){this.redo&&(e.inputData.recompile={state:e.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)},e.prototype.finalize=function(e,t){if(!t.display||this.currentTag.env||null==this.currentTag.tag)return e;var r=this.makeTag();return this.enTag(e,r)},e.prototype.makeId=function(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)},e.prototype.makeTag=function(){this.makeId(),this.label&&(this.labels[this.label]=new o(this.currentTag.tag,this.currentTag.tagId));var e=new i.default("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[e],{id:this.currentTag.tagId})},e}();e.AbstractTags=s;var l=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r.prototype.autoTag=function(){},r.prototype.getTag=function(){return this.currentTag.tag?e.prototype.getTag.call(this):null},r}(s);e.NoTags=l;var c,u,d,h=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r.prototype.finalize=function(e,t){if(!t.display||this.history.find(function(e){return e.taggable}))return e;var r=this.getTag(!0);return this.enTag(e,r)},r}(s);e.AllTags=h,c=e.TagsFactory||(e.TagsFactory={}),u=new Map([["none",l],["all",h]]),d="none",c.OPTIONS={tags:d,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1},c.add=function(e,t){u.set(e,t)},c.addTags=function(e){var t,n;try{for(var i=r(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;c.add(a,e[a])}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},c.create=function(e){var t=u.get(e)||u.get(d);if(!t)throw Error("Unknown tags class");return new t},c.setDefault=function(e){d=e},c.getDefault=function(){return c.create(d)}}(Tags)),Tags}var Configuration={},MapHandler={},hasRequiredMapHandler,hasRequiredConfiguration;function requireMapHandler(){return hasRequiredMapHandler||(hasRequiredMapHandler=1,function(e){var t=MapHandler&&MapHandler.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=MapHandler&&MapHandler.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.SubHandlers=e.SubHandler=e.MapHandler=void 0;var n,i,o,a=requirePrioritizedList(),s=requireFunctionList();i=n=e.MapHandler||(e.MapHandler={}),o=new Map,i.register=function(e){o.set(e.name,e)},i.getMap=function(e){return o.get(e)};var l=function(){function e(){this._configuration=new a.PrioritizedList,this._fallback=new s.FunctionList}return e.prototype.add=function(e,r,i){var o,s;void 0===i&&(i=a.PrioritizedList.DEFAULTPRIORITY);try{for(var l=t(e.slice().reverse()),c=l.next();!c.done;c=l.next()){var u=c.value,d=n.getMap(u);if(!d)return void this.warn("Configuration "+u+" not found! Omitted.");this._configuration.add(d,i)}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}r&&this._fallback.add(r,i)},e.prototype.parse=function(e){var n,i;try{for(var o=t(this._configuration),a=o.next();!a.done;a=o.next()){var s=a.value.item.parse(e);if(s)return s}}catch(d){n={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}var l=r(e,2),c=l[0],u=l[1];Array.from(this._fallback)[0].item(c,u)},e.prototype.lookup=function(e){var t=this.applicable(e);return t?t.lookup(e):null},e.prototype.contains=function(e){return!!this.applicable(e)},e.prototype.toString=function(){var e,r,n=[];try{for(var i=t(this._configuration),o=i.next();!o.done;o=i.next()){var a=o.value.item;n.push(a.name)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.join(", ")},e.prototype.applicable=function(e){var r,n;try{for(var i=t(this._configuration),o=i.next();!o.done;o=i.next()){var a=o.value.item;if(a.contains(e))return a}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.prototype.retrieve=function(e){var r,n;try{for(var i=t(this._configuration),o=i.next();!o.done;o=i.next()){var a=o.value.item;if(a.name===e)return a}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.prototype.warn=function(e){},e}();e.SubHandler=l;var c=function(){function e(){this.map=new Map}return e.prototype.add=function(e,r,n){var i,o;void 0===n&&(n=a.PrioritizedList.DEFAULTPRIORITY);try{for(var s=t(Object.keys(e)),c=s.next();!c.done;c=s.next()){var u=c.value,d=this.get(u);d||(d=new l,this.set(u,d)),d.add(e[u],r[u],n)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.set=function(e,t){this.map.set(e,t)},e.prototype.get=function(e){return this.map.get(e)},e.prototype.retrieve=function(e){var r,n;try{for(var i=t(this.map.values()),o=i.next();!o.done;o=i.next()){var a=o.value.retrieve(e);if(a)return a}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.prototype.keys=function(){return this.map.keys()},e}();e.SubHandlers=c}(MapHandler)),MapHandler}function requireConfiguration(){return hasRequiredConfiguration||(hasRequiredConfiguration=1,function(e){var t=Configuration&&Configuration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=Configuration&&Configuration.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserConfiguration=e.ConfigurationHandler=e.Configuration=void 0;var n,i,o,a=requireOptions(),s=requireMapHandler(),l=requireFunctionList(),c=requirePrioritizedList(),u=requireTags(),d=function(){function e(e,t,r,n,i,o,a,s,l,c,u,d,h){void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o={}),void 0===a&&(a={}),void 0===s&&(s=[]),void 0===l&&(l=[]),void 0===c&&(c=null),void 0===u&&(u=null),this.name=e,this.handler=t,this.fallback=r,this.items=n,this.tags=i,this.options=o,this.nodes=a,this.preprocessors=s,this.postprocessors=l,this.initMethod=c,this.configMethod=u,this.priority=d,this.parser=h,this.handler=Object.assign({character:[],delimiter:[],macro:[],environment:[]},t)}return e.makeProcessor=function(e,t){return Array.isArray(e)?e:[e,t]},e._create=function(t,r){var n=this;void 0===r&&(r={});var i=r.priority||c.PrioritizedList.DEFAULTPRIORITY,o=r.init?this.makeProcessor(r.init,i):null,a=r.config?this.makeProcessor(r.config,i):null,s=(r.preprocessors||[]).map(function(e){return n.makeProcessor(e,i)}),l=(r.postprocessors||[]).map(function(e){return n.makeProcessor(e,i)}),u=r.parser||"tex";return new e(t,r.handler||{},r.fallback||{},r.items||{},r.tags||{},r.options||{},r.nodes||{},s,l,o,a,i,u)},e.create=function(t,r){void 0===r&&(r={});var i=e._create(t,r);return n.set(t,i),i},e.local=function(t){return void 0===t&&(t={}),e._create("",t)},Object.defineProperty(e.prototype,"init",{get:function(){return this.initMethod?this.initMethod[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.configMethod?this.configMethod[0]:null},enumerable:!1,configurable:!0}),e}();e.Configuration=d,i=n=e.ConfigurationHandler||(e.ConfigurationHandler={}),o=new Map,i.set=function(e,t){o.set(e,t)},i.get=function(e){return o.get(e)},i.keys=function(){return o.keys()};var h=function(){function e(e,r){var n,i,o,a;void 0===r&&(r=["tex"]),this.initMethod=new l.FunctionList,this.configMethod=new l.FunctionList,this.configurations=new c.PrioritizedList,this.parsers=[],this.handlers=new s.SubHandlers,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=r;try{for(var u=t(e.slice().reverse()),d=u.next();!d.done;d=u.next()){var h=d.value;this.addPackage(h)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}try{for(var p=t(this.configurations),f=p.next();!f.done;f=p.next()){var m=f.value,g=m.item,y=m.priority;this.append(g,y)}}catch(v){o={error:v}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return e.prototype.init=function(){this.initMethod.execute(this)},e.prototype.config=function(e){var r,n;this.configMethod.execute(this,e);try{for(var i=t(this.configurations),o=i.next();!o.done;o=i.next()){var a=o.value;this.addFilters(e,a.item)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.addPackage=function(e){var t="string"==typeof e?e:e[0],r=this.getPackage(t);r&&this.configurations.add(r,"string"==typeof e?r.priority:e[1])},e.prototype.add=function(e,r,n){var i,o;void 0===n&&(n={});var s=this.getPackage(e);this.append(s),this.configurations.add(s,s.priority),this.init();var l=r.parseOptions;l.nodeFactory.setCreators(s.nodes);try{for(var c=t(Object.keys(s.items)),d=c.next();!d.done;d=c.next()){var h=d.value;l.itemFactory.setNodeClass(h,s.items[h])}}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}u.TagsFactory.addTags(s.tags),(0,a.defaultOptions)(l.options,s.options),(0,a.userOptions)(l.options,n),this.addFilters(r,s),s.config&&s.config(this,r)},e.prototype.getPackage=function(e){var t=n.get(e);if(t&&this.parsers.indexOf(t.parser)<0)throw Error("Package ".concat(e," doesn't target the proper parser"));return t},e.prototype.append=function(e,t){t=t||e.priority,e.initMethod&&this.initMethod.add(e.initMethod[0],e.initMethod[1]),e.configMethod&&this.configMethod.add(e.configMethod[0],e.configMethod[1]),this.handlers.add(e.handler,e.fallback,t),Object.assign(this.items,e.items),Object.assign(this.tags,e.tags),(0,a.defaultOptions)(this.options,e.options),Object.assign(this.nodes,e.nodes)},e.prototype.addFilters=function(e,n){var i,o,a,s;try{for(var l=t(n.preprocessors),c=l.next();!c.done;c=l.next()){var u=r(c.value,2),d=u[0],h=u[1];e.preFilters.add(d,h)}}catch(y){i={error:y}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}try{for(var p=t(n.postprocessors),f=p.next();!f.done;f=p.next()){var m=r(f.value,2),g=m[0];h=m[1];e.postFilters.add(g,h)}}catch(b){a={error:b}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}},e}();e.ParserConfiguration=h}(Configuration)),Configuration}var BaseConfiguration={},SymbolMap={},_Symbol={},hasRequired_Symbol,hasRequiredSymbolMap;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1,Object.defineProperty(_Symbol,"__esModule",{value:!0}),_Symbol.Macro=_Symbol.Symbol=void 0;var e=function(){function e(e,t,r){this._symbol=e,this._char=t,this._attributes=r}return Object.defineProperty(e.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"char",{get:function(){return this._char},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._attributes},enumerable:!1,configurable:!0}),e}();_Symbol.Symbol=e;var t=function(){function e(e,t,r){void 0===r&&(r=[]),this._symbol=e,this._func=t,this._args=r}return Object.defineProperty(e.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"func",{get:function(){return this._func},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this._args},enumerable:!1,configurable:!0}),e}();return _Symbol.Macro=t,_Symbol}function requireSymbolMap(){if(hasRequiredSymbolMap)return SymbolMap;hasRequiredSymbolMap=1;var e=SymbolMap&&SymbolMap.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=SymbolMap&&SymbolMap.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=SymbolMap&&SymbolMap.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=SymbolMap&&SymbolMap.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(SymbolMap,"__esModule",{value:!0}),SymbolMap.EnvironmentMap=SymbolMap.CommandMap=SymbolMap.MacroMap=SymbolMap.DelimiterMap=SymbolMap.CharacterMap=SymbolMap.AbstractParseMap=SymbolMap.RegExpMap=SymbolMap.AbstractSymbolMap=SymbolMap.parseResult=void 0;var i=require_Symbol(),o=requireMapHandler();function a(e){return void 0===e||e}SymbolMap.parseResult=a;var s=function(){function e(e,t){this._name=e,this._parser=t,o.MapHandler.register(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.parserFor=function(e){return this.contains(e)?this.parser:null},e.prototype.parse=function(e){var r=t(e,2),n=r[0],i=r[1],o=this.parserFor(i),s=this.lookup(i);return o&&s?a(o(n,s)):null},Object.defineProperty(e.prototype,"parser",{get:function(){return this._parser},set:function(e){this._parser=e},enumerable:!1,configurable:!0}),e}();SymbolMap.AbstractSymbolMap=s;var l=function(t){function r(e,r,n){var i=t.call(this,e,r)||this;return i._regExp=n,i}return e(r,t),r.prototype.contains=function(e){return this._regExp.test(e)},r.prototype.lookup=function(e){return this.contains(e)?e:null},r}(s);SymbolMap.RegExpMap=l;var c=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=new Map,e}return e(r,t),r.prototype.lookup=function(e){return this.map.get(e)},r.prototype.contains=function(e){return this.map.has(e)},r.prototype.add=function(e,t){this.map.set(e,t)},r.prototype.remove=function(e){this.map.delete(e)},r}(s);SymbolMap.AbstractParseMap=c;var u=function(n){function o(e,o,a){var s,l,c=n.call(this,e,o)||this;try{for(var u=r(Object.keys(a)),d=u.next();!d.done;d=u.next()){var h=d.value,p=a[h],f=t("string"==typeof p?[p,null]:p,2),m=f[0],g=f[1],y=new i.Symbol(h,m,g);c.add(h,y)}}catch(b){s={error:b}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}return c}return e(o,n),o}(c);SymbolMap.CharacterMap=u;var d=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.parse=function(e){var n=t(e,2),i=n[0],o=n[1];return r.prototype.parse.call(this,[i,"\\"+o])},n}(u);SymbolMap.DelimiterMap=d;var h=function(o){function s(e,n,a){var s,l,c=o.call(this,e,null)||this;try{for(var u=r(Object.keys(n)),d=u.next();!d.done;d=u.next()){var h=d.value,p=n[h],f=t("string"==typeof p?[p]:p),m=f[0],g=f.slice(1),y=new i.Macro(h,a[m],g);c.add(h,y)}}catch(b){s={error:b}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}return c}return e(s,o),s.prototype.parserFor=function(e){var t=this.lookup(e);return t?t.func:null},s.prototype.parse=function(e){var r=t(e,2),i=r[0],o=r[1],s=this.lookup(o),l=this.parserFor(o);return s&&l?a(l.apply(void 0,n([i,s.symbol],t(s.args),!1))):null},s}(c);SymbolMap.MacroMap=h;var p=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return e(i,r),i.prototype.parse=function(e){var r=t(e,2),i=r[0],o=r[1],s=this.lookup(o),l=this.parserFor(o);if(!s||!l)return null;var c=i.currentCS;i.currentCS="\\"+o;var u=l.apply(void 0,n([i,"\\"+s.symbol],t(s.args),!1));return i.currentCS=c,a(u)},i}(h);SymbolMap.CommandMap=p;var f=function(r){function n(e,t,n,i){var o=r.call(this,e,n,i)||this;return o.parser=t,o}return e(n,r),n.prototype.parse=function(e){var r=t(e,2),n=r[0],i=r[1],o=this.lookup(i),s=this.parserFor(i);return o&&s?a(this.parser(n,o.symbol,s,o.args)):null},n}(h);return SymbolMap.EnvironmentMap=f,SymbolMap}var BaseItems={},hasRequiredBaseItems;function requireBaseItems(){if(hasRequiredBaseItems)return BaseItems;hasRequiredBaseItems=1;var e=BaseItems&&BaseItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=BaseItems&&BaseItems.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=BaseItems&&BaseItems.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=BaseItems&&BaseItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BaseItems,"__esModule",{value:!0}),BaseItems.EquationItem=BaseItems.EqnArrayItem=BaseItems.ArrayItem=BaseItems.DotsItem=BaseItems.NonscriptItem=BaseItems.NotItem=BaseItems.FnItem=BaseItems.MmlItem=BaseItems.CellItem=BaseItems.PositionItem=BaseItems.StyleItem=BaseItems.EndItem=BaseItems.BeginItem=BaseItems.RightItem=BaseItems.Middle=BaseItems.LeftItem=BaseItems.OverItem=BaseItems.SubsupItem=BaseItems.PrimeItem=BaseItems.CloseItem=BaseItems.OpenItem=BaseItems.StopItem=BaseItems.StartItem=void 0;var i=requireMapHandler(),o=requireEntities(),a=requireMmlNode(),s=n(requireTexError()),l=n(requireParseUtil()),c=n(requireNodeUtil()),u=requireStackItem(),d=function(t){function r(e,r){var n=t.call(this,e)||this;return n.global=r,n}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"start"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("stop")){var r=this.toMml();return this.global.isInner||(r=this.factory.configuration.tags.finalize(r,this.env)),[[this.factory.create("mml",r)],!0]}return t.prototype.checkItem.call(this,e)},r}(u.BaseItem);BaseItems.StartItem=d;var h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"stop"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.StopItem=h;var p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"open"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("close")){var r=this.toMml(),n=this.create("node","TeXAtom",[r]);return[[this.factory.create("mml",n)],!0]}return t.prototype.checkItem.call(this,e)},r.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]}),r}(u.BaseItem);BaseItems.OpenItem=p;var f=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"close"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.CloseItem=f;var m=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),Object.defineProperty(n.prototype,"kind",{get:function(){return"prime"},enumerable:!1,configurable:!0}),n.prototype.checkItem=function(e){var r=t(this.Peek(2),2),n=r[0],i=r[1];return!c.default.isType(n,"msubsup")||c.default.isType(n,"msup")?[[this.create("node","msup",[n,i]),e],!0]:(c.default.setChild(n,n.sup,i),[[n,e],!0])},n}(u.BaseItem);BaseItems.PrimeItem=m;var g=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"subsup"},enumerable:!1,configurable:!0}),i.prototype.checkItem=function(e){if(e.isKind("open")||e.isKind("left"))return u.BaseItem.success;var i=this.First,o=this.getProperty("position");if(e.isKind("mml")){if(this.getProperty("primes"))if(2!==o)c.default.setChild(i,2,this.getProperty("primes"));else{c.default.setProperty(this.getProperty("primes"),"variantForm",!0);var a=this.create("node","mrow",[this.getProperty("primes"),e.First]);e.First=a}return c.default.setChild(i,o,e.First),null!=this.getProperty("movesupsub")&&c.default.setProperty(i,"movesupsub",this.getProperty("movesupsub")),[[this.factory.create("mml",i)],!0]}if(n.prototype.checkItem.call(this,e)[1]){var l=this.getErrors(["","sub","sup"][o]);throw new(s.default.bind.apply(s.default,r([void 0,l[0],l[1]],t(l.splice(2)),!1)))}return null},i.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]}),i}(u.BaseItem);BaseItems.SubsupItem=g;var y=function(t){function r(e){var r=t.call(this,e)||this;return r.setProperty("name","\\over"),r}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"over"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("over"))throw new s.default("AmbiguousUseOf","Ambiguous use of %1",e.getName());if(e.isClose){var r=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return null!=this.getProperty("thickness")&&c.default.setAttribute(r,"linethickness",this.getProperty("thickness")),(this.getProperty("open")||this.getProperty("close"))&&(c.default.setProperty(r,"withDelims",!0),r=l.default.fixedFence(this.factory.configuration,this.getProperty("open"),r,this.getProperty("close"))),[[this.factory.create("mml",r),e],!0]}return t.prototype.checkItem.call(this,e)},r.prototype.toString=function(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"},r}(u.BaseItem);BaseItems.OverItem=y;var b=function(t){function r(e,r){var n=t.call(this,e)||this;return n.setProperty("delim",r),n}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"left"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("right"))return[[this.factory.create("mml",l.default.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),e.getProperty("delim"),"",e.getProperty("color")))],!0];if(e.isKind("middle")){var r={stretchy:!0};return e.getProperty("color")&&(r.mathcolor=e.getProperty("color")),this.Push(this.create("node","TeXAtom",[],{texClass:a.TEXCLASS.CLOSE}),this.create("token","mo",r,e.getProperty("delim")),this.create("node","TeXAtom",[],{texClass:a.TEXCLASS.OPEN})),this.env={},[[this],!0]}return t.prototype.checkItem.call(this,e)},r.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]}),r}(u.BaseItem);BaseItems.LeftItem=b;var v=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.setProperty("delim",r),n&&i.setProperty("color",n),i}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"middle"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.Middle=v;var x=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.setProperty("delim",r),n&&i.setProperty("color",n),i}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"right"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.RightItem=x;var $=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"begin"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new s.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());return this.getProperty("end")?u.BaseItem.fail:[[this.factory.create("mml",this.toMml())],!0]}if(e.isKind("stop"))throw new s.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},r}(u.BaseItem);BaseItems.BeginItem=$;var S=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"end"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.EndItem=S;var E=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"style"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(!e.isClose)return t.prototype.checkItem.call(this,e);var r=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",r),e],!0]},r}(u.BaseItem);BaseItems.StyleItem=E;var w=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"position"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isClose)throw new s.default("MissingBoxFor","Missing box for %1",this.getName());if(e.isFinal){var r=e.toMml();switch(this.getProperty("move")){case"vertical":return r=this.create("node","mpadded",[r],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",r)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),e,this.factory.create("mml",this.getProperty("right"))],!0]}}return t.prototype.checkItem.call(this,e)},r}(u.BaseItem);BaseItems.PositionItem=w;var _=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"cell"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.CellItem=_;var M=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"isFinal",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"kind",{get:function(){return"mml"},enumerable:!1,configurable:!0}),r}(u.BaseItem);BaseItems.MmlItem=M;var C=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"fn"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){var r=this.First;if(r){if(e.isOpen)return u.BaseItem.success;if(!e.isKind("fn")){var n=e.First;if(!e.isKind("mml")||!n)return[[r,e],!0];if(c.default.isType(n,"mstyle")&&n.childNodes.length&&c.default.isType(n.childNodes[0].childNodes[0],"mspace")||c.default.isType(n,"mspace"))return[[r,e],!0];c.default.isEmbellished(n)&&(n=c.default.getCoreMO(n));var i=c.default.getForm(n);if(null!=i&&[0,0,1,1,0,1,1,0,0,0][i[2]])return[[r,e],!0]}return[[r,this.create("token","mo",{texClass:a.TEXCLASS.NONE},o.entities.ApplyFunction),e],!0]}return t.prototype.checkItem.apply(this,arguments)},r}(u.BaseItem);BaseItems.FnItem=C;var T=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.remap=i.MapHandler.getMap("not_remap"),e}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"not"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){var t,r,n;if(e.isKind("open")||e.isKind("left"))return u.BaseItem.success;if(e.isKind("mml")&&(c.default.isType(e.First,"mo")||c.default.isType(e.First,"mi")||c.default.isType(e.First,"mtext"))&&(t=e.First,1===(r=c.default.getText(t)).length&&!c.default.getProperty(t,"movesupsub")&&1===c.default.getChildren(t).length))return this.remap.contains(r)?(n=this.create("text",this.remap.lookup(r).char),c.default.setChild(t,0,n)):(n=this.create("text",""),c.default.appendChildren(t,[n])),[[e],!0];n=this.create("text","");var i=this.create("node","mtext",[],{},n),o=this.create("node","mpadded",[i],{width:0});return[[t=this.create("node","TeXAtom",[o],{texClass:a.TEXCLASS.REL}),e],!0]},r}(u.BaseItem);BaseItems.NotItem=T;var R=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"nonscript"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("mml")&&1===e.Size()){var t=e.First;if(t.isKind("mstyle")&&t.notParent&&(t=c.default.getChildren(c.default.getChildren(t)[0])[0]),t.isKind("mspace")){if(t!==e.First){var r=this.create("node","mrow",[e.Pop()]);e.Push(r)}this.factory.configuration.addNode("nonscript",e.First)}}return[[e],!0]},r}(u.BaseItem);BaseItems.NonscriptItem=R;var O=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"dots"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("open")||e.isKind("left"))return u.BaseItem.success;var t=this.getProperty("ldots"),r=e.First;if(e.isKind("mml")&&c.default.isEmbellished(r)){var n=c.default.getTexClass(c.default.getCoreMO(r));n!==a.TEXCLASS.BIN&&n!==a.TEXCLASS.REL||(t=this.getProperty("cdots"))}return[[t,e],!0]},r}(u.BaseItem);BaseItems.DotsItem=O;var k=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.table=[],e.row=[],e.frame=[],e.hfill=[],e.arraydef={},e.dashed=!1,e}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"array"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"copyEnv",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isClose&&!e.isKind("over")){if(e.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),u.BaseItem.fail;if(e.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),u.BaseItem.fail;this.EndTable(),this.clearEnv();var r=this.factory.create("mml",this.createMml());if(this.getProperty("requireClose")){if(e.isKind("close"))return[[r],!0];throw new s.default("MissingCloseBrace","Missing close brace")}return[[r,e],!0]}return t.prototype.checkItem.call(this,e)},r.prototype.createMml=function(){var e=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;var t=this.create("node","mtable",this.table,this.arraydef);return e&&t.setProperty("scriptlevel",e),4===this.frame.length?c.default.setAttribute(t,"frame",this.dashed?"dashed":"solid"):this.frame.length&&(this.arraydef.rowlines&&(this.arraydef.rowlines=this.arraydef.rowlines.replace(/none( none)+$/,"none")),c.default.setAttribute(t,"frame",""),t=this.create("node","menclose",[t],{notation:this.frame.join(" ")}),"none"===(this.arraydef.columnlines||"none")&&"none"===(this.arraydef.rowlines||"none")||c.default.setAttribute(t,"data-padding",0)),(this.getProperty("open")||this.getProperty("close"))&&(t=l.default.fenced(this.factory.configuration,this.getProperty("open"),t,this.getProperty("close"))),t},r.prototype.EndEntry=function(){var e=this.create("node","mtd",this.nodes);this.hfill.length&&(0===this.hfill[0]&&c.default.setAttribute(e,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&c.default.setAttribute(e,"columnalign",c.default.getAttribute(e,"columnalign")?"center":"left")),this.row.push(e),this.Clear(),this.hfill=[]},r.prototype.EndRow=function(){var e;this.getProperty("isNumbered")&&3===this.row.length?(this.row.unshift(this.row.pop()),e=this.create("node","mlabeledtr",this.row)):e=this.create("node","mtr",this.row),this.table.push(e),this.row=[]},r.prototype.EndTable=function(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()},r.prototype.checkLines=function(){if(this.arraydef.rowlines){var e=this.arraydef.rowlines.split(/ /);e.length===this.table.length?(this.frame.push("bottom"),e.pop(),this.arraydef.rowlines=e.join(" ")):e.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){for(var t=this.arraydef.rowspacing.split(/ /);t.length<this.table.length;)t.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=t.join(" ")}},r.prototype.addRowSpacing=function(e){if(this.arraydef.rowspacing){var t=this.arraydef.rowspacing.split(/ /);if(!this.getProperty("rowspacing")){var r=l.default.dimen2em(t[0]);this.setProperty("rowspacing",r)}for(var n=this.getProperty("rowspacing");t.length<this.table.length;)t.push(l.default.Em(n));t[this.table.length-1]=l.default.Em(Math.max(0,n+l.default.dimen2em(e))),this.arraydef.rowspacing=t.join(" ")}},r}(u.BaseItem);BaseItems.ArrayItem=k;var A=function(n){function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=n.call(this,e)||this;return i.maxrow=0,i.factory.configuration.tags.start(t[0],t[2],t[1]),i}return e(i,n),Object.defineProperty(i.prototype,"kind",{get:function(){return"eqnarray"},enumerable:!1,configurable:!0}),i.prototype.EndEntry=function(){this.row.length&&l.default.fixInitialMO(this.factory.configuration,this.nodes);var e=this.create("node","mtd",this.nodes);this.row.push(e),this.Clear()},i.prototype.EndRow=function(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);var e="mtr",t=this.factory.configuration.tags.getTag();t&&(this.row=[t].concat(this.row),e="mlabeledtr"),this.factory.configuration.tags.clearTag();var r=this.create("node",e,this.row);this.table.push(r),this.row=[]},i.prototype.EndTable=function(){n.prototype.EndTable.call(this),this.factory.configuration.tags.end(),this.extendArray("columnalign",this.maxrow),this.extendArray("columnwidth",this.maxrow),this.extendArray("columnspacing",this.maxrow-1)},i.prototype.extendArray=function(e,n){if(this.arraydef[e]){var i=this.arraydef[e].split(/ /),o=r([],t(i),!1);if(o.length>1){for(;o.length<n;)o.push.apply(o,r([],t(i),!1));this.arraydef[e]=o.slice(0,n).join(" ")}}},i}(k);BaseItems.EqnArrayItem=A;var N=function(t){function r(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,e)||this;return i.factory.configuration.tags.start("equation",!0,r[0]),i}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"equation"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("end")){var r=this.toMml(),n=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[n?this.factory.configuration.tags.enTag(r,n):r,e],!0]}if(e.isKind("stop"))throw new s.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},r}(u.BaseItem);return BaseItems.EquationItem=N,BaseItems}var BaseMappings={},TexConstants={},hasRequiredTexConstants;function requireTexConstants(){return hasRequiredTexConstants||(hasRequiredTexConstants=1,e=TexConstants,Object.defineProperty(e,"__esModule",{value:!0}),e.TexConstant=void 0,(t=e.TexConstant||(e.TexConstant={})).Variant={NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},t.Form={PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},t.LineBreak={AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},t.LineBreakStyle={BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},t.IndentAlign={LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},t.IndentShift={INDENTSHIFT:"indentshift"},t.LineThickness={THIN:"thin",MEDIUM:"medium",THICK:"thick"},t.Notation={LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},t.Align={TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},t.Lines={NONE:"none",SOLID:"solid",DASHED:"dashed"},t.Side={LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},t.Width={AUTO:"auto",FIT:"fit"},t.Actiontype={TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},t.Overflow={LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},t.Unit={EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"}),TexConstants;var e,t}var BaseMethods={},hasRequiredBaseMethods;function requireBaseMethods(){if(hasRequiredBaseMethods)return BaseMethods;hasRequiredBaseMethods=1;var e=BaseMethods&&BaseMethods.__assign||function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)},t=BaseMethods&&BaseMethods.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=BaseMethods&&BaseMethods.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=BaseMethods&&BaseMethods.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=BaseMethods&&BaseMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=BaseMethods&&BaseMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BaseMethods,"__esModule",{value:!0});var a=n(requireBaseItems()),s=o(requireNodeUtil()),l=o(requireTexError()),c=o(requireTexParser()),u=requireTexConstants(),d=o(requireParseUtil()),h=requireMmlNode(),p=requireTags(),f=requireLengths(),m=requireEntities(),g=requireOptions(),y={},b=1.2/.85,v={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function x(e,t){var r=e.stack.env,n=r.inRoot;r.inRoot=!0;var i=new c.default(t,r,e.configuration),o=i.mml(),a=i.stack.global;if(a.leftRoot||a.upRoot){var s={};a.leftRoot&&(s.width=a.leftRoot),a.upRoot&&(s.voffset=a.upRoot,s.height=a.upRoot),o=e.create("node","mpadded",[o],s)}return r.inRoot=n,o}return y.Open=function(e,t){e.Push(e.itemFactory.create("open"))},y.Close=function(e,t){e.Push(e.itemFactory.create("close"))},y.Tilde=function(e,t){e.Push(e.create("token","mtext",{},m.entities.nbsp))},y.Space=function(e,t){},y.Superscript=function(e,t){var r,n,o;e.GetNext().match(/\d/)&&(e.string=e.string.substr(0,e.i+1)+" "+e.string.substr(e.i+1));var a=e.stack.Top();a.isKind("prime")?(o=(r=i(a.Peek(2),2))[0],n=r[1],e.stack.Pop()):(o=e.stack.Prev())||(o=e.create("token","mi",{},""));var c=s.default.getProperty(o,"movesupsub"),u=s.default.isType(o,"msubsup")?o.sup:o.over;if(s.default.isType(o,"msubsup")&&!s.default.isType(o,"msup")&&s.default.getChildAt(o,o.sup)||s.default.isType(o,"munderover")&&!s.default.isType(o,"mover")&&s.default.getChildAt(o,o.over)&&!s.default.getProperty(o,"subsupOK"))throw new l.default("DoubleExponent","Double exponent: use braces to clarify");s.default.isType(o,"msubsup")&&!s.default.isType(o,"msup")||(c?((!s.default.isType(o,"munderover")||s.default.isType(o,"mover")||s.default.getChildAt(o,o.over))&&(o=e.create("node","munderover",[o],{movesupsub:!0})),u=o.over):u=(o=e.create("node","msubsup",[o])).sup),e.Push(e.itemFactory.create("subsup",o).setProperties({position:u,primes:n,movesupsub:c}))},y.Subscript=function(e,t){var r,n,o;e.GetNext().match(/\d/)&&(e.string=e.string.substr(0,e.i+1)+" "+e.string.substr(e.i+1));var a=e.stack.Top();a.isKind("prime")?(o=(r=i(a.Peek(2),2))[0],n=r[1],e.stack.Pop()):(o=e.stack.Prev())||(o=e.create("token","mi",{},""));var c=s.default.getProperty(o,"movesupsub"),u=s.default.isType(o,"msubsup")?o.sub:o.under;if(s.default.isType(o,"msubsup")&&!s.default.isType(o,"msup")&&s.default.getChildAt(o,o.sub)||s.default.isType(o,"munderover")&&!s.default.isType(o,"mover")&&s.default.getChildAt(o,o.under)&&!s.default.getProperty(o,"subsupOK"))throw new l.default("DoubleSubscripts","Double subscripts: use braces to clarify");s.default.isType(o,"msubsup")&&!s.default.isType(o,"msup")||(c?((!s.default.isType(o,"munderover")||s.default.isType(o,"mover")||s.default.getChildAt(o,o.under))&&(o=e.create("node","munderover",[o],{movesupsub:!0})),u=o.under):u=(o=e.create("node","msubsup",[o])).sub),e.Push(e.itemFactory.create("subsup",o).setProperties({position:u,primes:n,movesupsub:c}))},y.Prime=function(e,t){var r=e.stack.Prev();if(r||(r=e.create("node","mi")),s.default.isType(r,"msubsup")&&!s.default.isType(r,"msup")&&s.default.getChildAt(r,r.sup))throw new l.default("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");var n="";e.i--;do{n+=m.entities.prime,e.i++,t=e.GetNext()}while("'"===t||t===m.entities.rsquo);n=["","","","",""][n.length]||n;var i=e.create("token","mo",{variantForm:!0},n);e.Push(e.itemFactory.create("prime",r,i))},y.Comment=function(e,t){for(;e.i<e.string.length&&"\n"!==e.string.charAt(e.i);)e.i++},y.Hash=function(e,t){throw new l.default("CantUseHash1","You can't use 'macro parameter character #' in math mode")},y.MathFont=function(t,r,n){var i=t.GetArgument(r),o=new c.default(i,e(e({},t.stack.env),{font:n,multiLetterIdentifiers:/^[a-zA-Z]+/,noAutoOP:!0}),t.configuration).mml();t.Push(t.create("node","TeXAtom",[o]))},y.SetFont=function(e,t,r){e.stack.env.font=r},y.SetStyle=function(e,t,r,n,i){e.stack.env.style=r,e.stack.env.level=i,e.Push(e.itemFactory.create("style").setProperty("styles",{displaystyle:n,scriptlevel:i}))},y.SetSize=function(e,t,r){e.stack.env.size=r,e.Push(e.itemFactory.create("style").setProperty("styles",{mathsize:(0,f.em)(r)}))},y.Spacer=function(e,t,r){var n=e.create("node","mspace",[],{width:(0,f.em)(r)}),i=e.create("node","mstyle",[n],{scriptlevel:0});e.Push(i)},y.LeftRight=function(e,t){var r=t.substr(1);e.Push(e.itemFactory.create(r,e.GetDelimiter(t),e.stack.env.color))},y.NamedFn=function(e,t,r){r||(r=t.substr(1));var n=e.create("token","mi",{texClass:h.TEXCLASS.OP},r);e.Push(e.itemFactory.create("fn",n))},y.NamedOp=function(e,t,r){r||(r=t.substr(1)),r=r.replace(/&thinsp;/,"");var n=e.create("token","mo",{movablelimits:!0,movesupsub:!0,form:u.TexConstant.Form.PREFIX,texClass:h.TEXCLASS.OP},r);e.Push(n)},y.Limits=function(e,t,r){var n=e.stack.Prev(!0);if(!n||s.default.getTexClass(s.default.getCoreMO(n))!==h.TEXCLASS.OP&&null==s.default.getProperty(n,"movesupsub"))throw new l.default("MisplacedLimits","%1 is allowed only on operators",e.currentCS);var i,o=e.stack.Top();s.default.isType(n,"munderover")&&!r?(i=e.create("node","msubsup"),s.default.copyChildren(n,i),n=o.Last=i):s.default.isType(n,"msubsup")&&r&&(i=e.create("node","munderover"),s.default.copyChildren(n,i),n=o.Last=i),s.default.setProperty(n,"movesupsub",!!r),s.default.setProperties(s.default.getCoreMO(n),{movablelimits:!1}),(s.default.getAttribute(n,"movablelimits")||s.default.getProperty(n,"movablelimits"))&&s.default.setProperties(n,{movablelimits:!1})},y.Over=function(e,t,r,n){var i=e.itemFactory.create("over").setProperty("name",e.currentCS);r||n?(i.setProperty("open",r),i.setProperty("close",n)):t.match(/withdelims$/)&&(i.setProperty("open",e.GetDelimiter(t)),i.setProperty("close",e.GetDelimiter(t))),t.match(/^\\above/)?i.setProperty("thickness",e.GetDimen(t)):(t.match(/^\\atop/)||r||n)&&i.setProperty("thickness",0),e.Push(i)},y.Frac=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t),i=e.create("node","mfrac",[r,n]);e.Push(i)},y.Sqrt=function(e,t){var r=e.GetBrackets(t),n=e.GetArgument(t);"\\frac"===n&&(n+="{"+e.GetArgument(n)+"}{"+e.GetArgument(n)+"}");var i=new c.default(n,e.stack.env,e.configuration).mml();i=r?e.create("node","mroot",[i,x(e,r)]):e.create("node","msqrt",[i]),e.Push(i)},y.Root=function(e,t){var r=e.GetUpTo(t,"\\of"),n=e.ParseArg(t),i=e.create("node","mroot",[n,x(e,r)]);e.Push(i)},y.MoveRoot=function(e,t,r){if(!e.stack.env.inRoot)throw new l.default("MisplacedMoveRoot","%1 can appear only within a root",e.currentCS);if(e.stack.global[r])throw new l.default("MultipleMoveRoot","Multiple use of %1",e.currentCS);var n=e.GetArgument(t);if(!n.match(/-?[0-9]+/))throw new l.default("IntegerArg","The argument to %1 must be an integer",e.currentCS);"-"!==(n=parseInt(n,10)/15+"em").substr(0,1)&&(n="+"+n),e.stack.global[r]=n},y.Accent=function(t,r,n,i){var o=t.ParseArg(r),a=e(e({},d.default.getFontDef(t)),{accent:!0,mathaccent:!0}),l=s.default.createEntity(n),c=t.create("token","mo",a,l);s.default.setAttribute(c,"stretchy",!!i);var u=s.default.isEmbellished(o)?s.default.getCoreMO(o):o;(s.default.isType(u,"mo")||s.default.getProperty(u,"movablelimits"))&&s.default.setProperties(u,{movablelimits:!1});var h=t.create("node","munderover");s.default.setChild(h,0,o),s.default.setChild(h,1,null),s.default.setChild(h,2,c);var p=t.create("node","TeXAtom",[h]);t.Push(p)},y.UnderOver=function(e,t,r,n){var i=s.default.createEntity(r),o=e.create("token","mo",{stretchy:!0,accent:!0},i),a="o"===t.charAt(1)?"over":"under",l=e.ParseArg(t);e.Push(d.default.underOver(e,l,o,a,n))},y.Overset=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t);d.default.checkMovableLimits(n),r.isKind("mo")&&s.default.setAttribute(r,"accent",!1);var i=e.create("node","mover",[n,r]);e.Push(i)},y.Underset=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t);d.default.checkMovableLimits(n),r.isKind("mo")&&s.default.setAttribute(r,"accent",!1);var i=e.create("node","munder",[n,r],{accentunder:!1});e.Push(i)},y.Overunderset=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t),i=e.ParseArg(t);d.default.checkMovableLimits(i),r.isKind("mo")&&s.default.setAttribute(r,"accent",!1),n.isKind("mo")&&s.default.setAttribute(n,"accent",!1);var o=e.create("node","munderover",[i,n,r],{accent:!1,accentunder:!1});e.Push(o)},y.TeXAtom=function(e,t,r){var n,i,o,a={texClass:r};if(r===h.TEXCLASS.OP){a.movesupsub=a.movablelimits=!0;var s=e.GetArgument(t),l=s.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);l?(a.mathvariant=u.TexConstant.Variant.NORMAL,i=e.create("token","mi",a,l[1])):(o=new c.default(s,e.stack.env,e.configuration).mml(),i=e.create("node","TeXAtom",[o],a)),n=e.itemFactory.create("fn",i)}else o=e.ParseArg(t),n=e.create("node","TeXAtom",[o],a);e.Push(n)},y.MmlToken=function(e,t){var r,n=e.GetArgument(t),i=e.GetBrackets(t,"").replace(/^\s+/,""),o=e.GetArgument(t),a={},c=[];try{r=e.create("node",n)}catch(f){r=null}if(!r||!r.isToken)throw new l.default("NotMathMLToken","%1 is not a token element",n);for(;""!==i;){var u=i.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!u)throw new l.default("InvalidMathMLAttr","Invalid MathML attribute: %1",i);if(!r.attributes.hasDefault(u[1])&&!v[u[1]])throw new l.default("UnknownAttrForElement","%1 is not a recognized attribute for %2",u[1],n);var h=d.default.MmlFilterAttribute(e,u[1],u[2].replace(/^(['"])(.*)\1$/,"$2"));h&&("true"===h.toLowerCase()?h=!0:"false"===h.toLowerCase()&&(h=!1),a[u[1]]=h,c.push(u[1])),i=i.substr(u[0].length)}c.length&&(a["mjx-keep-attrs"]=c.join(" "));var p=e.create("text",o);r.appendChild(p),s.default.setProperties(r,a),e.Push(r)},y.Strut=function(e,t){var r=e.create("node","mrow"),n=e.create("node","mpadded",[r],{height:"8.6pt",depth:"3pt",width:0});e.Push(n)},y.Phantom=function(e,t,r,n){var i=e.create("node","mphantom",[e.ParseArg(t)]);(r||n)&&(i=e.create("node","mpadded",[i]),n&&(s.default.setAttribute(i,"height",0),s.default.setAttribute(i,"depth",0)),r&&s.default.setAttribute(i,"width",0));var o=e.create("node","TeXAtom",[i]);e.Push(o)},y.Smash=function(e,t){var r=d.default.trimSpaces(e.GetBrackets(t,"")),n=e.create("node","mpadded",[e.ParseArg(t)]);switch(r){case"b":s.default.setAttribute(n,"depth",0);break;case"t":s.default.setAttribute(n,"height",0);break;default:s.default.setAttribute(n,"height",0),s.default.setAttribute(n,"depth",0)}var i=e.create("node","TeXAtom",[n]);e.Push(i)},y.Lap=function(e,t){var r=e.create("node","mpadded",[e.ParseArg(t)],{width:0});"\\llap"===t&&s.default.setAttribute(r,"lspace","-1width");var n=e.create("node","TeXAtom",[r]);e.Push(n)},y.RaiseLower=function(e,t){var r=e.GetDimen(t),n=e.itemFactory.create("position").setProperties({name:e.currentCS,move:"vertical"});"-"===r.charAt(0)&&(r=r.slice(1),t="raise"===t.substr(1)?"\\lower":"\\raise"),"\\lower"===t?(n.setProperty("dh","-"+r),n.setProperty("dd","+"+r)):(n.setProperty("dh","+"+r),n.setProperty("dd","-"+r)),e.Push(n)},y.MoveLeftRight=function(e,t){var r=e.GetDimen(t),n="-"===r.charAt(0)?r.slice(1):"-"+r;if("\\moveleft"===t){var i=r;r=n,n=i}e.Push(e.itemFactory.create("position").setProperties({name:e.currentCS,move:"horizontal",left:e.create("node","mspace",[],{width:r}),right:e.create("node","mspace",[],{width:n})}))},y.Hskip=function(e,t){var r=e.create("node","mspace",[],{width:e.GetDimen(t)});e.Push(r)},y.Nonscript=function(e,t){e.Push(e.itemFactory.create("nonscript"))},y.Rule=function(e,t,r){var n={width:e.GetDimen(t),height:e.GetDimen(t),depth:e.GetDimen(t)};"blank"!==r&&(n.mathbackground=e.stack.env.color||"black");var i=e.create("node","mspace",[],n);e.Push(i)},y.rule=function(e,t){var r=e.GetBrackets(t),n=e.GetDimen(t),i=e.GetDimen(t),o=e.create("node","mspace",[],{width:n,height:i,mathbackground:e.stack.env.color||"black"});r&&(o=e.create("node","mpadded",[o],{voffset:r}),r.match(/^\-/)?(s.default.setAttribute(o,"height",r),s.default.setAttribute(o,"depth","+"+r.substr(1))):s.default.setAttribute(o,"height","+"+r)),e.Push(o)},y.MakeBig=function(e,t,r,n){var i=String(n*=b).replace(/(\.\d\d\d).+/,"$1")+"em",o=e.GetDelimiter(t,!0),a=e.create("token","mo",{minsize:i,maxsize:i,fence:!0,stretchy:!0,symmetric:!0},o),s=e.create("node","TeXAtom",[a],{texClass:r});e.Push(s)},y.BuildRel=function(e,t){var r=e.ParseUpTo(t,"\\over"),n=e.ParseArg(t),i=e.create("node","munderover");s.default.setChild(i,0,n),s.default.setChild(i,1,null),s.default.setChild(i,2,r);var o=e.create("node","TeXAtom",[i],{texClass:h.TEXCLASS.REL});e.Push(o)},y.HBox=function(e,t,r,n){e.PushAll(d.default.internalMath(e,e.GetArgument(t),r,n))},y.FBox=function(e,t){var r=d.default.internalMath(e,e.GetArgument(t)),n=e.create("node","menclose",r,{notation:"box"});e.Push(n)},y.FrameBox=function(e,t){var r=e.GetBrackets(t),n=e.GetBrackets(t)||"c",i=d.default.internalMath(e,e.GetArgument(t));r&&(i=[e.create("node","mpadded",i,{width:r,"data-align":(0,g.lookup)(n,{l:"left",r:"right"},"center")})]);var o=e.create("node","TeXAtom",[e.create("node","menclose",i,{notation:"box"})],{texClass:h.TEXCLASS.ORD});e.Push(o)},y.Not=function(e,t){e.Push(e.itemFactory.create("not"))},y.Dots=function(e,t){var r=s.default.createEntity("2026"),n=s.default.createEntity("22EF"),i=e.create("token","mo",{stretchy:!1},r),o=e.create("token","mo",{stretchy:!1},n);e.Push(e.itemFactory.create("dots").setProperties({ldots:i,cdots:o}))},y.Matrix=function(e,t,r,n,i,o,a,s,c,u){var d=e.GetNext();if(""===d)throw new l.default("MissingArgFor","Missing argument for %1",e.currentCS);"{"===d?e.i++:(e.string=d+"}"+e.string.slice(e.i+1),e.i=0);var h=e.itemFactory.create("array").setProperty("requireClose",!0);h.arraydef={rowspacing:a||"4pt",columnspacing:o||"1em"},c&&h.setProperty("isCases",!0),u&&(h.setProperty("isNumbered",!0),h.arraydef.side=u),(r||n)&&(h.setProperty("open",r),h.setProperty("close",n)),"D"===s&&(h.arraydef.displaystyle=!0),null!=i&&(h.arraydef.columnalign=i),e.Push(h)},y.Entry=function(e,t){e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}));var r=e.stack.Top(),n=r.getProperty("casesEnv");if(r.getProperty("isCases")||n){for(var i=e.string,o=0,a=-1,s=e.i,c=i.length,u=n?new RegExp("^\\\\end\\s*\\{".concat(n.replace(/\*/,"\\*"),"\\}")):null;s<c;){var h=i.charAt(s);if("{"===h)o++,s++;else if("}"===h)0===o?c=0:(0===--o&&a<0&&(a=s-e.i),s++);else{if("&"===h&&0===o)throw new l.default("ExtraAlignTab","Extra alignment tab in \\cases text");if("\\"===h){var p=i.substr(s);p.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||u&&p.match(u)?c=0:s+=2}else s++}}var f=i.substr(e.i,s-e.i);if(!f.match(/^\s*\\text[^a-zA-Z]/)||a!==f.replace(/\s+$/,"").length-1){var m=d.default.internalMath(e,d.default.trimSpaces(f),0);e.PushAll(m),e.i=s}}},y.Cr=function(e,t){e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t}))},y.CrLaTeX=function(e,t,r){var n;if(void 0===r&&(r=!1),!r&&("*"===e.string.charAt(e.i)&&e.i++,"["===e.string.charAt(e.i))){var o=e.GetBrackets(t,""),s=i(d.default.matchDimen(o),2),c=s[0],h=s[1];if(o&&!c)throw new l.default("BracketMustBeDimension","Bracket argument to %1 must be a dimension",e.currentCS);n=c+h}e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t,linebreak:!0}));var p,f=e.stack.Top();f instanceof a.ArrayItem?n&&f.addRowSpacing(n):(n&&(p=e.create("node","mspace",[],{depth:n}),e.Push(p)),p=e.create("node","mspace",[],{linebreak:u.TexConstant.LineBreak.NEWLINE}),e.Push(p))},y.HLine=function(e,t,r){null==r&&(r="solid");var n=e.stack.Top();if(!(n instanceof a.ArrayItem)||n.Size())throw new l.default("Misplaced","Misplaced %1",e.currentCS);if(n.table.length){for(var i=n.arraydef.rowlines?n.arraydef.rowlines.split(/ /):[];i.length<n.table.length;)i.push("none");i[n.table.length-1]=r,n.arraydef.rowlines=i.join(" ")}else n.frame.push("top")},y.HFill=function(e,t){var r=e.stack.Top();if(!(r instanceof a.ArrayItem))throw new l.default("UnsupportedHFill","Unsupported use of %1",e.currentCS);r.hfill.push(r.Size())},y.BeginEnd=function(e,t){var r=e.GetArgument(t);if(r.match(/\\/i))throw new l.default("InvalidEnv","Invalid environment name '%1'",r);var n=e.configuration.handlers.get("environment").lookup(r);if(n&&"\\end"===t){if(!n.args[0]){var i=e.itemFactory.create("end").setProperty("name",r);return void e.Push(i)}e.stack.env.closing=r}d.default.checkMaxMacros(e,!1),e.parse("environment",[e,r])},y.Array=function(e,t,r,n,i,o,a,s,l){i||(i=e.GetArgument("\\begin{"+t.getName()+"}"));var c=("c"+i).replace(/[^clr|:]/g,"").replace(/[^|:]([|:])+/g,"$1");i=(i=i.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var u=e.itemFactory.create("array");return u.arraydef={columnalign:i,columnspacing:o||"1em",rowspacing:a||"4pt"},c.match(/[|:]/)&&(c.charAt(0).match(/[|:]/)&&(u.frame.push("left"),u.dashed=":"===c.charAt(0)),c.charAt(c.length-1).match(/[|:]/)&&u.frame.push("right"),c=c.substr(1,c.length-2),u.arraydef.columnlines=c.split("").join(" ").replace(/[^|: ]/g,"none").replace(/\|/g,"solid").replace(/:/g,"dashed")),r&&u.setProperty("open",e.convertDelimiter(r)),n&&u.setProperty("close",e.convertDelimiter(n)),"'"===(s||"").charAt(1)&&(u.arraydef["data-cramped"]=!0,s=s.charAt(0)),"D"===s?u.arraydef.displaystyle=!0:s&&(u.arraydef.displaystyle=!1),"S"===s&&(u.arraydef.scriptlevel=1),l&&(u.arraydef.useHeight=!1),e.Push(t),u},y.AlignedArray=function(e,t){var r=e.GetBrackets("\\begin{"+t.getName()+"}"),n=y.Array(e,t);return d.default.setArrayAlign(n,r)},y.Equation=function(e,t,r){return e.Push(t),d.default.checkEqnEnv(e),e.itemFactory.create("equation",r).setProperty("name",t.getName())},y.EqnArray=function(e,t,r,n,i,o){e.Push(t),n&&d.default.checkEqnEnv(e),i=(i=i.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var a=e.itemFactory.create("eqnarray",t.getName(),r,n,e.stack.global);return a.arraydef={displaystyle:!0,columnalign:i,columnspacing:o||"1em",rowspacing:"3pt",side:e.options.tagSide,minlabelspacing:e.options.tagIndent},a},y.HandleNoTag=function(e,t){e.tags.notag()},y.HandleLabel=function(e,t){var r=e.GetArgument(t);if(""!==r&&!e.tags.refUpdate){if(e.tags.label)throw new l.default("MultipleCommand","Multiple %1",e.currentCS);if(e.tags.label=r,(e.tags.allLabels[r]||e.tags.labels[r])&&!e.options.ignoreDuplicateLabels)throw new l.default("MultipleLabel","Label '%1' multiply defined",r);e.tags.labels[r]=new p.Label}},y.HandleRef=function(e,t,r){var n=e.GetArgument(t),i=e.tags.allLabels[n]||e.tags.labels[n];i||(e.tags.refUpdate||(e.tags.redo=!0),i=new p.Label);var o=i.tag;r&&(o=e.tags.formatTag(o));var a=e.create("node","mrow",d.default.internalMath(e,o),{href:e.tags.formatUrl(i.id,e.options.baseURL),class:"MathJax_ref"});e.Push(a)},y.Macro=function(e,t,r,n,i){if(n){var o=[];if(null!=i){var a=e.GetBrackets(t);o.push(null==a?i:a)}for(var s=o.length;s<n;s++)o.push(e.GetArgument(t));r=d.default.substituteArgs(e,o,r)}e.string=d.default.addArgs(e,r,e.string.slice(e.i)),e.i=0,d.default.checkMaxMacros(e)},y.MathChoice=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t),i=e.ParseArg(t),o=e.ParseArg(t);e.Push(e.create("node","MathChoice",[r,n,i,o]))},BaseMethods.default=y,BaseMethods}var ParseMethods={},hasRequiredParseMethods,hasRequiredBaseMappings,hasRequiredBaseConfiguration,hasRequiredTex;function requireParseMethods(){if(hasRequiredParseMethods)return ParseMethods;hasRequiredParseMethods=1;var e=ParseMethods&&ParseMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=ParseMethods&&ParseMethods.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},r=ParseMethods&&ParseMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ParseMethods,"__esModule",{value:!0});var n,i,o=r(requireNodeUtil()),a=requireTexConstants(),s=r(requireParseUtil());return(i=n||(n={})).variable=function(e,t){var r=s.default.getFontDef(e),n=e.stack.env;n.multiLetterIdentifiers&&""!==n.font&&(t=e.string.substr(e.i-1).match(n.multiLetterIdentifiers)[0],e.i+=t.length-1,r.mathvariant===a.TexConstant.Variant.NORMAL&&n.noAutoOP&&t.length>1&&(r.autoOP=!1));var i=e.create("token","mi",r,t);e.Push(i)},i.digit=function(e,t){var r,n=e.configuration.options.digits,i=e.string.slice(e.i-1).match(n),o=s.default.getFontDef(e);i?(r=e.create("token","mn",o,i[0].replace(/[{}]/g,"")),e.i+=i[0].length-1):r=e.create("token","mo",o,t),e.Push(r)},i.controlSequence=function(e,t){var r=e.GetCS();e.parse("macro",[e,r])},i.mathchar0mi=function(e,t){var r=t.attributes||{mathvariant:a.TexConstant.Variant.ITALIC},n=e.create("token","mi",r,t.char);e.Push(n)},i.mathchar0mo=function(e,t){var r=t.attributes||{};r.stretchy=!1;var n=e.create("token","mo",r,t.char);o.default.setProperty(n,"fixStretchy",!0),e.configuration.addNode("fixStretchy",n),e.Push(n)},i.mathchar7=function(e,t){var r=t.attributes||{mathvariant:a.TexConstant.Variant.NORMAL};e.stack.env.font&&(r.mathvariant=e.stack.env.font);var n=e.create("token","mi",r,t.char);e.Push(n)},i.delimiter=function(e,t){var r=t.attributes||{};r=Object.assign({fence:!1,stretchy:!1},r);var n=e.create("token","mo",r,t.char);e.Push(n)},i.environment=function(r,n,i,o){var a=o[0],s=r.itemFactory.create("begin").setProperties({name:n,end:a});s=i.apply(void 0,t([r,s],e(o.slice(1)),!1)),r.Push(s)},ParseMethods.default=n,ParseMethods}function requireBaseMappings(){if(hasRequiredBaseMappings)return BaseMappings;hasRequiredBaseMappings=1;var e=BaseMappings&&BaseMappings.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=BaseMappings&&BaseMappings.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=BaseMappings&&BaseMappings.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=BaseMappings&&BaseMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BaseMappings,"__esModule",{value:!0});var i=r(requireSymbolMap()),o=requireTexConstants(),a=n(requireBaseMethods()),s=n(requireParseMethods()),l=n(requireParseUtil()),c=requireMmlNode(),u=requireLengths();return new i.RegExpMap("letter",s.default.variable,/[a-z]/i),new i.RegExpMap("digit",s.default.digit,/[0-9.,]/),new i.RegExpMap("command",s.default.controlSequence,/^\\/),new i.MacroMap("special",{"{":"Open","}":"Close","~":"Tilde","^":"Superscript",_:"Subscript"," ":"Space","\t":"Space","\r":"Space","\n":"Space","'":"Prime","%":"Comment","&":"Entry","#":"Hash","":"Space","":"Prime"},a.default),new i.CharacterMap("mathchar0mi",s.default.mathchar0mi,{alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",varepsilon:"",vartheta:"",varpi:"",varrho:"",varsigma:"",varphi:"",S:["",{mathvariant:o.TexConstant.Variant.NORMAL}],aleph:["",{mathvariant:o.TexConstant.Variant.NORMAL}],hbar:["",{variantForm:!0}],imath:"",jmath:"",ell:"",wp:["",{mathvariant:o.TexConstant.Variant.NORMAL}],Re:["",{mathvariant:o.TexConstant.Variant.NORMAL}],Im:["",{mathvariant:o.TexConstant.Variant.NORMAL}],partial:["",{mathvariant:o.TexConstant.Variant.ITALIC}],infty:["",{mathvariant:o.TexConstant.Variant.NORMAL}],prime:["",{variantForm:!0}],emptyset:["",{mathvariant:o.TexConstant.Variant.NORMAL}],nabla:["",{mathvariant:o.TexConstant.Variant.NORMAL}],top:["",{mathvariant:o.TexConstant.Variant.NORMAL}],bot:["",{mathvariant:o.TexConstant.Variant.NORMAL}],angle:["",{mathvariant:o.TexConstant.Variant.NORMAL}],triangle:["",{mathvariant:o.TexConstant.Variant.NORMAL}],backslash:["",{mathvariant:o.TexConstant.Variant.NORMAL}],forall:["",{mathvariant:o.TexConstant.Variant.NORMAL}],exists:["",{mathvariant:o.TexConstant.Variant.NORMAL}],neg:["",{mathvariant:o.TexConstant.Variant.NORMAL}],lnot:["",{mathvariant:o.TexConstant.Variant.NORMAL}],flat:["",{mathvariant:o.TexConstant.Variant.NORMAL}],natural:["",{mathvariant:o.TexConstant.Variant.NORMAL}],sharp:["",{mathvariant:o.TexConstant.Variant.NORMAL}],clubsuit:["",{mathvariant:o.TexConstant.Variant.NORMAL}],diamondsuit:["",{mathvariant:o.TexConstant.Variant.NORMAL}],heartsuit:["",{mathvariant:o.TexConstant.Variant.NORMAL}],spadesuit:["",{mathvariant:o.TexConstant.Variant.NORMAL}]}),new i.CharacterMap("mathchar0mo",s.default.mathchar0mo,{surd:"",coprod:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigvee:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigwedge:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],biguplus:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigcap:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigcup:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],int:["",{texClass:c.TEXCLASS.OP}],intop:["",{texClass:c.TEXCLASS.OP,movesupsub:!0,movablelimits:!0}],iint:["",{texClass:c.TEXCLASS.OP}],iiint:["",{texClass:c.TEXCLASS.OP}],prod:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],sum:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigotimes:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigoplus:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],bigodot:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],oint:["",{texClass:c.TEXCLASS.OP}],bigsqcup:["",{texClass:c.TEXCLASS.OP,movesupsub:!0}],smallint:["",{largeop:!1}],triangleleft:"",triangleright:"",bigtriangleup:"",bigtriangledown:"",wedge:"",land:"",vee:"",lor:"",cap:"",cup:"",ddagger:"",dagger:"",sqcap:"",sqcup:"",uplus:"",amalg:"",diamond:"",bullet:"",wr:"",div:"",divsymbol:"",odot:["",{largeop:!1}],oslash:["",{largeop:!1}],otimes:["",{largeop:!1}],ominus:["",{largeop:!1}],oplus:["",{largeop:!1}],mp:"",pm:"",circ:"",bigcirc:"",setminus:"",cdot:"",ast:"",times:"",star:"",propto:"",sqsubseteq:"",sqsupseteq:"",parallel:"",mid:"",dashv:"",vdash:"",leq:"",le:"",geq:"",ge:"",lt:"<",gt:">",succ:"",prec:"",approx:"",succeq:"",preceq:"",supset:"",subset:"",supseteq:"",subseteq:"",in:"",ni:"",notin:"",owns:"",gg:"",ll:"",sim:"",simeq:"",perp:"",equiv:"",asymp:"",smile:"",frown:"",ne:"",neq:"",cong:"",doteq:"",bowtie:"",models:"",notChar:"",Leftrightarrow:"",Leftarrow:"",Rightarrow:"",leftrightarrow:"",leftarrow:"",gets:"",rightarrow:"",to:["",{accent:!1}],mapsto:"",leftharpoonup:"",leftharpoondown:"",rightharpoonup:"",rightharpoondown:"",nearrow:"",searrow:"",nwarrow:"",swarrow:"",rightleftharpoons:"",hookrightarrow:"",hookleftarrow:"",longleftarrow:"",Longleftarrow:"",longrightarrow:"",Longrightarrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",ldots:"",cdots:"",vdots:"",ddots:"",dotsc:"",dotsb:"",dotsm:"",dotsi:"",dotso:"",ldotp:[".",{texClass:c.TEXCLASS.PUNCT}],cdotp:["",{texClass:c.TEXCLASS.PUNCT}],colon:[":",{texClass:c.TEXCLASS.PUNCT}]}),new i.CharacterMap("mathchar7",s.default.mathchar7,{Gamma:"",Delta:"",Theta:"",Lambda:"",Xi:"",Pi:"",Sigma:"",Upsilon:"",Phi:"",Psi:"",Omega:"",_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"}),new i.DelimiterMap("delimiter",s.default.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"",">":"","\\lt":"","\\gt":"","/":"/","|":["|",{texClass:c.TEXCLASS.ORD}],".":"","\\\\":"\\","\\lmoustache":"","\\rmoustache":"","\\lgroup":"","\\rgroup":"","\\arrowvert":"","\\Arrowvert":"","\\bracevert":"","\\Vert":["",{texClass:c.TEXCLASS.ORD}],"\\|":["",{texClass:c.TEXCLASS.ORD}],"\\vert":["|",{texClass:c.TEXCLASS.ORD}],"\\uparrow":"","\\downarrow":"","\\updownarrow":"","\\Uparrow":"","\\Downarrow":"","\\Updownarrow":"","\\backslash":"\\","\\rangle":"","\\langle":"","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"","\\lceil":"","\\rfloor":"","\\lfloor":"","\\lbrack":"[","\\rbrack":"]"}),new i.CommandMap("macros",{displaystyle:["SetStyle","D",!0,0],textstyle:["SetStyle","T",!1,0],scriptstyle:["SetStyle","S",!1,1],scriptscriptstyle:["SetStyle","SS",!1,2],rm:["SetFont",o.TexConstant.Variant.NORMAL],mit:["SetFont",o.TexConstant.Variant.ITALIC],oldstyle:["SetFont",o.TexConstant.Variant.OLDSTYLE],cal:["SetFont",o.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont",o.TexConstant.Variant.MATHITALIC],bf:["SetFont",o.TexConstant.Variant.BOLD],bbFont:["SetFont",o.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",o.TexConstant.Variant.SCRIPT],frak:["SetFont",o.TexConstant.Variant.FRAKTUR],sf:["SetFont",o.TexConstant.Variant.SANSSERIF],tt:["SetFont",o.TexConstant.Variant.MONOSPACE],mathrm:["MathFont",o.TexConstant.Variant.NORMAL],mathup:["MathFont",o.TexConstant.Variant.NORMAL],mathnormal:["MathFont",""],mathbf:["MathFont",o.TexConstant.Variant.BOLD],mathbfup:["MathFont",o.TexConstant.Variant.BOLD],mathit:["MathFont",o.TexConstant.Variant.MATHITALIC],mathbfit:["MathFont",o.TexConstant.Variant.BOLDITALIC],mathbb:["MathFont",o.TexConstant.Variant.DOUBLESTRUCK],Bbb:["MathFont",o.TexConstant.Variant.DOUBLESTRUCK],mathfrak:["MathFont",o.TexConstant.Variant.FRAKTUR],mathbffrak:["MathFont",o.TexConstant.Variant.BOLDFRAKTUR],mathscr:["MathFont",o.TexConstant.Variant.SCRIPT],mathbfscr:["MathFont",o.TexConstant.Variant.BOLDSCRIPT],mathsf:["MathFont",o.TexConstant.Variant.SANSSERIF],mathsfup:["MathFont",o.TexConstant.Variant.SANSSERIF],mathbfsf:["MathFont",o.TexConstant.Variant.BOLDSANSSERIF],mathbfsfup:["MathFont",o.TexConstant.Variant.BOLDSANSSERIF],mathsfit:["MathFont",o.TexConstant.Variant.SANSSERIFITALIC],mathbfsfit:["MathFont",o.TexConstant.Variant.SANSSERIFBOLDITALIC],mathtt:["MathFont",o.TexConstant.Variant.MONOSPACE],mathcal:["MathFont",o.TexConstant.Variant.CALLIGRAPHIC],mathbfcal:["MathFont",o.TexConstant.Variant.BOLDCALLIGRAPHIC],symrm:["MathFont",o.TexConstant.Variant.NORMAL],symup:["MathFont",o.TexConstant.Variant.NORMAL],symnormal:["MathFont",""],symbf:["MathFont",o.TexConstant.Variant.BOLD],symbfup:["MathFont",o.TexConstant.Variant.BOLD],symit:["MathFont",o.TexConstant.Variant.ITALIC],symbfit:["MathFont",o.TexConstant.Variant.BOLDITALIC],symbb:["MathFont",o.TexConstant.Variant.DOUBLESTRUCK],symfrak:["MathFont",o.TexConstant.Variant.FRAKTUR],symbffrak:["MathFont",o.TexConstant.Variant.BOLDFRAKTUR],symscr:["MathFont",o.TexConstant.Variant.SCRIPT],symbfscr:["MathFont",o.TexConstant.Variant.BOLDSCRIPT],symsf:["MathFont",o.TexConstant.Variant.SANSSERIF],symsfup:["MathFont",o.TexConstant.Variant.SANSSERIF],symbfsf:["MathFont",o.TexConstant.Variant.BOLDSANSSERIF],symbfsfup:["MathFont",o.TexConstant.Variant.BOLDSANSSERIF],symsfit:["MathFont",o.TexConstant.Variant.SANSSERIFITALIC],symbfsfit:["MathFont",o.TexConstant.Variant.SANSSERIFBOLDITALIC],symtt:["MathFont",o.TexConstant.Variant.MONOSPACE],symcal:["MathFont",o.TexConstant.Variant.CALLIGRAPHIC],symbfcal:["MathFont",o.TexConstant.Variant.BOLDCALLIGRAPHIC],textrm:["HBox",null,o.TexConstant.Variant.NORMAL],textup:["HBox",null,o.TexConstant.Variant.NORMAL],textnormal:["HBox"],textit:["HBox",null,o.TexConstant.Variant.ITALIC],textbf:["HBox",null,o.TexConstant.Variant.BOLD],textsf:["HBox",null,o.TexConstant.Variant.SANSSERIF],texttt:["HBox",null,o.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],arcsin:"NamedFn",arccos:"NamedFn",arctan:"NamedFn",arg:"NamedFn",cos:"NamedFn",cosh:"NamedFn",cot:"NamedFn",coth:"NamedFn",csc:"NamedFn",deg:"NamedFn",det:"NamedOp",dim:"NamedFn",exp:"NamedFn",gcd:"NamedOp",hom:"NamedFn",inf:"NamedOp",ker:"NamedFn",lg:"NamedFn",lim:"NamedOp",liminf:["NamedOp","lim&thinsp;inf"],limsup:["NamedOp","lim&thinsp;sup"],ln:"NamedFn",log:"NamedFn",max:"NamedOp",min:"NamedOp",Pr:"NamedOp",sec:"NamedFn",sin:"NamedFn",sinh:"NamedFn",sup:"NamedOp",tan:"NamedFn",tanh:"NamedFn",limits:["Limits",1],nolimits:["Limits",0],overline:["UnderOver","2015"],underline:["UnderOver","2015"],overbrace:["UnderOver","23DE",1],underbrace:["UnderOver","23DF",1],overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"],overrightarrow:["UnderOver","2192"],underrightarrow:["UnderOver","2192"],overleftarrow:["UnderOver","2190"],underleftarrow:["UnderOver","2190"],overleftrightarrow:["UnderOver","2194"],underleftrightarrow:["UnderOver","2194"],overset:"Overset",underset:"Underset",overunderset:"Overunderset",stackrel:["Macro","\\mathrel{\\mathop{#2}\\limits^{#1}}",2],stackbin:["Macro","\\mathbin{\\mathop{#2}\\limits^{#1}}",2],over:"Over",overwithdelims:"Over",atop:"Over",atopwithdelims:"Over",above:"Over",abovewithdelims:"Over",brace:["Over","{","}"],brack:["Over","[","]"],choose:["Over","(",")"],frac:"Frac",sqrt:"Sqrt",root:"Root",uproot:["MoveRoot","upRoot"],leftroot:["MoveRoot","leftRoot"],left:"LeftRight",right:"LeftRight",middle:"LeftRight",llap:"Lap",rlap:"Lap",raise:"RaiseLower",lower:"RaiseLower",moveleft:"MoveLeftRight",moveright:"MoveLeftRight",",":["Spacer",u.MATHSPACE.thinmathspace],":":["Spacer",u.MATHSPACE.mediummathspace],">":["Spacer",u.MATHSPACE.mediummathspace],";":["Spacer",u.MATHSPACE.thickmathspace],"!":["Spacer",u.MATHSPACE.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",u.MATHSPACE.thinmathspace],negthinspace:["Spacer",u.MATHSPACE.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],nonscript:"Nonscript",big:["MakeBig",c.TEXCLASS.ORD,.85],Big:["MakeBig",c.TEXCLASS.ORD,1.15],bigg:["MakeBig",c.TEXCLASS.ORD,1.45],Bigg:["MakeBig",c.TEXCLASS.ORD,1.75],bigl:["MakeBig",c.TEXCLASS.OPEN,.85],Bigl:["MakeBig",c.TEXCLASS.OPEN,1.15],biggl:["MakeBig",c.TEXCLASS.OPEN,1.45],Biggl:["MakeBig",c.TEXCLASS.OPEN,1.75],bigr:["MakeBig",c.TEXCLASS.CLOSE,.85],Bigr:["MakeBig",c.TEXCLASS.CLOSE,1.15],biggr:["MakeBig",c.TEXCLASS.CLOSE,1.45],Biggr:["MakeBig",c.TEXCLASS.CLOSE,1.75],bigm:["MakeBig",c.TEXCLASS.REL,.85],Bigm:["MakeBig",c.TEXCLASS.REL,1.15],biggm:["MakeBig",c.TEXCLASS.REL,1.45],Biggm:["MakeBig",c.TEXCLASS.REL,1.75],mathord:["TeXAtom",c.TEXCLASS.ORD],mathop:["TeXAtom",c.TEXCLASS.OP],mathopen:["TeXAtom",c.TEXCLASS.OPEN],mathclose:["TeXAtom",c.TEXCLASS.CLOSE],mathbin:["TeXAtom",c.TEXCLASS.BIN],mathrel:["TeXAtom",c.TEXCLASS.REL],mathpunct:["TeXAtom",c.TEXCLASS.PUNCT],mathinner:["TeXAtom",c.TEXCLASS.INNER],vcenter:["TeXAtom",c.TEXCLASS.VCENTER],buildrel:"BuildRel",hbox:["HBox",0],text:"HBox",mbox:["HBox",0],fbox:"FBox",boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],framebox:"FrameBox",strut:"Strut",mathstrut:["Macro","\\vphantom{(}"],phantom:"Phantom",vphantom:["Phantom",1,0],hphantom:["Phantom",0,1],smash:"Smash",acute:["Accent","00B4"],grave:["Accent","0060"],ddot:["Accent","00A8"],tilde:["Accent","007E"],bar:["Accent","00AF"],breve:["Accent","02D8"],check:["Accent","02C7"],hat:["Accent","005E"],vec:["Accent","2192"],dot:["Accent","02D9"],widetilde:["Accent","007E",1],widehat:["Accent","005E",1],matrix:"Matrix",array:"Matrix",pmatrix:["Matrix","(",")"],cases:["Matrix","{","","left left",null,".1em",null,!0],eqalign:["Matrix",null,null,"right left",(0,u.em)(u.MATHSPACE.thickmathspace),".5em","D"],displaylines:["Matrix",null,null,"center",null,".5em","D"],cr:"Cr","\\":"CrLaTeX",newline:["CrLaTeX",!0],hline:["HLine","solid"],hdashline:["HLine","dashed"],eqalignno:["Matrix",null,null,"right left",(0,u.em)(u.MATHSPACE.thickmathspace),".5em","D",null,"right"],leqalignno:["Matrix",null,null,"right left",(0,u.em)(u.MATHSPACE.thickmathspace),".5em","D",null,"left"],hfill:"HFill",hfil:"HFill",hfilll:"HFill",bmod:["Macro",'\\mmlToken{mo}[lspace="thickmathspace" rspace="thickmathspace"]{mod}'],pmod:["Macro","\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:["Macro","\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:["Macro","\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:["Macro","\\;\\Longleftrightarrow\\;"],skew:["Macro","{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:["Macro","\\rlap{#1}\\kern1px{#1}",1],TeX:["Macro","T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:["Macro","L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"]," ":["Macro","\\text{ }"],not:"Not",dots:"Dots",space:"Tilde","":"Tilde",begin:"BeginEnd",end:"BeginEnd",label:"HandleLabel",ref:"HandleRef",nonumber:"HandleNoTag",mathchoice:"MathChoice",mmlToken:"MmlToken"},a.default),new i.EnvironmentMap("environment",s.default.environment,{array:["AlignedArray"],equation:["Equation",null,!0],eqnarray:["EqnArray",null,!0,!0,"rcl",l.default.cols(0,u.MATHSPACE.thickmathspace),".5em"]},a.default),new i.CharacterMap("not_remap",null,{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","~":"","":"","":"","":"","":"","=":"","":"","<":"",">":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}),BaseMappings}function requireBaseConfiguration(){if(hasRequiredBaseConfiguration)return BaseConfiguration;hasRequiredBaseConfiguration=1;var e,t=BaseConfiguration&&BaseConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=BaseConfiguration&&BaseConfiguration.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=BaseConfiguration&&BaseConfiguration.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=BaseConfiguration&&BaseConfiguration.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},o=BaseConfiguration&&BaseConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=BaseConfiguration&&BaseConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BaseConfiguration,"__esModule",{value:!0}),BaseConfiguration.BaseConfiguration=BaseConfiguration.BaseTags=BaseConfiguration.Other=void 0;var s=requireConfiguration(),l=requireMapHandler(),c=a(requireTexError()),u=a(requireNodeUtil()),d=requireSymbolMap(),h=i(requireBaseItems()),p=requireTags();requireBaseMappings();var f=requireOperatorDictionary();function m(e,t){var r=e.stack.env.font?{mathvariant:e.stack.env.font}:{},n=l.MapHandler.getMap("remap").lookup(t),i=(0,f.getRange)(t),o=i?i[3]:"mo",a=e.create("token",o,r,n?n.char:t);i[4]&&a.attributes.set("mathvariant",i[4]),"mo"===o&&(u.default.setProperty(a,"fixStretchy",!0),e.configuration.addNode("fixStretchy",a)),e.Push(a)}new d.CharacterMap("remap",null,{"-":"","*":"","`":""}),BaseConfiguration.Other=m;var g=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(p.AbstractTags);return BaseConfiguration.BaseTags=g,BaseConfiguration.BaseConfiguration=s.Configuration.create("base",{handler:{character:["command","special","letter","digit"],delimiter:["delimiter"],macro:["delimiter","macros","mathchar0mi","mathchar0mo","mathchar7"],environment:["environment"]},fallback:{character:m,macro:function(e,t){throw new c.default("UndefinedControlSequence","Undefined control sequence %1","\\"+t)},environment:function(e,t){throw new c.default("UnknownEnv","Unknown environment '%1'",t)}},items:(e={},e[h.StartItem.prototype.kind]=h.StartItem,e[h.StopItem.prototype.kind]=h.StopItem,e[h.OpenItem.prototype.kind]=h.OpenItem,e[h.CloseItem.prototype.kind]=h.CloseItem,e[h.PrimeItem.prototype.kind]=h.PrimeItem,e[h.SubsupItem.prototype.kind]=h.SubsupItem,e[h.OverItem.prototype.kind]=h.OverItem,e[h.LeftItem.prototype.kind]=h.LeftItem,e[h.Middle.prototype.kind]=h.Middle,e[h.RightItem.prototype.kind]=h.RightItem,e[h.BeginItem.prototype.kind]=h.BeginItem,e[h.EndItem.prototype.kind]=h.EndItem,e[h.StyleItem.prototype.kind]=h.StyleItem,e[h.PositionItem.prototype.kind]=h.PositionItem,e[h.CellItem.prototype.kind]=h.CellItem,e[h.MmlItem.prototype.kind]=h.MmlItem,e[h.FnItem.prototype.kind]=h.FnItem,e[h.NotItem.prototype.kind]=h.NotItem,e[h.NonscriptItem.prototype.kind]=h.NonscriptItem,e[h.DotsItem.prototype.kind]=h.DotsItem,e[h.ArrayItem.prototype.kind]=h.ArrayItem,e[h.EqnArrayItem.prototype.kind]=h.EqnArrayItem,e[h.EquationItem.prototype.kind]=h.EquationItem,e),options:{maxMacros:1e3,baseURL:"undefined"==typeof document||0===document.getElementsByTagName("base").length?"":String(document.location).replace(/#.*$/,"")},tags:{base:g},postprocessors:[[function(e){var t,r,n=e.data;try{for(var i=o(n.getList("nonscript")),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.attributes.get("scriptlevel")>0){var l=s.parent;if(l.childNodes.splice(l.childIndex(s),1),n.removeFromList(s.kind,[s]),s.isKind("mrow")){var c=s.childNodes[0];n.removeFromList("mstyle",[c]),n.removeFromList("mspace",c.childNodes[0].childNodes)}}else s.isKind("mrow")&&(s.parent.replaceChild(s.childNodes[0],s),n.removeFromList("mrow",[s]))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},-4]]}),BaseConfiguration}function requireTex(){if(hasRequiredTex)return tex;hasRequiredTex=1;var e=tex&&tex.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=tex&&tex.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=tex&&tex.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=tex&&tex.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tex,"__esModule",{value:!0}),tex.TeX=void 0;var i=requireInputJax(),o=requireOptions(),a=requireFindTeX(),s=n(requireFilterUtil()),l=n(requireNodeUtil()),c=n(requireTexParser()),u=n(requireTexError()),d=n(requireParseOptions()),h=requireTags(),p=requireConfiguration();requireBaseConfiguration();var f=function(n){function f(e){void 0===e&&(e={});var t=this,i=r((0,o.separateOptions)(e,f.OPTIONS,a.FindTeX.OPTIONS),3),l=i[0],c=i[1],u=i[2];(t=n.call(this,c)||this).findTeX=t.options.FindTeX||new a.FindTeX(u);var p=t.options.packages,m=t.configuration=f.configure(p),g=t._parseOptions=new d.default(m,[t.options,h.TagsFactory.OPTIONS]);return(0,o.userOptions)(g.options,l),m.config(t),f.tags(g,m),t.postFilters.add(s.default.cleanSubSup,-6),t.postFilters.add(s.default.setInherited,-5),t.postFilters.add(s.default.moveLimits,-4),t.postFilters.add(s.default.cleanStretchy,-3),t.postFilters.add(s.default.cleanAttributes,-2),t.postFilters.add(s.default.combineRelations,-1),t}return e(f,n),f.configure=function(e){var t=new p.ParserConfiguration(e,["tex"]);return t.init(),t},f.tags=function(e,t){h.TagsFactory.addTags(t.tags),h.TagsFactory.setDefault(e.options.tags),e.tags=h.TagsFactory.getDefault(),e.tags.configuration=e},f.prototype.setMmlFactory=function(e){n.prototype.setMmlFactory.call(this,e),this._parseOptions.nodeFactory.setMmlFactory(e)},Object.defineProperty(f.prototype,"parseOptions",{get:function(){return this._parseOptions},enumerable:!1,configurable:!0}),f.prototype.reset=function(e){void 0===e&&(e=0),this.parseOptions.tags.reset(e)},f.prototype.compile=function(e,t){this.parseOptions.clear(),this.executeFilters(this.preFilters,e,t,this.parseOptions);var r,n,i=e.display;this.latex=e.math,this.parseOptions.tags.startEquation(e);try{var o=new c.default(this.latex,{display:i,isInner:!1},this.parseOptions);r=o.mml(),n=o.stack.global}catch(a){if(!(a instanceof u.default))throw a;this.parseOptions.error=!0,r=this.options.formatError(this,a)}return r=this.parseOptions.nodeFactory.create("node","math",[r]),(null==n?void 0:n.indentalign)&&l.default.setAttribute(r,"indentalign",n.indentalign),i&&l.default.setAttribute(r,"display","block"),this.parseOptions.tags.finishEquation(e),this.parseOptions.root=r,this.executeFilters(this.postFilters,e,t,this.parseOptions),this.mathNode=this.parseOptions.root,this.mathNode},f.prototype.findMath=function(e){return this.findTeX.findMath(e)},f.prototype.formatError=function(e){var t=e.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",t,e.id,this.latex)},f.NAME="TeX",f.OPTIONS=t(t({},i.AbstractInputJax.OPTIONS),{FindTeX:null,packages:["base"],digits:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,maxBuffer:5120,formatError:function(e,t){return e.formatError(t)}}),f}(i.AbstractInputJax);return tex.TeX=f,tex}var preprocessing={},replaceAlignWithAligned={},hasRequiredReplaceAlignWithAligned;function requireReplaceAlignWithAligned(){if(hasRequiredReplaceAlignWithAligned)return replaceAlignWithAligned;return hasRequiredReplaceAlignWithAligned=1,Object.defineProperty(replaceAlignWithAligned,"__esModule",{value:!0}),replaceAlignWithAligned.replaceAlignWithAligned=function(e){return e.replace(/\{align[*]?}/g,"{aligned}")},replaceAlignWithAligned}var escapeTextSymbols={},hasRequiredEscapeTextSymbols;function requireEscapeTextSymbols(){if(hasRequiredEscapeTextSymbols)return escapeTextSymbols;return hasRequiredEscapeTextSymbols=1,Object.defineProperty(escapeTextSymbols,"__esModule",{value:!0}),escapeTextSymbols.escapeTextSymbols=function(e){const t=/((\\\\)*)\\?&/g,r=/((\\\\)*)\\?%/g,n=/((\\\\)*)\\?#/g,i=/((\\\\)*)\\textquotedblleft/g,o=/((\\\\)*)\\textquotedblright/g,a=/((\\\\)*)\\textemdash/g;return e.replace(/\\text\s*\{((\\\\|\\}|[^}])+)}/g,(e,s)=>`\\text{${s.replace(t,"$1\\&").replace(r,"$1\\%").replace(n,"$1\\#").replace(i,"$1").replace(o,"$1").replace(a,"$1")}}`)},escapeTextSymbols}var fixNestedCancelCommands={},hasRequiredFixNestedCancelCommands;function requireFixNestedCancelCommands(){if(hasRequiredFixNestedCancelCommands)return fixNestedCancelCommands;return hasRequiredFixNestedCancelCommands=1,Object.defineProperty(fixNestedCancelCommands,"__esModule",{value:!0}),fixNestedCancelCommands.fixNestedCancelCommands=function(e){e=e.replace(/\\cancel\s*(\\dfrac[{]+[^{}]+}+{[^{}]+}+)/g,"\\cancel{$1}");e=e.replace(/\\cancel\s*(\\dfrac{[^{}]*{[^{}]+}[^{}]*}{[^{}]+})/g,"\\cancel{$1}");e=e.replace(/\\cancel\s*(\\blue[A-Z]|\\text)(\s+\w|\s*\d)/g,(e,t,r)=>`\\cancel{${t}{${r.trim()}}}`);e=e.replace(/\\cancel\s*((?:\\text|\\blue[A-Z]|\\gold[A-Z])[{]+[^}]+[}])/g,"\\cancel{$1}");e=e.replace(/(\\cancel(?:\s*\\leq|\s*{\s*\\leq\s*}))/g,"\\nleq ");e=e.replace(/(\\cancel(?:\s*\\geq|\s*{\s*\\geq\s*}))/g,"\\ngeq ");e=e.replace(/(\\cancel(?:\s*\\gt|\s*{\s*\\gt\s*}))/g,"\\ngtr ");e=e.replace(/(\\cancel(?:\s*>|\s*{\s*>\s*}))/g,"\\ngtr ");e=e.replace(/(\\cancel(?:\s*\\lt|\s*{\s*\\lt\s*}))/g,"\\nless ");e=e.replace(/(\\cancel(?:\s*<|\s*{\s*<\s*}))/g,"\\nless ");return e=e.replace(/(\\cancel(?:\s*=|\s*{\s*=\s*}))/g,"\\neq ")},fixNestedCancelCommands}var fixStackrelBraces={},texSyntax={},hasRequiredTexSyntax,hasRequiredFixStackrelBraces;function requireTexSyntax(){if(hasRequiredTexSyntax)return texSyntax;function e(t){return`\\{${t<=0?"[^{}]":`(?:[^{}]|${e(t-1)})`}*\\}`}return hasRequiredTexSyntax=1,Object.defineProperty(texSyntax,"__esModule",{value:!0}),texSyntax.commandWithTextModeFirstArg=texSyntax.color=void 0,texSyntax.block=e,texSyntax.arg=function(t){return`(?:\\d|\\s*${e(t)}|\\s+[A-Za-z])`},texSyntax.color="(?:blue[A-E]?|purple[A-E]?|gold[A-E]|green[A-E]?|maroon[A-E]|red[A-E]?|pink|orange|gray[A-I]?|teal[A-E]|mint[A-E]|kaBlue|kaGreen)",texSyntax.commandWithTextModeFirstArg="(?:[fh]box|text(?:|bf|it|normal|rm|sf|tt|up))",texSyntax}function requireFixStackrelBraces(){if(hasRequiredFixStackrelBraces)return fixStackrelBraces;hasRequiredFixStackrelBraces=1,Object.defineProperty(fixStackrelBraces,"__esModule",{value:!0}),fixStackrelBraces.fixStackrelBraces=function(e){return e.replace(t,"$1{$2}").replace(r,"$1{$2}").replace(n,"$1{\\vphantom H}\\!\\!\\!\\!\\!$2").replace(/\\stackrel\\checkmark=/g,"\\stackrel{\\checkmark}{=}")};const e=requireTexSyntax(),t=new RegExp(`(\\\\stackrel)(\\?|\\s*\\\\${e.color}${(0,e.block)(1)})`,"g"),r=new RegExp(`(\\\\stackrel${(0,e.block)(2)})\\s*(\\\\(blueE|purpleD|ce|text)\\s*(${(0,e.block)(1)}| \\w))`,"g"),n=new RegExp(`(\\\\stackrel${(0,e.block)(2)})(H)`,"g");return fixStackrelBraces}var fixOversetBraces={},hasRequiredFixOversetBraces;function requireFixOversetBraces(){if(hasRequiredFixOversetBraces)return fixOversetBraces;hasRequiredFixOversetBraces=1,Object.defineProperty(fixOversetBraces,"__esModule",{value:!0}),fixOversetBraces.fixOversetBraces=function(e){return e.replace(t,"$1{$2}")};const e=requireTexSyntax(),t=new RegExp(`(\\\\overset${(0,e.block)(3)})(\\\\${e.color}(?:\\d|${(0,e.block)(0)}))`,"g");return fixOversetBraces}var fixDfracBraces={},hasRequiredFixDfracBraces;function requireFixDfracBraces(){if(hasRequiredFixDfracBraces)return fixDfracBraces;hasRequiredFixDfracBraces=1,Object.defineProperty(fixDfracBraces,"__esModule",{value:!0}),fixDfracBraces.fixDfracBraces=function(e){return e.replace(t,"$1{$2}").replace(r,"$1{$2}")};const e=requireTexSyntax(),t=new RegExp(`(\\\\dfrac)(\\\\${e.color}${(0,e.arg)(1)}|\\d)`,"g"),r=new RegExp(`(\\\\dfrac${(0,e.block)(2)})(\\s*\\\\${e.color}${(0,e.arg)(1)})`,"g");return fixDfracBraces}var fixHatBraces={},hasRequiredFixHatBraces;function requireFixHatBraces(){if(hasRequiredFixHatBraces)return fixHatBraces;hasRequiredFixHatBraces=1,Object.defineProperty(fixHatBraces,"__esModule",{value:!0}),fixHatBraces.fixHatBraces=function(t){return t.replace(/\\hat\s*\\bold\s+([a-z])/g,"\\hat{\\bold $1}").replace(new RegExp(`(\\\\hat)(\\\\text${(0,e.block)(0)})`),"$1{$2}")};const e=requireTexSyntax();return fixHatBraces}var fixSqrtBraces={},hasRequiredFixSqrtBraces;function requireFixSqrtBraces(){if(hasRequiredFixSqrtBraces)return fixSqrtBraces;hasRequiredFixSqrtBraces=1,Object.defineProperty(fixSqrtBraces,"__esModule",{value:!0}),fixSqrtBraces.fixSqrtBraces=function(e){return e.replace(r,"$1{$2}").replace(n,"$1{$2}")};const e=requireTexSyntax(),t=`(?:\\s+[^{]|${(0,e.block)(2)})`,r=new RegExp(`(\\\\sqrt)(\\s*\\\\(?:blueD|ce)${t})`,"g"),n=new RegExp(`(\\\\sqrt)(\\s*\\\\dfrac${(0,e.block)(2)}${(0,e.block)(1)})`,"g");return fixSqrtBraces}var fixBold={},hasRequiredFixBold;function requireFixBold(){if(hasRequiredFixBold)return fixBold;hasRequiredFixBold=1,Object.defineProperty(fixBold,"__esModule",{value:!0}),fixBold.fixBold=function(t){return t.replace(new RegExp(`\\\\bold\\s*(\\\\(${e.color})(\\s+[a-zA-Z0-9]|${(0,e.block)(2)}))`,"g"),"\\bold{$1}")};const e=requireTexSyntax();return fixBold}var fixColors={},hasRequiredFixColors;function requireFixColors(){if(hasRequiredFixColors)return fixColors;hasRequiredFixColors=1,Object.defineProperty(fixColors,"__esModule",{value:!0}),fixColors.fixColors=function(t){return t.replace(new RegExp(`\\\\${e.color}\\s*\\\\${e.color}`,"g"),"").replace(new RegExp(`\\\\(${e.color})(\\s*\\\\dfrac${(0,e.arg)(4)}${(0,e.arg)(4)})`,"g"),"\\$1{$2}").replace(new RegExp(`\\\\(${e.color})(\\s*\\\\text${(0,e.arg)(4)})`,"g"),"\\$1{$2}").replace(new RegExp(`\\\\(${e.color})(\\s*\\\\operatorname${(0,e.arg)(4)})`,"g"),"\\$1{$2}").replace(new RegExp(`\\\\(${e.color})(\\s*\\\\mathbin${(0,e.arg)(4)})`,"g"),"\\$1{$2}").replace(new RegExp(`\\\\(${e.color})\\\\${e.color}(\\s*\\\\${e.color}${(0,e.arg)(4)})`,"g"),"\\$1{$2}").replace(new RegExp(`\\\\(${e.color})(\\s*\\\\${e.color}${(0,e.arg)(4)})`,"g"),"\\$1{$2}")};const e=requireTexSyntax();return fixColors}var removeCommentsInColorBlocks={},hasRequiredRemoveCommentsInColorBlocks;function requireRemoveCommentsInColorBlocks(){if(hasRequiredRemoveCommentsInColorBlocks)return removeCommentsInColorBlocks;hasRequiredRemoveCommentsInColorBlocks=1,Object.defineProperty(removeCommentsInColorBlocks,"__esModule",{value:!0}),removeCommentsInColorBlocks.removeEndOfBlockComments=i,removeCommentsInColorBlocks.removeCommentsInColorBlocks=function(e){return e.replace(t,e=>i(e))};const e=requireTexSyntax(),t=new RegExp(`(\\\\${e.color})\\s*(${(0,e.block)(3)})`,"g"),r=`(${(0,e.block)(0)}|[^\\n}])`,n=new RegExp(`\\\\[\\\\%]|\\s*%${r}*}`,"g");function i(e){return e.replace(n,e=>"\\"===e[0]?e:"}")}return removeCommentsInColorBlocks}var fixCommandsWithMissingArg={},hasRequiredFixCommandsWithMissingArg;function requireFixCommandsWithMissingArg(){if(hasRequiredFixCommandsWithMissingArg)return fixCommandsWithMissingArg;hasRequiredFixCommandsWithMissingArg=1,Object.defineProperty(fixCommandsWithMissingArg,"__esModule",{value:!0}),fixCommandsWithMissingArg.fixCommandsWithMissingArg=function(t){return t.replace(new RegExp(`{\\s*(\\\\${e}\\s*)+}`,"g"),"{}").replace(new RegExp(`\\s*(\\\\${e}\\s*)+$`,"g"),"").replace(new RegExp(`\\s*\\\\${e}\\s*}`,"g"),"}")};const e=`(?:${requireTexSyntax().color}|rlap)`;return fixCommandsWithMissingArg}var fixTextUnderscores={},hasRequiredFixTextUnderscores;function requireFixTextUnderscores(){if(hasRequiredFixTextUnderscores)return fixTextUnderscores;hasRequiredFixTextUnderscores=1,Object.defineProperty(fixTextUnderscores,"__esModule",{value:!0}),fixTextUnderscores.fixTextUnderscores=function(e){return e.replace(/^\s*(_+)\s*$/,"\\text{$1}").replace(t,(e,t,r)=>`\\${t}${function(e){return e.replace(new RegExp("_Multipliziere "),"Multipliziere ").replace(/\$[^$]*\$|\\_|_/g,e=>"_"===e?"\\_":e)}(r)}`)};const e=requireTexSyntax(),t=new RegExp(`\\\\(text|textbf)(${(0,e.block)(3)})`,"g");return fixTextUnderscores}var fixText={},hasRequiredFixText;function requireFixText(){if(hasRequiredFixText)return fixText;hasRequiredFixText=1,Object.defineProperty(fixText,"__esModule",{value:!0}),fixText.fixText=function(t){return t.replace(new RegExp(`\\\\text\\s*(\\\\(${e.color})${(0,e.arg)(2)})`,"g"),"\\text{$1}")};const e=requireTexSyntax();return fixText}var fixTextInText={},hasRequiredFixTextInText;function requireFixTextInText(){if(hasRequiredFixTextInText)return fixTextInText;hasRequiredFixTextInText=1,Object.defineProperty(fixTextInText,"__esModule",{value:!0}),fixTextInText.fixTextInText=function(e){return e.replace(t,(e,t)=>e.startsWith("\\text")?`\\text${t.replace(/\\\\|\\\$|\$(\\\$|[^$])*\$|(\\text\s*)/g,e=>e.startsWith("\\text")?"":e)}`:e)};const e=requireTexSyntax(),t=new RegExp(`\\\\\\\\|\\\\text(${(0,e.block)(3)})`,"g");return fixTextInText}var fixWidehat={},hasRequiredFixWidehat;function requireFixWidehat(){if(hasRequiredFixWidehat)return fixWidehat;hasRequiredFixWidehat=1,Object.defineProperty(fixWidehat,"__esModule",{value:!0}),fixWidehat.fixWidehat=function(t){return t.replace("\\widehat\\blueE A =\\widehat\\blueE A%\\cong","\\widehat{\\blueE A} =\\widehat{\\blueE A%\\cong}").replace(new RegExp(`\\\\widehat\\s*(\\\\(${e.color})\\s*${(0,e.arg)(3)})`,"g"),"\\widehat{$1}")};const e=requireTexSyntax();return fixWidehat}var fixVecBraces={},hasRequiredFixVecBraces;function requireFixVecBraces(){if(hasRequiredFixVecBraces)return fixVecBraces;return hasRequiredFixVecBraces=1,Object.defineProperty(fixVecBraces,"__esModule",{value:!0}),fixVecBraces.fixVecBraces=function(e){return e.replace(/\\vec\\textbf{v}/g,"\\vec{\\textbf{v}}")},fixVecBraces}var fixUnderline={},hasRequiredFixUnderline;function requireFixUnderline(){if(hasRequiredFixUnderline)return fixUnderline;hasRequiredFixUnderline=1,Object.defineProperty(fixUnderline,"__esModule",{value:!0}),fixUnderline.fixUnderline=function(e){return e.replace(t,"$1{$2}")};const e=requireTexSyntax(),t=new RegExp(`(\\\\underline)(\\\\(?:${e.color}|text)${(0,e.arg)(2)})`,"g");return fixUnderline}var fixFbox={},hasRequiredFixFbox;function requireFixFbox(){if(hasRequiredFixFbox)return fixFbox;hasRequiredFixFbox=1,Object.defineProperty(fixFbox,"__esModule",{value:!0}),fixFbox.fixFbox=function(r){return r.replace(t,(t,r,n)=>{return!function(t){return/[_^]|\\dfrac|\\text/.test(t)||new RegExp("\\\\"+e.color).test(t)}(n)||(i=n).startsWith("{$")&&i.endsWith("$}")?`${r}${n}`:`${r.replace("fbox","boxed")}${n}`;var i})};const e=requireTexSyntax(),t=RegExp(`(\\\\fbox\\s*)(${(0,e.block)(3)})`,"g");return fixFbox}var fixOverbrace={},hasRequiredFixOverbrace;function requireFixOverbrace(){if(hasRequiredFixOverbrace)return fixOverbrace;hasRequiredFixOverbrace=1,Object.defineProperty(fixOverbrace,"__esModule",{value:!0}),fixOverbrace.fixOverbraces=function(t){return t.replace(new RegExp(`(\\\\overbrace)(\\\\${e.color}${(0,e.arg)(1)})`,"g"),"$1{$2}")};const e=requireTexSyntax();return fixOverbrace}var fixLinebreaks={},hasRequiredFixLinebreaks;function requireFixLinebreaks(){if(hasRequiredFixLinebreaks)return fixLinebreaks;hasRequiredFixLinebreaks=1,Object.defineProperty(fixLinebreaks,"__esModule",{value:!0}),fixLinebreaks.fixLinebreaks=function(e){const r=t(e);let n=0,i=!1;const o=r.map(e=>e.startsWith("\\begin")||"{"===e?(n++,e):e.startsWith("\\end")||"}"===e?(n--,n<0&&(n=0),e):0===n&&e.includes("\\\\")?(i=!0,e.replace(/\\\\(?:\s*\\\\)*(\[[^\]]*])?/g,"\\\\$1&")):e).join("");if(i)return"\\begin{aligned}&"+o+"\n\\end{aligned}";return o},fixLinebreaks.tokenize=t;const e=new RegExp("(\\\\(?:begin|end)\\{[^}]+}|(?:\\\\\\\\\\s*)+(?:\\[[^\\]]*])?|\\\\\\{|\\\\}|[{}])");function t(t){return t.split(e)}return fixLinebreaks}var escapeUnsupportedUnicode={},hasRequiredEscapeUnsupportedUnicode;function requireEscapeUnsupportedUnicode(){if(hasRequiredEscapeUnsupportedUnicode)return escapeUnsupportedUnicode;return hasRequiredEscapeUnsupportedUnicode=1,Object.defineProperty(escapeUnsupportedUnicode,"__esModule",{value:!0}),escapeUnsupportedUnicode.escapeUnsupportedUnicode=function(e){return e.replace(//g,"\\unicode{0x20AC}").replace(//g,"\\unicode{0x20B9}").replace(//g,"\\unicode{0x20BC}").replace(//g,"\\unicode{0x0259}").replace(//g,"\\unicode{0x025B}").replace(//g,"\\unicode{0x0190}").replace(//g,"\\unicode{0x20B8}").replace(//g,"\\unicode{0x20BE}").replace(//g,"\\unicode{0x20AA}")},escapeUnsupportedUnicode}var fixUnicodeTextLayout={},textMeasurement={},hasRequiredTextMeasurement,hasRequiredFixUnicodeTextLayout;function requireTextMeasurement(){return hasRequiredTextMeasurement||(hasRequiredTextMeasurement=1,Object.defineProperty(textMeasurement,"__esModule",{value:!0}),textMeasurement.default={measureWidthInEms(e){var t,r;try{const n=100,i=document.createElement("span");i.innerText=e,i.style.position="absolute",i.style.visibility="hidden",i.style.left="-9999px",i.style.fontSize=`${n}px`,i.style.fontFamily="MJXZERO, serif",null===(t=document.body)||void 0===t||t.appendChild(i);const o=i.offsetWidth/n;return null===(r=i.parentNode)||void 0===r||r.removeChild(i),o}catch(n){return e.length}}}),textMeasurement}function requireFixUnicodeTextLayout(){if(hasRequiredFixUnicodeTextLayout)return fixUnicodeTextLayout;hasRequiredFixUnicodeTextLayout=1;var e=fixUnicodeTextLayout&&fixUnicodeTextLayout.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fixUnicodeTextLayout,"__esModule",{value:!0}),fixUnicodeTextLayout.fixUnicodeTextLayout=function(e){return e.replace(n,(e,t)=>{if("\\\\"===e)return e;if(e.startsWith("\\text")){for(const r of e)if(a(r))return`{\\rlap{${e}\\hphantom.}\\phantom{\\text${i(t)}}}`;return e}return`{\\rlap{${e}\\hphantom.}${o(e)}}`})};const t=e(requireTextMeasurement()),r=`\\\\text(\\s*${(0,requireTexSyntax().block)(4)})`,n=new RegExp(`(?:\\\\\\\\|${r}|[\\u20a0-\\u20c0])`,"g");function i(e){return e.replace(/[^\t\n\r\x20-\x7f]+/g,o)}function o(e){return`\\kern{${t.default.measureWidthInEms(e)}em}`}function a(e){const t=e.codePointAt(0);return null!=t&&t>127}return fixUnicodeTextLayout}var fixOverline={},hasRequiredFixOverline;function requireFixOverline(){if(hasRequiredFixOverline)return fixOverline;hasRequiredFixOverline=1,Object.defineProperty(fixOverline,"__esModule",{value:!0}),fixOverline.fixOverline=function(e){return e.replace(t,"$1{$2}")};const e=requireTexSyntax(),t=new RegExp(`(\\\\overline)(\\\\(?:text|${e.color})${(0,e.arg)(1)})`,"g");return fixOverline}var fixXrightarrow={},hasRequiredFixXrightarrow;function requireFixXrightarrow(){if(hasRequiredFixXrightarrow)return fixXrightarrow;hasRequiredFixXrightarrow=1,Object.defineProperty(fixXrightarrow,"__esModule",{value:!0}),fixXrightarrow.fixXrightarrow=function(t){const r=new RegExp(`(\\\\xrightarrow\\s*(?:\\[[^\\]]*]\\s*)?)(\\\\text${(0,e.block)(0)})`,"g");return t.replace(r,"$1{$2}")};const e=requireTexSyntax();return fixXrightarrow}var fixSpaceBlocks={},hasRequiredFixSpaceBlocks;function requireFixSpaceBlocks(){if(hasRequiredFixSpaceBlocks)return fixSpaceBlocks;hasRequiredFixSpaceBlocks=1,Object.defineProperty(fixSpaceBlocks,"__esModule",{value:!0}),fixSpaceBlocks.fixSpaceBlocks=function(t){return t.replace(new RegExp(`\\\\space(${(0,e.block)(0)})`,"g"),(e,t)=>" "+t.replace(new RegExp("[{}]","g"),""))};const e=requireTexSyntax();return fixSpaceBlocks}var fixEllipsis={},hasRequiredFixEllipsis;function requireFixEllipsis(){if(hasRequiredFixEllipsis)return fixEllipsis;hasRequiredFixEllipsis=1,Object.defineProperty(fixEllipsis,"__esModule",{value:!0}),fixEllipsis.fixEllipsis=function(t){return t.replace(new RegExp(`\\\\hphantom${(0,e.arg)(4)}|\\\\bond${(0,e.arg)(0)}|\\.\\.\\.`,"g"),e=>"..."===e?"\\unicode{0x2026}":e)};const e=requireTexSyntax();return fixEllipsis}var fixHphantomEllipsis={},hasRequiredFixHphantomEllipsis;function requireFixHphantomEllipsis(){if(hasRequiredFixHphantomEllipsis)return fixHphantomEllipsis;hasRequiredFixHphantomEllipsis=1,Object.defineProperty(fixHphantomEllipsis,"__esModule",{value:!0}),fixHphantomEllipsis.fixHPhantomEllipsis=function(t){return t.replace(new RegExp(`\\\\hphantom${(0,e.arg)(4)}`,"g"),e=>e.replace(/{\.}|\./g,e=>"."===e?"{.}":e))};const e=requireTexSyntax();return fixHphantomEllipsis}var fixTextCaret={},hasRequiredFixTextCaret;function requireFixTextCaret(){if(hasRequiredFixTextCaret)return fixTextCaret;hasRequiredFixTextCaret=1,Object.defineProperty(fixTextCaret,"__esModule",{value:!0}),fixTextCaret.fixTextCaret=function(e){return e.replace("\\dfrac{27}{25} \\text^2","\\dfrac{27}{25} \\text{^}2").replace("\\text ^+(aq)","\\text{^}+(aq)").replace(t,(e,t)=>`\\text${function(e){return e.replace(/(\$[^$]*\$)|(\\\^[a-z])|([\\^])/g,e=>"^"===e?"\\unicode{0x005e}":e)}(t)}`)};const e=requireTexSyntax(),t=new RegExp(`\\\\text(${(0,e.block)(3)})`,"g");return fixTextCaret}var fixCommaInDimension={},hasRequiredFixCommaInDimension;function requireFixCommaInDimension(){if(hasRequiredFixCommaInDimension)return fixCommaInDimension;return hasRequiredFixCommaInDimension=1,Object.defineProperty(fixCommaInDimension,"__esModule",{value:!0}),fixCommaInDimension.fixCommaInDimension=function(e){return e.replace(/(\\\\\[[^\]{]*){,}/g,"$1,")},fixCommaInDimension}var fixUnderset={},hasRequiredFixUnderset;function requireFixUnderset(){if(hasRequiredFixUnderset)return fixUnderset;hasRequiredFixUnderset=1,Object.defineProperty(fixUnderset,"__esModule",{value:!0}),fixUnderset.fixUnderset=function(t){return t.replace(new RegExp(`(\\\\underset${(0,e.block)(1)})(\\\\redE\\s*${(0,e.block)(2)})`,"g"),"$1{$2}")};const e=requireTexSyntax();return fixUnderset}var fixRedHearts={},hasRequiredFixRedHearts;function requireFixRedHearts(){if(hasRequiredFixRedHearts)return fixRedHearts;return hasRequiredFixRedHearts=1,Object.defineProperty(fixRedHearts,"__esModule",{value:!0}),fixRedHearts.fixRedHearts=function(e){return e.replace(new RegExp("\\\\red\\s*","g"),"\\red{}")},fixRedHearts}var fixOneoffs={},hasRequiredFixOneoffs;function requireFixOneoffs(){if(hasRequiredFixOneoffs)return fixOneoffs;return hasRequiredFixOneoffs=1,Object.defineProperty(fixOneoffs,"__esModule",{value:!0}),fixOneoffs.fixOneoffs=function(e){return e.replace(/[\x00-\x08\v\f\x0e-\x1f\x7f]/g,"").replace(/\\text_/g,"\\text{\\_}").replace(/\\cancel\s*{\s*\\text{}\s*}/g,"").replace("\\text ","\\text{}").replace(/^\\/,"").replace("\\textbf{x_0}","\\mathbf{x_0}").replace("\\overline{}2~367=2q+r","2~367=2q+r")},fixOneoffs}var fixTextIt={},hasRequiredFixTextIt;function requireFixTextIt(){if(hasRequiredFixTextIt)return fixTextIt;hasRequiredFixTextIt=1,Object.defineProperty(fixTextIt,"__esModule",{value:!0}),fixTextIt.fixTextIt=function(t){return t.replace(new RegExp(`\\\\textit\\s*(${(0,e.block)(4)})`,"g"),"\\text{\\it$1}")};const e=requireTexSyntax();return fixTextIt}var fixEmptySqrt={},hasRequiredFixEmptySqrt;function requireFixEmptySqrt(){if(hasRequiredFixEmptySqrt)return fixEmptySqrt;return hasRequiredFixEmptySqrt=1,Object.defineProperty(fixEmptySqrt,"__esModule",{value:!0}),fixEmptySqrt.fixEmptySqrt=function(e){return e.replace(new RegExp("\\\\sqrt\\s*{\\s*}","g"),"\\sqrt{\\vphantom1}")},fixEmptySqrt}var fixBigBrackets={},hasRequiredFixBigBrackets;function requireFixBigBrackets(){if(hasRequiredFixBigBrackets)return fixBigBrackets;return hasRequiredFixBigBrackets=1,Object.defineProperty(fixBigBrackets,"__esModule",{value:!0}),fixBigBrackets.fixBigBrackets=function(e){return e.replace(new RegExp("\\\\Big\\s*","g"),"\\Big<").replace(new RegExp("\\\\Big\\s*","g"),"\\Big>")},fixBigBrackets}var escapeSquareBracketAfterBegin={},hasRequiredEscapeSquareBracketAfterBegin;function requireEscapeSquareBracketAfterBegin(){if(hasRequiredEscapeSquareBracketAfterBegin)return escapeSquareBracketAfterBegin;return hasRequiredEscapeSquareBracketAfterBegin=1,Object.defineProperty(escapeSquareBracketAfterBegin,"__esModule",{value:!0}),escapeSquareBracketAfterBegin.escapeSquareBracketAfterBegin=function(e){return e.replace(/(\\begin{[^}]*}\s*)\[/g,"$1{}[")},escapeSquareBracketAfterBegin}var fixTh={},hasRequiredFixTh;function requireFixTh(){if(hasRequiredFixTh)return fixTh;return hasRequiredFixTh=1,Object.defineProperty(fixTh,"__esModule",{value:!0}),fixTh.fixTh=function(e){return e.replace(new RegExp("\\\\th(\\s+|$)","g"),"\\text{th}$1")},fixTh}var fixBoxedInText={},hasRequiredFixBoxedInText;function requireFixBoxedInText(){if(hasRequiredFixBoxedInText)return fixBoxedInText;return hasRequiredFixBoxedInText=1,Object.defineProperty(fixBoxedInText,"__esModule",{value:!0}),fixBoxedInText.fixBoxedInText=function(e){return e.replace(new RegExp("\\\\text\\s*{\\s*([^}]*)}","g"),e=>e.replace(new RegExp("[$]?(\\\\boxed{[^}]*})","g"),e=>e.startsWith("$")?e:`$${e}$`))},fixBoxedInText}var fixDotsInText={},hasRequiredFixDotsInText;function requireFixDotsInText(){if(hasRequiredFixDotsInText)return fixDotsInText;return hasRequiredFixDotsInText=1,Object.defineProperty(fixDotsInText,"__esModule",{value:!0}),fixDotsInText.fixDotsInText=function(e){return e.replace(new RegExp("\\\\text\\s*{\\s*([^}]*)}","g"),e=>e.replace(new RegExp("[$]?\\\\dots","g"),e=>e.startsWith("$")?e:`$${e}$`))},fixDotsInText}var fixDoubleBackslashInColor={},hasRequiredFixDoubleBackslashInColor;function requireFixDoubleBackslashInColor(){if(hasRequiredFixDoubleBackslashInColor)return fixDoubleBackslashInColor;hasRequiredFixDoubleBackslashInColor=1,Object.defineProperty(fixDoubleBackslashInColor,"__esModule",{value:!0}),fixDoubleBackslashInColor.fixDoubleBackslashInColor=function(e){return e.replace(t,"$1")};const e=requireTexSyntax(),t=new RegExp(`(\\\\${e.color}\\{)\\\\\\\\`,"g");return fixDoubleBackslashInColor}var fixTextInColorbox={},hasRequiredFixTextInColorbox;function requireFixTextInColorbox(){if(hasRequiredFixTextInColorbox)return fixTextInColorbox;return hasRequiredFixTextInColorbox=1,Object.defineProperty(fixTextInColorbox,"__esModule",{value:!0}),fixTextInColorbox.fixTextInColorbox=function(e){return e.replace(/(\\colorbox\{[^}]*}\{)\\text /g,"$1")},fixTextInColorbox}var fixSubstackColors={},hasRequiredFixSubstackColors;function requireFixSubstackColors(){if(hasRequiredFixSubstackColors)return fixSubstackColors;hasRequiredFixSubstackColors=1,Object.defineProperty(fixSubstackColors,"__esModule",{value:!0}),fixSubstackColors.fixSubstackColors=function(t){if(!t.match(new RegExp(`\\\\substack{\\s*\\\\${e.color}{\\s*\\\\text`)))return t;return t.replace(new RegExp(`\\\\substack(${(0,e.block)(3)})`,"g"),(t,r)=>`\\substack{${r.slice(1,-1).replace(new RegExp(`\\\\(${e.color})(${(0,e.block)(3)})`,"g"),(t,r,n)=>n.slice(1,-1).trim().startsWith("\\text")?n.slice(1,-1).replace(new RegExp(`\\\\text(${(0,e.block)(3)})`,"g"),`\\text{\\${r}$1}`):t)}}`)};const e=requireTexSyntax();return fixSubstackColors}var fixUnicodeOutsideText={},hasRequiredFixUnicodeOutsideText;function requireFixUnicodeOutsideText(){if(hasRequiredFixUnicodeOutsideText)return fixUnicodeOutsideText;hasRequiredFixUnicodeOutsideText=1,Object.defineProperty(fixUnicodeOutsideText,"__esModule",{value:!0}),fixUnicodeOutsideText.fixUnicodeOutsideText=function(e){return e.replace(s,"$1{$2}").replace(a,e=>"\\"===e[0]?e:`\\text{${e}}`)};const e=requireTexSyntax();const t=["\\p{sc=Deva}","\\u0964","\\p{sc=Beng}","\\p{sc=Guru}","\\p{sc=Gujr}","\\p{sc=Taml}","\\p{sc=Telu}","\\p{sc=Knda}","\\p{sc=Thai}","\\p{sc=Mymr}","\\p{sc=Khmr}"].join(""),r=`[${t}][\\s${t}]*`,n=`\\\\fcolorbox${(0,e.arg)(0)}${(0,e.arg)(0)}${(0,e.arg)(4)}`,i=`\\\\colorbox${(0,e.arg)(0)}${(0,e.arg)(4)}`,o=`\\\\${e.commandWithTextModeFirstArg}${(0,e.arg)(4)}`,a=new RegExp(`\\\\\\\\|${n}|${i}|${o}|${r}`,"ug"),s=new RegExp(`(\\\\text)\\s*([${t}]+)`,"ug");return fixUnicodeOutsideText}var fixAlignedPhantom={},hasRequiredFixAlignedPhantom;function requireFixAlignedPhantom(){if(hasRequiredFixAlignedPhantom)return fixAlignedPhantom;return hasRequiredFixAlignedPhantom=1,Object.defineProperty(fixAlignedPhantom,"__esModule",{value:!0}),fixAlignedPhantom.fixAlignedPhantom=function(e){return e.replace(/&\s*\\phantom\s*(=|\{\s*=\s*})/g,"&\\phantom{{}={}}")},fixAlignedPhantom}var fixSqrtSpacing={},hasRequiredFixSqrtSpacing,hasRequiredPreprocessing;function requireFixSqrtSpacing(){if(hasRequiredFixSqrtSpacing)return fixSqrtSpacing;return hasRequiredFixSqrtSpacing=1,Object.defineProperty(fixSqrtSpacing,"__esModule",{value:!0}),fixSqrtSpacing.fixSqrtSpacing=function(e){return e.replace(/\\sqrt\[([^\]]*)]\{/g,"\\sqrt[$1]{\\vphantom{A}")},fixSqrtSpacing}function requirePreprocessing(){if(hasRequiredPreprocessing)return preprocessing;hasRequiredPreprocessing=1,Object.defineProperty(preprocessing,"__esModule",{value:!0}),preprocessing.MathJaxPreprocessor=void 0;const e=requireReplaceAlignWithAligned(),t=requireEscapeTextSymbols(),r=requireFixNestedCancelCommands(),n=requireFixStackrelBraces(),i=requireFixOversetBraces(),o=requireFixDfracBraces(),a=requireFixHatBraces(),s=requireFixSqrtBraces(),l=requireFixBold(),c=requireFixColors(),u=requireRemoveCommentsInColorBlocks(),d=requireFixCommandsWithMissingArg(),h=requireFixTextUnderscores(),p=requireFixText(),f=requireFixTextInText(),m=requireFixWidehat(),g=requireFixVecBraces(),y=requireFixUnderline(),b=requireFixFbox(),v=requireFixOverbrace(),x=requireFixLinebreaks(),$=requireEscapeUnsupportedUnicode(),S=requireFixUnicodeTextLayout(),E=requireFixOverline(),w=requireFixXrightarrow(),_=requireFixSpaceBlocks(),M=requireFixEllipsis(),C=requireFixHphantomEllipsis(),T=requireFixTextCaret(),R=requireFixCommaInDimension(),O=requireFixUnderset(),k=requireFixRedHearts(),A=requireFixOneoffs(),N=requireFixTextIt(),I=requireFixEmptySqrt(),L=requireFixBigBrackets(),P=requireEscapeSquareBracketAfterBegin(),B=requireFixTh(),q=requireFixBoxedInText(),j=requireFixDotsInText(),D=requireFixDoubleBackslashInColor(),F=requireFixTextInColorbox(),z=requireFixSubstackColors(),W=requireFixUnicodeOutsideText(),H=requireFixAlignedPhantom(),U=requireFixSqrtSpacing(),V=(...e)=>t=>e.reduce((e,t)=>t(e),t);return preprocessing.MathJaxPreprocessor=class{constructor({shouldFixUnicodeLayout:G}){this.preprocessTex=e=>{const t=this.fixNonstandardSyntax(e);return{normalizedTex:t,normalizedTexWithMathjaxWorkarounds:this.workAroundMathJaxDeficiencies(t)}},this.fixNonstandardSyntax=V(t.escapeTextSymbols,r.fixNestedCancelCommands,n.fixStackrelBraces,i.fixOversetBraces,v.fixOverbraces,o.fixDfracBraces,a.fixHatBraces,s.fixSqrtBraces,l.fixBold,f.fixTextInText,b.fixFbox,p.fixText,W.fixUnicodeOutsideText,c.fixColors,d.fixCommandsWithMissingArg,m.fixWidehat,g.fixVecBraces,E.fixOverline,y.fixUnderline,h.fixTextUnderscores,_.fixSpaceBlocks,w.fixXrightarrow,M.fixEllipsis,C.fixHPhantomEllipsis,T.fixTextCaret,R.fixCommaInDimension,O.fixUnderset,I.fixEmptySqrt,P.escapeSquareBracketAfterBegin,k.fixRedHearts,A.fixOneoffs,N.fixTextIt,L.fixBigBrackets,B.fixTh,q.fixBoxedInText,j.fixDotsInText,D.fixDoubleBackslashInColor,F.fixTextInColorbox,z.fixSubstackColors,H.fixAlignedPhantom),this.workAroundMathJaxDeficiencies=V(e.replaceAlignWithAligned,x.fixLinebreaks,U.fixSqrtSpacing,e=>this.shouldFixUnicodeLayout?(0,S.fixUnicodeTextLayout)(e):e,$.escapeUnsupportedUnicode,u.removeCommentsInColorBlocks),this.shouldFixUnicodeLayout=G}},preprocessing}var postprocessing={},mergeAdjacentUnicodeTextNodes={},hasRequiredMergeAdjacentUnicodeTextNodes;function requireMergeAdjacentUnicodeTextNodes(){if(hasRequiredMergeAdjacentUnicodeTextNodes)return mergeAdjacentUnicodeTextNodes;function e(e,t){e.firstChild instanceof Text&&t.firstChild instanceof Text&&null!=e.firstChild.textContent&&null!=t.firstChild.textContent&&(e.firstChild.textContent+=t.firstChild.textContent)}return hasRequiredMergeAdjacentUnicodeTextNodes=1,Object.defineProperty(mergeAdjacentUnicodeTextNodes,"__esModule",{value:!0}),mergeAdjacentUnicodeTextNodes.mergeAdjacentUnicodeTextNodes=function(t){for(const r of t.querySelectorAll("mjx-mtext")){let t=null;const n=[];for(const i of r.childNodes)i instanceof HTMLElement&&"MJX-UTEXT"===i.tagName?null==t?t=i:(e(t,i),n.push(i)):t=null;for(const e of n)r.removeChild(e)}return t},mergeAdjacentUnicodeTextNodes}var addSelectableNode={},hasRequiredAddSelectableNode,hasRequiredPostprocessing;function requireAddSelectableNode(){if(hasRequiredAddSelectableNode)return addSelectableNode;function e(e,t){e.insertAdjacentElement("beforebegin",t),e.remove()}return hasRequiredAddSelectableNode=1,Object.defineProperty(addSelectableNode,"__esModule",{value:!0}),addSelectableNode.addSelectableNode=function(e){const t=document.createElement("span");return t.className="mathjax-wrapper",t.appendChild(function(e){e.style.userSelect="none !important";const t=e.querySelector("math");return null==t||t.setAttribute("style","-webkit-user-select: none !important"),e}(e)),t.appendChild(function(){const e=document.createElement("span");e.className="mathjax-selectable",e.style.fontSize="20px",e.setAttribute("aria-hidden","true"),e.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&e.preventDefault()});const t='<svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 5 14"\n        width="100%"\n        height="100%"\n        preserveAspectRatio="none"\n        fill="transparent"\n        stroke="transparent"\n    ><text\n        y="0"\n        dominant-baseline="hanging"\n        textlength="100%"\n        lengthAdjust="spacingAndGlyphs"\n    >&nbsp;</text></svg>';return e.innerHTML=`<span class="copy-menu-hack">&#8205;</span>${t}`,e}()),t},addSelectableNode.selectableTextElement=function(e){return e.querySelector(".mathjax-selectable > svg > text")},addSelectableNode.swapSelectableElementForCopyableText=function(t,r){const n=t.querySelector("svg");if(n){const i=document.createElement("span");i.innerText=r,i.style.opacity="0",e(n,i),t.style.backgroundColor="Highlight",setTimeout(()=>{e(i,n),t.style.backgroundColor=""},0)}},addSelectableNode}function requirePostprocessing(){if(hasRequiredPostprocessing)return postprocessing;hasRequiredPostprocessing=1,Object.defineProperty(postprocessing,"__esModule",{value:!0}),postprocessing.postprocessDom=function(r){return r=(0,e.mergeAdjacentUnicodeTextNodes)(r),r=(0,t.addSelectableNode)(r)};const e=requireMergeAdjacentUnicodeTextNodes(),t=requireAddSelectableNode();return postprocessing}var generalPurpose={},hasRequiredGeneralPurpose;function requireGeneralPurpose(){if(hasRequiredGeneralPurpose)return generalPurpose;return hasRequiredGeneralPurpose=1,Object.defineProperty(generalPurpose,"__esModule",{value:!0}),generalPurpose.convertCaughtValueToError=function(e){if(e instanceof Error)return e;return new Error(String(e))},generalPurpose.createSpanWithRedText=function(e){const t=document.createElement("span");return t.appendChild(document.createTextNode(e)),t.style.color="red",t},generalPurpose.lazy=function(e){let t;return()=>(null==t&&(t=e()),t)},generalPurpose}var texInputConfig={},AmsConfiguration={},AmsItems={},hasRequiredAmsItems;function requireAmsItems(){if(hasRequiredAmsItems)return AmsItems;hasRequiredAmsItems=1;var e=AmsItems&&AmsItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=AmsItems&&AmsItems.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=AmsItems&&AmsItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AmsItems,"__esModule",{value:!0}),AmsItems.FlalignItem=AmsItems.MultlineItem=void 0;var n=requireBaseItems(),i=r(requireParseUtil()),o=r(requireNodeUtil()),a=r(requireTexError()),s=requireTexConstants(),l=function(t){function r(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,e)||this;return i.factory.configuration.tags.start("multline",!0,r[0]),i}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"multline"},enumerable:!1,configurable:!0}),r.prototype.EndEntry=function(){this.table.length&&i.default.fixInitialMO(this.factory.configuration,this.nodes);var e=this.getProperty("shove"),t=this.create("node","mtd",this.nodes,e?{columnalign:e}:{});this.setProperty("shove",null),this.row.push(t),this.Clear()},r.prototype.EndRow=function(){if(1!==this.row.length)throw new a.default("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");var e=this.create("node","mtr",this.row);this.table.push(e),this.row=[]},r.prototype.EndTable=function(){if(t.prototype.EndTable.call(this),this.table.length){var e=this.table.length-1,r=-1;o.default.getAttribute(o.default.getChildren(this.table[0])[0],"columnalign")||o.default.setAttribute(o.default.getChildren(this.table[0])[0],"columnalign",s.TexConstant.Align.LEFT),o.default.getAttribute(o.default.getChildren(this.table[e])[0],"columnalign")||o.default.setAttribute(o.default.getChildren(this.table[e])[0],"columnalign",s.TexConstant.Align.RIGHT);var n=this.factory.configuration.tags.getTag();if(n){r=this.arraydef.side===s.TexConstant.Align.LEFT?0:this.table.length-1;var i=this.table[r],a=this.create("node","mlabeledtr",[n].concat(o.default.getChildren(i)));o.default.copyAttributes(i,a),this.table[r]=a}}this.factory.configuration.tags.end()},r}(n.ArrayItem);AmsItems.MultlineItem=l;var c=function(r){function n(e,t,n,i,o){var a=r.call(this,e)||this;return a.name=t,a.numbered=n,a.padded=i,a.center=o,a.factory.configuration.tags.start(t,n,n),a}return e(n,r),Object.defineProperty(n.prototype,"kind",{get:function(){return"flalign"},enumerable:!1,configurable:!0}),n.prototype.EndEntry=function(){r.prototype.EndEntry.call(this);var e=this.getProperty("xalignat");if(e&&this.row.length>e)throw new a.default("XalignOverflow","Extra %1 in row of %2","&",this.name)},n.prototype.EndRow=function(){for(var e,n=this.row,i=this.getProperty("xalignat");n.length<i;)n.push(this.create("node","mtd"));for(this.row=[],this.padded&&this.row.push(this.create("node","mtd"));e=n.shift();)this.row.push(e),(e=n.shift())&&this.row.push(e),(n.length||this.padded)&&this.row.push(this.create("node","mtd"));this.row.length>this.maxrow&&(this.maxrow=this.row.length),r.prototype.EndRow.call(this);var a=this.table[this.table.length-1];if(this.getProperty("zeroWidthLabel")&&a.isKind("mlabeledtr")){var s=o.default.getChildren(a)[0],l=this.factory.configuration.options.tagSide,c=t({width:0},"right"===l?{lspace:"-1width"}:{}),u=this.create("node","mpadded",o.default.getChildren(s),c);s.setChildren([u])}},n.prototype.EndTable=function(){(r.prototype.EndTable.call(this),this.center)&&(this.maxrow<=2&&(delete this.arraydef.width,delete this.global.indentalign))},n}(n.EqnArrayItem);return AmsItems.FlalignItem=c,AmsItems}var AmsMethods={},hasRequiredAmsMethods;function requireAmsMethods(){return hasRequiredAmsMethods||(hasRequiredAmsMethods=1,function(e){var t=AmsMethods&&AmsMethods.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=AmsMethods&&AmsMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=AmsMethods&&AmsMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.NEW_OPS=e.AmsMethods=void 0;var i=n(requireParseUtil()),o=n(requireParseMethods()),a=n(requireNodeUtil()),s=requireTexConstants(),l=n(requireTexParser()),c=n(requireTexError()),u=require_Symbol(),d=n(requireBaseMethods()),h=requireMmlNode();function p(e){if(!e||e.isInferred&&0===e.childNodes.length)return[null,null];if(e.isKind("msubsup")&&f(e))return[e,null];var t=a.default.getChildAt(e,0);return e.isInferred&&t&&f(t)?(e.childNodes.splice(0,1),[t,e]):[null,e]}function f(e){var t=e.childNodes[0];return t&&t.isKind("mi")&&""===t.getText()}e.AmsMethods={},e.AmsMethods.AmsEqnArray=function(e,t,r,n,o,a,s){var l=e.GetBrackets("\\begin{"+t.getName()+"}"),c=d.default.EqnArray(e,t,r,n,o,a,s);return i.default.setArrayAlign(c,l)},e.AmsMethods.AlignAt=function(t,r,n,o){var a,s,l=r.getName(),u="",d=[];if(o||(s=t.GetBrackets("\\begin{"+l+"}")),(a=t.GetArgument("\\begin{"+l+"}")).match(/[^0-9]/))throw new c.default("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+l+"}");for(var h=parseInt(a,10);h>0;)u+="rl",d.push("0em 0em"),h--;var p=d.join(" ");if(o)return e.AmsMethods.EqnArray(t,r,n,o,u,p);var f=e.AmsMethods.EqnArray(t,r,n,o,u,p);return i.default.setArrayAlign(f,s)},e.AmsMethods.Multline=function(e,t,r){e.Push(t),i.default.checkEqnEnv(e);var n=e.itemFactory.create("multline",r,e.stack);return n.arraydef={displaystyle:!0,rowspacing:".5em",columnspacing:"100%",width:e.options.ams.multlineWidth,side:e.options.tagSide,minlabelspacing:e.options.tagIndent,framespacing:e.options.ams.multlineIndent+" 0",frame:"","data-width-includes-label":!0},n},e.AmsMethods.XalignAt=function(t,r,n,i){var o=t.GetArgument("\\begin{"+r.getName()+"}");if(o.match(/[^0-9]/))throw new c.default("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+r.getName()+"}");var a=i?"crl":"rlc",s=i?"fit auto auto":"auto auto fit",l=e.AmsMethods.FlalignArray(t,r,n,i,!1,a,s,!0);return l.setProperty("xalignat",2*parseInt(o)),l},e.AmsMethods.FlalignArray=function(e,t,r,n,o,a,s,l){void 0===l&&(l=!1),e.Push(t),i.default.checkEqnEnv(e),a=a.split("").join(" ").replace(/r/g,"right").replace(/l/g,"left").replace(/c/g,"center");var c=e.itemFactory.create("flalign",t.getName(),r,n,o,e.stack);return c.arraydef={width:"100%",displaystyle:!0,columnalign:a,columnspacing:"0em",columnwidth:s,rowspacing:"3pt",side:e.options.tagSide,minlabelspacing:l?"0":e.options.tagIndent,"data-width-includes-label":!0},c.setProperty("zeroWidthLabel",l),c},e.NEW_OPS="ams-declare-ops",e.AmsMethods.HandleDeclareOp=function(t,r){var n=t.GetStar()?"*":"",o=i.default.trimSpaces(t.GetArgument(r));"\\"===o.charAt(0)&&(o=o.substr(1));var a=t.GetArgument(r);t.configuration.handlers.retrieve(e.NEW_OPS).add(o,new u.Macro(o,e.AmsMethods.Macro,["\\operatorname".concat(n,"{").concat(a,"}")]))},e.AmsMethods.HandleOperatorName=function(e,r){var n=e.GetStar(),o=i.default.trimSpaces(e.GetArgument(r)),c=new l.default(o,t(t({},e.stack.env),{font:s.TexConstant.Variant.NORMAL,multiLetterIdentifiers:/^[-*a-z]+/i,operatorLetters:!0}),e.configuration).mml();if(c.isKind("mi")||(c=e.create("node","TeXAtom",[c])),a.default.setProperties(c,{movesupsub:n,movablelimits:!0,texClass:h.TEXCLASS.OP}),!n){var u=e.GetNext(),d=e.i;"\\"===u&&++e.i&&"limits"!==e.GetCS()&&(e.i=d)}e.Push(c)},e.AmsMethods.SideSet=function(e,t){var n=r(p(e.ParseArg(t)),2),o=n[0],s=n[1],l=r(p(e.ParseArg(t)),2),c=l[0],u=l[1],d=e.ParseArg(t),f=d;o&&(s?o.replaceChild(e.create("node","mphantom",[e.create("node","mpadded",[i.default.copyNode(d,e)],{width:0})]),a.default.getChildAt(o,0)):(f=e.create("node","mmultiscripts",[d]),c&&a.default.appendChildren(f,[a.default.getChildAt(c,1)||e.create("node","none"),a.default.getChildAt(c,2)||e.create("node","none")]),a.default.setProperty(f,"scriptalign","left"),a.default.appendChildren(f,[e.create("node","mprescripts"),a.default.getChildAt(o,1)||e.create("node","none"),a.default.getChildAt(o,2)||e.create("node","none")]))),c&&f===d&&(c.replaceChild(d,a.default.getChildAt(c,0)),f=c);var m=e.create("node","TeXAtom",[],{texClass:h.TEXCLASS.OP,movesupsub:!0,movablelimits:!0});s&&(o&&m.appendChild(o),m.appendChild(s)),m.appendChild(f),u&&m.appendChild(u),e.Push(m)},e.AmsMethods.operatorLetter=function(e,t){return!!e.stack.env.operatorLetters&&o.default.variable(e,t)},e.AmsMethods.MultiIntegral=function(e,t,r){var n=e.GetNext();if("\\"===n){var i=e.i;n=e.GetArgument(t),e.i=i,"\\limits"===n&&(r="\\idotsint"===t?"\\!\\!\\mathop{\\,\\,"+r+"}":"\\!\\!\\!\\mathop{\\,\\,\\,"+r+"}")}e.string=r+" "+e.string.slice(e.i),e.i=0},e.AmsMethods.xArrow=function(e,t,r,n,o){var s={width:"+"+i.default.Em((n+o)/18),lspace:i.default.Em(n/18)},c=e.GetBrackets(t),u=e.ParseArg(t),d=e.create("node","mspace",[],{depth:".25em"}),p=e.create("token","mo",{stretchy:!0,texClass:h.TEXCLASS.REL},String.fromCodePoint(r));p=e.create("node","mstyle",[p],{scriptlevel:0});var f=e.create("node","munderover",[p]),m=e.create("node","mpadded",[u,d],s);if(a.default.setAttribute(m,"voffset","-.2em"),a.default.setAttribute(m,"height","-.2em"),a.default.setChild(f,f.over,m),c){var g=new l.default(c,e.stack.env,e.configuration).mml(),y=e.create("node","mspace",[],{height:".75em"});m=e.create("node","mpadded",[g,y],s),a.default.setAttribute(m,"voffset",".15em"),a.default.setAttribute(m,"depth","-.15em"),a.default.setChild(f,f.under,m)}a.default.setProperty(f,"subsupOK",!0),e.Push(f)},e.AmsMethods.HandleShove=function(e,t,r){var n=e.stack.Top();if("multline"!==n.kind)throw new c.default("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",e.currentCS,"multline");if(n.Size())throw new c.default("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",e.currentCS);n.setProperty("shove",r)},e.AmsMethods.CFrac=function(e,t){var r=i.default.trimSpaces(e.GetBrackets(t,"")),n=e.GetArgument(t),o=e.GetArgument(t),u={l:s.TexConstant.Align.LEFT,r:s.TexConstant.Align.RIGHT,"":""},d=new l.default("\\strut\\textstyle{"+n+"}",e.stack.env,e.configuration).mml(),h=new l.default("\\strut\\textstyle{"+o+"}",e.stack.env,e.configuration).mml(),p=e.create("node","mfrac",[d,h]);if(null==(r=u[r]))throw new c.default("IllegalAlign","Illegal alignment specified in %1",e.currentCS);r&&a.default.setProperties(p,{numalign:r,denomalign:r}),e.Push(p)},e.AmsMethods.Genfrac=function(e,t,r,n,o,s){null==r&&(r=e.GetDelimiterArg(t)),null==n&&(n=e.GetDelimiterArg(t)),null==o&&(o=e.GetArgument(t)),null==s&&(s=i.default.trimSpaces(e.GetArgument(t)));var l=e.ParseArg(t),u=e.ParseArg(t),d=e.create("node","mfrac",[l,u]);if(""!==o&&a.default.setAttribute(d,"linethickness",o),(r||n)&&(a.default.setProperty(d,"withDelims",!0),d=i.default.fixedFence(e.configuration,r,d,n)),""!==s){var h=parseInt(s,10),p=["D","T","S","SS"][h];if(null==p)throw new c.default("BadMathStyleFor","Bad math style for %1",e.currentCS);d=e.create("node","mstyle",[d]),"D"===p?a.default.setProperties(d,{displaystyle:!0,scriptlevel:0}):a.default.setProperties(d,{displaystyle:!1,scriptlevel:h-1})}e.Push(d)},e.AmsMethods.HandleTag=function(e,t){if(!e.tags.currentTag.taggable&&e.tags.env)throw new c.default("CommandNotAllowedInEnv","%1 not allowed in %2 environment",e.currentCS,e.tags.env);if(e.tags.currentTag.tag)throw new c.default("MultipleCommand","Multiple %1",e.currentCS);var r=e.GetStar(),n=i.default.trimSpaces(e.GetArgument(t));e.tags.tag(n,r)},e.AmsMethods.HandleNoTag=d.default.HandleNoTag,e.AmsMethods.HandleRef=d.default.HandleRef,e.AmsMethods.Macro=d.default.Macro,e.AmsMethods.Accent=d.default.Accent,e.AmsMethods.Tilde=d.default.Tilde,e.AmsMethods.Array=d.default.Array,e.AmsMethods.Spacer=d.default.Spacer,e.AmsMethods.NamedOp=d.default.NamedOp,e.AmsMethods.EqnArray=d.default.EqnArray,e.AmsMethods.Equation=d.default.Equation}(AmsMethods)),AmsMethods}var AmsMappings={},hasRequiredAmsMappings,hasRequiredAmsConfiguration;function requireAmsMappings(){if(hasRequiredAmsMappings)return AmsMappings;hasRequiredAmsMappings=1;var e=AmsMappings&&AmsMappings.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=AmsMappings&&AmsMappings.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=AmsMappings&&AmsMappings.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=AmsMappings&&AmsMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AmsMappings,"__esModule",{value:!0});var i=requireAmsMethods(),o=r(requireSymbolMap()),a=requireTexConstants(),s=n(requireParseMethods()),l=n(requireParseUtil()),c=requireMmlNode(),u=requireLengths();return new o.CharacterMap("AMSmath-mathchar0mo",s.default.mathchar0mo,{iiiint:["",{texClass:c.TEXCLASS.OP}]}),new o.RegExpMap("AMSmath-operatorLetter",i.AmsMethods.operatorLetter,/[-*]/i),new o.CommandMap("AMSmath-macros",{mathring:["Accent","02DA"],nobreakspace:"Tilde",negmedspace:["Spacer",u.MATHSPACE.negativemediummathspace],negthickspace:["Spacer",u.MATHSPACE.negativethickmathspace],idotsint:["MultiIntegral","\\int\\cdots\\int"],dddot:["Accent","20DB"],ddddot:["Accent","20DC"],sideset:"SideSet",boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],tag:"HandleTag",notag:"HandleNoTag",eqref:["HandleRef",!0],substack:["Macro","\\begin{subarray}{c}#1\\end{subarray}",1],injlim:["NamedOp","inj&thinsp;lim"],projlim:["NamedOp","proj&thinsp;lim"],varliminf:["Macro","\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:["Macro","\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:["Macro","\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:["Macro","\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:"HandleDeclareOp",operatorname:"HandleOperatorName",genfrac:"Genfrac",frac:["Genfrac","","","",""],tfrac:["Genfrac","","","","1"],dfrac:["Genfrac","","","","0"],binom:["Genfrac","(",")","0",""],tbinom:["Genfrac","(",")","0","1"],dbinom:["Genfrac","(",")","0","0"],cfrac:"CFrac",shoveleft:["HandleShove",a.TexConstant.Align.LEFT],shoveright:["HandleShove",a.TexConstant.Align.RIGHT],xrightarrow:["xArrow",8594,5,10],xleftarrow:["xArrow",8592,10,5]},i.AmsMethods),new o.EnvironmentMap("AMSmath-environment",s.default.environment,{"equation*":["Equation",null,!1],"eqnarray*":["EqnArray",null,!1,!0,"rcl",l.default.cols(0,u.MATHSPACE.thickmathspace),".5em"],align:["EqnArray",null,!0,!0,"rl",l.default.cols(0,2)],"align*":["EqnArray",null,!1,!0,"rl",l.default.cols(0,2)],multline:["Multline",null,!0],"multline*":["Multline",null,!1],split:["EqnArray",null,!1,!1,"rl",l.default.cols(0)],gather:["EqnArray",null,!0,!0,"c"],"gather*":["EqnArray",null,!1,!0,"c"],alignat:["AlignAt",null,!0,!0],"alignat*":["AlignAt",null,!1,!0],alignedat:["AlignAt",null,!1,!1],aligned:["AmsEqnArray",null,null,null,"rl",l.default.cols(0,2),".5em","D"],gathered:["AmsEqnArray",null,null,null,"c",null,".5em","D"],xalignat:["XalignAt",null,!0,!0],"xalignat*":["XalignAt",null,!1,!0],xxalignat:["XalignAt",null,!1,!1],flalign:["FlalignArray",null,!0,!1,!0,"rlc","auto auto fit"],"flalign*":["FlalignArray",null,!1,!1,!0,"rlc","auto auto fit"],subarray:["Array",null,null,null,null,l.default.cols(0),"0.1em","S",1],smallmatrix:["Array",null,null,null,"c",l.default.cols(1/3),".2em","S",1],matrix:["Array",null,null,null,"c"],pmatrix:["Array",null,"(",")","c"],bmatrix:["Array",null,"[","]","c"],Bmatrix:["Array",null,"\\{","\\}","c"],vmatrix:["Array",null,"\\vert","\\vert","c"],Vmatrix:["Array",null,"\\Vert","\\Vert","c"],cases:["Array",null,"\\{",".","ll",null,".2em","T"]},i.AmsMethods),new o.DelimiterMap("AMSmath-delimiter",s.default.delimiter,{"\\lvert":["|",{texClass:c.TEXCLASS.OPEN}],"\\rvert":["|",{texClass:c.TEXCLASS.CLOSE}],"\\lVert":["",{texClass:c.TEXCLASS.OPEN}],"\\rVert":["",{texClass:c.TEXCLASS.CLOSE}]}),new o.CharacterMap("AMSsymbols-mathchar0mi",s.default.mathchar0mi,{digamma:"",varkappa:"",varGamma:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varDelta:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varTheta:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varLambda:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varXi:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varPi:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varSigma:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varUpsilon:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varPhi:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varPsi:["",{mathvariant:a.TexConstant.Variant.ITALIC}],varOmega:["",{mathvariant:a.TexConstant.Variant.ITALIC}],beth:"",gimel:"",daleth:"",backprime:["",{variantForm:!0}],hslash:"",varnothing:["",{variantForm:!0}],blacktriangle:"",triangledown:["",{variantForm:!0}],blacktriangledown:"",square:"",Box:"",blacksquare:"",lozenge:"",Diamond:"",blacklozenge:"",circledS:["",{mathvariant:a.TexConstant.Variant.NORMAL}],bigstar:"",sphericalangle:"",measuredangle:"",nexists:"",complement:"",mho:"",eth:["",{mathvariant:a.TexConstant.Variant.NORMAL}],Finv:"",diagup:"",Game:"",diagdown:"",Bbbk:["k",{mathvariant:a.TexConstant.Variant.DOUBLESTRUCK}],yen:"",circledR:"",checkmark:"",maltese:""}),new o.CharacterMap("AMSsymbols-mathchar0mo",s.default.mathchar0mo,{dotplus:"",ltimes:"",smallsetminus:["",{variantForm:!0}],rtimes:"",Cap:"",doublecap:"",leftthreetimes:"",Cup:"",doublecup:"",rightthreetimes:"",barwedge:"",curlywedge:"",veebar:"",curlyvee:"",doublebarwedge:"",boxminus:"",circleddash:"",boxtimes:"",circledast:"",boxdot:"",circledcirc:"",boxplus:"",centerdot:["",{variantForm:!0}],divideontimes:"",intercal:"",leqq:"",geqq:"",leqslant:"",geqslant:"",eqslantless:"",eqslantgtr:"",lesssim:"",gtrsim:"",lessapprox:"",gtrapprox:"",approxeq:"",lessdot:"",gtrdot:"",lll:"",llless:"",ggg:"",gggtr:"",lessgtr:"",gtrless:"",lesseqgtr:"",gtreqless:"",lesseqqgtr:"",gtreqqless:"",doteqdot:"",Doteq:"",eqcirc:"",risingdotseq:"",circeq:"",fallingdotseq:"",triangleq:"",backsim:"",thicksim:["",{variantForm:!0}],backsimeq:"",thickapprox:["",{variantForm:!0}],subseteqq:"",supseteqq:"",Subset:"",Supset:"",sqsubset:"",sqsupset:"",preccurlyeq:"",succcurlyeq:"",curlyeqprec:"",curlyeqsucc:"",precsim:"",succsim:"",precapprox:"",succapprox:"",vartriangleleft:"",lhd:"",vartriangleright:"",rhd:"",trianglelefteq:"",unlhd:"",trianglerighteq:"",unrhd:"",vDash:["",{variantForm:!0}],Vdash:"",Vvdash:"",smallsmile:["",{variantForm:!0}],shortmid:["",{variantForm:!0}],smallfrown:["",{variantForm:!0}],shortparallel:["",{variantForm:!0}],bumpeq:"",between:"",Bumpeq:"",pitchfork:"",varpropto:["",{variantForm:!0}],backepsilon:"",blacktriangleleft:"",blacktriangleright:"",therefore:"",because:"",eqsim:"",vartriangle:["",{variantForm:!0}],Join:"",nless:"",ngtr:"",nleq:"",ngeq:"",nleqslant:["",{variantForm:!0}],ngeqslant:["",{variantForm:!0}],nleqq:["",{variantForm:!0}],ngeqq:["",{variantForm:!0}],lneq:"",gneq:"",lneqq:"",gneqq:"",lvertneqq:["",{variantForm:!0}],gvertneqq:["",{variantForm:!0}],lnsim:"",gnsim:"",lnapprox:"",gnapprox:"",nprec:"",nsucc:"",npreceq:["",{variantForm:!0}],nsucceq:["",{variantForm:!0}],precneqq:"",succneqq:"",precnsim:"",succnsim:"",precnapprox:"",succnapprox:"",nsim:"",ncong:"",nshortmid:["",{variantForm:!0}],nshortparallel:["",{variantForm:!0}],nmid:"",nparallel:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",ntriangleleft:"",ntriangleright:"",ntrianglelefteq:"",ntrianglerighteq:"",nsubseteq:"",nsupseteq:"",nsubseteqq:["",{variantForm:!0}],nsupseteqq:["",{variantForm:!0}],subsetneq:"",supsetneq:"",varsubsetneq:["",{variantForm:!0}],varsupsetneq:["",{variantForm:!0}],subsetneqq:"",supsetneqq:"",varsubsetneqq:["",{variantForm:!0}],varsupsetneqq:["",{variantForm:!0}],leftleftarrows:"",rightrightarrows:"",leftrightarrows:"",rightleftarrows:"",Lleftarrow:"",Rrightarrow:"",twoheadleftarrow:"",twoheadrightarrow:"",leftarrowtail:"",rightarrowtail:"",looparrowleft:"",looparrowright:"",leftrightharpoons:"",rightleftharpoons:["",{variantForm:!0}],curvearrowleft:"",curvearrowright:"",circlearrowleft:"",circlearrowright:"",Lsh:"",Rsh:"",upuparrows:"",downdownarrows:"",upharpoonleft:"",upharpoonright:"",downharpoonleft:"",restriction:"",multimap:"",downharpoonright:"",leftrightsquigarrow:"",rightsquigarrow:"",leadsto:"",dashrightarrow:"",dashleftarrow:"",nleftarrow:"",nrightarrow:"",nLeftarrow:"",nRightarrow:"",nleftrightarrow:"",nLeftrightarrow:""}),new o.DelimiterMap("AMSsymbols-delimiter",s.default.delimiter,{"\\ulcorner":"","\\urcorner":"","\\llcorner":"","\\lrcorner":""}),new o.CommandMap("AMSsymbols-macros",{implies:["Macro","\\;\\Longrightarrow\\;"],impliedby:["Macro","\\;\\Longleftarrow\\;"]},i.AmsMethods),AmsMappings}function requireAmsConfiguration(){if(hasRequiredAmsConfiguration)return AmsConfiguration;hasRequiredAmsConfiguration=1;var e,t=AmsConfiguration&&AmsConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AmsConfiguration,"__esModule",{value:!0}),AmsConfiguration.AmsConfiguration=AmsConfiguration.AmsTags=void 0;var r=requireConfiguration(),n=requireAmsItems(),i=requireTags(),o=requireAmsMethods();requireAmsMappings();var a=requireSymbolMap(),s=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(i.AbstractTags);AmsConfiguration.AmsTags=s;return AmsConfiguration.AmsConfiguration=r.Configuration.create("ams",{handler:{character:["AMSmath-operatorLetter"],delimiter:["AMSsymbols-delimiter","AMSmath-delimiter"],macro:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],environment:["AMSmath-environment"]},items:(e={},e[n.MultlineItem.prototype.kind]=n.MultlineItem,e[n.FlalignItem.prototype.kind]=n.FlalignItem,e),tags:{ams:s},init:function(e){new a.CommandMap(o.NEW_OPS,{},{}),e.append(r.Configuration.local({handler:{macro:[o.NEW_OPS]},priority:-1}))},config:function(e,t){t.parseOptions.options.multlineWidth&&(t.parseOptions.options.ams.multlineWidth=t.parseOptions.options.multlineWidth),delete t.parseOptions.options.multlineWidth},options:{multlineWidth:"",ams:{multlineWidth:"100%",multlineIndent:"1em"}}}),AmsConfiguration}var BoldsymbolConfiguration={},hasRequiredBoldsymbolConfiguration;function requireBoldsymbolConfiguration(){return hasRequiredBoldsymbolConfiguration||(hasRequiredBoldsymbolConfiguration=1,function(e){var t=BoldsymbolConfiguration&&BoldsymbolConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=BoldsymbolConfiguration&&BoldsymbolConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.BoldsymbolConfiguration=e.rewriteBoldTokens=e.createBoldToken=e.BoldsymbolMethods=void 0;var n=requireConfiguration(),i=r(requireNodeUtil()),o=requireTexConstants(),a=requireSymbolMap(),s=requireNodeFactory(),l={};function c(e,t,r,n){var o=s.NodeFactory.createToken(e,t,r,n);return"mtext"!==t&&e.configuration.parser.stack.env.boldsymbol&&(i.default.setProperty(o,"fixBold",!0),e.configuration.addNode("fixBold",o)),o}function u(e){var r,n;try{for(var a=t(e.data.getList("fixBold")),s=a.next();!s.done;s=a.next()){var c=s.value;if(i.default.getProperty(c,"fixBold")){var u=i.default.getAttribute(c,"mathvariant");null==u?i.default.setAttribute(c,"mathvariant",o.TexConstant.Variant.BOLD):i.default.setAttribute(c,"mathvariant",l[u]||u),i.default.removeProperties(c,"fixBold")}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}l[o.TexConstant.Variant.NORMAL]=o.TexConstant.Variant.BOLD,l[o.TexConstant.Variant.ITALIC]=o.TexConstant.Variant.BOLDITALIC,l[o.TexConstant.Variant.FRAKTUR]=o.TexConstant.Variant.BOLDFRAKTUR,l[o.TexConstant.Variant.SCRIPT]=o.TexConstant.Variant.BOLDSCRIPT,l[o.TexConstant.Variant.SANSSERIF]=o.TexConstant.Variant.BOLDSANSSERIF,l["-tex-calligraphic"]="-tex-bold-calligraphic",l["-tex-oldstyle"]="-tex-bold-oldstyle",l["-tex-mathit"]=o.TexConstant.Variant.BOLDITALIC,e.BoldsymbolMethods={},e.BoldsymbolMethods.Boldsymbol=function(e,t){var r=e.stack.env.boldsymbol;e.stack.env.boldsymbol=!0;var n=e.ParseArg(t);e.stack.env.boldsymbol=r,e.Push(n)},new a.CommandMap("boldsymbol",{boldsymbol:"Boldsymbol"},e.BoldsymbolMethods),e.createBoldToken=c,e.rewriteBoldTokens=u,e.BoldsymbolConfiguration=n.Configuration.create("boldsymbol",{handler:{macro:["boldsymbol"]},nodes:{token:c},postprocessors:[u]})}(BoldsymbolConfiguration)),BoldsymbolConfiguration}var CancelConfiguration={},EncloseConfiguration={},hasRequiredEncloseConfiguration,hasRequiredCancelConfiguration;function requireEncloseConfiguration(){return hasRequiredEncloseConfiguration||(hasRequiredEncloseConfiguration=1,function(e){var t=EncloseConfiguration&&EncloseConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.EncloseConfiguration=e.EncloseMethods=e.ENCLOSE_OPTIONS=void 0;var r=requireConfiguration(),n=requireSymbolMap(),i=t(requireParseUtil());e.ENCLOSE_OPTIONS={"data-arrowhead":1,color:1,mathcolor:1,background:1,mathbackground:1,"data-padding":1,"data-thickness":1},e.EncloseMethods={},e.EncloseMethods.Enclose=function(t,r){var n=t.GetArgument(r).replace(/,/g," "),o=t.GetBrackets(r,""),a=t.ParseArg(r),s=i.default.keyvalOptions(o,e.ENCLOSE_OPTIONS);s.notation=n,t.Push(t.create("node","menclose",[a],s))},new n.CommandMap("enclose",{enclose:"Enclose"},e.EncloseMethods),e.EncloseConfiguration=r.Configuration.create("enclose",{handler:{macro:["enclose"]}})}(EncloseConfiguration)),EncloseConfiguration}function requireCancelConfiguration(){return hasRequiredCancelConfiguration||(hasRequiredCancelConfiguration=1,function(e){var t=CancelConfiguration&&CancelConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.CancelConfiguration=e.CancelMethods=void 0;var r=requireConfiguration(),n=requireTexConstants(),i=requireSymbolMap(),o=t(requireParseUtil()),a=requireEncloseConfiguration();e.CancelMethods={},e.CancelMethods.Cancel=function(e,t,r){var n=e.GetBrackets(t,""),i=e.ParseArg(t),s=o.default.keyvalOptions(n,a.ENCLOSE_OPTIONS);s.notation=r,e.Push(e.create("node","menclose",[i],s))},e.CancelMethods.CancelTo=function(e,t){var r=e.GetBrackets(t,""),i=e.ParseArg(t),s=e.ParseArg(t),l=o.default.keyvalOptions(r,a.ENCLOSE_OPTIONS);l.notation=[n.TexConstant.Notation.UPDIAGONALSTRIKE,n.TexConstant.Notation.UPDIAGONALARROW,n.TexConstant.Notation.NORTHEASTARROW].join(" "),i=e.create("node","mpadded",[i],{depth:"-.1em",height:"+.1em",voffset:".1em"}),e.Push(e.create("node","msup",[e.create("node","menclose",[s],l),i]))},new i.CommandMap("cancel",{cancel:["Cancel",n.TexConstant.Notation.UPDIAGONALSTRIKE],bcancel:["Cancel",n.TexConstant.Notation.DOWNDIAGONALSTRIKE],xcancel:["Cancel",n.TexConstant.Notation.UPDIAGONALSTRIKE+" "+n.TexConstant.Notation.DOWNDIAGONALSTRIKE],cancelto:"CancelTo"},e.CancelMethods),e.CancelConfiguration=r.Configuration.create("cancel",{handler:{macro:["cancel"]}})}(CancelConfiguration)),CancelConfiguration}var ColorConfiguration={},ColorMethods={},hasRequiredColorMethods;function requireColorMethods(){return hasRequiredColorMethods||(hasRequiredColorMethods=1,function(e){var t=ColorMethods&&ColorMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorMethods=void 0;var r=t(requireNodeUtil()),n=t(requireParseUtil());function i(e){var t="+".concat(e),r=e.replace(/^.*?([a-z]*)$/,"$1"),n=2*parseFloat(t);return{width:"+".concat(n).concat(r),height:t,depth:t,lspace:e}}e.ColorMethods={},e.ColorMethods.Color=function(e,t){var r=e.GetBrackets(t,""),n=e.GetArgument(t),i=e.configuration.packageData.get("color").model.getColor(r,n),o=e.itemFactory.create("style").setProperties({styles:{mathcolor:i}});e.stack.env.color=i,e.Push(o)},e.ColorMethods.TextColor=function(e,t){var r=e.GetBrackets(t,""),n=e.GetArgument(t),i=e.configuration.packageData.get("color").model.getColor(r,n),o=e.stack.env.color;e.stack.env.color=i;var a=e.ParseArg(t);o?e.stack.env.color=o:delete e.stack.env.color;var s=e.create("node","mstyle",[a],{mathcolor:i});e.Push(s)},e.ColorMethods.DefineColor=function(e,t){var r=e.GetArgument(t),n=e.GetArgument(t),i=e.GetArgument(t);e.configuration.packageData.get("color").model.defineColor(n,r,i)},e.ColorMethods.ColorBox=function(e,t){var o=e.GetArgument(t),a=n.default.internalMath(e,e.GetArgument(t)),s=e.configuration.packageData.get("color").model,l=e.create("node","mpadded",a,{mathbackground:s.getColor("named",o)});r.default.setProperties(l,i(e.options.color.padding)),e.Push(l)},e.ColorMethods.FColorBox=function(e,t){var o=e.GetArgument(t),a=e.GetArgument(t),s=n.default.internalMath(e,e.GetArgument(t)),l=e.options.color,c=e.configuration.packageData.get("color").model,u=e.create("node","mpadded",s,{mathbackground:c.getColor("named",a),style:"border: ".concat(l.borderWidth," solid ").concat(c.getColor("named",o))});r.default.setProperties(u,i(l.padding)),e.Push(u)}}(ColorMethods)),ColorMethods}var ColorUtil={},ColorConstants={},hasRequiredColorConstants,hasRequiredColorUtil,hasRequiredColorConfiguration;function requireColorConstants(){return hasRequiredColorConstants||(hasRequiredColorConstants=1,Object.defineProperty(ColorConstants,"__esModule",{value:!0}),ColorConstants.COLORS=void 0,ColorConstants.COLORS=new Map([["Apricot","#FBB982"],["Aquamarine","#00B5BE"],["Bittersweet","#C04F17"],["Black","#221E1F"],["Blue","#2D2F92"],["BlueGreen","#00B3B8"],["BlueViolet","#473992"],["BrickRed","#B6321C"],["Brown","#792500"],["BurntOrange","#F7921D"],["CadetBlue","#74729A"],["CarnationPink","#F282B4"],["Cerulean","#00A2E3"],["CornflowerBlue","#41B0E4"],["Cyan","#00AEEF"],["Dandelion","#FDBC42"],["DarkOrchid","#A4538A"],["Emerald","#00A99D"],["ForestGreen","#009B55"],["Fuchsia","#8C368C"],["Goldenrod","#FFDF42"],["Gray","#949698"],["Green","#00A64F"],["GreenYellow","#DFE674"],["JungleGreen","#00A99A"],["Lavender","#F49EC4"],["LimeGreen","#8DC73E"],["Magenta","#EC008C"],["Mahogany","#A9341F"],["Maroon","#AF3235"],["Melon","#F89E7B"],["MidnightBlue","#006795"],["Mulberry","#A93C93"],["NavyBlue","#006EB8"],["OliveGreen","#3C8031"],["Orange","#F58137"],["OrangeRed","#ED135A"],["Orchid","#AF72B0"],["Peach","#F7965A"],["Periwinkle","#7977B8"],["PineGreen","#008B72"],["Plum","#92268F"],["ProcessBlue","#00B0F0"],["Purple","#99479B"],["RawSienna","#974006"],["Red","#ED1B23"],["RedOrange","#F26035"],["RedViolet","#A1246B"],["Rhodamine","#EF559F"],["RoyalBlue","#0071BC"],["RoyalPurple","#613F99"],["RubineRed","#ED017D"],["Salmon","#F69289"],["SeaGreen","#3FBC9D"],["Sepia","#671800"],["SkyBlue","#46C5DD"],["SpringGreen","#C6DC67"],["Tan","#DA9D76"],["TealBlue","#00AEB3"],["Thistle","#D883B7"],["Turquoise","#00B4CE"],["Violet","#58429B"],["VioletRed","#EF58A0"],["White","#FFFFFF"],["WildStrawberry","#EE2967"],["Yellow","#FFF200"],["YellowGreen","#98CC70"],["YellowOrange","#FAA21A"]])),ColorConstants}function requireColorUtil(){if(hasRequiredColorUtil)return ColorUtil;hasRequiredColorUtil=1;var e=ColorUtil&&ColorUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=ColorUtil&&ColorUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ColorUtil,"__esModule",{value:!0}),ColorUtil.ColorModel=void 0;var r=t(requireTexError()),n=requireColorConstants(),i=new Map,o=function(){function e(){this.userColors=new Map}return e.prototype.normalizeColor=function(e,t){if(!e||"named"===e)return t;if(i.has(e))return i.get(e)(t);throw new r.default("UndefinedColorModel","Color model '%1' not defined",e)},e.prototype.getColor=function(e,t){return e&&"named"!==e?this.normalizeColor(e,t):this.getColorByName(t)},e.prototype.getColorByName=function(e){return this.userColors.has(e)?this.userColors.get(e):n.COLORS.has(e)?n.COLORS.get(e):e},e.prototype.defineColor=function(e,t,r){var n=this.normalizeColor(e,r);this.userColors.set(t,n)},e}();return ColorUtil.ColorModel=o,i.set("rgb",function(t){var n,i,o=t.trim().split(/\s*,\s*/),a="#";if(3!==o.length)throw new r.default("ModelArg1","Color values for the %1 model require 3 numbers","rgb");try{for(var s=e(o),l=s.next();!l.done;l=s.next()){var c=l.value;if(!c.match(/^(\d+(\.\d*)?|\.\d+)$/))throw new r.default("InvalidDecimalNumber","Invalid decimal number");var u=parseFloat(c);if(u<0||u>1)throw new r.default("ModelArg2","Color values for the %1 model must be between %2 and %3","rgb","0","1");var d=Math.floor(255*u).toString(16);d.length<2&&(d="0"+d),a+=d}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}),i.set("RGB",function(t){var n,i,o=t.trim().split(/\s*,\s*/),a="#";if(3!==o.length)throw new r.default("ModelArg1","Color values for the %1 model require 3 numbers","RGB");try{for(var s=e(o),l=s.next();!l.done;l=s.next()){var c=l.value;if(!c.match(/^\d+$/))throw new r.default("InvalidNumber","Invalid number");var u=parseInt(c);if(u>255)throw new r.default("ModelArg2","Color values for the %1 model must be between %2 and %3","RGB","0","255");var d=u.toString(16);d.length<2&&(d="0"+d),a+=d}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}),i.set("gray",function(e){if(!e.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/))throw new r.default("InvalidDecimalNumber","Invalid decimal number");var t=parseFloat(e);if(t<0||t>1)throw new r.default("ModelArg2","Color values for the %1 model must be between %2 and %3","gray","0","1");var n=Math.floor(255*t).toString(16);return n.length<2&&(n="0"+n),"#".concat(n).concat(n).concat(n)}),ColorUtil}function requireColorConfiguration(){if(hasRequiredColorConfiguration)return ColorConfiguration;hasRequiredColorConfiguration=1,Object.defineProperty(ColorConfiguration,"__esModule",{value:!0}),ColorConfiguration.ColorConfiguration=void 0;var e=requireSymbolMap(),t=requireConfiguration(),r=requireColorMethods(),n=requireColorUtil();new e.CommandMap("color",{color:"Color",textcolor:"TextColor",definecolor:"DefineColor",colorbox:"ColorBox",fcolorbox:"FColorBox"},r.ColorMethods);return ColorConfiguration.ColorConfiguration=t.Configuration.create("color",{handler:{macro:["color"]},options:{color:{padding:"5px",borderWidth:"2px"}},config:function(e,t){t.parseOptions.packageData.set("color",{model:new n.ColorModel})}}),ColorConfiguration}var ConfigMacrosConfiguration={},NewcommandMethods={},NewcommandUtil={},hasRequiredNewcommandUtil,hasRequiredNewcommandMethods;function requireNewcommandUtil(){if(hasRequiredNewcommandUtil)return NewcommandUtil;hasRequiredNewcommandUtil=1;var e=NewcommandUtil&&NewcommandUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NewcommandUtil,"__esModule",{value:!0});var t,r=e(requireParseUtil()),n=e(requireTexError()),i=require_Symbol();return function(e){function t(e,t){return e.string.substr(e.i,t.length)!==t||t.match(/\\[a-z]+$/i)&&e.string.charAt(e.i+t.length).match(/[a-z]/i)?0:(e.i+=t.length,1)}e.disassembleSymbol=function(e,t){var r=[e,t.char];if(t.attributes)for(var n in t.attributes)r.push(n),r.push(t.attributes[n]);return r},e.assembleSymbol=function(e){for(var t=e[0],r=e[1],n={},o=2;o<e.length;o+=2)n[e[o]]=e[o+1];return new i.Symbol(t,r,n)},e.GetCSname=function(e,t){if("\\"!==e.GetNext())throw new n.default("MissingCS","%1 must be followed by a control sequence",t);return r.default.trimSpaces(e.GetArgument(t)).substr(1)},e.GetCsNameArgument=function(e,t){var i=r.default.trimSpaces(e.GetArgument(t));if("\\"===i.charAt(0)&&(i=i.substr(1)),!i.match(/^(.|[a-z]+)$/i))throw new n.default("IllegalControlSequenceName","Illegal control sequence name for %1",t);return i},e.GetArgCount=function(e,t){var i=e.GetBrackets(t);if(i&&!(i=r.default.trimSpaces(i)).match(/^[0-9]+$/))throw new n.default("IllegalParamNumber","Illegal number of parameters specified in %1",t);return i},e.GetTemplate=function(e,t,r){for(var i=e.GetNext(),o=[],a=0,s=e.i;e.i<e.string.length;){if("#"===(i=e.GetNext())){if(s!==e.i&&(o[a]=e.string.substr(s,e.i-s)),!(i=e.string.charAt(++e.i)).match(/^[1-9]$/))throw new n.default("CantUseHash2","Illegal use of # in template for %1",r);if(parseInt(i)!==++a)throw new n.default("SequentialParam","Parameters for %1 must be numbered sequentially",r);s=e.i+1}else if("{"===i)return s!==e.i&&(o[a]=e.string.substr(s,e.i-s)),o.length>0?[a.toString()].concat(o):a;e.i++}throw new n.default("MissingReplacementString","Missing replacement string for definition of %1",t)},e.GetParameter=function(e,r,i){if(null==i)return e.GetArgument(r);for(var o=e.i,a=0,s=0;e.i<e.string.length;){var l=e.string.charAt(e.i);if("{"===l)e.i===o&&(s=1),e.GetArgument(r),a=e.i-o;else{if(t(e,i))return s&&(o++,a-=2),e.string.substr(o,a);if("\\"===l){e.i++,a++,s=0;var c=e.string.substr(e.i).match(/[a-z]+|./i);c&&(e.i+=c[0].length,a=e.i-o)}else e.i++,a++,s=0}}throw new n.default("RunawayArgument","Runaway argument for %1?",r)},e.MatchParam=t,e.addDelimiter=function(t,r,n,o){t.configuration.handlers.retrieve(e.NEW_DELIMITER).add(r,new i.Symbol(r,n,o))},e.addMacro=function(t,r,n,o,a){void 0===a&&(a=""),t.configuration.handlers.retrieve(e.NEW_COMMAND).add(r,new i.Macro(a||r,n,o))},e.addEnvironment=function(t,r,n,o){t.configuration.handlers.retrieve(e.NEW_ENVIRONMENT).add(r,new i.Macro(r,n,o))},e.NEW_DELIMITER="new-Delimiter",e.NEW_COMMAND="new-Command",e.NEW_ENVIRONMENT="new-Environment"}(t||(t={})),NewcommandUtil.default=t,NewcommandUtil}function requireNewcommandMethods(){if(hasRequiredNewcommandMethods)return NewcommandMethods;hasRequiredNewcommandMethods=1;var e=NewcommandMethods&&NewcommandMethods.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=NewcommandMethods&&NewcommandMethods.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=NewcommandMethods&&NewcommandMethods.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=NewcommandMethods&&NewcommandMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NewcommandMethods,"__esModule",{value:!0});var i=n(requireTexError()),o=r(requireSymbolMap()),a=n(requireBaseMethods()),s=n(requireParseUtil()),l=n(requireNewcommandUtil()),c={NewCommand:function(e,t){var r=l.default.GetCsNameArgument(e,t),n=l.default.GetArgCount(e,t),i=e.GetBrackets(t),o=e.GetArgument(t);l.default.addMacro(e,r,c.Macro,[o,n,i])},NewEnvironment:function(e,t){var r=s.default.trimSpaces(e.GetArgument(t)),n=l.default.GetArgCount(e,t),i=e.GetBrackets(t),o=e.GetArgument(t),a=e.GetArgument(t);l.default.addEnvironment(e,r,c.BeginEnv,[!0,o,a,n,i])},MacroDef:function(e,t){var r=l.default.GetCSname(e,t),n=l.default.GetTemplate(e,t,"\\"+r),i=e.GetArgument(t);n instanceof Array?l.default.addMacro(e,r,c.MacroWithTemplate,[i].concat(n)):l.default.addMacro(e,r,c.Macro,[i,n])},Let:function(e,t){var r=l.default.GetCSname(e,t),n=e.GetNext();"="===n&&(e.i++,n=e.GetNext());var i=e.configuration.handlers;if("\\"!==n){e.i++;var a=i.get("delimiter").lookup(n);a?l.default.addDelimiter(e,"\\"+r,a.char,a.attributes):l.default.addMacro(e,r,c.Macro,[n])}else{t=l.default.GetCSname(e,t);var s=i.get("delimiter").lookup("\\"+t);if(s)return void l.default.addDelimiter(e,"\\"+r,s.char,s.attributes);var u=i.get("macro").applicable(t);if(!u)return;if(u instanceof o.MacroMap){var d=u.lookup(t);return void l.default.addMacro(e,r,d.func,d.args,d.symbol)}s=u.lookup(t);var h=l.default.disassembleSymbol(r,s);l.default.addMacro(e,r,function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=l.default.assembleSymbol(r);return u.parser(e,i)},h)}},MacroWithTemplate:function(e,t,r,n){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var c=parseInt(n,10);if(c){var u=[];if(e.GetNext(),o[0]&&!l.default.MatchParam(e,o[0]))throw new i.default("MismatchUseDef","Use of %1 doesn't match its definition",t);for(var d=0;d<c;d++)u.push(l.default.GetParameter(e,t,o[d+1]));r=s.default.substituteArgs(e,u,r)}e.string=s.default.addArgs(e,r,e.string.slice(e.i)),e.i=0,s.default.checkMaxMacros(e)},BeginEnv:function(e,t,r,n,i,o){if(t.getProperty("end")&&e.stack.env.closing===t.getName()){delete e.stack.env.closing;var a=e.string.slice(e.i);return e.string=n,e.i=0,e.Parse(),e.string=a,e.i=0,e.itemFactory.create("end").setProperty("name",t.getName())}if(i){var l=[];if(null!=o){var c=e.GetBrackets("\\begin{"+t.getName()+"}");l.push(null==c?o:c)}for(var u=l.length;u<i;u++)l.push(e.GetArgument("\\begin{"+t.getName()+"}"));r=s.default.substituteArgs(e,l,r),n=s.default.substituteArgs(e,[],n)}return e.string=s.default.addArgs(e,r,e.string.slice(e.i)),e.i=0,e.itemFactory.create("beginEnv").setProperty("name",t.getName())}};return c.Macro=a.default.Macro,NewcommandMethods.default=c,NewcommandMethods}var NewcommandItems={},hasRequiredNewcommandItems,hasRequiredConfigMacrosConfiguration;function requireNewcommandItems(){if(hasRequiredNewcommandItems)return NewcommandItems;hasRequiredNewcommandItems=1;var e=NewcommandItems&&NewcommandItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=NewcommandItems&&NewcommandItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NewcommandItems,"__esModule",{value:!0}),NewcommandItems.BeginEnvItem=void 0;var r=t(requireTexError()),n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),Object.defineProperty(n.prototype,"kind",{get:function(){return"beginEnv"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.checkItem=function(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new r.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(e.isKind("stop"))throw new r.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},n}(requireStackItem().BaseItem);return NewcommandItems.BeginEnvItem=n,NewcommandItems}function requireConfigMacrosConfiguration(){if(hasRequiredConfigMacrosConfiguration)return ConfigMacrosConfiguration;hasRequiredConfigMacrosConfiguration=1;var e,t=ConfigMacrosConfiguration&&ConfigMacrosConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=ConfigMacrosConfiguration&&ConfigMacrosConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ConfigMacrosConfiguration,"__esModule",{value:!0}),ConfigMacrosConfiguration.ConfigMacrosConfiguration=void 0;var n=requireConfiguration(),i=requireOptions(),o=requireSymbolMap(),a=r(requireParseMethods()),s=require_Symbol(),l=r(requireNewcommandMethods()),c=requireNewcommandItems(),u="configmacros-map",d="configmacros-env-map";return ConfigMacrosConfiguration.ConfigMacrosConfiguration=n.Configuration.create("configmacros",{init:function(e){new o.CommandMap(u,{},{}),new o.EnvironmentMap(d,a.default.environment,{},{}),e.append(n.Configuration.local({handler:{macro:[u],environment:[d]},priority:3}))},config:function(e,r){!function(e){var r,n,i=e.parseOptions.handlers.retrieve(u),o=e.parseOptions.options.macros;try{for(var a=t(Object.keys(o)),c=a.next();!c.done;c=a.next()){var d=c.value,h="string"==typeof o[d]?[o[d]]:o[d],p=Array.isArray(h[2])?new s.Macro(d,l.default.MacroWithTemplate,h.slice(0,2).concat(h[2])):new s.Macro(d,l.default.Macro,h);i.add(d,p)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}(r),function(e){var r,n,i=e.parseOptions.handlers.retrieve(d),o=e.parseOptions.options.environments;try{for(var a=t(Object.keys(o)),c=a.next();!c.done;c=a.next()){var u=c.value;i.add(u,new s.Macro(u,l.default.BeginEnv,[!0].concat(o[u])))}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}(r)},items:(e={},e[c.BeginEnvItem.prototype.kind]=c.BeginEnvItem,e),options:{macros:(0,i.expandable)({}),environments:(0,i.expandable)({})}}),ConfigMacrosConfiguration}var GensymbConfiguration={},hasRequiredGensymbConfiguration;function requireGensymbConfiguration(){if(hasRequiredGensymbConfiguration)return GensymbConfiguration;hasRequiredGensymbConfiguration=1,Object.defineProperty(GensymbConfiguration,"__esModule",{value:!0}),GensymbConfiguration.GensymbConfiguration=void 0;var e=requireConfiguration(),t=requireTexConstants();return new(requireSymbolMap().CharacterMap)("gensymb-symbols",function(e,r){var n=r.attributes||{};n.mathvariant=t.TexConstant.Variant.NORMAL,n.class="MathML-Unit";var i=e.create("token","mi",n,r.char);e.Push(i)},{ohm:"",degree:"",celsius:"",perthousand:"",micro:""}),GensymbConfiguration.GensymbConfiguration=e.Configuration.create("gensymb",{handler:{macro:["gensymb-symbols"]}}),GensymbConfiguration}var MathtoolsConfiguration={},MathtoolsMappings={},MathtoolsMethods={},MathtoolsUtil={},hasRequiredMathtoolsUtil,hasRequiredMathtoolsMethods,hasRequiredMathtoolsMappings;function requireMathtoolsUtil(){if(hasRequiredMathtoolsUtil)return MathtoolsUtil;hasRequiredMathtoolsUtil=1;var e=MathtoolsUtil&&MathtoolsUtil.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=MathtoolsUtil&&MathtoolsUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MathtoolsUtil,"__esModule",{value:!0}),MathtoolsUtil.MathtoolsUtil=void 0;var r=requireBaseItems(),n=t(requireParseUtil()),i=t(requireTexParser()),o=t(requireTexError()),a=require_Symbol(),s=requireOptions(),l=requireMathtoolsMethods(),c=requireMathtoolsConfiguration();return MathtoolsUtil.MathtoolsUtil={setDisplayLevel:function(t,r){if(r){var n=e((0,s.lookup)(r,{"\\displaystyle":[!0,0],"\\textstyle":[!1,0],"\\scriptstyle":[!1,1],"\\scriptscriptstyle":[!1,2]},[null,null]),2),i=n[0],o=n[1];null!==i&&(t.attributes.set("displaystyle",i),t.attributes.set("scriptlevel",o))}},checkAlignment:function(e,t){var n=e.stack.Top();if(n.kind!==r.EqnArrayItem.prototype.kind)throw new o.default("NotInAlignment","%1 can only be used in aligment environments",t);return n},addPairedDelims:function(e,t,r){e.handlers.retrieve(c.PAIREDDELIMS).add(t,new a.Macro(t,l.MathtoolsMethods.PairedDelimiters,r))},spreadLines:function(e,t){if(e.isKind("mtable")){var r=e.attributes.get("rowspacing");if(r){var i=n.default.dimen2em(t);r=r.split(/ /).map(function(e){return n.default.Em(Math.max(0,n.default.dimen2em(e)+i))}).join(" ")}else r=t;e.attributes.set("rowspacing",r)}},plusOrMinus:function(e,t){if(!(t=t.trim()).match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)$/))throw new o.default("NotANumber","Argument to %1 is not a number",e);return t.match(/^[-+]/)?t:"+"+t},getScript:function(e,t,r){var o=n.default.trimSpaces(e.GetArgument(t));if(""===o)return e.create("node","none");var a=e.options.mathtools["prescript-".concat(r,"-format")];return a&&(o="".concat(a,"{").concat(o,"}")),new i.default(o,e.stack.env,e.configuration).mml()}},MathtoolsUtil}function requireMathtoolsMethods(){return hasRequiredMathtoolsMethods||(hasRequiredMathtoolsMethods=1,function(e){var t=MathtoolsMethods&&MathtoolsMethods.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=MathtoolsMethods&&MathtoolsMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=MathtoolsMethods&&MathtoolsMethods.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=MathtoolsMethods&&MathtoolsMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MathtoolsMethods=void 0;var o=i(requireParseUtil()),a=requireAmsMethods(),s=i(requireBaseMethods()),l=i(requireTexParser()),c=i(requireTexError()),u=i(requireNodeUtil()),d=requireMmlNode(),h=requireLengths(),p=requireOptions(),f=i(requireNewcommandUtil()),m=i(requireNewcommandMethods()),g=requireMathtoolsUtil();e.MathtoolsMethods={MtMatrix:function(t,r,n,i){var o=t.GetBrackets("\\begin{".concat(r.getName(),"}"),"c");return e.MathtoolsMethods.Array(t,r,n,i,o)},MtSmallMatrix:function(t,r,n,i,a){return a||(a=t.GetBrackets("\\begin{".concat(r.getName(),"}"),t.options.mathtools["smallmatrix-align"])),e.MathtoolsMethods.Array(t,r,n,i,a,o.default.Em(1/3),".2em","S",1)},MtMultlined:function(e,t){var n,i="\\begin{".concat(t.getName(),"}"),a=e.GetBrackets(i,e.options.mathtools["multlined-pos"]||"c"),s=a?e.GetBrackets(i,""):"";a&&!a.match(/^[cbt]$/)&&(s=(n=r([a,s],2))[0],a=n[1]),e.Push(t);var l=e.itemFactory.create("multlined",e,t);return l.arraydef={displaystyle:!0,rowspacing:".5em",width:s||"auto",columnwidth:"100%"},o.default.setArrayAlign(l,a||"c")},HandleShove:function(e,t,r){var n=e.stack.Top();if("multline"!==n.kind&&"multlined"!==n.kind)throw new c.default("CommandInMultlined","%1 can only appear within the multline or multlined environments",t);if(n.Size())throw new c.default("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",t);n.setProperty("shove",r);var i=e.GetBrackets(t),o=e.ParseArg(t);if(i){var a=e.create("node","mrow",[]),s=e.create("node","mspace",[],{width:i});"left"===r?(a.appendChild(s),a.appendChild(o)):(a.appendChild(o),a.appendChild(s)),o=a}e.Push(o)},SpreadLines:function(e,t){var r,i;if(e.stack.env.closing===t.getName()){delete e.stack.env.closing;var o=e.stack.Pop(),a=o.toMml(),s=o.getProperty("spread");if(a.isInferred)try{for(var l=n(u.default.getChildren(a)),c=l.next();!c.done;c=l.next()){var d=c.value;g.MathtoolsUtil.spreadLines(d,s)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}else g.MathtoolsUtil.spreadLines(a,s);e.Push(a)}else{s=e.GetDimen("\\begin{".concat(t.getName(),"}"));t.setProperty("spread",s),e.Push(t)}},Cases:function(e,t,r,n,i){var o=e.itemFactory.create("array").setProperty("casesEnv",t.getName());return o.arraydef={rowspacing:".2em",columnspacing:"1em",columnalign:"left"},"D"===i&&(o.arraydef.displaystyle=!0),o.setProperties({open:r,close:n}),e.Push(t),o},MathLap:function(e,r,n,i){var o=e.GetBrackets(r,"").trim(),a=e.create("node","mstyle",[e.create("node","mpadded",[e.ParseArg(r)],t({width:0},"r"===n?{}:{lspace:"l"===n?"-1width":"-.5width"}))],{"data-cramped":i});g.MathtoolsUtil.setDisplayLevel(a,o),e.Push(e.create("node","TeXAtom",[a]))},Cramped:function(e,t){var r=e.GetBrackets(t,"").trim(),n=e.ParseArg(t),i=e.create("node","mstyle",[n],{"data-cramped":!0});g.MathtoolsUtil.setDisplayLevel(i,r),e.Push(i)},MtLap:function(e,t,r){var n=o.default.internalMath(e,e.GetArgument(t),0),i=e.create("node","mpadded",n,{width:0});"r"!==r&&u.default.setAttribute(i,"lspace","l"===r?"-1width":"-.5width"),e.Push(i)},MathMakeBox:function(e,t){var r=e.GetBrackets(t),n=e.GetBrackets(t,"c"),i=e.create("node","mpadded",[e.ParseArg(t)]);r&&u.default.setAttribute(i,"width",r);var o=(0,p.lookup)(n,{c:"center",r:"right"},"");o&&u.default.setAttribute(i,"data-align",o),e.Push(i)},MathMBox:function(e,t){e.Push(e.create("node","mrow",[e.ParseArg(t)]))},UnderOverBracket:function(e,t){var n=(0,h.length2em)(e.GetBrackets(t,".1em"),.1),i=e.GetBrackets(t,".2em"),a=e.GetArgument(t),s=r("o"===t.charAt(1)?["over","accent","bottom"]:["under","accentunder","top"],3),c=s[0],d=s[1],p=s[2],f=(0,h.em)(n),m=new l.default(a,e.stack.env,e.configuration).mml(),g=new l.default(a,e.stack.env,e.configuration).mml(),y=e.create("node","mpadded",[e.create("node","mphantom",[g])],{style:"border: ".concat(f," solid; border-").concat(p,": none"),height:i,depth:0}),b=o.default.underOver(e,m,y,c,!0),v=u.default.getChildAt(u.default.getChildAt(b,0),0);u.default.setAttribute(v,d,!0),e.Push(b)},Aboxed:function(e,t){var r=g.MathtoolsUtil.checkAlignment(e,t);r.row.length%2==1&&r.row.push(e.create("node","mtd",[]));var n=e.GetArgument(t),i=e.string.substr(e.i);e.string=n+"&&\\endAboxed",e.i=0;var a=e.GetUpTo(t,"&"),s=e.GetUpTo(t,"&");e.GetUpTo(t,"\\endAboxed");var l=o.default.substituteArgs(e,[a,s],"\\rlap{\\boxed{#1{}#2}}\\kern.267em\\phantom{#1}&\\phantom{{}#2}\\kern.267em");e.string=l+i,e.i=0},ArrowBetweenLines:function(e,t){var r=g.MathtoolsUtil.checkAlignment(e,t);if(r.Size()||r.row.length)throw new c.default("BetweenLines","%1 must be on a row by itself",t);var n=e.GetStar(),i=e.GetBrackets(t,"\\Updownarrow");n&&(r.EndEntry(),r.EndEntry());var o=n?"\\quad"+i:i+"\\quad",a=new l.default(o,e.stack.env,e.configuration).mml();e.Push(a),r.EndEntry(),r.EndRow()},VDotsWithin:function(e,r){var n=e.stack.Top(),i=n.getProperty("flushspaceabove")===n.table.length,o="\\mmlToken{mi}{}"+e.GetArgument(r)+"\\mmlToken{mi}{}",a=new l.default(o,e.stack.env,e.configuration).mml(),s=e.create("node","mpadded",[e.create("node","mpadded",[e.create("node","mo",[e.create("text","")])],t({width:0,lspace:"-.5width"},i?{height:"-.6em",voffset:"-.18em"}:{})),e.create("node","mphantom",[a])],{lspace:".5width"});e.Push(s)},ShortVDotsWithin:function(t,r){var n=t.stack.Top(),i=t.GetStar();e.MathtoolsMethods.FlushSpaceAbove(t,"\\MTFlushSpaceAbove"),!i&&n.EndEntry(),e.MathtoolsMethods.VDotsWithin(t,"\\vdotswithin"),i&&n.EndEntry(),e.MathtoolsMethods.FlushSpaceBelow(t,"\\MTFlushSpaceBelow")},FlushSpaceAbove:function(e,t){var r=g.MathtoolsUtil.checkAlignment(e,t);r.setProperty("flushspaceabove",r.table.length),r.addRowSpacing("-"+e.options.mathtools.shortvdotsadjustabove)},FlushSpaceBelow:function(e,t){var r=g.MathtoolsUtil.checkAlignment(e,t);r.Size()&&r.EndEntry(),r.EndRow(),r.addRowSpacing("-"+e.options.mathtools.shortvdotsadjustbelow)},PairedDelimiters:function(e,t,n,i,a,s,l,c){void 0===a&&(a="#1"),void 0===s&&(s=1),void 0===l&&(l=""),void 0===c&&(c="");var u=e.GetStar(),d=u?"":e.GetBrackets(t),h=r(u?["\\left","\\right"]:d?[d+"l",d+"r"]:["",""],2),p=h[0],f=h[1],m=u?"\\middle":d||"";if(s){for(var g=[],y=g.length;y<s;y++)g.push(e.GetArgument(t));l=o.default.substituteArgs(e,g,l),a=o.default.substituteArgs(e,g,a),c=o.default.substituteArgs(e,g,c)}a=a.replace(/\\delimsize/g,m),e.string=[l,p,n,a,f,i,c,e.string.substr(e.i)].reduce(function(t,r){return o.default.addArgs(e,t,r)},""),e.i=0,o.default.checkMaxMacros(e)},DeclarePairedDelimiter:function(e,t){var r=f.default.GetCsNameArgument(e,t),n=e.GetArgument(t),i=e.GetArgument(t);g.MathtoolsUtil.addPairedDelims(e.configuration,r,[n,i])},DeclarePairedDelimiterX:function(e,t){var r=f.default.GetCsNameArgument(e,t),n=f.default.GetArgCount(e,t),i=e.GetArgument(t),o=e.GetArgument(t),a=e.GetArgument(t);g.MathtoolsUtil.addPairedDelims(e.configuration,r,[i,o,a,n])},DeclarePairedDelimiterXPP:function(e,t){var r=f.default.GetCsNameArgument(e,t),n=f.default.GetArgCount(e,t),i=e.GetArgument(t),o=e.GetArgument(t),a=e.GetArgument(t),s=e.GetArgument(t),l=e.GetArgument(t);g.MathtoolsUtil.addPairedDelims(e.configuration,r,[o,a,l,n,i,s])},CenterColon:function(e,r,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var a=e.options.mathtools,s=e.create("token","mo",{},":");if(n&&(a.centercolon||i)){var l=a["centercolon-offset"];s=e.create("node","mpadded",[s],t({voffset:l,height:"+".concat(l),depth:"-".concat(l)},o?{width:a["thincolon-dw"],lspace:a["thincolon-dx"]}:{}))}e.Push(s)},Relation:function(e,t,r,n){e.options.mathtools["use-unicode"]&&n?e.Push(e.create("token","mo",{texClass:d.TEXCLASS.REL},n)):(r="\\mathrel{"+r.replace(/:/g,"\\MTThinColon").replace(/-/g,"\\mathrel{-}")+"}",e.string=o.default.addArgs(e,r,e.string.substr(e.i)),e.i=0)},NArrow:function(e,t,r,n){e.Push(e.create("node","TeXAtom",[e.create("token","mtext",{},r),e.create("node","mpadded",[e.create("node","mpadded",[e.create("node","menclose",[e.create("node","mspace",[],{height:".2em",depth:0,width:".4em"})],{notation:"updiagonalstrike","data-thickness":".05em","data-padding":0})],{width:0,lspace:"-.5width",voffset:n}),e.create("node","mphantom",[e.create("token","mtext",{},r)])],{width:0,lspace:"-.5width"})],{texClass:d.TEXCLASS.REL}))},SplitFrac:function(e,t,r){var n=e.ParseArg(t),i=e.ParseArg(t);e.Push(e.create("node","mstyle",[e.create("node","mfrac",[e.create("node","mstyle",[n,e.create("token","mi"),e.create("token","mspace",{width:"1em"})],{scriptlevel:0}),e.create("node","mstyle",[e.create("token","mspace",{width:"1em"}),e.create("token","mi"),i],{scriptlevel:0})],{linethickness:0,numalign:"left",denomalign:"right"})],{displaystyle:r,scriptlevel:0}))},XMathStrut:function(e,t){var r=e.GetBrackets(t),n=e.GetArgument(t);n=g.MathtoolsUtil.plusOrMinus(t,n),r=g.MathtoolsUtil.plusOrMinus(t,r||n),e.Push(e.create("node","TeXAtom",[e.create("node","mpadded",[e.create("node","mphantom",[e.create("token","mo",{stretchy:!1},"(")])],{width:0,height:n+"height",depth:r+"depth"})],{texClass:d.TEXCLASS.ORD}))},Prescript:function(e,t){var r=g.MathtoolsUtil.getScript(e,t,"sup"),n=g.MathtoolsUtil.getScript(e,t,"sub"),i=g.MathtoolsUtil.getScript(e,t,"arg");if(u.default.isType(r,"none")&&u.default.isType(n,"none"))e.Push(i);else{var o=e.create("node","mmultiscripts",[i]);u.default.getChildren(o).push(null,null),u.default.appendChildren(o,[e.create("node","mprescripts"),n,r]),o.setProperty("fixPrescript",!0),e.Push(o)}},NewTagForm:function(e,t,r){void 0===r&&(r=!1);var n=e.tags;if(!("mtFormats"in n))throw new c.default("TagsNotMT","%1 can only be used with ams or mathtools tags",t);var i=e.GetArgument(t).trim();if(!i)throw new c.default("InvalidTagFormID","Tag form name can't be empty");var o=e.GetBrackets(t,""),a=e.GetArgument(t),s=e.GetArgument(t);if(!r&&n.mtFormats.has(i))throw new c.default("DuplicateTagForm","Duplicate tag form: %1",i);n.mtFormats.set(i,[a,s,o])},UseTagForm:function(e,t){var r=e.tags;if(!("mtFormats"in r))throw new c.default("TagsNotMT","%1 can only be used with ams or mathtools tags",t);var n=e.GetArgument(t).trim();if(n){if(!r.mtFormats.has(n))throw new c.default("UndefinedTagForm","Undefined tag form: %1",n);r.mtCurrent=r.mtFormats.get(n)}else r.mtCurrent=null},SetOptions:function(e,t){var r,i,a=e.options.mathtools;if(!a["allow-mathtoolsset"])throw new c.default("ForbiddenMathtoolsSet","%1 is disabled",t);var s={};Object.keys(a).forEach(function(e){"pariedDelimiters"!==e&&"tagforms"!==e&&"allow-mathtoolsset"!==e&&(s[e]=1)});var l=e.GetArgument(t),u=o.default.keyvalOptions(l,s,!0);try{for(var d=n(Object.keys(u)),h=d.next();!h.done;h=d.next()){var p=h.value;a[p]=u[p]}}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}},Array:s.default.Array,Macro:s.default.Macro,xArrow:a.AmsMethods.xArrow,HandleRef:a.AmsMethods.HandleRef,AmsEqnArray:a.AmsMethods.AmsEqnArray,MacroWithTemplate:m.default.MacroWithTemplate}}(MathtoolsMethods)),MathtoolsMethods}function requireMathtoolsMappings(){if(hasRequiredMathtoolsMappings)return MathtoolsMappings;hasRequiredMathtoolsMappings=1;var e=MathtoolsMappings&&MathtoolsMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MathtoolsMappings,"__esModule",{value:!0});var t=e(requireParseMethods()),r=requireSymbolMap(),n=requireTexConstants(),i=requireMathtoolsMethods();return new r.CommandMap("mathtools-macros",{shoveleft:["HandleShove",n.TexConstant.Align.LEFT],shoveright:["HandleShove",n.TexConstant.Align.RIGHT],xleftrightarrow:["xArrow",8596,10,10],xLeftarrow:["xArrow",8656,12,7],xRightarrow:["xArrow",8658,7,12],xLeftrightarrow:["xArrow",8660,12,12],xhookleftarrow:["xArrow",8617,10,5],xhookrightarrow:["xArrow",8618,5,10],xmapsto:["xArrow",8614,10,10],xrightharpoondown:["xArrow",8641,5,10],xleftharpoondown:["xArrow",8637,10,5],xrightleftharpoons:["xArrow",8652,10,10],xrightharpoonup:["xArrow",8640,5,10],xleftharpoonup:["xArrow",8636,10,5],xleftrightharpoons:["xArrow",8651,10,10],mathllap:["MathLap","l",!1],mathrlap:["MathLap","r",!1],mathclap:["MathLap","c",!1],clap:["MtLap","c"],textllap:["MtLap","l"],textrlap:["MtLap","r"],textclap:["MtLap","c"],cramped:"Cramped",crampedllap:["MathLap","l",!0],crampedrlap:["MathLap","r",!0],crampedclap:["MathLap","c",!0],crampedsubstack:["Macro","\\begin{crampedsubarray}{c}#1\\end{crampedsubarray}",1],mathmbox:"MathMBox",mathmakebox:"MathMakeBox",overbracket:"UnderOverBracket",underbracket:"UnderOverBracket",refeq:"HandleRef",MoveEqLeft:["Macro","\\hspace{#1em}&\\hspace{-#1em}",1,"2"],Aboxed:"Aboxed",ArrowBetweenLines:"ArrowBetweenLines",vdotswithin:"VDotsWithin",shortvdotswithin:"ShortVDotsWithin",MTFlushSpaceAbove:"FlushSpaceAbove",MTFlushSpaceBelow:"FlushSpaceBelow",DeclarePairedDelimiter:"DeclarePairedDelimiter",DeclarePairedDelimiterX:"DeclarePairedDelimiterX",DeclarePairedDelimiterXPP:"DeclarePairedDelimiterXPP",DeclarePairedDelimiters:"DeclarePairedDelimiter",DeclarePairedDelimitersX:"DeclarePairedDelimiterX",DeclarePairedDelimitersXPP:"DeclarePairedDelimiterXPP",centercolon:["CenterColon",!0,!0],ordinarycolon:["CenterColon",!1],MTThinColon:["CenterColon",!0,!0,!0],coloneqq:["Relation",":=",""],Coloneqq:["Relation","::=",""],coloneq:["Relation",":-"],Coloneq:["Relation","::-"],eqqcolon:["Relation","=:",""],Eqqcolon:["Relation","=::"],eqcolon:["Relation","-:",""],Eqcolon:["Relation","-::"],colonapprox:["Relation",":\\approx"],Colonapprox:["Relation","::\\approx"],colonsim:["Relation",":\\sim"],Colonsim:["Relation","::\\sim"],dblcolon:["Relation","::",""],nuparrow:["NArrow","",".06em"],ndownarrow:["NArrow","",".25em"],bigtimes:["Macro","\\mathop{\\Large\\kern-.1em\\boldsymbol{\\times}\\kern-.1em}"],splitfrac:["SplitFrac",!1],splitdfrac:["SplitFrac",!0],xmathstrut:"XMathStrut",prescript:"Prescript",newtagform:["NewTagForm",!1],renewtagform:["NewTagForm",!0],usetagform:"UseTagForm",adjustlimits:["MacroWithTemplate","\\mathop{{#1}\\vphantom{{#3}}}_{{#2}\\vphantom{{#4}}}\\mathop{{#3}\\vphantom{{#1}}}_{{#4}\\vphantom{{#2}}}",4,,"_",,"_"],mathtoolsset:"SetOptions"},i.MathtoolsMethods),new r.EnvironmentMap("mathtools-environments",t.default.environment,{dcases:["Array",null,"\\{","","ll",null,".2em","D"],rcases:["Array",null,"","\\}","ll",null,".2em"],drcases:["Array",null,"","\\}","ll",null,".2em","D"],"dcases*":["Cases",null,"{","","D"],"rcases*":["Cases",null,"","}"],"drcases*":["Cases",null,"","}","D"],"cases*":["Cases",null,"{",""],"matrix*":["MtMatrix",null,null,null],"pmatrix*":["MtMatrix",null,"(",")"],"bmatrix*":["MtMatrix",null,"[","]"],"Bmatrix*":["MtMatrix",null,"\\{","\\}"],"vmatrix*":["MtMatrix",null,"\\vert","\\vert"],"Vmatrix*":["MtMatrix",null,"\\Vert","\\Vert"],"smallmatrix*":["MtSmallMatrix",null,null,null],psmallmatrix:["MtSmallMatrix",null,"(",")","c"],"psmallmatrix*":["MtSmallMatrix",null,"(",")"],bsmallmatrix:["MtSmallMatrix",null,"[","]","c"],"bsmallmatrix*":["MtSmallMatrix",null,"[","]"],Bsmallmatrix:["MtSmallMatrix",null,"\\{","\\}","c"],"Bsmallmatrix*":["MtSmallMatrix",null,"\\{","\\}"],vsmallmatrix:["MtSmallMatrix",null,"\\vert","\\vert","c"],"vsmallmatrix*":["MtSmallMatrix",null,"\\vert","\\vert"],Vsmallmatrix:["MtSmallMatrix",null,"\\Vert","\\Vert","c"],"Vsmallmatrix*":["MtSmallMatrix",null,"\\Vert","\\Vert"],crampedsubarray:["Array",null,null,null,null,"0em","0.1em","S'",1],multlined:"MtMultlined",spreadlines:["SpreadLines",!0],lgathered:["AmsEqnArray",null,null,null,"l",null,".5em","D"],rgathered:["AmsEqnArray",null,null,null,"r",null,".5em","D"]},i.MathtoolsMethods),new r.DelimiterMap("mathtools-delimiters",t.default.delimiter,{"\\lparen":"(","\\rparen":")"}),new r.CommandMap("mathtools-characters",{":":["CenterColon",!0]},i.MathtoolsMethods),MathtoolsMappings}var MathtoolsTags={},hasRequiredMathtoolsTags;function requireMathtoolsTags(){if(hasRequiredMathtoolsTags)return MathtoolsTags;hasRequiredMathtoolsTags=1;var e=MathtoolsTags&&MathtoolsTags.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=MathtoolsTags&&MathtoolsTags.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=MathtoolsTags&&MathtoolsTags.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=MathtoolsTags&&MathtoolsTags.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MathtoolsTags,"__esModule",{value:!0}),MathtoolsTags.MathtoolsTagFormat=void 0;var i=n(requireTexError()),o=requireTags(),a=0;return MathtoolsTags.MathtoolsTagFormat=function(n,s){var l=s.parseOptions.options.tags;"base"!==l&&n.tags.hasOwnProperty(l)&&o.TagsFactory.add(l,n.tags[l]);var c=function(n){function o(){var e,r,o=n.call(this)||this;o.mtFormats=new Map,o.mtCurrent=null;var a=s.parseOptions.options.mathtools.tagforms;try{for(var l=t(Object.keys(a)),c=l.next();!c.done;c=l.next()){var u=c.value;if(!Array.isArray(a[u])||3!==a[u].length)throw new i.default("InvalidTagFormDef",'The tag form definition for "%1" should be an array fo three strings',u);o.mtFormats.set(u,a[u])}}catch(d){e={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return o}return e(o,n),o.prototype.formatTag=function(e){if(this.mtCurrent){var t=r(this.mtCurrent,3),i=t[0],o=t[1],a=t[2];return a?"".concat(i).concat(a,"{").concat(e,"}").concat(o):"".concat(i).concat(e).concat(o)}return n.prototype.formatTag.call(this,e)},o}(o.TagsFactory.create(s.parseOptions.options.tags).constructor),u="MathtoolsTags-"+ ++a;o.TagsFactory.add(u,c),s.parseOptions.options.tags=u},MathtoolsTags}var MathtoolsItems={},hasRequiredMathtoolsItems,hasRequiredMathtoolsConfiguration;function requireMathtoolsItems(){if(hasRequiredMathtoolsItems)return MathtoolsItems;hasRequiredMathtoolsItems=1;var e=MathtoolsItems&&MathtoolsItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=MathtoolsItems&&MathtoolsItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MathtoolsItems,"__esModule",{value:!0}),MathtoolsItems.MultlinedItem=void 0;var r=requireAmsItems(),n=t(requireNodeUtil()),i=requireTexConstants(),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"multlined"},enumerable:!1,configurable:!0}),r.prototype.EndTable=function(){if((this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.table.length>1){var e=this.factory.configuration.options.mathtools,r=e.multlinegap,o=e["firstline-afterskip"]||r,a=e["lastline-preskip"]||r,s=n.default.getChildren(this.table[0])[0];n.default.getAttribute(s,"columnalign")!==i.TexConstant.Align.RIGHT&&s.appendChild(this.create("node","mspace",[],{width:o}));var l=n.default.getChildren(this.table[this.table.length-1])[0];if(n.default.getAttribute(l,"columnalign")!==i.TexConstant.Align.LEFT){var c=n.default.getChildren(l)[0];c.childNodes.unshift(null);var u=this.create("node","mspace",[],{width:a});n.default.setChild(c,0,u)}}t.prototype.EndTable.call(this)},r}(r.MultlineItem);return MathtoolsItems.MultlinedItem=o,MathtoolsItems}function requireMathtoolsConfiguration(){return hasRequiredMathtoolsConfiguration||(hasRequiredMathtoolsConfiguration=1,function(e){var t,r=MathtoolsConfiguration&&MathtoolsConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=MathtoolsConfiguration&&MathtoolsConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MathtoolsConfiguration=e.fixPrescripts=e.PAIREDDELIMS=void 0;var i=requireConfiguration(),o=requireSymbolMap(),a=n(requireNodeUtil()),s=requireOptions();requireMathtoolsMappings();var l=requireMathtoolsUtil(),c=requireMathtoolsTags(),u=requireMathtoolsItems();function d(e){var t,n,i,o,s,l,c=e.data;try{for(var u=r(c.getList("mmultiscripts")),d=u.next();!d.done;d=u.next()){var h=d.value;if(h.getProperty("fixPrescript")){var p=a.default.getChildren(h),f=0;try{for(var m=(i=void 0,r([1,2])),g=m.next();!g.done;g=m.next()){p[v=g.value]||(a.default.setChild(h,v,c.nodeFactory.create("node","none")),f++)}}catch(x){i={error:x}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}try{for(var y=(s=void 0,r([4,5])),b=y.next();!b.done;b=y.next()){var v=b.value;a.default.isType(p[v],"mrow")&&0===a.default.getChildren(p[v]).length&&a.default.setChild(h,v,c.nodeFactory.create("node","none"))}}catch($){s={error:$}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}2===f&&p.splice(1,2)}}}catch(S){t={error:S}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}}e.PAIREDDELIMS="mathtools-paired-delims",e.fixPrescripts=d,e.MathtoolsConfiguration=i.Configuration.create("mathtools",{handler:{macro:["mathtools-macros","mathtools-delimiters"],environment:["mathtools-environments"],delimiter:["mathtools-delimiters"],character:["mathtools-characters"]},items:(t={},t[u.MultlinedItem.prototype.kind]=u.MultlinedItem,t),init:function(t){new o.CommandMap(e.PAIREDDELIMS,{},{}),t.append(i.Configuration.local({handler:{macro:[e.PAIREDDELIMS]},priority:-5}))},config:function(e,t){var n,i,o=t.parseOptions,a=o.options.mathtools.pairedDelimiters;try{for(var s=r(Object.keys(a)),u=s.next();!u.done;u=s.next()){var d=u.value;l.MathtoolsUtil.addPairedDelims(o,d,a[d])}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}(0,c.MathtoolsTagFormat)(e,t)},postprocessors:[[d,-6]],options:{mathtools:{multlinegap:"1em","multlined-pos":"c","firstline-afterskip":"","lastline-preskip":"","smallmatrix-align":"c",shortvdotsadjustabove:".2em",shortvdotsadjustbelow:".2em",centercolon:!1,"centercolon-offset":".04em","thincolon-dx":"-.04em","thincolon-dw":"-.08em","use-unicode":!1,"prescript-sub-format":"","prescript-sup-format":"","prescript-arg-format":"","allow-mathtoolsset":!0,pairedDelimiters:(0,s.expandable)({}),tagforms:(0,s.expandable)({})}}})}(MathtoolsConfiguration)),MathtoolsConfiguration}var MhchemConfiguration={},mhchemParser={},hasRequiredMhchemParser,hasRequiredMhchemConfiguration;function requireMhchemParser(){if(hasRequiredMhchemParser)return mhchemParser;hasRequiredMhchemParser=1,Object.defineProperty(mhchemParser,"__esModule",{value:!0}),mhchemParser.mhchemParser=void 0;var e=function(){function e(){}return e.toTex=function(e,t){return n.go(r.go(e,t),"tex"!==t)},e}();function t(e){var t,r,n={};for(t in e)for(r in e[t]){var i=r.split("|");e[t][r].stateArray=i;for(var o=0;o<i.length;o++)n[i[o]]=[]}for(t in e)for(r in e[t])for(i=e[t][r].stateArray||[],o=0;o<i.length;o++){var a=e[t][r];a.action_=[].concat(a.action_);for(var s=0;s<a.action_.length;s++)"string"==typeof a.action_[s]&&(a.action_[s]={type_:a.action_[s]});for(var l=t.split("|"),c=0;c<l.length;c++)if("*"===i[o]){var u=void 0;for(u in n)n[u].push({pattern:l[c],task:a})}else n[i[o]].push({pattern:l[c],task:a})}return n}mhchemParser.mhchemParser=e;var r={go:function(e,t){if(!e)return[];void 0===t&&(t="ce");var n,i="0",o={};o.parenthesisLevel=0,e=(e=(e=e.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var a=10,s=[];;){n!==e?(a=10,n=e):a--;var l=r.stateMachines[t],c=l.transitions[i]||l.transitions["*"];e:for(var u=0;u<c.length;u++){var d=r.patterns.match_(c[u].pattern,e);if(d){for(var h=c[u].task,p=0;p<h.action_.length;p++){var f=void 0;if(l.actions[h.action_[p].type_])f=l.actions[h.action_[p].type_](o,d.match_,h.action_[p].option);else{if(!r.actions[h.action_[p].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+h.action_[p].type_+")"];f=r.actions[h.action_[p].type_](o,d.match_,h.action_[p].option)}r.concatArray(s,f)}if(i=h.nextState||i,!(e.length>0))return s;if(h.revisit||(e=d.remainder),!h.toContinue)break e}}if(a<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,t){if(t)if(Array.isArray(t))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.slice(1),remainder:e.substr(t[0].length)}:null},"(-)(9)^(-9)":/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/,"state of aggregation $":function(e){var t=r.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var n=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return n?{match_:n[0],remainder:e.substr(n[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". __* ":/^([.\u22C5\u00B7\u2022]|[*])\s*/,"...":/^\.\.\.(?=$|[^.])/,"^{(...)}":function(e){return r.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return r.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return r.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return r.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return r.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return r.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return r.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return r.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}^":/^\{\}(?=\^)/,"{}":/^\{\}/,"{...}":function(e){return r.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return r.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return r.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$__$(...)$":function(e){return r.patterns.findObserveGroups(e,"${","","","}$")||r.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return r.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return r.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return r.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")||r.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\ce{","","","}")},"\\pu{(...)}":function(e){return r.patterns.findObserveGroups(e,"\\pu{","","","}")},oxidation$:/^(?:[+-][IVX]+|(?:\\pm|\$\\pm\$|\+-|\+\/-)\s*0)$/,"d-oxidation$":/^(?:[+-]?[IVX]+|(?:\\pm|\$\\pm\$|\+-|\+\/-)\s*0)$/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){var t;if(t=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:t[0],remainder:e.substr(t[0].length)};var n=r.patterns.findObserveGroups(e,"","$","$","");return n&&(t=n.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:t[0],remainder:e.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,t,r,n,i,o,a,s,l,c){var u=function(e,t){if("string"==typeof t)return 0!==e.indexOf(t)?null:t;var r=e.match(t);return r?r[0]:null},d=u(e,t);if(null===d)return null;if(e=e.substr(d.length),null===(d=u(e,r)))return null;var h=function(e,t,r){for(var n=0;t<e.length;){var i=e.charAt(t),o=u(e.substr(t),r);if(null!==o&&0===n)return{endMatchBegin:t,endMatchEnd:t+o.length};if("{"===i)n++;else if("}"===i){if(0===n)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];n--}t++}return null}(e,d.length,n||i);if(null===h)return null;var p=e.substring(0,n?h.endMatchEnd:h.endMatchBegin);if(o||a){var f=this.findObserveGroups(e.substr(h.endMatchEnd),o,a,s,l);if(null===f)return null;var m=[p,f.match_];return{match_:c?m.join(""):m,remainder:f.remainder}}return{match_:p,remainder:e.substr(h.endMatchEnd)}},match_:function(e,t){var n=r.patterns.patterns[e];if(void 0===n)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if("function"==typeof n)return r.patterns.patterns[e](t);var i=t.match(n);return i?i.length>2?{match_:i.slice(1),remainder:t.substr(i[0].length)}:{match_:i[1]||i[0],remainder:t.substr(i[0].length)}:null}},actions:{"a=":function(e,t){e.a=(e.a||"")+t},"b=":function(e,t){e.b=(e.b||"")+t},"p=":function(e,t){e.p=(e.p||"")+t},"o=":function(e,t){e.o=(e.o||"")+t},"o=+p1":function(e,t,r){e.o=(e.o||"")+r},"q=":function(e,t){e.q=(e.q||"")+t},"d=":function(e,t){e.d=(e.d||"")+t},"rm=":function(e,t){e.rm=(e.rm||"")+t},"text=":function(e,t){e.text_=(e.text_||"")+t},insert:function(e,t,r){return{type_:r}},"insert+p1":function(e,t,r){return{type_:r,p1:t}},"insert+p1+p2":function(e,t,r){return{type_:r,p1:t[0],p2:t[1]}},copy:function(e,t){return t},write:function(e,t,r){return r},rm:function(e,t){return{type_:"rm",p1:t}},text:function(e,t){return r.go(t,"text")},"tex-math":function(e,t){return r.go(t,"tex-math")},"tex-math tight":function(e,t){return r.go(t,"tex-math tight")},bond:function(e,t,r){return{type_:"bond",kind_:r||t}},"color0-output":function(e,t){return{type_:"color0",color:t}},ce:function(e,t){return r.go(t,"ce")},pu:function(e,t){return r.go(t,"pu")},"1/2":function(e,t){var r=[];t.match(/^[+\-]/)&&(r.push(t.substr(0,1)),t=t.substr(1));var n=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(e,t){return r.go(t,"9,9")}},stateMachines:{tex:{transitions:t({empty:{0:{action_:"copy"}},"\\ce{(...)}":{0:{action_:[{type_:"write",option:"{"},"ce",{type_:"write",option:"}"}]}},"\\pu{(...)}":{0:{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},else:{0:{action_:"copy"}}}),actions:{}},ce:{transitions:t({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{action_:[]}},space:{a:{action_:[],nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". __* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{action_:[]}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}^":{"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"tinySkip"}],nextState:"1"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}],nextState:"3"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,t){var n;if((e.d||"").match(/^[1-9][0-9]*$/)){var i=e.d;e.d=void 0,(n=this.output(e)).push({type_:"tinySkip"}),e.b=i}else n=this.output(e);return r.actions["o="](e,t),n},"d= kv":function(e,t){e.d=t,e.dType="kv"},"charge or bond":function(e,t){if(e.beginsWithBond){var n=[];return r.concatArray(n,this.output(e)),r.concatArray(n,r.actions.bond(e,t,"-")),n}e.d=t},"- after o/d":function(e,t,n){var i=r.patterns.match_("orbital",e.o||""),o=r.patterns.match_("one lowercase greek letter $",e.o||""),a=r.patterns.match_("one lowercase latin letter $",e.o||""),s=r.patterns.match_("$one lowercase latin letter$ $",e.o||""),l="-"===t&&(i&&""===i.remainder||o||a||s);!l||e.a||e.b||e.p||e.d||e.q||i||!a||(e.o="$"+e.o+"$");var c=[];return l?(r.concatArray(c,this.output(e)),c.push({type_:"hyphen"})):(i=r.patterns.match_("digits",e.d||""),n&&i&&""===i.remainder?(r.concatArray(c,r.actions["d="](e,t)),r.concatArray(c,this.output(e))):(r.concatArray(c,this.output(e)),r.concatArray(c,r.actions.bond(e,t,"-")))),c},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,t){return{type_:"state of aggregation",p1:r.go(t,"o")}},comma:function(e,t){var r=t.replace(/\s*$/,"");return r!==t&&0===e.parenthesisLevel?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(e,t,n){var i;if(e.r){var o=void 0;o="M"===e.rdt?r.go(e.rd,"tex-math"):"T"===e.rdt?[{type_:"text",p1:e.rd||""}]:r.go(e.rd,"ce");var a=void 0;a="M"===e.rqt?r.go(e.rq,"tex-math"):"T"===e.rqt?[{type_:"text",p1:e.rq||""}]:r.go(e.rq,"ce"),i={type_:"arrow",r:e.r,rd:o,rq:a}}else i=[],(e.a||e.b||e.p||e.o||e.q||e.d||n)&&(e.sb&&i.push({type_:"entitySkip"}),e.o||e.q||e.d||e.b||e.p||2===n?e.o||e.q||e.d||!e.b&&!e.p?e.o&&"kv"===e.dType&&r.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&"kv"===e.dType&&!e.q&&(e.dType=void 0):(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):(e.o=e.a,e.a=void 0),i.push({type_:"chemfive",a:r.go(e.a,"a"),b:r.go(e.b,"bd"),p:r.go(e.p,"pq"),o:r.go(e.o,"o"),q:r.go(e.q,"pq"),d:r.go(e.d,"oxidation"===e.dType?"oxidation":"bd"),dType:e.dType}));for(var s in e)"parenthesisLevel"!==s&&"beginsWithBond"!==s&&delete e[s];return i},"oxidation-output":function(e,t){var n=["{"];return r.concatArray(n,r.go(t,"oxidation")),n.push("}"),n},"frac-output":function(e,t){return{type_:"frac-ce",p1:r.go(t[0],"ce"),p2:r.go(t[1],"ce")}},"overset-output":function(e,t){return{type_:"overset",p1:r.go(t[0],"ce"),p2:r.go(t[1],"ce")}},"underset-output":function(e,t){return{type_:"underset",p1:r.go(t[0],"ce"),p2:r.go(t[1],"ce")}},"underbrace-output":function(e,t){return{type_:"underbrace",p1:r.go(t[0],"ce"),p2:r.go(t[1],"ce")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:r.go(t[1],"ce")}},"r=":function(e,t){e.r=t},"rdt=":function(e,t){e.rdt=t},"rd=":function(e,t){e.rd=t},"rqt=":function(e,t){e.rqt=t},"rq=":function(e,t){e.rq=t},operator:function(e,t,r){return{type_:"operator",kind_:r||t}}}},a:{transitions:t({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:t({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:[{type_:"write",option:"{"},"text",{type_:"write",option:"}"}]}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:t({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var t={type_:"text",p1:e.text_};for(var r in e)delete e[r];return t}}}},pq:{transitions:t({empty:{"*":{action_:[]}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{action_:[],nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,t){return{type_:"state of aggregation subscript",p1:r.go(t,"o")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:r.go(t[1],"pq")}}}},bd:{transitions:t({empty:{"*":{action_:[]}},x$:{0:{action_:[],nextState:"!f",revisit:!0}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,t){return{type_:"color",color1:t[0],color2:r.go(t[1],"bd")}}}},oxidation:{transitions:t({empty:{"*":{action_:"roman-numeral"}},"pm-operator":{"*":{action_:{type_:"o=+p1",option:"\\pm"}}},else:{"*":{action_:"o="}}}),actions:{"roman-numeral":function(e){return{type_:"roman numeral",p1:e.o||""}}}},"tex-math":{transitions:t({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"tex-math tight":{transitions:t({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"9,9":{transitions:t({empty:{"*":{action_:[]}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:t({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{action_:[]}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),t[1]&&(r.concatArray(n,r.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?r.concatArray(n,r.go(t[2],"pu-9,9")):n.push(t[2])),(t[3]||t[4])&&("e"===t[3]||"*"===t[4]?n.push({type_:"cdot"}):n.push({type_:"times"}))),t[5]&&n.push("10^{"+t[5]+"}"),n},"number^":function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),r.concatArray(n,r.go(t[1],"pu-9,9")),n.push("^{"+t[2]+"}"),n},operator:function(e,t,r){return{type_:"operator",kind_:r||t}},space:function(){return{type_:"pu-space-1"}},output:function(e){var t,n=r.patterns.match_("{(...)}",e.d||"");n&&""===n.remainder&&(e.d=n.match_);var i=r.patterns.match_("{(...)}",e.q||"");if(i&&""===i.remainder&&(e.q=i.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var o={d:r.go(e.d,"pu"),q:r.go(e.q,"pu")};"//"===e.o?t={type_:"pu-frac",p1:o.d,p2:o.q}:(t=o.d,o.d.length>1||o.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),r.concatArray(t,o.q))}else t=r.go(e.d,"pu-2");for(var a in e)delete e[a];return t}}},"pu-2":{transitions:t({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var t=[];if(e.rm){var n=r.patterns.match_("{(...)}",e.rm||"");t=n&&""===n.remainder?r.go(n.match_,"pu"):{type_:"rm",p1:e.rm}}for(var i in e)delete e[i];return t}}},"pu-9,9":{transitions:t({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var r=e.text_.length%3;0===r&&(r=3);for(var n=e.text_.length-3;n>0;n-=3)t.push(e.text_.substr(n,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,r)),t.reverse()}else t.push(e.text_);for(var i in e)delete e[i];return t},"output-o":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var r=e.text_.length-3,n=void 0;for(n=0;n<r;n+=3)t.push(e.text_.substr(n,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(n))}else t.push(e.text_);for(var i in e)delete e[i];return t}}}}},n={go:function(e,t){if(!e)return"";for(var r="",i=!1,o=0;o<e.length;o++){var a=e[o];"string"==typeof a?r+=a:(r+=n._go2(a),"1st-level escape"===a.type_&&(i=!0))}return t&&!i&&r&&(r="{"+r+"}"),r},_goInner:function(e){return n.go(e,!1)},_go2:function(e){var t;switch(e.type_){case"chemfive":t="";var r={a:n._goInner(e.a),b:n._goInner(e.b),p:n._goInner(e.p),o:n._goInner(e.o),q:n._goInner(e.q),d:n._goInner(e.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),t+=r.a+"\\,"),(r.b||r.p)&&(t+="{\\vphantom{A}}",t+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",t+="\\mkern-1.5mu",t+="{\\vphantom{A}}",t+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",t+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),t+=r.o),"kv"===e.dType?((r.d||r.q)&&(t+="{\\vphantom{A}}"),r.d&&(t+="^{"+r.d+"}"),r.q&&(t+="_{\\smash[t]{"+r.q+"}}")):"oxidation"===e.dType?(r.d&&(t+="{\\vphantom{A}}",t+="^{"+r.d+"}"),r.q&&(t+="{\\vphantom{A}}",t+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(t+="{\\vphantom{A}}",t+="_{\\smash[t]{"+r.q+"}}"),r.d&&(t+="{\\vphantom{A}}",t+="^{"+r.d+"}"));break;case"rm":case"roman numeral":t="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+e.p1+"}"):t="\\text{"+e.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+n._goInner(e.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+n._goInner(e.p1);break;case"bond":if(!(t=n._getBond(e.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var i="\\frac{"+e.p1+"}{"+e.p2+"}";t="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var o="\\frac{"+n._goInner(e.p1)+"}{"+n._goInner(e.p2)+"}";t="\\mathchoice{\\textstyle"+o+"}{"+o+"}{"+o+"}{"+o+"}";break;case"tex-math":case"1st-level escape":t=e.p1+" ";break;case"frac-ce":t="\\frac{"+n._goInner(e.p1)+"}{"+n._goInner(e.p2)+"}";break;case"overset":t="\\overset{"+n._goInner(e.p1)+"}{"+n._goInner(e.p2)+"}";break;case"underset":t="\\underset{"+n._goInner(e.p1)+"}{"+n._goInner(e.p2)+"}";break;case"underbrace":t="\\underbrace{"+n._goInner(e.p1)+"}_{"+n._goInner(e.p2)+"}";break;case"color":t="{\\color{"+e.color1+"}{"+n._goInner(e.color2)+"}}";break;case"color0":t="\\color{"+e.color+"}";break;case"arrow":var a={rd:n._goInner(e.rd),rq:n._goInner(e.rq)},s=n._getArrow(e.r);a.rd||a.rq?"<=>"===e.r||"<=>>"===e.r||"<<=>"===e.r||"<--\x3e"===e.r?(s="\\long"+s,a.rd&&(s="\\overset{"+a.rd+"}{"+s+"}"),a.rq&&(s="<--\x3e"===e.r?"\\underset{\\lower2mu{"+a.rq+"}}{"+s+"}":"\\underset{\\lower6mu{"+a.rq+"}}{"+s+"}"),s=" {}\\mathrel{"+s+"}{} "):(a.rq&&(s+="[{"+a.rq+"}]"),s=" {}\\mathrel{\\x"+(s+="{"+a.rd+"}")+"}{} "):s=" {}\\mathrel{\\long"+s+"}{} ",t=s;break;case"operator":t=n._getOperator(e.kind_);break;case"space":t=" ";break;case"tinySkip":t="\\mkern2mu";break;case"entitySkip":case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(e){switch(e){case"->":case"":case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"leftrightarrows";case"<=>":case"":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};return mhchemParser}function requireMhchemConfiguration(){if(hasRequiredMhchemConfiguration)return MhchemConfiguration;hasRequiredMhchemConfiguration=1;var e=MhchemConfiguration&&MhchemConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MhchemConfiguration,"__esModule",{value:!0}),MhchemConfiguration.MhchemConfiguration=void 0;var t=requireConfiguration(),r=requireSymbolMap(),n=e(requireTexError()),i=e(requireBaseMethods()),o=requireAmsMethods(),a=requireMhchemParser(),s={};return s.Macro=i.default.Macro,s.xArrow=o.AmsMethods.xArrow,s.Machine=function(e,t,r){var i,o=e.GetArgument(t);try{i=a.mhchemParser.toTex(o,r)}catch(s){throw new n.default(s[0],s[1])}e.string=i+e.string.substr(e.i),e.i=0},new r.CommandMap("mhchem",{ce:["Machine","ce"],pu:["Machine","pu"],longrightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longRightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{\\leftharpoondown}}"],longLeftrightharpoons:["Macro","\\stackrel{\\textstyle\\vphantom{{-}}{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longleftrightarrows:["Macro","\\stackrel{\\longrightarrow}{\\smash{\\longleftarrow}\\Rule{0px}{.25em}{0px}}"],tripledash:["Macro","\\vphantom{-}\\raise2mu{\\kern2mu\\tiny\\text{-}\\kern1mu\\text{-}\\kern1mu\\text{-}\\kern2mu}"],xleftrightarrow:["xArrow",8596,6,6],xrightleftharpoons:["xArrow",8652,5,7],xRightleftharpoons:["xArrow",8652,5,7],xLeftrightharpoons:["xArrow",8652,5,7]},s),MhchemConfiguration.MhchemConfiguration=t.Configuration.create("mhchem",{handler:{macro:["mhchem"]}}),MhchemConfiguration}var NoErrorsConfiguration={},hasRequiredNoErrorsConfiguration;function requireNoErrorsConfiguration(){if(hasRequiredNoErrorsConfiguration)return NoErrorsConfiguration;hasRequiredNoErrorsConfiguration=1,Object.defineProperty(NoErrorsConfiguration,"__esModule",{value:!0}),NoErrorsConfiguration.NoErrorsConfiguration=void 0;var e=requireConfiguration();return NoErrorsConfiguration.NoErrorsConfiguration=e.Configuration.create("noerrors",{nodes:{error:function(e,t,r,n){var i=e.create("token","mtext",{},n.replace(/\n/g," "));return e.create("node","merror",[i],{"data-mjx-error":t,title:t})}}}),NoErrorsConfiguration}var NoUndefinedConfiguration={},hasRequiredNoUndefinedConfiguration;function requireNoUndefinedConfiguration(){if(hasRequiredNoUndefinedConfiguration)return NoUndefinedConfiguration;hasRequiredNoUndefinedConfiguration=1;var e=NoUndefinedConfiguration&&NoUndefinedConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(NoUndefinedConfiguration,"__esModule",{value:!0}),NoUndefinedConfiguration.NoUndefinedConfiguration=void 0;var t=requireConfiguration();return NoUndefinedConfiguration.NoUndefinedConfiguration=t.Configuration.create("noundefined",{fallback:{macro:function(t,r){var n,i,o=t.create("text","\\"+r),a=t.options.noundefined||{},s={};try{for(var l=e(["color","background","size"]),c=l.next();!c.done;c=l.next()){var u=c.value;a[u]&&(s["math"+u]=a[u])}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}t.Push(t.create("node","mtext",[],s,o))}},options:{noundefined:{color:"red",background:"",size:""}},priority:3}),NoUndefinedConfiguration}var TextMacrosConfiguration={},TextParser={},hasRequiredTextParser;function requireTextParser(){if(hasRequiredTextParser)return TextParser;hasRequiredTextParser=1;var e=TextParser&&TextParser.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=TextParser&&TextParser.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=TextParser&&TextParser.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=TextParser&&TextParser.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=TextParser&&TextParser.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextParser,"__esModule",{value:!0}),TextParser.TextParser=void 0;var o=i(requireTexParser()),a=i(requireTexError()),s=i(requireParseUtil()),l=requireMmlNode(),c=i(requireNodeUtil()),u=requireBaseItems(),d=function(i){function o(e,t,r,n){var o=i.call(this,e,t,r)||this;return o.level=n,o}return e(o,i),Object.defineProperty(o.prototype,"texParser",{get:function(){return this.configuration.packageData.get("textmacros").texParser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tags",{get:function(){return this.texParser.tags},enumerable:!1,configurable:!0}),o.prototype.mml=function(){return null!=this.level?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):1===this.nodes.length?this.nodes[0]:this.create("node","mrow",this.nodes)},o.prototype.Parse=function(){this.text="",this.nodes=[],this.envStack=[],i.prototype.Parse.call(this)},o.prototype.saveText=function(){if(this.text){var e=this.stack.env.mathvariant,t=s.default.internalText(this,this.text,e?{mathvariant:e}:{});this.text="",this.Push(t)}},o.prototype.Push=function(e){if(this.text&&this.saveText(),e instanceof u.StopItem)return i.prototype.Push.call(this,e);e instanceof u.StyleItem?this.stack.env.mathcolor=this.stack.env.color:e instanceof l.AbstractMmlNode&&(this.addAttributes(e),this.nodes.push(e))},o.prototype.PushMath=function(e){var r,n,i=this.stack.env;e.isKind("TeXAtom")||(e=this.create("node","TeXAtom",[e]));try{for(var o=t(["mathsize","mathcolor"]),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]&&!e.attributes.getExplicit(s)&&(e.isToken||e.isKind("mstyle")||(e=this.create("node","mstyle",[e])),c.default.setAttribute(e,s,i[s]))}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.isInferred&&(e=this.create("node","mrow",e.childNodes)),this.nodes.push(e)},o.prototype.addAttributes=function(e){var r,n,i=this.stack.env;if(e.isToken)try{for(var o=t(["mathsize","mathcolor","mathvariant"]),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]&&!e.attributes.getExplicit(s)&&c.default.setAttribute(e,s,i[s])}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},o.prototype.ParseTextArg=function(e,t){return new o(this.GetArgument(e),t=Object.assign(Object.assign({},this.stack.env),t),this.configuration).mml()},o.prototype.ParseArg=function(e){return new o(this.GetArgument(e),this.stack.env,this.configuration).mml()},o.prototype.Error=function(e,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];throw new(a.default.bind.apply(a.default,n([void 0,e,t],r(i),!1)))},o}(o.default);return TextParser.TextParser=d,TextParser}var TextMacrosMethods={},hasRequiredTextMacrosMethods;function requireTextMacrosMethods(){if(hasRequiredTextMacrosMethods)return TextMacrosMethods;hasRequiredTextMacrosMethods=1;var e=TextMacrosMethods&&TextMacrosMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextMacrosMethods,"__esModule",{value:!0}),TextMacrosMethods.TextMacrosMethods=void 0;var t=e(requireTexParser()),r=requireRetries(),n=e(requireBaseMethods());return TextMacrosMethods.TextMacrosMethods={Comment:function(e,t){for(;e.i<e.string.length&&"\n"!==e.string.charAt(e.i);)e.i++;e.i++},Math:function(e,r){e.saveText();for(var n,i,o=e.i,a=0;i=e.GetNext();)switch(n=e.i++,i){case"\\":")"===e.GetCS()&&(i="\\(");case"$":if(0===a&&r===i){var s=e.texParser.configuration,l=new t.default(e.string.substr(o,n-o),e.stack.env,s).mml();return void e.PushMath(l)}break;case"{":a++;break;case"}":0===a&&e.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),a--}e.Error("MathNotTerminated","Math-mode is not properly terminated")},MathModeOnly:function(e,t){e.Error("MathModeOnly","'%1' allowed only in math mode",t)},Misplaced:function(e,t){e.Error("Misplaced","'%1' can not be used here",t)},OpenBrace:function(e,t){var r=e.stack.env;e.envStack.push(r),e.stack.env=Object.assign({},r)},CloseBrace:function(e,t){e.envStack.length?(e.saveText(),e.stack.env=e.envStack.pop()):e.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote:function(e,t){e.string.charAt(e.i)===t?(e.text+="",e.i++):e.text+=""},CloseQuote:function(e,t){e.string.charAt(e.i)===t?(e.text+="",e.i++):e.text+=""},Tilde:function(e,t){e.text+=""},Space:function(e,t){for(e.text+=" ";e.GetNext().match(/\s/);)e.i++},SelfQuote:function(e,t){e.text+=t.substr(1)},Insert:function(e,t,r){e.text+=r},Accent:function(e,t,r){var n=e.ParseArg(t),i=e.create("token","mo",{},r);e.addAttributes(i),e.Push(e.create("node","mover",[n,i]))},Emph:function(e,t){var r="-tex-mathit"===e.stack.env.mathvariant?"normal":"-tex-mathit";e.Push(e.ParseTextArg(t,{mathvariant:r}))},SetFont:function(e,t,r){e.saveText(),e.stack.env.mathvariant=r},SetSize:function(e,t,r){e.saveText(),e.stack.env.mathsize=r},CheckAutoload:function(e,t){var n=e.configuration.packageData.get("autoload"),i=e.texParser;t=t.slice(1);var o=i.lookup("macro",t);if(!o||n&&o._func===n.Autoload){if(i.parse("macro",[i,t]),!o)return;(0,r.retryAfter)(Promise.resolve())}i.parse("macro",[e,t])},Macro:n.default.Macro,Spacer:n.default.Spacer,Hskip:n.default.Hskip,rule:n.default.rule,Rule:n.default.Rule,HandleRef:n.default.HandleRef},TextMacrosMethods}var TextMacrosMappings={},hasRequiredTextMacrosMappings,hasRequiredTextMacrosConfiguration;function requireTextMacrosMappings(){if(hasRequiredTextMacrosMappings)return TextMacrosMappings;hasRequiredTextMacrosMappings=1,Object.defineProperty(TextMacrosMappings,"__esModule",{value:!0});var e=requireSymbolMap(),t=requireTexConstants(),r=requireTextMacrosMethods(),n=requireLengths();return new e.MacroMap("text-special",{$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","\t":"Space","\r":"Space","\n":"Space","":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},r.TextMacrosMethods),new e.CommandMap("text-macros",{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":"SelfQuote","'":["Accent",""],"":["Accent",""],"`":["Accent","`"],"":["Accent","`"],"^":["Accent","^"],'"':["Accent",""],"~":["Accent","~"],"=":["Accent",""],".":["Accent",""],u:["Accent",""],v:["Accent",""],emph:"Emph",rm:["SetFont",t.TexConstant.Variant.NORMAL],mit:["SetFont",t.TexConstant.Variant.ITALIC],oldstyle:["SetFont",t.TexConstant.Variant.OLDSTYLE],cal:["SetFont",t.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",t.TexConstant.Variant.BOLD],bbFont:["SetFont",t.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",t.TexConstant.Variant.SCRIPT],frak:["SetFont",t.TexConstant.Variant.FRAKTUR],sf:["SetFont",t.TexConstant.Variant.SANSSERIF],tt:["SetFont",t.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],Bbb:["Macro","{\\bbFont #1}",1],textnormal:["Macro","{\\rm #1}",1],textup:["Macro","{\\rm #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert",""],ddagger:["Insert",""],S:["Insert",""],",":["Spacer",n.MATHSPACE.thinmathspace],":":["Spacer",n.MATHSPACE.mediummathspace],">":["Spacer",n.MATHSPACE.mediummathspace],";":["Spacer",n.MATHSPACE.thickmathspace],"!":["Spacer",n.MATHSPACE.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",n.MATHSPACE.thinmathspace],negthinspace:["Spacer",n.MATHSPACE.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],color:"CheckAutoload",textcolor:"CheckAutoload",colorbox:"CheckAutoload",fcolorbox:"CheckAutoload",href:"CheckAutoload",style:"CheckAutoload",class:"CheckAutoload",cssId:"CheckAutoload",unicode:"CheckAutoload",ref:["HandleRef",!1],eqref:["HandleRef",!0]},r.TextMacrosMethods),TextMacrosMappings}function requireTextMacrosConfiguration(){if(hasRequiredTextMacrosConfiguration)return TextMacrosConfiguration;hasRequiredTextMacrosConfiguration=1;var e,t=TextMacrosConfiguration&&TextMacrosConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextMacrosConfiguration,"__esModule",{value:!0}),TextMacrosConfiguration.TextMacrosConfiguration=TextMacrosConfiguration.TextBaseConfiguration=void 0;var r=requireConfiguration(),n=t(requireParseOptions()),i=requireTags(),o=requireBaseItems(),a=requireTextParser(),s=requireTextMacrosMethods();function l(e,t,r,n){var i=e.configuration.packageData.get("textmacros");return e instanceof a.TextParser||(i.texParser=e),[new a.TextParser(t,n?{mathvariant:n}:{},i.parseOptions,r).mml()]}return requireTextMacrosMappings(),TextMacrosConfiguration.TextBaseConfiguration=r.Configuration.create("text-base",{parser:"text",handler:{character:["command","text-special"],macro:["text-macros"]},fallback:{character:function(e,t){e.text+=t},macro:function(e,t){var r=e.texParser,n=r.lookup("macro",t);n&&n._func!==s.TextMacrosMethods.Macro&&e.Error("MathMacro","%1 is only supported in math mode","\\"+t),r.parse("macro",[e,t])}},items:(e={},e[o.StartItem.prototype.kind]=o.StartItem,e[o.StopItem.prototype.kind]=o.StopItem,e[o.MmlItem.prototype.kind]=o.MmlItem,e[o.StyleItem.prototype.kind]=o.StyleItem,e)}),TextMacrosConfiguration.TextMacrosConfiguration=r.Configuration.create("textmacros",{config:function(e,t){var o=new r.ParserConfiguration(t.parseOptions.options.textmacros.packages,["tex","text"]);o.init();var a=new n.default(o,[]);a.options=t.parseOptions.options,o.config(t),i.TagsFactory.addTags(o.tags),a.tags=i.TagsFactory.getDefault(),a.tags.configuration=a,a.packageData=t.parseOptions.packageData,a.packageData.set("textmacros",{parseOptions:a,jax:t,texParser:null}),a.options.internalMath=l},preprocessors:[function(e){var t=e.data.packageData.get("textmacros");t.parseOptions.nodeFactory.setMmlFactory(t.jax.mmlFactory)}],options:{textmacros:{packages:["text-base"]}}}),TextMacrosConfiguration}var UnicodeConfiguration={},hasRequiredUnicodeConfiguration;function requireUnicodeConfiguration(){return hasRequiredUnicodeConfiguration||(hasRequiredUnicodeConfiguration=1,function(e){var t=UnicodeConfiguration&&UnicodeConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeConfiguration=e.UnicodeMethods=void 0;var r=requireConfiguration(),n=t(requireTexError()),i=requireSymbolMap(),o=t(requireParseUtil()),a=t(requireNodeUtil()),s=requireEntities();e.UnicodeMethods={};var l={};e.UnicodeMethods.Unicode=function(e,t){var r=e.GetBrackets(t),i=null,c=null;r&&(r.replace(/ /g,"").match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)?(i=r.replace(/ /g,"").split(/,/),c=e.GetBrackets(t)):c=r);var u=o.default.trimSpaces(e.GetArgument(t)).replace(/^0x/,"x");if(!u.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/))throw new n.default("BadUnicode","Argument to \\unicode must be a number");var d=parseInt(u.match(/^x/)?"0"+u:u);l[d]?c||(c=l[d][2]):l[d]=[800,200,c,d],i&&(l[d][0]=Math.floor(1e3*parseFloat(i[0])),l[d][1]=Math.floor(1e3*parseFloat(i[1])));var h=e.stack.env.font,p={};c?(l[d][2]=p.fontfamily=c.replace(/'/g,"'"),h&&(h.match(/bold/)&&(p.fontweight="bold"),h.match(/italic|-mathit/)&&(p.fontstyle="italic"))):h&&(p.mathvariant=h);var f=e.create("token","mtext",p,(0,s.numeric)(u));a.default.setProperty(f,"unicode",!0),e.Push(f)},new i.CommandMap("unicode",{unicode:"Unicode"},e.UnicodeMethods),e.UnicodeConfiguration=r.Configuration.create("unicode",{handler:{macro:["unicode"]}})}(UnicodeConfiguration)),UnicodeConfiguration}var memoryLeakFix={},hasRequiredMemoryLeakFix,hasRequiredTexInputConfig;function requireMemoryLeakFix(){if(hasRequiredMemoryLeakFix)return memoryLeakFix;hasRequiredMemoryLeakFix=1,Object.defineProperty(memoryLeakFix,"__esModule",{value:!0});const e=requireTextParser();return Object.assign(e.TextParser.prototype,{_mml:e.TextParser.prototype.mml,mml(){return this.configuration.clear(),this._mml()}}),memoryLeakFix}function requireTexInputConfig(){if(hasRequiredTexInputConfig)return texInputConfig;hasRequiredTexInputConfig=1,Object.defineProperty(texInputConfig,"__esModule",{value:!0}),texInputConfig.texInputConfig=void 0,requireAmsConfiguration(),requireBoldsymbolConfiguration(),requireCancelConfiguration(),requireColorConfiguration(),requireConfigMacrosConfiguration(),requireEncloseConfiguration(),requireGensymbConfiguration(),requireMathtoolsConfiguration(),requireMhchemConfiguration(),requireNoErrorsConfiguration(),requireNoUndefinedConfiguration(),requireTextMacrosConfiguration(),requireUnicodeConfiguration(),requireMemoryLeakFix();const e="3D7586",t="447A53",r="5D5F66",n="594094",i="8351E8",o="B25071",a="946700",s="D92916";function l(e){return[`{\\color{##${e}}#1}`,1]}return texInputConfig.texInputConfig={packages:["base","ams","boldsymbol","cancel","color","configmacros","enclose","gensymb","mathtools","mhchem","noerrors","noundefined","textmacros","unicode"],macros:{AA:"",isin:["\\in"],infin:["\\infty"],inte:["\\int"],footnotesize:["\\small"],arccos:["\\operatorname{arccos}"],arcctg:["\\operatorname{arcctg}"],arctg:["\\operatorname{arctg}"],cosec:["\\operatorname{cosec}"],cossec:["\\operatorname{cossec}"],cotg:["\\operatorname{cotg}"],ctg:["\\operatorname{ctg}"],sen:["\\operatorname{sen}"],tg:["\\operatorname{tg}"],lcm:["\\operatorname{lcm}"],bm:"\\boldsymbol",bold:"\\mathbf",Complex:"\\mathbb{C}",N:"\\mathbb{N}",R:"\\mathbb{R}",RR:"\\mathbb{R}",Z:"\\mathbb{Z}",gcf:["\\mathop{\\rm gcf}"],mathellipsis:"\\dots",oiint:"\\mathop{\\unicode{x222F}}",overgroup:"\\overparen",pounds:"\\unicode{x00a3}",thickspace:"\\;",rarr:"\\rightarrow",rArr:"\\Rightarrow",ratio:"\\centercolon",Alpha:"\\unicode{x0391}",Beta:"\\unicode{x0392}",Epsilon:"\\unicode{x0395}",Zeta:"\\unicode{x0396}",Eta:"\\unicode{x0397}",Iota:"\\unicode{x0399}",Kappa:"\\unicode{x039A}",Mu:"\\unicode{x039C}",Nu:"\\unicode{x039D}",Omicron:"\\unicode{x039F}",Rho:"\\unicode{x03A1}",Tau:"\\unicode{x03A4}",Chi:"\\unicode{x03A7}",sout:["\\enclose{horizontalstrike}{\\!\\vphantom{j}#1\\!}",1],sube:"\\subseteq",def:"",arraystretch:["",1],0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",blue:l(e),orange:l(a),pink:l(o),red:l(s),green:l(t),gray:l(r),purple:l(n),blueA:l(e),blueB:l(e),blueC:l(e),blueD:l(e),blueE:l(e),tealA:l(t),tealB:l(t),tealC:l(t),tealD:l(t),tealE:l(t),greenA:l(t),greenB:l(t),greenC:l(t),greenD:l(t),greenE:l(t),goldA:l(a),goldB:l(a),goldC:l(a),goldD:l(a),goldE:l(a),redA:l(s),redB:l(s),redC:l(s),redD:l(s),redE:l(s),maroonA:l(o),maroonB:l(o),maroonC:l(o),maroonD:l(o),maroonE:l(o),purpleA:l(i),purpleB:l(i),purpleC:l(i),purpleD:l(i),purpleE:l(n),grayA:l(r),grayB:l(r),grayC:l(r),grayD:l(r),grayE:l(r),grayF:l(r),grayG:l(r),grayH:l("3B3D45"),grayI:l("21242C"),kaBlue:l("314453"),kaGreen:l("71B307"),mintA:l("F5F9E8"),mintB:l("EDF2DF"),mintC:l("E0E5CC"),"^":["^{\\raise{0.75em}{\\scriptscriptstyle #1}}",1]},environments:{darray:["{\\displaystyle\\begin{array}","\\end{array}}"]}},texInputConfig}var sre={},engine={},dynamic_cstr={},hasRequiredDynamic_cstr;function requireDynamic_cstr(){if(hasRequiredDynamic_cstr)return dynamic_cstr;var e,t;hasRequiredDynamic_cstr=1,Object.defineProperty(dynamic_cstr,"__esModule",{value:!0}),dynamic_cstr.DefaultComparator=dynamic_cstr.DynamicCstrParser=dynamic_cstr.DynamicCstr=dynamic_cstr.DynamicProperties=dynamic_cstr.Axis=void 0,(t=e||(dynamic_cstr.Axis=e={})).DOMAIN="domain",t.STYLE="style",t.LOCALE="locale",t.TOPIC="topic",t.MODALITY="modality";class r{static createProp(...e){const t=n.DEFAULT_ORDER,i={};for(let r=0,n=e.length,o=t.length;r<n&&r<o;r++)i[t[r]]=e[r];return new r(i)}constructor(e,t=Object.keys(e)){this.properties=e,this.order=t}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(e){return this.properties[e]}updateProperties(e){this.properties=e}allProperties(){const e=[];return this.order.forEach(t=>e.push(this.getProperty(t).slice())),e}toString(){const e=[];return this.order.forEach(t=>e.push(t+": "+this.getProperty(t).toString())),e.join("\n")}}dynamic_cstr.DynamicProperties=r;class n extends r{static createCstr(...e){const t=n.DEFAULT_ORDER,r={};for(let n=0,i=e.length,o=t.length;n<i&&n<o;n++)r[t[n]]=e[n];return new n(r)}static defaultCstr(){return n.createCstr.apply(null,n.DEFAULT_ORDER.map(function(e){return n.DEFAULT_VALUES[e]}))}static validOrder(e){const t=n.DEFAULT_ORDER.slice();return e.every(e=>{const r=t.indexOf(e);return-1!==r&&t.splice(r,1)})}constructor(e,t){const r={};for(const[n,i]of Object.entries(e))r[n]=[i];super(r,t),this.components=e}getComponents(){return this.components}getValue(e){return this.components[e]}getValues(){return this.order.map(e=>this.getValue(e))}allProperties(){const e=super.allProperties();for(let t,r,n=0;t=e[n],r=this.order[n];n++){const e=this.getValue(r);-1===t.indexOf(e)&&t.unshift(e)}return e}toString(){return this.getValues().join(".")}equal(e){const t=e.getAxes();if(this.order.length!==t.length)return!1;for(let r,n=0;r=t[n];n++){const t=this.getValue(r);if(!t||e.getValue(r)!==t)return!1}return!0}}dynamic_cstr.DynamicCstr=n,n.DEFAULT_ORDER=[e.LOCALE,e.MODALITY,e.DOMAIN,e.STYLE,e.TOPIC],n.BASE_LOCALE="base",n.DEFAULT_VALUE="default",n.DEFAULT_VALUES={[e.LOCALE]:"en",[e.DOMAIN]:n.DEFAULT_VALUE,[e.STYLE]:n.DEFAULT_VALUE,[e.TOPIC]:n.DEFAULT_VALUE,[e.MODALITY]:"speech"};dynamic_cstr.DynamicCstrParser=class{constructor(e){this.order=e}parse(e){const t=e.split("."),r={};if(t.length>this.order.length)throw new Error("Invalid dynamic constraint: "+r);let i=0;for(let n,o=0;n=this.order[o],t.length;o++,i++){const e=t.shift();r[n]=e}return new n(r,this.order.slice(0,i))}};return dynamic_cstr.DefaultComparator=class{constructor(e,t=new r(e.getProperties(),e.getOrder())){this.reference=e,this.fallback=t,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(e,t){this.reference=e,this.fallback=t||new r(e.getProperties(),e.getOrder()),this.order=this.reference.getOrder()}match(e){const t=e.getAxes();return t.length===this.reference.getAxes().length&&t.every(t=>{const r=e.getValue(t);return r===this.reference.getValue(t)||-1!==this.fallback.getProperty(t).indexOf(r)})}compare(e,t){let r=!1;for(let n,i=0;n=this.order[i];i++){const i=e.getValue(n),o=t.getValue(n);if(!r){const e=this.reference.getValue(n);if(e===i&&e!==o)return-1;if(e===o&&e!==i)return 1;if(e===i&&e===o)continue;e!==i&&e!==o&&(r=!0)}const a=this.fallback.getProperty(n),s=a.indexOf(i),l=a.indexOf(o);if(s<l)return-1;if(l<s)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}},dynamic_cstr}var engine_const={},hasRequiredEngine_const;function requireEngine_const(){return hasRequiredEngine_const||(hasRequiredEngine_const=1,Object.defineProperty(engine_const,"__esModule",{value:!0}),engine_const.DOMAIN_TO_STYLES=engine_const.Markup=engine_const.Speech=engine_const.personalityPropList=engine_const.personalityProps=engine_const.Mode=void 0,(t=e||(engine_const.Mode=e={})).SYNC="sync",t.ASYNC="async",t.HTTP="http",(n=r||(engine_const.personalityProps=r={})).PITCH="pitch",n.RATE="rate",n.VOLUME="volume",n.PAUSE="pause",n.JOIN="join",n.LAYOUT="layout",engine_const.personalityPropList=[r.PITCH,r.RATE,r.VOLUME,r.PAUSE,r.JOIN],(o=i||(engine_const.Speech=i={})).NONE="none",o.SHALLOW="shallow",o.DEEP="deep",(s=a||(engine_const.Markup=a={})).NONE="none",s.LAYOUT="layout",s.COUNTING="counting",s.PUNCTUATION="punctuation",s.SSML="ssml",s.ACSS="acss",s.SABLE="sable",s.VOICEXML="voicexml",engine_const.DOMAIN_TO_STYLES={mathspeak:"default",clearspeak:"default"}),engine_const;var e,t,r,n,i,o,a,s}var _debugger={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var system_external={},variables={},hasRequiredVariables,hasRequiredSystem_external,hasRequired_debugger,hasRequiredEngine;function requireVariables(){if(hasRequiredVariables)return variables;hasRequiredVariables=1,Object.defineProperty(variables,"__esModule",{value:!0}),variables.Variables=void 0;class e{static ensureLocale(t,r){return e.LOCALES.get(t)?t:r}}return variables.Variables=e,e.VERSION="4.1.2",e.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","Bokml"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),e.mathjaxVersion="4.0.0-beta.5",e.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+e.VERSION+"/lib/mathmaps",e.WGXpath="https://cdn.jsdelivr.net/npm/wicked-good-xpath@1.3.0/dist/wgxpath.install.js",variables}function requireSystem_external(){if(hasRequiredSystem_external)return system_external;hasRequiredSystem_external=1;var define_process_env_default={};Object.defineProperty(system_external,"__esModule",{value:!0}),system_external.SystemExternal=void 0;const variables_js_1=requireVariables();class SystemExternal{static nodeRequire(){return eval("require")}static extRequire(e){return"undefined"!=typeof process&&void 0!==commonjsRequire?SystemExternal.nodeRequire()(e):null}}return system_external.SystemExternal=SystemExternal,SystemExternal.windowSupported=(()=>!("undefined"==typeof window))(),SystemExternal.documentSupported=SystemExternal.windowSupported&&!(void 0===window.document),SystemExternal.xmldom=SystemExternal.documentSupported?window:SystemExternal.extRequire("@xmldom/xmldom"),SystemExternal.document=SystemExternal.documentSupported?window.document:(new SystemExternal.xmldom.DOMImplementation).createDocument("","",0),SystemExternal.xpath=SystemExternal.documentSupported?document:function(){const e={document:{},XPathResult:{}};return SystemExternal.extRequire("wicked-good-xpath").install(e),e.document.XPathResult=e.XPathResult,e.document}(),SystemExternal.mathmapsIePath="https://cdn.jsdelivr.net/npm/sre-mathmaps-ie@"+variables_js_1.Variables.VERSION+"mathmaps_ie.js",SystemExternal.fs=SystemExternal.documentSupported?null:SystemExternal.extRequire("fs"),SystemExternal.url=variables_js_1.Variables.url,SystemExternal.jsonPath=function(){if(SystemExternal.documentSupported)return SystemExternal.url;if(define_process_env_default.SRE_JSON_PATH||commonjsGlobal.SRE_JSON_PATH)return define_process_env_default.SRE_JSON_PATH||commonjsGlobal.SRE_JSON_PATH;try{return SystemExternal.nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}try{return SystemExternal.nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}return"undefined"!=typeof __dirname?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"}(),SystemExternal.WGXpath=variables_js_1.Variables.WGXpath,SystemExternal.wgxpath=null,system_external.default=SystemExternal,system_external}function require_debugger(){if(hasRequired_debugger)return _debugger;hasRequired_debugger=1,Object.defineProperty(_debugger,"__esModule",{value:!0}),_debugger.Debugger=void 0;const e=requireSystem_external();class t{static getInstance(){return t.instance=t.instance||new t,t.instance}init(e){return e&&this.startDebugFile_(e),this.isActive_=!0,this.fileHandle}output(...e){this.isActive_&&this.output_(e)}generateOutput(e){this.isActive_&&this.output_(e.apply(e,[]))}exit(e=()=>{}){this.fileHandle.then(()=>{this.isActive_&&this.stream_&&this.stream_.end("","",e)})}constructor(){this.isActive_=!1,this.outputFunction_=console.info,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(t){this.fileHandle=e.SystemExternal.fs.promises.open(t,"w"),this.fileHandle=this.fileHandle.then(e=>{this.stream_=e.createWriteStream(t),this.outputFunction_=function(...e){this.stream_.write(e.join(" ")),this.stream_.write("\n")}.bind(this),this.stream_.on("error",function(e){this.outputFunction_=console.info}.bind(this)),this.stream_.on("finish",function(){})})}output_(e){console.info!==this.outputFunction_?this.fileHandle.then(()=>this.outputFunction_.apply(this.outputFunction_,["Speech Rule Engine Debugger:"].concat(e))):this.outputFunction_.apply(console,["Speech Rule Engine Debugger:"].concat(e))}}return _debugger.Debugger=t,_debugger}function requireEngine(){if(hasRequiredEngine)return engine;hasRequiredEngine=1,Object.defineProperty(engine,"__esModule",{value:!0}),engine.EnginePromise=engine.Engine=engine.SREError=void 0;const e=requireDynamic_cstr(),t=requireEngine_const(),r=require_debugger(),n=requireVariables();class i extends Error{constructor(e=""){super(),this.message=e,this.name="SRE Error"}}engine.SREError=i;class o{set defaultLocale(e){this._defaultLocale=n.Variables.ensureLocale(e,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return o.instance=o.instance||new o,o.instance}static defaultEvaluator(e,t){return e}static evaluateNode(e){return o.nodeEvaluator(e)}getRate(){const e=parseInt(this.rate,10);return isNaN(e)?100:e}setDynamicCstr(r){if(this.defaultLocale&&(e.DynamicCstr.DEFAULT_VALUES[e.Axis.LOCALE]=this.defaultLocale),r){const t=Object.keys(r);for(let n=0;n<t.length;n++){const i=t[n];if(-1!==e.DynamicCstr.DEFAULT_ORDER.indexOf(i)){const e=r[i];this[i]=e}}}t.DOMAIN_TO_STYLES[this.domain]=this.style;const n=[this.locale,this.modality,this.domain,this.style].join("."),i=e.DynamicProperties.createProp([e.DynamicCstr.DEFAULT_VALUES[e.Axis.LOCALE]],[e.DynamicCstr.DEFAULT_VALUES[e.Axis.MODALITY]],[e.DynamicCstr.DEFAULT_VALUES[e.Axis.DOMAIN]],[e.DynamicCstr.DEFAULT_VALUES[e.Axis.STYLE]]),o=this.comparators[this.domain],a=this.parsers[this.domain];this.parser=a||this.defaultParser,this.dynamicCstr=this.parser.parse(n),this.dynamicCstr.updateProperties(i.getProperties()),this.comparator=o?o():new e.DefaultComparator(this.dynamicCstr)}constructor(){this.customLoader=null,this.parsers={},this.comparator=null,this.mode=t.Mode.SYNC,this.init=!0,this.delay=!1,this.comparators={},this.domain="mathspeak",this.style=e.DynamicCstr.DEFAULT_VALUES[e.Axis.STYLE],this._defaultLocale=e.DynamicCstr.DEFAULT_VALUES[e.Axis.LOCALE],this.locale=e.DynamicCstr.DEFAULT_VALUES[e.Axis.LOCALE],this.subiso="",this.modality=e.DynamicCstr.DEFAULT_VALUES[e.Axis.MODALITY],this.speech=t.Speech.NONE,this.markup=t.Markup.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.ruleSets=[],this.strict=!1,this.isIE=!1,this.isEdge=!1,this.pprint=!1,this.config=!1,this.rules="",this.prune="",this.locale=this.defaultLocale,this.evaluator=o.defaultEvaluator,this.defaultParser=new e.DynamicCstrParser(e.DynamicCstr.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=e.DynamicCstr.defaultCstr()}configurate(e){this.mode!==t.Mode.HTTP||this.config||(!function(e){const t=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let i=0,o=t.length;i<o;i++){let o;try{o=t[i].innerHTML;const r=JSON.parse(o);for(const[t,n]of Object.entries(r))e[t]=n}catch(n){r.Debugger.getInstance().output("Illegal configuration ",o)}}}(e),this.config=!0),function(e){if("undefined"!=typeof SREfeature)for(const[t,r]of Object.entries(SREfeature))e[t]=r}(e)}setCustomLoader(e){e&&(this.customLoader=e)}}engine.Engine=o,o.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks"],o.STRING_FEATURES=["markup","style","domain","speech","walker","defaultLocale","locale","delay","modality","rate","rules","subiso","prune"],o.nodeEvaluator=function(e){return[]},engine.default=o;class a{static get(e=o.getInstance().locale){return a.promises[e]||Promise.resolve("")}static getall(){return Promise.all(Object.values(a.promises))}}return engine.EnginePromise=a,a.loaded={},a.promises={},engine}var system={},engine_setup={},l10n={},grammar={},dom_util={},xpath_util={},hasRequiredXpath_util,hasRequiredDom_util;function requireXpath_util(){return hasRequiredXpath_util||(hasRequiredXpath_util=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.xpath=void 0,e.resolveNameSpace=a,e.evalXPath=function(t,r){let n;try{n=l(t,r,e.xpath.result.ORDERED_NODE_ITERATOR_TYPE)}catch(o){return[]}const i=[];for(let e=n.iterateNext();e;e=n.iterateNext())i.push(e);return i},e.evaluateBoolean=function(t,r){let n;try{n=l(t,r,e.xpath.result.BOOLEAN_TYPE)}catch(i){return!1}return n.booleanValue},e.evaluateString=function(t,r){let n;try{n=l(t,r,e.xpath.result.STRING_TYPE)}catch(i){return""}return n.stringValue},e.updateEvaluator=function(n){if(t.Engine.getInstance().mode!==r.Mode.HTTP)return;let i=n;for(;i&&!i.evaluate;)i=i.parentNode;i&&i.evaluate?e.xpath.currentDocument=i:n.ownerDocument&&(e.xpath.currentDocument=n.ownerDocument)};const t=requireEngine(),r=requireEngine_const(),n=requireSystem_external();function i(){return"undefined"!=typeof XPathResult}e.xpath={currentDocument:null,evaluate:i()?document.evaluate:n.SystemExternal.xpath.evaluate,result:i()?XPathResult:n.SystemExternal.xpath.XPathResult,createNSResolver:i()?document.createNSResolver:n.SystemExternal.xpath.createNSResolver};const o={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function a(e){return o[e]||null}class s{constructor(){this.lookupNamespaceURI=a}}function l(n,i,o){return t.Engine.getInstance().mode!==r.Mode.HTTP||t.Engine.getInstance().isIE||t.Engine.getInstance().isEdge?e.xpath.evaluate(n,i,new s,o,null):e.xpath.currentDocument.evaluate(n,i,a,o,null)}}(xpath_util)),xpath_util}function requireDom_util(){if(hasRequiredDom_util)return dom_util;hasRequiredDom_util=1,Object.defineProperty(dom_util,"__esModule",{value:!0}),dom_util.NodeType=void 0,dom_util.toArray=i,dom_util.parseInput=function(i){const o=new r.SystemExternal.xmldom.DOMParser,a=function(e){return e=e.replace(/&nbsp;/g,""),e.replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()}(i),s=!!a.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!a)throw new Error("Empty input!");try{const r=o.parseFromString(a,s?"text/html":"text/xml");return e.Engine.getInstance().mode===t.Mode.HTTP?(n.xpath.currentDocument=r,s?r.body.childNodes[0]:r.documentElement):r.documentElement}catch(l){throw new e.SREError("Illegal input: "+l.message)}},dom_util.replaceNode=function(e,t){if(!e.parentNode)return;e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)},dom_util.createElement=function(e){return r.SystemExternal.document.createElement(e)},dom_util.createElementNS=function(e,t){return r.SystemExternal.document.createElementNS(e,t)},dom_util.createTextNode=function(e){return r.SystemExternal.document.createTextNode(e)},dom_util.formatXml=function(e){let t="",r=/(>)(<)(\/*)/g;e=e.replace(r,"$1\r\n$2$3");let n=0,i=e.split("\r\n");r=/(\.)*(<)(\/*)/g,i=i.map(e=>e.replace(r,"$1\r\n$2$3").split("\r\n")).reduce((e,t)=>e.concat(t),[]);for(;i.length;){let e=i.shift();if(!e)continue;let r=0;if(e.match(/^<\w[^>/]*>[^>]+$/)){const t=s(e,i[0]);t[0]?t[1]?(e+=i.shift().slice(0,-t[1].length),t[1].trim()&&i.unshift(t[1])):e+=i.shift():r=1}else if(e.match(/^<\/\w/))0!==n&&(n-=1);else if(e.match(/^<\w[^>]*[^/]>.*$/))r=1;else if(e.match(/^<\w[^>]*\/>.+$/)){const t=e.indexOf(">")+1,r=e.slice(t);r.trim()&&i.unshift(),e=e.slice(0,t)+r}else r=0;t+=new Array(n+1).join("  ")+e+"\r\n",n+=r}return t},dom_util.querySelectorAllByAttr=function(e,t){return e.querySelectorAll?i(e.querySelectorAll(`[${t}]`)):n.evalXPath(`.//*[@${t}]`,e)},dom_util.querySelectorAllByAttrValue=function(e,t,r){return e.querySelectorAll?i(e.querySelectorAll(`[${t}="${r}"]`)):n.evalXPath(`.//*[@${t}="${r}"]`,e)},dom_util.querySelectorAll=function(e,t){return e.querySelectorAll?i(e.querySelectorAll(t)):n.evalXPath(`.//${t}`,e)},dom_util.tagName=function(e){return e.tagName.toUpperCase()},dom_util.cloneNode=function(e){return e.cloneNode(!0)},dom_util.serializeXml=function(e){return(new r.SystemExternal.xmldom.XMLSerializer).serializeToString(e)};const e=requireEngine(),t=requireEngine_const(),r=requireSystem_external(),n=requireXpath_util();function i(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}var o,a;function s(e,t){if(!t)return[!1,""];const r=e.match(/^<([^> ]+).*>/),n=t.match(/^<\/([^>]+)>(.*)/);return r&&n&&r[1]===n[1]?[!0,n[2]]:[!1,""]}return(a=o||(dom_util.NodeType=o={}))[a.ELEMENT_NODE=1]="ELEMENT_NODE",a[a.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",a[a.TEXT_NODE=3]="TEXT_NODE",a[a.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",a[a.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",a[a.ENTITY_NODE=6]="ENTITY_NODE",a[a.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",a[a.COMMENT_NODE=8]="COMMENT_NODE",a[a.DOCUMENT_NODE=9]="DOCUMENT_NODE",a[a.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",a[a.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",a[a.NOTATION_NODE=12]="NOTATION_NODE",dom_util}var locale_util={},locale={},messages={},transformers={},semantic_meaning={},alphabet={},hasRequiredAlphabet,hasRequiredSemantic_meaning,hasRequiredTransformers,hasRequiredMessages,hasRequiredLocale,hasRequiredLocale_util,hasRequiredGrammar;function requireAlphabet(){return hasRequiredAlphabet||(hasRequiredAlphabet=1,function(e){var t,r,n,i,o,a;function s(e){const t=e.toString(16).toUpperCase();return t.length>3?t:("000"+t).slice(-4)}function l([e,t],r){const n=parseInt(e,16),i=parseInt(t,16),o=[];for(let a=n;a<=i;a++){let e=s(a);!1!==r[e]&&(e=r[e]||e,o.push(e))}return o}function c(e,t={}){return l(e,t).map(e=>String.fromCodePoint(parseInt(e,16)))}Object.defineProperty(e,"__esModule",{value:!0}),e.INTERVALS=e.Base=e.Embellish=e.Font=void 0,e.makeInterval=l,e.makeMultiInterval=function(e){let t=[];for(const r of e)Array.isArray(r)?t=t.concat(c(r)):t.push(String.fromCodePoint(parseInt(r,16)));return t},e.makeCodeInterval=function(e){let t=[];for(const r of e)Array.isArray(r)?t=t.concat(l(r,{}).map(e=>parseInt(e,16))):t.push(parseInt(r,16));return t},e.alphabetName=d,(r=t||(e.Font=t={})).BOLD="bold",r.BOLDFRAKTUR="bold-fraktur",r.BOLDITALIC="bold-italic",r.BOLDSCRIPT="bold-script",r.DOUBLESTRUCK="double-struck",r.DOUBLESTRUCKITALIC="double-struck-italic",r.FULLWIDTH="fullwidth",r.FRAKTUR="fraktur",r.ITALIC="italic",r.MONOSPACE="monospace",r.NORMAL="normal",r.SCRIPT="script",r.SANSSERIF="sans-serif",r.SANSSERIFITALIC="sans-serif-italic",r.SANSSERIFBOLD="sans-serif-bold",r.SANSSERIFBOLDITALIC="sans-serif-bold-italic",(i=n||(e.Embellish=n={})).SUPER="super",i.SUB="sub",i.CIRCLED="circled",i.PARENTHESIZED="parenthesized",i.PERIOD="period",i.NEGATIVECIRCLED="negative-circled",i.DOUBLECIRCLED="double-circled",i.CIRCLEDSANSSERIF="circled-sans-serif",i.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",i.COMMA="comma",i.SQUARED="squared",i.NEGATIVESQUARED="negative-squared",(a=o||(e.Base=o={})).LATINCAP="latinCap",a.LATINSMALL="latinSmall",a.GREEKCAP="greekCap",a.GREEKSMALL="greekSmall",a.DIGIT="digit";const u=[{interval:["1D400","1D419"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.BOLD},{interval:["1D41A","1D433"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLD},{interval:["1D56C","1D585"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLDFRAKTUR},{interval:["1D468","1D481"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.BOLDITALIC},{interval:["1D482","1D49B"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLDSCRIPT},{interval:["1D538","1D551"],base:o.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:t.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:o.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:t.FRAKTUR},{interval:["1D51E","1D537"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.FRAKTUR},{interval:["FF21","FF3A"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.FULLWIDTH},{interval:["FF41","FF5A"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.FULLWIDTH},{interval:["1D434","1D44D"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.ITALIC},{interval:["1D44E","1D467"],base:o.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:t.ITALIC},{interval:["1D670","1D689"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.MONOSPACE},{interval:["1D68A","1D6A3"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.MONOSPACE},{interval:["0041","005A"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.NORMAL},{interval:["0061","007A"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.NORMAL},{interval:["1D49C","1D4B5"],base:o.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:t.SCRIPT},{interval:["1D4B6","1D4CF"],base:o.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:t.SCRIPT},{interval:["1D5A0","1D5B9"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIF},{interval:["1D5BA","1D5D3"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIF},{interval:["1D608","1D621"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:o.LATINCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:o.LATINSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:o.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:t.NORMAL},{interval:["03B0","03D0"],base:o.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:t.NORMAL},{interval:["1D6A8","1D6C0"],base:o.GREEKCAP,subst:{},capital:!0,category:"Lu",font:t.BOLD},{interval:["1D6C1","1D6E1"],base:o.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLD},{interval:["1D6E2","1D6FA"],base:o.GREEKCAP,subst:{},capital:!0,category:"Lu",font:t.ITALIC},{interval:["1D6FB","1D71B"],base:o.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:t.ITALIC},{interval:["1D71C","1D734"],base:o.GREEKCAP,subst:{},capital:!0,category:"Lu",font:t.BOLDITALIC},{interval:["1D735","1D755"],base:o.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:t.BOLDITALIC},{interval:["1D756","1D76E"],base:o.GREEKCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:o.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:o.GREEKCAP,subst:{},capital:!0,category:"Lu",font:t.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:o.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:t.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.NORMAL},{interval:["2070","2079"],base:o.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:n.SUPER},{interval:["2080","2089"],base:o.DIGIT,subst:{},offset:0,category:"No",font:n.SUB},{interval:["245F","2473"],base:o.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:n.CIRCLED},{interval:["3251","325F"],base:o.DIGIT,subst:{},offset:21,category:"No",font:n.CIRCLED},{interval:["32B1","32BF"],base:o.DIGIT,subst:{},offset:36,category:"No",font:n.CIRCLED},{interval:["2474","2487"],base:o.DIGIT,subst:{},offset:1,category:"No",font:n.PARENTHESIZED},{interval:["2487","249B"],base:o.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:n.PERIOD},{interval:["2775","277F"],base:o.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:n.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:o.DIGIT,subst:{},offset:11,category:"No",font:n.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:o.DIGIT,subst:{},offset:1,category:"No",font:n.DOUBLECIRCLED},{interval:["277F","2789"],base:o.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:n.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:o.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:n.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.BOLD},{interval:["1D7D8","1D7E1"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.SANSSERIF},{interval:["1D7EC","1D7F5"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:o.DIGIT,subst:{},offset:0,category:"Nd",font:t.MONOSPACE},{interval:["1F101","1F10A"],base:o.DIGIT,subst:{},offset:0,category:"No",font:n.COMMA},{interval:["24B6","24CF"],base:o.LATINCAP,subst:{},capital:!0,category:"So",font:n.CIRCLED},{interval:["24D0","24E9"],base:o.LATINSMALL,subst:{},capital:!1,category:"So",font:n.CIRCLED},{interval:["1F110","1F129"],base:o.LATINCAP,subst:{},capital:!0,category:"So",font:n.PARENTHESIZED},{interval:["249C","24B5"],base:o.LATINSMALL,subst:{},capital:!1,category:"So",font:n.PARENTHESIZED},{interval:["1F130","1F149"],base:o.LATINCAP,subst:{},capital:!0,category:"So",font:n.SQUARED},{interval:["1F170","1F189"],base:o.LATINCAP,subst:{},capital:!0,category:"So",font:n.NEGATIVESQUARED},{interval:["1F150","1F169"],base:o.LATINCAP,subst:{},capital:!0,category:"So",font:n.NEGATIVECIRCLED}];function d(e,t){return e+t.split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}e.INTERVALS=new Map;for(const h of u){const t=d(h.base,h.font),r=c(h.interval,h.subst);let n=e.INTERVALS.get(t);n?n.unicode=n.unicode.concat(r):(n=h,n.unicode=r,e.INTERVALS.set(t,n))}}(alphabet)),alphabet}function requireSemantic_meaning(){if(hasRequiredSemantic_meaning)return semantic_meaning;hasRequiredSemantic_meaning=1,Object.defineProperty(semantic_meaning,"__esModule",{value:!0}),semantic_meaning.SemanticSecondary=semantic_meaning.SemanticFont=semantic_meaning.SemanticRole=semantic_meaning.SemanticType=void 0;const e=requireAlphabet();var t,r,n,i,o,a,s,l;return(r=t||(t={})).PUNCTUATION="punctuation",r.FENCE="fence",r.NUMBER="number",r.IDENTIFIER="identifier",r.TEXT="text",r.OPERATOR="operator",r.RELATION="relation",r.LARGEOP="largeop",r.FUNCTION="function",r.ACCENT="accent",r.FENCED="fenced",r.FRACTION="fraction",r.PUNCTUATED="punctuated",r.RELSEQ="relseq",r.MULTIREL="multirel",r.INFIXOP="infixop",r.PREFIXOP="prefixop",r.POSTFIXOP="postfixop",r.APPL="appl",r.INTEGRAL="integral",r.BIGOP="bigop",r.SQRT="sqrt",r.ROOT="root",r.LIMUPPER="limupper",r.LIMLOWER="limlower",r.LIMBOTH="limboth",r.SUBSCRIPT="subscript",r.SUPERSCRIPT="superscript",r.UNDERSCORE="underscore",r.OVERSCORE="overscore",r.TENSOR="tensor",r.TABLE="table",r.MULTILINE="multiline",r.MATRIX="matrix",r.VECTOR="vector",r.CASES="cases",r.ROW="row",r.LINE="line",r.CELL="cell",r.ENCLOSE="enclose",r.INFERENCE="inference",r.RULELABEL="rulelabel",r.CONCLUSION="conclusion",r.PREMISES="premises",r.UNKNOWN="unknown",r.EMPTY="empty",semantic_meaning.SemanticType=Object.assign({},t),(i=n||(n={})).COMMA="comma",i.SEMICOLON="semicolon",i.ELLIPSIS="ellipsis",i.FULLSTOP="fullstop",i.QUESTION="question",i.EXCLAMATION="exclamation",i.QUOTES="quotes",i.DASH="dash",i.TILDE="tilde",i.PRIME="prime",i.DEGREE="degree",i.VBAR="vbar",i.COLON="colon",i.OPENFENCE="openfence",i.CLOSEFENCE="closefence",i.APPLICATION="application",i.DUMMY="dummy",i.UNIT="unit",i.LABEL="label",i.OPEN="open",i.CLOSE="close",i.TOP="top",i.BOTTOM="bottom",i.NEUTRAL="neutral",i.METRIC="metric",i.LATINLETTER="latinletter",i.GREEKLETTER="greekletter",i.OTHERLETTER="otherletter",i.NUMBERSET="numbersetletter",i.INTEGER="integer",i.FLOAT="float",i.OTHERNUMBER="othernumber",i.INFTY="infty",i.MIXED="mixed",i.MULTIACCENT="multiaccent",i.OVERACCENT="overaccent",i.UNDERACCENT="underaccent",i.UNDEROVER="underover",i.SUBSUP="subsup",i.LEFTSUB="leftsub",i.LEFTSUPER="leftsuper",i.RIGHTSUB="rightsub",i.RIGHTSUPER="rightsuper",i.LEFTRIGHT="leftright",i.ABOVEBELOW="abovebelow",i.SETEMPTY="set empty",i.SETEXT="set extended",i.SETSINGLE="set singleton",i.SETCOLLECT="set collection",i.STRING="string",i.SPACE="space",i.ANNOTATION="annotation",i.TEXT="text",i.SEQUENCE="sequence",i.ENDPUNCT="endpunct",i.STARTPUNCT="startpunct",i.NEGATIVE="negative",i.POSITIVE="positive",i.NEGATION="negation",i.MULTIOP="multiop",i.PREFIXOP="prefix operator",i.POSTFIXOP="postfix operator",i.LIMFUNC="limit function",i.INFIXFUNC="infix function",i.PREFIXFUNC="prefix function",i.POSTFIXFUNC="postfix function",i.SIMPLEFUNC="simple function",i.COMPFUNC="composed function",i.SUM="sum",i.INTEGRAL="integral",i.GEOMETRY="geometry",i.BOX="box",i.BLOCK="block",i.ADDITION="addition",i.MULTIPLICATION="multiplication",i.SUBTRACTION="subtraction",i.IMPLICIT="implicit",i.DIVISION="division",i.VULGAR="vulgar",i.EQUALITY="equality",i.INEQUALITY="inequality",i.ARROW="arrow",i.ELEMENT="element",i.NONELEMENT="nonelement",i.REELEMENT="reelement",i.RENONELEMENT="renonelement",i.SET="set",i.DETERMINANT="determinant",i.ROWVECTOR="rowvector",i.BINOMIAL="binomial",i.SQUAREMATRIX="squarematrix",i.CYCLE="cycle",i.MULTILINE="multiline",i.MATRIX="matrix",i.VECTOR="vector",i.CASES="cases",i.TABLE="table",i.CAYLEY="cayley",i.PROOF="proof",i.LEFT="left",i.RIGHT="right",i.UP="up",i.DOWN="down",i.FINAL="final",i.SINGLE="single",i.HYP="hyp",i.AXIOM="axiom",i.LOGIC="logic",i.UNKNOWN="unknown",i.MGLYPH="mglyph",semantic_meaning.SemanticRole=Object.assign({},n),(a=o||(o={})).CALIGRAPHIC="caligraphic",a.CALIGRAPHICBOLD="caligraphic-bold",a.OLDSTYLE="oldstyle",a.OLDSTYLEBOLD="oldstyle-bold",a.UNKNOWN="unknown",semantic_meaning.SemanticFont=Object.assign(Object.assign(Object.assign({},e.Font),o),e.Embellish),(l=s||(s={})).ALLLETTERS="allLetters",l.D="d",l.BAR="bar",l.TILDE="tilde",semantic_meaning.SemanticSecondary=Object.assign(Object.assign({},e.Base),s),semantic_meaning}function requireTransformers(){return hasRequiredTransformers||(hasRequiredTransformers=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Combiners=void 0,e.pluralCase=function(e,t){return e.toString()},e.identityTransformer=function(e){return e.toString()},e.siCombiner=function(e,t){return e+t.toLowerCase()},e.convertVulgarFraction=r,e.vulgarFractionSmall=function(e,t,n){const i=r(e);if(i.convertible){const e=i.enumerator,r=i.denominator;return e>0&&e<t&&r>0&&r<n}return!1};const t=requireSemantic_meaning();function r(e,r=""){if(!e.childNodes||!e.childNodes[0]||!e.childNodes[0].childNodes||e.childNodes[0].childNodes.length<2||e.childNodes[0].childNodes[0].tagName!==t.SemanticType.NUMBER||e.childNodes[0].childNodes[0].getAttribute("role")!==t.SemanticRole.INTEGER||e.childNodes[0].childNodes[1].tagName!==t.SemanticType.NUMBER||e.childNodes[0].childNodes[1].getAttribute("role")!==t.SemanticRole.INTEGER)return{convertible:!1,content:e.textContent};const n=e.childNodes[0].childNodes[1].textContent,i=e.childNodes[0].childNodes[0].textContent,o=Number(n),a=Number(i);return isNaN(o)||isNaN(a)?{convertible:!1,content:`${i} ${r} ${n}`}:{convertible:!0,enumerator:a,denominator:o}}e.Combiners={},e.Combiners.identityCombiner=function(e,t,r){return e+t+r},e.Combiners.prefixCombiner=function(e,t,r){return e=r?r+" "+e:e,t?t+" "+e:e},e.Combiners.postfixCombiner=function(e,t,r){return e=r?r+" "+e:e,t?e+" "+t:e},e.Combiners.romanceCombiner=function(e,t,r){return e=r?e+" "+r:e,t?e+" "+t:e}}(transformers)),transformers}function requireMessages(){if(hasRequiredMessages)return messages;hasRequiredMessages=1,Object.defineProperty(messages,"__esModule",{value:!0}),messages.MESSAGES=function(){return{MS:{},MSroots:{},font:{},embellish:{},role:{},enclose:{},navigate:{},regexp:{},unitTimes:""}},messages.NUMBERS=function(t={}){return Object.assign({zero:"zero",ones:[],tens:[],large:[],special:{},wordOrdinal:e.identityTransformer,numericOrdinal:e.identityTransformer,numberToWords:e.identityTransformer,numberToOrdinal:e.pluralCase,vulgarSep:" ",numSep:" "},t)},messages.ALPHABETS=function(){return{latinSmall:[],latinCap:[],greekSmall:[],greekCap:[],capPrefix:{default:""},smallPrefix:{default:""},digitPrefix:{default:""},languagePrefix:{},digitTrans:{default:e.identityTransformer,mathspeak:e.identityTransformer,clearspeak:e.identityTransformer},letterTrans:{default:e.identityTransformer},combiner:(e,t,r)=>e}},messages.FUNCTIONS=function(){return{fracNestDepth:t=>e.vulgarFractionSmall(t,10,100),radicalNestDepth:e=>"",combineRootIndex:function(e,t){return e},combineNestedFraction:e.Combiners.identityCombiner,combineNestedRadical:e.Combiners.identityCombiner,fontRegexp:function(e){return new RegExp("^"+e.split(/ |-/).join("( |-)")+"( |-)")},si:e.siCombiner,plural:e.identityTransformer}},messages.SUBISO=function(){return{default:"",current:"",all:[]}};const e=requireTransformers();return messages}function requireLocale(){if(hasRequiredLocale)return locale;hasRequiredLocale=1,Object.defineProperty(locale,"__esModule",{value:!0}),locale.LOCALE=void 0,locale.createLocale=t;const e=requireMessages();function t(){return{FUNCTIONS:(0,e.FUNCTIONS)(),MESSAGES:(0,e.MESSAGES)(),ALPHABETS:(0,e.ALPHABETS)(),NUMBERS:(0,e.NUMBERS)(),COMBINERS:{},CORRECTIONS:{},SUBISO:(0,e.SUBISO)()}}return locale.LOCALE=t(),locale}function requireLocale_util(){if(hasRequiredLocale_util)return locale_util;hasRequiredLocale_util=1,Object.defineProperty(locale_util,"__esModule",{value:!0}),locale_util.nestingToString=function(t){switch(t){case 1:return e.LOCALE.MESSAGES.MS.ONCE||"";case 2:return e.LOCALE.MESSAGES.MS.TWICE;default:return t.toString()}},locale_util.combinePostfixIndex=function(t,r){return t===e.LOCALE.MESSAGES.MS.ROOTINDEX||t===e.LOCALE.MESSAGES.MS.INDEX?t:t+" "+r},locale_util.localFont=function(t){return r(e.LOCALE.MESSAGES.font[t],t)},locale_util.localRole=function(t){return r(e.LOCALE.MESSAGES.role[t],t)},locale_util.localEnclose=function(t){return r(e.LOCALE.MESSAGES.enclose[t],t)},locale_util.localeFontCombiner=function(r){return"string"==typeof r?{font:r,combiner:e.LOCALE.ALPHABETS.combiner}:{font:r[0],combiner:e.LOCALE.COMBINERS[r[1]]||t.Combiners[r[1]]||e.LOCALE.ALPHABETS.combiner}};const e=requireLocale(),t=requireTransformers();function r(e,t){return void 0===e?t:"string"==typeof e?e:e[0]}return locale_util}function requireGrammar(){return hasRequiredGrammar||(hasRequiredGrammar=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Grammar=e.ATTRIBUTE=void 0,e.correctFont=a;const t=requireDom_util(),r=requireEngine(),n=requireLocale_util(),i=requireLocale();e.ATTRIBUTE="grammar";class o{static getInstance(){return o.instance=o.instance||new o,o.instance}static parseInput(e){const t={},r=e.split(":");for(const n of r){const e=n.split("="),r=e[0].trim();e[1]?t[r]=e[1].trim():r.match(/^!/)?t[r.slice(1)]=!1:t[r]=!0}return t}static parseState(e){const t={},r=e.split(" ");for(const n of r){const e=n.split(":"),r=e[0],i=e[1];t[r]=i||!0}return t}static translateString(e){if(e.match(/:unit$/))return o.translateUnit(e);const t=r.Engine.getInstance();let n=t.evaluator(e,t.dynamicCstr);return n=null===n?e:n,o.getInstance().getParameter("plural")&&(n=i.LOCALE.FUNCTIONS.plural(n)),n}static translateUnit(e){e=o.prepareUnit(e);const t=r.Engine.getInstance(),n=o.getInstance().getParameter("plural"),a=t.strict,s=`${t.locale}.${t.modality}.default`;let l,c;return t.strict=!0,n&&(l=t.defaultParser.parse(s+".plural"),c=t.evaluator(e,l)),c?(t.strict=a,c):(l=t.defaultParser.parse(s+".default"),c=t.evaluator(e,l),t.strict=a,c?(n&&(c=i.LOCALE.FUNCTIONS.plural(c)),c):o.cleanUnit(e))}static prepareUnit(e){const t=e.match(/:unit$/);return t?e.slice(0,t.index).replace(/\s+/g," ")+e.slice(t.index):e}static cleanUnit(e){return e.match(/:unit$/)?e.replace(/:unit$/,""):e}clear(){this.parameters_={},this.stateStack_=[]}setParameter(e,t){const r=this.parameters_[e];return t?this.parameters_[e]=t:delete this.parameters_[e],r}getParameter(e){return this.parameters_[e]}setCorrection(e,t){this.corrections_[e]=t}setPreprocessor(e,t){this.preprocessors_[e]=t}getCorrection(e){return this.corrections_[e]}getState(){const e=[];for(const[t,r]of Object.entries(this.parameters_))e.push("string"==typeof r?t+":"+r:t);return e.join(" ")}processSingles(){const e={};for(const t of this.singles)e[t]=!1;this.singles=[],this.pushState(e)}pushState(e){for(let[t,r]of Object.entries(e))t.match(/^\?/)&&(delete e[t],t=t.slice(1),this.singles.push(t)),e[t]=this.setParameter(t,r);this.stateStack_.push(e)}popState(){const e=this.stateStack_.pop();for(const[t,r]of Object.entries(e))this.setParameter(t,r)}setAttribute(r){if(r&&r.nodeType===t.NodeType.ELEMENT_NODE){const t=this.getState();t&&r.setAttribute(e.ATTRIBUTE,t)}}preprocess(e){return this.runProcessors(e,this.preprocessors_)}correct(e){return this.runProcessors(e,this.corrections_)}apply(e,t){return this.currentFlags=t||{},e=this.currentFlags.adjust||this.currentFlags.preprocess?o.getInstance().preprocess(e):e,(this.parameters_.translate||this.currentFlags.translate)&&(e=o.translateString(e)),e=this.currentFlags.adjust||this.currentFlags.correct?o.getInstance().correct(e):e,this.currentFlags={},e}runProcessors(e,t){for(const[r,n]of Object.entries(this.parameters_)){const i=t[r];i&&(e=!0===n?i(e):i(e,n))}return e}constructor(){this.currentFlags={},this.parameters_={},this.corrections_={},this.preprocessors_={},this.stateStack_=[],this.singles=[]}}function a(e,t){if(!t||!e)return e;const r=i.LOCALE.FUNCTIONS.fontRegexp(n.localFont(t));return e.replace(r,"")}e.Grammar=o,o.getInstance().setCorrection("localFont",n.localFont),o.getInstance().setCorrection("localRole",n.localRole),o.getInstance().setCorrection("localEnclose",n.localEnclose),o.getInstance().setCorrection("ignoreFont",a),o.getInstance().setPreprocessor("annotation",function(e,t){return e+":"+t}),o.getInstance().setPreprocessor("noTranslateText",function(e){return e.match(new RegExp("^["+i.LOCALE.MESSAGES.regexp.TEXT+"]+$"))&&(o.getInstance().currentFlags.translate=!1),e}),o.getInstance().setCorrection("ignoreCaps",function(e){let t=i.LOCALE.ALPHABETS.capPrefix[r.Engine.getInstance().domain];return void 0===t&&(t=i.LOCALE.ALPHABETS.capPrefix.default),a(e,t)}),o.getInstance().setPreprocessor("numbers2alpha",function(e){return e.match(/\d+/)?i.LOCALE.NUMBERS.numberToWords(parseInt(e,10)):e})}(grammar)),grammar}var locale_af={},numbers_af={},hasRequiredNumbers_af,hasRequiredLocale_af;function requireNumbers_af(){return hasRequiredNumbers_af||(hasRequiredNumbers_af=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t){let r=t%1e3,n="",i=e.NUMBERS.ones[Math.floor(r/100)];if(n+=i?i+e.NUMBERS.numSep+"honderd":"",r%=100,r)if(n+=n?e.NUMBERS.numSep:"",i=e.NUMBERS.ones[r],i)n+=i;else{const t=e.NUMBERS.tens[Math.floor(r/10)];i=e.NUMBERS.ones[r%10],n+=i?i+"-en-"+t:t}return n}function n(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let n=0,i="";for(;t>0;){if(t%1e3){const o=r(t%1e3);if(n){const t=e.NUMBERS.large[n];i=o+e.NUMBERS.numSep+t+(i?e.NUMBERS.numSep+i:"")}else i=o+(i?e.NUMBERS.numSep+i:"")}t=Math.floor(t/1e3),n++}return i}function i(e){if(1===e)return"eerste";if(3===e)return"derde";if(8===e)return"agste";if(9===e)return"negende";return n(e)+(e<19?"de":"ste")}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:i,numericOrdinal:function(e){return e.toString()+"."},numberToWords:n,numberToOrdinal:function(e,t){return 1===e?"enkel":2===e?t?"helftes":"helfte":4===e?t?"kwarte":"kwart":i(e)+(t?"s":"")}})}(numbers_af)),numbers_af}function requireLocale_af(){if(hasRequiredLocale_af)return locale_af;hasRequiredLocale_af=1,Object.defineProperty(locale_af,"__esModule",{value:!0}),locale_af.af=function(){a||(a=function(){const a=(0,r.createLocale)();return a.NUMBERS=n.NUMBERS,a.COMBINERS.germanPostfix=o,a.FUNCTIONS.radicalNestDepth=t.nestingToString,a.FUNCTIONS.plural=e=>/.*s$/.test(e)?e:e+"s",a.FUNCTIONS.fontRegexp=function(e){return new RegExp("((^"+e+" )|( "+e+"$))")},a.ALPHABETS.combiner=i.Combiners.prefixCombiner,a.ALPHABETS.digitTrans.default=n.NUMBERS.numberToWords,a.CORRECTIONS.article=t=>e.Grammar.getInstance().getParameter("noArticle")?"":t,a}());return a};const e=requireGrammar(),t=requireLocale_util(),r=requireLocale(),n=requireNumbers_af(),i=requireTransformers(),o=function(e,t,r){return e=r?r+" "+e:e,t?e+" "+t:e};let a=null;return locale_af}var locale_ca={},numbers_ca={},hasRequiredNumbers_ca,hasRequiredLocale_ca;function requireNumbers_ca(){return hasRequiredNumbers_ca||(hasRequiredNumbers_ca=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireGrammar(),r=requireMessages();function n(t){const r=t%1e3,n=Math.floor(r/100),i=n?1===n?"cent":e.NUMBERS.ones[n]+"-cents":"",o=function(t){const r=t%100;if(r<20)return e.NUMBERS.ones[r];const n=Math.floor(r/10),i=e.NUMBERS.tens[n],o=e.NUMBERS.ones[r%10];return i&&o?i+(2===n?"-i-":"-")+o:i||o}(r%100);return i&&o?i+e.NUMBERS.numSep+o:i||o}function i(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let r=0,o="";for(;t>0;){const a=t%(r>1?1e6:1e3);if(a){let t=e.NUMBERS.large[r];if(r)if(1===r)o=(1===a?"":n(a)+e.NUMBERS.numSep)+t+(o?e.NUMBERS.numSep+o:"");else{const r=i(a);t=1===a?t:t.replace(/\u00f3$/,"ons"),o=r+e.NUMBERS.numSep+t+(o?e.NUMBERS.numSep+o:"")}else o=n(a)}t=Math.floor(t/(r>1?1e6:1e3)),r++}return o}function o(e){const r=t.Grammar.getInstance().getParameter("gender");return e.toString()+("f"===r?"a":"n")}e.NUMBERS=(0,r.NUMBERS)({numericOrdinal:o,numberToWords:i,numberToOrdinal:function(t,r){if(t>1999)return o(t);if(t<=10)return e.NUMBERS.special.onesOrdinals[t-1];const n=i(t);return n.match(/mil$/)?n.replace(/mil$/,"millsima"):n.match(/u$/)?n.replace(/u$/,"vena"):n.match(/a$/)?n.replace(/a$/,"ena"):n+(n.match(/e$/)?"na":"ena")}})}(numbers_ca)),numbers_ca}function requireLocale_ca(){if(hasRequiredLocale_ca)return locale_ca;hasRequiredLocale_ca=1,Object.defineProperty(locale_ca,"__esModule",{value:!0}),locale_ca.ca=function(){o||(o=function(){const o=(0,e.createLocale)();return o.NUMBERS=r.NUMBERS,o.COMBINERS.sansserif=i,o.FUNCTIONS.fracNestDepth=e=>!1,o.FUNCTIONS.combineRootIndex=t.combinePostfixIndex,o.FUNCTIONS.combineNestedRadical=(e,t,r)=>e+r,o.FUNCTIONS.fontRegexp=e=>RegExp("^"+e+" "),o.FUNCTIONS.plural=e=>/.*os$/.test(e)?e+"sos":/.*s$/.test(e)?e+"os":/.*ga$/.test(e)?e.slice(0,-2)+"gues":/.*a$/.test(e)?e.slice(0,-2)+"ces":/.*ca$/.test(e)?e.slice(0,-2)+"ques":/.*ja$/.test(e)?e.slice(0,-2)+"ges":/.*qua$/.test(e)?e.slice(0,-3)+"qes":/.*a$/.test(e)?e.slice(0,-1)+"es":/.*(e|i)$/.test(e)?e+"ns":/.*$/.test(e)?e.slice(0,-1)+"ins":e+"s",o.FUNCTIONS.si=(e,t)=>(t.match(/^metre/)&&(e=e.replace(/a$/,"").replace(/o$/,"").replace(/i$/,"")),e+t),o.ALPHABETS.combiner=n.Combiners.prefixCombiner,o}());return o};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_ca(),n=requireTransformers(),i=function(e,t,r){return e="sans serif "+(r?r+" "+e:e),t?e+" "+t:e};let o=null;return locale_ca}var locale_da={},numbers_da={},hasRequiredNumbers_da,hasRequiredLocale_da;function requireNumbers_da(){return hasRequiredNumbers_da||(hasRequiredNumbers_da=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t,r=!1){return t===e.NUMBERS.ones[1]?r?"et":"en":t}function n(t,n=!1){let i=t%1e3,o="",a=e.NUMBERS.ones[Math.floor(i/100)];if(o+=a?r(a,!0)+" hundrede":"",i%=100,i)if(o+=o?" og ":"",a=n?e.NUMBERS.special.smallOrdinals[i]:e.NUMBERS.ones[i],a)o+=a;else{const t=n?e.NUMBERS.special.tensOrdinals[Math.floor(i/10)]:e.NUMBERS.tens[Math.floor(i/10)];a=e.NUMBERS.ones[i%10],o+=a?r(a)+"og"+t:t}return o}function i(t,i=!1){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let o=0,a="";for(;t>0;){const s=t%1e3;if(s){const t=n(s,i&&!o);if(o){const n=e.NUMBERS.large[o],i=s>1?"er":"";a=r(t,o<=1)+" "+n+i+(a?" og ":"")+a}else a=r(t)+a}t=Math.floor(t/1e3),o++}return a}function o(e){if(e%100)return i(e,!0);const t=i(e);return t.match(/e$/)?t:t+"e"}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:o,numericOrdinal:function(e){return e.toString()+"."},numberToWords:i,numberToOrdinal:function(e,t){return 1===e?t?"hel":"hele":2===e?t?"halv":"halve":o(e)+(t?"dele":"del")}})}(numbers_da)),numbers_da}function requireLocale_da(){if(hasRequiredLocale_da)return locale_da;hasRequiredLocale_da=1,Object.defineProperty(locale_da,"__esModule",{value:!0}),locale_da.da=function(){i||(i=function(){const i=(0,e.createLocale)();return i.NUMBERS=r.NUMBERS,i.FUNCTIONS.radicalNestDepth=t.nestingToString,i.FUNCTIONS.fontRegexp=e=>e===i.ALPHABETS.capPrefix.default?RegExp("^"+e+" "):RegExp(" "+e+"$"),i.ALPHABETS.combiner=n.Combiners.postfixCombiner,i.ALPHABETS.digitTrans.default=r.NUMBERS.numberToWords,i}());return i};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_da(),n=requireTransformers();let i=null;return locale_da}var locale_de={},numbers_de={},hasRequiredNumbers_de,hasRequiredLocale_de;function requireNumbers_de(){return hasRequiredNumbers_de||(hasRequiredNumbers_de=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t,r=!1){return t===e.NUMBERS.ones[1]?r?"eine":"ein":t}function n(t){let n=t%1e3,i="",o=e.NUMBERS.ones[Math.floor(n/100)];if(i+=o?r(o)+"hundert":"",n%=100,n)if(i+=i?e.NUMBERS.numSep:"",o=e.NUMBERS.ones[n],o)i+=o;else{const t=e.NUMBERS.tens[Math.floor(n/10)];o=e.NUMBERS.ones[n%10],i+=o?r(o)+"und"+t:t}return i}function i(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let i=0,o="";for(;t>0;){const a=t%1e3;if(a){const s=n(t%1e3);if(i){const t=e.NUMBERS.large[i],n=i>1&&a>1?t.match(/e$/)?"n":"en":"";o=r(s,i>1)+t+n+o}else o=r(s,i>1)+o}t=Math.floor(t/1e3),i++}return o.replace(/ein$/,"eins")}function o(e){if(1===e)return"erste";if(3===e)return"dritte";if(7===e)return"siebte";if(8===e)return"achte";return i(e)+(e<19?"te":"ste")}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:o,numericOrdinal:function(e){return e.toString()+"."},numberToWords:i,numberToOrdinal:function(e,t){return 1===e?"eintel":2===e?t?"halbe":"halb":o(e)+"l"}})}(numbers_de)),numbers_de}function requireLocale_de(){if(hasRequiredLocale_de)return locale_de;hasRequiredLocale_de=1,Object.defineProperty(locale_de,"__esModule",{value:!0}),locale_de.de=function(){a||(a=function(){const a=(0,r.createLocale)();return a.NUMBERS=n.NUMBERS,a.COMBINERS.germanPostfix=o,a.ALPHABETS.combiner=i,a.FUNCTIONS.radicalNestDepth=e=>e>1?a.NUMBERS.numberToWords(e)+"fach":"",a.FUNCTIONS.combineRootIndex=(e,t)=>{const r=t?t+"wurzel":"";return e.replace("Wurzel",r)},a.FUNCTIONS.combineNestedRadical=(e,t,r)=>{const n=(t?t+" ":"")+(e=r.match(/exponent$/)?e+"r":e);return r.match(/ /)?r.replace(/ /," "+n+" "):n+" "+r},a.FUNCTIONS.fontRegexp=function(e){return e=e.split(" ").map(function(e){return e.replace(/s$/,"(|s)")}).join(" "),new RegExp("((^"+e+" )|( "+e+"$))")},a.CORRECTIONS.correctOne=e=>e.replace(/^eins$/,"ein"),a.CORRECTIONS.localFontNumber=e=>(0,t.localFont)(e).split(" ").map(function(e){return e.replace(/s$/,"")}).join(" "),a.CORRECTIONS.lowercase=e=>e.toLowerCase(),a.CORRECTIONS.article=t=>{const r=e.Grammar.getInstance().getParameter("case"),n=e.Grammar.getInstance().getParameter("plural");return"dative"===r?{der:"dem",die:n?"den":"der",das:"dem"}[t]:t},a.CORRECTIONS.masculine=t=>"dative"===e.Grammar.getInstance().getParameter("case")?t+"n":t,a}());return a};const e=requireGrammar(),t=requireLocale_util(),r=requireLocale(),n=requireNumbers_de(),i=function(e,t,r){return"s"===r&&(t=t.split(" ").map(function(e){return e.replace(/s$/,"")}).join(" "),r=""),e=r?r+" "+e:e,t?t+" "+e:e},o=function(e,t,r){return e=r&&"s"!==r?r+" "+e:e,t?e+" "+t:e};let a=null;return locale_de}var locale_en={},numbers_en={},hasRequiredNumbers_en,hasRequiredLocale_en;function requireNumbers_en(){return hasRequiredNumbers_en||(hasRequiredNumbers_en=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t){let r=t%1e3,n="";return n+=e.NUMBERS.ones[Math.floor(r/100)]?e.NUMBERS.ones[Math.floor(r/100)]+e.NUMBERS.numSep+"hundred":"",r%=100,r&&(n+=n?e.NUMBERS.numSep:"",n+=e.NUMBERS.ones[r]||e.NUMBERS.tens[Math.floor(r/10)]+(r%10?e.NUMBERS.numSep+e.NUMBERS.ones[r%10]:"")),n}function n(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let n=0,i="";for(;t>0;){t%1e3&&(i=r(t%1e3)+(n?"-"+e.NUMBERS.large[n]+"-":"")+i),t=Math.floor(t/1e3),n++}return i.replace(/-$/,"")}function i(e){let t=n(e);return t.match(/one$/)?t=t.slice(0,-3)+"first":t.match(/two$/)?t=t.slice(0,-3)+"second":t.match(/three$/)?t=t.slice(0,-5)+"third":t.match(/five$/)?t=t.slice(0,-4)+"fifth":t.match(/eight$/)?t=t.slice(0,-5)+"eighth":t.match(/nine$/)?t=t.slice(0,-4)+"ninth":t.match(/twelve$/)?t=t.slice(0,-6)+"twelfth":t.match(/ty$/)?t=t.slice(0,-2)+"tieth":t+="th",t}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:i,numericOrdinal:function(e){const t=e%100,r=e.toString();if(t>10&&t<20)return r+"th";switch(e%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd";default:return r+"th"}},numberToWords:n,numberToOrdinal:function(e,t){if(1===e)return t?"oneths":"oneth";if(2===e)return t?"halves":"half";const r=i(e);return t?r+"s":r}})}(numbers_en)),numbers_en}function requireLocale_en(){if(hasRequiredLocale_en)return locale_en;hasRequiredLocale_en=1,Object.defineProperty(locale_en,"__esModule",{value:!0}),locale_en.en=function(){o||(o=function(){const o=(0,t.createLocale)();return o.NUMBERS=n.NUMBERS,o.FUNCTIONS.radicalNestDepth=r.nestingToString,o.FUNCTIONS.plural=e=>/.*s$/.test(e)?e:e+"s",o.ALPHABETS.combiner=i.Combiners.prefixCombiner,o.ALPHABETS.digitTrans.default=n.NUMBERS.numberToWords,o.CORRECTIONS.article=t=>e.Grammar.getInstance().getParameter("noArticle")?"":t,o}());return o};const e=requireGrammar(),t=requireLocale(),r=requireLocale_util(),n=requireNumbers_en(),i=requireTransformers();let o=null;return locale_en}var locale_es={},numbers_es={},hasRequiredNumbers_es,hasRequiredLocale_es;function requireNumbers_es(){return hasRequiredNumbers_es||(hasRequiredNumbers_es=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireGrammar(),r=requireMessages();function n(t){const r=t%1e3,n=Math.floor(r/100),i=e.NUMBERS.special.hundreds[n],o=function(t){const r=t%100;if(r<30)return e.NUMBERS.ones[r];const n=e.NUMBERS.tens[Math.floor(r/10)],i=e.NUMBERS.ones[r%10];return n&&i?n+" y "+i:n||i}(r%100);return 1===n?o?i+"to "+o:i:i&&o?i+" "+o:i||o}e.NUMBERS=(0,r.NUMBERS)({numericOrdinal:function(e){const r=t.Grammar.getInstance().getParameter("gender");return e.toString()+("f"===r?"a":"o")},numberToWords:function(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let r=0,i="";for(;t>0;){const o=t%1e3;if(o){let t=e.NUMBERS.large[r];const a=n(o);r?1===o?(t=t.match("/^mil( |$)/")?t:"un "+t,i=t+(i?" "+i:"")):(t=t.replace(/\u00f3n$/,"ones"),i=n(o)+" "+t+(i?" "+i:"")):i=a}t=Math.floor(t/1e3),r++}return i},numberToOrdinal:function(t,r){if(t>1999)return t.toString()+"a";if(t<=12)return e.NUMBERS.special.onesOrdinals[t-1];const n=[];if(t>=1e3&&(t-=1e3,n.push("milsima")),!t)return n.join(" ");let i=0;return i=Math.floor(t/100),i>0&&(n.push(e.NUMBERS.special.hundredsOrdinals[i-1]),t%=100),t<=12?n.push(e.NUMBERS.special.onesOrdinals[t-1]):(i=Math.floor(t/10),i>0&&(n.push(e.NUMBERS.special.tensOrdinals[i-1]),t%=10),t>0&&n.push(e.NUMBERS.special.onesOrdinals[t-1])),n.join(" ")}})}(numbers_es)),numbers_es}function requireLocale_es(){if(hasRequiredLocale_es)return locale_es;hasRequiredLocale_es=1,Object.defineProperty(locale_es,"__esModule",{value:!0}),locale_es.es=function(){o||(o=function(){const o=(0,e.createLocale)();return o.NUMBERS=r.NUMBERS,o.COMBINERS.sansserif=i,o.FUNCTIONS.fracNestDepth=e=>!1,o.FUNCTIONS.combineRootIndex=t.combinePostfixIndex,o.FUNCTIONS.combineNestedRadical=(e,t,r)=>e+r,o.FUNCTIONS.fontRegexp=e=>RegExp("^"+e+" "),o.FUNCTIONS.plural=e=>/.*(a|e|i|o|u)$/.test(e)?e+"s":/.*z$/.test(e)?e.slice(0,-1)+"ces":/.*c$/.test(e)?e.slice(0,-1)+"ques":/.*g$/.test(e)?e+"ues":/.*\u00f3n$/.test(e)?e.slice(0,-2)+"ones":e+"es",o.FUNCTIONS.si=(e,t)=>(t.match(/^metro/)&&(e=e.replace(/a$/,"").replace(/o$/,"").replace(/i$/,"")),e+t),o.ALPHABETS.combiner=n.Combiners.prefixCombiner,o}());return o};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_es(),n=requireTransformers(),i=function(e,t,r){return e="sans serif "+(r?r+" "+e:e),t?e+" "+t:e};let o=null;return locale_es}var locale_euro={},hasRequiredLocale_euro;function requireLocale_euro(){if(hasRequiredLocale_euro)return locale_euro;hasRequiredLocale_euro=1,Object.defineProperty(locale_euro,"__esModule",{value:!0}),locale_euro.euro=function(){t||(t=(0,e.createLocale)());return t};const e=requireLocale();let t=null;return locale_euro}var locale_fr={},numbers_fr={},hasRequiredNumbers_fr,hasRequiredLocale_fr;function requireNumbers_fr(){return hasRequiredNumbers_fr||(hasRequiredNumbers_fr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireEngine(),r=requireGrammar(),n=requireMessages();function i(t){let r=t%1e3,n="";if(n+=e.NUMBERS.ones[Math.floor(r/100)]?e.NUMBERS.ones[Math.floor(r/100)]+"-cent":"",r%=100,r){n+=n?"-":"";let t=e.NUMBERS.ones[r];if(t)n+=t;else{const i=e.NUMBERS.tens[Math.floor(r/10)];i.match(/-dix$/)?(t=e.NUMBERS.ones[r%10+10],n+=i.replace(/-dix$/,"")+"-"+t):n+=i+(r%10?"-"+e.NUMBERS.ones[r%10]:"")}}const i=n.match(/s-\w+$/);return i?n.replace(/s-\w+$/,i[0].slice(1)):n.replace(/-un$/,"-et-un")}function o(r){if(0===r)return e.NUMBERS.zero;if(r>=Math.pow(10,36))return r.toString();e.NUMBERS.special["tens-"+t.Engine.getInstance().subiso]&&(e.NUMBERS.tens=e.NUMBERS.special["tens-"+t.Engine.getInstance().subiso]);let n=0,o="";for(;r>0;){const t=r%1e3;if(t){let r=e.NUMBERS.large[n];const a=i(t);if(r&&r.match(/^mille /)){const e=r.replace(/^mille /,"");o=o.match(RegExp(e))?a+(n?"-mille-":"")+o:o.match(RegExp(e.replace(/s$/,"")))?a+(n?"-mille-":"")+o.replace(e.replace(/s$/,""),e):a+(n?"-"+r+"-":"")+o}else r=1===t&&r?r.replace(/s$/,""):r,o=a+(n?"-"+r+"-":"")+o}r=Math.floor(r/1e3),n++}return o.replace(/-$/,"")}const a={1:"unime",2:"demi",3:"tiers",4:"quart"};function s(e){if(1===e)return"premire";let t=o(e);return t.match(/^neuf$/)?t=t.slice(0,-1)+"v":t.match(/cinq$/)?t+="u":t.match(/trois$/)?t+="":(t.match(/e$/)||t.match(/s$/))&&(t=t.slice(0,-1)),t+="ime",t}e.NUMBERS=(0,n.NUMBERS)({wordOrdinal:s,numericOrdinal:function(e){const t=r.Grammar.getInstance().getParameter("gender");return 1===e?e.toString()+("m"===t?"er":"re"):e.toString()+"e"},numberToWords:o,numberToOrdinal:function(e,t){const r=a[e]||s(e);return 3===e?r:t?r+"s":r}})}(numbers_fr)),numbers_fr}function requireLocale_fr(){if(hasRequiredLocale_fr)return locale_fr;hasRequiredLocale_fr=1,Object.defineProperty(locale_fr,"__esModule",{value:!0}),locale_fr.fr=function(){o||(o=function(){const o=(0,t.createLocale)();return o.NUMBERS=n.NUMBERS,o.FUNCTIONS.radicalNestDepth=r.nestingToString,o.FUNCTIONS.combineRootIndex=r.combinePostfixIndex,o.FUNCTIONS.combineNestedFraction=(e,t,r)=>r.replace(/ $/g,"")+t+e,o.FUNCTIONS.combineNestedRadical=(e,t,r)=>r+" "+e,o.FUNCTIONS.fontRegexp=e=>RegExp(" (en |)"+e+"$"),o.FUNCTIONS.plural=e=>/.*s$/.test(e)?e:e+"s",o.CORRECTIONS.article=t=>e.Grammar.getInstance().getParameter("noArticle")?"":t,o.ALPHABETS.combiner=i.Combiners.romanceCombiner,o.SUBISO={default:"fr",current:"fr",all:["fr","be","ch"]},o}());return o};const e=requireGrammar(),t=requireLocale(),r=requireLocale_util(),n=requireNumbers_fr(),i=requireTransformers();let o=null;return locale_fr}var locale_hi={},numbers_hi={},hasRequiredNumbers_hi,hasRequiredLocale_hi;function requireNumbers_hi(){return hasRequiredNumbers_hi||(hasRequiredNumbers_hi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireGrammar(),r=requireMessages();function n(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,32))return t.toString();let r=0,n="";const i=function(t){let r=t%1e3,n="";return n+=e.NUMBERS.ones[Math.floor(r/100)]?e.NUMBERS.ones[Math.floor(r/100)]+e.NUMBERS.numSep+e.NUMBERS.special.hundred:"",r%=100,r&&(n+=n?e.NUMBERS.numSep:"",n+=e.NUMBERS.ones[r]),n}(t%1e3);if(!(t=Math.floor(t/1e3)))return i;for(;t>0;){const i=t%100;i&&(n=e.NUMBERS.ones[i]+e.NUMBERS.numSep+e.NUMBERS.large[r]+(n?e.NUMBERS.numSep+n:"")),t=Math.floor(t/100),r++}return i?n+e.NUMBERS.numSep+i:n}function i(r){const i=t.Grammar.getInstance().getParameter("gender");if(r<=0)return r.toString();if(r<10)return"f"===i?e.NUMBERS.special.ordinalsFeminine[r]:e.NUMBERS.special.ordinalsMasculine[r];return n(r)+("f"===i?"":"")}e.NUMBERS=(0,r.NUMBERS)({wordOrdinal:i,numericOrdinal:function(r){const n=t.Grammar.getInstance().getParameter("gender");return r>0&&r<10?"f"===n?e.NUMBERS.special.simpleSmallOrdinalsFeminine[r]:e.NUMBERS.special.simpleSmallOrdinalsMasculine[r]:r.toString().split("").map(function(t){const r=parseInt(t,10);return isNaN(r)?"":e.NUMBERS.special.simpleNumbers[r]}).join("")+("f"===n?"":"")},numberToWords:n,numberToOrdinal:function(t,r){return t<=10?e.NUMBERS.special.smallDenominators[t]:i(t)+" "}})}(numbers_hi)),numbers_hi}function requireLocale_hi(){if(hasRequiredLocale_hi)return locale_hi;hasRequiredLocale_hi=1,Object.defineProperty(locale_hi,"__esModule",{value:!0}),locale_hi.hi=function(){i||(i=function(){const i=(0,e.createLocale)();return i.NUMBERS=t.NUMBERS,i.ALPHABETS.combiner=r.Combiners.prefixCombiner,i.FUNCTIONS.radicalNestDepth=n.nestingToString,i}());return i};const e=requireLocale(),t=requireNumbers_hi(),r=requireTransformers(),n=requireLocale_util();let i=null;return locale_hi}var locale_ko={},numbers_ko={},hasRequiredNumbers_ko,hasRequiredLocale_ko;function requireNumbers_ko(){return hasRequiredNumbers_ko||(hasRequiredNumbers_ko=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t){let r=t%1e4,n="";return n+=e.NUMBERS.ones[Math.floor(r/1e3)]?1===Math.floor(r/1e3)?"":e.NUMBERS.ones[Math.floor(r/1e3)]+"":"",r%=1e3,r&&(n+=e.NUMBERS.ones[Math.floor(r/100)]?1===Math.floor(r/100)?"":e.NUMBERS.ones[Math.floor(r/100)]+"":"",r%=100,n+=e.NUMBERS.tens[Math.floor(r/10)]+(r%10?e.NUMBERS.ones[r%10]:"")),n}function n(t){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let n=0,i="";for(;t>0;){t%1e4&&(i=r(t%1e4)+(n?e.NUMBERS.large[n]+e.NUMBERS.numSep:"")+i),t=Math.floor(t/1e4),n++}return i.replace(/ $/,"")}function i(e,t){return 1===e?"":o(e)+""}function o(t){const r=n(t),i=n(t%=100);if(!i||!t)return r;const o=20===t?"":e.NUMBERS.tens[10+Math.floor(t/10)],a=e.NUMBERS.ones[10+Math.floor(t%10)];return r.slice(0,-i.length)+o+a}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:o,numericOrdinal:function(e){return i(e)},numberToWords:n,numberToOrdinal:i})}(numbers_ko)),numbers_ko}function requireLocale_ko(){if(hasRequiredLocale_ko)return locale_ko;hasRequiredLocale_ko=1,Object.defineProperty(locale_ko,"__esModule",{value:!0}),locale_ko.ko=function(){o||(o=function(){const o=(0,t.createLocale)();return o.NUMBERS=n.NUMBERS,o.FUNCTIONS.radicalNestDepth=r.nestingToString,o.FUNCTIONS.plural=function(e){return e},o.FUNCTIONS.si=(e,t)=>e+t,o.FUNCTIONS.combineRootIndex=function(e,t){return e+t},o.ALPHABETS.combiner=i.Combiners.prefixCombiner,o.ALPHABETS.digitTrans.default=n.NUMBERS.numberToWords,o.CORRECTIONS.postposition=t=>{if(["","","","",""].includes(t))return t;const r=t.slice(-1);let n=(r.charCodeAt(0)-44032)%28>0;return r.match(/[r,l,n,m,1,3,6,7,8,0]/i)&&(n=!0),e.Grammar.getInstance().setParameter("final",n),t},o.CORRECTIONS.article=t=>{const r=e.Grammar.getInstance().getParameter("final");r&&e.Grammar.getInstance().setParameter("final",!1),""===t&&(t="");const n={"":"","":"","":"","":""}[t];return void 0!==n&&r?n:t},o}());return o};const e=requireGrammar(),t=requireLocale(),r=requireLocale_util(),n=requireNumbers_ko(),i=requireTransformers();let o=null;return locale_ko}var locale_it={},numbers_it={},hasRequiredNumbers_it,hasRequiredLocale_it;function requireNumbers_it(){return hasRequiredNumbers_it||(hasRequiredNumbers_it=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireGrammar(),r=requireMessages();function n(t){let r=t%1e3,n="";if(n+=e.NUMBERS.ones[Math.floor(r/100)]?e.NUMBERS.ones[Math.floor(r/100)]+e.NUMBERS.numSep+"cento":"",r%=100,r){n+=n?e.NUMBERS.numSep:"";const t=e.NUMBERS.ones[r];if(t)n+=t;else{let t=e.NUMBERS.tens[Math.floor(r/10)];const i=r%10;1!==i&&8!==i||(t=t.slice(0,-1)),n+=t,n+=i?e.NUMBERS.numSep+e.NUMBERS.ones[r%10]:""}}return n}function i(r){if(0===r)return e.NUMBERS.zero;if(r>=Math.pow(10,36))return r.toString();if(1===r&&t.Grammar.getInstance().getParameter("fraction"))return"un";let i=0,o="";for(;r>0;){r%1e3&&(o=n(r%1e3)+(i?"-"+e.NUMBERS.large[i]+"-":"")+o),r=Math.floor(r/1e3),i++}return o.replace(/-$/,"")}function o(r){const n="m"===t.Grammar.getInstance().getParameter("gender")?"o":"a";let o=e.NUMBERS.special.onesOrdinals[r];return o?o.slice(0,-1)+n:(o=i(r),o.slice(0,-1)+"esim"+n)}e.NUMBERS=(0,r.NUMBERS)({wordOrdinal:o,numericOrdinal:function(e){const r=t.Grammar.getInstance().getParameter("gender");return e.toString()+("m"===r?"o":"a")},numberToWords:i,numberToOrdinal:function(e,t){if(2===e)return t?"mezzi":"mezzo";const r=o(e);if(!t)return r;const n=r.match(/o$/)?"i":"e";return r.slice(0,-1)+n}})}(numbers_it)),numbers_it}function requireLocale_it(){if(hasRequiredLocale_it)return locale_it;hasRequiredLocale_it=1,Object.defineProperty(locale_it,"__esModule",{value:!0}),locale_it.it=function(){o||(o=function(){const o=(0,t.createLocale)();return o.NUMBERS=r.NUMBERS,o.COMBINERS.italianPostfix=i,o.FUNCTIONS.radicalNestDepth=e.nestingToString,o.FUNCTIONS.combineRootIndex=e.combinePostfixIndex,o.FUNCTIONS.combineNestedFraction=(e,t,r)=>r.replace(/ $/g,"")+t+e,o.FUNCTIONS.combineNestedRadical=(e,t,r)=>r+" "+e,o.FUNCTIONS.fontRegexp=e=>RegExp(" (en |)"+e+"$"),o.ALPHABETS.combiner=n.Combiners.romanceCombiner,o}());return o};const e=requireLocale_util(),t=requireLocale(),r=requireNumbers_it(),n=requireTransformers(),i=function(e,t,r){return e.match(/^[a-zA-Z]$/)&&(t=t.replace("cerchiato","cerchiata")),e=r?e+" "+r:e,t?e+" "+t:e};let o=null;return locale_it}var locale_nb={},numbers_nn={},hasRequiredNumbers_nn,hasRequiredLocale_nb;function requireNumbers_nn(){return hasRequiredNumbers_nn||(hasRequiredNumbers_nn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireEngine(),r=requireMessages();function n(t,r=!1){let n=t%1e3,o="";const a=Math.floor(n/100),s=e.NUMBERS.ones[a];if(o+=s?(1===a?"":s)+"hundre":"",n%=100,n){if(o+=o?"og":"",r){const t=e.NUMBERS.special.smallOrdinals[n];if(t)return o+t;if(n%10)return o+e.NUMBERS.tens[Math.floor(n/10)]+e.NUMBERS.special.smallOrdinals[n%10]}o+=e.NUMBERS.ones[n]||e.NUMBERS.tens[Math.floor(n/10)]+(n%10?e.NUMBERS.ones[n%10]:"")}return r?i(o):o}function i(t){const r=e.NUMBERS.special.endOrdinal[0];return"a"===r&&t.match(/en$/)?t.slice(0,-2)+e.NUMBERS.special.endOrdinal:t.match(/(d|n)$/)||t.match(/hundre$/)?t+"de":t.match(/i$/)?t+e.NUMBERS.special.endOrdinal:"a"===r&&t.match(/e$/)?t.slice(0,-1)+e.NUMBERS.special.endOrdinal:(t.match(/e$/),t+"nde")}function o(e){return l(e,!0)}function a(t,r=!1){return t===e.NUMBERS.ones[1]?"ein"===t?"eitt ":r?"et":"ett":t}function s(t,r=!1){let n=t%1e3,o="",s=e.NUMBERS.ones[Math.floor(n/100)];if(o+=s?a(s)+"hundre":"",n%=100,n){if(o+=o?"og":"",r){const t=e.NUMBERS.special.smallOrdinals[n];if(t)return o+t}if(s=e.NUMBERS.ones[n],s)o+=s;else{const t=e.NUMBERS.tens[Math.floor(n/10)];s=e.NUMBERS.ones[n%10],o+=s?s+"og"+t:t}}return r?i(o):o}function l(r,i=!1){const o="alt"===t.Engine.getInstance().subiso?function(t,r=!1){if(0===t)return r?e.NUMBERS.special.smallOrdinals[0]:e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let n=0,i="";for(;t>0;){const o=t%1e3;if(o){const l=s(t%1e3,!n&&r);!n&&r&&(r=!r),i=(1===n?a(l,!0):l)+(n>1?e.NUMBERS.numSep:"")+(n?e.NUMBERS.large[n]+(n>1&&o>1?"er":""):"")+(n>1&&i?e.NUMBERS.numSep:"")+i}t=Math.floor(t/1e3),n++}return r?i+(i.match(/tusen$/)?"de":"te"):i}(r,i):function(t,r=!1){if(0===t)return r?e.NUMBERS.special.smallOrdinals[0]:e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let i=0,o="";for(;t>0;){const a=t%1e3;if(a){const s=n(t%1e3,!i&&r);!i&&r&&(r=!r),o=s+(i?" "+e.NUMBERS.large[i]+(i>1&&a>1?"er":"")+(o?" ":""):"")+o}t=Math.floor(t/1e3),i++}return r?o+(o.match(/tusen$/)?"de":"te"):o}(r,i);return o}e.NUMBERS=(0,r.NUMBERS)({wordOrdinal:o,numericOrdinal:function(e){return e.toString()+"."},numberToWords:l,numberToOrdinal:function(e,t){return o(e)}})}(numbers_nn)),numbers_nn}function requireLocale_nb(){if(hasRequiredLocale_nb)return locale_nb;hasRequiredLocale_nb=1,Object.defineProperty(locale_nb,"__esModule",{value:!0}),locale_nb.nb=function(){i||(i=function(){const i=(0,e.createLocale)();return i.NUMBERS=r.NUMBERS,i.ALPHABETS.combiner=n.Combiners.prefixCombiner,i.ALPHABETS.digitTrans.default=r.NUMBERS.numberToWords,i.FUNCTIONS.radicalNestDepth=t.nestingToString,i}());return i};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_nn(),n=requireTransformers();let i=null;return locale_nb}var locale_nemeth={},numbers_nemeth={},hasRequiredNumbers_nemeth,hasRequiredLocale_nemeth;function requireNumbers_nemeth(){return hasRequiredNumbers_nemeth||(hasRequiredNumbers_nemeth=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t){return t.toString().split("").map(function(t){return e.NUMBERS.ones[parseInt(t,10)]}).join("")}e.NUMBERS=(0,t.NUMBERS)({numberToWords:r,numberToOrdinal:r})}(numbers_nemeth)),numbers_nemeth}function requireLocale_nemeth(){if(hasRequiredLocale_nemeth)return locale_nemeth;hasRequiredLocale_nemeth=1,Object.defineProperty(locale_nemeth,"__esModule",{value:!0}),locale_nemeth.nemeth=function(){c||(c=function(){const c=(0,e.createLocale)();return c.NUMBERS=t.NUMBERS,c.COMBINERS={postfixCombiner:i,germanCombiner:o,embellishCombiner:a,doubleEmbellishCombiner:s,parensCombiner:l},c.FUNCTIONS.fracNestDepth=e=>!1,c.FUNCTIONS.fontRegexp=e=>RegExp("^"+e),c.FUNCTIONS.si=r.identityTransformer,c.ALPHABETS.combiner=(e,t,r)=>t?t+r+e:n(e),c.ALPHABETS.digitTrans={default:t.NUMBERS.numberToWords},c}());return c};const e=requireLocale(),t=requireNumbers_nemeth(),r=requireTransformers(),n=function(e){return e.match(RegExp("^"+c.ALPHABETS.languagePrefix.english))?e.slice(1):e},i=function(e,t,r){return e=n(e),t?e+t:e},o=function(e,t,r){return t+n(e)},a=function(e,t,r){return t+(r||"")+(e=n(e))+""},s=function(e,t,r){return t+(r||"")+(e=n(e))+""},l=function(e,t,r){return t+(e=n(e))+""};let c=null;return locale_nemeth}var locale_nn={},hasRequiredLocale_nn;function requireLocale_nn(){if(hasRequiredLocale_nn)return locale_nn;hasRequiredLocale_nn=1,Object.defineProperty(locale_nn,"__esModule",{value:!0}),locale_nn.nn=function(){i||(i=function(){const i=(0,e.createLocale)();return i.NUMBERS=r.NUMBERS,i.ALPHABETS.combiner=n.Combiners.prefixCombiner,i.ALPHABETS.digitTrans.default=r.NUMBERS.numberToWords,i.FUNCTIONS.radicalNestDepth=t.nestingToString,i.SUBISO={default:"",current:"",all:["","alt"]},i}());return i};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_nn(),n=requireTransformers();let i=null;return locale_nn}var locale_sv={},numbers_sv={},hasRequiredNumbers_sv,hasRequiredLocale_sv,hasRequiredL10n;function requireNumbers_sv(){return hasRequiredNumbers_sv||(hasRequiredNumbers_sv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBERS=void 0;const t=requireMessages();function r(t){let r=t%1e3,n="";const i=Math.floor(r/100);return n+=e.NUMBERS.ones[i]?(1===i?"":e.NUMBERS.ones[i]+e.NUMBERS.numSep)+"hundra":"",r%=100,r&&(n+=n?e.NUMBERS.numSep:"",n+=e.NUMBERS.ones[r]||e.NUMBERS.tens[Math.floor(r/10)]+(r%10?e.NUMBERS.numSep+e.NUMBERS.ones[r%10]:"")),n}function n(t,n=!1){if(0===t)return e.NUMBERS.zero;if(t>=Math.pow(10,36))return t.toString();let i=0,o="";for(;t>0;){const a=t%1e3;if(a){const s=e.NUMBERS.large[i],l=a>1&&i>1&&!n?"er":"";o=(1===i&&1===a?"":(i>1&&1===a?"en":r(t%1e3))+(i>1?" ":""))+(i?s+l+(i>1?" ":""):"")+o}t=Math.floor(t/1e3),i++}return o.replace(/ $/,"")}function i(e){let t=n(e,!0);return t.match(/^noll$/)?t="nollte":t.match(/ett$/)?t=t.replace(/ett$/,"frsta"):t.match(/tv$/)?t=t.replace(/tv$/,"andra"):t.match(/tre$/)?t=t.replace(/tre$/,"tredje"):t.match(/fyra$/)?t=t.replace(/fyra$/,"fjrde"):t.match(/fem$/)?t=t.replace(/fem$/,"femte"):t.match(/sex$/)?t=t.replace(/sex$/,"sjtte"):t.match(/sju$/)?t=t.replace(/sju$/,"sjunde"):t.match(/tta$/)?t=t.replace(/tta$/,"ttonde"):t.match(/nio$/)?t=t.replace(/nio$/,"nionde"):t.match(/tio$/)?t=t.replace(/tio$/,"tionde"):t.match(/elva$/)?t=t.replace(/elva$/,"elfte"):t.match(/tolv$/)?t=t.replace(/tolv$/,"tolfte"):t.match(/tusen$/)?t=t.replace(/tusen$/,"tusonde"):t.match(/jard$/)||t.match(/jon$/)?t+="te":t+="de",t}e.NUMBERS=(0,t.NUMBERS)({wordOrdinal:i,numericOrdinal:function(e){const t=e.toString();return t.match(/11$|12$/)?t+":e":t+(t.match(/1$|2$/)?":a":":e")},numberToWords:n,numberToOrdinal:function(e,t){if(1===e)return"hel";if(2===e)return t?"halva":"halv";let r=i(e);return r=r.match(/de$/)?r.replace(/de$/,""):r,r+(t?"delar":"del")}})}(numbers_sv)),numbers_sv}function requireLocale_sv(){if(hasRequiredLocale_sv)return locale_sv;hasRequiredLocale_sv=1,Object.defineProperty(locale_sv,"__esModule",{value:!0}),locale_sv.sv=function(){i||(i=function(){const i=(0,e.createLocale)();return i.NUMBERS=r.NUMBERS,i.FUNCTIONS.radicalNestDepth=t.nestingToString,i.FUNCTIONS.fontRegexp=function(e){return new RegExp("((^"+e+" )|( "+e+"$))")},i.ALPHABETS.combiner=n.Combiners.prefixCombiner,i.ALPHABETS.digitTrans.default=r.NUMBERS.numberToWords,i.CORRECTIONS.correctOne=e=>e.replace(/^ett$/,"en"),i}());return i};const e=requireLocale(),t=requireLocale_util(),r=requireNumbers_sv(),n=requireTransformers();let i=null;return locale_sv}function requireL10n(){return hasRequiredL10n||(hasRequiredL10n=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.locales=void 0,e.setLocale=function(){const i=function(){const n=r.Variables.ensureLocale(t.Engine.getInstance().locale,t.Engine.getInstance().defaultLocale);return t.Engine.getInstance().locale=n,e.locales[n]()}();if(function(e){const r=t.Engine.getInstance().subiso;-1===e.SUBISO.all.indexOf(r)&&(t.Engine.getInstance().subiso=e.SUBISO.default);e.SUBISO.current=t.Engine.getInstance().subiso}(i),i){for(const e of Object.getOwnPropertyNames(i))v.LOCALE[e]=i[e];for(const[e,t]of Object.entries(i.CORRECTIONS))n.Grammar.getInstance().setCorrection(e,t)}},e.completeLocale=function(t){const r=e.locales[t.locale];if(!r)return;const n=t.kind.toUpperCase(),i=t.messages;if(!i)return;const o=r();for(const[e,a]of Object.entries(i))o[n][e]=a};const t=requireEngine(),r=requireVariables(),n=requireGrammar(),i=requireLocale_af(),o=requireLocale_ca(),a=requireLocale_da(),s=requireLocale_de(),l=requireLocale_en(),c=requireLocale_es(),u=requireLocale_euro(),d=requireLocale_fr(),h=requireLocale_hi(),p=requireLocale_ko(),f=requireLocale_it(),m=requireLocale_nb(),g=requireLocale_nemeth(),y=requireLocale_nn(),b=requireLocale_sv(),v=requireLocale();e.locales={af:i.af,ca:o.ca,da:a.da,de:s.de,en:l.en,es:c.es,euro:u.euro,fr:d.fr,hi:h.hi,it:f.it,ko:p.ko,nb:m.nb,nn:y.nn,sv:b.sv,nemeth:g.nemeth}}(l10n)),l10n}var math_map={},browser_util={},hasRequiredBrowser_util;function requireBrowser_util(){if(hasRequiredBrowser_util)return browser_util;hasRequiredBrowser_util=1,Object.defineProperty(browser_util,"__esModule",{value:!0}),browser_util.mapsForIE=void 0,browser_util.detectIE=function(){if("undefined"==typeof window||!("ActiveXObject"in window)||!("clipboardData"in window))return!1;return function(){i(e.SystemExternal.mathmapsIePath)}(),r(),!0},browser_util.detectEdge=function(){var e;if("undefined"==typeof window||!("MSGestureEvent"in window)||null!==(null===(e=window.chrome)||void 0===e?void 0:e.loadTimes))return!1;return document.evaluate=null,r(!0),!0};const e=requireSystem_external(),t=requireXpath_util();function r(t){i(e.SystemExternal.WGXpath),n(t)}function n(r,i){let o=i||1;"undefined"==typeof wgxpath&&o<10?setTimeout(function(){n(r,o++)},200):o>=10||(e.SystemExternal.wgxpath=wgxpath,r?e.SystemExternal.wgxpath.install({document:document}):e.SystemExternal.wgxpath.install(),t.xpath.evaluate=document.evaluate,t.xpath.result=XPathResult,t.xpath.createNSResolver=document.createNSResolver)}function i(t){const r=e.SystemExternal.document.createElement("script");r.type="text/javascript",r.src=t,e.SystemExternal.document.head?e.SystemExternal.document.head.appendChild(r):e.SystemExternal.document.body.appendChild(r)}return browser_util.mapsForIE=null,browser_util}var file_util={},hasRequiredFile_util;function requireFile_util(){if(hasRequiredFile_util)return file_util;hasRequiredFile_util=1,Object.defineProperty(file_util,"__esModule",{value:!0}),file_util.makePath=t,file_util.localePath=function(r,n="json"){return t(e.SystemExternal.jsonPath)+r+(n.match(/^\./)?n:"."+n)};const e=requireSystem_external();function t(e){return e.match("/$")?e:e+"/"}return file_util}var math_compound_store={},semantic_attr={},hasRequiredSemantic_attr;function requireSemantic_attr(){return hasRequiredSemantic_attr||(hasRequiredSemantic_attr=1,function(e){var t=semantic_attr&&semantic_attr.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticMap=e.NamedSymbol=void 0,e.addFunctionSemantic=function(t,n){const i=e.SemanticMap.Meaning.get(t)||{type:r.SemanticType.FUNCTION,role:r.SemanticRole.PREFIXFUNC};a(n,i)},e.equal=function(e,t){return e.type===t.type&&e.role===t.role&&e.font===t.font},e.isMatchingFence=function(t,n){const i=e.SemanticMap.Meaning.get(t);if(i.type!==r.SemanticType.FENCE)return!1;if(i.role===r.SemanticRole.NEUTRAL||i.role===r.SemanticRole.METRIC)return t===n;return e.SemanticMap.FencesHoriz.get(t)===n||e.SemanticMap.FencesVert.get(t)===n};const r=requireSemantic_meaning(),n=requireAlphabet();e.NamedSymbol={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class i extends Map{get(e){return super.get(e)||{role:r.SemanticRole.UNKNOWN,type:r.SemanticType.UNKNOWN,font:r.SemanticFont.UNKNOWN}}}class o extends Map{set(e,t,r=""){return super.set(this.secKey(t,e),r||t),this}has(e,t){return super.has(this.secKey(t,e))}get(e,t){return super.get(this.secKey(t,e))}secKey(e,t){return t?`${e} ${t}`:`${e}`}}function a(t,n){for(const i of t)e.SemanticMap.Meaning.set(i,{role:n.role||r.SemanticRole.UNKNOWN,type:n.type||r.SemanticType.UNKNOWN,font:n.font||r.SemanticFont.UNKNOWN}),n.secondary&&e.SemanticMap.Secondary.set(i,n.secondary)}function s(e,t,r=1){const i={},o=n.makeCodeInterval(t);for(const n of o)i[n]||(e.set(String.fromCodePoint(n),String.fromCodePoint(n+r)),i[n]=!0,i[n+r]=!0)}e.SemanticMap={Meaning:new i,Secondary:new o,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};const l=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function c(t,r,i,o,a,s=[],l={},c={}){const u=n.INTERVALS.get(n.alphabetName(t,o));u&&(u.unicode.forEach(t=>{e.SemanticMap.Meaning.set(t,{type:r,role:i,font:a}),s.forEach(r=>e.SemanticMap.Secondary.set(t,r))}),function(t,r){for(const[n,i]of Object.entries(r)){const r=t[n];void 0!==r&&e.SemanticMap.Meaning.set(r,i)}}(u.unicode,l),function(t,r){for(const[n,i]of Object.entries(r)){const r=t[n];void 0!==r&&e.SemanticMap.Secondary.set(r,i)}}(u.unicode,c))}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.QUESTION},{set:["21","fe15","fe57","ff01"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.COLON},{set:["2c","2063","fe50","ff0c"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.ELLIPSIS},{set:["2e","fe52","ff0e"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.DASH,secondary:r.SemanticSecondary.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.DASH,secondary:r.SemanticSecondary.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.TILDE,secondary:r.SemanticSecondary.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.PRIME},{set:["b0"],type:r.SemanticType.PUNCTUATION,role:r.SemanticRole.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXOP},{set:["1d7ca","1d7cb"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXOP,font:r.SemanticFont.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:r.SemanticType.RELATION,role:r.SemanticRole.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:r.SemanticType.RELATION,role:r.SemanticRole.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:r.SemanticType.RELATION,role:r.SemanticRole.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:r.SemanticType.RELATION,role:r.SemanticRole.UNKNOWN},{set:["2205",["29b0","29b4"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:r.SemanticType.RELATION,role:r.SemanticRole.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:r.SemanticType.RELATION,role:r.SemanticRole.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.ELEMENT},{set:["2209"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:r.SemanticType.OPERATOR,role:r.SemanticRole.REELEMENT},{set:["220c"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:r.SemanticType.LARGEOP,role:r.SemanticRole.SUM},{set:["2140"],type:r.SemanticType.LARGEOP,role:r.SemanticRole.SUM,font:r.SemanticFont.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:r.SemanticType.LARGEOP,role:r.SemanticRole.INTEGRAL},{set:[["2500","257F"]],type:r.SemanticType.RELATION,role:r.SemanticRole.BOX},{set:[["2580","259F"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:r.SemanticType.RELATION,role:r.SemanticRole.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:r.SemanticType.OPERATOR,role:r.SemanticRole.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:r.SemanticType.OPERATOR,role:r.SemanticRole.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:r.SemanticType.OPERATOR,role:r.SemanticRole.UNKNOWN},{set:[["2145","2149"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LATINLETTER,font:r.SemanticFont.DOUBLESTRUCKITALIC,secondary:r.SemanticSecondary.ALLLETTERS},{set:[["213c","213f"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.GREEKLETTER,font:r.SemanticFont.DOUBLESTRUCK,secondary:r.SemanticSecondary.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.GREEKLETTER,font:r.SemanticFont.NORMAL,secondary:r.SemanticSecondary.ALLLETTERS},{set:[["2135","2138"]],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.OTHERLETTER,font:r.SemanticFont.NORMAL,secondary:r.SemanticSecondary.ALLLETTERS},{set:["131","237"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LATINLETTER,font:r.SemanticFont.NORMAL},{set:["1d6a4","1d6a5"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LATINLETTER,font:r.SemanticFont.ITALIC},{set:["2113","2118"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LATINLETTER,font:r.SemanticFont.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.LATINLETTER,font:r.SemanticFont.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:r.SemanticType.NUMBER,role:r.SemanticRole.FLOAT},{set:["23E8",["3248","324f"]],type:r.SemanticType.NUMBER,role:r.SemanticRole.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:r.SemanticType.IDENTIFIER,role:r.SemanticRole.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:r.SemanticType.TEXT,role:r.SemanticRole.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:r.SemanticType.FENCE,role:r.SemanticRole.NEUTRAL},{set:["2016","2225","2980","2af4"],type:r.SemanticType.FENCE,role:r.SemanticRole.METRIC}].forEach(e=>{var{set:r}=e,i=t(e,["set"]);return a(n.makeMultiInterval(r),i)}),s(e.SemanticMap.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),s(e.SemanticMap.FencesHoriz,["28","2045",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),s(e.SemanticMap.FencesHoriz,["5b","7b","ff3b","ff5b"],2),s(e.SemanticMap.FencesHoriz,[["239b","23a6"]],3),s(e.SemanticMap.FencesHoriz,[["23a7","23a9"]],4),a([...e.SemanticMap.FencesHoriz.keys()],{type:r.SemanticType.FENCE,role:r.SemanticRole.OPEN}),a([...e.SemanticMap.FencesHoriz.values()],{type:r.SemanticType.FENCE,role:r.SemanticRole.CLOSE}),a([...e.SemanticMap.FencesVert.keys()],{type:r.SemanticType.FENCE,role:r.SemanticRole.TOP}),a([...e.SemanticMap.FencesVert.values()],{type:r.SemanticType.FENCE,role:r.SemanticRole.BOTTOM}),function(){for(const[e,t]of Object.entries(r.SemanticFont)){const i=!!n.Embellish[e]?r.SemanticFont.UNKNOWN:t===r.SemanticFont.FULLWIDTH?r.SemanticFont.NORMAL:t;c(n.Base.LATINCAP,r.SemanticType.IDENTIFIER,r.SemanticRole.LATINLETTER,t,i,[r.SemanticSecondary.ALLLETTERS]),c(n.Base.LATINSMALL,r.SemanticType.IDENTIFIER,r.SemanticRole.LATINLETTER,t,i,[r.SemanticSecondary.ALLLETTERS],{},{3:r.SemanticSecondary.D}),c(n.Base.GREEKCAP,r.SemanticType.IDENTIFIER,r.SemanticRole.GREEKLETTER,t,i,[r.SemanticSecondary.ALLLETTERS]),c(n.Base.GREEKSMALL,r.SemanticType.IDENTIFIER,r.SemanticRole.GREEKLETTER,t,i,[r.SemanticSecondary.ALLLETTERS],{0:{type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXOP,font:i},26:{type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXOP,font:i}}),c(n.Base.DIGIT,r.SemanticType.NUMBER,r.SemanticRole.INTEGER,t,i)}}(),a(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:r.SemanticType.FUNCTION,role:r.SemanticRole.LIMFUNC}),a(l,{type:r.SemanticType.FUNCTION,role:r.SemanticRole.PREFIXFUNC}),a(["mod","rem"],{type:r.SemanticType.OPERATOR,role:r.SemanticRole.PREFIXFUNC})}(semantic_attr)),semantic_attr}var math_simple_store={},hasRequiredMath_simple_store,hasRequiredMath_compound_store;function requireMath_simple_store(){if(hasRequiredMath_simple_store)return math_simple_store;hasRequiredMath_simple_store=1,Object.defineProperty(math_simple_store,"__esModule",{value:!0}),math_simple_store.MathSimpleStore=void 0;const e=requireEngine(),t=requireDynamic_cstr();class r{constructor(){this.rules=new Map}static parseUnicode(e){const t=parseInt(e,16);return String.fromCodePoint(t)}static testDynamicConstraints_(t,r){return e.Engine.getInstance().strict?r.cstr.equal(t):e.Engine.getInstance().comparator.match(r.cstr)}defineRulesFromMappings(e,t,r){for(const[n,i]of Object.entries(r))for(const[r,o]of Object.entries(i))this.defineRuleFromStrings(e,t,n,r,o)}getRules(e){let t=this.rules.get(e);return t||(t=[],this.rules.set(e,t)),t}defineRuleFromStrings(t,r,n,i,o){let a=this.getRules(t);const s=e.Engine.getInstance().parsers[n]||e.Engine.getInstance().defaultParser,l=e.Engine.getInstance().comparators[n],c=`${t}.${r}.${n}.${i}`,u=s.parse(c),d=l?l():e.Engine.getInstance().comparator,h=d.getReference();d.setReference(u);const p={cstr:u,action:o};a=a.filter(e=>!u.equal(e.cstr)),a.push(p),this.rules.set(t,a),d.setReference(h)}lookupRule(n,i){let o=this.getRules(i.getValue(t.Axis.LOCALE));return o=o.filter(function(e){return r.testDynamicConstraints_(i,e)}),1===o.length?o[0]:o.length?o.sort((t,r)=>e.Engine.getInstance().comparator.compare(t.cstr,r.cstr))[0]:null}}return math_simple_store.MathSimpleStore=r,math_simple_store}function requireMath_compound_store(){return hasRequiredMath_compound_store||(hasRequiredMath_compound_store=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.addCharacterRules=e.baseStores=e.subStores=void 0,e.changeLocale=l,e.setSiPrefixes=function(e){c=e},e.defineRules=h,e.defineRule=p,e.addSymbolRules=function(t){for(const r of t){if(l(r))continue;const t=i.MathSimpleStore.parseUnicode(r.key);"base"!==a?h(t,t,r.mappings):e.baseStores.set(t,r)}},e.addFunctionRules=function(t){for(const r of t)l(r)||((0,n.addFunctionSemantic)(r.key,r.names||[]),"base"!==a?(d(r),m(r)):e.baseStores.set(r.key,r))},e.addUnitRules=function(t){for(const r of t)l(r)||(r.key+=":unit","base"!==a?(d(r),r.names&&(r.names=r.names.map(function(e){return e+":unit"})),r.si&&g(r),m(r)):e.baseStores.set(r.key,r))},e.lookupRule=y,e.lookupCategory=function(t){const r=e.subStores.get(t);return(null==r?void 0:r.base)?r.base.category:""},e.lookupString=b,e.enumerate=function(t={}){for(const r of e.subStores.values())for(const[,e]of r.rules.entries())for(const{cstr:r}of e)t=v(r.getValues(),t);return t},e.reset=function(){a=o.DynamicCstr.DEFAULT_VALUES[o.Axis.LOCALE],s=o.DynamicCstr.DEFAULT_VALUES[o.Axis.MODALITY]};const t=requireEngine(),r=requireL10n(),n=requireSemantic_attr(),i=requireMath_simple_store(),o=requireDynamic_cstr();let a=o.DynamicCstr.DEFAULT_VALUES[o.Axis.LOCALE],s=o.DynamicCstr.DEFAULT_VALUES[o.Axis.MODALITY];function l(e){return!(!e.locale&&!e.modality)&&(a=e.locale||a,s=e.modality||s,!0)}let c={};function u(t,r){let n=e.subStores.get(r);return n||(n=new i.MathSimpleStore,n.base=e.baseStores.get(t),e.subStores.set(r,n),n)}function d(t){const r=e.baseStores.get(t.key);if(!r)return;const n=t.names;Object.assign(t,r),n&&r.names&&(t.names=t.names.concat(n))}function h(e,t,r){u(e,t).defineRulesFromMappings(a,s,r)}function p(e,t,r,n){u(r,r).defineRuleFromStrings(a,s,e,t,n)}function f(e){if(!l(e))for(const[t,r]of Object.entries(e))p("default","default",t,r)}e.subStores=new Map,e.baseStores=new Map;function m(e){for(let t,r=0;t=e.names[r];r++)h(e.key,t,e.mappings)}function g(e){for(const t of Object.keys(c)){const n=Object.assign({},e);n.mappings={};const i=c[t];n.names=n.names.map(function(e){return t+e});for(const t of Object.keys(e.mappings)){n.mappings[t]={};for(const o of Object.keys(e.mappings[t]))n.mappings[t][o]=r.locales[a]().FUNCTIONS.si(i,e.mappings[t][o])}m(n)}}function y(t,r){const n=e.subStores.get(t);return n?n.lookupRule(null,r):null}function b(e,t){const r=y(e,t);return r?r.action:null}function v(e,t){return t=t||{},e.length?(t[e[0]]=v(e.slice(1),t[e[0]]),t):t}e.addCharacterRules=e=>e.forEach(f),t.Engine.getInstance().evaluator=b}(math_compound_store)),math_compound_store}var speech_rule_engine={},auditory_description={},span={},hasRequiredSpan,hasRequiredAuditory_description;function requireSpan(){if(hasRequiredSpan)return span;hasRequiredSpan=1,Object.defineProperty(span,"__esModule",{value:!0}),span.Span=void 0;class e{constructor(e,t){this.speech=e,this.attributes=t}static empty(){return new e("",{})}static stringEmpty(t){return new e(t,{})}static stringAttr(t,r){return new e(t,r)}static singleton(t,r={}){return[e.stringAttr(t,r)]}static node(t,r,n={}){const i=e.getAttributes(r);return Object.assign(i,n),new e(t,i)}static getAttributes(t){const r={};for(const n of e.attributeList)t.hasAttribute(n)&&(r[n]=t.getAttribute(n));return r}}return span.Span=e,e.attributeList=["id","extid"],span}function requireAuditory_description(){if(hasRequiredAuditory_description)return auditory_description;hasRequiredAuditory_description=1,Object.defineProperty(auditory_description,"__esModule",{value:!0}),auditory_description.AuditoryDescription=auditory_description.AuditoryList=auditory_description.AuditoryItem=void 0;const e=requireGrammar(),t=requireSpan();class r{constructor(e=null){this.data=e,this.prev=null,this.next=null}}auditory_description.AuditoryItem=r;class n extends Set{constructor(e){super(),this.annotations=[],this.anchor=new r,this.anchor.next=this.anchor,this.anchor.prev=this.anchor,e.forEach(e=>{const t=new r(e);e.annotation&&this.annotations.push(t),this.push(t)})}first(){return this.empty?null:this.anchor.next}last(){return this.empty?null:this.anchor.prev}push(e){e.next=this.anchor,e.prev=this.anchor.prev,e.prev.next=e,this.anchor.prev=e,super.add(e)}pop(){const e=this.last();return e?(this.delete(e),e):null}delete(e){return!!this.has(e)&&(super.delete(e),e.prev.next=e.next,e.next=e.prev,!0)}insertAfter(e,t){this.insertBefore(e,t.next)}insertBefore(e,t){const n=new r(e);t&&this.has(t)?(t.prev.next=n,n.prev=t.prev,n.next=t,t.prev=n):this.push(n)}prevText(e){do{e=e.prev}while(e!==this.anchor&&!e.data.text);return e===this.anchor?null:e}*[Symbol.iterator](){let e=this.anchor.next;for(;e!==this.anchor;)yield e,e=e.next}nextText(e){for(;e!==this.anchor&&!e.data.text;)e=e.next;return e}clear(){this.anchor.next=this.anchor,this.anchor.prev=this.anchor,super.clear()}empty(){return this.anchor.prev===this.anchor&&this.anchor===this.anchor.next}toList(){const e=[];let t=this.anchor.next;for(;t!==this.anchor;)e.push(t.data),t=t.next;return e}}auditory_description.AuditoryList=n;class i{static create(t,r={}){return t.text=e.Grammar.getInstance().apply(t.text,r),new i(t)}constructor({context:e,text:t,userValue:r,annotation:n,attributes:i,personality:o,layout:a}){this.context=e||"",this.text=t||"",this.userValue=r||"",this.annotation=n||"",this.attributes=i||{},this.personality=o||{},this.layout=a||""}isEmpty(){return 0===this.context.length&&0===this.text.length&&0===this.userValue.length&&0===this.annotation.length}clone(){let e,t;if(this.personality){e={};for(const[t,r]of Object.entries(this.personality))e[t]=r}if(this.attributes){t={};for(const[e,r]of Object.entries(this.attributes))t[e]=r}return new i({context:this.context,text:this.text,userValue:this.userValue,annotation:this.annotation,personality:e,attributes:t,layout:this.layout})}toString(){return'AuditoryDescription(context="'+this.context+'"  text="'+this.text+'"  userValue="'+this.userValue+'"  annotation="'+this.annotation+'")'}descriptionString(){return this.context&&this.text?this.context+" "+this.text:this.context||this.text}descriptionSpan(){return t.Span.stringAttr(this.descriptionString(),this.attributes)}equals(e){return this.context===e.context&&this.text===e.text&&this.userValue===e.userValue&&this.annotation===e.annotation}}return auditory_description.AuditoryDescription=i,auditory_description}var speech_rules={},hasRequiredSpeech_rules;function requireSpeech_rules(){if(hasRequiredSpeech_rules)return speech_rules;hasRequiredSpeech_rules=1,Object.defineProperty(speech_rules,"__esModule",{value:!0}),speech_rules.addStore=function(e,r,n){const i={};if(r){const e=t.get(r)||{};Object.assign(i,e)}t.set(e,Object.assign(i,n))},speech_rules.getStore=function(r,n,i){return t.get([r,n,i].join("."))||t.get([e.DynamicCstr.DEFAULT_VALUES[e.Axis.LOCALE],n,i].join("."))||t.get([e.DynamicCstr.BASE_LOCALE,n,i].join("."))||{}};const e=requireDynamic_cstr(),t=new Map;return speech_rules}var speech_rule_stores={},clearspeak_rules={},store_util={},hasRequiredStore_util;function requireStore_util(){if(hasRequiredStore_util)return store_util;hasRequiredStore_util=1,Object.defineProperty(store_util,"__esModule",{value:!0}),store_util.nodeCounter=function(e,t){const r=e.length;let n=0,i=t;t||(i="");return function(){return n<r&&(n+=1),i+" "+n}},store_util.pauseSeparator=function(t,r){const n=parseFloat(r),i=isNaN(n)?r:n;return function(){return[e.AuditoryDescription.create({text:"",personality:{pause:i}})]}},store_util.contentIterator=function(n,i){let o;o=n.length>0?t.evalXPath("../../content/*",n[0]):[];return function(){const t=o.shift(),n=i?[e.AuditoryDescription.create({text:i},{translate:!0})]:[];if(!t)return n;const a=r.Engine.evaluateNode(t);return n.concat(a)}};const e=requireAuditory_description(),t=requireXpath_util(),r=requireEngine();return store_util}var clearspeak_util={},semantic_annotations={},semantic_annotator={},hasRequiredSemantic_annotator,hasRequiredSemantic_annotations,hasRequiredClearspeak_util;function requireSemantic_annotator(){if(hasRequiredSemantic_annotator)return semantic_annotator;hasRequiredSemantic_annotator=1,Object.defineProperty(semantic_annotator,"__esModule",{value:!0}),semantic_annotator.SemanticVisitor=semantic_annotator.SemanticAnnotator=void 0;semantic_annotator.SemanticAnnotator=class{constructor(e,t,r){this.domain=e,this.name=t,this.func=r,this.active=!1}annotate(e){e.childNodes.forEach(this.annotate.bind(this)),e.contentNodes.forEach(this.annotate.bind(this)),e.addAnnotation(this.domain,this.func(e))}};return semantic_annotator.SemanticVisitor=class{constructor(e,t,r,n={}){this.domain=e,this.name=t,this.func=r,this.def=n,this.active=!1}visit(e,t){let r=this.func(e,t);e.addAnnotation(this.domain,r[0]);for(let n,i=0;n=e.childNodes[i];i++)r=this.visit(n,r[1]);for(let n,i=0;n=e.contentNodes[i];i++)r=this.visit(n,r[1]);return r}},semantic_annotator}function requireSemantic_annotations(){return hasRequiredSemantic_annotations||(hasRequiredSemantic_annotations=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.visitors=e.annotators=void 0,e.register=function(r){const n=r.domain+":"+r.name;r instanceof t.SemanticAnnotator?e.annotators.set(n,r):e.visitors.set(n,r)},e.activate=function(t,r){const n=t+":"+r,i=e.annotators.get(n)||e.visitors.get(n);i&&(i.active=!0)},e.deactivate=function(t,r){const n=t+":"+r,i=e.annotators.get(n)||e.visitors.get(n);i&&(i.active=!1)},e.annotate=function(t){for(const r of e.annotators.values())r.active&&r.annotate(t);for(const r of e.visitors.values())r.active&&r.visit(t,Object.assign({},r.def))};const t=requireSemantic_annotator();e.annotators=new Map,e.visitors=new Map}(semantic_annotations)),semantic_annotations}function requireClearspeak_util(){if(hasRequiredClearspeak_util)return clearspeak_util;hasRequiredClearspeak_util=1,Object.defineProperty(clearspeak_util,"__esModule",{value:!0}),clearspeak_util.nodeCounter=function(e,t){const r=t.split("-"),n=s.nodeCounter(e,r[0]||""),i=r[1]||"",o=r[2]||"";let a=!0;return function(){const e=n();return a?(a=!1,o+e+i):e+i}},clearspeak_util.allCellsSimple=function(e){const t=e.tagName===d.SemanticType.MATRIX?"children/row/children/cell/children/*":"children/line/children/*",r=n.evalXPath(t,e);return r.every(b)?[e]:[]},clearspeak_util.isSmallVulgarFraction=function(e){return(0,o.vulgarFractionSmall)(e,20,11)?[e]:[]},clearspeak_util.ordinalExponent=function(t){const r=parseInt(t.textContent,10);return[e.Span.stringEmpty(isNaN(r)?t.textContent:r>10?i.LOCALE.NUMBERS.numericOrdinal(r):i.LOCALE.NUMBERS.wordOrdinal(r))]},clearspeak_util.nestingDepth=function(t){let r=0;const n=t.textContent,o="open"===t.getAttribute("role")?0:1;let a=t.parentNode;for(;a;)a.tagName===d.SemanticType.FENCED&&a.childNodes[0].childNodes[o].textContent===n&&r++,a=a.parentNode;return $=r>1?i.LOCALE.NUMBERS.wordOrdinal(r):"",[e.Span.stringEmpty($)]},clearspeak_util.matchingFences=function(e){const t=e.previousSibling;let r,n;t?(r=t,n=e):(r=e,n=e.nextSibling);if(!n)return[];return(0,u.isMatchingFence)(r.textContent,n.textContent)?[e]:[]},clearspeak_util.fencedArguments=function(e){const r=t.toArray(e.parentNode.childNodes),i=n.evalXPath("../../children/*",e),o=r.indexOf(e);return E(i[o])||E(i[o+1])?[e]:[]},clearspeak_util.simpleArguments=function(e){const r=t.toArray(e.parentNode.childNodes),i=n.evalXPath("../../children/*",e),o=r.indexOf(e);return S(i[o])&&i[o+1]&&(S(i[o+1])||i[o+1].tagName===d.SemanticType.ROOT||i[o+1].tagName===d.SemanticType.SQRT||i[o+1].tagName===d.SemanticType.SUPERSCRIPT&&i[o+1].childNodes[0].childNodes[0]&&(i[o+1].childNodes[0].childNodes[0].tagName===d.SemanticType.NUMBER||i[o+1].childNodes[0].childNodes[0].tagName===d.SemanticType.IDENTIFIER)&&("2"===i[o+1].childNodes[0].childNodes[1].textContent||"3"===i[o+1].childNodes[0].childNodes[1].textContent))?[e]:[]},clearspeak_util.wordOrdinal=function(t){return[e.Span.stringEmpty(i.LOCALE.NUMBERS.wordOrdinal(parseInt(t.textContent,10)))]};const e=requireSpan(),t=requireDom_util(),r=requireEngine(),n=requireXpath_util(),i=requireLocale(),o=requireTransformers(),a=requireGrammar(),s=requireStore_util(),l=requireSemantic_annotations(),c=requireSemantic_annotator(),u=requireSemantic_attr(),d=requireSemantic_meaning();function h(e){return g(e)||function(e){return f(e)||e.type===d.SemanticType.INFIXOP&&e.role===d.SemanticRole.IMPLICIT&&(2===e.childNodes.length&&(f(e.childNodes[0])||g(e.childNodes[0]))&&f(e.childNodes[1])||3===e.childNodes.length&&g(e.childNodes[0])&&f(e.childNodes[1])&&f(e.childNodes[2]))}(e)||function(e){return e.type===d.SemanticType.PUNCTUATED&&e.role===d.SemanticRole.ENDPUNCT&&2===e.childNodes.length&&e.childNodes[1].role===d.SemanticRole.DEGREE&&(f(e.childNodes[0])||m(e.childNodes[0])||e.childNodes[0].type===d.SemanticType.PREFIXOP&&e.childNodes[0].role===d.SemanticRole.NEGATIVE&&(f(e.childNodes[0].childNodes[0])||m(e.childNodes[0].childNodes[0])))}(e)||function(e){return e.type===d.SemanticType.PREFIXOP&&e.role===d.SemanticRole.NEGATIVE&&p(e.childNodes[0])&&e.childNodes[0].type!==d.SemanticType.PREFIXOP&&e.childNodes[0].type!==d.SemanticType.APPL&&e.childNodes[0].type!==d.SemanticType.PUNCTUATED}(e)||function(e){return e.type===d.SemanticType.APPL&&(e.childNodes[0].role===d.SemanticRole.PREFIXFUNC||e.childNodes[0].role===d.SemanticRole.SIMPLEFUNC)&&(p(e.childNodes[1])||e.childNodes[1].type===d.SemanticType.FENCED&&p(e.childNodes[1].childNodes[0]))}(e)}function p(e){return e.hasAnnotation("clearspeak","simple")}function f(e){return e.type===d.SemanticType.IDENTIFIER&&(e.role===d.SemanticRole.LATINLETTER||e.role===d.SemanticRole.GREEKLETTER||e.role===d.SemanticRole.OTHERLETTER||e.role===d.SemanticRole.SIMPLEFUNC)}function m(e){return e.type===d.SemanticType.NUMBER&&(e.role===d.SemanticRole.INTEGER||e.role===d.SemanticRole.FLOAT)}function g(e){return m(e)||function(e){if(y("Fraction_Over")||y("Fraction_FracOver"))return!1;if(e.type!==d.SemanticType.FRACTION||e.role!==d.SemanticRole.VULGAR)return!1;if(y("Fraction_Ordinal"))return!0;const t=parseInt(e.childNodes[0].textContent,10),r=parseInt(e.childNodes[1].textContent,10);return t>0&&t<20&&r>0&&r<11}(e)}function y(e){return r.Engine.getInstance().style===e}function b(e){if(function(e){if(!e.hasAttribute("annotation"))return!1;const t=e.getAttribute("annotation");return!!/clearspeak:simple$|clearspeak:simple;/.exec(t)}(e))return!0;if(e.tagName!==d.SemanticType.SUBSCRIPT)return!1;const t=e.childNodes[0].childNodes,r=t[1];return t[0].tagName===d.SemanticType.IDENTIFIER&&(v(r)||r.tagName===d.SemanticType.INFIXOP&&r.hasAttribute("role")&&r.getAttribute("role")===d.SemanticRole.IMPLICIT&&function(e){const t=n.evalXPath("children/*",e);return t.every(e=>v(e)||e.tagName===d.SemanticType.IDENTIFIER)}(r))}function v(e){return e.tagName===d.SemanticType.NUMBER&&e.hasAttribute("role")&&e.getAttribute("role")===d.SemanticRole.INTEGER}function x(e){return e.type===d.SemanticType.TEXT&&e.role!==d.SemanticRole.LABEL||e.type===d.SemanticType.PUNCTUATED&&e.role===d.SemanticRole.TEXT&&m(e.childNodes[0])&&function(e){for(let t=0;t<e.length-1;t++)if(e[t].type!==d.SemanticType.TEXT||""!==e[t].textContent)return!1;return e[e.length-1].type===d.SemanticType.TEXT}(e.childNodes.slice(1))||e.type===d.SemanticType.IDENTIFIER&&e.role===d.SemanticRole.UNIT||e.type===d.SemanticType.INFIXOP&&(e.role===d.SemanticRole.IMPLICIT||e.role===d.SemanticRole.UNIT)}(0,l.register)(new c.SemanticAnnotator("clearspeak","simple",function(e){return h(e)?"simple":""})),(0,l.register)(new c.SemanticAnnotator("clearspeak","unit",function(e){return x(e)?"unit":""}));let $=null;function S(e){return!!e&&(e.tagName===d.SemanticType.NUMBER||e.tagName===d.SemanticType.IDENTIFIER||e.tagName===d.SemanticType.FUNCTION||e.tagName===d.SemanticType.APPL||e.tagName===d.SemanticType.FRACTION)}function E(e){return e&&(e.tagName===d.SemanticType.FENCED||e.hasAttribute("role")&&e.getAttribute("role")===d.SemanticRole.LEFTRIGHT||function(e){return!!e&&(e.tagName===d.SemanticType.MATRIX||e.tagName===d.SemanticType.VECTOR)}(e))}return a.Grammar.getInstance().setCorrection("insertNesting",function(e,t){if(!t||!e)return e;const r=e.match(/^(open|close) /);return r?r[0]+t+" "+e.substring(r[0].length):t+" "+e}),clearspeak_util}var mathspeak_util={},base_util={},hasRequiredBase_util;function requireBase_util(){if(hasRequiredBase_util)return base_util;return hasRequiredBase_util=1,Object.defineProperty(base_util,"__esModule",{value:!0}),base_util.removeEmpty=function(e){return e.filter(e=>e)},base_util.interleaveLists=function(e,t){const r=[];for(;e.length||t.length;)e.length&&r.push(e.shift()),t.length&&r.push(t.shift());return r},base_util.setdifference=function(e,t){if(!e)return[];if(!t)return e;return e.filter(e=>t.indexOf(e)<0)},base_util}var semantic_processor={},semantic_heuristic_factory={},hasRequiredSemantic_heuristic_factory;function requireSemantic_heuristic_factory(){return hasRequiredSemantic_heuristic_factory||(hasRequiredSemantic_heuristic_factory=1,e=semantic_heuristic_factory,Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticHeuristics=void 0,e.SemanticHeuristics={factory:null,updateFactory:function(t){e.SemanticHeuristics.factory=t},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(t){const r=t.name;e.SemanticHeuristics.heuristics.set(r,t),e.SemanticHeuristics.flags[r]||(e.SemanticHeuristics.flags[r]=!1)},run:function(t,r,n){const i=e.SemanticHeuristics.heuristics.get(t);return i&&!e.SemanticHeuristics.blacklist[t]&&(e.SemanticHeuristics.flags[t]||i.applicable(r))?i.apply(r):n?n(r):r}}),semantic_heuristic_factory;var e}var semantic_node_factory={},semantic_default={},semantic_ordering={},hasRequiredSemantic_ordering,hasRequiredSemantic_default;function requireSemantic_ordering(){if(hasRequiredSemantic_ordering)return semantic_ordering;hasRequiredSemantic_ordering=1,Object.defineProperty(semantic_ordering,"__esModule",{value:!0}),semantic_ordering.reduce=function(e){if(e.length<=1)return e;const t=e.slice();!function(e){e.sort(r)}(t);const n=[];let i;do{i=t.pop(),n.push(i)}while(i&&t.length&&0===r(t[t.length-1],i));return n};const e=requireSemantic_meaning(),t=[];function r(e,r){for(let n,i=0;n=t[i];i++){const t=n.compare(e,r);if(0!==t)return t}return 0}return new class{constructor(e,r=null){this.comparator=e,this.type=r,function(e){t.push(e)}(this)}compare(e,t){return this.type&&this.type===e.type&&this.type===t.type?this.comparator(e,t):0}}(function(t,r){return t.role===e.SemanticRole.SIMPLEFUNC?1:r.role===e.SemanticRole.SIMPLEFUNC?-1:0},e.SemanticType.IDENTIFIER),semantic_ordering}function requireSemantic_default(){if(hasRequiredSemantic_default)return semantic_default;hasRequiredSemantic_default=1,Object.defineProperty(semantic_default,"__esModule",{value:!0}),semantic_default.SemanticMeaningCollator=semantic_default.SemanticNodeCollator=semantic_default.SemanticDefault=void 0;const e=requireSemantic_attr(),t=requireSemantic_ordering();function r(e,t){return e.match(/^.+:.+$/)||!t?e:e+":"+t}class n extends Map{set(e,t){return super.set(r(e,t.font),t),this}setNode(e){this.set(e.textContent,e.meaning())}get(e,t=null){return super.get(r(e,t))}getNode(e){return this.get(e.textContent,e.font)}}semantic_default.SemanticDefault=n;class i extends Map{add(e,t){const r=this.get(e);r?r.push(t):super.set(e,[t])}get(e,t=null){return super.get(r(e,t))}getNode(e){return this.get(e.textContent,e.font)}minimize(){for(const[e,t]of this)1===t.length&&this.delete(e)}isMultiValued(){for(const e of this.values())if(e.length>1)return!0;return!1}}semantic_default.SemanticNodeCollator=class extends i{add(e,t){super.add(r(e,t.font),t)}addNode(e){this.add(e.textContent,e)}toString(){const e=[];for(const[t,r]of this){const n=Array(t.length+3).join(" "),i=r.map(e=>e.toString()).join("\n"+n);e.push(t+": "+i)}return e.join("\n")}collateMeaning(){const e=new o;for(const[t,r]of this)e.set(t,r.map(e=>e.meaning()));return e}};class o extends i{add(t,n){const i=this.get(t,n.font);i&&i.find(function(t){return e.equal(t,n)})||super.add(r(t,n.font),n)}addNode(e){this.add(e.textContent,e.meaning())}toString(){const e=[];for(const[t,r]of this){const n=Array(t.length+3).join(" "),i=r.map(e=>`{type: ${e.type}, role: ${e.role}, font: ${e.font}}`).join("\n"+n);e.push(t+": "+i)}return e.join("\n")}reduce(){for(const[e,r]of this)1!==r.length&&this.set(e,(0,t.reduce)(r))}default(){const e=new n;for(const[t,r]of this)1===r.length&&e.set(t,r[0]);return e}newDefault(){const e=this.default();this.reduce();const t=this.default();return e.size!==t.size?t:null}}return semantic_default.SemanticMeaningCollator=o,semantic_default}var semantic_node={},semantic_util={},hasRequiredSemantic_util,hasRequiredSemantic_node,hasRequiredSemantic_node_factory;function requireSemantic_util(){if(hasRequiredSemantic_util)return semantic_util;hasRequiredSemantic_util=1,Object.defineProperty(semantic_util,"__esModule",{value:!0}),semantic_util.MMLTAGS=void 0,semantic_util.hasMathTag=function(r){return!!r&&e.tagName(r)===t.MATH},semantic_util.hasIgnoreTag=function(t){return!!t&&(o.includes(e.tagName(t))||!n.includes(e.tagName(t)))},semantic_util.hasEmptyTag=function(t){return!!t&&a.includes(e.tagName(t))},semantic_util.hasDisplayTag=function(t){return!!t&&s.includes(e.tagName(t))},semantic_util.isOrphanedGlyph=function(r){return!!r&&e.tagName(r)===t.MGLYPH&&!function(t){return!!t&&i.includes(e.tagName(t))}(r.parentNode)},semantic_util.purgeNodes=function(t){const r=[];for(let n,i=0;n=t[i];i++){if(n.nodeType!==e.NodeType.ELEMENT_NODE)continue;const t=e.tagName(n);o.includes(t)||(a.includes(t)&&0===n.childNodes.length||r.push(n))}return r},semantic_util.isZeroLength=function(e){if(!e)return!1;if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(e))return!0;const t=e.match(/[0-9.]+/);if(!t)return!1;return 0===parseFloat(t[0])},semantic_util.addAttributes=function(e,t){if(t.hasAttributes()){const r=t.attributes;for(let t=r.length-1;t>=0;t--){const n=r[t].name;n.match(/^ext/)&&(e.attributes[n]=r[t].value,e.nobreaking=!0),l.includes(n)&&(e.attributes["ext-speech"]=r[t].value,e.nobreaking=!0),n.match(/texclass$/)&&(e.attributes.texclass=r[t].value),"data-latex"===n.toLowerCase()&&(e.attributes.latex=r[t].value),"href"===n&&(e.attributes.href=r[t].value,e.nobreaking=!0)}}},semantic_util.getEmbellishedInner=function e(t){if(t&&t.embellished&&t.childNodes.length>0)return e(t.childNodes[0]);return t},semantic_util.sliceNodes=c,semantic_util.partitionNodes=function(e,t){let r=e;const n=[],i=[];let o=null;do{o=c(r,t),i.push(o.head),n.push(o.div),r=o.tail}while(o.div);return n.pop(),{rel:n,comp:i}};const e=requireDom_util();var t,r;(r=t||(semantic_util.MMLTAGS=t={})).ANNOTATION="ANNOTATION",r.ANNOTATIONXML="ANNOTATION-XML",r.MACTION="MACTION",r.MALIGNGROUP="MALIGNGROUP",r.MALIGNMARK="MALIGNMARK",r.MATH="MATH",r.MENCLOSE="MENCLOSE",r.MERROR="MERROR",r.MFENCED="MFENCED",r.MFRAC="MFRAC",r.MGLYPH="MGLYPH",r.MI="MI",r.MLABELEDTR="MLABELEDTR",r.MMULTISCRIPTS="MMULTISCRIPTS",r.MN="MN",r.MO="MO",r.MOVER="MOVER",r.MPADDED="MPADDED",r.MPHANTOM="MPHANTOM",r.MPRESCRIPTS="MPRESCRIPTS",r.MROOT="MROOT",r.MROW="MROW",r.MS="MS",r.MSPACE="MSPACE",r.MSQRT="MSQRT",r.MSTYLE="MSTYLE",r.MSUB="MSUB",r.MSUBSUP="MSUBSUP",r.MSUP="MSUP",r.MTABLE="MTABLE",r.MTD="MTD",r.MTEXT="MTEXT",r.MTR="MTR",r.MUNDER="MUNDER",r.MUNDEROVER="MUNDEROVER",r.NONE="NONE",r.SEMANTICS="SEMANTICS";const n=Object.values(t),i=[t.MO,t.MI,t.MN,t.MTEXT,t.MS,t.MSPACE],o=[t.MERROR,t.MPHANTOM,t.MALIGNGROUP,t.MALIGNMARK,t.MPRESCRIPTS,t.ANNOTATION,t.ANNOTATIONXML],a=[t.MATH,t.MROW,t.MPADDED,t.MACTION,t.NONE,t.MSTYLE,t.SEMANTICS],s=[t.MROOT,t.MSQRT],l=["aria-label","exact-speech","alt"];function c(e,t,r){r&&e.reverse();const n=[];for(let i,o=0;i=e[o];o++){if(t(i))return r?{head:e.slice(o+1).reverse(),div:i,tail:n.reverse()}:{head:n,div:i,tail:e.slice(o+1)};n.push(i)}return r?{head:[],div:null,tail:n.reverse()}:{head:n,div:null,tail:[]}}return semantic_util}function requireSemantic_node(){if(hasRequiredSemantic_node)return semantic_node;hasRequiredSemantic_node=1,Object.defineProperty(semantic_node,"__esModule",{value:!0}),semantic_node.SemanticNode=void 0;const e=requireDom_util(),t=requireSemantic_attr(),r=requireSemantic_meaning(),n=requireSemantic_util();class i{static fromXml(e){const t=parseInt(e.getAttribute("id"),10),r=new i(t);return r.type=e.tagName,i.setAttribute(r,e,"role"),i.setAttribute(r,e,"font"),i.setAttribute(r,e,"embellished"),i.setAttribute(r,e,"fencepointer","fencePointer"),e.getAttribute("annotation")&&r.parseAnnotation(e.getAttribute("annotation")),n.addAttributes(r,e),i.processChildren(r,e),r}static setAttribute(e,t,r,n){n=n||r;const i=t.getAttribute(r);i&&(e[n]=i)}static processChildren(t,r){for(const n of e.toArray(r.childNodes)){if(n.nodeType===e.NodeType.TEXT_NODE){t.textContent=n.textContent;continue}const r=e.toArray(n.childNodes).map(i.fromXml);r.forEach(e=>e.parent=t),"CONTENT"===e.tagName(n)?t.contentNodes=r:t.childNodes=r}}constructor(e){this.id=e,this.mathml=[],this.parent=null,this.type=r.SemanticType.UNKNOWN,this.role=r.SemanticRole.UNKNOWN,this.font=r.SemanticFont.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(e){let t=[];for(let r,n=0;r=this.childNodes[n];n++)t=t.concat(r.querySelectorAll(e));for(let r,n=0;r=this.contentNodes[n];n++)t=t.concat(r.querySelectorAll(e));return e(this)&&t.unshift(this),t}xml(e,t){const r=function(r,n){const i=n.map(function(r){return r.xml(e,t)}),o=e.createElementNS("",r);for(let e,t=0;e=i[t];t++)o.appendChild(e);return o},n=e.createElementNS("",this.type);return t||this.xmlAttributes(n),n.textContent=this.textContent,this.contentNodes.length>0&&n.appendChild(r("content",this.contentNodes)),this.childNodes.length>0&&n.appendChild(r("children",this.childNodes)),n}toString(t=!1){const r=e.parseInput("<snode/>");return e.serializeXml(this.xml(r.ownerDocument,t))}allAttributes(){const e=[];return e.push(["role",this.role]),this.font!==r.SemanticFont.UNKNOWN&&e.push(["font",this.font]),Object.keys(this.annotation).length&&e.push(["annotation",this.annotationXml()]),this.embellished&&e.push(["embellished",this.embellished]),this.fencePointer&&e.push(["fencepointer",this.fencePointer]),e.push(["id",this.id.toString()]),e}annotationXml(){const e=[];for(const[t,r]of Object.entries(this.annotation))r.forEach(r=>e.push(t+":"+r));return e.join(";")}attributesXml(){const e=[];for(const[t,r]of Object.entries(this.attributes))e.push(t+":"+i.escapeValue(r));return e.join(";")}toJson(){const e={};e.type=this.type;const t=this.allAttributes();for(let r,n=0;r=t[n];n++)e[r[0]]=r[1].toString();return this.textContent&&(e.$t=this.textContent),this.childNodes.length&&(e.children=this.childNodes.map(function(e){return e.toJson()})),this.contentNodes.length&&(e.content=this.contentNodes.map(function(e){return e.toJson()})),e}updateContent(e,r){const n=r?e.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):e.trim();if(e=e&&!n?e:n,this.textContent===e)return;const i=t.SemanticMap.Meaning.get(e.replace(/\s/g," "));this.textContent=e,this.role=i.role,this.type=i.type,this.font=i.font}addMathmlNodes(e){for(let t,r=0;t=e[r];r++)-1===this.mathml.indexOf(t)&&this.mathml.push(t)}appendChild(e){this.childNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this}replaceChild(e,t){const r=this.childNodes.indexOf(e);if(-1===r)return;e.parent=null,t.parent=this,this.childNodes[r]=t;const n=e.mathml.filter(function(e){return-1===t.mathml.indexOf(e)}),i=t.mathml.filter(function(t){return-1===e.mathml.indexOf(t)});this.removeMathmlNodes(n),this.addMathmlNodes(i)}appendContentNode(e){e&&(this.contentNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this)}removeContentNode(e){if(e){const t=this.contentNodes.indexOf(e);-1!==t&&this.contentNodes.slice(t,1)}}equals(e){if(!e)return!1;if(this.type!==e.type||this.role!==e.role||this.textContent!==e.textContent||this.childNodes.length!==e.childNodes.length||this.contentNodes.length!==e.contentNodes.length)return!1;for(let t,r,n=0;t=this.childNodes[n],r=e.childNodes[n];n++)if(!t.equals(r))return!1;for(let t,r,n=0;t=this.contentNodes[n],r=e.contentNodes[n];n++)if(!t.equals(r))return!1;return!0}displayTree(){}addAnnotation(e,t){t&&this.addAnnotation_(e,t)}getAnnotation(e){const t=this.annotation[e];return t||[]}hasAnnotation(e,t){const r=this.annotation[e];return!!r&&-1!==r.indexOf(t)}parseAnnotation(e){const t=e.split(";");for(let r=0,n=t.length;r<n;r++){const e=t[r].split(":");this.addAnnotation(e[0],e[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(e){const t=this.allAttributes();for(let r,n=0;r=t[n];n++)e.setAttribute(r[0],r[1]);this.addExternalAttributes(e)}addExternalAttributes(e){for(const[t,r]of Object.entries(this.attributes))e.setAttribute(t,r)}static escapeValue(e){return e.replace(/;/g,"\\0003B")}parseAttributes(e){if(!e)return;const t=e.split(";");for(let r=0,n=t.length;r<n;r++){const[e,...n]=t[r].split(":");e&&(this.attributes[e]=n.join("").replace(/\\0003B/g,";"))}}removeMathmlNodes(e){const t=this.mathml;for(let r,n=0;r=e[n];n++){const e=t.indexOf(r);-1!==e&&t.splice(e,1)}this.mathml=t}displayTree_(e){e++;const t=Array(e).join("  ");let r="";r+="\n"+t+this.toString(),r+="\n"+t+"MathmlTree:",r+="\n"+t+this.mathmlTreeString(),r+="\n"+t+"MathML:";for(let n,i=0;n=this.mathml[i];i++)r+="\n"+t+n.toString();return r+="\n"+t+"Begin Content",this.contentNodes.forEach(function(t){r+=t.displayTree_(e)}),r+="\n"+t+"End Content",r+="\n"+t+"Begin Children",this.childNodes.forEach(function(t){r+=t.displayTree_(e)}),r+="\n"+t+"End Children",r}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(e,t){const r=this.annotation[e];r&&!r.includes(t)?r.push(t):this.annotation[e]=[t]}}return semantic_node.SemanticNode=i,semantic_node}function requireSemantic_node_factory(){if(hasRequiredSemantic_node_factory)return semantic_node_factory;hasRequiredSemantic_node_factory=1,Object.defineProperty(semantic_node_factory,"__esModule",{value:!0}),semantic_node_factory.SemanticNodeFactory=void 0;const e=requireSemantic_meaning(),t=requireSemantic_default(),r=requireSemantic_default(),n=requireSemantic_node();return semantic_node_factory.SemanticNodeFactory=class{constructor(){this.leafMap=new r.SemanticNodeCollator,this.defaultMap=new t.SemanticDefault,this.idCounter_=-1}makeNode(e){return this.createNode_(e)}makeUnprocessed(e){const t=this.createNode_();return t.mathml=[e],t.mathmlTree=e,t}makeEmptyNode(){const t=this.createNode_();return t.type=e.SemanticType.EMPTY,t}makeContentNode(e){const t=this.createNode_();return t.updateContent(e),t}makeMultipleContentNodes(e,t){const r=[];for(let n=0;n<e;n++)r.push(this.makeContentNode(t));return r}makeLeafNode(e,t){if(!e)return this.makeEmptyNode();const r=this.makeContentNode(e);r.font=t||r.font;const n=this.defaultMap.getNode(r);return n&&(r.type=n.type,r.role=n.role,r.font=n.font),this.leafMap.addNode(r),r}makeBranchNode(e,t,r,n){const i=this.createNode_();return n&&i.updateContent(n),i.type=e,i.childNodes=t,i.contentNodes=r,t.concat(r).forEach(function(e){e.parent=i,i.addMathmlNodes(e.mathml)}),i}createNode_(e){return void 0!==e?this.idCounter_=Math.max(this.idCounter_,e):e=++this.idCounter_,new n.SemanticNode(e)}},semantic_node_factory}var semantic_pred={},hasRequiredSemantic_pred,hasRequiredSemantic_processor,hasRequiredMathspeak_util;function requireSemantic_pred(){if(hasRequiredSemantic_pred)return semantic_pred;hasRequiredSemantic_pred=1,Object.defineProperty(semantic_pred,"__esModule",{value:!0}),semantic_pred.isType=n,semantic_pred.isRole=o,semantic_pred.isAccent=function(e){return n(e,t.SemanticType.FENCE)||n(e,t.SemanticType.PUNCTUATION)||n(e,t.SemanticType.OPERATOR)||n(e,t.SemanticType.RELATION)},semantic_pred.isSimpleFunctionScope=function(e){const r=e.childNodes;if(0===r.length)return!0;if(r.length>1)return!1;const i=r[0];if(i.type===t.SemanticType.INFIXOP){if(i.role!==t.SemanticRole.IMPLICIT)return!1;if(i.childNodes.some(e=>n(e,t.SemanticType.INFIXOP)))return!1}return!0},semantic_pred.isPrefixFunctionBoundary=function(e){return s(e)&&!o(e,t.SemanticRole.DIVISION)||n(e,t.SemanticType.APPL)||a(e)},semantic_pred.isBigOpBoundary=function(e){return s(e)||a(e)},semantic_pred.isIntegralDxBoundary=function(r,i){return!!i&&n(i,t.SemanticType.IDENTIFIER)&&e.SemanticMap.Secondary.has(r.textContent,t.SemanticSecondary.D)},semantic_pred.isIntegralDxBoundarySingle=function(r){if(n(r,t.SemanticType.IDENTIFIER)){const n=r.textContent[0];return n&&r.textContent[1]&&e.SemanticMap.Secondary.has(n,t.SemanticSecondary.D)}return!1},semantic_pred.isGeneralFunctionBoundary=a,semantic_pred.isEmbellished=function(e){if(e.embellished)return e.embellished;if(r=e.type,r===t.SemanticType.OPERATOR||r===t.SemanticType.RELATION||r===t.SemanticType.FENCE||r===t.SemanticType.PUNCTUATION)return e.type;var r;return null},semantic_pred.isOperator=s,semantic_pred.isRelation=l,semantic_pred.isPunctuation=c,semantic_pred.isFence=u,semantic_pred.isElligibleEmbellishedFence=function(e){if(!e||!u(e))return!1;if(!e.embellished)return!0;return d(e)},semantic_pred.isTableOrMultiline=h,semantic_pred.tableIsMatrixOrVector=function(e){return!!e&&p(e)&&h(e.childNodes[0])},semantic_pred.isFencedElement=p,semantic_pred.tableIsCases=function(e,r){return r.length>0&&o(r[r.length-1],t.SemanticRole.OPENFENCE)},semantic_pred.tableIsMultiline=function(e){return e.childNodes.every(function(e){return e.childNodes.length<=1})},semantic_pred.lineIsLabelled=function(e){return n(e,t.SemanticType.LINE)&&e.contentNodes.length&&o(e.contentNodes[0],t.SemanticRole.LABEL)},semantic_pred.isBinomial=function(e){return 2===e.childNodes.length},semantic_pred.isLimitBase=function e(r){return n(r,t.SemanticType.LARGEOP)||n(r,t.SemanticType.LIMBOTH)||n(r,t.SemanticType.LIMLOWER)||n(r,t.SemanticType.LIMUPPER)||n(r,t.SemanticType.FUNCTION)&&o(r,t.SemanticRole.LIMFUNC)||(n(r,t.SemanticType.OVERSCORE)||n(r,t.SemanticType.UNDERSCORE))&&e(r.childNodes[0])},semantic_pred.isSimpleFunctionHead=function(e){return e.type===t.SemanticType.IDENTIFIER||e.role===t.SemanticRole.LATINLETTER||e.role===t.SemanticRole.GREEKLETTER||e.role===t.SemanticRole.OTHERLETTER},semantic_pred.singlePunctAtPosition=function(e,r,n){return 1===r.length&&(e[n].type===t.SemanticType.PUNCTUATION||e[n].embellished===t.SemanticType.PUNCTUATION)&&e[n]===r[0]},semantic_pred.isSimpleFunction=function(e){return n(e,t.SemanticType.IDENTIFIER)&&o(e,t.SemanticRole.SIMPLEFUNC)},semantic_pred.isSetNode=function(e){return function(e){const t=["{","",""];return!!e&&-1!==t.indexOf(e.textContent)}(e.contentNodes[0])&&function(e){const t=["}","",""];return!!e&&-1!==t.indexOf(e.textContent)}(e.contentNodes[1])},semantic_pred.isSingletonSetContent=function e(r){const n=r.type;if(-1!==f.indexOf(n)||n===t.SemanticType.INFIXOP&&r.role!==t.SemanticRole.IMPLICIT)return!1;if(n===t.SemanticType.FENCED)return r.role!==t.SemanticRole.LEFTRIGHT||e(r.childNodes[0]);if(-1!==m.indexOf(n))return e(r.childNodes[0]);return!0},semantic_pred.isUnitCounter=g,semantic_pred.isPureUnit=y,semantic_pred.isUnitProduct=function(e){const r=e.childNodes;return e.type===t.SemanticType.INFIXOP&&(e.role===t.SemanticRole.MULTIPLICATION||e.role===t.SemanticRole.IMPLICIT)&&r.length&&(y(r[0])||g(r[0]))&&e.childNodes.slice(1).every(y)},semantic_pred.isImplicit=function(r){return r.type===t.SemanticType.INFIXOP&&(r.role===t.SemanticRole.IMPLICIT||r.role===t.SemanticRole.UNIT&&!!r.contentNodes.length&&r.contentNodes[0].textContent===e.NamedSymbol.invisibleTimes)},semantic_pred.isImplicitOp=function(e){return e.type===t.SemanticType.INFIXOP&&e.role===t.SemanticRole.IMPLICIT},semantic_pred.isNeutralFence=b,semantic_pred.compareNeutralFences=function(e,t){return b(e)&&b(t)&&(0,r.getEmbellishedInner)(e).textContent===(0,r.getEmbellishedInner)(t).textContent},semantic_pred.elligibleLeftNeutral=function(e){if(!b(e))return!1;if(!e.embellished)return!0;if(e.type===t.SemanticType.SUPERSCRIPT||e.type===t.SemanticType.SUBSCRIPT)return!1;if(e.type===t.SemanticType.TENSOR&&(e.childNodes[3].type!==t.SemanticType.EMPTY||e.childNodes[4].type!==t.SemanticType.EMPTY))return!1;return!0},semantic_pred.elligibleRightNeutral=function(e){if(!b(e))return!1;if(!e.embellished)return!0;if(e.type===t.SemanticType.TENSOR&&(e.childNodes[1].type!==t.SemanticType.EMPTY||e.childNodes[2].type!==t.SemanticType.EMPTY))return!1;return!0},semantic_pred.isMembership=function(e){return[t.SemanticRole.ELEMENT,t.SemanticRole.NONELEMENT,t.SemanticRole.REELEMENT,t.SemanticRole.RENONELEMENT].includes(e.role)};const e=requireSemantic_attr(),t=requireSemantic_meaning(),r=requireSemantic_util();function n(e,t){return e.type===t}function i(e,t){return e.embellished===t}function o(e,t){return e.role===t}function a(e){return l(e)||c(e)}function s(e){return n(e,t.SemanticType.OPERATOR)||i(e,t.SemanticType.OPERATOR)}function l(e){return n(e,t.SemanticType.RELATION)||i(e,t.SemanticType.RELATION)}function c(e){return n(e,t.SemanticType.PUNCTUATION)||i(e,t.SemanticType.PUNCTUATION)}function u(e){return n(e,t.SemanticType.FENCE)||i(e,t.SemanticType.FENCE)}function d(e){return!e.embellished||!function(e){return n(e,t.SemanticType.TENSOR)&&(!n(e.childNodes[1],t.SemanticType.EMPTY)||!n(e.childNodes[2],t.SemanticType.EMPTY))&&(!n(e.childNodes[3],t.SemanticType.EMPTY)||!n(e.childNodes[4],t.SemanticType.EMPTY))}(e)&&((!o(e,t.SemanticRole.CLOSE)||!n(e,t.SemanticType.TENSOR))&&((!o(e,t.SemanticRole.OPEN)||!n(e,t.SemanticType.SUBSCRIPT)&&!n(e,t.SemanticType.SUPERSCRIPT))&&d(e.childNodes[0])))}function h(e){return!!e&&(n(e,t.SemanticType.TABLE)||n(e,t.SemanticType.MULTILINE))}function p(e){return!!e&&n(e,t.SemanticType.FENCED)&&(o(e,t.SemanticRole.LEFTRIGHT)||b(e))&&1===e.childNodes.length}const f=[t.SemanticType.PUNCTUATION,t.SemanticType.PUNCTUATED,t.SemanticType.RELSEQ,t.SemanticType.MULTIREL,t.SemanticType.TABLE,t.SemanticType.MULTILINE,t.SemanticType.CASES,t.SemanticType.INFERENCE],m=[t.SemanticType.LIMUPPER,t.SemanticType.LIMLOWER,t.SemanticType.LIMBOTH,t.SemanticType.SUBSCRIPT,t.SemanticType.SUPERSCRIPT,t.SemanticType.UNDERSCORE,t.SemanticType.OVERSCORE,t.SemanticType.TENSOR];function g(e){return function(e){return e.type===t.SemanticType.NUMBER&&(e.role===t.SemanticRole.INTEGER||e.role===t.SemanticRole.FLOAT)}(e)||e.role===t.SemanticRole.VULGAR||e.role===t.SemanticRole.MIXED}function y(e){const r=e.childNodes;return e.role===t.SemanticRole.UNIT&&(!r.length||r[0].role===t.SemanticRole.UNIT)}function b(e){return e.role===t.SemanticRole.NEUTRAL||e.role===t.SemanticRole.METRIC}return semantic_pred}function requireSemantic_processor(){if(hasRequiredSemantic_processor)return semantic_processor;hasRequiredSemantic_processor=1,Object.defineProperty(semantic_processor,"__esModule",{value:!0}),semantic_processor.SemanticProcessor=void 0;const e=requireDom_util(),t=requireSemantic_attr(),r=requireSemantic_meaning(),n=requireSemantic_heuristic_factory(),i=requireSemantic_node_factory(),o=requireSemantic_pred(),a=requireSemantic_util(),s=requireSemantic_util();class l{static getInstance(){return l.instance=l.instance||new l,l.instance}static tableToMultiline(e){if(!o.tableIsMultiline(e))return n.SemanticHeuristics.run("rewrite_subcases",e,l.classifyTable);e.type=r.SemanticType.MULTILINE;for(let t,n=0;t=e.childNodes[n];n++)l.rowToLine_(t,r.SemanticRole.MULTILINE);return 1===e.childNodes.length&&!o.lineIsLabelled(e.childNodes[0])&&o.isFencedElement(e.childNodes[0].childNodes[0])&&l.tableToMatrixOrVector_(l.rewriteFencedLine_(e)),l.binomialForm_(e),l.classifyMultiline(e),e}static number(e){e.type!==r.SemanticType.UNKNOWN&&e.type!==r.SemanticType.IDENTIFIER||(e.type=r.SemanticType.NUMBER),l.meaningFromContent(e,l.numberRole_),l.exprFont_(e)}static classifyMultiline(e){let t=0;const n=e.childNodes.length;let i;for(;t<n&&(!(i=e.childNodes[t])||!i.childNodes.length);)t++;if(t>=n)return;const a=i.childNodes[0].role;a!==r.SemanticRole.UNKNOWN&&e.childNodes.every(function(e){const t=e.childNodes[0];return!t||t.role===a&&(o.isType(t,r.SemanticType.RELATION)||o.isType(t,r.SemanticType.RELSEQ))})&&(e.role=a)}static classifyTable(e){const t=l.computeColumns_(e);return l.classifyByColumns_(e,t,r.SemanticRole.EQUALITY)||l.classifyByColumns_(e,t,r.SemanticRole.INEQUALITY,[r.SemanticRole.EQUALITY])||l.classifyByColumns_(e,t,r.SemanticRole.ARROW)||l.detectCaleyTable(e),e}static detectCaleyTable(e){if(!e.mathmlTree)return!1;const t=e.mathmlTree,n=t.getAttribute("columnlines"),i=t.getAttribute("rowlines");return!(!n||!i)&&(!(!l.cayleySpacing(n)||!l.cayleySpacing(i))&&(e.role=r.SemanticRole.CAYLEY,!0))}static cayleySpacing(e){const t=e.split(" ");return("solid"===t[0]||"dashed"===t[0])&&t.slice(1).every(e=>"none"===e)}static proof(e,t,r){const n=l.separateSemantics(t);return l.getInstance().proof(e,n,r)}static findSemantics(e,t,r){const n=null==r?null:r,i=l.getSemantics(e);return!!i&&(!!i[t]&&(null==n||i[t]===n))}static getSemantics(e){const t=e.getAttribute("semantics");return t?l.separateSemantics(t):null}static removePrefix(e){const[,...t]=e.split("_");return t.join("_")}static separateSemantics(e){const t={};return e.split(";").forEach(function(e){const[r,n]=e.split(":");t[l.removePrefix(r)]=n}),t}static matchSpaces_(e,t){for(let n,i=0;n=t[i];i++){const t=e[i].mathmlTree,o=e[i+1].mathmlTree;if(!t||!o)continue;const a=t.nextSibling;if(!a||a===o)continue;const s=l.getSpacer_(a);s&&(n.mathml.push(s),n.mathmlTree=s,n.role=r.SemanticRole.SPACE)}}static getSpacer_(t){if(e.tagName(t)===s.MMLTAGS.MSPACE)return t;for(;a.hasEmptyTag(t)&&1===t.childNodes.length;)if(t=t.childNodes[0],e.tagName(t)===s.MMLTAGS.MSPACE)return t;return null}static fenceToPunct_(e){const t=l.FENCE_TO_PUNCT_[e.role];if(t){for(;e.embellished;)e.embellished=r.SemanticType.PUNCTUATION,o.isRole(e,r.SemanticRole.SUBSUP)||o.isRole(e,r.SemanticRole.UNDEROVER)||(e.role=t),e=e.childNodes[0];e.type=r.SemanticType.PUNCTUATION,e.role=t}}static classifyFunction_(e,i){if(e.type===r.SemanticType.APPL||e.type===r.SemanticType.BIGOP||e.type===r.SemanticType.INTEGRAL)return"";if(i[0]&&i[0].textContent===t.NamedSymbol.functionApplication){l.getInstance().funcAppls[e.id]=i.shift();let t=r.SemanticRole.SIMPLEFUNC;return n.SemanticHeuristics.run("simple2prefix",e),e.role!==r.SemanticRole.PREFIXFUNC&&e.role!==r.SemanticRole.LIMFUNC||(t=e.role),l.propagateFunctionRole_(e,t),"prefix"}const a=l.CLASSIFY_FUNCTION_[e.role];return a||(o.isSimpleFunctionHead(e)?"simple":"")}static propagateFunctionRole_(e,t){if(e){if(e.type===r.SemanticType.INFIXOP)return;o.isRole(e,r.SemanticRole.SUBSUP)||o.isRole(e,r.SemanticRole.UNDEROVER)||(e.role=t),l.propagateFunctionRole_(e.childNodes[0],t)}}static getFunctionOp_(e,t){if(t(e))return e;for(let r,n=0;r=e.childNodes[n];n++){const e=l.getFunctionOp_(r,t);if(e)return e}return null}static tableToMatrixOrVector_(e){const t=e.childNodes[0];o.isType(t,r.SemanticType.MULTILINE)?l.tableToVector_(e):l.tableToMatrix_(e),e.contentNodes.forEach(t.appendContentNode.bind(t));for(let r,n=0;r=t.childNodes[n];n++)l.assignRoleToRow_(r,l.getComponentRoles_(t));return t.parent=null,t}static tableToVector_(e){const t=e.childNodes[0];t.type=r.SemanticType.VECTOR,1!==t.childNodes.length?l.binomialForm_(t):l.tableToSquare_(e)}static binomialForm_(e){o.isRole(e,r.SemanticRole.UNKNOWN)&&o.isBinomial(e)&&(e.role=r.SemanticRole.BINOMIAL,e.childNodes[0].role=r.SemanticRole.BINOMIAL,e.childNodes[1].role=r.SemanticRole.BINOMIAL)}static tableToMatrix_(e){const t=e.childNodes[0];t.type=r.SemanticType.MATRIX,t.childNodes&&t.childNodes.length>0&&t.childNodes[0].childNodes&&t.childNodes.length===t.childNodes[0].childNodes.length?l.tableToSquare_(e):t.childNodes&&1===t.childNodes.length&&(t.role=r.SemanticRole.ROWVECTOR)}static tableToSquare_(e){const t=e.childNodes[0];o.isRole(t,r.SemanticRole.UNKNOWN)&&(o.isNeutralFence(e)?t.role=r.SemanticRole.DETERMINANT:t.role=r.SemanticRole.SQUAREMATRIX)}static getComponentRoles_(e){const t=e.role;return t&&t!==r.SemanticRole.UNKNOWN?t:e.type.toLowerCase()||r.SemanticRole.UNKNOWN}static tableToCases_(e,t){for(let n,i=0;n=e.childNodes[i];i++)l.assignRoleToRow_(n,r.SemanticRole.CASES);return e.type=r.SemanticType.CASES,e.appendContentNode(t),o.tableIsMultiline(e)&&l.binomialForm_(e),e}static rewriteFencedLine_(e){const t=e.childNodes[0],r=e.childNodes[0].childNodes[0],n=e.childNodes[0].childNodes[0].childNodes[0];return r.parent=e.parent,e.parent=r,n.parent=t,r.childNodes=[e],t.childNodes=[n],r}static rowToLine_(e,t){const n=t||r.SemanticRole.UNKNOWN;o.isType(e,r.SemanticType.ROW)&&(e.type=r.SemanticType.LINE,e.role=n,1===e.childNodes.length&&o.isType(e.childNodes[0],r.SemanticType.CELL)&&(e.childNodes=e.childNodes[0].childNodes,e.childNodes.forEach(function(t){t.parent=e})))}static assignRoleToRow_(e,t){o.isType(e,r.SemanticType.LINE)?e.role=t:o.isType(e,r.SemanticType.ROW)&&(e.role=t,e.childNodes.forEach(function(e){o.isType(e,r.SemanticType.CELL)&&(e.role=t)}))}static nextSeparatorFunction_(e){let t;if(e){if(e.match(/^\s+$/))return null;t=e.replace(/\s/g,"").split("").filter(function(e){return e})}else t=[","];return function(){return t.length>1?t.shift():t[0]}}static meaningFromContent(e,r){const n=[...e.textContent].filter(e=>e.match(/[^\s]/)),i=n.map(e=>t.SemanticMap.Meaning.get(e));r(e,n,i)}static numberRole_(e,t,n){if(e.role===r.SemanticRole.UNKNOWN)return n.every(function(e){return e.type===r.SemanticType.NUMBER&&e.role===r.SemanticRole.INTEGER||e.type===r.SemanticType.PUNCTUATION&&e.role===r.SemanticRole.COMMA})?(e.role=r.SemanticRole.INTEGER,void("0"===t[0]&&e.addAnnotation("general","basenumber"))):void(n.every(function(e){return e.type===r.SemanticType.NUMBER&&e.role===r.SemanticRole.INTEGER||e.type===r.SemanticType.PUNCTUATION})?e.role=r.SemanticRole.FLOAT:e.role=r.SemanticRole.OTHERNUMBER)}static exprFont_(e){e.font===r.SemanticFont.UNKNOWN&&l.compSemantics(e,"font",r.SemanticFont)}static compSemantics(e,r,n){const i=[...e.textContent].map(e=>t.SemanticMap.Meaning.get(e)).reduce(function(e,t){return e&&t[r]&&t[r]!==n.UNKNOWN&&t[r]!==e?e===n.UNKNOWN?t[r]:null:e},n.UNKNOWN);i&&(e[r]=i)}static purgeFences_(e){const t=e.rel,r=e.comp,n=[],i=[];for(;t.length>0;){const e=t.shift();let a=r.shift();o.isElligibleEmbellishedFence(e)?(n.push(e),i.push(a)):(l.fenceToPunct_(e),a.push(e),a=a.concat(r.shift()),r.unshift(a))}return i.push(r.shift()),{rel:n,comp:i}}static rewriteFencedNode_(e){const t=e.contentNodes[0],r=e.contentNodes[1];let n=l.rewriteFence_(e,t);return e.contentNodes[0]=n.fence,n=l.rewriteFence_(n.node,r),e.contentNodes[1]=n.fence,e.contentNodes[0].parent=e,e.contentNodes[1].parent=e,n.node.parent=null,n.node}static rewriteFence_(e,t){if(!t.embellished)return{node:e,fence:t};const n=t.childNodes[0],i=l.rewriteFence_(e,n);return o.isType(t,r.SemanticType.SUPERSCRIPT)||o.isType(t,r.SemanticType.SUBSCRIPT)||o.isType(t,r.SemanticType.TENSOR)?(o.isRole(t,r.SemanticRole.SUBSUP)||(t.role=e.role),n!==i.node&&(t.replaceChild(n,i.node),n.parent=e),l.propagateFencePointer_(t,n),{node:t,fence:i.fence}):(t.replaceChild(n,i.fence),t.mathmlTree&&-1===t.mathml.indexOf(t.mathmlTree)&&t.mathml.push(t.mathmlTree),{node:i.node,fence:t})}static propagateFencePointer_(e,t){e.fencePointer=t.fencePointer||t.id.toString(),e.embellished=null}static classifyByColumns_(e,t,r,n=[]){const i=[r].concat(n);return!!(3===t.length&&l.testColumns_(t,1,e=>l.isPureRelation_(e,i))||2===t.length&&(l.testColumns_(t,1,e=>l.isEndRelation_(e,i)||l.isPureRelation_(e,i))||l.testColumns_(t,0,e=>l.isEndRelation_(e,i,!0)||l.isPureRelation_(e,i))))&&(e.role=r,!0)}static isEndRelation_(e,t,n){const i=n?e.childNodes.length-1:0;return o.isType(e,r.SemanticType.RELSEQ)&&t.some(t=>o.isRole(e,t))&&o.isType(e.childNodes[i],r.SemanticType.EMPTY)}static isPureRelation_(e,t){return o.isType(e,r.SemanticType.RELATION)&&t.some(t=>o.isRole(e,t))}static computeColumns_(e){const t=[];for(let r,n=0;r=e.childNodes[n];n++)for(let e,i=0;e=r.childNodes[i];i++){t[i]?t[i].push(e):t[i]=[e]}return t}static testColumns_(e,t,r){const n=e[t];return!!n&&(n.some(function(e){return e.childNodes.length&&r(e.childNodes[0])})&&n.every(function(e){return!e.childNodes.length||r(e.childNodes[0])}))}setNodeFactory(e){l.getInstance().factory_=e,n.SemanticHeuristics.updateFactory(l.getInstance().factory_)}getNodeFactory(){return l.getInstance().factory_}identifierNode(e,t,i){if("MathML-Unit"===i)e.type=r.SemanticType.IDENTIFIER,e.role=r.SemanticRole.UNIT;else if(!t&&1===e.textContent.length&&(e.role===r.SemanticRole.INTEGER||e.role===r.SemanticRole.LATINLETTER||e.role===r.SemanticRole.GREEKLETTER)&&e.font===r.SemanticFont.NORMAL)return e.font=r.SemanticFont.ITALIC,n.SemanticHeuristics.run("simpleNamedFunction",e);return e.type===r.SemanticType.UNKNOWN&&(e.type=r.SemanticType.IDENTIFIER),l.exprFont_(e),n.SemanticHeuristics.run("simpleNamedFunction",e)}implicitNode(e){if(e=l.getInstance().getMixedNumbers_(e),1===(e=l.getInstance().combineUnits_(e)).length)return e[0];const t=l.getInstance().implicitNode_(e);return n.SemanticHeuristics.run("combine_juxtaposition",t)}text(e,t){return l.exprFont_(e),e.type=r.SemanticType.TEXT,t===s.MMLTAGS.ANNOTATIONXML?(e.role=r.SemanticRole.ANNOTATION,e):t===s.MMLTAGS.MS?(e.role=r.SemanticRole.STRING,e):t===s.MMLTAGS.MSPACE||e.textContent.match(/^\s*$/)?(e.role=r.SemanticRole.SPACE,e):/\s/.exec(e.textContent)?(e.role=r.SemanticRole.TEXT,e):(e.role=r.SemanticRole.UNKNOWN,e)}row(e){return 0===(e=e.filter(function(e){return!o.isType(e,r.SemanticType.EMPTY)})).length?l.getInstance().factory_.makeEmptyNode():(e=l.getInstance().getFencesInRow_(e),e=l.getInstance().tablesInRow(e),e=l.getInstance().getPunctuationInRow_(e),e=l.getInstance().getTextInRow_(e),e=l.getInstance().getFunctionsInRow_(e),l.getInstance().relationsInRow_(e))}limitNode(e,t){if(!t.length)return l.getInstance().factory_.makeEmptyNode();let i,a=t[0],s=r.SemanticType.UNKNOWN;if(!t[1])return a;if(n.SemanticHeuristics.run("op_with_limits",t),o.isLimitBase(a)){i=l.MML_TO_LIMIT_[e];const n=i.length;if(s=i.type,t=t.slice(0,i.length+1),1===n&&o.isAccent(t[1])||2===n&&o.isAccent(t[1])&&o.isAccent(t[2]))return i=l.MML_TO_BOUNDS_[e],l.getInstance().accentNode_(a,t,i.type,i.length,i.accent);if(2===n){if(o.isAccent(t[1]))return a=l.getInstance().accentNode_(a,[a,t[1]],{MSUBSUP:r.SemanticType.SUBSCRIPT,MUNDEROVER:r.SemanticType.UNDERSCORE}[e],1,!0),t[2]?l.getInstance().makeLimitNode_(a,[a,t[2]],null,r.SemanticType.LIMUPPER):a;if(t[2]&&o.isAccent(t[2]))return a=l.getInstance().accentNode_(a,[a,t[2]],{MSUBSUP:r.SemanticType.SUPERSCRIPT,MUNDEROVER:r.SemanticType.OVERSCORE}[e],1,!0),l.getInstance().makeLimitNode_(a,[a,t[1]],null,r.SemanticType.LIMLOWER);t[n]||(s=r.SemanticType.LIMLOWER)}return l.getInstance().makeLimitNode_(a,t,null,s)}return i=l.MML_TO_BOUNDS_[e],l.getInstance().accentNode_(a,t,i.type,i.length,i.accent)}tablesInRow(e){let t=a.partitionNodes(e,o.tableIsMatrixOrVector),r=[];for(let n,i=0;n=t.rel[i];i++)r=r.concat(t.comp.shift()),r.push(l.tableToMatrixOrVector_(n));r=r.concat(t.comp.shift()),t=a.partitionNodes(r,o.isTableOrMultiline),r=[];for(let n,i=0;n=t.rel[i];i++){const e=t.comp.shift();o.tableIsCases(n,e)&&l.tableToCases_(n,e.pop()),r=r.concat(e),r.push(n)}return r.concat(t.comp.shift())}mfenced(e,t,r,n){if(r&&n.length>0){const e=l.nextSeparatorFunction_(r),t=[n.shift()];n.forEach(r=>{t.push(l.getInstance().factory_.makeContentNode(e())),t.push(r)}),n=t}return e&&t?l.getInstance().horizontalFencedNode_(l.getInstance().factory_.makeContentNode(e),l.getInstance().factory_.makeContentNode(t),n):(e&&n.unshift(l.getInstance().factory_.makeContentNode(e)),t&&n.push(l.getInstance().factory_.makeContentNode(t)),l.getInstance().row(n))}fractionLikeNode(e,t,n,i){let o;if(!i&&a.isZeroLength(n)){const n=l.getInstance().factory_.makeBranchNode(r.SemanticType.LINE,[e],[]),i=l.getInstance().factory_.makeBranchNode(r.SemanticType.LINE,[t],[]);return o=l.getInstance().factory_.makeBranchNode(r.SemanticType.MULTILINE,[n,i],[]),l.binomialForm_(o),l.classifyMultiline(o),o}return o=l.getInstance().fractionNode_(e,t),i&&o.addAnnotation("general","bevelled"),o}tensor(e,t,n,i,a){const s=l.getInstance().factory_.makeBranchNode(r.SemanticType.TENSOR,[e,l.getInstance().scriptNode_(t,r.SemanticRole.LEFTSUB),l.getInstance().scriptNode_(n,r.SemanticRole.LEFTSUPER),l.getInstance().scriptNode_(i,r.SemanticRole.RIGHTSUB),l.getInstance().scriptNode_(a,r.SemanticRole.RIGHTSUPER)],[]);return s.role=e.role,s.embellished=o.isEmbellished(e),s}pseudoTensor(e,t,n){const i=e=>!o.isType(e,r.SemanticType.EMPTY),a=t.filter(i).length,c=n.filter(i).length;if(!a&&!c)return e;const u=a?c?s.MMLTAGS.MSUBSUP:s.MMLTAGS.MSUB:s.MMLTAGS.MSUP,d=[e];return a&&d.push(l.getInstance().scriptNode_(t,r.SemanticRole.RIGHTSUB,!0)),c&&d.push(l.getInstance().scriptNode_(n,r.SemanticRole.RIGHTSUPER,!0)),l.getInstance().limitNode(u,d)}font(e){const t=l.MATHJAX_FONTS[e];return t||e}proof(e,t,n){if(!t.inference&&t.axiom,t.axiom){const t=l.getInstance().cleanInference(e.childNodes),i=t.length?l.getInstance().factory_.makeBranchNode(r.SemanticType.INFERENCE,n(t),[]):l.getInstance().factory_.makeEmptyNode();return i.role=r.SemanticRole.AXIOM,i.mathmlTree=e,i}const i=l.getInstance().inference(e,t,n);return t.proof&&(i.role=r.SemanticRole.PROOF,i.childNodes[0].role=r.SemanticRole.FINAL),i}inference(t,n,i){if(n.inferenceRule){const e=l.getInstance().getFormulas(t,[],i);return l.getInstance().factory_.makeBranchNode(r.SemanticType.INFERENCE,[e.conclusion,e.premises],[])}const o=n.labelledRule,a=e.toArray(t.childNodes),s=[];"left"!==o&&"both"!==o||s.push(l.getInstance().getLabel(t,a,i,r.SemanticRole.LEFT)),"right"!==o&&"both"!==o||s.push(l.getInstance().getLabel(t,a,i,r.SemanticRole.RIGHT));const c=l.getInstance().getFormulas(t,a,i),u=l.getInstance().factory_.makeBranchNode(r.SemanticType.INFERENCE,[c.conclusion,c.premises],s);return u.mathmlTree=t,u}getLabel(t,n,i,o){const a=l.getInstance().findNestedRow(n,"prooflabel",o),s=l.getInstance().factory_.makeBranchNode(r.SemanticType.RULELABEL,i(e.toArray(a.childNodes)),[]);return s.role=o,s.mathmlTree=a,s}getFormulas(t,n,i){const o=n.length?l.getInstance().findNestedRow(n,"inferenceRule"):t,a="up"===l.getSemantics(o).inferenceRule,s=a?o.childNodes[1]:o.childNodes[0],c=a?o.childNodes[0]:o.childNodes[1],u=s.childNodes[0].childNodes[0],d=e.toArray(u.childNodes[0].childNodes),h=[];let p=1;for(const e of d)p%2&&h.push(e.childNodes[0]),p++;const f=i(h),m=i(e.toArray(c.childNodes[0].childNodes))[0],g=l.getInstance().factory_.makeBranchNode(r.SemanticType.PREMISES,f,[]);g.mathmlTree=u;const y=l.getInstance().factory_.makeBranchNode(r.SemanticType.CONCLUSION,[m],[]);return y.mathmlTree=c.childNodes[0].childNodes[0],{conclusion:y,premises:g}}findNestedRow(e,t,r){return l.getInstance().findNestedRow_(e,t,0,r)}cleanInference(t){return e.toArray(t).filter(function(t){return"MSPACE"!==e.tagName(t)})}operatorNode(e){return e.type===r.SemanticType.UNKNOWN&&(e.type=r.SemanticType.OPERATOR),n.SemanticHeuristics.run("multioperator",e)}constructor(){this.funcAppls={},this.splitRoles=new Map([[r.SemanticRole.SUBTRACTION,r.SemanticRole.NEGATIVE],[r.SemanticRole.ADDITION,r.SemanticRole.POSITIVE]]),this.splitOps=["","-","","","+"],this.factory_=new i.SemanticNodeFactory,n.SemanticHeuristics.updateFactory(this.factory_)}implicitNode_(e){const n=l.getInstance().factory_.makeMultipleContentNodes(e.length-1,t.NamedSymbol.invisibleTimes);l.matchSpaces_(e,n);const i=l.getInstance().infixNode_(e,n[0]);return i.role=r.SemanticRole.IMPLICIT,n.forEach(function(e){e.parent=i}),i.contentNodes=n,i}infixNode_(e,t){const i=l.getInstance().factory_.makeBranchNode(r.SemanticType.INFIXOP,e,[t],a.getEmbellishedInner(t).textContent);return i.role=t.role,n.SemanticHeuristics.run("propagateSimpleFunction",i)}explicitMixed_(e){const n=a.partitionNodes(e,function(e){return e.textContent===t.NamedSymbol.invisiblePlus});if(!n.rel.length)return e;let i=[];for(let t,a=0;t=n.rel[a];a++){const e=n.comp[a],s=n.comp[a+1],c=e.length-1;if(e[c]&&s[0]&&o.isType(e[c],r.SemanticType.NUMBER)&&!o.isRole(e[c],r.SemanticRole.MIXED)&&o.isType(s[0],r.SemanticType.FRACTION)){const t=l.getInstance().factory_.makeBranchNode(r.SemanticType.NUMBER,[e[c],s[0]],[]);t.role=r.SemanticRole.MIXED,i=i.concat(e.slice(0,c)),i.push(t),s.shift()}else i=i.concat(e),i.push(t)}return i.concat(n.comp[n.comp.length-1])}concatNode_(e,t,n){if(0===t.length)return e;const i=t.map(function(e){return a.getEmbellishedInner(e).textContent}).join(" "),o=l.getInstance().factory_.makeBranchNode(n,[e],t,i);return t.length>1&&(o.role=r.SemanticRole.MULTIOP),o}prefixNode_(e,t){const n=this.splitSingles(t);let i=e;for(;n.length>0;){const e=n.pop();i=l.getInstance().concatNode_(i,e,r.SemanticType.PREFIXOP),1===e.length&&-1!==this.splitOps.indexOf(e[0].textContent)&&(i.role=this.splitRoles.get(e[0].role))}return i}splitSingles(e){let t=0;const r=[];let n=0;for(;n<e.length;){const i=e[n];!this.splitRoles.has(i.role)||e[n-1]&&e[n-1].role===i.role||e[n+1]&&e[n+1].role===i.role||-1===this.splitOps.indexOf(i.textContent)||(r.push(e.slice(t,n)),r.push(e.slice(n,n+1)),t=n+1),n++}return t<n&&r.push(e.slice(t,n)),r}postfixNode_(e,t){return t.length?l.getInstance().concatNode_(e,t,r.SemanticType.POSTFIXOP):e}combineUnits_(e){const t=a.partitionNodes(e,function(e){return!o.isRole(e,r.SemanticRole.UNIT)});if(e.length===t.rel.length)return t.rel;const n=[];let i,s;do{const e=t.comp.shift();i=t.rel.shift();let a=null;s=n.pop(),s&&(e.length&&o.isUnitCounter(s)?e.unshift(s):n.push(s)),1===e.length&&(a=e.pop()),e.length>1&&(a=l.getInstance().implicitNode_(e),a.role=r.SemanticRole.UNIT),a&&n.push(a),i&&n.push(i)}while(i);return n}getMixedNumbers_(e){const t=a.partitionNodes(e,function(e){return o.isType(e,r.SemanticType.FRACTION)&&o.isRole(e,r.SemanticRole.VULGAR)});if(!t.rel.length)return e;let n=[];for(let i,a=0;i=t.rel[a];a++){const e=t.comp[a],s=e.length-1;if(e[s]&&o.isType(e[s],r.SemanticType.NUMBER)&&(o.isRole(e[s],r.SemanticRole.INTEGER)||o.isRole(e[s],r.SemanticRole.FLOAT))){const t=l.getInstance().factory_.makeBranchNode(r.SemanticType.NUMBER,[e[s],i],[]);t.role=r.SemanticRole.MIXED,n=n.concat(e.slice(0,s)),n.push(t)}else n=n.concat(e),n.push(i)}return n.concat(t.comp[t.comp.length-1])}getTextInRow_(e){if(0===e.length)return e;if(1===e.length)return e[0].type===r.SemanticType.TEXT&&e[0].role===r.SemanticRole.UNKNOWN&&(e[0].role=r.SemanticRole.ANNOTATION),e;const{rel:n,comp:i}=a.partitionNodes(e,e=>o.isType(e,r.SemanticType.TEXT));if(0===n.length)return e;const s=[];let c=i.shift();for(;n.length>0;){let e=n.shift(),o=i.shift();const a=[];for(;!o.length&&n.length&&e.role!==r.SemanticRole.SPACE&&n[0].role!==r.SemanticRole.SPACE;)a.push(e),e=n.shift(),o=i.shift();if(a.length){c.length&&s.push(l.getInstance().row(c)),a.push(e);const t=l.getInstance().dummyNode_(a);s.push(t),c=o;continue}if(e.role!==r.SemanticRole.UNKNOWN){c.length&&s.push(l.getInstance().row(c)),s.push(e),c=o;continue}const u=t.SemanticMap.Meaning.get(e.textContent);u.type!==r.SemanticType.PUNCTUATION?u.type===r.SemanticType.UNKNOWN?(l.meaningFromContent(e,(e,t,n)=>{if(e.role===r.SemanticRole.UNKNOWN){if(l.numberRole_(e,t,n),e.role===r.SemanticRole.OTHERNUMBER)return n.some(e=>e.type!==r.SemanticType.NUMBER&&e.type!==r.SemanticType.IDENTIFIER)?(e.type=r.SemanticType.TEXT,void(e.role=r.SemanticRole.ANNOTATION)):void(e.role=r.SemanticRole.UNKNOWN);e.type=r.SemanticType.NUMBER}}),e.type!==r.SemanticType.TEXT||e.role===r.SemanticRole.UNKNOWN?(e.role===r.SemanticRole.UNKNOWN&&(n.length||o.length?o.length&&o[0].type===r.SemanticType.FENCED?(e.type=r.SemanticType.FUNCTION,e.role=r.SemanticRole.PREFIXFUNC):e.role=r.SemanticRole.TEXT:(e.type=r.SemanticType.IDENTIFIER,e.role=r.SemanticRole.UNIT)),c.push(e),c=c.concat(o)):(c.length&&s.push(l.getInstance().row(c)),s.push(e),c=o)):(e.type=u.type,e.role=u.role,e.font=u.font,e.addAnnotation("general","text"),c.push(e),c=c.concat(o)):(e.role=u.role,e.font=u.font,c.length&&s.push(l.getInstance().row(c)),s.push(e),c=o)}return c.length>0&&s.push(l.getInstance().row(c)),s.length>1?[l.getInstance().dummyNode_(s)]:s}relationsInRow_(e){const t=a.partitionNodes(e,o.isRelation),n=t.rel[0];if(!n)return l.getInstance().operationsInRow_(e);if(1===e.length)return e[0];const i=t.comp.map(l.getInstance().operationsInRow_);let s;return t.rel.some(function(e){return!e.equals(n)})?(s=l.getInstance().factory_.makeBranchNode(r.SemanticType.MULTIREL,i,t.rel),t.rel.every(function(e){return e.role===n.role})&&(s.role=n.role),s):(s=l.getInstance().factory_.makeBranchNode(r.SemanticType.RELSEQ,i,t.rel,a.getEmbellishedInner(n).textContent),s.role=n.role,s)}operationsInRow_(e){if(0===e.length)return l.getInstance().factory_.makeEmptyNode();if(1===(e=l.getInstance().explicitMixed_(e)).length)return e[0];const t=[];for(;e.length>0&&o.isOperator(e[0]);)t.push(e.shift());if(0===e.length)return l.getInstance().prefixNode_(t.pop(),t);if(1===e.length)return l.getInstance().prefixNode_(e[0],t);e=n.SemanticHeuristics.run("convert_juxtaposition",e);const r=a.sliceNodes(e,o.isOperator),i=l.getInstance().wrapFactor(t,r);return l.getInstance().addFactor(i,r)}wrapPostfix(e){var t;(null===(t=e.div)||void 0===t?void 0:t.role)===r.SemanticRole.POSTFIXOP&&(e.tail.length&&e.tail[0].type!==r.SemanticType.OPERATOR?e.div.role=r.SemanticRole.DIVISION:(e.head=[l.getInstance().postfixNode_(l.getInstance().implicitNode(e.head),[e.div])],e.div=e.tail.shift(),l.getInstance().wrapPostfix(e)))}wrapFactor(e,t){return l.getInstance().wrapPostfix(t),l.getInstance().prefixNode_(l.getInstance().implicitNode(t.head),e)}addFactor(e,t){return t.div?l.getInstance().operationsTree_(t.tail,e,t.div):(o.isUnitProduct(e)&&(e.role=r.SemanticRole.UNIT),e)}operationsTree_(e,t,n,i=[]){if(0===e.length){if(i.unshift(n),t.type===r.SemanticType.INFIXOP){const e=l.getInstance().postfixNode_(t.childNodes.pop(),i);return t.appendChild(e),t}return l.getInstance().postfixNode_(t,i)}const s=a.sliceNodes(e,o.isOperator);if(0===s.head.length)return i.push(s.div),l.getInstance().operationsTree_(s.tail,t,n,i);const c=l.getInstance().wrapFactor(i,s),u=l.getInstance().appendOperand_(t,n,c);return l.getInstance().addFactor(u,s)}appendOperand_(e,t,n){if(e.type!==r.SemanticType.INFIXOP)return l.getInstance().infixNode_([e,n],t);const i=l.getInstance().appendDivisionOp_(e,t,n);return i||(l.getInstance().appendExistingOperator_(e,t,n)?e:t.role===r.SemanticRole.MULTIPLICATION?l.getInstance().appendMultiplicativeOp_(e,t,n):l.getInstance().appendAdditiveOp_(e,t,n))}appendDivisionOp_(e,t,n){return t.role===r.SemanticRole.DIVISION?o.isImplicit(e)?l.getInstance().infixNode_([e,n],t):l.getInstance().appendLastOperand_(e,t,n):e.role===r.SemanticRole.DIVISION?l.getInstance().infixNode_([e,n],t):null}appendLastOperand_(e,t,n){let i=e,a=e.childNodes[e.childNodes.length-1];for(;a&&a.type===r.SemanticType.INFIXOP&&!o.isImplicit(a);)i=a,a=i.childNodes[e.childNodes.length-1];const s=l.getInstance().infixNode_([i.childNodes.pop(),n],t);return i.appendChild(s),e}appendMultiplicativeOp_(e,t,n){if(o.isImplicit(e))return l.getInstance().infixNode_([e,n],t);let i=e,a=e.childNodes[e.childNodes.length-1];for(;a&&a.type===r.SemanticType.INFIXOP&&!o.isImplicit(a);)i=a,a=i.childNodes[e.childNodes.length-1];const s=l.getInstance().infixNode_([i.childNodes.pop(),n],t);return i.appendChild(s),e}appendAdditiveOp_(e,t,r){return l.getInstance().infixNode_([e,r],t)}appendExistingOperator_(e,t,n){return!(!e||e.type!==r.SemanticType.INFIXOP||o.isImplicit(e))&&(e.contentNodes[0].equals(t)?(e.appendContentNode(t),e.appendChild(n),!0):l.getInstance().appendExistingOperator_(e.childNodes[e.childNodes.length-1],t,n))}getFencesInRow_(e){let t=a.partitionNodes(e,o.isFence);t=l.purgeFences_(t);const r=t.comp.shift();return l.getInstance().fences_(t.rel,t.comp,[],[r])}fences_(e,t,i,s){if(0===e.length&&0===i.length)return s[0];const c=n.SemanticHeuristics.run("bracketed_interval",[e[0],e[1],...t[0]||[]],()=>null);if(c){e.shift(),e.shift(),t.shift();const r=s.pop()||[];return s.push([...r,c,...t.shift()]),l.getInstance().fences_(e,t,i,s)}const u=e=>o.isRole(e,r.SemanticRole.OPEN);if(0===e.length){const e=s.shift();for(;i.length>0;){if(u(i[0])){const t=i.shift();l.fenceToPunct_(t),e.push(t)}else{const t=a.sliceNodes(i,u),r=t.head.length-1,n=l.getInstance().neutralFences_(t.head,s.slice(0,r));s=s.slice(r),e.push(...n),t.div&&t.tail.unshift(t.div),i=t.tail}e.push(...s.shift())}return e}const d=i[i.length-1],h=e[0].role;if(h===r.SemanticRole.OPEN||o.isNeutralFence(e[0])&&(!d||!o.compareNeutralFences(e[0],d))){i.push(e.shift());const r=t.shift();return r&&s.push(r),l.getInstance().fences_(e,t,i,s)}if(d&&h===r.SemanticRole.CLOSE&&d.role===r.SemanticRole.OPEN){const r=l.getInstance().horizontalFencedNode_(i.pop(),e.shift(),s.pop());return s.push(s.pop().concat([r],t.shift())),l.getInstance().fences_(e,t,i,s)}if(d&&o.compareNeutralFences(e[0],d)){if(!o.elligibleLeftNeutral(d)||!o.elligibleRightNeutral(e[0])){i.push(e.shift());const r=t.shift();return r&&s.push(r),l.getInstance().fences_(e,t,i,s)}const r=l.getInstance().horizontalFencedNode_(i.pop(),e.shift(),s.pop());return s.push(s.pop().concat([r],t.shift())),l.getInstance().fences_(e,t,i,s)}if(d&&h===r.SemanticRole.CLOSE&&o.isNeutralFence(d)&&i.some(u)){const r=a.sliceNodes(i,u,!0),n=s.pop(),o=s.length-r.tail.length+1,c=l.getInstance().neutralFences_(r.tail,s.slice(o));s=s.slice(0,o);const d=l.getInstance().horizontalFencedNode_(r.div,e.shift(),s.pop().concat(c,n));return s.push(s.pop().concat([d],t.shift())),l.getInstance().fences_(e,t,r.head,s)}const p=e.shift();return l.fenceToPunct_(p),s.push(s.pop().concat([p],t.shift())),l.getInstance().fences_(e,t,i,s)}neutralFences_(e,t){if(0===e.length)return e;if(1===e.length)return l.fenceToPunct_(e[0]),e;const r=e.shift();if(!o.elligibleLeftNeutral(r)){l.fenceToPunct_(r);const n=t.shift();return n.unshift(r),n.concat(l.getInstance().neutralFences_(e,t))}const n=a.sliceNodes(e,function(e){return o.compareNeutralFences(e,r)});if(!n.div){l.fenceToPunct_(r);const n=t.shift();return n.unshift(r),n.concat(l.getInstance().neutralFences_(e,t))}if(!o.elligibleRightNeutral(n.div))return l.fenceToPunct_(n.div),e.unshift(r),l.getInstance().neutralFences_(e,t);const i=l.getInstance().combineFencedContent_(r,n.div,n.head,t);if(n.tail.length>0){const e=i.shift(),t=l.getInstance().neutralFences_(n.tail,i);return e.concat(t)}return i[0]}combineFencedContent_(e,t,r,n){if(0===r.length){const r=l.getInstance().horizontalFencedNode_(e,t,n.shift());return n.length>0?n[0].unshift(r):n=[[r]],n}const i=n.shift(),o=r.length-1,a=n.slice(0,o),s=(n=n.slice(o)).shift(),c=l.getInstance().neutralFences_(r,a);i.push(...c),i.push(...s);const u=l.getInstance().horizontalFencedNode_(e,t,i);return n.length>0?n[0].unshift(u):n=[[u]],n}horizontalFencedNode_(e,t,i){const o=l.getInstance().row(i);let a=l.getInstance().factory_.makeBranchNode(r.SemanticType.FENCED,[o],[e,t]);return e.role===r.SemanticRole.OPEN?(l.getInstance().classifyHorizontalFence_(a),a=n.SemanticHeuristics.run("propagateComposedFunction",a)):a.role=e.role,a=n.SemanticHeuristics.run("detect_cycle",a),l.rewriteFencedNode_(a)}classifyHorizontalFence_(e){e.role=r.SemanticRole.LEFTRIGHT;const t=e.childNodes;if(!o.isSetNode(e)||t.length>1)return;if(0===t.length||t[0].type===r.SemanticType.EMPTY)return void(e.role=r.SemanticRole.SETEMPTY);const n=t[0].type;if(1===t.length&&o.isSingletonSetContent(t[0]))return void(e.role=r.SemanticRole.SETSINGLE);const i=t[0].role;if(n===r.SemanticType.PUNCTUATED&&i===r.SemanticRole.SEQUENCE){if(t[0].contentNodes[0].role!==r.SemanticRole.COMMA)return 1!==t[0].contentNodes.length||t[0].contentNodes[0].role!==r.SemanticRole.VBAR&&t[0].contentNodes[0].role!==r.SemanticRole.COLON?void 0:(e.role=r.SemanticRole.SETEXT,void l.getInstance().setExtension_(e));e.role=r.SemanticRole.SETCOLLECT}}setExtension_(e){const t=e.childNodes[0].childNodes[0];t&&t.type===r.SemanticType.INFIXOP&&1===t.contentNodes.length&&o.isMembership(t.contentNodes[0])&&(t.addAnnotation("set","intensional"),t.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(e){if(e.length<=1)return e;const t=e=>{const t=e.type;return"punctuation"===t||"text"===t||"operator"===t||"relation"===t},i=a.partitionNodes(e,function(n){if(!o.isPunctuation(n))return!1;if(o.isPunctuation(n)&&!o.isRole(n,r.SemanticRole.ELLIPSIS))return!0;const i=e.indexOf(n);if(0===i)return!e[1]||!t(e[1]);const a=e[i-1];if(i===e.length-1)return!t(a);const s=e[i+1];return!t(a)||!t(s)});if(0===i.rel.length)return e;let s=[],c=i.comp.shift();c.length>0&&s.push(l.getInstance().row(c));let u=0;for(;i.comp.length>0;){let e=[];const t=u;do{e.push(i.rel[u++]),c=i.comp.shift()}while(i.rel[u]&&c&&0===c.length);e=n.SemanticHeuristics.run("ellipses",e),i.rel.splice(t,u-t,...e),u=t+e.length,s=s.concat(e),c&&c.length>0&&s.push(l.getInstance().row(c))}return 1===s.length&&1===i.rel.length?s:[l.getInstance().punctuatedNode_(s,i.rel)]}punctuatedNode_(e,t){const n=l.getInstance().factory_.makeBranchNode(r.SemanticType.PUNCTUATED,e,t);if(t.length===e.length){const e=t[0].role;if(e!==r.SemanticRole.UNKNOWN&&t.every(function(t){return t.role===e}))return n.role=e,n}const i=t[0];return o.singlePunctAtPosition(e,t,0)?n.role=i.childNodes.length&&!i.embellished?i.role:r.SemanticRole.STARTPUNCT:o.singlePunctAtPosition(e,t,e.length-1)?n.role=i.childNodes.length&&!i.embellished?i.role:r.SemanticRole.ENDPUNCT:t.every(e=>o.isRole(e,r.SemanticRole.DUMMY))?n.role=r.SemanticRole.TEXT:t.every(e=>o.isRole(e,r.SemanticRole.SPACE))?n.role=r.SemanticRole.SPACE:n.role=r.SemanticRole.SEQUENCE,n}dummyNode_(e){const n=l.getInstance().factory_.makeMultipleContentNodes(e.length-1,t.NamedSymbol.invisibleComma);return n.forEach(function(e){e.role=r.SemanticRole.DUMMY}),l.getInstance().punctuatedNode_(e,n)}accentRole_(e,n){if(!o.isAccent(e))return!1;const i=e.textContent,a=t.SemanticMap.Secondary.get(i,r.SemanticSecondary.BAR)||t.SemanticMap.Secondary.get(i,r.SemanticSecondary.TILDE)||e.role;return e.role=n===r.SemanticType.UNDERSCORE?r.SemanticRole.UNDERACCENT:r.SemanticRole.OVERACCENT,e.addAnnotation("accent",a),!0}accentNode_(e,t,n,i,o){const a=(t=t.slice(0,i+1))[1],s=t[2];let c;if(!o&&s&&(c=l.getInstance().factory_.makeBranchNode(r.SemanticType.SUBSCRIPT,[e,a],[]),c.role=r.SemanticRole.SUBSUP,t=[c,s],n=r.SemanticType.SUPERSCRIPT),o){const i=l.getInstance().accentRole_(a,n);if(s){l.getInstance().accentRole_(s,r.SemanticType.OVERSCORE)&&!i?(c=l.getInstance().factory_.makeBranchNode(r.SemanticType.OVERSCORE,[e,s],[]),t=[c,a],n=r.SemanticType.UNDERSCORE):(c=l.getInstance().factory_.makeBranchNode(r.SemanticType.UNDERSCORE,[e,a],[]),t=[c,s],n=r.SemanticType.OVERSCORE),c.role=r.SemanticRole.UNDEROVER}}return l.getInstance().makeLimitNode_(e,t,c,n)}makeLimitNode_(e,t,n,i){if(i===r.SemanticType.LIMUPPER&&e.type===r.SemanticType.LIMLOWER)return e.childNodes.push(t[1]),t[1].parent=e,e.type=r.SemanticType.LIMBOTH,e;if(i===r.SemanticType.LIMLOWER&&e.type===r.SemanticType.LIMUPPER)return e.childNodes.splice(1,-1,t[1]),t[1].parent=e,e.type=r.SemanticType.LIMBOTH,e;const a=l.getInstance().factory_.makeBranchNode(i,t,[]),s=o.isEmbellished(e);return n&&(n.embellished=s),a.embellished=s,a.role=e.role,a}getFunctionsInRow_(e,t){const r=t||[];if(0===e.length)return r;const n=e.shift(),i=l.classifyFunction_(n,e);if(!i)return r.push(n),l.getInstance().getFunctionsInRow_(e,r);const o=l.getInstance().getFunctionsInRow_(e,[]),a=l.getInstance().getFunctionArgs_(n,o,i);return r.concat(a)}getFunctionArgs_(e,t,i){let s,c,u;switch(i){case"integral":{const r=l.getInstance().getIntegralArgs_(t);if(!r.intvar&&!r.integrand.length)return r.rest.unshift(e),r.rest;const i=l.getInstance().row(r.integrand);return u=l.getInstance().integralNode_(e,i,r.intvar),n.SemanticHeuristics.run("intvar_from_fraction",u),r.rest.unshift(u),r.rest}case"prefix":if(t[0]&&t[0].type===r.SemanticType.FENCED){const n=t.shift();return o.isNeutralFence(n)||(n.role=r.SemanticRole.LEFTRIGHT),u=l.getInstance().functionNode_(e,n),t.unshift(u),t}if(s=a.sliceNodes(t,o.isPrefixFunctionBoundary),s.head.length)c=l.getInstance().row(s.head),s.div&&s.tail.unshift(s.div);else{if(!s.div||!o.isType(s.div,r.SemanticType.APPL))return t.unshift(e),t;c=s.div}return u=l.getInstance().functionNode_(e,c),s.tail.unshift(u),s.tail;case"bigop":return s=a.sliceNodes(t,o.isBigOpBoundary),s.head.length?(c=l.getInstance().row(s.head),u=l.getInstance().bigOpNode_(e,c),s.div&&s.tail.unshift(s.div),s.tail.unshift(u),s.tail):(t.unshift(e),t);default:{if(0===t.length)return[e];const n=t[0];return n.type===r.SemanticType.FENCED&&!o.isNeutralFence(n)&&o.isSimpleFunctionScope(n)?(n.role=r.SemanticRole.LEFTRIGHT,l.propagateFunctionRole_(e,r.SemanticRole.SIMPLEFUNC),u=l.getInstance().functionNode_(e,t.shift()),t.unshift(u),t):(t.unshift(e),t)}}}getIntegralArgs_(e,t=[]){if(0===e.length){const e=a.sliceNodes(t,o.isBigOpBoundary);return e.div&&e.tail.unshift(e.div),{integrand:e.head,intvar:null,rest:e.tail}}n.SemanticHeuristics.run("intvar_from_implicit",e);const i=e[0];if(o.isGeneralFunctionBoundary(i)){const{integrand:r,rest:n}=l.getInstance().getIntegralArgs_(t);return{integrand:r,intvar:null,rest:n.concat(e)}}if(o.isIntegralDxBoundarySingle(i))return i.role=r.SemanticRole.INTEGRAL,{integrand:t,intvar:i,rest:e.slice(1)};if(e[1]&&o.isIntegralDxBoundary(i,e[1])){const n=l.getInstance().prefixNode_(e[1],[i]);return n.role=r.SemanticRole.INTEGRAL,{integrand:t,intvar:n,rest:e.slice(2)}}return t.push(e.shift()),l.getInstance().getIntegralArgs_(e,t)}functionNode_(e,n){const i=l.getInstance().factory_.makeContentNode(t.NamedSymbol.functionApplication),a=l.getInstance().funcAppls[e.id];a&&(i.mathmlTree=a.mathmlTree,i.mathml=a.mathml,i.annotation=a.annotation,i.attributes=a.attributes,delete l.getInstance().funcAppls[e.id]),i.type=r.SemanticType.PUNCTUATION,i.role=r.SemanticRole.APPLICATION;const s=l.getFunctionOp_(e,function(e){return o.isType(e,r.SemanticType.FUNCTION)||o.isType(e,r.SemanticType.IDENTIFIER)&&o.isRole(e,r.SemanticRole.SIMPLEFUNC)});return l.getInstance().functionalNode_(r.SemanticType.APPL,[e,n],s,[i])}bigOpNode_(e,t){const n=l.getFunctionOp_(e,e=>o.isType(e,r.SemanticType.LARGEOP));return l.getInstance().functionalNode_(r.SemanticType.BIGOP,[e,t],n,[])}integralNode_(e,t,n){t=t||l.getInstance().factory_.makeEmptyNode(),n=n||l.getInstance().factory_.makeEmptyNode();const i=l.getFunctionOp_(e,e=>o.isType(e,r.SemanticType.LARGEOP));return l.getInstance().functionalNode_(r.SemanticType.INTEGRAL,[e,t,n],i,[])}functionalNode_(e,t,r,n){const i=t[0];let o;r&&(o=r.parent,n.push(r));const a=l.getInstance().factory_.makeBranchNode(e,t,n);return a.role=i.role,o&&(r.parent=o),a}fractionNode_(e,t){const i=l.getInstance().factory_.makeBranchNode(r.SemanticType.FRACTION,[e,t],[]);return i.role=i.childNodes.every(function(e){return o.isType(e,r.SemanticType.NUMBER)&&o.isRole(e,r.SemanticRole.INTEGER)})?r.SemanticRole.VULGAR:i.childNodes.every(o.isPureUnit)?r.SemanticRole.UNIT:r.SemanticRole.DIVISION,n.SemanticHeuristics.run("propagateSimpleFunction",i)}scriptNode_(e,t,r){let n;switch(e.length){case 0:n=l.getInstance().factory_.makeEmptyNode();break;case 1:if(n=e[0],r)return n;break;default:n=l.getInstance().dummyNode_(e)}return n.role=t,n}findNestedRow_(t,r,n,i){if(n>3)return null;for(let o,a=0;o=t[a];a++){const t=e.tagName(o);if(t!==s.MMLTAGS.MSPACE){if(t===s.MMLTAGS.MROW)return l.getInstance().findNestedRow_(e.toArray(o.childNodes),r,n+1,i);if(l.findSemantics(o,r,i))return o}}return null}}return semantic_processor.SemanticProcessor=l,l.FENCE_TO_PUNCT_={[r.SemanticRole.METRIC]:r.SemanticRole.METRIC,[r.SemanticRole.NEUTRAL]:r.SemanticRole.VBAR,[r.SemanticRole.OPEN]:r.SemanticRole.OPENFENCE,[r.SemanticRole.CLOSE]:r.SemanticRole.CLOSEFENCE},l.MML_TO_LIMIT_={[s.MMLTAGS.MSUB]:{type:r.SemanticType.LIMLOWER,length:1},[s.MMLTAGS.MUNDER]:{type:r.SemanticType.LIMLOWER,length:1},[s.MMLTAGS.MSUP]:{type:r.SemanticType.LIMUPPER,length:1},[s.MMLTAGS.MOVER]:{type:r.SemanticType.LIMUPPER,length:1},[s.MMLTAGS.MSUBSUP]:{type:r.SemanticType.LIMBOTH,length:2},[s.MMLTAGS.MUNDEROVER]:{type:r.SemanticType.LIMBOTH,length:2}},l.MML_TO_BOUNDS_={[s.MMLTAGS.MSUB]:{type:r.SemanticType.SUBSCRIPT,length:1,accent:!1},[s.MMLTAGS.MSUP]:{type:r.SemanticType.SUPERSCRIPT,length:1,accent:!1},[s.MMLTAGS.MSUBSUP]:{type:r.SemanticType.SUBSCRIPT,length:2,accent:!1},[s.MMLTAGS.MUNDER]:{type:r.SemanticType.UNDERSCORE,length:1,accent:!0},[s.MMLTAGS.MOVER]:{type:r.SemanticType.OVERSCORE,length:1,accent:!0},[s.MMLTAGS.MUNDEROVER]:{type:r.SemanticType.UNDERSCORE,length:2,accent:!0}},l.CLASSIFY_FUNCTION_={[r.SemanticRole.INTEGRAL]:"integral",[r.SemanticRole.SUM]:"bigop",[r.SemanticRole.PREFIXFUNC]:"prefix",[r.SemanticRole.LIMFUNC]:"prefix",[r.SemanticRole.SIMPLEFUNC]:"prefix",[r.SemanticRole.COMPFUNC]:"prefix"},l.MATHJAX_FONTS={"-tex-caligraphic":r.SemanticFont.CALIGRAPHIC,"-tex-caligraphic-bold":r.SemanticFont.CALIGRAPHICBOLD,"-tex-calligraphic":r.SemanticFont.CALIGRAPHIC,"-tex-calligraphic-bold":r.SemanticFont.CALIGRAPHICBOLD,"-tex-oldstyle":r.SemanticFont.OLDSTYLE,"-tex-oldstyle-bold":r.SemanticFont.OLDSTYLEBOLD,"-tex-mathit":r.SemanticFont.ITALIC},semantic_processor}function requireMathspeak_util(){if(hasRequiredMathspeak_util)return mathspeak_util;hasRequiredMathspeak_util=1,Object.defineProperty(mathspeak_util,"__esModule",{value:!0}),mathspeak_util.spaceoutText=function(t){return Array.from(t.textContent).map(e.Span.stringEmpty)},mathspeak_util.spaceoutNumber=function(e){return l(e,function(e){e.textContent.match(/\W/)||(e.type=o.SemanticType.NUMBER)})},mathspeak_util.spaceoutIdentifier=function(e){return l(e,function(e){e.font=o.SemanticFont.UNKNOWN,e.type=o.SemanticType.IDENTIFIER})},mathspeak_util.resetNestingDepth=function(e){return s={},[e]},mathspeak_util.fractionNestingDepth=h,mathspeak_util.openingFractionVerbose=function(t){return e.Span.singleton(p(t,i.LOCALE.MESSAGES.MS.START,i.LOCALE.MESSAGES.MS.FRAC_V))},mathspeak_util.closingFractionVerbose=function(t){return e.Span.singleton(p(t,i.LOCALE.MESSAGES.MS.END,i.LOCALE.MESSAGES.MS.FRAC_V),{kind:"LAST"})},mathspeak_util.overFractionVerbose=function(t){return e.Span.singleton(p(t,i.LOCALE.MESSAGES.MS.FRAC_OVER),{})},mathspeak_util.openingFractionBrief=function(t){return e.Span.singleton(p(t,i.LOCALE.MESSAGES.MS.START,i.LOCALE.MESSAGES.MS.FRAC_B))},mathspeak_util.closingFractionBrief=function(t){return e.Span.singleton(p(t,i.LOCALE.MESSAGES.MS.END,i.LOCALE.MESSAGES.MS.FRAC_B),{kind:"LAST"})},mathspeak_util.openingFractionSbrief=function(t){const r=h(t);return e.Span.singleton(1===r?i.LOCALE.MESSAGES.MS.FRAC_S:i.LOCALE.FUNCTIONS.combineNestedFraction(i.LOCALE.MESSAGES.MS.NEST_FRAC,i.LOCALE.FUNCTIONS.radicalNestDepth(r-1),i.LOCALE.MESSAGES.MS.FRAC_S))},mathspeak_util.closingFractionSbrief=function(t){const r=h(t);return e.Span.singleton(1===r?i.LOCALE.MESSAGES.MS.ENDFRAC:i.LOCALE.FUNCTIONS.combineNestedFraction(i.LOCALE.MESSAGES.MS.NEST_FRAC,i.LOCALE.FUNCTIONS.radicalNestDepth(r-1),i.LOCALE.MESSAGES.MS.ENDFRAC),{kind:"LAST"})},mathspeak_util.overFractionSbrief=function(t){const r=h(t);return e.Span.singleton(1===r?i.LOCALE.MESSAGES.MS.FRAC_OVER:i.LOCALE.FUNCTIONS.combineNestedFraction(i.LOCALE.MESSAGES.MS.NEST_FRAC,i.LOCALE.FUNCTIONS.radicalNestDepth(r-1),i.LOCALE.MESSAGES.MS.FRAC_OVER))},mathspeak_util.isSmallVulgarFraction=function(e){return i.LOCALE.FUNCTIONS.fracNestDepth(e)?[e]:[]},mathspeak_util.nestedSubSuper=f,mathspeak_util.subscriptVerbose=function(t){return e.Span.singleton(f(t,i.LOCALE.MESSAGES.MS.SUBSCRIPT,{sup:i.LOCALE.MESSAGES.MS.SUPER,sub:i.LOCALE.MESSAGES.MS.SUB}))},mathspeak_util.subscriptBrief=function(t){return e.Span.singleton(f(t,i.LOCALE.MESSAGES.MS.SUB,{sup:i.LOCALE.MESSAGES.MS.SUP,sub:i.LOCALE.MESSAGES.MS.SUB}))},mathspeak_util.superscriptVerbose=function(t){return e.Span.singleton(f(t,i.LOCALE.MESSAGES.MS.SUPERSCRIPT,{sup:i.LOCALE.MESSAGES.MS.SUPER,sub:i.LOCALE.MESSAGES.MS.SUB}))},mathspeak_util.superscriptBrief=function(t){return e.Span.singleton(f(t,i.LOCALE.MESSAGES.MS.SUP,{sup:i.LOCALE.MESSAGES.MS.SUP,sub:i.LOCALE.MESSAGES.MS.SUB}))},mathspeak_util.baselineVerbose=function(t){const r=f(t,"",{sup:i.LOCALE.MESSAGES.MS.SUPER,sub:i.LOCALE.MESSAGES.MS.SUB});return e.Span.singleton(r?r.replace(new RegExp(i.LOCALE.MESSAGES.MS.SUB+"$"),i.LOCALE.MESSAGES.MS.SUBSCRIPT).replace(new RegExp(i.LOCALE.MESSAGES.MS.SUPER+"$"),i.LOCALE.MESSAGES.MS.SUPERSCRIPT):i.LOCALE.MESSAGES.MS.BASELINE)},mathspeak_util.baselineBrief=function(t){const r=f(t,"",{sup:i.LOCALE.MESSAGES.MS.SUP,sub:i.LOCALE.MESSAGES.MS.SUB});return e.Span.singleton(r||i.LOCALE.MESSAGES.MS.BASE)},mathspeak_util.radicalNestingDepth=m,mathspeak_util.openingRadicalVerbose=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NESTED,i.LOCALE.MESSAGES.MS.STARTROOT))},mathspeak_util.closingRadicalVerbose=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NESTED,i.LOCALE.MESSAGES.MS.ENDROOT))},mathspeak_util.indexRadicalVerbose=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NESTED,i.LOCALE.MESSAGES.MS.ROOTINDEX))},mathspeak_util.openingRadicalBrief=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NEST_ROOT,i.LOCALE.MESSAGES.MS.STARTROOT))},mathspeak_util.closingRadicalBrief=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NEST_ROOT,i.LOCALE.MESSAGES.MS.ENDROOT))},mathspeak_util.indexRadicalBrief=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NEST_ROOT,i.LOCALE.MESSAGES.MS.ROOTINDEX))},mathspeak_util.openingRadicalSbrief=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NEST_ROOT,i.LOCALE.MESSAGES.MS.ROOT))},mathspeak_util.indexRadicalSbrief=function(t){return e.Span.singleton(g(t,i.LOCALE.MESSAGES.MS.NEST_ROOT,i.LOCALE.MESSAGES.MS.INDEX))},mathspeak_util.nestedUnderscript=function(t){const r=function(e){return u("underscore",e,["underscore"],c,{},function(e){return e.tagName&&e.tagName===o.SemanticType.UNDERSCORE&&e.childNodes[0].childNodes[1].getAttribute("role")===o.SemanticRole.UNDERACCENT})}(t);return e.Span.singleton(Array(r).join(i.LOCALE.MESSAGES.MS.UNDER)+i.LOCALE.MESSAGES.MS.UNDERSCRIPT)},mathspeak_util.endscripts=function(t){return e.Span.singleton(i.LOCALE.MESSAGES.MS.ENDSCRIPTS)},mathspeak_util.nestedOverscript=function(t){const r=function(e){return u("overscore",e,["overscore"],c,{},function(e){return e.tagName&&e.tagName===o.SemanticType.OVERSCORE&&e.childNodes[0].childNodes[1].getAttribute("role")===o.SemanticRole.OVERACCENT})}(t);return e.Span.singleton(Array(r).join(i.LOCALE.MESSAGES.MS.OVER)+i.LOCALE.MESSAGES.MS.OVERSCRIPT)},mathspeak_util.determinantIsSimple=function(e){if(e.tagName!==o.SemanticType.MATRIX||e.getAttribute("role")!==o.SemanticRole.DETERMINANT)return[];const t=n.evalXPath("children/row/children/cell/children/*",e);for(let r,n=0;r=t[n];n++)if(r.tagName!==o.SemanticType.NUMBER){if(r.tagName===o.SemanticType.IDENTIFIER){const e=r.getAttribute("role");if(e===o.SemanticRole.LATINLETTER||e===o.SemanticRole.GREEKLETTER||e===o.SemanticRole.OTHERLETTER)continue}return[]}return[e]},mathspeak_util.generateBaselineConstraint=function(){const e=e=>e.map(e=>"ancestor::"+e),t=e=>"not("+e+")",r=t(e(["subscript","superscript","tensor"]).join(" or ")),n=e(["relseq","multrel"]),i=e(["fraction","punctuation","fenced","sqrt","root"]);let o=[];for(let s,l=0;s=i[l];l++)o=o.concat(n.map(function(e){return s+"/"+e}));const a=t(o.join(" | "));return[["ancestor::*/following-sibling::*",r,a].join(" and ")]},mathspeak_util.removeParens=function(t){if(!t.childNodes.length||!t.childNodes[0].childNodes.length||!t.childNodes[0].childNodes[0].childNodes.length)return e.Span.singleton("");const r=t.childNodes[0].childNodes[0].childNodes[0].textContent;return e.Span.singleton(r.match(/^\(.+\)$/)?r.slice(1,-1):r)},mathspeak_util.generateTensorRules=function(e,t=!0){const r=["11111","11110","11101","11100","10111","10110","10101","10100","01111","01110","01101","01100"];for(const n of r){let r="tensor"+n,[i,o,a]=v(n);if(e.defineRule(r,"default",o,"self::tensor",...i),t&&(e.defineRule(r,"brief",a,"self::tensor",...i),e.defineRule(r,"sbrief",a,"self::tensor",...i)),!(3&parseInt(n,2)))continue;const s=y.get(2);o+="; [t]"+s+"Verbose",a+="; [t]"+s+"Brief",r+="-baseline";const l="((.//*[not(*)])[last()]/@id)!=(((.//ancestor::fraction|ancestor::root|ancestor::sqrt|ancestor::cell|ancestor::line|ancestor::stree)[1]//*[not(*)])[last()]/@id)";e.defineRule(r,"default",o,"self::tensor",l,...i),t&&(e.defineRule(r,"brief",a,"self::tensor",l,...i),e.defineRule(r,"sbrief",a,"self::tensor",l,...i))}},mathspeak_util.smallRoot=function(e){let t=Object.keys(i.LOCALE.MESSAGES.MSroots).length;if(!t)return[];t++;if(!e.childNodes||0===e.childNodes.length||!e.childNodes[0].childNodes)return[];const r=e.childNodes[0].childNodes[0].textContent;if(!/^\d+$/.test(r))return[];const n=parseInt(r,10);return n>1&&n<=t?[e]:[]};const e=requireSpan(),t=requireBase_util(),r=requireDom_util(),n=requireXpath_util(),i=requireLocale(),o=requireSemantic_meaning(),a=requireSemantic_processor();let s={};function l(e,t){const r=Array.from(e.textContent),n=[],i=a.SemanticProcessor.getInstance(),s=e.ownerDocument;for(let a,l=0;a=r[l];l++){const e=i.getNodeFactory().makeLeafNode(a,o.SemanticFont.UNKNOWN),r=i.identifierNode(e,o.SemanticFont.UNKNOWN,"");t(r),n.push(r.xml(s))}return n}const c=[o.SemanticType.CASES,o.SemanticType.CELL,o.SemanticType.INTEGRAL,o.SemanticType.LINE,o.SemanticType.MATRIX,o.SemanticType.MULTILINE,o.SemanticType.OVERSCORE,o.SemanticType.ROOT,o.SemanticType.ROW,o.SemanticType.SQRT,o.SemanticType.SUBSCRIPT,o.SemanticType.SUPERSCRIPT,o.SemanticType.TABLE,o.SemanticType.UNDERSCORE,o.SemanticType.VECTOR];function u(e,n,i,o,a,l){o=o||c,a=a||{},l=l||function(e){return!1};const u=r.serializeXml(n);if(s[e]||(s[e]={}),s[e][u])return s[e][u];if(l(n)||i.indexOf(n.tagName)<0)return 0;const h=d(n,i,t.setdifference(o,i),a,l,0);return s[e][u]=h,h}function d(e,t,n,i,o,a){if(o(e)||n.indexOf(e.tagName)>-1||function(e,t){if(!e.attributes)return!1;const n=r.toArray(e.attributes);for(let r,i=0;r=n[i];i++)if(t[r.nodeName]===r.nodeValue)return!0;return!1}(e,i))return a;if(t.indexOf(e.tagName)>-1&&a++,!e.childNodes||0===e.childNodes.length)return a;const s=r.toArray(e.childNodes);return Math.max.apply(null,s.map(function(e){return d(e,t,n,i,o,a)}))}function h(e){return u("fraction",e,["fraction"],c,{},i.LOCALE.FUNCTIONS.fracNestDepth)}function p(e,t,r){const n=h(e),o=Array(n).fill(t);return r&&o.push(r),o.join(i.LOCALE.MESSAGES.regexp.JOINER_FRAC)}function f(e,t,r){for(;e.parentNode;){const n=e.parentNode,a=n.parentNode;if(!a)break;const s=e.getAttribute&&e.getAttribute("role");(a.tagName===o.SemanticType.SUBSCRIPT&&e===n.childNodes[1]||a.tagName===o.SemanticType.TENSOR&&s&&(s===o.SemanticRole.LEFTSUB||s===o.SemanticRole.RIGHTSUB))&&(t=r.sub+i.LOCALE.MESSAGES.regexp.JOINER_SUBSUPER+t),(a.tagName===o.SemanticType.SUPERSCRIPT&&e===n.childNodes[1]||a.tagName===o.SemanticType.TENSOR&&s&&(s===o.SemanticRole.LEFTSUPER||s===o.SemanticRole.RIGHTSUPER))&&(t=r.sup+i.LOCALE.MESSAGES.regexp.JOINER_SUBSUPER+t),e=a}return t.trim()}function m(e){return u("radical",e,["sqrt","root"],c,{})}function g(e,t,r){const o=m(e),a=function(e){const t="sqrt"===e.tagName?"2":n.evalXPath("children/*[1]",e)[0].textContent.trim();return i.LOCALE.MESSAGES.MSroots[t]||""}(e);return r=a?i.LOCALE.FUNCTIONS.combineRootIndex(r,a):r,1===o?r:i.LOCALE.FUNCTIONS.combineNestedRadical(t,i.LOCALE.FUNCTIONS.radicalNestDepth(o-1),r)}const y=new Map([[3,"CSFleftsuperscript"],[4,"CSFleftsubscript"],[2,"CSFbaseline"],[1,"CSFrightsubscript"],[0,"CSFrightsuperscript"]]),b=new Map([[4,2],[3,3],[2,1],[1,4],[0,5]]);function v(e){const t=[];let r="",n="",i=parseInt(e,2);for(let o=0;o<5;o++){const e="children/*["+b.get(o)+"]";if(1&i){const t=y.get(o%5);r="[t] "+t+"Verbose; [n] "+e+";"+r,n="[t] "+t+"Brief; [n] "+e+";"+n}else t.unshift("name("+e+')="empty"');i>>=1}return[t,r,n]}return mathspeak_util}var numbers_util={},hasRequiredNumbers_util,hasRequiredClearspeak_rules;function requireNumbers_util(){if(hasRequiredNumbers_util)return numbers_util;hasRequiredNumbers_util=1,Object.defineProperty(numbers_util,"__esModule",{value:!0}),numbers_util.ordinalCounter=function(e,t){let n=0;return function(){return r.LOCALE.NUMBERS.numericOrdinal(++n)+" "+t}},numbers_util.wordCounter=function(e,t){let n=0;return function(){return r.LOCALE.NUMBERS.numberToOrdinal(++n,!1)+" "+t}},numbers_util.vulgarFraction=function(t){const i=(0,n.convertVulgarFraction)(t,r.LOCALE.MESSAGES.MS.FRAC_OVER);if(i.convertible&&i.enumerator&&i.denominator)return[e.Span.node(r.LOCALE.NUMBERS.numberToWords(i.enumerator),t.childNodes[0].childNodes[0],{separator:""}),e.Span.stringAttr(r.LOCALE.NUMBERS.vulgarSep,{separator:""}),e.Span.node(r.LOCALE.NUMBERS.numberToOrdinal(i.denominator,1!==i.enumerator),t.childNodes[0].childNodes[1])];return[e.Span.node(i.content||"",t)]},numbers_util.ordinalPosition=function(n){const i=t.toArray(n.parentNode.childNodes);return e.Span.singleton(r.LOCALE.NUMBERS.numericOrdinal(i.indexOf(n)+1).toString())};const e=requireSpan(),t=requireDom_util(),r=requireLocale(),n=requireTransformers();return numbers_util}function requireClearspeak_rules(){if(hasRequiredClearspeak_rules)return clearspeak_rules;hasRequiredClearspeak_rules=1,Object.defineProperty(clearspeak_rules,"__esModule",{value:!0}),clearspeak_rules.ClearspeakRules=function(){o.addStore(e.DynamicCstr.BASE_LOCALE+".speech.clearspeak","",{CTFpauseSeparator:t.pauseSeparator,CTFnodeCounter:r.nodeCounter,CTFcontentIterator:t.contentIterator,CSFvulgarFraction:i.vulgarFraction,CQFvulgarFractionSmall:r.isSmallVulgarFraction,CQFcellsSimple:r.allCellsSimple,CSFordinalExponent:r.ordinalExponent,CSFwordOrdinal:r.wordOrdinal,CQFmatchingFences:r.matchingFences,CSFnestingDepth:r.nestingDepth,CQFfencedArguments:r.fencedArguments,CQFsimpleArguments:r.simpleArguments,CQFspaceoutNumber:n.spaceoutNumber})};const e=requireDynamic_cstr(),t=requireStore_util(),r=requireClearspeak_util(),n=requireMathspeak_util(),i=requireNumbers_util(),o=requireSpeech_rules();return clearspeak_rules}var mathspeak_rules={},mathspeak_french_util={},hasRequiredMathspeak_french_util;function requireMathspeak_french_util(){if(hasRequiredMathspeak_french_util)return mathspeak_french_util;hasRequiredMathspeak_french_util=1,Object.defineProperty(mathspeak_french_util,"__esModule",{value:!0}),mathspeak_french_util.baselineVerbose=function(t){const r=e.baselineVerbose(t);return r[0].speech=r[0].speech.replace(/-$/,""),r},mathspeak_french_util.baselineBrief=function(t){const r=e.baselineBrief(t);return r[0].speech=r[0].speech.replace(/-$/,""),r},mathspeak_french_util.leftSuperscriptVerbose=function(t){const r=e.superscriptVerbose(t);return r[0].speech=r[0].speech.replace(/^exposant/,"exposant gauche"),r},mathspeak_french_util.leftSubscriptVerbose=function(t){const r=e.subscriptVerbose(t);return r[0].speech=r[0].speech.replace(/^indice/,"indice gauche"),r},mathspeak_french_util.leftSuperscriptBrief=function(t){const r=e.superscriptBrief(t);return r[0].speech=r[0].speech.replace(/^sup/,"sup gauche"),r},mathspeak_french_util.leftSubscriptBrief=function(t){const r=e.subscriptBrief(t);return r[0].speech=r[0].speech.replace(/^sub/,"sub gauche"),r};const e=requireMathspeak_util();return mathspeak_french_util}var mathspeak_korean_util={},hasRequiredMathspeak_korean_util;function requireMathspeak_korean_util(){if(hasRequiredMathspeak_korean_util)return mathspeak_korean_util;hasRequiredMathspeak_korean_util=1,Object.defineProperty(mathspeak_korean_util,"__esModule",{value:!0}),mathspeak_korean_util.nestedFraction=i,mathspeak_korean_util.openingFractionVerbose=function(t){return e.Span.singleton(i(t,r.LOCALE.MESSAGES.MS.START,r.LOCALE.MESSAGES.MS.FRAC_V))},mathspeak_korean_util.closingFractionVerbose=function(t){return e.Span.singleton(i(t,r.LOCALE.MESSAGES.MS.END,r.LOCALE.MESSAGES.MS.FRAC_V))},mathspeak_korean_util.openingFractionBrief=function(t){return e.Span.singleton(i(t,r.LOCALE.MESSAGES.MS.START,r.LOCALE.MESSAGES.MS.FRAC_B))},mathspeak_korean_util.closingFractionBrief=function(t){return e.Span.singleton(i(t,r.LOCALE.MESSAGES.MS.END,r.LOCALE.MESSAGES.MS.FRAC_B))},mathspeak_korean_util.openingFractionSbrief=function(n){const i=t.fractionNestingDepth(n);if(1===i)return e.Span.singleton(r.LOCALE.MESSAGES.MS.FRAC_S);return e.Span.singleton(r.LOCALE.FUNCTIONS.combineNestedFraction(r.LOCALE.FUNCTIONS.radicalNestDepth(i-1),r.LOCALE.MESSAGES.MS.NEST_FRAC,r.LOCALE.MESSAGES.MS.FRAC_S))},mathspeak_korean_util.closingFractionSbrief=function(n){const i=t.fractionNestingDepth(n);if(1===i)return e.Span.singleton(r.LOCALE.MESSAGES.MS.ENDFRAC);return e.Span.singleton(r.LOCALE.FUNCTIONS.combineNestedFraction(r.LOCALE.FUNCTIONS.radicalNestDepth(i-1),r.LOCALE.MESSAGES.MS.NEST_FRAC,r.LOCALE.MESSAGES.MS.ENDFRAC))},mathspeak_korean_util.overFractionSbrief=function(n){const i=t.fractionNestingDepth(n);if(1===i)return e.Span.singleton(r.LOCALE.MESSAGES.MS.FRAC_OVER);return e.Span.singleton(r.LOCALE.FUNCTIONS.combineNestedFraction(r.LOCALE.FUNCTIONS.radicalNestDepth(i-1),r.LOCALE.MESSAGES.MS.NEST_FRAC,r.LOCALE.MESSAGES.MS.FRAC_OVER))},mathspeak_korean_util.isSimpleIndex=function(e){return 1===n.evalXPath("children/*[1]",e)[0].toString().match(/[^>>]+<\/[^>]*>/g).length?[e]:[]},mathspeak_korean_util.nestedRadical=o,mathspeak_korean_util.openingRadicalVerbose=function(t){return e.Span.singleton(o(t,r.LOCALE.MESSAGES.MS.NESTED,r.LOCALE.MESSAGES.MS.STARTROOT))},mathspeak_korean_util.closingRadicalVerbose=function(t){return e.Span.singleton(o(t,r.LOCALE.MESSAGES.MS.NESTED,r.LOCALE.MESSAGES.MS.ENDROOT))},mathspeak_korean_util.openingRadicalBrief=function(t){return e.Span.singleton(o(t,r.LOCALE.MESSAGES.MS.NEST_ROOT,r.LOCALE.MESSAGES.MS.STARTROOT))},mathspeak_korean_util.closingRadicalBrief=function(t){return e.Span.singleton(o(t,r.LOCALE.MESSAGES.MS.NEST_ROOT,r.LOCALE.MESSAGES.MS.ENDROOT))},mathspeak_korean_util.openingRadicalSbrief=function(t){return e.Span.singleton(o(t,r.LOCALE.MESSAGES.MS.NEST_ROOT,r.LOCALE.MESSAGES.MS.ROOT))},mathspeak_korean_util.getRootIndex=a,mathspeak_korean_util.indexRadical=s,mathspeak_korean_util.indexRadicalVerbose=function(t){return e.Span.singleton(s(t,r.LOCALE.MESSAGES.MS.ROOTINDEX))},mathspeak_korean_util.indexRadicalBrief=function(t){return e.Span.singleton(s(t,r.LOCALE.MESSAGES.MS.ROOTINDEX))},mathspeak_korean_util.indexRadicalSbrief=function(t){return e.Span.singleton(s(t,r.LOCALE.MESSAGES.MS.INDEX))},mathspeak_korean_util.ordinalConversion=function(t){const i=n.evalXPath("children/*",t);return e.Span.singleton(r.LOCALE.NUMBERS.wordOrdinal(i.length))},mathspeak_korean_util.decreasedOrdinalConversion=function(t){const i=n.evalXPath("children/*",t);return e.Span.singleton(r.LOCALE.NUMBERS.wordOrdinal(i.length-1))},mathspeak_korean_util.listOrdinalConversion=function(t){const i=n.evalXPath("children/*",t),o=n.evalXPath("content/*",t);return e.Span.singleton(r.LOCALE.NUMBERS.wordOrdinal(i.length-o.length))},mathspeak_korean_util.checkDepth=function(e){return l(e,[])>3?[]:[e]},mathspeak_korean_util.getDepthValue=l;const e=requireSpan(),t=requireMathspeak_util(),r=requireLocale(),n=requireXpath_util();function i(e,n,i){const o=t.fractionNestingDepth(e),a=[...Array(o)].map(e=>n);return i&&a.unshift(i),a.join(r.LOCALE.MESSAGES.regexp.JOINER_FRAC)}function o(e,n,i){const o=t.radicalNestingDepth(e);return 1===o?i:r.LOCALE.FUNCTIONS.combineNestedRadical(r.LOCALE.FUNCTIONS.radicalNestDepth(o-1),n,i)}function a(e){const t=n.evalXPath("children/*[1]",e)[0].textContent.trim();return r.LOCALE.MESSAGES.MSroots[t]||t+""}function s(e,t){const r=a(e);return r||t}function l(e,t){const r=e.getAttribute("role");t.indexOf(r)>-1||t.push(r);const i=n.evalXPath("children/*",e);let o=0,a=0;return i.length?(i.forEach(e=>{a=l(e,t),o=a>o?a:o}),o+1):0}return mathspeak_korean_util}var unit_util={},hasRequiredUnit_util,hasRequiredMathspeak_rules;function requireUnit_util(){if(hasRequiredUnit_util)return unit_util;hasRequiredUnit_util=1,Object.defineProperty(unit_util,"__esModule",{value:!0}),unit_util.unitMultipliers=function(t,n){const i=t;let s=0;return function(){const t=e.AuditoryDescription.create({text:o(i[s])&&a(i[s+1])?r.LOCALE.MESSAGES.unitTimes:""},{});return s++,[t]}},unit_util.oneLeft=function(e){for(;e;){if("number"===e.tagName&&"1"===e.textContent)return[e];if("infixop"!==e.tagName||"multiplication"!==e.getAttribute("role")&&"implicit"!==e.getAttribute("role"))return[];e=t.evalXPath("children/*",e)[0]}return[]};const e=requireAuditory_description(),t=requireXpath_util(),r=requireLocale(),n=requireSemantic_meaning();const i=[n.SemanticType.SUPERSCRIPT,n.SemanticType.SUBSCRIPT,n.SemanticType.OVERSCORE,n.SemanticType.UNDERSCORE];function o(e){for(;e;){if("unit"===e.getAttribute("role"))return!0;const r=e.tagName,n=t.evalXPath("children/*",e);e=-1!==i.indexOf(r)?n[0]:n[n.length-1]}return!1}function a(e){for(;e;){if("unit"===e.getAttribute("role"))return!0;e=t.evalXPath("children/*",e)[0]}return!1}return unit_util}function requireMathspeak_rules(){if(hasRequiredMathspeak_rules)return mathspeak_rules;hasRequiredMathspeak_rules=1,Object.defineProperty(mathspeak_rules,"__esModule",{value:!0}),mathspeak_rules.MathspeakRules=function(){a.addStore(e.DynamicCstr.BASE_LOCALE+".speech.mathspeak","",{CQFspaceoutNumber:i.spaceoutNumber,CQFspaceoutIdentifier:i.spaceoutIdentifier,CSFspaceoutText:i.spaceoutText,CSFopenFracVerbose:i.openingFractionVerbose,CSFcloseFracVerbose:i.closingFractionVerbose,CSFoverFracVerbose:i.overFractionVerbose,CSFopenFracBrief:i.openingFractionBrief,CSFcloseFracBrief:i.closingFractionBrief,CSFopenFracSbrief:i.openingFractionSbrief,CSFcloseFracSbrief:i.closingFractionSbrief,CSFoverFracSbrief:i.overFractionSbrief,CSFvulgarFraction:o.vulgarFraction,CQFvulgarFractionSmall:i.isSmallVulgarFraction,CSFopenRadicalVerbose:i.openingRadicalVerbose,CSFcloseRadicalVerbose:i.closingRadicalVerbose,CSFindexRadicalVerbose:i.indexRadicalVerbose,CSFopenRadicalBrief:i.openingRadicalBrief,CSFcloseRadicalBrief:i.closingRadicalBrief,CSFindexRadicalBrief:i.indexRadicalBrief,CSFopenRadicalSbrief:i.openingRadicalSbrief,CSFindexRadicalSbrief:i.indexRadicalSbrief,CQFisSmallRoot:i.smallRoot,CSFsuperscriptVerbose:i.superscriptVerbose,CSFsuperscriptBrief:i.superscriptBrief,CSFsubscriptVerbose:i.subscriptVerbose,CSFsubscriptBrief:i.subscriptBrief,CSFbaselineVerbose:i.baselineVerbose,CSFbaselineBrief:i.baselineBrief,CSFleftsuperscriptVerbose:i.superscriptVerbose,CSFleftsubscriptVerbose:i.subscriptVerbose,CSFrightsuperscriptVerbose:i.superscriptVerbose,CSFrightsubscriptVerbose:i.subscriptVerbose,CSFleftsuperscriptBrief:i.superscriptBrief,CSFleftsubscriptBrief:i.subscriptBrief,CSFrightsuperscriptBrief:i.superscriptBrief,CSFrightsubscriptBrief:i.subscriptBrief,CSFunderscript:i.nestedUnderscript,CSFoverscript:i.nestedOverscript,CSFendscripts:i.endscripts,CTFordinalCounter:o.ordinalCounter,CTFwordCounter:o.wordCounter,CTFcontentIterator:t.contentIterator,CQFdetIsSimple:i.determinantIsSimple,CSFRemoveParens:i.removeParens,CQFresetNesting:i.resetNestingDepth,CGFbaselineConstraint:i.generateBaselineConstraint,CGFtensorRules:i.generateTensorRules}),a.addStore("es.speech.mathspeak",e.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CTFunitMultipliers:s.unitMultipliers,CQFoneLeft:s.oneLeft}),a.addStore("fr.speech.mathspeak",e.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CSFbaselineVerbose:r.baselineVerbose,CSFbaselineBrief:r.baselineBrief,CSFleftsuperscriptVerbose:r.leftSuperscriptVerbose,CSFleftsubscriptVerbose:r.leftSubscriptVerbose,CSFleftsuperscriptBrief:r.leftSuperscriptBrief,CSFleftsubscriptBrief:r.leftSubscriptBrief}),a.addStore("ko.speech.mathspeak",e.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CSFopenFracVerbose:n.openingFractionVerbose,CSFcloseFracVerbose:n.closingFractionVerbose,CSFopenFracBrief:n.openingFractionBrief,CSFcloseFracBrief:n.closingFractionBrief,CSFopenFracSbrief:n.openingFractionSbrief,CSFoverFracSbrief:n.overFractionSbrief,CSFcloseFracSbrief:n.closingFractionSbrief,CQFisSimpleIndex:n.isSimpleIndex,CSFindexRadicalVerbose:n.indexRadicalVerbose,CSFindexRadicalBrief:n.indexRadicalBrief,CSFindexRadicalSbrief:n.indexRadicalSbrief,CSFopenRadicalVerbose:n.openingRadicalVerbose,CSFcloseRadicalVerbose:n.closingRadicalVerbose,CSFopenRadicalBrief:n.openingRadicalBrief,CSFcloseRadicalBrief:n.closingRadicalBrief,CSFopenRadicalSbrief:n.openingRadicalSbrief})};const e=requireDynamic_cstr(),t=requireStore_util(),r=requireMathspeak_french_util(),n=requireMathspeak_korean_util(),i=requireMathspeak_util(),o=requireNumbers_util(),a=requireSpeech_rules(),s=requireUnit_util();return mathspeak_rules}var other_rules={},nemeth_util={},hasRequiredNemeth_util,hasRequiredOther_rules,hasRequiredSpeech_rule_stores;function requireNemeth_util(){if(hasRequiredNemeth_util)return nemeth_util;hasRequiredNemeth_util=1,Object.defineProperty(nemeth_util,"__esModule",{value:!0}),nemeth_util.openingFraction=function(e){const r=u.fractionNestingDepth(e);return t.Span.singleton(new Array(r).join(c.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+c.LOCALE.MESSAGES.MS.FRACTION_START)},nemeth_util.closingFraction=function(e){const r=u.fractionNestingDepth(e);return t.Span.singleton(new Array(r).join(c.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+c.LOCALE.MESSAGES.MS.FRACTION_END)},nemeth_util.overFraction=function(e){const r=u.fractionNestingDepth(e);return t.Span.singleton(new Array(r).join(c.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+c.LOCALE.MESSAGES.MS.FRACTION_OVER)},nemeth_util.overBevelledFraction=function(e){const r=u.fractionNestingDepth(e);return t.Span.singleton(new Array(r).join(c.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+""+c.LOCALE.MESSAGES.MS.FRACTION_OVER)},nemeth_util.hyperFractionBoundary=function(e){return c.LOCALE.MESSAGES.regexp.HYPER===u.fractionNestingDepth(e).toString()?[e]:[]},nemeth_util.openingRadical=function(e){return h(e,c.LOCALE.MESSAGES.MS.STARTROOT)},nemeth_util.closingRadical=function(e){return h(e,c.LOCALE.MESSAGES.MS.ENDROOT)},nemeth_util.indexRadical=function(e){return h(e,c.LOCALE.MESSAGES.MS.ROOTINDEX)},nemeth_util.relationIterator=function(t,i){var a;const s=t.slice(0);let l=!0;const d=t[0].parentNode.parentNode,h=null===(a=d.getAttribute("annotation"))||void 0===a?void 0:a.match(/depth:(\d+)/),p=h?h[1]:"";let f;f=t.length>0?n.evalXPath("./content/*",d):[];return function(){const t=f.shift(),n=s.shift(),a=s[0],h=i?[e.AuditoryDescription.create({text:i},{translate:!0})]:[];if(!t)return h;const m=n?u.nestedSubSuper(n,"",{sup:c.LOCALE.MESSAGES.MS.SUPER,sub:c.LOCALE.MESSAGES.MS.SUB}):"",g=n&&"EMPTY"!==r.tagName(n)||l&&d&&d.previousSibling?[e.AuditoryDescription.create({text:c.LOCALE.MESSAGES.regexp.SPACE+m},{})]:[],y=a&&"EMPTY"!==r.tagName(a)||!f.length&&d&&d.nextSibling?[e.AuditoryDescription.create({text:c.LOCALE.MESSAGES.regexp.SPACE},{})]:[],b=o.Engine.evaluateNode(t);return b.unshift(new e.AuditoryDescription({text:"",layout:`beginrel${p}`})),b.push(new e.AuditoryDescription({text:"",layout:`endrel${p}`})),l=!1,h.concat(g,b,y)}},nemeth_util.implicitIterator=function(t,i){const o=t.slice(0);let a;a=t.length>0?n.evalXPath("../../content/*",t[0]):[];return function(){const t=o.shift(),n=o[0],s=a.shift(),u=i?[e.AuditoryDescription.create({text:i},{translate:!0})]:[];if(!s)return u;const d=t&&"NUMBER"===r.tagName(t),h=n&&"NUMBER"===r.tagName(n);return u.concat(d&&h&&s.getAttribute("role")===l.SemanticRole.SPACE?[e.AuditoryDescription.create({text:c.LOCALE.MESSAGES.regexp.SPACE},{})]:[])}},nemeth_util.contentIterator=function(t,r){var n;const i=(0,d.contentIterator)(t,r),o=t[0].parentNode.parentNode,a=null===(n=o.getAttribute("annotation"))||void 0===n?void 0:n.match(/depth:(\d+)/),s=a?a[1]:"";return function(){const t=i();return t.unshift(new e.AuditoryDescription({text:"",layout:`beginrel${s}`})),t.push(new e.AuditoryDescription({text:"",layout:`endrel${s}`})),t}};const e=requireAuditory_description(),t=requireSpan(),r=requireDom_util(),n=requireXpath_util(),i=requireGrammar(),o=requireEngine(),a=requireSemantic_annotations(),s=requireSemantic_annotator(),l=requireSemantic_meaning(),c=requireLocale(),u=requireMathspeak_util(),d=requireStore_util();function h(e,r){const n=p(e);return t.Span.singleton(1===n?r:new Array(n).join(c.LOCALE.MESSAGES.MS.NESTED)+r)}function p(e,t){const r=t||0;return e.parentNode?p(e.parentNode,"root"===e.tagName||"sqrt"===e.tagName?r+1:r):r}i.Grammar.getInstance().setCorrection("enlargeFence",function(e){const t="";if(1===e.length)return t+e;const r=e.split("");return r.every(function(e){return""===e})?t+r.join(t):e.slice(0,-1)+t+e.slice(-1)});const f=[l.SemanticType.MULTIREL,l.SemanticType.RELSEQ,l.SemanticType.APPL,l.SemanticType.ROW,l.SemanticType.LINE],m=[l.SemanticType.SUBSCRIPT,l.SemanticType.SUPERSCRIPT,l.SemanticType.OVERSCORE,l.SemanticType.UNDERSCORE];function g(e,t){const r=e.parent;if(!r)return!1;const n=r.type;return-1!==f.indexOf(n)||n===l.SemanticType.PREFIXOP&&r.role===l.SemanticRole.NEGATIVE&&!t.script&&!t.enclosed||n===l.SemanticType.PREFIXOP&&r.role===l.SemanticRole.GEOMETRY||!(n!==l.SemanticType.PUNCTUATED||t.enclosed&&r.role!==l.SemanticRole.TEXT)}return(0,a.register)(new s.SemanticVisitor("nemeth","number",function(e,t){return e.childNodes.length?(-1!==m.indexOf(e.type)&&(t.script=!0),e.type===l.SemanticType.FENCED?(t.number=!1,t.enclosed=!0,["",t]):e.type===l.SemanticType.PREFIXOP&&e.role!==l.SemanticRole.GEOMETRY&&e.role!==l.SemanticRole.NEGATIVE?(t.number=!1,["",t]):(g(e,t)&&(t.number=!0,t.enclosed=!1),["",t])):(g(e,t)&&(t.number=!0,t.script=!1,t.enclosed=!1),[t.number?"number":"",{number:!1,enclosed:t.enclosed,script:t.script}])},{number:!0})),(0,a.register)(new s.SemanticVisitor("depth","depth",function(e){return e.parent?[parseInt(e.parent.annotation.depth[0])+1]:[1]})),(0,a.activate)("depth","depth"),i.Grammar.getInstance().setCorrection("ignoreEnglish",function(e){return(0,i.correctFont)(e,c.LOCALE.ALPHABETS.languagePrefix.english)}),i.Grammar.getInstance().setCorrection("literal",function(e){return Array.from(e).map(e=>o.Engine.getInstance().evaluator(e,o.Engine.getInstance().dynamicCstr)).join("")}),nemeth_util}function requireOther_rules(){if(hasRequiredOther_rules)return other_rules;hasRequiredOther_rules=1,Object.defineProperty(other_rules,"__esModule",{value:!0}),other_rules.PrefixRules=function(){a.addStore("en.prefix.default","",{CSFordinalPosition:o.ordinalPosition})},other_rules.OtherRules=function(){a.addStore("en.speech.chromevox","",{CTFnodeCounter:t.nodeCounter,CTFcontentIterator:t.contentIterator}),a.addStore("en.speech.emacspeak","en.speech.chromevox",{CQFvulgarFractionSmall:n.isSmallVulgarFraction,CSFvulgarFraction:o.vulgarFraction}),a.addStore("ko.summary.","ko.speech.mathspeak",{CSFordinalConversion:r.ordinalConversion,CSFdecreasedOrdinalConversion:r.decreasedOrdinalConversion,CSFlistOrdinalConversion:r.listOrdinalConversion})},other_rules.BrailleRules=function(){a.addStore("nemeth.braille.default",e.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CSFopenFraction:i.openingFraction,CSFcloseFraction:i.closingFraction,CSFoverFraction:i.overFraction,CSFoverBevFraction:i.overBevelledFraction,CQFhyperFraction:i.hyperFractionBoundary,CSFopenRadical:i.openingRadical,CSFcloseRadical:i.closingRadical,CSFindexRadical:i.indexRadical,CSFsubscript:n.subscriptVerbose,CSFsuperscript:n.superscriptVerbose,CSFbaseline:n.baselineVerbose,CGFtensorRules:e=>n.generateTensorRules(e,!1),CTFcontentIterator:i.contentIterator,CTFrelationIterator:i.relationIterator,CTFimplicitIterator:i.implicitIterator}),a.addStore("euro.braille.default","nemeth.braille.default",{})};const e=requireDynamic_cstr(),t=requireStore_util(),r=requireMathspeak_korean_util(),n=requireMathspeak_util(),i=requireNemeth_util(),o=requireNumbers_util(),a=requireSpeech_rules();return other_rules}function requireSpeech_rule_stores(){if(hasRequiredSpeech_rule_stores)return speech_rule_stores;hasRequiredSpeech_rule_stores=1,Object.defineProperty(speech_rule_stores,"__esModule",{value:!0}),speech_rule_stores.init=function(){if(n)return;(0,t.MathspeakRules)(),(0,e.ClearspeakRules)(),(0,r.PrefixRules)(),(0,r.OtherRules)(),(0,r.BrailleRules)(),n=!0};const e=requireClearspeak_rules(),t=requireMathspeak_rules(),r=requireOther_rules();let n=!1;return speech_rule_stores}var braille_store={},math_store={},base_rule_store={},speech_rule={},hasRequiredSpeech_rule;function requireSpeech_rule(){if(hasRequiredSpeech_rule)return speech_rule;hasRequiredSpeech_rule=1,Object.defineProperty(speech_rule,"__esModule",{value:!0}),speech_rule.OutputError=speech_rule.Precondition=speech_rule.Action=speech_rule.Component=speech_rule.ActionType=speech_rule.SpeechRule=void 0;const e=requireEngine(),t=requireGrammar();var r,n;function i(e){switch(e){case"[n]":return r.NODE;case"[m]":return r.MULTI;case"[t]":return r.TEXT;case"[p]":return r.PERSONALITY;default:throw"Parse error: "+e}}speech_rule.SpeechRule=class{constructor(e,t,r,n){this.name=e,this.dynamicCstr=t,this.precondition=r,this.action=n,this.context=null}toString(){return this.name+" | "+this.dynamicCstr.toString()+" | "+this.precondition.toString()+" ==> "+this.action.toString()}},(n=r||(speech_rule.ActionType=r={})).NODE="NODE",n.MULTI="MULTI",n.TEXT="TEXT",n.PERSONALITY="PERSONALITY";class o{static grammarFromString(e){return t.Grammar.parseInput(e)}static fromString(e){const t={type:i(e.substring(0,3))};let n=e.slice(3).trim();if(!n)throw new l("Missing content.");switch(t.type){case r.TEXT:if('"'===n[0]){const e=c(n,"\\(")[0].trim();if('"'!==e.slice(-1))throw new l("Invalid string syntax.");t.content=e,n=n.slice(e.length).trim(),-1===n.indexOf("(")&&(n="");break}case r.NODE:case r.MULTI:{const e=n.indexOf(" (");if(-1===e){t.content=n.trim(),n="";break}t.content=n.substring(0,e).trim(),n=n.slice(e).trim()}}if(n){const e=o.attributesFromString(n);e.grammar&&(t.grammar=e.grammar,delete e.grammar),Object.keys(e).length&&(t.attributes=e)}return new o(t)}static attributesFromString(e){if("("!==e[0]||")"!==e.slice(-1))throw new l("Invalid attribute expression: "+e);const r={},n=c(e.slice(1,-1),",");for(const i of n){const e=i.indexOf(":");if(-1===e)r[i.trim()]="true";else{const n=i.substring(0,e).trim(),a=i.slice(e+1).trim();r[n]=n===t.ATTRIBUTE?o.grammarFromString(a):a}}return r}constructor({type:e,content:t,attributes:r,grammar:n}){this.type=e,this.content=t,this.attributes=r,this.grammar=n}toString(){let e="";e+=function(e){switch(e){case r.NODE:return"[n]";case r.MULTI:return"[m]";case r.TEXT:return"[t]";case r.PERSONALITY:return"[p]";default:throw"Unknown type error: "+e}}(this.type),e+=this.content?" "+this.content:"";const t=this.attributesToString();return e+=t?" "+t:"",e}grammarToString(){return this.getGrammar().join(":")}getGrammar(){if(!this.grammar)return[];const e=[];for(const[t,r]of Object.entries(this.grammar))e.push(!0===r?t:!1===r?`!${t}`:`${t}=${r}`);return e}attributesToString(){const e=this.getAttributes(),t=this.grammarToString();return t&&e.push("grammar:"+t),e.length>0?"("+e.join(", ")+")":""}getAttributes(){if(!this.attributes)return[];const e=[];for(const[t,r]of Object.entries(this.attributes))e.push("true"===r?t:`${t}:${r}`);return e}}speech_rule.Component=o;class a{static fromString(e){const t=c(e,";").filter(function(e){return e.match(/\S/)}).map(function(e){return e.trim()}),r=[];for(let n=0,i=t.length;n<i;n++){const e=o.fromString(t[n]);e&&r.push(e)}return a.naiveSpan(r),new a(r)}static naiveSpan(e){var t;let n=!1;for(let i,o=0;i=e[o];o++){if(n&&(i.type!==r.TEXT||'"'!==i.content[0]&&!i.content.match(/^CSF/)))continue;if(!n&&i.type===r.PERSONALITY)continue;if(!n){n=!0;continue}if(null===(t=i.attributes)||void 0===t?void 0:t.span)continue;const s=e[o+1];s&&s.type!==r.NODE||a.addNaiveSpan(i,s?s.content:"LAST")}}static addNaiveSpan(e,t){e.attributes||(e.attributes={}),e.attributes.span=t}constructor(e){this.components=e}toString(){return this.components.map(function(e){return e.toString()}).join("; ")}}speech_rule.Action=a;class s{static constraintValue(e,t){for(let r,n=0;r=t[n];n++)if(e.match(r))return++n;return 0}toString(){const e=this.constraints.join(", ");return`${this.query}, ${e} (${this.priority}, ${this.rank})`}constructor(e,...t){this.query=e,this.constraints=t;const[r,n]=this.presetPriority();this.priority=r?n:this.calculatePriority()}calculatePriority(){const e=s.constraintValue(this.query,s.queryPriorities);if(!e)return 0;const t=this.query.match(/^self::.+\[(.+)\]/);let r=0;if((null==t?void 0:t.length)&&t[1]){const e=t[1];r=s.constraintValue(e,s.attributePriorities)}return 100*e+10*r}presetPriority(){if(!this.constraints.length)return[!1,0];const e=this.constraints[this.constraints.length-1].match(/^priority=(.*$)/);if(!e)return[!1,0];this.constraints.pop();const t=parseFloat(e[1]);return[!0,isNaN(t)?0:t]}}speech_rule.Precondition=s,s.queryPriorities=[/^self::\*$/,/^self::[\w-]+$/,/^self::\*\[.+\]$/,/^self::[\w-]+\[.+\]$/],s.attributePriorities=[/^@[\w-]+$/,/^@[\w-]+!=".+"$/,/^not\(contains\(@[\w-]+,\s*".+"\)\)$/,/^contains\(@[\w-]+,".+"\)$/,/^@[\w-]+=".+"$/];class l extends e.SREError{constructor(e){super(e),this.name="RuleError"}}function c(e,t){const r=[];let n="";for(;""!==e;){const i=e.search(t);if(-1===i){if((e.match(/"/g)||[]).length%2!=0)throw new l("Invalid string in expression: "+e);r.push(n+e),n="",e=""}else if((e.substring(0,i).match(/"/g)||[]).length%2==0)r.push(n+e.substring(0,i)),n="",e=e.substring(i+1);else{const t=e.substring(i).search('"');if(-1===t)throw new l("Invalid string in expression: "+e);n+=e.substring(0,i+t+1),e=e.substring(i+t+1)}}return n&&r.push(n),r}return speech_rule.OutputError=l,speech_rule}var speech_rule_context={},speech_rule_functions={},hasRequiredSpeech_rule_functions,hasRequiredSpeech_rule_context,hasRequiredBase_rule_store,hasRequiredMath_store,hasRequiredBraille_store;function requireSpeech_rule_functions(){if(hasRequiredSpeech_rule_functions)return speech_rule_functions;hasRequiredSpeech_rule_functions=1,Object.defineProperty(speech_rule_functions,"__esModule",{value:!0}),speech_rule_functions.CustomGenerators=speech_rule_functions.ContextFunctions=speech_rule_functions.CustomStrings=speech_rule_functions.CustomQueries=void 0;class e{constructor(e,t){this.prefix=e,this.store=t}add(e,t){this.checkCustomFunctionSyntax_(e)&&(this.store[e]=t)}addStore(e){const t=Object.keys(e.store);for(let r,n=0;r=t[n];n++)this.add(r,e.store[r])}lookup(e){return this.store[e]}checkCustomFunctionSyntax_(e){const t=new RegExp("^"+this.prefix);return!!e.match(t)}}speech_rule_functions.CustomQueries=class extends e{constructor(){super("CQF",{})}};speech_rule_functions.CustomStrings=class extends e{constructor(){super("CSF",{})}};speech_rule_functions.ContextFunctions=class extends e{constructor(){super("CTF",{})}};return speech_rule_functions.CustomGenerators=class extends e{constructor(){super("CGF",{})}},speech_rule_functions}function requireSpeech_rule_context(){if(hasRequiredSpeech_rule_context)return speech_rule_context;hasRequiredSpeech_rule_context=1,Object.defineProperty(speech_rule_context,"__esModule",{value:!0}),speech_rule_context.SpeechRuleContext=void 0;const e=requireSpan(),t=requireXpath_util(),r=requireSpeech_rule_functions();return speech_rule_context.SpeechRuleContext=class{constructor(){this.customQueries=new r.CustomQueries,this.customStrings=new r.CustomStrings,this.contextFunctions=new r.ContextFunctions,this.customGenerators=new r.CustomGenerators}applyCustomQuery(e,t){const r=this.customQueries.lookup(t);return r?r(e):null}applySelector(e,r){return this.applyCustomQuery(e,r)||t.evalXPath(r,e)}applyQuery(e,t){const r=this.applySelector(e,t);return r.length>0?r[0]:null}applyConstraint(e,r){return!!this.applyQuery(e,r)||t.evaluateBoolean(r,e)}constructString(e,t){const r=this.constructString_(e,t);return Array.isArray(r)?r.map(e=>e.speech).join(""):r}constructSpan(t,r,n){const i=this.constructString_(t,r);if(Array.isArray(i)){const e=i[i.length-1];return e.attributes=Object.assign({},n,e.attributes),i}return[e.Span.node(i,t,n)]}constructString_(e,r){if(!r)return"";if('"'===r.charAt(0))return r.slice(1,-1);const n=this.customStrings.lookup(r);return n?n(e):t.evaluateString(r,e)}parse(e){const t=Array.isArray(e)?e:Object.entries(e);for(const r of t){switch(r[0].slice(0,3)){case"CQF":this.customQueries.add(r[0],r[1]);break;case"CSF":this.customStrings.add(r[0],r[1]);break;case"CTF":this.contextFunctions.add(r[0],r[1]);break;case"CGF":this.customGenerators.add(r[0],r[1])}}}},speech_rule_context}function requireBase_rule_store(){if(hasRequiredBase_rule_store)return base_rule_store;hasRequiredBase_rule_store=1,Object.defineProperty(base_rule_store,"__esModule",{value:!0}),base_rule_store.BaseRuleStore=void 0;const e=requireAuditory_description(),t=requireDynamic_cstr(),r=requireSpeech_rule(),n=requireSpeech_rule_context();class i{static compareStaticConstraints_(e,t){if(e.length!==t.length)return!1;for(let r,n=0;r=e[n];n++)if(-1===t.indexOf(r))return!1;return!0}static comparePreconditions_(e,t){const r=e.precondition,n=t.precondition;return r.query===n.query&&i.compareStaticConstraints_(r.constraints,n.constraints)}constructor(){this.context=new n.SpeechRuleContext,this.parseOrder=t.DynamicCstr.DEFAULT_ORDER,this.parser=new t.DynamicCstrParser(this.parseOrder),this.locale=t.DynamicCstr.DEFAULT_VALUES[t.Axis.LOCALE],this.modality=t.DynamicCstr.DEFAULT_VALUES[t.Axis.MODALITY],this.domain="",this.initialized=!1,this.inherits=null,this.kind="standard",this.customTranscriptions={},this.preconditions=new Map,this.speechRules_=[],this.rank=0,this.parseMethods={Rule:this.defineRule,Generator:this.generateRules,Action:this.defineAction,Precondition:this.definePrecondition,Ignore:this.ignoreRules}}defineRule(e,t,n,i,...o){const a=this.parseAction(n),s=this.parsePrecondition(i,o),l=this.parseCstr(t);if(!(a&&s&&l))return null;const c=new r.SpeechRule(e,l,s,a);return c.precondition.rank=this.rank++,this.addRule(c),c}addRule(e){e.context=this.context,this.speechRules_.unshift(e)}deleteRule(e){const t=this.speechRules_.indexOf(e);-1!==t&&this.speechRules_.splice(t,1)}findRule(e){for(let t,r=0;t=this.speechRules_[r];r++)if(e(t))return t;return null}findAllRules(e){return this.speechRules_.filter(e)}evaluateDefault(e){const t=e.textContent.slice(0);return t.match(/^\s+$/)?this.evaluateWhitespace(t):this.evaluateString(t)}evaluateWhitespace(e){return[]}evaluateCustom(t){const r=this.customTranscriptions[t];return void 0!==r?e.AuditoryDescription.create({text:r},{adjust:!0,translate:!1}):null}evaluateCharacter(t){return this.evaluateCustom(t)||e.AuditoryDescription.create({text:t},{adjust:!0,translate:!0})}removeDuplicates(e){for(let t,r=this.speechRules_.length-1;t=this.speechRules_[r];r--)t!==e&&e.dynamicCstr.equal(t.dynamicCstr)&&i.comparePreconditions_(t,e)&&this.speechRules_.splice(r,1)}getSpeechRules(){return this.speechRules_}setSpeechRules(e){this.speechRules_=e}getPreconditions(){return this.preconditions}parseCstr(e){try{return this.parser.parse(this.locale+"."+this.modality+(this.domain?"."+this.domain:"")+"."+e)}catch(t){if("RuleError"===t.name)return null;throw t}}parsePrecondition(e,t){try{const n=this.parsePrecondition_(e);e=n[0];let i=n.slice(1);for(const e of t)i=i.concat(this.parsePrecondition_(e));return new r.Precondition(e,...i)}catch(n){if("RuleError"===n.name)return null;throw n}}parseAction(e){try{return r.Action.fromString(e)}catch(t){if("RuleError"===t.name)return null;throw t}}parse(e){this.modality=e.modality||this.modality,this.locale=e.locale||this.locale,this.domain=e.domain||this.domain,this.context.parse(e.functions||[]),"actions"!==e.kind&&(this.kind=e.kind||this.kind,this.inheritRules()),this.parseRules(e.rules||[])}parseRules(e){for(let t,r=0;t=e[r];r++){const e=t[0],r=this.parseMethods[e];e&&r&&r.apply(this,t.slice(1))}}generateRules(e){const t=this.context.customGenerators.lookup(e);t&&t(this)}defineAction(e,t){let n;try{n=r.Action.fromString(t)}catch(a){if("RuleError"===a.name)return;throw a}const i=this.getFullPreconditions(e);if(!i)return;this.ignoreRules(e);const o=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));i.conditions.forEach(([t,i])=>{const a=this.parseCstr(t.toString().replace(o,""));this.addRule(new r.SpeechRule(e,a,i,n))})}getFullPreconditions(e){const t=this.preconditions.get(e);return t||!this.inherits?t:this.inherits.getFullPreconditions(e)}definePrecondition(e,t,r,...n){const i=this.parsePrecondition(r,n),a=this.parseCstr(t);i&&a&&(i.rank=this.rank++,this.preconditions.set(e,new o(a,i)))}inheritRules(){if(!this.inherits||!this.inherits.getSpeechRules().length)return;const e=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));this.inherits.getSpeechRules().forEach(t=>{const n=this.parseCstr(t.dynamicCstr.toString().replace(e,""));this.addRule(new r.SpeechRule(t.name,n,t.precondition,t.action))})}ignoreRules(e,...t){let r=this.findAllRules(t=>t.name===e);if(!t.length)return void r.forEach(this.deleteRule.bind(this));let n=[];for(const i of t){const e=this.parseCstr(i);for(const t of r)e.equal(t.dynamicCstr)?this.deleteRule(t):n.push(t);r=n,n=[]}}parsePrecondition_(e){const t=this.context.customGenerators.lookup(e);return t?t():[e]}}base_rule_store.BaseRuleStore=i;class o{constructor(e,t){this.base=e,this._conditions=[],this.constraints=[],this.allCstr={},this.constraints.push(e),this.addCondition(e,t)}get conditions(){return this._conditions}addConstraint(e){if(this.constraints.filter(t=>t.equal(e)).length)return;this.constraints.push(e);const t=[];for(const[r,n]of this.conditions)this.base.equal(r)&&t.push([e,n]);this._conditions=this._conditions.concat(t)}addBaseCondition(e){this.addCondition(this.base,e)}addFullCondition(e){this.constraints.forEach(t=>this.addCondition(t,e))}addCondition(e,t){const r=e.toString()+" "+t.toString();this.allCstr.condStr||(this.allCstr[r]=!0,this._conditions.push([e,t]))}}return base_rule_store}function requireMath_store(){if(hasRequiredMath_store)return math_store;hasRequiredMath_store=1,Object.defineProperty(math_store,"__esModule",{value:!0}),math_store.MathStore=void 0;const e=requireBase_util(),t=requireLocale(),r=requireSemantic_annotations(),n=requireBase_rule_store(),i=requireSpeech_rule();class o extends n.BaseRuleStore{constructor(){super(),this.annotators=[],this.parseMethods.Alias=this.defineAlias,this.parseMethods.SpecializedRule=this.defineSpecializedRule,this.parseMethods.Specialized=this.defineSpecialized}initialize(){this.initialized||(this.annotations(),this.initialized=!0)}annotations(){for(let e,t=0;e=this.annotators[t];t++)(0,r.activate)(this.domain,e)}defineAlias(e,t,...r){const n=this.parsePrecondition(t,r);if(!n)return;const i=this.preconditions.get(e);i&&i.addFullCondition(n)}defineRulesAlias(e,t,...r){const n=this.findAllRules(function(t){return t.name===e});if(0===n.length)throw new i.OutputError("Rule with name "+e+" does not exist.");const o=[];n.forEach(e=>{(e=>{const t=e.dynamicCstr.toString(),r=e.action.toString();for(let n,i=0;n=o[i];i++)if(n.action===r&&n.cstr===t)return!1;return o.push({cstr:t,action:r}),!0})(e)&&this.addAlias_(e,t,r)})}defineSpecializedRule(e,t,r,n){const o=this.parseCstr(t),a=this.findRule(t=>t.name===e&&o.equal(t.dynamicCstr)),s=this.parseCstr(r);if(!a&&n)throw new i.OutputError("Rule named "+e+" with style "+t+" does not exist.");const l=n?i.Action.fromString(n):a.action,c=new i.SpeechRule(a.name,s,a.precondition,l);this.addRule(c)}defineSpecialized(e,t,r){const n=this.parseCstr(r);if(!n)return;const i=this.preconditions.get(e);i&&i.addConstraint(n)}evaluateString(r){const n=[];if(r.match(/^\s+$/))return n;let i=this.matchNumber(r);if(i&&i.length===r.length)return n.push(this.evaluateCharacter(i.number)),n;const o=e.removeEmpty(r.replace(/\s/g," ").split(" "));for(let e,a=0;e=o[a];a++)if(1===e.length)n.push(this.evaluateCharacter(e));else if(e.match(new RegExp("^["+t.LOCALE.MESSAGES.regexp.TEXT+"]+$")))n.push(this.evaluateCharacter(e));else{let r=e;for(;r;){i=this.matchNumber(r);const e=r.match(new RegExp("^["+t.LOCALE.MESSAGES.regexp.TEXT+"]+"));if(i)n.push(this.evaluateCharacter(i.number)),r=r.substring(i.length);else if(e)n.push(this.evaluateCharacter(e[0])),r=r.substring(e[0].length);else{const e=Array.from(r),t=e[0];n.push(this.evaluateCharacter(t)),r=e.slice(1).join("")}}}return n}parse(e){super.parse(e),this.annotators=e.annotators||[]}addAlias_(e,t,r){const n=this.parsePrecondition(t,r),o=new i.SpeechRule(e.name,e.dynamicCstr,n,e.action);o.name=e.name,this.addRule(o)}matchNumber(e){const r=e.match(new RegExp("^"+t.LOCALE.MESSAGES.regexp.NUMBER)),n=e.match(new RegExp("^"+o.regexp.NUMBER));if(!r&&!n)return null;const i=n&&n[0]===e;if(r&&r[0]===e||!i)return r?{number:r[0],length:r[0].length}:null;return{number:n[0].replace(new RegExp(o.regexp.DIGIT_GROUP,"g"),"X").replace(new RegExp(o.regexp.DECIMAL_MARK,"g"),t.LOCALE.MESSAGES.regexp.DECIMAL_MARK).replace(/X/g,t.LOCALE.MESSAGES.regexp.DIGIT_GROUP.replace(/\\/g,"")),length:n[0].length}}}return math_store.MathStore=o,o.regexp={NUMBER:"((\\d{1,3})(?=(,| ))((,| )\\d{3})*(\\.\\d+)?)|^\\d*\\.\\d+|^\\d+",DECIMAL_MARK:"\\.",DIGIT_GROUP:","},math_store}function requireBraille_store(){if(hasRequiredBraille_store)return braille_store;hasRequiredBraille_store=1,Object.defineProperty(braille_store,"__esModule",{value:!0}),braille_store.EuroStore=braille_store.BrailleStore=void 0;const e=requireMath_store(),t=requireSemantic_annotations(),r=requireSemantic_attr(),n=requireSemantic_meaning();class i extends e.MathStore{constructor(){super(...arguments),this.modality="braille",this.customTranscriptions={"":""}}evaluateString(e){const t=[],r=Array.from(e);for(let n=0;n<r.length;n++)t.push(this.evaluateCharacter(r[n]));return t}annotations(){for(let e,r=0;e=this.annotators[r];r++)(0,t.activate)(this.locale,e)}}braille_store.BrailleStore=i;return braille_store.EuroStore=class extends i{constructor(){super(...arguments),this.locale="euro",this.customTranscriptions={},this.customCommands={"\\cdot":"*","\\lt":"<","\\gt":">"},this.lastSpecial=!1,this.specialChars=["^","_","{","}"]}evaluateString(e){const t=e.split(/(\\[a-z]+|\\{|\\}|\\\\)/i),r=this.cleanup(t);return super.evaluateString(r)}cleanup(e){const t=[];let n=!1,i=null;for(let o of e){if(o.match(/^\\/)){"\\text"===o&&(n=!0),this.addSpace(r.SemanticMap.LatexCommands.get(o))&&t.push(" "),o=this.customCommands[o]||o;const e=o.match(/^\\/);e&&o.match(/^\\[a-zA-Z]+$/)&&i&&t.push(" "),i=e?o:null,t.push(o);continue}const e=o.split("");for(const r of e)n?(t.push(r),n="}"!==r,i=null):r.match(/[a-z]/i)&&i?(i=null,t.push(" "),t.push(r)):r.match(/\s/)||(this.addSpace(r)&&t.push(" "),t.push(r),i=null)}return t.join("")}addSpace(e){if(!e)return!1;if(-1!==this.specialChars.indexOf(e))return this.lastSpecial=!0,!1;if(this.lastSpecial)return this.lastSpecial=!1,!1;const t=r.SemanticMap.Meaning.get(e);return t.type===n.SemanticType.OPERATOR||t.type===n.SemanticType.RELATION||t.type===n.SemanticType.PUNCTUATION&&t.role===n.SemanticRole.COLON}},braille_store}var trie={},trie_node={},hasRequiredTrie_node;function requireTrie_node(){return hasRequiredTrie_node||(hasRequiredTrie_node=1,Object.defineProperty(trie_node,"__esModule",{value:!0}),trie_node.TrieNodeKind=void 0,(t=e||(trie_node.TrieNodeKind=e={})).ROOT="root",t.DYNAMIC="dynamic",t.QUERY="query",t.BOOLEAN="boolean",t.STATIC="static"),trie_node;var e,t}var trie_node_factory={},abstract_trie_node={},hasRequiredAbstract_trie_node,hasRequiredTrie_node_factory,hasRequiredTrie,hasRequiredSpeech_rule_engine;function requireAbstract_trie_node(){if(hasRequiredAbstract_trie_node)return abstract_trie_node;hasRequiredAbstract_trie_node=1,Object.defineProperty(abstract_trie_node,"__esModule",{value:!0}),abstract_trie_node.StaticTrieNode=abstract_trie_node.AbstractTrieNode=void 0;const e=require_debugger(),t=requireTrie_node();class r{constructor(e,r){this.constraint=e,this.test=r,this.children_={},this.kind=t.TrieNodeKind.ROOT}getConstraint(){return this.constraint}getKind(){return this.kind}applyTest(e){return this.test(e)}addChild(e){const t=e.getConstraint(),r=this.children_[t];return this.children_[t]=e,r}getChild(e){return this.children_[e]}getChildren(){const e=[];for(const t of Object.values(this.children_))e.push(t);return e}findChildren(e){const t=[];for(const r of Object.values(this.children_))r.applyTest(e)&&t.push(r);return t}removeChild(e){delete this.children_[e]}toString(){return this.constraint}}abstract_trie_node.AbstractTrieNode=r;return abstract_trie_node.StaticTrieNode=class extends r{constructor(e,r){super(e,r),this.rule_=null,this.kind=t.TrieNodeKind.STATIC}getRule(){return this.rule_}setRule(t){this.rule_&&e.Debugger.getInstance().output("Replacing rule "+this.rule_+" with "+t),this.rule_=t}toString(){return this.getRule()?this.constraint+"\n==> "+this.getRule().action:this.constraint}},abstract_trie_node}function requireTrie_node_factory(){if(hasRequiredTrie_node_factory)return trie_node_factory;hasRequiredTrie_node_factory=1,Object.defineProperty(trie_node_factory,"__esModule",{value:!0}),trie_node_factory.getNode=function(e,t,r){switch(e){case a.TrieNodeKind.ROOT:return new s;case a.TrieNodeKind.DYNAMIC:return new l(t);case a.TrieNodeKind.QUERY:return new d(t,r);case a.TrieNodeKind.BOOLEAN:return new h(t,r);default:return null}};const e=requireDom_util(),t=requireXpath_util(),r=requireGrammar(),n=requireMath_compound_store(),i=requireAbstract_trie_node(),o=requireAbstract_trie_node(),a=requireTrie_node();class s extends i.AbstractTrieNode{constructor(){super("",()=>!0),this.kind=a.TrieNodeKind.ROOT}}class l extends i.AbstractTrieNode{constructor(e){super(e,t=>t===e),this.kind=a.TrieNodeKind.DYNAMIC}}const c={"=":(e,t)=>e===t,"!=":(e,t)=>e!==t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t};function u(i){if(i.match(/^self::\*$/))return e=>!0;if(i.match(/^self::\w+$/)){const t=i.slice(6).toUpperCase();return r=>r.tagName&&e.tagName(r)===t}if(i.match(/^self::\w+:\w+$/)){const e=i.split(":"),r=t.resolveNameSpace(e[2]);if(!r)return null;const n=e[3].toUpperCase();return e=>e.localName&&e.localName.toUpperCase()===n&&e.namespaceURI===r}if(i.match(/^@\w+$/)){const e=i.slice(1);return t=>t.hasAttribute&&t.hasAttribute(e)}if(i.match(/^@\w+="[\w\d ]+"$/)){const e=i.split("="),t=e[0].slice(1),r=e[1].slice(1,-1);return e=>e.hasAttribute&&e.hasAttribute(t)&&e.getAttribute(t)===r}if(i.match(/^@\w+!="[\w\d ]+"$/)){const e=i.split("!="),t=e[0].slice(1),r=e[1].slice(1,-1);return e=>!e.hasAttribute||!e.hasAttribute(t)||e.getAttribute(t)!==r}if(i.match(/^contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)$/)){const e=i.split('"')[1];return t=>!!r.Grammar.getInstance().getParameter(e)}if(i.match(/^not\(\s*contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)\s*\)$/)){const e=i.split('"')[1];return t=>!r.Grammar.getInstance().getParameter(e)}if(i.match(/^name\(\.\.\/\.\.\)="\w+"$/)){const t=i.split('"')[1].toUpperCase();return r=>{var n,i;return(null===(i=null===(n=r.parentNode)||void 0===n?void 0:n.parentNode)||void 0===i?void 0:i.tagName)&&e.tagName(r.parentNode.parentNode)===t}}if(i.match(/^count\(preceding-sibling::\*\)=\d+$/)){const e=i.split("="),t=parseInt(e[1],10);return e=>{var r;return(null===(r=e.parentNode)||void 0===r?void 0:r.childNodes[t])===e}}if(i.match(/^.+\[@category!?=".+"\]$/)){let[,e,r,o]=i.match(/^(.+)\[@category(!?=)"(.+)"\]$/);const a=o.match(/^unit:(.+)$/);let s="";return a&&(o=a[1],s=":unit"),i=>{const a=t.evalXPath(e,i)[0];if(a){const e=n.lookupCategory(a.textContent+s);return"="===r?e===o:e!==o}return!1}}if(i.match(/^string-length\(.+\)\W+\d+/)){const[,e,r,n]=i.match(/^string-length\((.+)\)(\W+)(\d+)/),o=c[r]||c["="],a=parseInt(n,10);return r=>{const n=t.evalXPath(e,r)[0];return!!n&&o(Array.from(n.textContent).length,a)}}return null}class d extends o.StaticTrieNode{constructor(e,t){super(e,u(e)),this.context=t,this.kind=a.TrieNodeKind.QUERY}applyTest(e){return this.test?this.test(e):this.context.applyQuery(e,this.constraint)===e}}class h extends o.StaticTrieNode{constructor(e,t){super(e,u(e)),this.context=t,this.kind=a.TrieNodeKind.BOOLEAN}applyTest(e){return this.test?this.test(e):this.context.applyConstraint(e,this.constraint)}}return trie_node_factory}function requireTrie(){if(hasRequiredTrie)return trie;hasRequiredTrie=1,Object.defineProperty(trie,"__esModule",{value:!0}),trie.Trie=void 0;const e=requireTrie_node(),t=requireTrie_node_factory();class r{static collectRules_(t){const r=[];let n=[t];for(;n.length;){const t=n.shift();if(t.getKind()===e.TrieNodeKind.QUERY||t.getKind()===e.TrieNodeKind.BOOLEAN){const e=t.getRule();e&&r.unshift(e)}n=n.concat(t.getChildren())}return r}static printWithDepth_(e,t,n){n+=new Array(t+2).join(t.toString())+": "+e.toString()+"\n";const i=e.getChildren();for(let o,a=0;o=i[a];a++)n=r.printWithDepth_(o,t+1,n);return n}static order_(e){const t=e.getChildren();if(!t.length)return 0;const n=Math.max.apply(null,t.map(r.order_));return Math.max(t.length,n)}constructor(){this.root=(0,t.getNode)(e.TrieNodeKind.ROOT,"",null)}addRule(t){let r=this.root;const n=t.context,i=t.dynamicCstr.getValues();for(let a=0,s=i.length;a<s;a++)r=this.addNode_(r,i[a],e.TrieNodeKind.DYNAMIC,n);r=this.addNode_(r,t.precondition.query,e.TrieNodeKind.QUERY,n);const o=t.precondition.constraints;for(let a=0,s=o.length;a<s;a++)r=this.addNode_(r,o[a],e.TrieNodeKind.BOOLEAN,n);r.setRule(t)}lookupRules(t,r){let n=[this.root];const i=[];for(;r.length;){const t=r.shift(),i=[];for(;n.length;){n.shift().getChildren().forEach(r=>{r.getKind()===e.TrieNodeKind.DYNAMIC&&-1===t.indexOf(r.getConstraint())||i.push(r)})}n=i.slice()}for(;n.length;){const e=n.shift();if(e.getRule){const t=e.getRule();t&&i.push(t)}const r=e.findChildren(t);n=n.concat(r)}return i}hasSubtrie(e){let t=this.root;for(let r=0,n=e.length;r<n;r++){const n=e[r];if(t=t.getChild(n),!t)return!1}return!0}toString(){return r.printWithDepth_(this.root,0,"")}collectRules(e=this.root){return r.collectRules_(e)}order(){return r.order_(this.root)}enumerate(e){return this.enumerate_(this.root,e)}byConstraint(e){let t=this.root;for(;e.length&&t;){const r=e.shift();t=t.getChild(r)}return t||null}enumerate_(t,r){r=r||{};const n=t.getChildren();for(let i,o=0;i=n[o];o++)i.kind===e.TrieNodeKind.DYNAMIC&&(r[i.getConstraint()]=this.enumerate_(i,r[i.getConstraint()]));return r}addNode_(e,r,n,i){let o=e.getChild(r);return o||(o=(0,t.getNode)(n,r,i),e.addChild(o)),o}}return trie.Trie=r,trie}function requireSpeech_rule_engine(){if(hasRequiredSpeech_rule_engine)return speech_rule_engine;hasRequiredSpeech_rule_engine=1,Object.defineProperty(speech_rule_engine,"__esModule",{value:!0}),speech_rule_engine.SpeechRuleEngine=void 0;const e=requireAuditory_description(),t=requireSpan(),r=require_debugger(),n=requireDom_util(),i=requireEngine(),o=requireEngine_const(),a=requireXpath_util(),s=requireSpeech_rules(),l=requireSpeech_rule_stores(),c=requireBraille_store(),u=requireDynamic_cstr(),d=requireGrammar(),h=requireMath_store(),p=requireSpeech_rule(),f=requireTrie();class m{static getInstance(){return m.instance=m.instance||new m,m.instance}static debugSpeechRule(e,t){const n=e.precondition,i=e.context.applyQuery(t,n.query);r.Debugger.getInstance().output(n.query,i?i.toString():i),n.constraints.forEach(n=>r.Debugger.getInstance().output(n,e.context.applyConstraint(t,n)))}static debugNamedSpeechRule(e,t){const n=m.getInstance().trie.collectRules().filter(t=>t.name==e);for(let i,o=0;i=n[o];o++)r.Debugger.getInstance().output("Rule",e,"DynamicCstr:",i.dynamicCstr.toString(),"number",o),m.debugSpeechRule(i,t)}evaluateNode(e){(0,a.updateEvaluator)(e);const t=(new Date).getTime();let n=[];try{n=this.evaluateNode_(e)}catch(o){r.Debugger.getInstance().output(o)}const i=(new Date).getTime();return r.Debugger.getInstance().output("Time:",i-t),n}toString(){return this.trie.collectRules().map(e=>e.toString()).join("\n")}runInSetting(e,t){const r=i.Engine.getInstance(),n={};for(const[i,a]of Object.entries(e))n[i]=r[i],r[i]=a;r.setDynamicCstr();const o=t();for(const[i,a]of Object.entries(n))r[i]=a;return r.setDynamicCstr(),o}static addStore(e){const t=function(e){const t=`${e.locale}.${e.modality}.${e.domain}`;if("actions"===e.kind){const r=g.get(t);return r.parse(e),r}l.init(),e&&!e.functions&&(e.functions=s.getStore(e.locale,e.modality,e.domain));const r=function(e,t){if("braille"===t&&"euro"===e)return new c.EuroStore;if("braille"===t)return new c.BrailleStore;return new h.MathStore}(e.locale,e.modality);g.set(t,r),e.inherits&&(r.inherits=g.get(`${e.inherits}.${e.modality}.${e.domain}`));return r.parse(e),r.initialize(),r}(e);"abstract"!==t.kind&&t.getSpeechRules().forEach(e=>m.getInstance().trie.addRule(e)),m.getInstance().addEvaluator(t)}processGrammar(e,t,r){const n={};for(const[i,o]of Object.entries(r))n[i]="string"==typeof o?e.constructString(t,o):o;d.Grammar.getInstance().pushState(n)}addEvaluator(e){const t=e.evaluateDefault.bind(e),r=this.evaluators_[e.locale];if(r)return void(r[e.modality]=t);const n={};n[e.modality]=t,this.evaluators_[e.locale]=n}getEvaluator(e,t){const r=this.evaluators_[e]||this.evaluators_[u.DynamicCstr.DEFAULT_VALUES[u.Axis.LOCALE]];return r[t]||r[u.DynamicCstr.DEFAULT_VALUES[u.Axis.MODALITY]]}enumerate(e){return this.trie.enumerate(e)}constructor(){this.trie=null,this.evaluators_={},this.trie=new f.Trie}evaluateNode_(t){if(!t)return[];this.updateConstraint_();let r=this.evaluateTree_(t);return r=function(t){const r=new e.AuditoryList(t);for(const e of r.annotations){const t=e.data;if("punctuation"===t.annotation){const n=r.prevText(e);if(!n)continue;const i=n.data;"punctuation"!==i.annotation&&""!==i.text&&1===t.text.length&&-1!==y.indexOf(t.text)&&(t.text=""+t.text)}}return r.toList()}(r),r}evaluateTree_(s){const l=i.Engine.getInstance();let c;r.Debugger.getInstance().output(l.mode!==o.Mode.HTTP?s.toString():s),d.Grammar.getInstance().setAttribute(s);const u=this.lookupRule(s,l.dynamicCstr);if(!u)return l.strict?[]:(c=this.getEvaluator(l.locale,l.modality)(s),s.attributes&&this.addPersonality_(c,{},!1,s),c);r.Debugger.getInstance().generateOutput(()=>["Apply Rule:",u.name,u.dynamicCstr.toString(),l.mode===o.Mode.HTTP?n.serializeXml(s):s.toString()]),d.Grammar.getInstance().processSingles();const h=u.context,f=u.action.components;c=[];for(let r,n=0;r=f[n];n++){let n=[];const o=r.content||"",l=r.attributes||{};let u=!1;r.grammar&&this.processGrammar(h,s,r.grammar);let f=null;if(l.engine){f=i.Engine.getInstance().dynamicCstr.getComponents();const e=Object.assign({},f,d.Grammar.parseInput(l.engine));i.Engine.getInstance().setDynamicCstr(e),this.updateConstraint_()}switch(r.type){case p.ActionType.NODE:{const e=h.applyQuery(s,o);e&&(n=this.evaluateTree_(e))}break;case p.ActionType.MULTI:{u=!0;const e=h.applySelector(s,o);e.length>0&&(n=this.evaluateNodeList_(h,e,l.sepFunc,h.constructString(s,l.separator),l.ctxtFunc,h.constructString(s,l.context)))}break;case p.ActionType.TEXT:{const r=l.span;let i={};if(r){const e=(0,a.evalXPath)(r,s);i=e.length?t.Span.getAttributes(e[0]):{kind:r}}n=h.constructSpan(s,o,i).map(function(t){return e.AuditoryDescription.create({text:t.speech,attributes:t.attributes},{adjust:!0})})}break;case p.ActionType.PERSONALITY:default:n=[e.AuditoryDescription.create({text:o})]}n[0]&&!u&&(l.context&&(n[0].context=h.constructString(s,l.context)+(n[0].context||"")),l.annotation&&(n[0].annotation=l.annotation)),this.addLayout(n,l,u),r.grammar&&d.Grammar.getInstance().popState(),c=c.concat(this.addPersonality_(n,l,u,s)),f&&(i.Engine.getInstance().setDynamicCstr(f),this.updateConstraint_())}return d.Grammar.getInstance().popState(),c}evaluateNodeList_(t,r,n,i,o,a){if(!r.length)return[];const s=i||"",l=a||"",c=t.contextFunctions.lookup(o),u=c?c(r,l):function(){return l},d=t.contextFunctions.lookup(n),h=d?d(r,s):function(){return[e.AuditoryDescription.create({text:s},{translate:!0})]};let p=[];for(let e,f=0;e=r[f];f++){const t=this.evaluateTree_(e);if(t.length>0&&(t[0].context=u()+(t[0].context||""),p=p.concat(t),f<r.length-1)){const e=h();p=p.concat(e)}}return p}addLayout(t,r,n){const i=r.layout;i&&(i.match(/^begin/)?t.unshift(new e.AuditoryDescription({text:"",layout:i})):i.match(/^end/)?t.push(new e.AuditoryDescription({text:"",layout:i})):(t.unshift(new e.AuditoryDescription({text:"",layout:`begin${i}`})),t.push(new e.AuditoryDescription({text:"",layout:`end${i}`}))))}addPersonality_(t,r,n,i){const a={};let s=null;for(const e of o.personalityPropList){const t=r[e];if(void 0===t)continue;const n=parseFloat(t),i=isNaN(n)?'"'===t.charAt(0)?t.slice(1,-1):t:n;e===o.personalityProps.PAUSE?s=i:a[e]=i}for(let e,o=0;e=t[o];o++)this.addRelativePersonality_(e,a),this.addExternalAttributes_(e,i);if(n&&t.length&&delete t[t.length-1].personality[o.personalityProps.JOIN],s&&t.length){const r=t[t.length-1];r.text||Object.keys(r.personality).length?t.push(e.AuditoryDescription.create({text:"",personality:{pause:s}})):r.personality[o.personalityProps.PAUSE]=s}return t}addExternalAttributes_(e,t){if(void 0===e.attributes.id&&(e.attributes.id=t.getAttribute("id")),t.hasAttributes()){const r=t.attributes;for(let t=r.length-1;t>=0;t--){const n=r[t].name;!e.attributes[n]&&n.match(/^ext/)&&(e.attributes[n]=r[t].value)}}}addRelativePersonality_(e,t){if(!e.personality)return e.personality=t,e;const r=e.personality;for(const[n,i]of Object.entries(t))r[n]&&"number"==typeof r[n]&&"number"==typeof i?r[n]=(r[n]+i).toString():r[n]||(r[n]=i);return e}updateConstraint_(){const e=i.Engine.getInstance().dynamicCstr,t=i.Engine.getInstance().strict,r=this.trie,n={};let o=e.getValue(u.Axis.LOCALE),a=e.getValue(u.Axis.MODALITY),s=e.getValue(u.Axis.DOMAIN);r.hasSubtrie([o,a,s])||(s=u.DynamicCstr.DEFAULT_VALUES[u.Axis.DOMAIN],r.hasSubtrie([o,a,s])||(a=u.DynamicCstr.DEFAULT_VALUES[u.Axis.MODALITY],r.hasSubtrie([o,a,s])||(o=u.DynamicCstr.DEFAULT_VALUES[u.Axis.LOCALE]))),n[u.Axis.LOCALE]=[o],n[u.Axis.MODALITY]=["summary"!==a?a:u.DynamicCstr.DEFAULT_VALUES[u.Axis.MODALITY]],n[u.Axis.DOMAIN]=["speech"!==a?u.DynamicCstr.DEFAULT_VALUES[u.Axis.DOMAIN]:s];const l=e.getOrder();for(let i,c=0;i=l[c];c++)if(!n[i]){const r=e.getValue(i),o=this.makeSet_(r,e.preference),a=u.DynamicCstr.DEFAULT_VALUES[i];t||r===a||o.push(a),n[i]=o}e.updateProperties(n)}makeSet_(e,t){return t&&Object.keys(t).length?e.split(":"):[e]}lookupRule(e,t){if(!e||e.nodeType!==n.NodeType.ELEMENT_NODE&&e.nodeType!==n.NodeType.TEXT_NODE)return null;const r=this.lookupRules(e,t);return r.length>0?this.pickMostConstraint_(t,r):null}lookupRules(e,t){return this.trie.lookupRules(e,t.allProperties())}pickMostConstraint_(e,t){const n=i.Engine.getInstance().comparator;return t.sort(function(e,t){return n.compare(e.dynamicCstr,t.dynamicCstr)||t.precondition.priority-e.precondition.priority||t.precondition.constraints.length-e.precondition.constraints.length||t.precondition.rank-e.precondition.rank}),r.Debugger.getInstance().generateOutput((()=>t.map(e=>e.name+"("+e.dynamicCstr.toString()+")")).bind(this)),t[0]}}speech_rule_engine.SpeechRuleEngine=m;const g=new Map;i.Engine.nodeEvaluator=m.getInstance().evaluateNode.bind(m.getInstance());const y=["","","","","",""];return speech_rule_engine}var alphabet_generator={},hasRequiredAlphabet_generator,hasRequiredMath_map,hasRequiredEngine_setup;function requireAlphabet_generator(){if(hasRequiredAlphabet_generator)return alphabet_generator;hasRequiredAlphabet_generator=1,Object.defineProperty(alphabet_generator,"__esModule",{value:!0}),alphabet_generator.generateBase=function(){for(const t of e.INTERVALS.values()){const e=t.unicode;for(const r of e)o.baseStores.set(r,{key:r,category:t.category})}},alphabet_generator.generate=function(i){const s=t.Engine.getInstance().locale;t.Engine.getInstance().locale=i,r.setLocale(),o.changeLocale({locale:i}),function(){const e=n.LOCALE.ALPHABETS,t=(e,t)=>{const r={};return Object.keys(e).forEach(e=>r[e]=!0),Object.keys(t).forEach(e=>r[e]=!0),Object.keys(r)};a.small=t(e.smallPrefix,e.letterTrans),a.capital=t(e.capPrefix,e.letterTrans),a.digit=t(e.digitPrefix,e.digitTrans)}();for(const t of e.INTERVALS.values()){const e=t.unicode;if("offset"in t)c(e,t.font,t.offset||0);else{l(e,n.LOCALE.ALPHABETS[t.base],t.font,!!t.capital)}}t.Engine.getInstance().locale=s,r.setLocale()};const e=requireAlphabet(),t=requireEngine(),r=requireL10n(),n=requireLocale(),i=requireLocale_util(),o=requireMath_compound_store(),a={small:["default"],capital:["default"],digit:["default"]};function s(e){const t="normal"===e||"fullwidth"===e?"":n.LOCALE.MESSAGES.font[e]||n.LOCALE.MESSAGES.embellish[e]||"";return(0,i.localeFontCombiner)(t)}function l(e,t,r,i){const o=s(r);for(let s,l,c=0;s=e[c],l=t[c];c++){const e=i?n.LOCALE.ALPHABETS.capPrefix:n.LOCALE.ALPHABETS.smallPrefix,t=i?a.capital:a.small;u(o.combiner,s,l,o.font,e,n.LOCALE.ALPHABETS.letterTrans,t)}}function c(e,t,r){const i=s(t);for(let o,s=0;o=e[s];s++){const e=n.LOCALE.ALPHABETS.digitPrefix,t=s+r;u(i.combiner,o,t,i.font,e,n.LOCALE.ALPHABETS.digitTrans,a.digit)}}function u(e,t,r,n,i,a,s){for(let l,c=0;l=s[c];c++){const s=l in a?a[l]:a.default,c=l in i?i[l]:i.default;o.defineRule(l,"default",t,e(s(r),n,c))}}return alphabet_generator}function requireMath_map(){if(hasRequiredMath_map)return math_map;hasRequiredMath_map=1;var e=math_map&&math_map.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(math_map,"__esModule",{value:!0}),math_map.loadLocale=function(){return e(this,arguments,void 0,function*(t=r.Engine.getInstance().locale){return h||(u.generateBase(),p(a.DynamicCstr.BASE_LOCALE),h=!0),r.EnginePromise.promises[a.DynamicCstr.BASE_LOCALE].then(()=>e(this,void 0,void 0,function*(){const n=r.Engine.getInstance().defaultLocale;return n?(p(n),r.EnginePromise.promises[n].then(()=>e(this,void 0,void 0,function*(){return p(t),r.EnginePromise.promises[t]}))):(p(t),r.EnginePromise.promises[t])}))})},math_map.standardLoader=f;const t=requireBrowser_util(),r=requireEngine(),n=requireEngine_const(),i=requireFile_util(),o=requireSystem_external(),a=requireDynamic_cstr(),s=requireMath_compound_store(),l=requireSpeech_rule_engine(),c=requireL10n(),u=requireAlphabet_generator(),d={functions:s.addFunctionRules,symbols:s.addSymbolRules,units:s.addUnitRules,si:e=>e.forEach(s.setSiPrefixes),messages:c.completeLocale,rules:l.SpeechRuleEngine.addStore,characters:s.addCharacterRules};let h=!1;function p(e=r.Engine.getInstance().locale){r.EnginePromise.loaded[e]||(r.EnginePromise.loaded[e]=[!1,!1],s.reset(),function(e){if(r.Engine.getInstance().isIE&&r.Engine.getInstance().mode===n.Mode.HTTP)return void g(e);!function(e){const t=function(){if(r.Engine.getInstance().customLoader)return r.Engine.getInstance().customLoader;return f()}(),n=new Promise(n=>{t(e).then(t=>{var i;m("string"==typeof(i=t)?JSON.parse(i):i),r.EnginePromise.loaded[e]=[!0,!0],n(e)},t=>{r.EnginePromise.loaded[e]=[!0,!1],r.Engine.getInstance().locale=r.Engine.getInstance().defaultLocale,n(e)})});r.EnginePromise.promises[e]=n}(e)}(e))}function f(){switch(r.Engine.getInstance().mode){case n.Mode.ASYNC:return y;case n.Mode.HTTP:return v;case n.Mode.SYNC:default:return b}}function m(e,t){let r=!0;for(let n,i=0;n=Object.keys(e)[i];i++){const i=n.split("/");t&&t!==i[0]||(r&&"symbols"===i[1]&&"base"!==i[0]&&(u.generate(i[0]),r=!1),d[i[1]](e[n]))}}function g(e,r){let n=r||1;t.mapsForIE?m(t.mapsForIE,e):n<=5&&setTimeout((()=>g(e,n++)).bind(this),300)}function y(e){const t=i.localePath(e);return new Promise((e,r)=>{o.SystemExternal.fs.readFile(t,"utf8",(t,n)=>{if(t)return r(t);e(n)})})}function b(e){const t=i.localePath(e);return new Promise((e,r)=>{let n="{}";try{n=o.SystemExternal.fs.readFileSync(t,"utf8")}catch(i){return r(i)}e(n)})}function v(e){const t=i.localePath(e),r=new XMLHttpRequest;return new Promise((e,n)=>{r.onreadystatechange=function(){if(4===r.readyState){const t=r.status;0===t||t>=200&&t<400?e(r.responseText):n(t)}},r.open("GET",t,!0),r.send()})}return math_map}function requireEngine_setup(){if(hasRequiredEngine_setup)return engine_setup;hasRequiredEngine_setup=1;var e=engine_setup&&engine_setup.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(engine_setup,"__esModule",{value:!0}),engine_setup.setup=function(u){return e(this,void 0,void 0,function*(){!function(e){if(e.modality&&"speech"!==e.modality||!e.modality&&"speech"!==o.Engine.getInstance().modality)return;if(!e.domain)return;if("default"===e.domain)return void(e.domain="mathspeak");const t=e.locale||o.Engine.getInstance().locale,r=e.domain;if(-1!==l.indexOf(t))return void("mathspeak"!==r&&(e.domain="mathspeak"));if("en"===t)return void(-1===c.indexOf(r)&&(e.domain="mathspeak"));"mathspeak"!==r&&"clearspeak"!==r&&(e.domain="mathspeak")}(u);const e=o.Engine.getInstance(),d=t=>{void 0!==u[t]&&(e[t]=u[t])};return d("mode"),e.configurate(u),o.Engine.BINARY_FEATURES.forEach(t=>{void 0!==u[t]&&(e[t]=!!u[t])}),o.Engine.STRING_FEATURES.forEach(d),u.debug&&i.Debugger.getInstance().init(),u.json&&(s.SystemExternal.jsonPath=a.makePath(u.json)),u.xpath&&(s.SystemExternal.WGXpath=u.xpath),e.setCustomLoader(u.custom),function(e){e.isIE=n.detectIE(),e.isEdge=n.detectEdge()}(e),t.setLocale(),e.setDynamicCstr(),e.init?(o.EnginePromise.promises.init=new Promise((e,t)=>{setTimeout(()=>{e("init")},10)}),e.init=!1,o.EnginePromise.get()):e.delay?(e.delay=!1,o.EnginePromise.get()):r.loadLocale()})};const t=requireL10n(),r=requireMath_map(),n=requireBrowser_util(),i=require_debugger(),o=requireEngine(),a=requireFile_util(),s=requireSystem_external(),l=["ca","da","es"],c=["chromevox","clearspeak","mathspeak","emacspeak","html"];return engine_setup}var processor_factory={},aural_rendering={},acss_renderer={},event_util={},hasRequiredEvent_util;function requireEvent_util(){if(hasRequiredEvent_util)return event_util;var e,t,r,n;hasRequiredEvent_util=1,Object.defineProperty(event_util,"__esModule",{value:!0}),event_util.Event=event_util.Move=event_util.KeyCode=void 0,(t=e||(event_util.KeyCode=e={}))[t.ENTER=13]="ENTER",t[t.ESC=27]="ESC",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.TAB=9]="TAB",t[t.LESS=188]="LESS",t[t.GREATER=190]="GREATER",t[t.DASH=189]="DASH",t[t.ZERO=48]="ZERO",t[t.ONE=49]="ONE",t[t.TWO=50]="TWO",t[t.THREE=51]="THREE",t[t.FOUR=52]="FOUR",t[t.FIVE=53]="FIVE",t[t.SIX=54]="SIX",t[t.SEVEN=55]="SEVEN",t[t.EIGHT=56]="EIGHT",t[t.NINE=57]="NINE",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",event_util.Move=new Map([[13,"ENTER"],[27,"ESC"],[32,"SPACE"],[33,"PAGE_UP"],[34,"PAGE_DOWN"],[35,"END"],[36,"HOME"],[37,"LEFT"],[38,"UP"],[39,"RIGHT"],[40,"DOWN"],[9,"TAB"],[188,"LESS"],[190,"GREATER"],[189,"DASH"],[48,"ZERO"],[49,"ONE"],[50,"TWO"],[51,"THREE"],[52,"FOUR"],[53,"FIVE"],[54,"SIX"],[55,"SEVEN"],[56,"EIGHT"],[57,"NINE"],[65,"A"],[66,"B"],[67,"C"],[68,"D"],[69,"E"],[70,"F"],[71,"G"],[72,"H"],[73,"I"],[74,"J"],[75,"K"],[76,"L"],[77,"M"],[78,"N"],[79,"O"],[80,"P"],[81,"Q"],[82,"R"],[83,"S"],[84,"T"],[85,"U"],[86,"V"],[87,"W"],[88,"X"],[89,"Y"],[90,"Z"]]),(n=r||(r={})).CLICK="click",n.DBLCLICK="dblclick",n.MOUSEDOWN="mousedown",n.MOUSEUP="mouseup",n.MOUSEOVER="mouseover",n.MOUSEOUT="mouseout",n.MOUSEMOVE="mousemove",n.SELECTSTART="selectstart",n.KEYPRESS="keypress",n.KEYDOWN="keydown",n.KEYUP="keyup",n.TOUCHSTART="touchstart",n.TOUCHMOVE="touchmove",n.TOUCHEND="touchend",n.TOUCHCANCEL="touchcancel";return event_util.Event=class{constructor(e,t,r){this.src=e,this.type=t,this.callback=r}add(){this.src.addEventListener(this.type,this.callback)}remove(){this.src.removeEventListener(this.type,this.callback)}},event_util}var audio_util={},hasRequiredAudio_util;function requireAudio_util(){if(hasRequiredAudio_util)return audio_util;hasRequiredAudio_util=1,Object.defineProperty(audio_util,"__esModule",{value:!0}),audio_util.mergePause=function(e,t,r){if(!e)return t;return{pause:i(e.pause,t.pause,r)}},audio_util.mergeMarkup=function(e,t){delete e.open,t.close.forEach(t=>delete e[t]),t.open.forEach(r=>e[r]=t[r]);const r=Object.keys(e);e.open=r},audio_util.sortClose=function(e,t){if(e.length<=1)return e;const r=[];for(let n,i=0;n=t[i],e.length;i++)n.close&&n.close.length&&n.close.forEach(function(t){const n=e.indexOf(t);-1!==n&&(r.unshift(t),e.splice(n,1))});return r},audio_util.personalityMarkup=function(e){o={},a=[];let n=[];const i={};for(let r,o=0;r=e[o];o++){let e=null;const o=r.descriptionSpan(),a=r.personality,s=a[t.personalityProps.JOIN];delete a[t.personalityProps.JOIN],void 0!==a[t.personalityProps.PAUSE]&&(e={[t.personalityProps.PAUSE]:a[t.personalityProps.PAUSE]},delete a[t.personalityProps.PAUSE]);h(n,o,p(a,i),s,e,!0)}return n=n.concat(function(){const e=[];for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.length){const t={open:[],close:[]};for(let e=0;e<r.length;e++){const n=r[e];t.close.push(n),t[n]=0}e.push(t)}}return e}()),n=function(e){const t={},r=[];for(let n,i=0;n=e[i];i++){if(!c(n)){s(r,n);continue}if(!n.close||1!==n.close.length||n.open.length){l(n,t),r.push(n);continue}let o=e[i+1];if(!o||d(o)){l(n,t),r.push(n);continue}const a=u(o)?o:null;a&&(o=e[i+2]),o&&c(o)&&o.open[0]===n.close[0]&&!o.close.length&&o[o.open[0]]===t[o.open[0]]?a?(s(r,a),i+=2):i+=1:(l(n,t),r.push(n))}return r}(n),n=r.Engine.getInstance().cleanpause?function(e){for(;u(e[0]);)e.shift();for(;u(e[e.length-1]);)e.pop();return e}(n):n,n},audio_util.isMarkupElement=c,audio_util.isPauseElement=u;const e=requireBase_util(),t=requireEngine_const(),r=requireEngine(),n=requireSpan();function i(e,t,r){return(r||function(r,n){return"number"==typeof r&&"number"==typeof n?r+n:"number"==typeof r?n:"number"==typeof n?r:[e,t].sort()[0]}).call(null,e,t)}let o={},a=[];function s(e,t){const r=e[e.length-1];if(r){if(d(t)&&d(r)){if(void 0===r.join)return void(r.span=r.span.concat(t.span));const e=r.span.pop(),n=t.span.shift();return r.span.push(e+r.join+n),r.span=r.span.concat(t.span),void(r.join=t.join)}u(t)&&u(r)?r.pause=i(r.pause,t.pause):e.push(t)}else e.push(t)}function l(e,t){e.rate&&(t.rate=e.rate),e.pitch&&(t.pitch=e.pitch),e.volume&&(t.volume=e.volume)}function c(e){return"object"==typeof e&&e.open}function u(e){return"object"==typeof e&&1===Object.keys(e).length&&Object.keys(e)[0]===t.personalityProps.PAUSE}function d(e){const t=Object.keys(e);return"object"==typeof e&&(1===t.length&&"span"===t[0]||2===t.length&&("span"===t[0]&&"join"===t[1]||"span"===t[1]&&"join"===t[0]))}function h(e,r,o,a,s,l=!1){if(l){const l=e[e.length-1];let c;if(l&&(c=l[t.personalityProps.JOIN]),l&&!r.speech&&s&&u(l)){const e=t.personalityProps.PAUSE;l[e]=i(l[e],s[e]),s=null}if(l&&r.speech&&0===Object.keys(o).length&&d(l)){if(void 0!==c){const e=l.span.pop();r=n.Span.stringAttr(e.speech+c+r.speech,e.attributes)}l.span.push(r),r=n.Span.empty(),l[t.personalityProps.JOIN]=a}}0!==Object.keys(o).length&&e.push(o),r.speech&&e.push({span:[r],join:a}),s&&e.push(s)}function p(r,n){if(!n)return r;const i={};for(const e of t.personalityPropList){const t=r[e],a=n[e];if(!t&&!a||t&&a&&t===a)continue;const s=t||0;c(i)||(i.open=[],i.close=[]),t||i.close.push(e),a||i.open.push(e),a&&t&&(i.close.push(e),i.open.push(e)),n[e]=s,i[e]=s,o[e]?o[e].push(s):o[e]=[s]}if(c(i)){let t=i.close.slice();for(;t.length>0;){let r=a.pop();const o=(0,e.setdifference)(r,t);if(t=(0,e.setdifference)(t,r),r=o,0!==t.length){if(0!==r.length){i.close=i.close.concat(r),i.open=i.open.concat(r);for(let e,t=0;e=r[t];t++)i[e]=n[e]}}else 0!==r.length&&a.push(r)}a.push(i.open)}return i}return audio_util}var markup_renderer={},abstract_audio_renderer={},hasRequiredAbstract_audio_renderer,hasRequiredMarkup_renderer,hasRequiredAcss_renderer;function requireAbstract_audio_renderer(){if(hasRequiredAbstract_audio_renderer)return abstract_audio_renderer;hasRequiredAbstract_audio_renderer=1,Object.defineProperty(abstract_audio_renderer,"__esModule",{value:!0}),abstract_audio_renderer.AbstractAudioRenderer=void 0;const e=requireEngine();return abstract_audio_renderer.AbstractAudioRenderer=class{constructor(){this.separator_=" "}set separator(e){this.separator_=e}get separator(){return"braille"===e.Engine.getInstance().modality?"":this.separator_}error(e){return null}merge(e){let t="";const r=e.length-1;for(let n,i=0;n=e[i];i++)if(t+=n.speech,i<r){const e=n.attributes.separator;t+=void 0!==e?e:this.separator}return t}finalize(e){return e}pauseValue(t){let r;switch(t){case"long":r=750;break;case"medium":r=500;break;case"short":r=250;break;default:r=parseInt(t,10)}return Math.floor(r*e.Engine.getInstance().getRate()/100)}},abstract_audio_renderer}function requireMarkup_renderer(){if(hasRequiredMarkup_renderer)return markup_renderer;hasRequiredMarkup_renderer=1,Object.defineProperty(markup_renderer,"__esModule",{value:!0}),markup_renderer.MarkupRenderer=void 0;const e=requireEngine_const(),t=requireAbstract_audio_renderer();class r extends t.AbstractAudioRenderer{constructor(){super(...arguments),this.ignoreElements=[e.personalityProps.LAYOUT],this.scaleFunction=null}setScaleFunction(e,t,r,n,i=0){this.scaleFunction=o=>{const a=(o-e)/(t-e),s=r*(1-a)+n*a;return+(Math.round(s+"e+"+i)+"e-"+i)}}applyScaleFunction(e){return this.scaleFunction?this.scaleFunction(e):e}ignoreElement(e){return-1!==this.ignoreElements.indexOf(e)}}return markup_renderer.MarkupRenderer=r,markup_renderer}function requireAcss_renderer(){if(hasRequiredAcss_renderer)return acss_renderer;hasRequiredAcss_renderer=1,Object.defineProperty(acss_renderer,"__esModule",{value:!0}),acss_renderer.AcssRenderer=void 0;const e=requireEngine_const(),t=requireEvent_util(),r=requireAudio_util(),n=requireMarkup_renderer();class i extends n.MarkupRenderer{markup(e){this.setScaleFunction(-2,2,0,10,0);const t=r.personalityMarkup(e),n=[],i={open:[]};let o=null,a=!1;for(let s,l=0;s=t[l];l++){if(r.isMarkupElement(s)){r.mergeMarkup(i,s);continue}if(r.isPauseElement(s)){a&&(o=r.mergePause(o,s,Math.max));continue}const e='"'+this.merge(s.span)+'"';a=!0,o&&(n.push(this.pause(o)),o=null);const t=this.prosody_(i);n.push(t?"(text ("+t+") "+e+")":e)}return"(exp "+n.join(" ")+")"}error(e){return'(error "'+t.Move.get(e)+'")'}prosodyElement(t,r){switch(r=this.applyScaleFunction(r),t){case e.personalityProps.RATE:return"(richness . "+r+")";case e.personalityProps.PITCH:return"(average-pitch . "+r+")";case e.personalityProps.VOLUME:return"(stress . "+r+")"}return"(value . "+r+")"}pause(t){return"(pause . "+this.pauseValue(t[e.personalityProps.PAUSE])+")"}prosody_(e){const t=e.open,r=[];for(let n,i=0;n=t[i];i++)r.push(this.prosodyElement(n,e[n]));return r.join(" ")}}return acss_renderer.AcssRenderer=i,acss_renderer}var layout_renderer={},xml_renderer={},hasRequiredXml_renderer,hasRequiredLayout_renderer;function requireXml_renderer(){if(hasRequiredXml_renderer)return xml_renderer;hasRequiredXml_renderer=1,Object.defineProperty(xml_renderer,"__esModule",{value:!0}),xml_renderer.XmlRenderer=void 0;const e=requireEngine(),t=requireAudio_util(),r=requireMarkup_renderer();class n extends r.MarkupRenderer{markup(r){this.setScaleFunction(-2,2,-100,100,2);const n=t.personalityMarkup(r),i=[],o=[];for(let a,s=0;a=n[s];s++)if(a.span)i.push(this.merge(a.span));else if(t.isPauseElement(a))i.push(this.pause(a));else{if(a.close.length)for(let t=0;t<a.close.length;t++){const t=o.pop();if(-1===a.close.indexOf(t))throw new e.SREError("Unknown closing markup element: "+t);i.push(this.closeTag(t))}if(a.open.length){t.sortClose(a.open.slice(),n.slice(s+1)).forEach(e=>{i.push(this.prosodyElement(e,a[e])),o.push(e)})}}return i.join(" ")}}return xml_renderer.XmlRenderer=n,xml_renderer}function requireLayout_renderer(){if(hasRequiredLayout_renderer)return layout_renderer;hasRequiredLayout_renderer=1,Object.defineProperty(layout_renderer,"__esModule",{value:!0}),layout_renderer.LayoutRenderer=void 0;const e=require_debugger(),t=requireDom_util(),r=requireEngine_const(),n=requireEngine(),i=requireAudio_util(),o=requireXml_renderer();class a extends o.XmlRenderer{constructor(){super(...arguments),this.values=new Map}finalize(r){return function(e){if(u.clear(),!e)return;const t=Object.keys(e).map(e=>parseInt(e)).sort();for(let r,n=0;r=t[n];n++)u.set(r,n+1)}(this.values.get("rel")),function(r){s="";const n=t.parseInput(`<all>${r}</all>`);return e.Debugger.getInstance().output(t.formatXml(n.toString())),s=h(n),s}(r)}pause(e){return""}prosodyElement(e,t){return e===r.personalityProps.LAYOUT?`<${t}>`:""}closeTag(e){return`</${e}>`}markup(e){this.values.clear();const t=[];let r=[];for(const n of e){if(!n.layout){r.push(n);continue}t.push(this.processContent(r)),r=[];const[e,i,o]=this.layoutValue(n.layout);"begin"!==e?"end"!==e||t.push("</"+i+">"):t.push("<"+i+(o?` value="${o}"`:"")+">")}return t.push(this.processContent(r)),t.join("")}processContent(e){const t=[],r=i.personalityMarkup(e);for(let n,o=0;n=r[o];o++)n.span?t.push(this.merge(n.span)):i.isPauseElement(n);return t.join("")}layoutValue(e){const t=e.match(/^(begin|end|)(.*\D)(\d*)$/),r=t[3];return r?(e=t[2],this.values.has(e)||this.values.set(e,{}),this.values.get(e)[r]=!0,[t[1],e,r]):[t[1],t[2],""]}}layout_renderer.LayoutRenderer=a,a.options={cayleyshort:n.Engine.getInstance().cayleyshort,linebreaks:n.Engine.getInstance().linebreaks};let s="";const l={TABLE:function(e){let t=g(e);t.forEach(e=>{e.cells=e.cells.slice(1).slice(0,-1),e.width=e.width.slice(1).slice(0,-1)});const[r,n]=y(t);return t=b(t,n),v(t,r)},CASES:function(e){let t=g(e);t.forEach(e=>{e.cells=e.cells.slice(0,-1),e.width=e.width.slice(0,-1)});const[r,n]=y(t);return t=b(t,n),v(t,r)},CAYLEY:function(e){let t=g(e);t.forEach(e=>{e.cells=e.cells.slice(1).slice(0,-1),e.width=e.width.slice(1).slice(0,-1),e.sep=e.sep+e.sep});const[r,i]=y(t),o={lfence:"",rfence:"",cells:i.map(e=>""+new Array(e).join("")),width:i,height:1,sep:t[0].sep};n.Engine.getInstance().cayleyshort&&""===t[0].cells[0]&&(o.cells[0]="");return t.splice(1,0,o),t=b(t,i),v(t,r)},MATRIX:function(e){let t=g(e);const[r,n]=y(t);return t=b(t,n),v(t,r)},CELL:h,FENCE:h,ROW:h,FRACTION:function(e){const[t,r,,n,i]=Array.from(e.childNodes),o=c(r),a=c(n),s=f(o),l=f(a);let u=Math.max(s,l);const d=t+new Array(u+1).join("")+i;return u=d.length,`${E(o,u)}\n${d}\n${E(a,u)}`},NUMERATOR:w,DENOMINATOR:w,REL:_,OP:_};function c(e){const r=t.tagName(e),n=l[r];return n?n(e):e.textContent}const u=new Map;function d(e,t){if(!e||!t)return e+t;const r=p(e),n=p(t),i=r-n;e=i<0?m(e,n,f(e)):e,t=i>0?m(t,r,f(t)):t;const o=e.split(/\r\n|\r|\n/),a=t.split(/\r\n|\r|\n/),s=[];for(let l=0;l<o.length;l++)s.push(o[l]+a[l]);return s.join("\n")}function h(e){let r="";for(const n of Array.from(e.childNodes))r=n.nodeType!==t.NodeType.TEXT_NODE?d(r,c(n)):d(r,n.textContent);return r}function p(e){return e.split(/\r\n|\r|\n/).length}function f(e){return e.split(/\r\n|\r|\n/).reduce((e,t)=>Math.max(t.length,e),0)}function m(e,t,r){return e=function(e,t){const r=t-p(e);return e+(r>0?new Array(r+1).join("\n"):"")}(e,t),function(e,t){const r=e.split(/\r\n|\r|\n/),n=[];for(const i of r){const e=t-i.length;n.push(i+(e>0?new Array(e+1).join(""):""))}return n.join("\n")}(e,r)}function g(e){const r=Array.from(e.childNodes),n=[];for(const i of r)i.nodeType===t.NodeType.ELEMENT_NODE&&n.push(S(i));return n}function y(e){const t=e.reduce((e,t)=>Math.max(t.height,e),0),r=[];for(let n=0;n<e[0].width.length;n++)r.push(e.map(e=>e.width[n]).reduce((e,t)=>Math.max(e,t),0));return[t,r]}function b(e,t){const r=[];for(const n of e){if(0===n.height)continue;const e=[];for(let r=0;r<n.cells.length;r++)e.push(m(n.cells[r],n.height,t[r]));n.cells=e,r.push(n)}return r}function v(e,t){if(1===t)return e.map(e=>e.lfence+e.cells.join(e.sep)+e.rfence).join("\n");const r=[];for(const n of e){const e=x(n.sep,n.height);let t=n.cells.shift();for(;n.cells.length;)t=d(t,e),t=d(t,n.cells.shift());t=d(x(n.lfence,n.height),t),t=d(t,x(n.rfence,n.height)),r.push(t),r.push(n.lfence+new Array(f(t)-3).join(n.sep)+n.rfence)}return r.slice(0,-1).join("\n")}function x(e,t){let r="";for(;t;)r+=e+"\n",t--;return r.slice(0,-1)}function $(e){return e.nodeType===t.NodeType.ELEMENT_NODE&&"FENCE"===t.tagName(e)?c(e):""}function S(e){const r=Array.from(e.childNodes),n=$(r[0]),i=$(r[r.length-1]);n&&r.shift(),i&&r.pop();let o="";const a=[];for(const s of r){if(s.nodeType===t.NodeType.TEXT_NODE){o=s.textContent;continue}const e=c(s);a.push(e)}return{lfence:n,rfence:i,sep:o,cells:a,height:a.reduce((e,t)=>Math.max(p(t),e),0),width:a.map(f)}}function E(e,t){const r=(t-f(e))/2,[n,i]=Math.floor(r)===r?[r,r]:[Math.floor(r),Math.ceil(r)],o=e.split(/\r\n|\r|\n/),a=[],[s,l]=[new Array(n+1).join(""),new Array(i+1).join("")];for(const c of o)a.push(s+c+l);return a.join("\n")}function w(e){const r=e.firstChild,n=h(e);if(r&&r.nodeType===t.NodeType.ELEMENT_NODE){if("ENGLISH"===t.tagName(r))return""+n;if("NUMBER"===t.tagName(r))return""+n}return n}function _(e){if(!n.Engine.getInstance().linebreaks)return h(e);const t=u.get(parseInt(e.getAttribute("value")));return(t?`<br value="${t}"/>`:"")+h(e)}return layout_renderer}var punctuation_renderer={},hasRequiredPunctuation_renderer;function requirePunctuation_renderer(){if(hasRequiredPunctuation_renderer)return punctuation_renderer;hasRequiredPunctuation_renderer=1,Object.defineProperty(punctuation_renderer,"__esModule",{value:!0}),punctuation_renderer.PunctuationRenderer=void 0;const e=requireEngine_const(),t=requireAbstract_audio_renderer(),r=requireAudio_util();class n extends t.AbstractAudioRenderer{markup(t){const n=r.personalityMarkup(t);let i="",o=null,a=!1;for(let s,l=0;s=n[l];l++)r.isMarkupElement(s)||(r.isPauseElement(s)?o=s:(o&&(i+=this.pause(o[e.personalityProps.PAUSE]),o=null),i+=(a?this.separator:"")+this.merge(s.span),a=!0));return i}pause(e){let t;return t="number"==typeof e?e<=250?"short":e<=500?"medium":"long":e,n.PAUSE_PUNCTUATION.get(t)||""}}return punctuation_renderer.PunctuationRenderer=n,n.PAUSE_PUNCTUATION=new Map([["short",","],["medium",";"],["long","."]]),punctuation_renderer}var sable_renderer={},hasRequiredSable_renderer;function requireSable_renderer(){if(hasRequiredSable_renderer)return sable_renderer;hasRequiredSable_renderer=1,Object.defineProperty(sable_renderer,"__esModule",{value:!0}),sable_renderer.SableRenderer=void 0;const e=requireEngine_const(),t=requireXml_renderer();class r extends t.XmlRenderer{finalize(e){return'<?xml version="1.0"?><!DOCTYPE SABLE PUBLIC "-//SABLE//DTD SABLE speech mark up//EN" "Sable.v0_2.dtd" []><SABLE>'+this.separator+e+this.separator+"</SABLE>"}pause(t){return'<BREAK MSEC="'+this.pauseValue(t[e.personalityProps.PAUSE])+'"/>'}prosodyElement(t,r){switch(r=this.applyScaleFunction(r),t){case e.personalityProps.PITCH:return'<PITCH RANGE="'+r+'%">';case e.personalityProps.RATE:return'<RATE SPEED="'+r+'%">';case e.personalityProps.VOLUME:return'<VOLUME LEVEL="'+r+'%">';default:return"<"+t.toUpperCase()+' VALUE="'+r+'">'}}closeTag(e){return"</"+e.toUpperCase()+">"}}return sable_renderer.SableRenderer=r,sable_renderer}var ssml_renderer={},hasRequiredSsml_renderer;function requireSsml_renderer(){if(hasRequiredSsml_renderer)return ssml_renderer;hasRequiredSsml_renderer=1,Object.defineProperty(ssml_renderer,"__esModule",{value:!0}),ssml_renderer.SsmlRenderer=void 0;const e=requireEngine(),t=requireEngine_const(),r=requireXml_renderer();class n extends r.XmlRenderer{finalize(t){return`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${e.Engine.getInstance().locale}"><prosody rate="`+e.Engine.getInstance().getRate()+'%">'+this.separator+t+this.separator+"</prosody></speak>"}pause(e){return'<break time="'+this.pauseValue(e[t.personalityProps.PAUSE])+'ms"/>'}prosodyElement(e,r){const n=(r=Math.floor(this.applyScaleFunction(r)))<0?r.toString():"+"+r.toString();return"<prosody "+e.toLowerCase()+'="'+n+(e===t.personalityProps.VOLUME?">":'%">')}closeTag(e){return"</prosody>"}markup(e){return n.MARKS={},super.markup(e)}merge(t){const r=[];let i="";for(let o=0;o<t.length;o++){const a=t[o];if(this.isEmptySpan(a))continue;const s=n.MARK_KIND?a.attributes.kind:"",l=e.Engine.getInstance().automark?a.attributes.id:e.Engine.getInstance().mark?a.attributes.extid:"";!l||l===i||n.MARK_ONCE&&n.MARKS[l]||(r.push(s?`<mark name="${l}" kind="${s}"/>`:`<mark name="${l}"/>`),i=l,n.MARKS[l]=!0),e.Engine.getInstance().character&&1===a.speech.length&&a.speech.match(/[a-zA-Z]/)?r.push('<say-as interpret-as="'+n.CHARACTER_ATTR+'">'+a.speech+"</say-as>"):r.push(a.speech)}return r.join(this.separator)}isEmptySpan(e){const t=e.attributes.separator;return e.speech.match(/^\s*$/)&&(!t||t.match(/^\s*$/))}}return ssml_renderer.SsmlRenderer=n,n.MARK_ONCE=!1,n.MARK_KIND=!0,n.CHARACTER_ATTR="character",n.MARKS={},ssml_renderer}var string_renderer={},hasRequiredString_renderer,hasRequiredAural_rendering;function requireString_renderer(){if(hasRequiredString_renderer)return string_renderer;hasRequiredString_renderer=1,Object.defineProperty(string_renderer,"__esModule",{value:!0}),string_renderer.CountingRenderer=string_renderer.StringRenderer=void 0;const e=requireEngine(),t=requireAbstract_audio_renderer(),r=requireAudio_util();class n extends t.AbstractAudioRenderer{markup(e){let t="";const n=(0,r.personalityMarkup)(e).filter(e=>e.span);if(!n.length)return t;const i=n.length-1;for(let r,o=0;r=n[o];o++){if(r.span&&(t+=this.merge(r.span)),o>=i)continue;const e=r.join;t+=void 0===e?this.separator:e}return t}}string_renderer.StringRenderer=n;return string_renderer.CountingRenderer=class extends n{finalize(t){const r=super.finalize(t),n="braille"===e.Engine.getInstance().modality?"":"0123456789";let i=new Array(Math.trunc(r.length/10)+1).join(n);return i+=n.slice(0,r.length%10),r+"\n"+i}},string_renderer}function requireAural_rendering(){if(hasRequiredAural_rendering)return aural_rendering;hasRequiredAural_rendering=1,Object.defineProperty(aural_rendering,"__esModule",{value:!0}),aural_rendering.setSeparator=function(t){const r=d.get(e.Engine.getInstance().markup);r&&(r.separator=t)},aural_rendering.getSeparator=function(){const t=d.get(e.Engine.getInstance().markup);return t?t.separator:""},aural_rendering.markup=function(t){const r=d.get(e.Engine.getInstance().markup);if(!r)return"";return r.markup(t)},aural_rendering.merge=function(t){const r=t.map(e=>"string"==typeof e?a.Span.stringEmpty(e):e),n=d.get(e.Engine.getInstance().markup);if(!n)return t.join();return n.merge(r)},aural_rendering.finalize=function(t){const r=d.get(e.Engine.getInstance().markup);if(!r)return t;return r.finalize(t)},aural_rendering.error=function(t){const r=d.get(e.Engine.getInstance().markup);if(!r)return"";return r.error(t)},aural_rendering.registerRenderer=function(e,t){d.set(e,t)},aural_rendering.isXml=function(){return d.get(e.Engine.getInstance().markup)instanceof c.XmlRenderer};const e=requireEngine(),t=requireEngine_const(),r=requireAcss_renderer(),n=requireLayout_renderer(),i=requirePunctuation_renderer(),o=requireSable_renderer(),a=requireSpan(),s=requireSsml_renderer(),l=requireString_renderer(),c=requireXml_renderer(),u=new s.SsmlRenderer,d=new Map([[t.Markup.NONE,new l.StringRenderer],[t.Markup.COUNTING,new l.CountingRenderer],[t.Markup.PUNCTUATION,new i.PunctuationRenderer],[t.Markup.LAYOUT,new n.LayoutRenderer],[t.Markup.ACSS,new r.AcssRenderer],[t.Markup.SABLE,new o.SableRenderer],[t.Markup.VOICEXML,u],[t.Markup.SSML,u]]);return aural_rendering}var enrich={},semantic={},semantic_tree={},semantic_mathml={},semantic_parser={},hasRequiredSemantic_parser,hasRequiredSemantic_mathml;function requireSemantic_parser(){if(hasRequiredSemantic_parser)return semantic_parser;hasRequiredSemantic_parser=1,Object.defineProperty(semantic_parser,"__esModule",{value:!0}),semantic_parser.SemanticAbstractParser=void 0;const e=requireSemantic_node_factory();return semantic_parser.SemanticAbstractParser=class{constructor(t){this.type=t,this.factory_=new e.SemanticNodeFactory}getFactory(){return this.factory_}setFactory(e){this.factory_=e}getType(){return this.type}parseList(e){const t=[];for(let r,n=0;r=e[n];n++)t.push(this.parse(r));return t}},semantic_parser}function requireSemantic_mathml(){if(hasRequiredSemantic_mathml)return semantic_mathml;hasRequiredSemantic_mathml=1,Object.defineProperty(semantic_mathml,"__esModule",{value:!0}),semantic_mathml.SemanticMathml=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_attr(),n=requireSemantic_parser(),i=requireSemantic_pred(),o=requireSemantic_processor(),a=requireSemantic_util(),s=requireSemantic_util(),l=requireSemantic_heuristic_factory();class c extends n.SemanticAbstractParser{static getAttribute_(e,t,r){if(!e.hasAttribute(t))return r;const n=e.getAttribute(t);return n.match(/^\s*$/)?null:n}constructor(){super("MathML"),this.parseMap_=new Map([[s.MMLTAGS.SEMANTICS,this.semantics_.bind(this)],[s.MMLTAGS.MATH,this.rows_.bind(this)],[s.MMLTAGS.MROW,this.rows_.bind(this)],[s.MMLTAGS.MPADDED,this.rows_.bind(this)],[s.MMLTAGS.MSTYLE,this.rows_.bind(this)],[s.MMLTAGS.MFRAC,this.fraction_.bind(this)],[s.MMLTAGS.MSUB,this.limits_.bind(this)],[s.MMLTAGS.MSUP,this.limits_.bind(this)],[s.MMLTAGS.MSUBSUP,this.limits_.bind(this)],[s.MMLTAGS.MOVER,this.limits_.bind(this)],[s.MMLTAGS.MUNDER,this.limits_.bind(this)],[s.MMLTAGS.MUNDEROVER,this.limits_.bind(this)],[s.MMLTAGS.MROOT,this.root_.bind(this)],[s.MMLTAGS.MSQRT,this.sqrt_.bind(this)],[s.MMLTAGS.MTABLE,this.table_.bind(this)],[s.MMLTAGS.MLABELEDTR,this.tableLabeledRow_.bind(this)],[s.MMLTAGS.MTR,this.tableRow_.bind(this)],[s.MMLTAGS.MTD,this.tableCell_.bind(this)],[s.MMLTAGS.MS,this.text_.bind(this)],[s.MMLTAGS.MTEXT,this.text_.bind(this)],[s.MMLTAGS.MSPACE,this.space_.bind(this)],[s.MMLTAGS.ANNOTATIONXML,this.text_.bind(this)],[s.MMLTAGS.MI,this.identifier_.bind(this)],[s.MMLTAGS.MN,this.number_.bind(this)],[s.MMLTAGS.MO,this.operator_.bind(this)],[s.MMLTAGS.MFENCED,this.fenced_.bind(this)],[s.MMLTAGS.MENCLOSE,this.enclosed_.bind(this)],[s.MMLTAGS.MMULTISCRIPTS,this.multiscripts_.bind(this)],[s.MMLTAGS.ANNOTATION,this.empty_.bind(this)],[s.MMLTAGS.NONE,this.empty_.bind(this)],[s.MMLTAGS.MACTION,this.action_.bind(this)]]);const e={type:t.SemanticType.IDENTIFIER,role:t.SemanticRole.NUMBERSET,font:t.SemanticFont.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","","","","","","",""].forEach((t=>this.getFactory().defaultMap.set(t,e)).bind(this))}parse(t){o.SemanticProcessor.getInstance().setNodeFactory(this.getFactory());const r=e.toArray(t.childNodes),n=e.tagName(t),i=this.parseMap_.get(n),l=(i||this.dummy_.bind(this))(t,r);return a.addAttributes(l,t),-1!==[s.MMLTAGS.MATH,s.MMLTAGS.MROW,s.MMLTAGS.MPADDED,s.MMLTAGS.MSTYLE,s.MMLTAGS.SEMANTICS,s.MMLTAGS.MACTION].indexOf(n)||(l.mathml.unshift(t),l.mathmlTree=t),l}semantics_(e,t){return t.length?this.parse(t[0]):this.getFactory().makeEmptyNode()}rows_(e,r){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return o.SemanticProcessor.proof(e,n,this.parseList.bind(this));let i;if(1===(r=a.purgeNodes(r)).length)i=this.parse(r[0]),i.type!==t.SemanticType.EMPTY||i.mathmlTree||(i.mathmlTree=e);else{const t=l.SemanticHeuristics.run("function_from_identifiers",e);i=t&&t!==e?t:o.SemanticProcessor.getInstance().row(this.parseList(r))}return i.mathml.unshift(e),i}fraction_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const r=this.parse(t[0]),n=t[1]?this.parse(t[1]):this.getFactory().makeEmptyNode();return o.SemanticProcessor.getInstance().fractionLikeNode(r,n,e.getAttribute("linethickness"),"true"===e.getAttribute("bevelled"))}limits_(t,r){return o.SemanticProcessor.getInstance().limitNode(e.tagName(t),this.parseList(r))}root_(e,r){return r[1]?this.getFactory().makeBranchNode(t.SemanticType.ROOT,[this.parse(r[1]),this.parse(r[0])],[]):this.sqrt_(e,r)}sqrt_(e,r){const n=this.parseList(a.purgeNodes(r));return this.getFactory().makeBranchNode(t.SemanticType.SQRT,[o.SemanticProcessor.getInstance().row(n)],[])}table_(e,r){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return o.SemanticProcessor.proof(e,n,this.parseList.bind(this));const i=this.getFactory().makeBranchNode(t.SemanticType.TABLE,this.parseList(r),[]);return i.mathmlTree=e,o.SemanticProcessor.tableToMultiline(i)}tableRow_(e,r){const n=this.getFactory().makeBranchNode(t.SemanticType.ROW,this.parseList(r),[]);return n.role=t.SemanticRole.TABLE,n}tableLabeledRow_(e,r){var n;if(!r.length)return this.tableRow_(e,r);const i=this.parse(r[0]);i.role=t.SemanticRole.LABEL,(null===(n=i.childNodes[0])||void 0===n?void 0:n.type)===t.SemanticType.TEXT&&(i.childNodes[0].role=t.SemanticRole.LABEL);const o=this.getFactory().makeBranchNode(t.SemanticType.ROW,this.parseList(r.slice(1)),[i]);return o.role=t.SemanticRole.TABLE,o}tableCell_(e,r){const n=this.parseList(a.purgeNodes(r));let s;s=n.length?1===n.length&&i.isType(n[0],t.SemanticType.EMPTY)?n:[o.SemanticProcessor.getInstance().row(n)]:[];const l=this.getFactory().makeBranchNode(t.SemanticType.CELL,s,[]);return l.role=t.SemanticRole.TABLE,l}space_(t,r){const n=t.getAttribute("width"),i=n&&n.match(/[a-z]*$/);if(!i)return this.empty_(t,r);const a=i[0],s=parseFloat(n.slice(0,i.index)),l={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[a];if(!l||isNaN(s)||s<l)return this.empty_(t,r);const c=this.getFactory().makeUnprocessed(t);return o.SemanticProcessor.getInstance().text(c,e.tagName(t))}text_(t,r){const n=this.leaf_(t,r);return t.textContent?(n.updateContent(t.textContent,!0),o.SemanticProcessor.getInstance().text(n,e.tagName(t))):n}identifier_(e,t){const r=this.leaf_(e,t);return o.SemanticProcessor.getInstance().identifierNode(r,o.SemanticProcessor.getInstance().font(e.getAttribute("mathvariant")),e.getAttribute("class"))}number_(e,t){const r=this.leaf_(e,t);return o.SemanticProcessor.number(r),r}operator_(e,t){const r=this.leaf_(e,t);return o.SemanticProcessor.getInstance().operatorNode(r),r}fenced_(e,t){const r=this.parseList(a.purgeNodes(t)),n=c.getAttribute_(e,"separators",","),i=c.getAttribute_(e,"open","("),s=c.getAttribute_(e,"close",")"),l=o.SemanticProcessor.getInstance().mfenced(i,s,n,r);return o.SemanticProcessor.getInstance().tablesInRow([l])[0]}enclosed_(e,r){const n=this.parseList(a.purgeNodes(r)),i=this.getFactory().makeBranchNode(t.SemanticType.ENCLOSE,[o.SemanticProcessor.getInstance().row(n)],[]);return i.role=e.getAttribute("notation")||t.SemanticRole.UNKNOWN,i}multiscripts_(t,r){if(!r.length)return this.getFactory().makeEmptyNode();const n=this.parse(r.shift());if(!r.length)return n;const i=[],l=[],c=[],u=[];let d=!1,h=0;for(let o,a=0;o=r[a];a++)e.tagName(o)!==s.MMLTAGS.MPRESCRIPTS?(d?1&h?i.push(o):l.push(o):1&h?c.push(o):u.push(o),h++):(d=!0,h=0);return a.purgeNodes(i).length||a.purgeNodes(l).length?o.SemanticProcessor.getInstance().tensor(n,this.parseList(l),this.parseList(i),this.parseList(u),this.parseList(c)):o.SemanticProcessor.getInstance().pseudoTensor(n,this.parseList(u),this.parseList(c))}empty_(e,t){return this.getFactory().makeEmptyNode()}action_(e,t){const r=t[e.hasAttribute("selection")?parseInt(e.getAttribute("selection"),10)-1:0],n=this.parse(r);return n.mathmlTree=r,n}dummy_(e,t){const r=this.getFactory().makeUnprocessed(e);return r.role=e.tagName,r.textContent=e.textContent,r}leaf_(t,n){if(1===n.length&&n[0].nodeType!==e.NodeType.TEXT_NODE){const e=this.getFactory().makeUnprocessed(t);return e.role=n[0].tagName,a.addAttributes(e,n[0]),e}const i=this.getFactory().makeLeafNode(t.textContent,o.SemanticProcessor.getInstance().font(t.getAttribute("mathvariant")));return t.hasAttribute("data-latex")&&r.SemanticMap.LatexCommands.set(t.getAttribute("data-latex"),t.textContent),i}}return semantic_mathml.SemanticMathml=c,semantic_mathml}var semantic_heuristics={},semantic_heuristic={},hasRequiredSemantic_heuristic;function requireSemantic_heuristic(){if(hasRequiredSemantic_heuristic)return semantic_heuristic;hasRequiredSemantic_heuristic=1,Object.defineProperty(semantic_heuristic,"__esModule",{value:!0}),semantic_heuristic.SemanticMmlHeuristic=semantic_heuristic.SemanticMultiHeuristic=semantic_heuristic.SemanticTreeHeuristic=void 0;class e{constructor(e,t,r=e=>!1){this.name=e,this.apply=t,this.applicable=r}}semantic_heuristic.SemanticTreeHeuristic=class extends e{};semantic_heuristic.SemanticMultiHeuristic=class extends e{};return semantic_heuristic.SemanticMmlHeuristic=class extends e{},semantic_heuristic}var semantic_skeleton={},enrich_attr={},hasRequiredEnrich_attr,hasRequiredSemantic_skeleton,hasRequiredSemantic_heuristics,hasRequiredSemantic_tree,hasRequiredSemantic;function requireEnrich_attr(){if(hasRequiredEnrich_attr)return enrich_attr;hasRequiredEnrich_attr=1,Object.defineProperty(enrich_attr,"__esModule",{value:!0}),enrich_attr.EnrichAttributes=enrich_attr.Attribute=void 0,enrich_attr.makeIdList=o,enrich_attr.setAttributes=function(e,i){e.setAttribute(n.TYPE,i.type);const a=i.allAttributes();for(let t,n=0;t=a[n];n++)e.setAttribute(r+t[0].toLowerCase(),t[1]);i.childNodes.length&&e.setAttribute(n.CHILDREN,o(i.childNodes));i.contentNodes.length&&e.setAttribute(n.CONTENT,o(i.contentNodes));i.parent&&e.setAttribute(n.PARENT,i.parent.id.toString());const s=i.attributesXml();s&&e.setAttribute(n.ATTRIBUTES,s);!function(e,r){const i=[];r.role===t.SemanticRole.MGLYPH&&i.push("image");r.attributes.href&&i.push("link");i.length&&e.setAttribute(n.POSTFIX,i.join(" "))}(e,i)},enrich_attr.removeAttributePrefix=function(e){return e.toString().replace(new RegExp(r,"g"),"")},enrich_attr.addPrefix=function(e){return r+e},enrich_attr.addMrow=function(){const t=e.createElement("mrow");return t.setAttribute(n.ADDED,"true"),t};const e=requireDom_util(),t=requireSemantic_meaning(),r="data-semantic-";var n,i;function o(e){return e.map(function(e){return e.id}).join(",")}return(i=n||(enrich_attr.Attribute=n={})).ADDED="data-semantic-added",i.ALTERNATIVE="data-semantic-alternative",i.CHILDREN="data-semantic-children",i.COLLAPSED="data-semantic-collapsed",i.CONTENT="data-semantic-content",i.EMBELLISHED="data-semantic-embellished",i.FENCEPOINTER="data-semantic-fencepointer",i.FONT="data-semantic-font",i.ID="data-semantic-id",i.ANNOTATION="data-semantic-annotation",i.ATTRIBUTES="data-semantic-attributes",i.OPERATOR="data-semantic-operator",i.OWNS="data-semantic-owns",i.PARENT="data-semantic-parent",i.POSTFIX="data-semantic-postfix",i.PREFIX="data-semantic-prefix",i.ROLE="data-semantic-role",i.SPEECH="data-semantic-speech",i.STRUCTURE="data-semantic-structure",i.SUMMARY="data-semantic-summary",i.TYPE="data-semantic-type",enrich_attr.EnrichAttributes=[n.ADDED,n.ALTERNATIVE,n.CHILDREN,n.COLLAPSED,n.CONTENT,n.EMBELLISHED,n.FENCEPOINTER,n.FONT,n.ID,n.ANNOTATION,n.ATTRIBUTES,n.OPERATOR,n.OWNS,n.PARENT,n.POSTFIX,n.PREFIX,n.ROLE,n.SPEECH,n.STRUCTURE,n.SUMMARY,n.TYPE],enrich_attr}function requireSemantic_skeleton(){if(hasRequiredSemantic_skeleton)return semantic_skeleton;hasRequiredSemantic_skeleton=1,Object.defineProperty(semantic_skeleton,"__esModule",{value:!0}),semantic_skeleton.SemanticSkeleton=void 0;const e=requireBase_util(),t=requireEngine(),r=requireXpath_util(),n=requireEnrich_attr(),i=requireSemantic_meaning();class o{static fromTree(e){return o.fromNode(e.root)}static fromNode(e){return new o(o.fromNode_(e))}static fromString(e){return new o(o.fromString_(e))}static simpleCollapseStructure(e){return"number"==typeof e}static contentCollapseStructure(e){return!!e&&!o.simpleCollapseStructure(e)&&"c"===e[0]}static interleaveIds(t,r){return e.interleaveLists(o.collapsedLeafs(t),o.collapsedLeafs(r))}static collapsedLeafs(...e){return e.reduce((e,t)=>{return e.concat((r=t,o.simpleCollapseStructure(r)?[r]:o.contentCollapseStructure(r[1])?r.slice(2):r.slice(1)));var r},[])}static fromStructure(e,t){return new o(o.tree_(e,t.root))}static combineContentChildren(t,r,n,o){switch(t){case i.SemanticType.RELSEQ:case i.SemanticType.INFIXOP:case i.SemanticType.MULTIREL:return e.interleaveLists(o,n);case i.SemanticType.PREFIXOP:return n.concat(o);case i.SemanticType.POSTFIXOP:return o.concat(n);case i.SemanticType.MATRIX:case i.SemanticType.VECTOR:case i.SemanticType.FENCED:return o.unshift(n[0]),o.push(n[1]),o;case i.SemanticType.CASES:return o.unshift(n[0]),o;case i.SemanticType.APPL:return[o[0],n[0],o[1]];case i.SemanticType.ROOT:return[o[0],o[1]];case i.SemanticType.ROW:case i.SemanticType.LINE:return n.length&&o.unshift(n[0]),o;default:return o}}static makeSexp_(e){return o.simpleCollapseStructure(e)?e.toString():o.contentCollapseStructure(e)?"(c "+e.slice(1).map(o.makeSexp_).join(" ")+")":"("+e.map(o.makeSexp_).join(" ")+")"}static fromString_(e){let t=e.replace(/\(/g,"[");return t=t.replace(/\)/g,"]"),t=t.replace(/ /g,","),t=t.replace(/c/g,'"c"'),JSON.parse(t)}static fromNode_(e){if(!e)return[];const t=e.contentNodes;let r;t.length&&(r=t.map(o.fromNode_),r.unshift("c"));const n=e.childNodes;if(!n.length)return t.length?[e.id,r]:e.id;const i=n.map(o.fromNode_);return t.length&&i.unshift(r),i.unshift(e.id),i}static tree_(e,t,i=0,a=1,s=1){if(!t)return[];const l=t.id,c=[l];r.updateEvaluator(e);const u=r.evalXPath(`.//self::*[@${n.Attribute.ID}=${l}]`,e)[0];if(!t.childNodes.length)return o.addAria(u,i,a,s),t.id;const d=o.combineContentChildren(t.type,t.role,t.contentNodes.map(function(e){return e}),t.childNodes.map(function(e){return e}));u&&o.addOwns_(u,d);for(let r,n=0,h=d.length;r=d[n];n++)c.push(o.tree_(e,r,i+1,n+1,h));return o.addAria(u,i,a,s,"treeitem"),c}static addAria(e,r,i,o,a="treeitem"){t.Engine.getInstance().aria&&e&&(e.setAttribute("aria-level",r.toString()),e.setAttribute("aria-posinset",i.toString()),e.setAttribute("aria-setsize",o.toString()),e.setAttribute("role",a),e.hasAttribute(n.Attribute.OWNS)&&e.setAttribute("aria-owns",e.getAttribute(n.Attribute.OWNS)))}static addOwns_(e,t){const r=e.getAttribute(n.Attribute.COLLAPSED),i=r?o.realLeafs_(o.fromString(r).array):t.map(e=>e.id);e.setAttribute(n.Attribute.OWNS,i.join(" "))}static realLeafs_(e){if(o.simpleCollapseStructure(e))return[e];if(o.contentCollapseStructure(e))return[];let t=[];for(let r=1;r<e.length;r++)t=t.concat(o.realLeafs_(e[r]));return t}constructor(e){this.parents=null,this.levelsMap=null,e=0===e?e:e||[],this.array=e}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return o.makeSexp_(this.array)}populate_(e,t,r){if(o.simpleCollapseStructure(e))return this.levelsMap[e]=t,void(this.parents[e]=e===r[0]?r.slice(1):r);const n=o.contentCollapseStructure(e)?e.slice(1):e,i=[n[0]].concat(r);for(let o=0,a=n.length;o<a;o++){const t=n[o];this.populate_(t,e,i)}}isRoot(e){return e===this.levelsMap[e][0]}directChildren(e){if(!this.isRoot(e))return[];return this.levelsMap[e].slice(1).map(e=>o.simpleCollapseStructure(e)?e:o.contentCollapseStructure(e)?e[1]:e[0])}subtreeNodes(e){if(!this.isRoot(e))return[];const t=(e,r)=>{o.simpleCollapseStructure(e)?r.push(e):(o.contentCollapseStructure(e)&&(e=e.slice(1)),e.forEach(e=>t(e,r)))},r=this.levelsMap[e],n=[];return t(r.slice(1),n),n}}return semantic_skeleton.SemanticSkeleton=o,semantic_skeleton}function requireSemantic_heuristics(){if(hasRequiredSemantic_heuristics)return semantic_heuristics;hasRequiredSemantic_heuristics=1,Object.defineProperty(semantic_heuristics,"__esModule",{value:!0});const e=require_debugger(),t=requireEngine(),r=requireSemantic_attr(),n=requireSemantic_heuristic_factory(),i=requireSemantic_heuristic(),o=requireSemantic_meaning(),a=requireSemantic_pred(),s=requireSemantic_processor(),l=requireSemantic_util(),c=requireSemantic_skeleton(),u=requireSemantic_util(),d=requireDom_util();function h(e,t,r){let n=null;if(!e.length)return n;const i=r[r.length-1],a=i&&i.length,l=t&&t.length,c=s.SemanticProcessor.getInstance();if(a&&l){if(t[0].type===o.SemanticType.INFIXOP&&t[0].role===o.SemanticRole.IMPLICIT)return n=e.pop(),i.push(c.postfixNode_(i.pop(),e)),n;n=e.shift();const r=c.prefixNode_(t.shift(),e);return t.unshift(r),n}return a?(i.push(c.postfixNode_(i.pop(),e)),n):(l&&t.unshift(c.prefixNode_(t.shift(),e)),n)}function p(t,r,i){if(!r.length)return t;const s=t.pop(),l=r.shift(),c=i.shift();if(l.type===o.SemanticType.INFIXOP&&(l.role===o.SemanticRole.IMPLICIT||l.role===o.SemanticRole.UNIT)){e.Debugger.getInstance().output("Juxta Heuristic Case 2");const n=(s?[s,l]:[l]).concat(c);return p(t.concat(n),r,i)}if(!s)return e.Debugger.getInstance().output("Juxta Heuristic Case 3"),p([l].concat(c),r,i);const u=c.shift();if(!u){e.Debugger.getInstance().output("Juxta Heuristic Case 9");const a=n.SemanticHeuristics.factory.makeBranchNode(o.SemanticType.INFIXOP,[s,r.shift()],[l],l.textContent);return a.role=o.SemanticRole.IMPLICIT,n.SemanticHeuristics.run("combine_juxtaposition",a),r.unshift(a),p(t,r,i)}if(a.isOperator(s)||a.isOperator(u))return e.Debugger.getInstance().output("Juxta Heuristic Case 4"),p(t.concat([s,l,u]).concat(c),r,i);let d=null;return a.isImplicitOp(s)&&a.isImplicitOp(u)?(e.Debugger.getInstance().output("Juxta Heuristic Case 5"),s.contentNodes.push(l),s.contentNodes=s.contentNodes.concat(u.contentNodes),s.childNodes.push(u),s.childNodes=s.childNodes.concat(u.childNodes),u.childNodes.forEach(e=>e.parent=s),l.parent=s,s.addMathmlNodes(l.mathml),s.addMathmlNodes(u.mathml),d=s):a.isImplicitOp(s)?(e.Debugger.getInstance().output("Juxta Heuristic Case 6"),s.contentNodes.push(l),s.childNodes.push(u),u.parent=s,l.parent=s,s.addMathmlNodes(l.mathml),s.addMathmlNodes(u.mathml),d=s):a.isImplicitOp(u)?(e.Debugger.getInstance().output("Juxta Heuristic Case 7"),u.contentNodes.unshift(l),u.childNodes.unshift(s),s.parent=u,l.parent=u,u.addMathmlNodes(l.mathml),u.addMathmlNodes(s.mathml),d=u):(e.Debugger.getInstance().output("Juxta Heuristic Case 8"),d=n.SemanticHeuristics.factory.makeBranchNode(o.SemanticType.INFIXOP,[s,u],[l],l.textContent),d.role=o.SemanticRole.IMPLICIT),t.push(d),p(t.concat(c),r,i)}function f(e){return e.childNodes[0]&&e.childNodes[0].childNodes[0]&&d.tagName(e.childNodes[0])===u.MMLTAGS.MPADDED&&d.tagName(e.childNodes[0].childNodes[0])===u.MMLTAGS.MPADDED&&d.tagName(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1])===u.MMLTAGS.MPHANTOM}n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("combine_juxtaposition",function(e){for(let t,r=e.childNodes.length-1;t=e.childNodes[r];r--)a.isImplicitOp(t)&&!t.nobreaking&&(e.childNodes.splice(r,1,...t.childNodes),e.contentNodes.splice(r,0,...t.contentNodes),t.childNodes.concat(t.contentNodes).forEach(function(t){t.parent=e}),e.addMathmlNodes(t.mathml));return e})),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("propagateSimpleFunction",e=>(e.type!==o.SemanticType.INFIXOP&&e.type!==o.SemanticType.FRACTION||!e.childNodes.every(a.isSimpleFunction)||(e.role=o.SemanticRole.COMPFUNC),e),e=>"clearspeak"===t.Engine.getInstance().domain)),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("simpleNamedFunction",e=>(e.role!==o.SemanticRole.UNIT&&-1!==["f","g","h","F","G","H"].indexOf(e.textContent)&&(e.role=o.SemanticRole.SIMPLEFUNC),e),e=>"clearspeak"===t.Engine.getInstance().domain)),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("propagateComposedFunction",e=>(e.type===o.SemanticType.FENCED&&e.childNodes[0].role===o.SemanticRole.COMPFUNC&&(e.role=o.SemanticRole.COMPFUNC),e),e=>"clearspeak"===t.Engine.getInstance().domain)),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("multioperator",e=>{e.role!==o.SemanticRole.UNKNOWN||e.textContent.length<=1||(s.SemanticProcessor.compSemantics(e,"role",o.SemanticRole),s.SemanticProcessor.compSemantics(e,"type",o.SemanticType))})),n.SemanticHeuristics.add(new i.SemanticMultiHeuristic("convert_juxtaposition",e=>{let t=l.partitionNodes(e,function(e){return e.textContent===r.NamedSymbol.invisibleTimes&&e.type===o.SemanticType.OPERATOR});t=t.rel.length?function(e){const t=[],r=[];let n=e.comp.shift(),i=null,o=[];for(;e.comp.length;)if(o=[],n.length)i&&t.push(i),r.push(n),i=e.rel.shift(),n=e.comp.shift();else{for(i&&o.push(i);!n.length&&e.comp.length;)n=e.comp.shift(),o.push(e.rel.shift());i=h(o,n,r)}o.length||n.length?(t.push(i),r.push(n)):(o.push(i),h(o,n,r));return{rel:t,comp:r}}(t):t,e=t.comp[0];for(let r,n,i=1;r=t.comp[i],n=t.rel[i-1];i++)e.push(n),e=e.concat(r);return t=l.partitionNodes(e,function(e){return e.textContent===r.NamedSymbol.invisibleTimes&&(e.type===o.SemanticType.OPERATOR||e.type===o.SemanticType.INFIXOP)}),t.rel.length?p(t.comp.shift(),t.rel,t.comp):e})),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("simple2prefix",e=>(e.textContent.length>1&&!e.textContent[0].match(/[A-Z]/)&&(e.role=o.SemanticRole.PREFIXFUNC),e),e=>"braille"===t.Engine.getInstance().modality&&e.type===o.SemanticType.IDENTIFIER)),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("detect_cycle",e=>{e.type=o.SemanticType.MATRIX,e.role=o.SemanticRole.CYCLE;const t=e.childNodes[0];return t.type=o.SemanticType.ROW,t.role=o.SemanticRole.CYCLE,t.textContent="",t.contentNodes=[],e},e=>e.type===o.SemanticType.FENCED&&e.childNodes[0].type===o.SemanticType.INFIXOP&&e.childNodes[0].role===o.SemanticRole.IMPLICIT&&e.childNodes[0].childNodes.every(function(e){return e.type===o.SemanticType.NUMBER})&&e.childNodes[0].contentNodes.every(function(e){return e.role===o.SemanticRole.SPACE}))),n.SemanticHeuristics.add(new i.SemanticMultiHeuristic("intvar_from_implicit",function(e){const t=e[0].childNodes;e.splice(0,1,...t)},e=>e[0]&&a.isImplicit(e[0]))),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("intvar_from_fraction",function(e){const t=e.childNodes[1],r=t.childNodes[0];if(a.isIntegralDxBoundarySingle(r))return void(r.role=o.SemanticRole.INTEGRAL);if(!a.isImplicit(r))return;const n=r.childNodes.length,i=r.childNodes[n-2],l=r.childNodes[n-1];if(a.isIntegralDxBoundarySingle(l))return void(l.role=o.SemanticRole.INTEGRAL);if(a.isIntegralDxBoundary(i,l)){const e=s.SemanticProcessor.getInstance().prefixNode_(l,[i]);e.role=o.SemanticRole.INTEGRAL,2===n?t.childNodes[0]=e:(r.childNodes.pop(),r.contentNodes.pop(),r.childNodes[n-2]=e,e.parent=r)}},e=>{if(e.type!==o.SemanticType.INTEGRAL)return!1;const[,t,r]=e.childNodes;return r.type===o.SemanticType.EMPTY&&t.type===o.SemanticType.FRACTION})),n.SemanticHeuristics.add(new i.SemanticTreeHeuristic("rewrite_subcases",function(e){e.addAnnotation("Emph","top");let t=[];if(e.hasAnnotation("Emph","left")){const r=g(e.childNodes[0].childNodes[0].childNodes[0],!0);r.forEach(e=>e.addAnnotation("Emph","left")),t=t.concat(r);for(let t,n=0;t=e.childNodes[n];n++)t.childNodes.shift()}if(t.push(e),e.hasAnnotation("Emph","right")){const r=g(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].childNodes[0]);r.forEach(e=>e.addAnnotation("Emph","left")),t=t.concat(r),e.childNodes[0].childNodes.pop()}s.SemanticProcessor.tableToMultiline(e);const r=s.SemanticProcessor.getInstance().row(t),n=e.annotation.Emph;return e.annotation.Emph=["table"],n.forEach(e=>r.addAnnotation("Emph",e)),r},e=>{let t=!0,r=!0;if(f(e.childNodes[0].childNodes[0].mathmlTree)){for(let n,i=1;n=e.childNodes[i];i++)if(n.childNodes[0].childNodes.length){t=!1;break}}else t=!1;t&&e.addAnnotation("Emph","left");if(f(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].mathmlTree)){const t=e.childNodes[0].childNodes.length;for(let n,i=1;n=e.childNodes[i];i++)if(n.childNodes.length>=t){r=!1;break}}else r=!1;return r&&e.addAnnotation("Emph","right"),t||r}));const m=[o.SemanticType.PUNCTUATED,o.SemanticType.RELSEQ,o.SemanticType.MULTIREL,o.SemanticType.INFIXOP,o.SemanticType.PREFIXOP,o.SemanticType.POSTFIXOP];function g(e,t){if(!e.childNodes.length)return b(e),[e];let r=null;if(e.type===o.SemanticType.PUNCTUATED&&(t?e.role===o.SemanticRole.ENDPUNCT:e.role===o.SemanticRole.STARTPUNCT)){const n=e.childNodes;b(n[t?n.length-1:0])&&(e=n[t?0:n.length-1],r=n[t?n.length-1:0])}if(-1!==m.indexOf(e.type)){const n=e.childNodes;b(n[t?n.length-1:0]);const i=c.SemanticSkeleton.combineContentChildren(e.type,e.role,e.contentNodes,e.childNodes);return r&&(t?i.push(r):i.unshift(r)),i}return r?t?[e,r]:[r,e]:[e]}const y={[o.SemanticRole.METRIC]:o.SemanticRole.METRIC,[o.SemanticRole.VBAR]:o.SemanticRole.NEUTRAL,[o.SemanticRole.OPENFENCE]:o.SemanticRole.OPEN,[o.SemanticRole.CLOSEFENCE]:o.SemanticRole.CLOSE};function b(e){if(e.type!==o.SemanticType.PUNCTUATION)return!1;const t=y[e.role];return!!t&&(e.role=t,e.type=o.SemanticType.FENCE,e.addAnnotation("Emph","fence"),!0)}function v(e,t,r,n=r){const i=[];for(;e&&e.role===r;)i.push(e),e=t.shift();return i.length?(e&&t.unshift(e),[1===i.length?i[0]:x(i,n),t]):[e,t]}function x(e,t){const r=n.SemanticHeuristics.factory.makeBranchNode(o.SemanticType.PUNCTUATION,e,[]);return r.role=t,r}return n.SemanticHeuristics.add(new i.SemanticMultiHeuristic("ellipses",e=>{const t=[];let r=e.shift();for(;r;)[r,e]=v(r,e,o.SemanticRole.FULLSTOP,o.SemanticRole.ELLIPSIS),[r,e]=v(r,e,o.SemanticRole.DASH),t.push(r),r=e.shift();return t},e=>e.length>1)),n.SemanticHeuristics.add(new i.SemanticMultiHeuristic("op_with_limits",e=>{const t=e[0];return t.type=o.SemanticType.LARGEOP,t.role=o.SemanticRole.SUM,e},e=>e[0].type===o.SemanticType.OPERATOR&&e.slice(1).some(e=>e.type===o.SemanticType.RELSEQ||e.type===o.SemanticType.MULTIREL||e.type===o.SemanticType.INFIXOP&&e.role===o.SemanticRole.ELEMENT||e.type===o.SemanticType.PUNCTUATED&&e.role===o.SemanticRole.SEQUENCE))),n.SemanticHeuristics.add(new i.SemanticMultiHeuristic("bracketed_interval",e=>{const t=e[0],r=e[1],i=e.slice(2),a=s.SemanticProcessor.getInstance().row(i),l=n.SemanticHeuristics.factory.makeBranchNode(o.SemanticType.FENCED,[a],[t,r]);return l.role=o.SemanticRole.LEFTRIGHT,l},e=>{const t=e[0],r=e[1],n=e.slice(2);if(!t||"]"!==t.textContent&&"["!==t.textContent||!r||"]"!==r.textContent&&"["!==r.textContent)return!1;const i=l.partitionNodes(n,a.isPunctuation);return!(1!==i.rel.length||!i.comp[0].length||!i.comp[1].length)})),n.SemanticHeuristics.add(new i.SemanticMmlHeuristic("function_from_identifiers",e=>{const t=d.toArray(e.childNodes).map(e=>e.textContent.trim()).join("");if(r.SemanticMap.Meaning.get(t).type===o.SemanticType.UNKNOWN)return e;const i=n.SemanticHeuristics.factory.makeLeafNode(t,s.SemanticProcessor.getInstance().font(e.getAttribute("mathvariant")));return i.mathmlTree=e,i},e=>{const t=d.toArray(e.childNodes);return!(t.length<2)&&t.every(e=>d.tagName(e)===u.MMLTAGS.MI&&r.SemanticMap.Meaning.get(e.textContent.trim()).role===o.SemanticRole.LATINLETTER)})),semantic_heuristics}function requireSemantic_tree(){if(hasRequiredSemantic_tree)return semantic_tree;hasRequiredSemantic_tree=1,Object.defineProperty(semantic_tree,"__esModule",{value:!0}),semantic_tree.SemanticTree=void 0;const e=requireDom_util(),t=requireSemantic_annotations(),r=requireSemantic_annotator(),n=requireSemantic_meaning(),i=requireSemantic_mathml(),o=requireSemantic_node(),a=requireSemantic_pred();requireSemantic_heuristics();class s{static empty(){const t=e.parseInput("<math/>"),r=new s(t);return r.mathml=t,r}static fromNode(e,t){const r=s.empty();return r.root=e,t&&(r.mathml=t),r}static fromRoot(e,t){let r=e;for(;r.parent;)r=r.parent;const n=s.fromNode(r);return t&&(n.mathml=t),n}static fromXml(e){const t=s.empty();return e.childNodes[0]&&(t.root=o.SemanticNode.fromXml(e.childNodes[0])),t}constructor(e){this.mathml=e,this.parser=new i.SemanticMathml,this.root=this.parser.parse(e),this.collator=this.parser.getFactory().leafMap.collateMeaning();const r=this.collator.newDefault();r&&(this.parser=new i.SemanticMathml,this.parser.getFactory().defaultMap=r,this.root=this.parser.parse(e)),l.visit(this.root,{}),(0,t.annotate)(this.root)}xml(t){const r=e.parseInput("<stree></stree>"),n=this.root.xml(r.ownerDocument,t);return r.appendChild(n),r}toString(t){return e.serializeXml(this.xml(t))}formatXml(t){const r=this.toString(t);return e.formatXml(r)}displayTree(){this.root.displayTree()}replaceNode(e,t){const r=e.parent;r?r.replaceChild(e,t):this.root=t}toJson(){const e={};return e.stree=this.root.toJson(),e}}semantic_tree.SemanticTree=s;const l=new r.SemanticVisitor("general","unit",(e,t)=>(a.isUnitProduct(e)&&(e.role=n.SemanticRole.UNIT),!1));return semantic_tree}function requireSemantic(){if(hasRequiredSemantic)return semantic;hasRequiredSemantic=1,Object.defineProperty(semantic,"__esModule",{value:!0}),semantic.xmlTree=function(e){return r(e).xml()},semantic.getTree=r,semantic.getTreeFromString=function(t){return r(e.parseInput(t))};const e=requireDom_util(),t=requireSemantic_tree();function r(e){return new t.SemanticTree(e)}return semantic}var enrich_mathml={},enrich_case={},hasRequiredEnrich_case,hasRequiredEnrich_mathml;function requireEnrich_case(){return hasRequiredEnrich_case||(hasRequiredEnrich_case=1,e=enrich_case,Object.defineProperty(e,"__esModule",{value:!0}),e.factory=void 0,e.getCase=function(t){for(let r,n=0;r=e.factory[n];n++)if(r.test(t))return r.constr(t);return null},e.factory=[]),enrich_case;var e}function requireEnrich_mathml(){if(hasRequiredEnrich_mathml)return enrich_mathml;hasRequiredEnrich_mathml=1,Object.defineProperty(enrich_mathml,"__esModule",{value:!0}),enrich_mathml.enrich=function(n,i){h.clear();const o=t.cloneNode(n);p(i.root),r.Engine.getInstance().structure&&n.setAttribute(c.Attribute.STRUCTURE,a.SemanticSkeleton.fromStructure(n,i).toString());return e.Debugger.getInstance().generateOutput(()=>[L(o,"Original MathML",d.wiki),L(i,"Semantic Tree",d.wiki),L(n,"Semantically enriched MathML",d.wiki)]),n},enrich_mathml.walkTree=p,enrich_mathml.introduceNewLayer=f,enrich_mathml.ascendNewNode=_,enrich_mathml.addCollapsedAttribute=function(e,t){const r=new a.SemanticSkeleton(t);e.setAttribute(c.Attribute.COLLAPSED,r.toString())},enrich_mathml.cloneContentNode=O,enrich_mathml.rewriteMfenced=k,enrich_mathml.setOperatorAttribute=N,enrich_mathml.getInnerNode=I,enrich_mathml.collapsePunctuated=function(e,t){const r=!!t,n=t||[],i=e.parent,o=e.contentNodes.map(function(e){return e.id});o.unshift("c");const a=[e.id,o];for(let s,l=0;s=e.childNodes[l];l++){const e=p(s);n.push(e);const t=I(e);i&&!r&&t.setAttribute(c.Attribute.PARENT,i.id.toString()),a.push(s.id)}return a};const e=require_debugger(),t=requireDom_util(),r=requireEngine(),n=requireSemantic_attr(),i=requireSemantic_meaning(),o=requireSemantic_heuristic_factory(),a=requireSemantic_skeleton(),s=requireSemantic_util(),l=requireSemantic_util(),c=requireEnrich_attr(),u=requireEnrich_case(),d={implicit:!0,wiki:!0},h=new Map;function p(r){e.Debugger.getInstance().output("WALKING START: "+r.toString());const n=(0,u.getCase)(r);let s;if(n)return s=n.getMathml(),e.Debugger.getInstance().output("WALKING END: "+r.toString()),_(s);if(1===r.mathml.length){if(e.Debugger.getInstance().output("Walktree Case 0"),!r.childNodes.length)return e.Debugger.getInstance().output("Walktree Case 0.1"),s=r.mathml[0],c.setAttributes(s,r),e.Debugger.getInstance().output("WALKING END: "+r.toString()),_(s);const t=r.childNodes[0];if(1===r.childNodes.length&&t.type===i.SemanticType.EMPTY)return e.Debugger.getInstance().output("Walktree Case 0.2"),s=r.mathml[0],c.setAttributes(s,r),s.appendChild(p(t)),e.Debugger.getInstance().output("WALKING END: "+r.toString()),_(s);r.childNodes.forEach(e=>{e.mathml.length||(e.mathml=[A(e)])})}const l=r.contentNodes.map(O);N(r,l);const d=r.childNodes.map(p),m=a.SemanticSkeleton.combineContentChildren(r.type,r.role,l,d);if(s=r.mathmlTree,null===s)e.Debugger.getInstance().output("Walktree Case 1"),s=f(m,r);else{const t=S(m);e.Debugger.getInstance().output("Walktree Case 2"),t?(e.Debugger.getInstance().output("Walktree Case 2.1"),s=R(t)):(e.Debugger.getInstance().output("Walktree Case 2.2"),s=I(s))}return s=k(s),function(e,r,n){if(!r.length)return;if(1===r.length&&e===r[0])return;const a=n.role===i.SemanticRole.IMPLICIT&&o.SemanticHeuristics.flags.combine_juxtaposition?function(e,r,n){const i=[];let o=t.toArray(e.childNodes),a=!1;for(;o.length;){const e=o.shift();if(e.hasAttribute(c.Attribute.TYPE)){i.push(e);continue}const t=g(e,r);0!==t.length&&(1!==t.length?(a?e.setAttribute("AuxiliaryImplicit",!0):a=!0,o=t.concat(o)):i.push(e))}const s=[],l=n.childNodes.map(function(e){return e.mathmlTree});for(;l.length;){const e=l.pop();if(e){if(-1!==i.indexOf(e))break;-1!==r.indexOf(e)&&s.unshift(e)}}return i.concat(s)}(e,r,n):t.toArray(e.childNodes);if(!a.length)return void r.forEach(function(t){e.appendChild(t)});let s=0;for(;r.length;){const t=r[0];if(a[s]===t||v(a[s],t)){r.shift(),s++;continue}if(a[s]&&-1===r.indexOf(a[s])){s++;continue}if(b(t,e)){r.shift();continue}const n=a[s];if(!n){if(t.parentNode){e=R(t),r.shift();continue}const n=r[1];if(n&&n.parentNode){(e=R(n)).insertBefore(t,n),r.shift(),r.shift();continue}e.insertBefore(t,null),r.shift();continue}y(e,n,t),r.shift()}}(s,m,r),h.has(r.id)||(h.set(r.id,!0),c.setAttributes(s,r)),e.Debugger.getInstance().output("WALKING END: "+r.toString()),_(s)}function f(r,n){const i=function(e){const t=S(e);if(!t)return{type:x.INVALID,node:null};const r=S(e.slice().reverse());if(t===r)return{type:x.VALID,node:t};const n=E(t),i=function(e,t){let r=0;for(;e[r]&&-1===t.indexOf(e[r]);)r++;return e.slice(0,r+1)}(n,e),o=E(r,function(e){return-1!==i.indexOf(e)}),a=o[0],s=i.indexOf(a);if(-1===s)return{type:x.INVALID,node:null};return{type:i.length!==n.length?x.PRUNED:w(i[s+1],o[1])?x.VALID:x.INVALID,node:a}}(r);let o=i.node;const a=i.type;if(a!==x.VALID||!s.hasEmptyTag(o)||!o.parentNode&&n.parent)if(e.Debugger.getInstance().output("Walktree Case 1.1"),o=c.addMrow(),a===x.PRUNED)e.Debugger.getInstance().output("Walktree Case 1.1.0"),o=function(r,n,i){let o=M(n);if(s.hasMathTag(o)){e.Debugger.getInstance().output("Walktree Case 1.1.0.0"),m(o,r),t.toArray(o.childNodes).forEach(function(e){r.appendChild(e)});const n=r;r=o,o=n}const a=i.indexOf(n);return i[a]=o,t.replaceNode(o,r),r.appendChild(o),i.forEach(function(e){r.appendChild(e)}),r}(o,i.node,r);else if(r[0]){e.Debugger.getInstance().output("Walktree Case 1.1.1");const n=S(r);if(n){const e=function(e,r){const n=t.toArray(e.childNodes);let i=1/0,o=-1/0;return r.forEach(function(e){const t=n.indexOf(e);-1!==t&&(i=Math.min(i,t),o=Math.max(o,t))}),n.slice(i,o+1)}(R(n),r);t.replaceNode(n,o),e.forEach(function(e){o.appendChild(e)})}else m(o,r[0]),o=r[0]}return n.mathmlTree||(n.mathmlTree=o),o}function m(e,t){for(const r of c.EnrichAttributes)e.hasAttribute(r)&&(t.setAttribute(r,e.getAttribute(r)),e.removeAttribute(r))}function g(e,r){const n=[];let i=t.toArray(e.childNodes);for(;i.length;){const e=i.shift();e.nodeType===t.NodeType.ELEMENT_NODE&&(e.hasAttribute(c.Attribute.TYPE)||-1!==r.indexOf(e)?n.push(e):i=t.toArray(e.childNodes).concat(i))}return n}function y(e,t,r){let n=t,i=R(n);for(;i&&i.firstChild===n&&!n.hasAttribute("AuxiliaryImplicit")&&i!==e;)n=i,i=R(n);i&&(i.insertBefore(r,n),n.removeAttribute("AuxiliaryImplicit"))}function b(e,t){if(!e)return!1;do{if((e=R(e))===t)return!0}while(e);return!1}function v(e,r){const i=n.NamedSymbol.functionApplication;if(e&&r&&e.textContent&&r.textContent&&e.textContent===i&&r.textContent===i&&"true"===r.getAttribute(c.Attribute.ADDED)){for(let t,n=0;t=e.attributes[n];n++)r.hasAttribute(t.nodeName)||r.setAttribute(t.nodeName,t.nodeValue);return t.replaceNode(e,r),!0}return!1}var x,$;function S(e){let t=0,r=null;for(;!r&&t<e.length;)e[t].parentNode&&(r=e[t]),t++;return r}function E(e,t){const r=t||(e=>!1),n=[e];for(;!r(e)&&!s.hasMathTag(e)&&e.parentNode;)e=R(e),n.unshift(e);return n}function w(e,t){return!(!e||!t||e.previousSibling||t.nextSibling)}function _(e){for(;!s.hasMathTag(e)&&C(e);)e=R(e);return e}function M(e){const r=t.toArray(e.childNodes);if(!r)return e;const n=r.filter(function(e){return e.nodeType===t.NodeType.ELEMENT_NODE&&!s.hasIgnoreTag(e)});return 1===n.length&&s.hasEmptyTag(n[0])&&!n[0].hasAttribute(c.Attribute.TYPE)?M(n[0]):e}function C(e){const r=R(e);return!(!r||!s.hasEmptyTag(r))&&t.toArray(r.childNodes).every(function(t){return t===e||T(t)})}function T(e){if(e.nodeType!==t.NodeType.ELEMENT_NODE)return!0;if(!e||s.hasIgnoreTag(e))return!0;const r=t.toArray(e.childNodes);return!(!s.hasEmptyTag(e)&&r.length||s.hasDisplayTag(e)||e.hasAttribute(c.Attribute.TYPE)||s.isOrphanedGlyph(e))&&t.toArray(e.childNodes).every(T)}function R(e){return e.parentNode}function O(e){if(e.mathml.length)return p(e);const t=d.implicit?A(e):c.addMrow();return e.mathml=[t],t}function k(e){if(t.tagName(e)!==l.MMLTAGS.MFENCED)return e;const r=c.addMrow();for(let t,n=0;t=e.attributes[n];n++)-1===["open","close","separators"].indexOf(t.name)&&r.setAttribute(t.name,t.value);return t.toArray(e.childNodes).forEach(function(e){r.appendChild(e)}),t.replaceNode(e,r),r}function A(e){const r=t.createElement("mo"),n=t.createTextNode(e.textContent);return r.appendChild(n),c.setAttributes(r,e),r.setAttribute(c.Attribute.ADDED,"true"),r}function N(e,t){const r=e.type+(e.textContent?","+e.textContent:"");t.forEach(function(e){I(e).setAttribute(c.Attribute.OPERATOR,r)})}function I(e){const r=t.toArray(e.childNodes);if(!r)return e;const n=r.filter(function(e){return!T(e)}),o=[];for(let t,a=0;t=n[a];a++)if(s.hasEmptyTag(t)&&t.getAttribute(c.Attribute.TYPE)!==i.SemanticType.PUNCTUATION){const e=I(t);e&&e!==t&&o.push(e)}else o.push(t);return 1===o.length?o[0]:e}function L(e,r,n=!1){const i=c.removeAttributePrefix(t.formatXml(e.toString()));return n?r+":\n```html\n"+i+"\n```\n":i}return($=x||(x={})).VALID="valid",$.INVALID="invalid",$.PRUNED="pruned",enrich_mathml}var enrich_case_factory={},case_binomial={},abstract_enrich_case={},hasRequiredAbstract_enrich_case,hasRequiredCase_binomial;function requireAbstract_enrich_case(){if(hasRequiredAbstract_enrich_case)return abstract_enrich_case;hasRequiredAbstract_enrich_case=1,Object.defineProperty(abstract_enrich_case,"__esModule",{value:!0}),abstract_enrich_case.AbstractEnrichCase=void 0;return abstract_enrich_case.AbstractEnrichCase=class{constructor(e){this.semantic=e}},abstract_enrich_case}function requireCase_binomial(){if(hasRequiredCase_binomial)return case_binomial;hasRequiredCase_binomial=1,Object.defineProperty(case_binomial,"__esModule",{value:!0}),case_binomial.CaseBinomial=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireAbstract_enrich_case(),n=requireEnrich_mathml(),i=requireEnrich_attr();class o extends r.AbstractEnrichCase{static test(e){return!e.mathmlTree&&e.type===t.SemanticType.LINE&&e.role===t.SemanticRole.BINOMIAL}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const t=this.semantic.childNodes[0];if(this.mml=(0,n.walkTree)(t),this.mml.hasAttribute(i.Attribute.TYPE)){const t=(0,i.addMrow)();e.replaceNode(this.mml,t),t.appendChild(this.mml),this.mml=t}return(0,i.setAttributes)(this.mml,this.semantic),this.mml}}return case_binomial.CaseBinomial=o,case_binomial}var case_double_script={},hasRequiredCase_double_script;function requireCase_double_script(){if(hasRequiredCase_double_script)return case_double_script;hasRequiredCase_double_script=1,Object.defineProperty(case_double_script,"__esModule",{value:!0}),case_double_script.CaseDoubleScript=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_util(),n=requireAbstract_enrich_case(),i=requireEnrich_mathml(),o=requireEnrich_attr();class a extends n.AbstractEnrichCase{static test(n){if(!n.mathmlTree||!n.childNodes.length)return!1;const i=e.tagName(n.mathmlTree),o=n.childNodes[0].role;return i===r.MMLTAGS.MSUBSUP&&o===t.SemanticRole.SUBSUP||i===r.MMLTAGS.MUNDEROVER&&o===t.SemanticRole.UNDEROVER}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes[0],t=e.childNodes[0],r=this.semantic.childNodes[1],n=e.childNodes[1],a=i.walkTree(r),s=i.walkTree(t),l=i.walkTree(n);return(0,o.setAttributes)(this.mml,this.semantic),this.mml.setAttribute(o.Attribute.CHILDREN,(0,o.makeIdList)([t,n,r])),[s,l,a].forEach(e=>i.getInnerNode(e).setAttribute(o.Attribute.PARENT,this.mml.getAttribute(o.Attribute.ID))),this.mml.setAttribute(o.Attribute.TYPE,e.role),i.addCollapsedAttribute(this.mml,[this.semantic.id,[e.id,t.id,n.id],r.id]),this.mml}}return case_double_script.CaseDoubleScript=a,case_double_script}var case_embellished={},case_multiscripts={},case_multiindex={},hasRequiredCase_multiindex,hasRequiredCase_multiscripts;function requireCase_multiindex(){if(hasRequiredCase_multiindex)return case_multiindex;hasRequiredCase_multiindex=1,Object.defineProperty(case_multiindex,"__esModule",{value:!0}),case_multiindex.CaseMultiindex=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_util(),n=requireAbstract_enrich_case(),i=requireEnrich_mathml(),o=requireEnrich_attr();class a extends n.AbstractEnrichCase{static multiscriptIndex(e){return e.type===t.SemanticType.PUNCTUATED&&e.contentNodes[0].role===t.SemanticRole.DUMMY?i.collapsePunctuated(e):(i.walkTree(e),e.id)}static createNone_(t){const r=e.createElement("none");return t&&(0,o.setAttributes)(r,t),r.setAttribute(o.Attribute.ADDED,"true"),r}constructor(e){super(e),this.mml=e.mathmlTree}completeMultiscript(t,n){const s=e.toArray(this.mml.childNodes).slice(1);let l=0;const c=e=>{for(const t of e){const e=s[l];if(e&&t===parseInt(e.getAttribute(o.Attribute.ID)))e.setAttribute(o.Attribute.PARENT,this.semantic.id.toString()),l++;else if(e&&t===parseInt(i.getInnerNode(e).getAttribute(o.Attribute.ID)))i.getInnerNode(e).setAttribute(o.Attribute.PARENT,this.semantic.id.toString()),l++;else{const r=this.semantic.querySelectorAll(e=>e.id===t);this.mml.insertBefore(a.createNone_(r[0]),e||null)}}};c(t),s[l]&&e.tagName(s[l])!==r.MMLTAGS.MPRESCRIPTS?this.mml.insertBefore(s[l],e.createElement("mprescripts")):l++,c(n)}}return case_multiindex.CaseMultiindex=a,case_multiindex}function requireCase_multiscripts(){if(hasRequiredCase_multiscripts)return case_multiscripts;hasRequiredCase_multiscripts=1,Object.defineProperty(case_multiscripts,"__esModule",{value:!0}),case_multiscripts.CaseMultiscripts=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_skeleton(),n=requireSemantic_util(),i=requireCase_multiindex(),o=requireEnrich_mathml(),a=requireEnrich_attr();class s extends i.CaseMultiindex{static test(r){if(!r.mathmlTree)return!1;return e.tagName(r.mathmlTree)===n.MMLTAGS.MMULTISCRIPTS&&(r.type===t.SemanticType.SUPERSCRIPT||r.type===t.SemanticType.SUBSCRIPT)}constructor(e){super(e)}getMathml(){let e,n,s;if((0,a.setAttributes)(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===t.SemanticRole.SUBSUP){const t=this.semantic.childNodes[0];e=t.childNodes[0],n=i.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),s=i.CaseMultiindex.multiscriptIndex(t.childNodes[1]);const l=[this.semantic.id,[t.id,e.id,s],n];o.addCollapsedAttribute(this.mml,l),this.mml.setAttribute(a.Attribute.TYPE,t.role),this.completeMultiscript(r.SemanticSkeleton.interleaveIds(s,n),[])}else{e=this.semantic.childNodes[0],n=i.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]);const t=[this.semantic.id,e.id,n];o.addCollapsedAttribute(this.mml,t)}const l=r.SemanticSkeleton.collapsedLeafs(s||[],n),c=o.walkTree(e);return o.getInnerNode(c).setAttribute(a.Attribute.PARENT,this.semantic.id.toString()),l.unshift(e.id),this.mml.setAttribute(a.Attribute.CHILDREN,l.join(",")),this.mml}}return case_multiscripts.CaseMultiscripts=s,case_multiscripts}var case_tensor={},hasRequiredCase_tensor,hasRequiredCase_embellished;function requireCase_tensor(){if(hasRequiredCase_tensor)return case_tensor;hasRequiredCase_tensor=1,Object.defineProperty(case_tensor,"__esModule",{value:!0}),case_tensor.CaseTensor=void 0;const e=requireSemantic_meaning(),t=requireSemantic_skeleton(),r=requireCase_multiindex(),n=requireEnrich_mathml(),i=requireEnrich_attr();class o extends r.CaseMultiindex{static test(t){return!!t.mathmlTree&&t.type===e.SemanticType.TENSOR}constructor(e){super(e)}getMathml(){n.walkTree(this.semantic.childNodes[0]);const e=r.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),o=r.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[2]),a=r.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[3]),s=r.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[4]);(0,i.setAttributes)(this.mml,this.semantic);const l=[this.semantic.id,this.semantic.childNodes[0].id,e,o,a,s];n.addCollapsedAttribute(this.mml,l);const c=t.SemanticSkeleton.collapsedLeafs(e,o,a,s);return c.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(i.Attribute.CHILDREN,c.join(",")),this.completeMultiscript(t.SemanticSkeleton.interleaveIds(a,s),t.SemanticSkeleton.interleaveIds(e,o)),this.mml}}return case_tensor.CaseTensor=o,case_tensor}function requireCase_embellished(){if(hasRequiredCase_embellished)return case_embellished;hasRequiredCase_embellished=1,Object.defineProperty(case_embellished,"__esModule",{value:!0}),case_embellished.CaseEmbellished=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_node(),n=requireSemantic_util(),i=requireAbstract_enrich_case(),o=requireCase_double_script(),a=requireCase_multiscripts(),s=requireCase_tensor(),l=requireEnrich_mathml(),c=requireEnrich_attr();class u extends i.AbstractEnrichCase{static test(e){return!(!e.mathmlTree||!e.fencePointer||e.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(e){const n=(0,c.addMrow)(),i=new r.SemanticNode(e);return i.type=t.SemanticType.EMPTY,i.mathmlTree=n,i}static fencedMap_(e,t){t[e.id]=e.mathmlTree,e.embellished&&u.fencedMap_(e.childNodes[0],t)}constructor(e){super(e),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){this.getFenced_(),this.fencedMml=l.walkTree(this.fenced),this.getFencesMml_(),this.fenced.type!==t.SemanticType.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(c.Attribute.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_();return this.rewrite_()}fencedElement(e){return e.type===t.SemanticType.FENCED||e.type===t.SemanticType.MATRIX||e.type===t.SemanticType.VECTOR}getFenced_(){let e=this.semantic;for(;!this.fencedElement(e);)e=e.childNodes[0];this.fenced=e.childNodes[0],this.ofence=e.contentNodes[0],this.cfence=e.contentNodes[1],u.fencedMap_(this.ofence,this.ofenceMap),u.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let e=this.ofenceMml.nextSibling;for(e=e===this.fencedMml?e:this.fencedMml;e&&e!==this.cfenceMml;)this.fencedMmlNodes.push(e),e=e.nextSibling}getFencesMml_(){let e=this.semantic;const t=Object.keys(this.ofenceMap),r=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||e===this.fenced);)-1===t.indexOf(e.fencePointer)||this.ofenceMml||(this.ofenceMml=e.mathmlTree),-1===r.indexOf(e.fencePointer)||this.cfenceMml||(this.cfenceMml=e.mathmlTree),e=e.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=l.ascendNewNode(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=l.ascendNewNode(this.cfenceMml))}rewrite_(){let t=this.semantic,r=null;const n=this.introduceNewLayer_();for((0,c.setAttributes)(n,this.fenced.parent);!this.fencedElement(t);){const i=t.mathmlTree,o=this.specialCase_(t,i);if(o)t=o;else{(0,c.setAttributes)(i,t);const e=[];for(let r,n=1;r=t.childNodes[n];n++)e.push(l.walkTree(r));t=t.childNodes[0]}const a=e.createElement("dummy"),s=i.childNodes[0];e.replaceNode(i,a),e.replaceNode(n,i),e.replaceNode(i.childNodes[0],n),e.replaceNode(a,s),r||(r=i)}return l.walkTree(this.ofence),l.walkTree(this.cfence),this.cleanupParents_(),r||n}specialCase_(r,i){const l=e.tagName(i);let c,d=null;if(l===n.MMLTAGS.MSUBSUP?(d=r.childNodes[0],c=o.CaseDoubleScript):l===n.MMLTAGS.MMULTISCRIPTS&&(r.type===t.SemanticType.SUPERSCRIPT||r.type===t.SemanticType.SUBSCRIPT?c=a.CaseMultiscripts:r.type===t.SemanticType.TENSOR&&(c=s.CaseTensor),d=c&&r.childNodes[0]&&r.childNodes[0].role===t.SemanticRole.SUBSUP?r.childNodes[0]:r),!d)return null;const h=d.childNodes[0],p=u.makeEmptyNode_(h.id);return d.childNodes[0]=p,i=new c(r).getMathml(),d.childNodes[0]=h,this.parentCleanup.push(i),d.childNodes[0]}introduceNewLayer_(){const t=this.fullFence(this.ofenceMml),r=this.fullFence(this.cfenceMml);let n=(0,c.addMrow)();if(e.replaceNode(this.fencedMml,n),this.fencedMmlNodes.forEach(e=>n.appendChild(e)),n.insertBefore(t,this.fencedMml),n.appendChild(r),!n.parentNode){const e=(0,c.addMrow)();for(;n.childNodes.length>0;)e.appendChild(n.childNodes[0]);n.appendChild(e),n=e}return n}fullFence(e){const t=this.fencedMml.parentNode;let r=e;for(;r.parentNode&&r.parentNode!==t;)r=r.parentNode;return r}cleanupParents_(){this.parentCleanup.forEach(function(e){const t=e.childNodes[1].getAttribute(c.Attribute.PARENT);e.childNodes[0].setAttribute(c.Attribute.PARENT,t)})}}return case_embellished.CaseEmbellished=u,case_embellished}var case_empheq={},hasRequiredCase_empheq;function requireCase_empheq(){if(hasRequiredCase_empheq)return case_empheq;hasRequiredCase_empheq=1,Object.defineProperty(case_empheq,"__esModule",{value:!0}),case_empheq.CaseEmpheq=void 0;const e=requireSemantic_util(),t=requireAbstract_enrich_case(),r=requireEnrich_mathml(),n=requireEnrich_attr(),i=requireDom_util();class o extends t.AbstractEnrichCase{static test(e){return!!e.mathmlTree&&e.hasAnnotation("Emph","top")}constructor(e){super(e),this.mrows=[],this.mml=e.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const e=(0,n.addMrow)();this.mml.parentNode.insertBefore(e,this.mml);for(const t of this.mrows)e.appendChild(t);e.appendChild(this.mml)}return this.mml}recurseToTable(t){var o,a;if(t.hasAnnotation("Emph","top")||t.hasAnnotation("Emph","fence")||!t.hasAnnotation("Emph","left")&&!t.hasAnnotation("Emph","right")){if(!t.mathmlTree||i.tagName(t.mathmlTree)===e.MMLTAGS.MTABLE&&(null===(o=t.annotation.Emph)||void 0===o?void 0:o.length)&&"table"!==t.annotation.Emph[0]){const e=(0,n.addMrow)();(0,n.setAttributes)(e,t),this.mrows.unshift(e)}else{if(i.tagName(t.mathmlTree)===e.MMLTAGS.MTABLE&&(null===(a=t.annotation.Emph)||void 0===a?void 0:a.length)&&"table"===t.annotation.Emph[0])return void this.finalizeTable(t);(0,n.setAttributes)(t.mathmlTree,t)}if(t.childNodes.forEach(this.recurseToTable.bind(this)),t.textContent||"punctuated"===t.type){const e=t.contentNodes.map(e=>{const t=r.cloneContentNode(e);return t.hasAttribute("data-semantic-added")?this.mrows.unshift(t):this.recurseToTable(e),t});return void r.setOperatorAttribute(t,e)}t.contentNodes.forEach(this.recurseToTable.bind(this))}else r.walkTree(t)}finalizeTable(e){(0,n.setAttributes)(e.mathmlTree,e),e.contentNodes.forEach(e=>{r.walkTree(e)}),e.childNodes.forEach(e=>{r.walkTree(e)})}}return case_empheq.CaseEmpheq=o,case_empheq}var case_limit={},hasRequiredCase_limit;function requireCase_limit(){if(hasRequiredCase_limit)return case_limit;hasRequiredCase_limit=1,Object.defineProperty(case_limit,"__esModule",{value:!0}),case_limit.CaseLimit=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_util(),n=requireAbstract_enrich_case(),i=requireEnrich_mathml(),o=requireEnrich_attr();class a extends n.AbstractEnrichCase{static test(n){if(!n.mathmlTree||!n.childNodes.length)return!1;const i=e.tagName(n.mathmlTree),o=n.type;return(o===t.SemanticType.LIMUPPER||o===t.SemanticType.LIMLOWER)&&(i===r.MMLTAGS.MSUBSUP||i===r.MMLTAGS.MUNDEROVER)||o===t.SemanticType.LIMBOTH&&(i===r.MMLTAGS.MSUB||i===r.MMLTAGS.MUNDER||i===r.MMLTAGS.MSUP||i===r.MMLTAGS.MOVER)}static walkTree_(e){e&&i.walkTree(e)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes;return this.semantic.type!==t.SemanticType.LIMBOTH&&this.mml.childNodes.length>=3&&(this.mml=i.introduceNewLayer([this.mml],this.semantic)),(0,o.setAttributes)(this.mml,this.semantic),e[0].mathmlTree||(e[0].mathmlTree=this.semantic.mathmlTree),e.forEach(a.walkTree_),this.mml}}return case_limit.CaseLimit=a,case_limit}var case_line={},hasRequiredCase_line;function requireCase_line(){if(hasRequiredCase_line)return case_line;hasRequiredCase_line=1,Object.defineProperty(case_line,"__esModule",{value:!0}),case_line.CaseLine=void 0;const e=requireSemantic_meaning(),t=requireAbstract_enrich_case(),r=requireEnrich_mathml(),n=requireEnrich_attr();class i extends t.AbstractEnrichCase{static test(t){return!!t.mathmlTree&&t.type===e.SemanticType.LINE}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&r.walkTree(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&r.walkTree(this.semantic.childNodes[0]),(0,n.setAttributes)(this.mml,this.semantic),this.mml}}return case_line.CaseLine=i,case_line}var case_proof={},hasRequiredCase_proof;function requireCase_proof(){if(hasRequiredCase_proof)return case_proof;hasRequiredCase_proof=1,Object.defineProperty(case_proof,"__esModule",{value:!0}),case_proof.CaseProof=void 0;const e=requireSemantic_meaning(),t=requireAbstract_enrich_case(),r=requireEnrich_mathml(),n=requireEnrich_attr();class i extends t.AbstractEnrichCase{static test(t){return!!t.mathmlTree&&(t.type===e.SemanticType.INFERENCE||t.type===e.SemanticType.PREMISES)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach(function(e){r.walkTree(e),(0,n.setAttributes)(e.mathmlTree,e)}),this.semantic.childNodes.forEach(function(e){r.walkTree(e)}),(0,n.setAttributes)(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}return case_proof.CaseProof=i,case_proof}var case_table={},hasRequiredCase_table;function requireCase_table(){if(hasRequiredCase_table)return case_table;hasRequiredCase_table=1,Object.defineProperty(case_table,"__esModule",{value:!0}),case_table.CaseTable=void 0;const e=requireDom_util(),t=requireSemantic_meaning(),r=requireSemantic_util(),n=requireAbstract_enrich_case(),i=requireEnrich_mathml(),o=requireEnrich_attr();class a extends n.AbstractEnrichCase{static test(e){return e.type===t.SemanticType.MATRIX||e.type===t.SemanticType.VECTOR||e.type===t.SemanticType.CASES}constructor(e){super(e),this.inner=[],this.mml=e.mathmlTree}getMathml(){const t=i.cloneContentNode(this.semantic.contentNodes[0]),n=this.semantic.contentNodes[1]?i.cloneContentNode(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(i.walkTree),this.mml)if(e.tagName(this.mml)===r.MMLTAGS.MFENCED){const e=this.mml.childNodes;this.mml.insertBefore(t,e[0]||null),n&&this.mml.appendChild(n),this.mml=i.rewriteMfenced(this.mml)}else{const e=[t,this.mml];n&&e.push(n),this.mml=i.introduceNewLayer(e,this.semantic)}else this.mml=i.introduceNewLayer([t].concat(this.inner,[n]),this.semantic);return(0,o.setAttributes)(this.mml,this.semantic),this.mml}}return case_table.CaseTable=a,case_table}var case_text={},hasRequiredCase_text,hasRequiredEnrich_case_factory,hasRequiredEnrich;function requireCase_text(){if(hasRequiredCase_text)return case_text;hasRequiredCase_text=1,Object.defineProperty(case_text,"__esModule",{value:!0}),case_text.CaseText=void 0;const e=requireSemantic_meaning(),t=requireAbstract_enrich_case(),r=requireEnrich_mathml(),n=requireEnrich_attr();class i extends t.AbstractEnrichCase{static test(t){return t.type===e.SemanticType.PUNCTUATED&&(t.role===e.SemanticRole.TEXT||t.contentNodes.every(t=>t.role===e.SemanticRole.DUMMY))}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=[],t=r.collapsePunctuated(this.semantic,e);return this.mml=r.introduceNewLayer(e,this.semantic),(0,n.setAttributes)(this.mml,this.semantic),this.mml.removeAttribute(n.Attribute.CONTENT),r.addCollapsedAttribute(this.mml,t),this.mml}}return case_text.CaseText=i,case_text}function requireEnrich_case_factory(){if(hasRequiredEnrich_case_factory)return enrich_case_factory;hasRequiredEnrich_case_factory=1,Object.defineProperty(enrich_case_factory,"__esModule",{value:!0});const e=requireCase_binomial(),t=requireCase_double_script(),r=requireCase_embellished(),n=requireCase_empheq(),i=requireCase_limit(),o=requireCase_line(),a=requireCase_multiscripts(),s=requireCase_proof(),l=requireCase_table(),c=requireCase_tensor(),u=requireCase_text();return requireEnrich_case().factory.push({test:i.CaseLimit.test,constr:e=>new i.CaseLimit(e)},{test:r.CaseEmbellished.test,constr:e=>new r.CaseEmbellished(e)},{test:t.CaseDoubleScript.test,constr:e=>new t.CaseDoubleScript(e)},{test:c.CaseTensor.test,constr:e=>new c.CaseTensor(e)},{test:a.CaseMultiscripts.test,constr:e=>new a.CaseMultiscripts(e)},{test:o.CaseLine.test,constr:e=>new o.CaseLine(e)},{test:e.CaseBinomial.test,constr:t=>new e.CaseBinomial(t)},{test:s.CaseProof.test,constr:e=>new s.CaseProof(e)},{test:n.CaseEmpheq.test,constr:e=>new n.CaseEmpheq(e)},{test:l.CaseTable.test,constr:e=>new l.CaseTable(e)},{test:u.CaseText.test,constr:e=>new u.CaseText(e)}),enrich_case_factory}function requireEnrich(){if(hasRequiredEnrich)return enrich;hasRequiredEnrich=1,Object.defineProperty(enrich,"__esModule",{value:!0}),enrich.semanticMathmlNode=o,enrich.semanticMathmlSync=a,enrich.semanticMathml=function(e,n){r.EnginePromise.getall().then(()=>{const r=t.parseInput(e);n(o(r))})},enrich.testTranslation=function(t){e.Debugger.getInstance().init();const r=a(s(t));return e.Debugger.getInstance().exit(),r},enrich.prepareMmlString=s;const e=require_debugger(),t=requireDom_util(),r=requireEngine(),n=requireSemantic(),i=requireEnrich_mathml();function o(e){const r=t.cloneNode(e),o=n.getTree(r);return i.enrich(r,o)}function a(e){return o(t.parseInput(e))}function s(e){return e.match(/^<math/)||(e="<math>"+e),e.match(/\/math>$/)||(e+="</math>"),e}return requireEnrich_case_factory(),enrich}var highlighter_factory={},chtml_highlighter={},css_highlighter={},abstract_highlighter={},hasRequiredAbstract_highlighter,hasRequiredCss_highlighter,hasRequiredChtml_highlighter;function requireAbstract_highlighter(){if(hasRequiredAbstract_highlighter)return abstract_highlighter;hasRequiredAbstract_highlighter=1,Object.defineProperty(abstract_highlighter,"__esModule",{value:!0}),abstract_highlighter.AbstractHighlighter=void 0;const e=requireXpath_util(),t=requireEnrich_attr();let r=0;return abstract_highlighter.AbstractHighlighter=class{constructor(){this.counter=r++,this.ATTR="sre-highlight-"+this.counter.toString(),this.color=null,this.mactionName="",this.currentHighlights=[]}highlight(e){this.currentHighlights.push(e.map(e=>{const t=this.highlightNode(e);return this.setHighlighted(e),t}))}highlightAll(e){const t=this.getMactionNodes(e);for(let r,n=0;r=t[n];n++)this.highlight([r])}unhighlight(){const e=this.currentHighlights.pop();e&&e.forEach(e=>{this.isHighlighted(e.node)&&(this.unhighlightNode(e),this.unsetHighlighted(e.node))})}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(e){this.color=e}colorString(){return this.color.rgba()}addEvents(e,t){const r=this.getMactionNodes(e);for(let n,i=0;n=r[i];i++)for(const[e,r]of Object.entries(t))n.addEventListener(e,r)}getMactionNodes(e){return Array.from(e.getElementsByClassName(this.mactionName))}isMactionNode(e){const t=e.className||e.getAttribute("class");return!!t&&!!t.match(new RegExp(this.mactionName))}isHighlighted(e){return e.hasAttribute(this.ATTR)}setHighlighted(e){e.setAttribute(this.ATTR,"true")}unsetHighlighted(e){e.removeAttribute(this.ATTR)}colorizeAll(r){e.updateEvaluator(r);e.evalXPath(`.//*[@${t.Attribute.ID}]`,r).forEach(e=>this.colorize(e))}uncolorizeAll(r){e.evalXPath(`.//*[@${t.Attribute.ID}]`,r).forEach(e=>this.uncolorize(e))}colorize(e){const r=(0,t.addPrefix)("foreground");e.hasAttribute(r)&&(e.setAttribute(r+"-old",e.style.color),e.style.color=e.getAttribute(r))}uncolorize(e){const r=(0,t.addPrefix)("foreground")+"-old";e.hasAttribute(r)&&(e.style.color=e.getAttribute(r))}},abstract_highlighter}function requireCss_highlighter(){if(hasRequiredCss_highlighter)return css_highlighter;hasRequiredCss_highlighter=1,Object.defineProperty(css_highlighter,"__esModule",{value:!0}),css_highlighter.CssHighlighter=void 0;const e=requireAbstract_highlighter();class t extends e.AbstractHighlighter{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(e){const t={node:e,background:e.style.backgroundColor,foreground:e.style.color};if(!this.isHighlighted(e)){const t=this.colorString();e.style.backgroundColor=t.background,e.style.color=t.foreground}return t}unhighlightNode(e){e.node.style.backgroundColor=e.background,e.node.style.color=e.foreground}}return css_highlighter.CssHighlighter=t,css_highlighter}function requireChtml_highlighter(){if(hasRequiredChtml_highlighter)return chtml_highlighter;hasRequiredChtml_highlighter=1,Object.defineProperty(chtml_highlighter,"__esModule",{value:!0}),chtml_highlighter.ChtmlHighlighter=void 0;const e=requireCss_highlighter();class t extends e.CssHighlighter{constructor(){super()}isMactionNode(e){var t;return(null===(t=e.tagName)||void 0===t?void 0:t.toUpperCase())===this.mactionName.toUpperCase()}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}}return chtml_highlighter.ChtmlHighlighter=t,chtml_highlighter}var color_picker={},hasRequiredColor_picker;function requireColor_picker(){if(hasRequiredColor_picker)return color_picker;hasRequiredColor_picker=1,Object.defineProperty(color_picker,"__esModule",{value:!0}),color_picker.ContrastPicker=color_picker.ColorPicker=void 0;const e={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function t(t,r){const n=t||{color:r};let i=Object.prototype.hasOwnProperty.call(n,"color")?e[n.color]:n;return i||(i=e[r]),i.alpha=Object.prototype.hasOwnProperty.call(n,"alpha")?n.alpha:1,function(e){const t=e=>(e=Math.max(e,0),e=Math.min(255,e),Math.round(e));return e.red=t(e.red),e.green=t(e.green),e.blue=t(e.blue),e.alpha=Math.max(e.alpha,0),e.alpha=Math.min(1,e.alpha),e}(i)}class r{static toHex(e){const t=e.toString(16);return 1===t.length?"0"+t:t}constructor(e,n){this.foreground=t(n,r.DEFAULT_FOREGROUND_),this.background=t(e,r.DEFAULT_BACKGROUND_)}rgba(){const e=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"};return{background:e(this.background),foreground:e(this.foreground)}}rgb(){const e=function(e){return"rgb("+e.red+","+e.green+","+e.blue+")"};return{background:e(this.background),alphaback:this.background.alpha.toString(),foreground:e(this.foreground),alphafore:this.foreground.alpha.toString()}}hex(){const e=function(e){return"#"+r.toHex(e.red)+r.toHex(e.green)+r.toHex(e.blue)};return{background:e(this.background),alphaback:this.background.alpha.toString(),foreground:e(this.foreground),alphafore:this.foreground.alpha.toString()}}}color_picker.ColorPicker=r,r.DEFAULT_BACKGROUND_="blue",r.DEFAULT_FOREGROUND_="black";return color_picker.ContrastPicker=class{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=50}generate(){return t=function(e,t,r){t=t>1?t/100:t,r=r>1?r/100:r;const n=(1-Math.abs(2*r-1))*t,i=n*(1-Math.abs(e/60%2-1)),o=r-n/2;let a=0,s=0,l=0;return 0<=e&&e<60?[a,s,l]=[n,i,0]:60<=e&&e<120?[a,s,l]=[i,n,0]:120<=e&&e<180?[a,s,l]=[0,n,i]:180<=e&&e<240?[a,s,l]=[0,i,n]:240<=e&&e<300?[a,s,l]=[i,0,n]:300<=e&&e<360&&([a,s,l]=[n,0,i]),{red:a+o,green:s+o,blue:l+o}}(this.hue,this.sat,this.light),"rgb("+(e={red:Math.round(255*t.red),green:Math.round(255*t.green),blue:Math.round(255*t.blue)}).red+","+e.green+","+e.blue+")";var e,t}increment(){this.hue=(this.hue+this.incr)%360}},color_picker}var html_highlighter={},hasRequiredHtml_highlighter;function requireHtml_highlighter(){if(hasRequiredHtml_highlighter)return html_highlighter;hasRequiredHtml_highlighter=1,Object.defineProperty(html_highlighter,"__esModule",{value:!0}),html_highlighter.HtmlHighlighter=void 0;const e=requireDom_util(),t=requireAbstract_highlighter();class r extends t.AbstractHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(t){const r={node:t,foreground:t.style.color,position:t.style.position},n=this.color.rgb();t.style.color=n.foreground,t.style.position="relative";const i=t.bbox;if(i&&i.w){const o=.05,a=0,s=e.createElement("span"),l=parseFloat(t.style.paddingLeft||"0");s.style.backgroundColor=n.background,s.style.opacity=n.alphaback.toString(),s.style.display="inline-block",s.style.height=i.h+i.d+2*o+"em",s.style.verticalAlign=-i.d+"em",s.style.marginTop=s.style.marginBottom=-o+"em",s.style.width=i.w+2*a+"em",s.style.marginLeft=l-a+"em",s.style.marginRight=-i.w-a-l+"em",t.parentNode.insertBefore(s,t),r.box=s}return r}unhighlightNode(e){const t=e.node;t.style.color=e.foreground,t.style.position=e.position,e.box&&e.box.parentNode.removeChild(e.box)}}return html_highlighter.HtmlHighlighter=r,html_highlighter}var mml_css_highlighter={},hasRequiredMml_css_highlighter;function requireMml_css_highlighter(){if(hasRequiredMml_css_highlighter)return mml_css_highlighter;hasRequiredMml_css_highlighter=1,Object.defineProperty(mml_css_highlighter,"__esModule",{value:!0}),mml_css_highlighter.MmlCssHighlighter=void 0;const e=requireCss_highlighter();class t extends e.CssHighlighter{constructor(){super(),this.mactionName="maction"}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}isMactionNode(e){return e.tagName===this.mactionName}}return mml_css_highlighter.MmlCssHighlighter=t,mml_css_highlighter}var mml_highlighter={},hasRequiredMml_highlighter;function requireMml_highlighter(){if(hasRequiredMml_highlighter)return mml_highlighter;hasRequiredMml_highlighter=1,Object.defineProperty(mml_highlighter,"__esModule",{value:!0}),mml_highlighter.MmlHighlighter=void 0;const e=requireAbstract_highlighter();class t extends e.AbstractHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(e){let t=e.getAttribute("style");return t+=";background-color: "+this.colorString().background,t+=";color: "+this.colorString().foreground,e.setAttribute("style",t),{node:e}}unhighlightNode(e){let t=e.node.getAttribute("style");t=t.replace(";background-color: "+this.colorString().background,""),t=t.replace(";color: "+this.colorString().foreground,""),e.node.setAttribute("style",t)}colorString(){return this.color.rgba()}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}isMactionNode(e){return e.tagName===this.mactionName}}return mml_highlighter.MmlHighlighter=t,mml_highlighter}var svg_highlighter={},hasRequiredSvg_highlighter;function requireSvg_highlighter(){if(hasRequiredSvg_highlighter)return svg_highlighter;hasRequiredSvg_highlighter=1,Object.defineProperty(svg_highlighter,"__esModule",{value:!0}),svg_highlighter.SvgHighlighter=void 0;const e=requireDom_util(),t=requireAbstract_highlighter();class r extends t.AbstractHighlighter{constructor(){super(),this.mactionName="mjx-svg-maction"}highlightNode(t){let r;if(this.isHighlighted(t))return r={node:t.previousSibling||t,background:t.style.backgroundColor,foreground:t.style.color},r;if("svg"===t.tagName){const e={node:t,background:t.style.backgroundColor,foreground:t.style.color};return t.style.backgroundColor=this.colorString().background,t.style.color=this.colorString().foreground,e}const n=e.createElementNS("http://www.w3.org/2000/svg","rect");let i;if("use"===t.nodeName){const r=e.createElementNS("http://www.w3.org/2000/svg","g");t.parentNode.insertBefore(r,t),r.appendChild(t),i=r.getBBox(),r.parentNode.replaceChild(t,r)}else i=t.getBBox();n.setAttribute("x",(i.x-40).toString()),n.setAttribute("y",(i.y-40).toString()),n.setAttribute("width",(i.width+80).toString()),n.setAttribute("height",(i.height+80).toString());const o=t.getAttribute("transform");return o&&n.setAttribute("transform",o),n.setAttribute("fill",this.colorString().background),n.setAttribute(this.ATTR,"true"),t.parentNode.insertBefore(n,t),r={node:n,foreground:t.getAttribute("fill")},t.setAttribute("fill",this.colorString().foreground),r}setHighlighted(e){"svg"===e.tagName&&super.setHighlighted(e)}unhighlightNode(e){if("background"in e)return e.node.style.backgroundColor=e.background,void(e.node.style.color=e.foreground);e.foreground?e.node.nextSibling.setAttribute("fill",e.foreground):e.node.nextSibling.removeAttribute("fill"),e.node.parentNode.removeChild(e.node)}isMactionNode(e){let t=e.className||e.getAttribute("class");return!!t&&(t=void 0!==t.baseVal?t.baseVal:t,!!t&&!!t.match(new RegExp(this.mactionName)))}}return svg_highlighter.SvgHighlighter=r,svg_highlighter}var svg_v3_highlighter={},hasRequiredSvg_v3_highlighter,hasRequiredHighlighter_factory;function requireSvg_v3_highlighter(){if(hasRequiredSvg_v3_highlighter)return svg_v3_highlighter;hasRequiredSvg_v3_highlighter=1,Object.defineProperty(svg_v3_highlighter,"__esModule",{value:!0}),svg_v3_highlighter.SvgV3Highlighter=void 0;const e=requireDom_util(),t=requireXpath_util(),r=requireColor_picker(),n=requireSvg_highlighter();class i extends n.SvgHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(t){let n;if(this.isHighlighted(t))return n={node:t,background:this.colorString().background,foreground:this.colorString().foreground},n;if("svg"===t.tagName||"MJX-CONTAINER"===t.tagName)return n={node:t,background:t.style.backgroundColor,foreground:t.style.color},t.style.backgroundColor=this.colorString().background,t.style.color=this.colorString().foreground,n;const i=e.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("sre-highlighter-added","true");const o=t.getBBox();i.setAttribute("x",(o.x-40).toString()),i.setAttribute("y",(o.y-40).toString()),i.setAttribute("width",(o.width+80).toString()),i.setAttribute("height",(o.height+80).toString());const a=t.getAttribute("transform");if(a&&i.setAttribute("transform",a),i.setAttribute("fill",this.colorString().background),t.setAttribute(this.ATTR,"true"),t.parentNode.insertBefore(i,t),n={node:t,foreground:t.getAttribute("fill")},"rect"===t.nodeName){const e=new r.ColorPicker({alpha:0,color:"black"});t.setAttribute("fill",e.rgba().foreground)}else t.setAttribute("fill",this.colorString().foreground);return n}unhighlightNode(e){const t=e.node.previousSibling;if(t&&t.hasAttribute("sre-highlighter-added"))return e.foreground?e.node.setAttribute("fill",e.foreground):e.node.removeAttribute("fill"),void e.node.parentNode.removeChild(t);e.node.style.backgroundColor=e.background,e.node.style.color=e.foreground}isMactionNode(e){return e.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(e){return Array.from(t.evalXPath(`.//*[@data-mml-node="${this.mactionName}"]`,e))}}return svg_v3_highlighter.SvgV3Highlighter=i,svg_v3_highlighter}function requireHighlighter_factory(){if(hasRequiredHighlighter_factory)return highlighter_factory;hasRequiredHighlighter_factory=1,Object.defineProperty(highlighter_factory,"__esModule",{value:!0}),highlighter_factory.highlighter=function(e,r,n){const i=new t.ColorPicker(e,r),o="NativeMML"===n.renderer&&"Safari"===n.browser?"MML-CSS":"SVG"===n.renderer&&"v3"===n.browser?"SVG-V3":n.renderer,a=new(l[o]||l.NativeMML);return a.setColor(i),a},highlighter_factory.update=function(e,r,n){const i=new t.ColorPicker(e,r);n.setColor(i)},highlighter_factory.addEvents=function(e,t,r){const n=l[r.renderer];n&&(new n).addEvents(e,t)};const e=requireChtml_highlighter(),t=requireColor_picker(),r=requireCss_highlighter(),n=requireHtml_highlighter(),i=requireMml_css_highlighter(),o=requireMml_highlighter(),a=requireSvg_highlighter(),s=requireSvg_v3_highlighter();const l={SVG:a.SvgHighlighter,"SVG-V3":s.SvgV3Highlighter,NativeMML:o.MmlHighlighter,"HTML-CSS":n.HtmlHighlighter,"MML-CSS":i.MmlCssHighlighter,CommonHTML:r.CssHighlighter,CHTML:e.ChtmlHighlighter};return highlighter_factory}var speech_generator_factory={},adhoc_speech_generator={},abstract_speech_generator={},rebuild_stree={},walker_util={},hasRequiredWalker_util,hasRequiredRebuild_stree;function requireWalker_util(){if(hasRequiredWalker_util)return walker_util;hasRequiredWalker_util=1,Object.defineProperty(walker_util,"__esModule",{value:!0}),walker_util.splitAttribute=function(e){return e?e.split(/,/):[]},walker_util.getAttribute=function(e,t){return e.getAttribute(t)},walker_util.getSemanticRoot=function(r){if(r.hasAttribute(t.Attribute.TYPE)&&!r.hasAttribute(t.Attribute.PARENT))return r;const n=e.querySelectorAllByAttr(r,t.Attribute.TYPE);for(let e,i=0;e=n[i];i++)if(!e.hasAttribute(t.Attribute.PARENT))return e;return r},walker_util.getBySemanticId=function(r,n){if(r.getAttribute(t.Attribute.ID)===n)return r;return e.querySelectorAllByAttrValue(r,t.Attribute.ID,n)[0]},walker_util.getAllBySemanticId=function(r,n){if(r.getAttribute(t.Attribute.ID)===n)return[r];return e.querySelectorAllByAttrValue(r,t.Attribute.ID,n)};const e=requireDom_util(),t=requireEnrich_attr();return walker_util}function requireRebuild_stree(){if(hasRequiredRebuild_stree)return rebuild_stree;hasRequiredRebuild_stree=1,Object.defineProperty(rebuild_stree,"__esModule",{value:!0}),rebuild_stree.RebuildStree=void 0;const e=requireEnrich_attr(),t=requireSemantic_attr(),r=requireSemantic_meaning(),n=requireSemantic_node_factory(),i=requireSemantic_skeleton(),o=requireSemantic_tree(),a=requireWalker_util();class s{static textContent(t,r,n){if(!n&&r.textContent)return void(t.textContent=r.textContent);const i=a.splitAttribute(a.getAttribute(r,e.Attribute.OPERATOR));i.length>1&&(t.textContent=i[1])}static isPunctuated(e){return!i.SemanticSkeleton.simpleCollapseStructure(e)&&e[1]&&i.SemanticSkeleton.contentCollapseStructure(e[1])}constructor(e){this.mathml=e,this.factory=new n.SemanticNodeFactory,this.nodeDict={},this.mmlRoot=a.getSemanticRoot(e),this.streeRoot=this.assembleTree(this.mmlRoot),this.stree=o.SemanticTree.fromNode(this.streeRoot,this.mathml),this.xml=this.stree.xml()}getTree(){return this.stree}assembleTree(t){const r=this.makeNode(t),n=a.splitAttribute(a.getAttribute(t,e.Attribute.CHILDREN)),i=a.splitAttribute(a.getAttribute(t,e.Attribute.CONTENT));if(0===i.length&&0===n.length)return s.textContent(r,t),r;if(i.length>0){const e=a.getBySemanticId(this.mathml,i[0]);e&&s.textContent(r,e,!0)}r.contentNodes=i.map(e=>this.setParent(e,r)),r.childNodes=n.map(e=>this.setParent(e,r));const o=a.getAttribute(t,e.Attribute.COLLAPSED);return o?this.postProcess(r,o):r}makeNode(t){const n=a.getAttribute(t,e.Attribute.TYPE),i=a.getAttribute(t,e.Attribute.ROLE),o=a.getAttribute(t,e.Attribute.FONT),s=a.getAttribute(t,e.Attribute.ANNOTATION)||"",l=a.getAttribute(t,e.Attribute.ATTRIBUTES)||"",c=a.getAttribute(t,e.Attribute.ID),u=a.getAttribute(t,e.Attribute.EMBELLISHED),d=a.getAttribute(t,e.Attribute.FENCEPOINTER),h=this.createNode(parseInt(c,10));return h.type=n,h.role=i,h.font=o||r.SemanticFont.UNKNOWN,h.parseAnnotation(s),h.parseAttributes(l),d&&(h.fencePointer=d),u&&(h.embellished=u),h}makePunctuation(e){const n=this.createNode(e);return n.updateContent(t.NamedSymbol.invisibleComma),n.role=r.SemanticRole.DUMMY,n}makePunctuated(e,t,n){const i=this.createNode(t[0]);i.type=r.SemanticType.PUNCTUATED,i.embellished=e.embellished,i.fencePointer=e.fencePointer,i.role=n;const o=t.splice(1,1)[0].slice(1);i.contentNodes=o.map(this.makePunctuation.bind(this)),this.collapsedChildren_(t)}makeEmpty(e,t,n){const i=this.createNode(t);i.type=r.SemanticType.EMPTY,i.embellished=e.embellished,i.fencePointer=e.fencePointer,i.role=n}makeIndex(e,t,r){if(s.isPunctuated(t))return this.makePunctuated(e,t,r),void(t=t[0]);i.SemanticSkeleton.simpleCollapseStructure(t)&&!this.nodeDict[t.toString()]&&this.makeEmpty(e,t,r)}postProcess(e,t){const n=i.SemanticSkeleton.fromString(t).array;if(e.type===r.SemanticRole.SUBSUP){const t=this.createNode(n[1][0]);return t.type=r.SemanticType.SUBSCRIPT,t.role=r.SemanticRole.SUBSUP,e.type=r.SemanticType.SUPERSCRIPT,t.embellished=e.embellished,t.fencePointer=e.fencePointer,this.makeIndex(e,n[1][2],r.SemanticRole.RIGHTSUB),this.makeIndex(e,n[2],r.SemanticRole.RIGHTSUPER),this.collapsedChildren_(n),e}if(e.type===r.SemanticType.SUBSCRIPT)return this.makeIndex(e,n[2],r.SemanticRole.RIGHTSUB),this.collapsedChildren_(n),e;if(e.type===r.SemanticType.SUPERSCRIPT)return this.makeIndex(e,n[2],r.SemanticRole.RIGHTSUPER),this.collapsedChildren_(n),e;if(e.type===r.SemanticType.TENSOR)return this.makeIndex(e,n[2],r.SemanticRole.LEFTSUB),this.makeIndex(e,n[3],r.SemanticRole.LEFTSUPER),this.makeIndex(e,n[4],r.SemanticRole.RIGHTSUB),this.makeIndex(e,n[5],r.SemanticRole.RIGHTSUPER),this.collapsedChildren_(n),e;if(e.type===r.SemanticType.PUNCTUATED){if(s.isPunctuated(n)){const t=n.splice(1,1)[0].slice(1);e.contentNodes=t.map(this.makePunctuation.bind(this))}return e}if(e.type===r.SemanticRole.UNDEROVER){const t=this.createNode(n[1][0]);return e.childNodes[1].role===r.SemanticRole.OVERACCENT?(t.type=r.SemanticType.OVERSCORE,e.type=r.SemanticType.UNDERSCORE):(t.type=r.SemanticType.UNDERSCORE,e.type=r.SemanticType.OVERSCORE),t.role=r.SemanticRole.UNDEROVER,t.embellished=e.embellished,t.fencePointer=e.fencePointer,this.collapsedChildren_(n),e}return e}createNode(e){const t=this.factory.makeNode(e);return this.nodeDict[e.toString()]=t,t}collapsedChildren_(e){const t=e=>{const r=this.nodeDict[e[0]];r.childNodes=[];for(let n=1,o=e.length;n<o;n++){const o=e[n];r.childNodes.push(i.SemanticSkeleton.simpleCollapseStructure(o)?this.nodeDict[o]:t(o))}return r};t(e)}setParent(e,t){const r=a.getBySemanticId(this.mathml,e),n=this.assembleTree(r);return n.parent=t,n}}return rebuild_stree.RebuildStree=s,rebuild_stree}var speech_generator_util={},hasRequiredSpeech_generator_util;function requireSpeech_generator_util(){if(hasRequiredSpeech_generator_util)return speech_generator_util;hasRequiredSpeech_generator_util=1,Object.defineProperty(speech_generator_util,"__esModule",{value:!0}),speech_generator_util.computeSpeech=s,speech_generator_util.computeMarkup=function(t){const r=s(t);return e.markup(r)},speech_generator_util.recomputeMarkup=l,speech_generator_util.addSpeech=function(r,i,o){const a=t.querySelectorAllByAttrValue(o,"id",i.id.toString())[0],c=a?e.markup(s(a)):l(i);r.setAttribute(n.Attribute.SPEECH,c)},speech_generator_util.addModality=function(e,t,r){const n=l(t);e.setAttribute(r,n)},speech_generator_util.addPrefix=function(e,t){const r=c(t);r&&e.setAttribute(n.Attribute.PREFIX,r)},speech_generator_util.retrievePrefix=c,speech_generator_util.connectMactions=function(e,r,i){const o=t.querySelectorAll(r,"maction");for(let s,l=0;s=o[l];l++){const r=s.getAttribute("id"),o=t.querySelectorAllByAttrValue(e,"id",r)[0];if(!o)continue;const l=s.childNodes[1],c=l.getAttribute(n.Attribute.ID);let u=a.getBySemanticId(e,c);if(u&&"dummy"!==u.getAttribute(n.Attribute.TYPE))continue;if(u=o.childNodes[0],u.getAttribute("sre-highlighter-added"))continue;const d=l.getAttribute(n.Attribute.PARENT);d&&u.setAttribute(n.Attribute.PARENT,d),u.setAttribute(n.Attribute.TYPE,"dummy"),u.setAttribute(n.Attribute.ID,c),u.setAttribute("role","treeitem"),u.setAttribute("aria-level",l.getAttribute("aria-level"));t.querySelectorAllByAttrValue(i,"id",c)[0].setAttribute("alternative",c)}},speech_generator_util.connectAllMactions=function(e,r){const i=t.querySelectorAll(e,"maction");for(let o,a=0;o=i[a];a++){const e=o.childNodes[1].getAttribute(n.Attribute.ID);t.querySelectorAllByAttrValue(r,"id",e)[0].setAttribute("alternative",e)}},speech_generator_util.retrieveSummary=function(t,r={}){const n=function(e,t={}){const r=t.locale?{locale:t.locale}:{};return e?i.SpeechRuleEngine.getInstance().runInSetting(Object.assign(r,{modality:"summary",strict:!1,speech:!0}),function(){return i.SpeechRuleEngine.getInstance().evaluateNode(e)}):[]}(t,r);return e.markup(n)};const e=requireAural_rendering(),t=requireDom_util(),r=requireXpath_util(),n=requireEnrich_attr(),i=requireSpeech_rule_engine(),o=requireSemantic_tree(),a=requireWalker_util();function s(e){return i.SpeechRuleEngine.getInstance().evaluateNode(e)}function l(t){const r=function(e){return s(o.SemanticTree.fromNode(e).xml())}(t);return e.markup(r)}function c(t){const n=function(e){const t=o.SemanticTree.fromRoot(e),n=r.evalXPath('.//*[@id="'+e.id+'"]',t.xml());let a=n[0];n.length>1&&(a=function(e,t){const r=t[0];if(!e.parent)return r;const n=[];for(;e;)n.push(e.id),e=e.parent;const i=function(e,t){for(;t.length&&t.shift().toString()===e.getAttribute("id")&&e.parentNode&&e.parentNode.parentNode;)e=e.parentNode.parentNode;return!t.length};for(let o,a=0;o=t[a];a++)if(i(o,n.slice()))return o;return r}(e,n)||a);return a?i.SpeechRuleEngine.getInstance().runInSetting({modality:"prefix",domain:"default",style:"default",strict:!0,speech:!0},function(){return i.SpeechRuleEngine.getInstance().evaluateNode(a)}):[]}(t);return e.markup(n)}return speech_generator_util}var clearspeak_preferences={},hasRequiredClearspeak_preferences,hasRequiredAbstract_speech_generator,hasRequiredAdhoc_speech_generator;function requireClearspeak_preferences(){if(hasRequiredClearspeak_preferences)return clearspeak_preferences;hasRequiredClearspeak_preferences=1,Object.defineProperty(clearspeak_preferences,"__esModule",{value:!0}),clearspeak_preferences.ClearspeakPreferences=void 0;const e=requireEngine(),t=requireEngine_const(),r=requireDynamic_cstr(),n=requireDynamic_cstr(),i=requireMath_compound_store(),o=requireSpeech_rule_engine(),a=requireSemantic_meaning();class s extends r.DynamicCstr{static comparator(){return new c(e.Engine.getInstance().dynamicCstr,n.DynamicProperties.createProp([r.DynamicCstr.DEFAULT_VALUES[n.Axis.LOCALE]],[r.DynamicCstr.DEFAULT_VALUES[n.Axis.MODALITY]],[r.DynamicCstr.DEFAULT_VALUES[n.Axis.DOMAIN]],[r.DynamicCstr.DEFAULT_VALUES[n.Axis.STYLE]]))}static fromPreference(e){const t=e.split(":"),r={},n=l.getProperties(),i=Object.keys(n);for(let o,a=0;o=t[a];a++){const e=o.split("_");if(-1===i.indexOf(e[0]))continue;const t=e[1];t&&t!==s.AUTO&&-1!==n[e[0]].indexOf(t)&&(r[e[0]]=e[1])}return r}static toPreference(e){const t=Object.keys(e),n=[];for(let r=0;r<t.length;r++)n.push(t[r]+"_"+e[t[r]]);return n.length?n.join(":"):r.DynamicCstr.DEFAULT_VALUE}static getLocalePreferences(e){const t=e||i.enumerate(o.SpeechRuleEngine.getInstance().enumerate());return s.getLocalePreferences_(t)}static currentPreference(){return t.DOMAIN_TO_STYLES.clearspeak}static relevantPreferences(e){const t=h[e.type];return t&&(t[e.role]||t[""])||"ImpliedTimes"}static findPreference(e,t){if("default"===e)return s.AUTO;return s.fromPreference(e)[t]||s.AUTO}static addPreference(e,t,r){if("default"===e)return t+"_"+r;const n=s.fromPreference(e);return n[t]=r,s.toPreference(n)}static getLocalePreferences_(e){const t={};for(const r of Object.keys(e)){if(!e[r].speech||!e[r].speech.clearspeak)continue;const n=Object.keys(e[r].speech.clearspeak);if(n.length<3)continue;const i=t[r]={};for(const e in l.getProperties()){const t=l.getProperties()[e],r=[e+"_Auto"];if(t)for(const i of t)-1!==n.indexOf(e+"_"+i)&&r.push(e+"_"+i);i[e]=r}}return t}constructor(e,t){super(e),this.preference=t}equal(e){if(!super.equal(e))return!1;const t=Object.keys(this.preference),r=e.preference;if(t.length!==Object.keys(r).length)return!1;for(let n,i=0;n=t[i];i++)if(this.preference[n]!==r[n])return!1;return!0}}clearspeak_preferences.ClearspeakPreferences=s,s.AUTO="Auto";const l=new n.DynamicProperties({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]});class c extends n.DefaultComparator{constructor(e,t){super(e,t),this.preference=e instanceof s?e.preference:{}}match(e){if(!(e instanceof s))return super.match(e);if("default"===e.getComponents()[n.Axis.STYLE])return!0;const t=Object.keys(e.preference);for(let r,n=0;r=t[n];n++)if(this.preference[r]!==e.preference[r])return!1;return!0}compare(e,t){const r=super.compare(e,t);if(0!==r)return r;const n=e instanceof s,i=t instanceof s;if(!n&&i)return 1;if(n&&!i)return-1;if(!n&&!i)return 0;const o=Object.keys(e.preference).length,a=Object.keys(t.preference).length;return o>a?-1:o<a?1:0}}class u extends n.DynamicCstrParser{constructor(){super([n.Axis.LOCALE,n.Axis.MODALITY,n.Axis.DOMAIN,n.Axis.STYLE])}parse(e){const t=super.parse(e);let i=t.getValue(n.Axis.STYLE);const o=t.getValue(n.Axis.LOCALE),a=t.getValue(n.Axis.MODALITY);let l={};return i!==r.DynamicCstr.DEFAULT_VALUE&&(l=this.fromPreference(i),i=this.toPreference(l)),new s({locale:o,modality:a,domain:"clearspeak",style:i},l)}fromPreference(e){return s.fromPreference(e)}toPreference(e){return s.toPreference(e)}}const d=[["AbsoluteValue",a.SemanticType.FENCED,a.SemanticRole.NEUTRAL,a.SemanticRole.METRIC],["Bar",a.SemanticType.OVERSCORE,a.SemanticRole.OVERACCENT],["Caps",a.SemanticType.IDENTIFIER,a.SemanticRole.LATINLETTER],["CombinationPermutation",a.SemanticType.APPL,a.SemanticRole.UNKNOWN],["Ellipses",a.SemanticType.PUNCTUATION,a.SemanticRole.ELLIPSIS],["Exponent",a.SemanticType.SUPERSCRIPT,""],["Fraction",a.SemanticType.FRACTION,""],["Functions",a.SemanticType.APPL,a.SemanticRole.SIMPLEFUNC],["ImpliedTimes",a.SemanticType.OPERATOR,a.SemanticRole.IMPLICIT],["Log",a.SemanticType.APPL,a.SemanticRole.PREFIXFUNC],["Matrix",a.SemanticType.MATRIX,""],["Matrix",a.SemanticType.VECTOR,""],["MultiLineLabel",a.SemanticType.MULTILINE,a.SemanticRole.LABEL],["MultiLineOverview",a.SemanticType.MULTILINE,a.SemanticRole.TABLE],["MultiLinePausesBetweenColumns",a.SemanticType.MULTILINE,a.SemanticRole.TABLE],["MultiLineLabel",a.SemanticType.TABLE,a.SemanticRole.LABEL],["MultiLineOverview",a.SemanticType.TABLE,a.SemanticRole.TABLE],["MultiLinePausesBetweenColumns",a.SemanticType.TABLE,a.SemanticRole.TABLE],["MultiLineLabel",a.SemanticType.CASES,a.SemanticRole.LABEL],["MultiLineOverview",a.SemanticType.CASES,a.SemanticRole.TABLE],["MultiLinePausesBetweenColumns",a.SemanticType.CASES,a.SemanticRole.TABLE],["MultsymbolDot",a.SemanticType.OPERATOR,a.SemanticRole.MULTIPLICATION],["MultsymbolX",a.SemanticType.OPERATOR,a.SemanticRole.MULTIPLICATION],["Paren",a.SemanticType.FENCED,a.SemanticRole.LEFTRIGHT],["Prime",a.SemanticType.SUPERSCRIPT,a.SemanticRole.PRIME],["Roots",a.SemanticType.ROOT,""],["Roots",a.SemanticType.SQRT,""],["SetMemberSymbol",a.SemanticType.RELATION,a.SemanticRole.ELEMENT],["Sets",a.SemanticType.FENCED,a.SemanticRole.SETEXT],["TriangleSymbol",a.SemanticType.IDENTIFIER,a.SemanticRole.GREEKLETTER],["Trig",a.SemanticType.APPL,a.SemanticRole.PREFIXFUNC],["VerticalLine",a.SemanticType.PUNCTUATED,a.SemanticRole.VBAR]],h=function(){const e={};for(let t,r=0;t=d[r];r++){const r=t[0];let n=e[t[1]];n||(n={},e[t[1]]=n),n[t[2]]=r}return e}();return e.Engine.getInstance().comparators.clearspeak=s.comparator,e.Engine.getInstance().parsers.clearspeak=new u,clearspeak_preferences}function requireAbstract_speech_generator(){if(hasRequiredAbstract_speech_generator)return abstract_speech_generator;hasRequiredAbstract_speech_generator=1,Object.defineProperty(abstract_speech_generator,"__esModule",{value:!0}),abstract_speech_generator.AbstractSpeechGenerator=void 0;const e=requireEngine_setup(),t=requireEnrich_attr(),r=requireRebuild_stree(),n=requireSpeech_generator_util(),i=requireEngine_const(),o=requireLocale(),a=requireClearspeak_preferences();return abstract_speech_generator.AbstractSpeechGenerator=class{constructor(){this.modality=t.addPrefix("speech"),this.rebuilt_=null,this.options_={}}getRebuilt(){return this.rebuilt_}setRebuilt(e){this.rebuilt_=e}computeRebuilt(e,t=!1){return this.rebuilt_&&!t||(this.rebuilt_=new r.RebuildStree(e)),this.rebuilt_}setOptions(e){this.options_=e||{},this.modality=t.addPrefix(this.options_.modality||"speech")}setOption(e,t){const r=this.getOptions();r[e]=t,this.setOptions(r)}getOptions(){return this.options_}generateSpeech(t,i){return this.rebuilt_||(this.rebuilt_=new r.RebuildStree(i)),(0,e.setup)(this.options_),n.computeMarkup(this.getRebuilt().xml)}nextRules(){const e=this.getOptions();if("speech"!==e.modality)return;a.ClearspeakPreferences.getLocalePreferences()[e.locale]&&(i.DOMAIN_TO_STYLES[e.domain]=e.style,e.domain="mathspeak"===e.domain?"clearspeak":"mathspeak",e.style=i.DOMAIN_TO_STYLES[e.domain],this.setOptions(e))}nextStyle(e){this.setOption("style",this.nextStyle_(this.getRebuilt().nodeDict[e]))}nextStyle_(e){const{modality:t,domain:r,style:n}=this.getOptions();if("speech"!==t)return n;if("mathspeak"===r){const e=["default","brief","sbrief"],t=e.indexOf(n);return-1===t?n:t>=e.length-1?e[0]:e[t+1]}if("clearspeak"===r){const t=a.ClearspeakPreferences.getLocalePreferences().en;if(!t)return"default";const r=a.ClearspeakPreferences.relevantPreferences(e),i=a.ClearspeakPreferences.findPreference(n,r),o=t[r].map(function(e){return e.split("_")[1]}),s=o.indexOf(i);if(-1===s)return n;const l=s>=o.length-1?o[0]:o[s+1];return a.ClearspeakPreferences.addPreference(n,r,l)}return n}getLevel(e){return o.LOCALE.MESSAGES.navigate.LEVEL+" "+e}getActionable(e){return e?e<0?o.LOCALE.MESSAGES.navigate.EXPANDABLE:o.LOCALE.MESSAGES.navigate.COLLAPSIBLE:""}},abstract_speech_generator}function requireAdhoc_speech_generator(){if(hasRequiredAdhoc_speech_generator)return adhoc_speech_generator;hasRequiredAdhoc_speech_generator=1,Object.defineProperty(adhoc_speech_generator,"__esModule",{value:!0}),adhoc_speech_generator.AdhocSpeechGenerator=void 0;const e=requireAbstract_speech_generator();class t extends e.AbstractSpeechGenerator{getSpeech(e,t){const r=this.generateSpeech(e,t);return e.setAttribute(this.modality,r),r}}return adhoc_speech_generator.AdhocSpeechGenerator=t,adhoc_speech_generator}var color_generator={},hasRequiredColor_generator;function requireColor_generator(){if(hasRequiredColor_generator)return color_generator;hasRequiredColor_generator=1,Object.defineProperty(color_generator,"__esModule",{value:!0}),color_generator.ColorGenerator=void 0;const e=requireDom_util(),t=requireEnrich_attr(),r=requireColor_picker(),n=requireRebuild_stree(),i=requireWalker_util(),o=requireAbstract_speech_generator();class a extends o.AbstractSpeechGenerator{constructor(){super(...arguments),this.modality=(0,t.addPrefix)("foreground"),this.contrast=new r.ContrastPicker}static visitStree_(e,t,r){if(e.childNodes.length){if(e.contentNodes.length&&("punctuated"===e.type&&e.contentNodes.forEach(e=>r[e.id]=!0),"implicit"!==e.role&&t.push(e.contentNodes.map(e=>e.id))),e.childNodes.length){if("implicit"===e.role){const n=[];let i=[];for(const t of e.childNodes){const e=[];a.visitStree_(t,e,r),e.length<=2&&n.push(e.shift()),i=i.concat(e)}return t.push(n),void i.forEach(e=>t.push(e))}e.childNodes.forEach(e=>a.visitStree_(e,t,r))}}else r[e.id]||t.push(e.id)}getSpeech(e,t){return i.getAttribute(e,this.modality)}generateSpeech(t,r){return this.getRebuilt()||this.setRebuilt(new n.RebuildStree(e.parseInput(r))),this.colorLeaves_(t),i.getAttribute(t,this.modality)}colorLeaves_(e){const t=[];a.visitStree_(this.getRebuilt().streeRoot,t,{});for(const r of t){const t=this.contrast.generate();let n=!1;n=Array.isArray(r)?r.map(r=>this.colorLeave_(e,r,t)).reduce((e,t)=>e||t,!1):this.colorLeave_(e,r.toString(),t),n&&this.contrast.increment()}}colorLeave_(e,t,r){const n=i.getBySemanticId(e,t);return!!n&&(n.setAttribute(this.modality,r),!0)}}return color_generator.ColorGenerator=a,color_generator}var direct_speech_generator={},hasRequiredDirect_speech_generator;function requireDirect_speech_generator(){if(hasRequiredDirect_speech_generator)return direct_speech_generator;hasRequiredDirect_speech_generator=1,Object.defineProperty(direct_speech_generator,"__esModule",{value:!0}),direct_speech_generator.DirectSpeechGenerator=void 0;const e=requireWalker_util(),t=requireAbstract_speech_generator();class r extends t.AbstractSpeechGenerator{getSpeech(t,r){return e.getAttribute(t,this.modality)}}return direct_speech_generator.DirectSpeechGenerator=r,direct_speech_generator}var dummy_speech_generator={},hasRequiredDummy_speech_generator;function requireDummy_speech_generator(){if(hasRequiredDummy_speech_generator)return dummy_speech_generator;hasRequiredDummy_speech_generator=1,Object.defineProperty(dummy_speech_generator,"__esModule",{value:!0}),dummy_speech_generator.DummySpeechGenerator=void 0;const e=requireAbstract_speech_generator();class t extends e.AbstractSpeechGenerator{getSpeech(e,t){return""}}return dummy_speech_generator.DummySpeechGenerator=t,dummy_speech_generator}var node_speech_generator={},tree_speech_generator={},hasRequiredTree_speech_generator,hasRequiredNode_speech_generator;function requireTree_speech_generator(){if(hasRequiredTree_speech_generator)return tree_speech_generator;hasRequiredTree_speech_generator=1,Object.defineProperty(tree_speech_generator,"__esModule",{value:!0}),tree_speech_generator.TreeSpeechGenerator=void 0;const e=requireEnrich_attr(),t=requireWalker_util(),r=requireAbstract_speech_generator(),n=requireSpeech_generator_util();class i extends r.AbstractSpeechGenerator{getSpeech(r,i,o=null){this.getRebuilt()&&n.connectMactions(r,i,this.getRebuilt().xml);const a=this.generateSpeech(r,i),s=this.getRebuilt().nodeDict;for(const[l,c]of Object.entries(s)){const a=t.getBySemanticId(i,l),s=t.getBySemanticId(r,l)||o&&t.getBySemanticId(o,l);a&&s&&(this.modality&&this.modality!==e.Attribute.SPEECH?n.addModality(s,c,this.modality):n.addSpeech(s,c,this.getRebuilt().xml),this.modality===e.Attribute.SPEECH&&n.addPrefix(s,c))}return a}}return tree_speech_generator.TreeSpeechGenerator=i,tree_speech_generator}function requireNode_speech_generator(){if(hasRequiredNode_speech_generator)return node_speech_generator;hasRequiredNode_speech_generator=1,Object.defineProperty(node_speech_generator,"__esModule",{value:!0}),node_speech_generator.NodeSpeechGenerator=void 0;const e=requireWalker_util(),t=requireTree_speech_generator();class r extends t.TreeSpeechGenerator{getSpeech(t,r){return super.getSpeech(t,r),e.getAttribute(t,this.modality)}}return node_speech_generator.NodeSpeechGenerator=r,node_speech_generator}var summary_speech_generator={},hasRequiredSummary_speech_generator,hasRequiredSpeech_generator_factory;function requireSummary_speech_generator(){if(hasRequiredSummary_speech_generator)return summary_speech_generator;hasRequiredSummary_speech_generator=1,Object.defineProperty(summary_speech_generator,"__esModule",{value:!0}),summary_speech_generator.SummarySpeechGenerator=void 0;const e=requireAbstract_speech_generator(),t=requireSpeech_generator_util(),r=requireEngine_setup(),n=requireEnrich_attr();class i extends e.AbstractSpeechGenerator{getSpeech(e,i){(0,r.setup)(this.getOptions());const o=e.getAttribute(n.Attribute.ID),a=this.getRebuilt().streeRoot.querySelectorAll(e=>e.id.toString()===o)[0];t.addModality(e,a,this.modality);return e.getAttribute(n.Attribute.SUMMARY)}}return summary_speech_generator.SummarySpeechGenerator=i,summary_speech_generator}function requireSpeech_generator_factory(){if(hasRequiredSpeech_generator_factory)return speech_generator_factory;hasRequiredSpeech_generator_factory=1,Object.defineProperty(speech_generator_factory,"__esModule",{value:!0}),speech_generator_factory.generator=function(e){return(s[e]||s.Direct)()};const e=requireAdhoc_speech_generator(),t=requireColor_generator(),r=requireDirect_speech_generator(),n=requireDummy_speech_generator(),i=requireNode_speech_generator(),o=requireSummary_speech_generator(),a=requireTree_speech_generator();const s={Adhoc:()=>new e.AdhocSpeechGenerator,Color:()=>new t.ColorGenerator,Direct:()=>new r.DirectSpeechGenerator,Dummy:()=>new n.DummySpeechGenerator,Node:()=>new i.NodeSpeechGenerator,Summary:()=>new o.SummarySpeechGenerator,Tree:()=>new a.TreeSpeechGenerator};return speech_generator_factory}var walker_factory={},dummy_walker={},abstract_walker={},focus$3={},hasRequiredFocus;function requireFocus(){if(hasRequiredFocus)return focus$3;hasRequiredFocus=1,Object.defineProperty(focus$3,"__esModule",{value:!0}),focus$3.Focus=void 0;const e=requireWalker_util();class t{static factory(r,n,i,o){const a=t=>e.getBySemanticId(o,t),s=i.nodeDict,l=a(r),c=n.map(a),u=n.map(function(e){return s[e]}),d=new t(u,s[r]);return d.domNodes=c,d.domPrimary_=l,d.allNodes=t.generateAllVisibleNodes_(n,c,s,o),d}static generateAllVisibleNodes_(e,r,n,i){let o=[];for(let a=0,s=e.length;a<s;a++){if(r[a]){const n=t.getAllVisibleNodes([e[a]],i);n.length?o=o.concat(n):o.push(r[a]);continue}const s=n[e[a]];if(!s)continue;const l=s.childNodes.map(e=>e.id.toString()),c=t.getAllVisibleNodes(l,i);o=o.concat(t.generateAllVisibleNodes_(l,c,n,i))}return o}static getAllVisibleNodes(t,r){let n=[];for(const i of t)n=n.concat(e.getAllBySemanticId(r,i));return n}constructor(e,t){this.nodes=e,this.primary=t,this.domNodes=[],this.domPrimary_=null,this.allNodes=[]}getSemanticPrimary(){return this.primary}getSemanticNodes(){return this.nodes}getNodes(){return this.allNodes}getDomNodes(){return this.domNodes}getDomPrimary(){return this.domPrimary_}toString(){return"Primary:"+this.domPrimary_+" Nodes:"+this.domNodes}clone(){const e=new t(this.nodes,this.primary);return e.domNodes=this.domNodes,e.domPrimary_=this.domPrimary_,e.allNodes=this.allNodes,e}}return focus$3.Focus=t,focus$3}var walker={},hasRequiredWalker,hasRequiredAbstract_walker,hasRequiredDummy_walker;function requireWalker(){if(hasRequiredWalker)return walker;var e,t;hasRequiredWalker=1,Object.defineProperty(walker,"__esModule",{value:!0}),walker.WalkerState=walker.WalkerMoves=void 0,(t=e||(walker.WalkerMoves=e={})).UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right",t.REPEAT="repeat",t.DEPTH="depth",t.ENTER="enter",t.EXPAND="expand",t.HOME="home",t.SUMMARY="summary",t.DETAIL="detail",t.ROW="row",t.CELL="cell";class r{static resetState(e){delete r.STATE[e]}static setState(e,t){r.STATE[e]=t}static getState(e){return r.STATE[e]}}return walker.WalkerState=r,r.STATE={},walker}function requireAbstract_walker(){if(hasRequiredAbstract_walker)return abstract_walker;hasRequiredAbstract_walker=1,Object.defineProperty(abstract_walker,"__esModule",{value:!0}),abstract_walker.AbstractWalker=void 0;const e=requireAuditory_description(),t=requireAural_rendering(),r=requireDom_util(),n=requireEngine_setup(),i=requireEvent_util(),o=requireEnrich_attr(),a=requireLocale(),s=requireGrammar(),l=requireSemantic_skeleton(),c=requireSpeech_generator_factory(),u=requireSpeech_generator_util(),d=requireFocus(),h=requireRebuild_stree(),p=requireWalker(),f=requireWalker_util(),m=requireXpath_util();class g{constructor(e,t,r,n){this.node=e,this.generator=t,this.highlighter=r,this.modifier=!1,this.keyMapping=new Map([[i.KeyCode.UP,this.up.bind(this)],[i.KeyCode.DOWN,this.down.bind(this)],[i.KeyCode.RIGHT,this.right.bind(this)],[i.KeyCode.LEFT,this.left.bind(this)],[i.KeyCode.TAB,this.repeat.bind(this)],[i.KeyCode.DASH,this.expand.bind(this)],[i.KeyCode.SPACE,this.depth.bind(this)],[i.KeyCode.HOME,this.home.bind(this)],[i.KeyCode.X,this.summary.bind(this)],[i.KeyCode.Z,this.detail.bind(this)],[i.KeyCode.V,this.virtualize.bind(this)],[i.KeyCode.P,this.previous.bind(this)],[i.KeyCode.U,this.undo.bind(this)],[i.KeyCode.LESS,this.previousRules.bind(this)],[i.KeyCode.GREATER,this.nextRules.bind(this)]]),this.cursors=[],this.xml_=null,this.rebuilt_=null,this.focus_=null,this.active_=!1,this.node.id?this.id=this.node.id:this.node.hasAttribute(g.SRE_ID_ATTR)?this.id=this.node.getAttribute(g.SRE_ID_ATTR):(this.node.setAttribute(g.SRE_ID_ATTR,g.ID_COUNTER.toString()),this.id=g.ID_COUNTER++),this.rootNode=f.getSemanticRoot(e),this.rootId=this.rootNode.getAttribute(o.Attribute.ID),this.xmlString_=n,this.moved=p.WalkerMoves.ENTER}getXml(){return this.xml_||(this.xml_=r.parseInput(this.xmlString_)),this.xml_}getRebuilt(){return this.rebuilt_||this.rebuildStree(),this.rebuilt_}isActive(){return this.active_}activate(){this.isActive()||this.toggleActive_()}deactivate(){this.isActive()&&(p.WalkerState.setState(this.id,this.primaryId()),this.toggleActive_())}getFocus(e=!1){return null===this.rootId&&this.getRebuilt(),this.focus_||(this.focus_=this.singletonFocus(this.rootId)),e&&this.updateFocus(),this.focus_}setFocus(e){this.focus_=e}getDepth(){return this.levels.depth()-1}isSpeech(){return this.generator.modality===o.Attribute.SPEECH}focusDomNodes(){return this.getFocus().getDomNodes()}focusSemanticNodes(){return this.getFocus().getSemanticNodes()}speech(){const e=this.focusDomNodes();if(!e.length)return"";const t=this.specialMove();if(null!==t)return t;switch(this.moved){case p.WalkerMoves.DEPTH:return this.depth_();case p.WalkerMoves.SUMMARY:return this.summary_();case p.WalkerMoves.DETAIL:return this.detail_();default:{const t=[],r=this.focusSemanticNodes();for(let n=0,i=e.length;n<i;n++){const i=e[n],o=r[n];t.push(i?this.generator.getSpeech(i,this.getXml(),this.node):u.recomputeMarkup(o))}return this.mergePrefix_(t)}}}move(e){const t=this.keyMapping.get(e);if(!t)return null;const r=t();return!(!r||r===this.getFocus())&&(this.setFocus(r),this.moved===p.WalkerMoves.HOME&&(this.levels=this.initLevels()),!0)}up(){return this.moved=p.WalkerMoves.UP,this.getFocus()}down(){return this.moved=p.WalkerMoves.DOWN,this.getFocus()}left(){return this.moved=p.WalkerMoves.LEFT,this.getFocus()}right(){return this.moved=p.WalkerMoves.RIGHT,this.getFocus()}repeat(){return this.moved=p.WalkerMoves.REPEAT,this.getFocus().clone()}depth(){return this.moved=this.isSpeech()?p.WalkerMoves.DEPTH:p.WalkerMoves.REPEAT,this.getFocus().clone()}home(){this.moved=p.WalkerMoves.HOME;return this.singletonFocus(this.rootId)}getBySemanticId(e){return f.getBySemanticId(this.node,e)}primaryId(){return this.getFocus().getSemanticPrimary().id.toString()}expand(){const e=this.getFocus().getDomPrimary(),t=this.actionable_(e);return t?(this.moved=p.WalkerMoves.EXPAND,t.dispatchEvent(new Event("click")),this.getFocus().clone()):this.getFocus()}expandable(e){return!!this.actionable_(e)&&0===e.childNodes.length}collapsible(e){return!!this.actionable_(e)&&e.childNodes.length>0}restoreState(){if(!this.highlighter)return;const e=p.WalkerState.getState(this.id);if(!e)return;let t=this.getRebuilt().nodeDict[e];const r=[];for(;t;)r.push(t.id),t=t.parent;for(r.pop();r.length>0;){this.down();const e=r.pop(),t=this.findFocusOnLevel(e);if(!t)break;this.setFocus(t)}this.moved=p.WalkerMoves.ENTER}updateFocus(){this.setFocus(d.Focus.factory(this.getFocus().getSemanticPrimary().id.toString(),this.getFocus().getSemanticNodes().map(e=>e.id.toString()),this.getRebuilt(),this.node))}rebuildStree(){this.rebuilt_=new h.RebuildStree(this.getXml()),this.rootId=this.rebuilt_.stree.root.id.toString(),this.generator.setRebuilt(this.rebuilt_),this.skeleton=l.SemanticSkeleton.fromTree(this.rebuilt_.stree),this.skeleton.populate(),this.focus_=this.singletonFocus(this.rootId),this.levels=this.initLevels(),u.connectMactions(this.node,this.getXml(),this.rebuilt_.xml)}previousLevel(){const e=this.getFocus().getDomPrimary();return e?f.getAttribute(e,o.Attribute.PARENT):this.getFocus().getSemanticPrimary().parent.id.toString()}nextLevel(){const e=this.getFocus().getDomPrimary();let t,r;if(e){t=f.splitAttribute(f.getAttribute(e,o.Attribute.CHILDREN)),r=f.splitAttribute(f.getAttribute(e,o.Attribute.CONTENT));const n=f.getAttribute(e,o.Attribute.TYPE),i=f.getAttribute(e,o.Attribute.ROLE);return this.combineContentChildren(n,i,r,t)}const n=e=>e.id.toString(),i=this.getRebuilt().nodeDict[this.primaryId()];return t=i.childNodes.map(n),r=i.contentNodes.map(n),0===t.length?[]:this.combineContentChildren(i.type,i.role,r,t)}singletonFocus(e){this.getRebuilt();const t=this.retrieveVisuals(e);return this.focusFromId(e,t)}retrieveVisuals(e){if(!this.skeleton)return[e];const t=parseInt(e,10),r=this.skeleton.subtreeNodes(t);if(!r.length)return[e];r.unshift(t);const n={},i=[];m.updateEvaluator(this.getXml());for(const o of r)n[o]||(i.push(o.toString()),n[o]=!0,this.subtreeIds(o,n));return i}subtreeIds(e,t){const r=m.evalXPath(`//*[@data-semantic-id="${e}"]`,this.getXml());m.evalXPath("*//@data-semantic-id",r[0]).forEach(e=>t[parseInt(e.textContent,10)]=!0)}focusFromId(e,t){return d.Focus.factory(e,t,this.getRebuilt(),this.node)}summary(){return this.moved=this.isSpeech()?p.WalkerMoves.SUMMARY:p.WalkerMoves.REPEAT,this.getFocus().clone()}detail(){return this.moved=this.isSpeech()?p.WalkerMoves.DETAIL:p.WalkerMoves.REPEAT,this.getFocus().clone()}specialMove(){return null}virtualize(e){return this.cursors.push({focus:this.getFocus(),levels:this.levels,undo:e||!this.cursors.length}),this.levels=this.levels.clone(),this.getFocus().clone()}previous(){const e=this.cursors.pop();return e?(this.levels=e.levels,e.focus):this.getFocus()}undo(){let e;do{e=this.cursors.pop()}while(e&&!e.undo);return e?(this.levels=e.levels,e.focus):this.getFocus()}update(e){(0,n.setup)(e).then(()=>c.generator("Tree").getSpeech(this.node,this.getXml()))}nextRules(){this.generator.nextRules();const e=this.generator.getOptions();return"speech"!==e.modality?this.getFocus():(this.update(e),this.moved=p.WalkerMoves.REPEAT,this.getFocus().clone())}previousRules(){var e;this.generator.nextStyle(null===(e=this.getFocus().getSemanticPrimary())||void 0===e?void 0:e.id.toString());const t=this.generator.getOptions();return"speech"!==t.modality?this.getFocus():(this.update(t),this.moved=p.WalkerMoves.REPEAT,this.getFocus().clone())}refocus(){let e,t=this.getFocus();for(;!t.getNodes().length;){e=this.levels.peek();const r=this.up();if(!r)break;this.setFocus(r),t=this.getFocus(!0)}this.levels.push(e),this.setFocus(t)}toggleActive_(){this.active_=!this.active_}mergePrefix_(e,r=[]){const n=this.isSpeech()?this.prefix_():"";n&&e.unshift(n);const i=this.isSpeech()?this.postfix_():"";return i&&e.push(i),t.finalize(t.merge(r.concat(e)))}prefix_(){const e=this.getFocus().getDomNodes(),t=this.getFocus().getSemanticNodes();return e[0]?f.getAttribute(e[0],o.Attribute.PREFIX):u.retrievePrefix(t[0])}postfix_(){const e=this.getFocus().getDomNodes();return e[0]?f.getAttribute(e[0],o.Attribute.POSTFIX):""}depth_(){const r=s.Grammar.getInstance().getParameter("depth");s.Grammar.getInstance().setParameter("depth",!0);const n=this.getFocus().getDomPrimary(),i=this.expandable(n)?a.LOCALE.MESSAGES.navigate.EXPANDABLE:this.collapsible(n)?a.LOCALE.MESSAGES.navigate.COLLAPSIBLE:"",o=a.LOCALE.MESSAGES.navigate.LEVEL+" "+this.getDepth(),l=this.getFocus().getSemanticNodes(),c=u.retrievePrefix(l[0]),d=[new e.AuditoryDescription({text:o,personality:{}}),new e.AuditoryDescription({text:c,personality:{}}),new e.AuditoryDescription({text:i,personality:{}})];return s.Grammar.getInstance().setParameter("depth",r),t.finalize(t.markup(d))}actionable_(e){const t=null==e?void 0:e.parentNode;return t&&this.highlighter.isMactionNode(t)?t:null}summary_(){const e=this.getFocus().getSemanticPrimary().id.toString(),t=this.getRebuilt().xml.getAttribute("id")===e?this.getRebuilt().xml:r.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",e)[0],n=u.retrieveSummary(t);return this.mergePrefix_([n])}detail_(){const e=this.getFocus().getSemanticPrimary().id.toString(),t=this.getRebuilt().xml.getAttribute("id")===e?this.getRebuilt().xml:r.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",e)[0],n=t.getAttribute("alternative");t.removeAttribute("alternative");const i=u.computeMarkup(t),o=this.mergePrefix_([i]);return t.setAttribute("alternative",n),o}}return abstract_walker.AbstractWalker=g,g.ID_COUNTER=0,g.SRE_ID_ATTR="sre-explorer-id",abstract_walker}function requireDummy_walker(){if(hasRequiredDummy_walker)return dummy_walker;hasRequiredDummy_walker=1,Object.defineProperty(dummy_walker,"__esModule",{value:!0}),dummy_walker.DummyWalker=void 0;const e=requireAbstract_walker();class t extends e.AbstractWalker{up(){return null}down(){return null}left(){return null}right(){return null}repeat(){return null}depth(){return null}home(){return null}getDepth(){return 0}initLevels(){return null}combineContentChildren(e,t,r,n){return[]}findFocusOnLevel(e){return null}}return dummy_walker.DummyWalker=t,dummy_walker}var semantic_walker={},levels={},hasRequiredLevels,hasRequiredSemantic_walker;function requireLevels(){if(hasRequiredLevels)return levels;hasRequiredLevels=1,Object.defineProperty(levels,"__esModule",{value:!0}),levels.Levels=void 0;class e{constructor(){this.level_=[]}push(e){this.level_.push(e)}pop(){return this.level_.pop()}peek(){return this.level_[this.level_.length-1]||null}indexOf(e){const t=this.peek();return t?t.indexOf(e):null}find(e){const t=this.peek();if(!t)return null;for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return t[r];return null}get(e){const t=this.peek();return!t||e<0||e>=t.length?null:t[e]}depth(){return this.level_.length}clone(){const t=new e;return t.level_=this.level_.slice(0),t}toString(){let e="";for(let t,r=0;t=this.level_[r];r++)e+="\n"+t.map(function(e){return e.toString()});return e}}return levels.Levels=e,levels}function requireSemantic_walker(){if(hasRequiredSemantic_walker)return semantic_walker;hasRequiredSemantic_walker=1,Object.defineProperty(semantic_walker,"__esModule",{value:!0}),semantic_walker.SemanticWalker=void 0;const e=requireSemantic_meaning(),t=requireAbstract_walker(),r=requireLevels();class n extends t.AbstractWalker{constructor(e,t,r,n){super(e,t,r,n),this.node=e,this.generator=t,this.highlighter=r,this.levels=null,this.restoreState()}initLevels(){const e=new r.Levels;return e.push([this.getFocus()]),e}up(){super.up();const e=this.previousLevel();if(!e)return null;this.levels.pop();return this.levels.find(function(t){return t.getSemanticNodes().some(function(t){return t.id.toString()===e})})}down(){super.down();const e=this.nextLevel();return 0===e.length?null:(this.levels.push(e),e[0])}combineContentChildren(t,r,n,i){switch(t){case e.SemanticType.RELSEQ:case e.SemanticType.INFIXOP:case e.SemanticType.MULTIREL:return this.makePairList(i,n);case e.SemanticType.PREFIXOP:return[this.focusFromId(i[0],n.concat(i))];case e.SemanticType.POSTFIXOP:return[this.focusFromId(i[0],i.concat(n))];case e.SemanticType.MATRIX:case e.SemanticType.VECTOR:case e.SemanticType.FENCED:return[this.focusFromId(i[0],[n[0],i[0],n[1]])];case e.SemanticType.CASES:return[this.focusFromId(i[0],[n[0],i[0]])];case e.SemanticType.PUNCTUATED:return r===e.SemanticRole.TEXT?i.map(this.singletonFocus.bind(this)):i.length===n.length?n.map(this.singletonFocus.bind(this)):this.combinePunctuations(i,n,[],[]);case e.SemanticType.APPL:return[this.focusFromId(i[0],[i[0],n[0]]),this.singletonFocus(i[1])];case e.SemanticType.ROOT:return[this.singletonFocus(i[0]),this.singletonFocus(i[1])];default:return i.map(this.singletonFocus.bind(this))}}combinePunctuations(e,t,r,n){if(0===e.length)return n;const i=e.shift(),o=t.shift();return i===o?(r.push(o),this.combinePunctuations(e,t,r,n)):(t.unshift(o),r.push(i),e.length===t.length?(n.push(this.focusFromId(i,r.concat(t))),n):(n.push(this.focusFromId(i,r)),this.combinePunctuations(e,t,[],n)))}makePairList(e,t){if(0===e.length)return[];if(1===e.length)return[this.singletonFocus(e[0])];const r=[this.singletonFocus(e.shift())];for(let n=0,i=e.length;n<i;n++)r.push(this.focusFromId(e[n],[t[n],e[n]]));return r}left(){super.left();const e=this.levels.indexOf(this.getFocus());if(null===e)return null;const t=this.levels.get(e-1);return t||null}right(){super.right();const e=this.levels.indexOf(this.getFocus());if(null===e)return null;const t=this.levels.get(e+1);return t||null}findFocusOnLevel(e){return this.levels.find(t=>t.getSemanticPrimary().id===e)}}return semantic_walker.SemanticWalker=n,semantic_walker}var syntax_walker={},hasRequiredSyntax_walker;function requireSyntax_walker(){if(hasRequiredSyntax_walker)return syntax_walker;hasRequiredSyntax_walker=1,Object.defineProperty(syntax_walker,"__esModule",{value:!0}),syntax_walker.SyntaxWalker=void 0;const e=requireBase_util(),t=requireSemantic_meaning(),r=requireAbstract_walker(),n=requireLevels();class i extends r.AbstractWalker{constructor(e,t,r,n){super(e,t,r,n),this.node=e,this.generator=t,this.highlighter=r,this.levels=null,this.restoreState()}initLevels(){const e=new n.Levels;return e.push([this.primaryId()]),e}up(){super.up();const e=this.previousLevel();return e?(this.levels.pop(),this.singletonFocus(e)):null}down(){super.down();const e=this.nextLevel();if(0===e.length)return null;const t=this.singletonFocus(e[0]);return t&&this.levels.push(e),t}combineContentChildren(r,n,i,o){switch(r){case t.SemanticType.RELSEQ:case t.SemanticType.INFIXOP:case t.SemanticType.MULTIREL:return(0,e.interleaveLists)(o,i);case t.SemanticType.PREFIXOP:return i.concat(o);case t.SemanticType.POSTFIXOP:return o.concat(i);case t.SemanticType.MATRIX:case t.SemanticType.VECTOR:case t.SemanticType.FENCED:return o.unshift(i[0]),o.push(i[1]),o;case t.SemanticType.CASES:return o.unshift(i[0]),o;case t.SemanticType.PUNCTUATED:return n===t.SemanticRole.TEXT?(0,e.interleaveLists)(o,i):o;case t.SemanticType.APPL:return[o[0],i[0],o[1]];case t.SemanticType.ROOT:return[o[0],o[1]];default:return o}}left(){super.left();const e=this.levels.indexOf(this.primaryId());if(null===e)return null;const t=this.levels.get(e-1);return t?this.singletonFocus(t):null}right(){super.right();const e=this.levels.indexOf(this.primaryId());if(null===e)return null;const t=this.levels.get(e+1);return t?this.singletonFocus(t):null}findFocusOnLevel(e){return this.singletonFocus(e.toString())}focusDomNodes(){return[this.getFocus().getDomPrimary()]}focusSemanticNodes(){return[this.getFocus().getSemanticPrimary()]}}return syntax_walker.SyntaxWalker=i,syntax_walker}var table_walker={},hasRequiredTable_walker,hasRequiredWalker_factory;function requireTable_walker(){if(hasRequiredTable_walker)return table_walker;hasRequiredTable_walker=1,Object.defineProperty(table_walker,"__esModule",{value:!0}),table_walker.TableWalker=void 0;const e=requireDom_util(),t=requireEvent_util(),r=requireSemantic_meaning(),n=requireSyntax_walker(),i=requireWalker();class o extends n.SyntaxWalker{constructor(e,r,n,i){super(e,r,n,i),this.node=e,this.generator=r,this.highlighter=n,this.firstJump=null,this.key_=null,this.row_=0,this.currentTable_=null,this.keyMapping.set(t.KeyCode.ZERO,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.ONE,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.TWO,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.THREE,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.FOUR,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.FIVE,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.SIX,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.SEVEN,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.EIGHT,this.jumpCell.bind(this)),this.keyMapping.set(t.KeyCode.NINE,this.jumpCell.bind(this))}move(e){this.key_=e;const t=super.move(e);return this.modifier=!1,t}up(){return this.moved=i.WalkerMoves.UP,this.eligibleCell_()?this.verticalMove_(!1):super.up()}down(){return this.moved=i.WalkerMoves.DOWN,this.eligibleCell_()?this.verticalMove_(!0):super.down()}jumpCell(){if(!this.isInTable_()||null===this.key_)return this.getFocus();if(this.moved===i.WalkerMoves.ROW){this.moved=i.WalkerMoves.CELL;const e=this.key_-t.KeyCode.ZERO;return this.isLegalJump_(this.row_,e)?this.jumpCell_(this.row_,e):this.getFocus()}const e=this.key_-t.KeyCode.ZERO;return e>this.currentTable_.childNodes.length?this.getFocus():(this.row_=e,this.moved=i.WalkerMoves.ROW,this.getFocus().clone())}undo(){const e=super.undo();return e===this.firstJump&&(this.firstJump=null),e}eligibleCell_(){const e=this.getFocus().getSemanticPrimary();return this.modifier&&e.type===r.SemanticType.CELL&&-1!==o.ELIGIBLE_CELL_ROLES.indexOf(e.role)}verticalMove_(e){const t=this.previousLevel();if(!t)return null;const r=this.getFocus(),n=this.levels.indexOf(this.primaryId()),i=this.levels.pop(),o=this.levels.indexOf(t),a=this.levels.get(e?o+1:o-1);if(!a)return this.levels.push(i),null;this.setFocus(this.singletonFocus(a));const s=this.nextLevel();return s[n]?(this.levels.push(s),this.singletonFocus(s[n])):(this.setFocus(r),this.levels.push(i),null)}jumpCell_(e,t){this.firstJump?this.virtualize(!1):(this.firstJump=this.getFocus(),this.virtualize(!0));const r=this.currentTable_.id.toString();let n;do{n=this.levels.pop()}while(-1===n.indexOf(r));this.levels.push(n),this.setFocus(this.singletonFocus(r)),this.levels.push(this.nextLevel());const i=this.currentTable_.childNodes[e-1];return this.setFocus(this.singletonFocus(i.id.toString())),this.levels.push(this.nextLevel()),this.singletonFocus(i.childNodes[t-1].id.toString())}isLegalJump_(t,r){const n=e.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",this.currentTable_.id.toString())[0];if(!n||n.hasAttribute("alternative"))return!1;const i=this.currentTable_.childNodes[t-1];if(!i)return!1;const o=e.querySelectorAllByAttrValue(n,"id",i.id.toString())[0];return!(!o||o.hasAttribute("alternative"))&&!(!i||!i.childNodes[r-1])}isInTable_(){let e=this.getFocus().getSemanticPrimary();for(;e;){if(-1!==o.ELIGIBLE_TABLE_TYPES.indexOf(e.type))return this.currentTable_=e,!0;e=e.parent}return!1}}return table_walker.TableWalker=o,o.ELIGIBLE_CELL_ROLES=[r.SemanticRole.DETERMINANT,r.SemanticRole.ROWVECTOR,r.SemanticRole.BINOMIAL,r.SemanticRole.SQUAREMATRIX,r.SemanticRole.MULTILINE,r.SemanticRole.MATRIX,r.SemanticRole.VECTOR,r.SemanticRole.CASES,r.SemanticRole.TABLE],o.ELIGIBLE_TABLE_TYPES=[r.SemanticType.MULTILINE,r.SemanticType.MATRIX,r.SemanticType.VECTOR,r.SemanticType.CASES,r.SemanticType.TABLE],table_walker}function requireWalker_factory(){if(hasRequiredWalker_factory)return walker_factory;hasRequiredWalker_factory=1,Object.defineProperty(walker_factory,"__esModule",{value:!0}),walker_factory.walker=function(e,t,r,n,o){return(i[e.toLowerCase()]||i.dummy)(t,r,n,o)};const e=requireDummy_walker(),t=requireSemantic_walker(),r=requireSyntax_walker(),n=requireTable_walker();const i={dummy:(t,r,n,i)=>new e.DummyWalker(t,r,n,i),semantic:(e,r,n,i)=>new t.SemanticWalker(e,r,n,i),syntax:(e,t,n,i)=>new r.SyntaxWalker(e,t,n,i),table:(e,t,r,i)=>new n.TableWalker(e,t,r,i)};return walker_factory}var processor={},hasRequiredProcessor,hasRequiredProcessor_factory,hasRequiredSystem;function requireProcessor(){if(hasRequiredProcessor)return processor;hasRequiredProcessor=1,Object.defineProperty(processor,"__esModule",{value:!0}),processor.KeyProcessor=processor.Processor=void 0;const e=requireEvent_util();class t{static stringify_(e){return e?e.toString():e}constructor(e,r){this.name=e,this.process=r.processor,this.postprocess=r.postprocessor||((e,t)=>e),this.processor=this.postprocess?function(e){return this.postprocess(this.process(e),e)}:this.process,this.print=r.print||t.stringify_,this.pprint=r.pprint||this.print}}processor.Processor=t,t.LocalState={walker:null,speechGenerator:null,highlighter:null};class r extends t{static getKey_(t){return"string"==typeof t?e.KeyCode[t.toUpperCase()]:t}constructor(e,t){super(e,t),this.key=t.key||r.getKey_}}return processor.KeyProcessor=r,processor}function requireProcessor_factory(){if(hasRequiredProcessor_factory)return processor_factory;hasRequiredProcessor_factory=1,Object.defineProperty(processor_factory,"__esModule",{value:!0}),processor_factory.process=b,processor_factory.output=function(e,t){const r=y(e);try{const e=r.processor(t);return d.Engine.getInstance().pprint?r.pprint(e):r.print(e)}catch(n){throw new d.SREError("Processing error for expression "+t)}},processor_factory.keypress=function(e,t){const r=y(e),n=r instanceof p.KeyProcessor?r.key(t):t,i=r.processor(n);return d.Engine.getInstance().pprint?r.pprint(i):r.print(i)};const e=requireAural_rendering(),t=requireEnrich(),r=requireHighlighter_factory(),n=requireLocale(),i=requireSemantic(),o=requireSpeech_generator_factory(),a=requireSpeech_generator_util(),s=requireWalker_factory(),l=requireWalker_util(),c=requireRebuild_stree(),u=requireDom_util(),d=requireEngine(),h=requireEngine_const(),p=requireProcessor(),f=requireXpath_util(),m=new Map;function g(e){m.set(e.name,e)}function y(e){const t=m.get(e);if(!t)throw new d.SREError("Unknown processor "+e);return t}function b(e,t){const r=y(e);try{return r.processor(t)}catch(n){throw new d.SREError("Processing error for expression "+t)}}return g(new p.Processor("semantic",{processor:function(e){const t=u.parseInput(e);return i.xmlTree(t)},postprocessor:function(t,r){const n=d.Engine.getInstance().speech;if(n===h.Speech.NONE)return t;const i=u.cloneNode(t);let o=a.computeMarkup(i);if(n===h.Speech.SHALLOW)return t.setAttribute("speech",e.finalize(o)),t;const s=f.evalXPath(".//*[@id]",t),l=f.evalXPath(".//*[@id]",i);for(let c,u,d=0;c=s[d],u=l[d];d++)o=a.computeMarkup(u),c.setAttribute("speech",e.finalize(o));return t},pprint:function(e){return u.formatXml(e.toString())}})),g(new p.Processor("speech",{processor:function(t){const r=u.parseInput(t),n=i.xmlTree(r),o=a.computeSpeech(n);return e.finalize(e.markup(o))},pprint:function(t){const r=t.toString();return e.isXml()?u.formatXml(r):r}})),g(new p.Processor("json",{processor:function(e){const t=u.parseInput(e);return i.getTree(t).toJson()},postprocessor:function(t,r){const n=d.Engine.getInstance().speech;if(n===h.Speech.NONE)return t;const o=u.parseInput(r),s=i.xmlTree(o),l=a.computeMarkup(s);if(n===h.Speech.SHALLOW)return t.stree.speech=e.finalize(l),t;const c=t=>{const r=f.evalXPath(`.//*[@id=${t.id}]`,s)[0],n=a.computeMarkup(r);t.speech=e.finalize(n),t.children&&t.children.forEach(c)};return c(t.stree),t},print:function(e){return JSON.stringify(e)},pprint:function(e){return JSON.stringify(e,null,2)}})),g(new p.Processor("description",{processor:function(e){const t=u.parseInput(e),r=i.xmlTree(t);return a.computeSpeech(r)},print:function(e){return JSON.stringify(e)},pprint:function(e){return JSON.stringify(e,null,2)}})),g(new p.Processor("enriched",{processor:function(e){return t.semanticMathmlSync(e)},postprocessor:function(e,t){const r=l.getSemanticRoot(e);let n;switch(d.Engine.getInstance().speech){case h.Speech.NONE:break;case h.Speech.SHALLOW:n=o.generator("Adhoc"),n.getSpeech(r,e);break;case h.Speech.DEEP:n=o.generator("Tree"),n.getSpeech(e,e)}return e},pprint:function(e){return u.formatXml(e.toString())}})),g(new p.Processor("rebuild",{processor:function(e){return new c.RebuildStree(u.parseInput(e)).stree.xml()},pprint:function(e){return u.formatXml(e.toString())}})),g(new p.Processor("walker",{processor:function(e){const t=o.generator("Node");p.Processor.LocalState.speechGenerator=t,t.setOptions({modality:d.Engine.getInstance().modality,locale:d.Engine.getInstance().locale,domain:d.Engine.getInstance().domain,style:d.Engine.getInstance().style}),p.Processor.LocalState.highlighter=r.highlighter({color:"black"},{color:"white"},{renderer:"NativeMML"});const n=b("enriched",e),i=function(e,t){const r=y(e);return d.Engine.getInstance().pprint?r.pprint(t):r.print(t)}("enriched",n);return p.Processor.LocalState.walker=s.walker(d.Engine.getInstance().walker,n,t,p.Processor.LocalState.highlighter,i),p.Processor.LocalState.walker},print:function(e){return p.Processor.LocalState.walker.speech()}})),g(new p.KeyProcessor("move",{processor:function(t){if(!p.Processor.LocalState.walker)return null;return!1===p.Processor.LocalState.walker.move(t)?e.error(t):p.Processor.LocalState.walker.speech()}})),g(new p.Processor("number",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":n.LOCALE.NUMBERS.numberToWords(t)}})),g(new p.Processor("ordinal",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":n.LOCALE.NUMBERS.wordOrdinal(t)}})),g(new p.Processor("numericOrdinal",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":n.LOCALE.NUMBERS.numericOrdinal(t)}})),g(new p.Processor("vulgar",{processor:function(e){const[t,r]=e.split("/").map(e=>parseInt(e,10));return isNaN(t)||isNaN(r)?"":b("speech",`<mfrac><mn>${t}</mn><mn>${r}</mn></mfrac>`)}})),g(new p.Processor("latex",{processor:function(e){return"braille"!==d.Engine.getInstance().modality||d.Engine.getInstance().locale,b("speech",`<math data-latex="${e}"></math>`)}})),processor_factory}function requireSystem(){return hasRequiredSystem||(hasRequiredSystem=1,function(e){var t=system&&system.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.localePath=e.file=e.localeLoader=e.version=void 0,e.setupEngine=u,e.engineSetup=function(){const e=["mode"].concat(r.Engine.STRING_FEATURES,r.Engine.BINARY_FEATURES),t=r.Engine.getInstance(),n={};return e.forEach(function(e){n[e]=t[e]}),n.json=s.SystemExternal.jsonPath,n.xpath=s.SystemExternal.WGXpath,n.rules=t.ruleSets.slice(),n},e.engineReady=function(){return t(this,void 0,void 0,function*(){return u({}).then(()=>r.EnginePromise.getall())})},e.toSpeech=function(e){return d("speech",e)},e.toSemantic=function(e){return d("semantic",e)},e.toJson=function(e){return d("json",e)},e.toDescription=function(e){return d("description",e)},e.toEnriched=function(e){return d("enriched",e)},e.number=function(e){return d("number",e)},e.ordinal=function(e){return d("ordinal",e)},e.numericOrdinal=function(e){return d("numericOrdinal",e)},e.vulgar=function(e){return d("vulgar",e)},e.processFile=h,e.walk=function(e){return a.output("walker",e)},e.move=function(e){return a.keypress("move",e)},e.exit=function(e){const t=e||0;r.EnginePromise.getall().then(()=>process.exit(t))};const r=requireEngine(),n=requireEngine_setup(),i=requireEngine_const(),o=requireFile_util(),a=requireProcessor_factory(),s=requireSystem_external(),l=requireVariables(),c=requireMath_map();function u(e){return t(this,void 0,void 0,function*(){return(0,n.setup)(e)})}function d(e,t){return a.process(e,t)}function h(e,n,o){switch(r.Engine.getInstance().mode){case i.Mode.ASYNC:return function(e,n,i){return t(this,void 0,void 0,function*(){const t=yield s.SystemExternal.fs.promises.readFile(n,{encoding:"utf8"}),o=a.output(e,t);if(i)try{s.SystemExternal.fs.promises.writeFile(i,o)}catch(l){throw new r.SREError("Can not write to file: "+i)}return o})}(e,n,o);case i.Mode.SYNC:return function(e,t,n){const i=function(e){let t;try{t=s.SystemExternal.fs.readFileSync(e,{encoding:"utf8"})}catch(n){throw new r.SREError("Can not open file: "+e)}return t}(t),o=a.output(e,i);if(n)try{s.SystemExternal.fs.writeFileSync(n,o)}catch(l){throw new r.SREError("Can not write to file: "+n)}return o}(e,n,o);default:throw new r.SREError(`Can process files in ${r.Engine.getInstance().mode} mode`)}}e.version=l.Variables.VERSION,e.localeLoader=c.standardLoader,e.file={},e.file.toSpeech=function(e,t){return h("speech",e,t)},e.file.toSemantic=function(e,t){return h("semantic",e,t)},e.file.toJson=function(e,t){return h("json",e,t)},e.file.toDescription=function(e,t){return h("description",e,t)},e.file.toEnriched=function(e,t){return h("enriched",e,t)},e.localePath=o.localePath,s.SystemExternal.documentSupported?u({mode:i.Mode.HTTP}).then(()=>u({})):u({mode:i.Mode.SYNC}).then(()=>u({mode:i.Mode.ASYNC}))}(system)),system}var texToMml={},liteAdaptor={},NodeMixin={},hasRequiredNodeMixin;function requireNodeMixin(){return hasRequiredNodeMixin||(hasRequiredNodeMixin=1,function(e){var t=NodeMixin&&NodeMixin.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=NodeMixin&&NodeMixin.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.NodeMixin=e.NodeMixinOptions=void 0;var n=requireOptions();e.NodeMixinOptions={badCSS:!0,badSizes:!0},e.NodeMixin=function(i,o){var a;return void 0===o&&(o={}),o=(0,n.userOptions)((0,n.defaultOptions)({},e.NodeMixinOptions),o),a=function(e){function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.call(this,t[0])||this,o=i.constructor;return i.options=(0,n.userOptions)((0,n.defaultOptions)({},o.OPTIONS),t[1]),i}return t(r,e),r.prototype.fontSize=function(t){return o.badCSS?this.options.fontSize:e.prototype.fontSize.call(this,t)},r.prototype.fontFamily=function(t){return o.badCSS?this.options.fontFamily:e.prototype.fontFamily.call(this,t)},r.prototype.nodeSize=function(t,n,i){if(void 0===n&&(n=1),void 0===i&&(i=null),!o.badSizes)return e.prototype.nodeSize.call(this,t,n,i);var a=this.textContent(t),s=Array.from(a.replace(r.cjkPattern,"")).length;return[(Array.from(a).length-s)*this.options.cjkCharWidth+s*this.options.unknownCharWidth,this.options.unknownCharHeight]},r.prototype.nodeBBox=function(t){return o.badSizes?{left:0,right:0,top:0,bottom:0}:e.prototype.nodeBBox.call(this,t)},r}(i),a.OPTIONS=r(r({},o.badCSS?{fontSize:16,fontFamily:"Times"}:{}),o.badSizes?{cjkCharWidth:1,unknownCharWidth:.6,unknownCharHeight:.8}:{}),a.cjkPattern=new RegExp(["[","-","","-","-","-","-","-","-","-","-","-","--","-","-","-","]"].join(""),"gu"),a}}(NodeMixin)),NodeMixin}var Document={},Element$1={},hasRequiredElement,hasRequiredDocument;function requireElement(){if(hasRequiredElement)return Element$1;hasRequiredElement=1;var e=Element$1&&Element$1.__assign||function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)},t=Element$1&&Element$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=Element$1&&Element$1.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=Element$1&&Element$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Element$1,"__esModule",{value:!0}),Element$1.LiteElement=void 0;var i=function(){return function(i,o,a){var s,l;void 0===o&&(o={}),void 0===a&&(a=[]),this.kind=i,this.attributes=e({},o),this.children=r([],t(a),!1);try{for(var c=n(this.children),u=c.next();!u.done;u=c.next()){u.value.parent=this}}catch(d){s={error:d}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}this.styles=null}}();return Element$1.LiteElement=i,Element$1}function requireDocument(){if(hasRequiredDocument)return Document;hasRequiredDocument=1,Object.defineProperty(Document,"__esModule",{value:!0}),Document.LiteDocument=void 0;var e=requireElement(),t=function(){function t(){this.root=new e.LiteElement("html",{},[this.head=new e.LiteElement("head"),this.body=new e.LiteElement("body")]),this.type=""}return Object.defineProperty(t.prototype,"kind",{get:function(){return"#document"},enumerable:!1,configurable:!0}),t}();return Document.LiteDocument=t,Document}var Text$3={},hasRequiredText;function requireText(){if(hasRequiredText)return Text$3;hasRequiredText=1;var e=Text$3&&Text$3.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Text$3,"__esModule",{value:!0}),Text$3.LiteComment=Text$3.LiteText=void 0;var t=function(){function e(e){void 0===e&&(e=""),this.value=e}return Object.defineProperty(e.prototype,"kind",{get:function(){return"#text"},enumerable:!1,configurable:!0}),e}();Text$3.LiteText=t;var r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"#comment"},enumerable:!1,configurable:!0}),r}(t);return Text$3.LiteComment=r,Text$3}var Window={},List={},hasRequiredList;function requireList(){if(hasRequiredList)return List;hasRequiredList=1;var e=List&&List.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=List&&List.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(List,"__esModule",{value:!0}),List.LiteList=void 0;var r=function(){function r(r){this.nodes=[],this.nodes=t([],e(r),!1)}return r.prototype.append=function(e){this.nodes.push(e)},r.prototype[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.nodes.length?{value:null,done:!0}:{value:this.nodes[e++],done:!1}}}},r}();return List.LiteList=r,List}var Parser$1={},hasRequiredParser,hasRequiredWindow,hasRequiredLiteAdaptor;function requireParser(){return hasRequiredParser||(hasRequiredParser=1,function(e){var t=Parser$1&&Parser$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Parser$1&&Parser$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=Parser$1&&Parser$1.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=Parser$1&&Parser$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=Parser$1&&Parser$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.LiteParser=e.PATTERNS=void 0;var a,s,l=n(requireEntities()),c=requireElement(),u=requireText();(s=a=e.PATTERNS||(e.PATTERNS={})).TAGNAME="[a-z][^\\s\\n>]*",s.ATTNAME="[a-z][^\\s\\n>=]*",s.VALUE="(?:'[^']*'|\"[^\"]*\"|[^\\s\\n]+)",s.VALUESPLIT="(?:'([^']*)'|\"([^\"]*)\"|([^\\s\\n]+))",s.SPACE="(?:\\s|\\n)+",s.OPTIONALSPACE="(?:\\s|\\n)*",s.ATTRIBUTE=s.ATTNAME+"(?:"+s.OPTIONALSPACE+"="+s.OPTIONALSPACE+s.VALUE+")?",s.ATTRIBUTESPLIT="("+s.ATTNAME+")(?:"+s.OPTIONALSPACE+"="+s.OPTIONALSPACE+s.VALUESPLIT+")?",s.TAG="(<(?:"+s.TAGNAME+"(?:"+s.SPACE+s.ATTRIBUTE+")*"+s.OPTIONALSPACE+"/?|/"+s.TAGNAME+"|!--[^]*?--|![^]*?)(?:>|$))",s.tag=new RegExp(s.TAG,"i"),s.attr=new RegExp(s.ATTRIBUTE,"i"),s.attrsplit=new RegExp(s.ATTRIBUTESPLIT,"i");var d=function(){function e(){}return e.prototype.parseFromString=function(e,t,r){void 0===r&&(r=null);for(var n=r.createDocument(),i=r.body(n),o=e.replace(/<\?.*?\?>/g,"").split(a.tag);o.length;){var s=o.shift(),l=o.shift();s&&this.addText(r,i,s),l&&">"===l.charAt(l.length-1)&&("!"===l.charAt(1)?this.addComment(r,i,l):i="/"===l.charAt(1)?this.closeTag(r,i,l):this.openTag(r,i,l,o))}return this.checkDocument(r,n),n},e.prototype.addText=function(e,t,r){return r=l.translate(r),e.append(t,e.text(r))},e.prototype.addComment=function(e,t,r){return e.append(t,new u.LiteComment(r))},e.prototype.closeTag=function(e,t,r){for(var n=r.slice(2,r.length-1).toLowerCase();e.parent(t)&&e.kind(t)!==n;)t=e.parent(t);return e.parent(t)},e.prototype.openTag=function(e,t,r,n){var i=this.constructor.PCDATA,o=this.constructor.SELF_CLOSING,s=r.match(/<(.*?)[\s\n>\/]/)[1].toLowerCase(),l=e.node(s),c=r.replace(/^<.*?[\s\n>]/,"").split(a.attrsplit);return(c.pop().match(/>$/)||c.length<5)&&(this.addAttributes(e,l,c),e.append(t,l),o[s]||r.match(/\/>$/)||(i[s]?this.handlePCDATA(e,l,s,n):t=l)),t},e.prototype.addAttributes=function(e,t,r){for(var n=this.constructor.CDATA_ATTR;r.length;){var o=i(r.splice(0,5),5),a=o[1],s=o[2],c=o[3],u=o[4],d=s||c||u||"";n[a]||(d=l.translate(d)),e.setAttribute(t,a,d)}},e.prototype.handlePCDATA=function(e,t,r,n){for(var i=[],o="</"+r+">",a="";n.length&&a!==o;)i.push(a),i.push(n.shift()),a=n.shift();e.append(t,e.text(i.join("")))},e.prototype.checkDocument=function(e,t){var r,n,i,a,s=this.getOnlyChild(e,e.body(t));if(s){try{for(var l=o(e.childNodes(e.body(t))),c=l.next();!c.done;c=l.next()){if((p=c.value)===s)break;p instanceof u.LiteComment&&p.value.match(/^<!DOCTYPE/)&&(t.type=p.value)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}switch(e.kind(s)){case"html":try{for(var d=o(s.children),h=d.next();!h.done;h=d.next()){var p=h.value;switch(e.kind(p)){case"head":t.head=p;break;case"body":t.body=p}}}catch(m){i={error:m}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}t.root=s,e.remove(s),e.parent(t.body)!==s&&e.append(s,t.body),e.parent(t.head)!==s&&e.insert(t.head,t.body);break;case"head":t.head=e.replace(s,t.head);break;case"body":t.body=e.replace(s,t.body)}}},e.prototype.getOnlyChild=function(e,t){var r,n,i=null;try{for(var a=o(e.childNodes(t)),s=a.next();!s.done;s=a.next()){var l=s.value;if(l instanceof c.LiteElement){if(i)return null;i=l}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},e.prototype.serialize=function(e,t,r){var n=this;void 0===r&&(r=!1);var i=this.constructor.SELF_CLOSING,o=this.constructor.CDATA_ATTR,a=e.kind(t),s=e.allAttributes(t).map(function(e){return e.name+'="'+(o[e.name]?e.value:n.protectAttribute(e.value))+'"'}).join(" "),l=this.serializeInner(e,t,r);return"<"+a+(s?" "+s:"")+(r&&!l||i[a]?r?"/>":">":">".concat(l,"</").concat(a,">"))},e.prototype.serializeInner=function(e,t,r){var n=this;return void 0===r&&(r=!1),this.constructor.PCDATA.hasOwnProperty(t.kind)?e.childNodes(t).map(function(t){return e.value(t)}).join(""):e.childNodes(t).map(function(t){var i=e.kind(t);return"#text"===i?n.protectHTML(e.value(t)):"#comment"===i?t.value:n.serialize(e,t,r)}).join("")},e.prototype.protectAttribute=function(e){return"string"!=typeof e&&(e=String(e)),e.replace(/"/g,"&quot;")},e.prototype.protectHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.SELF_CLOSING={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},e.PCDATA={option:!0,textarea:!0,fieldset:!0,title:!0,style:!0,script:!0},e.CDATA_ATTR={style:!0,datafld:!0,datasrc:!0,href:!0,src:!0,longdesc:!0,usemap:!0,cite:!0,datetime:!0,action:!0,axis:!0,profile:!0,content:!0,scheme:!0},e}();e.LiteParser=d}(Parser$1)),Parser$1}function requireWindow(){if(hasRequiredWindow)return Window;hasRequiredWindow=1,Object.defineProperty(Window,"__esModule",{value:!0}),Window.LiteWindow=void 0;var e=requireElement(),t=requireDocument(),r=requireList(),n=requireParser(),i=function(){return function(){this.DOMParser=n.LiteParser,this.NodeList=r.LiteList,this.HTMLCollection=r.LiteList,this.HTMLElement=e.LiteElement,this.DocumentFragment=r.LiteList,this.Document=t.LiteDocument,this.document=new t.LiteDocument}}();return Window.LiteWindow=i,Window}function requireLiteAdaptor(){if(hasRequiredLiteAdaptor)return liteAdaptor;hasRequiredLiteAdaptor=1;var e=liteAdaptor&&liteAdaptor.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=liteAdaptor&&liteAdaptor.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=liteAdaptor&&liteAdaptor.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=liteAdaptor&&liteAdaptor.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=liteAdaptor&&liteAdaptor.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(liteAdaptor,"__esModule",{value:!0}),liteAdaptor.liteAdaptor=liteAdaptor.LiteAdaptor=liteAdaptor.LiteBase=void 0;var o=requireDOMAdaptor(),a=requireNodeMixin(),s=requireDocument(),l=requireElement(),c=requireText(),u=requireWindow(),d=requireParser(),h=requireStyles(),p=function(o){function a(){var e=o.call(this)||this;return e.parser=new d.LiteParser,e.window=new u.LiteWindow,e}return e(a,o),a.prototype.parse=function(e,t){return this.parser.parseFromString(e,t,this)},a.prototype.create=function(e,t){return new l.LiteElement(e)},a.prototype.text=function(e){return new c.LiteText(e)},a.prototype.comment=function(e){return new c.LiteComment(e)},a.prototype.createDocument=function(){return new s.LiteDocument},a.prototype.head=function(e){return e.head},a.prototype.body=function(e){return e.body},a.prototype.root=function(e){return e.root},a.prototype.doctype=function(e){return e.type},a.prototype.tags=function(e,t,r){void 0===r&&(r=null);var n=[],i=[];if(r)return i;for(var o=e;o;){var a=o.kind;"#text"!==a&&"#comment"!==a&&(a===t&&i.push(o),o.children.length&&(n=o.children.concat(n))),o=n.shift()}return i},a.prototype.elementById=function(e,t){for(var r=[],n=e;n;){if("#text"!==n.kind&&"#comment"!==n.kind){if(n.attributes.id===t)return n;n.children.length&&(r=n.children.concat(r))}n=r.shift()}return null},a.prototype.elementsByClass=function(e,t){for(var r=[],n=[],i=e;i;){if("#text"!==i.kind&&"#comment"!==i.kind)(i.attributes.class||"").trim().split(/ +/).includes(t)&&n.push(i),i.children.length&&(r=i.children.concat(r));i=r.shift()}return n},a.prototype.getElements=function(e,t){var n,i,o=[],a=this.body(t);try{for(var s=r(e),l=s.next();!l.done;l=s.next()){var c=l.value;if("string"==typeof c)if("#"===c.charAt(0)){var u=this.elementById(a,c.slice(1));u&&o.push(u)}else"."===c.charAt(0)?o=o.concat(this.elementsByClass(a,c.slice(1))):c.match(/^[-a-z][-a-z0-9]*$/i)&&(o=o.concat(this.tags(a,c)));else Array.isArray(c)?o=o.concat(c):c instanceof this.window.NodeList||c instanceof this.window.HTMLCollection?o=o.concat(c.nodes):o.push(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o},a.prototype.contains=function(e,t){for(;t&&t!==e;)t=this.parent(t);return!!t},a.prototype.parent=function(e){return e.parent},a.prototype.childIndex=function(e){return e.parent?e.parent.children.findIndex(function(t){return t===e}):-1},a.prototype.append=function(e,t){return t.parent&&this.remove(t),e.children.push(t),t.parent=e,t},a.prototype.insert=function(e,t){if(e.parent&&this.remove(e),t&&t.parent){var r=this.childIndex(t);t.parent.children.splice(r,0,e),e.parent=t.parent}},a.prototype.remove=function(e){var t=this.childIndex(e);return t>=0&&e.parent.children.splice(t,1),e.parent=null,e},a.prototype.replace=function(e,t){var r=this.childIndex(t);return r>=0&&(t.parent.children[r]=e,e.parent=t.parent,t.parent=null),t},a.prototype.clone=function(e){var r=this,n=new l.LiteElement(e.kind);return n.attributes=t({},e.attributes),n.children=e.children.map(function(e){if("#text"===e.kind)return new c.LiteText(e.value);if("#comment"===e.kind)return new c.LiteComment(e.value);var t=r.clone(e);return t.parent=n,t}),n},a.prototype.split=function(e,t){var r=new c.LiteText(e.value.slice(t));return e.value=e.value.slice(0,t),e.parent.children.splice(this.childIndex(e)+1,0,r),r.parent=e.parent,r},a.prototype.next=function(e){var t=e.parent;if(!t)return null;var r=this.childIndex(e)+1;return r>=0&&r<t.children.length?t.children[r]:null},a.prototype.previous=function(e){var t=e.parent;if(!t)return null;var r=this.childIndex(e)-1;return r>=0?t.children[r]:null},a.prototype.firstChild=function(e){return e.children[0]},a.prototype.lastChild=function(e){return e.children[e.children.length-1]},a.prototype.childNodes=function(e){return i([],n(e.children),!1)},a.prototype.childNode=function(e,t){return e.children[t]},a.prototype.kind=function(e){return e.kind},a.prototype.value=function(e){return"#text"===e.kind?e.value:"#comment"===e.kind?e.value.replace(/^<!(--)?((?:.|\n)*)\1>$/,"$2"):""},a.prototype.textContent=function(e){var t=this;return e.children.reduce(function(e,r){return e+("#text"===r.kind?r.value:"#comment"===r.kind?"":t.textContent(r))},"")},a.prototype.innerHTML=function(e){return this.parser.serializeInner(this,e)},a.prototype.outerHTML=function(e){return this.parser.serialize(this,e)},a.prototype.serializeXML=function(e){return this.parser.serialize(this,e,!0)},a.prototype.setAttribute=function(e,t,r,n){void 0===n&&(n=null),"string"!=typeof r&&(r=String(r)),n&&(t=n.replace(/.*\//,"")+":"+t.replace(/^.*:/,"")),e.attributes[t]=r,"style"===t&&(e.styles=null)},a.prototype.getAttribute=function(e,t){return e.attributes[t]},a.prototype.removeAttribute=function(e,t){delete e.attributes[t]},a.prototype.hasAttribute=function(e,t){return e.attributes.hasOwnProperty(t)},a.prototype.allAttributes=function(e){var t,n,i=e.attributes,o=[];try{for(var a=r(Object.keys(i)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push({name:l,value:i[l]})}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},a.prototype.addClass=function(e,t){var r=(e.attributes.class||"").split(/ /);r.find(function(e){return e===t})||(r.push(t),e.attributes.class=r.join(" "))},a.prototype.removeClass=function(e,t){var r=(e.attributes.class||"").split(/ /),n=r.findIndex(function(e){return e===t});n>=0&&(r.splice(n,1),e.attributes.class=r.join(" "))},a.prototype.hasClass=function(e,t){return!!(e.attributes.class||"").split(/ /).find(function(e){return e===t})},a.prototype.setStyle=function(e,t,r){e.styles||(e.styles=new h.Styles(this.getAttribute(e,"style"))),e.styles.set(t,r),e.attributes.style=e.styles.cssText},a.prototype.getStyle=function(e,t){if(!e.styles){var r=this.getAttribute(e,"style");if(!r)return"";e.styles=new h.Styles(r)}return e.styles.get(t)},a.prototype.allStyles=function(e){return this.getAttribute(e,"style")},a.prototype.insertRules=function(e,t){e.children=[this.text(t.join("\n\n")+"\n\n"+this.textContent(e))]},a.prototype.fontSize=function(e){return 0},a.prototype.fontFamily=function(e){return""},a.prototype.nodeSize=function(e,t,r){return[0,0]},a.prototype.nodeBBox=function(e){return{left:0,right:0,top:0,bottom:0}},a}(o.AbstractDOMAdaptor);liteAdaptor.LiteBase=p;var f=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r}((0,a.NodeMixin)(p));return liteAdaptor.LiteAdaptor=f,liteAdaptor.liteAdaptor=function(e){return void 0===e&&(e=null),new f(null,e)},liteAdaptor}var AllPackages={},ActionConfiguration={},hasRequiredActionConfiguration;function requireActionConfiguration(){return hasRequiredActionConfiguration||(hasRequiredActionConfiguration=1,function(e){var t=ActionConfiguration&&ActionConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActionConfiguration=e.ActionMethods=void 0;var r=requireConfiguration(),n=t(requireTexParser()),i=requireSymbolMap(),o=t(requireBaseMethods());e.ActionMethods={},e.ActionMethods.Macro=o.default.Macro,e.ActionMethods.Toggle=function(e,t){for(var r,i=[];"\\endtoggle"!==(r=e.GetArgument(t));)i.push(new n.default(r,e.stack.env,e.configuration).mml());e.Push(e.create("node","maction",i,{actiontype:"toggle"}))},e.ActionMethods.Mathtip=function(e,t){var r=e.ParseArg(t),n=e.ParseArg(t);e.Push(e.create("node","maction",[r,n],{actiontype:"tooltip"}))},new i.CommandMap("action-macros",{toggle:"Toggle",mathtip:"Mathtip",texttip:["Macro","\\mathtip{#1}{\\text{#2}}",2]},e.ActionMethods),e.ActionConfiguration=r.Configuration.create("action",{handler:{macro:["action-macros"]}})}(ActionConfiguration)),ActionConfiguration}var AmsCdConfiguration={},AmsCdMappings={},AmsCdMethods={},hasRequiredAmsCdMethods,hasRequiredAmsCdMappings,hasRequiredAmsCdConfiguration;function requireAmsCdMethods(){if(hasRequiredAmsCdMethods)return AmsCdMethods;hasRequiredAmsCdMethods=1;var e=AmsCdMethods&&AmsCdMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AmsCdMethods,"__esModule",{value:!0});var t=e(requireTexParser()),r=requireBaseConfiguration(),n=requireMmlNode(),i=e(requireNodeUtil()),o={CD:function(e,t){e.Push(t);var r=e.itemFactory.create("array"),n=e.configuration.options.amscd;return r.setProperties({minw:e.stack.env.CD_minw||n.harrowsize,minh:e.stack.env.CD_minh||n.varrowsize}),r.arraydef={columnalign:"center",columnspacing:n.colspace,rowspacing:n.rowspace,displaystyle:!0},r},arrow:function(e,a){var s=e.string.charAt(e.i);if(!s.match(/[><VA.|=]/))return(0,r.Other)(e,a);e.i++;var l=e.stack.Top();l.isKind("array")&&!l.Size()||(o.cell(e,a),l=e.stack.Top());for(var c,u=l,d=u.table.length%2==1,h=(u.row.length+(d?0:1))%2;h;)o.cell(e,a),h--;var p={minsize:u.getProperty("minw"),stretchy:!0},f={minsize:u.getProperty("minh"),stretchy:!0,symmetric:!0,lspace:0,rspace:0};if("."===s);else if("|"===s)c=e.create("token","mo",f,"");else if("="===s)c=e.create("token","mo",p,"=");else{var m={">":"","<":"",V:"",A:""}[s],g=e.GetUpTo(a+s,s),y=e.GetUpTo(a+s,s);if(">"===s||"<"===s){if(c=e.create("token","mo",p,m),g||(g="\\kern "+u.getProperty("minw")),g||y){var b={width:"+.67em",lspace:".33em"};if(c=e.create("node","munderover",[c]),g){var v=new t.default(g,e.stack.env,e.configuration).mml(),x=e.create("node","mpadded",[v],b);i.default.setAttribute(x,"voffset",".1em"),i.default.setChild(c,c.over,x)}if(y){var $=new t.default(y,e.stack.env,e.configuration).mml();i.default.setChild(c,c.under,e.create("node","mpadded",[$],b))}e.configuration.options.amscd.hideHorizontalLabels&&(c=e.create("node","mpadded",c,{depth:0,height:".67em"}))}}else{var S=e.create("token","mo",f,m);c=S,(g||y)&&(c=e.create("node","mrow"),g&&i.default.appendChildren(c,[new t.default("\\scriptstyle\\llap{"+g+"}",e.stack.env,e.configuration).mml()]),S.texClass=n.TEXCLASS.ORD,i.default.appendChildren(c,[S]),y&&i.default.appendChildren(c,[new t.default("\\scriptstyle\\rlap{"+y+"}",e.stack.env,e.configuration).mml()]))}}c&&e.Push(c),o.cell(e,a)},cell:function(e,t){var r=e.stack.Top();(r.table||[]).length%2==0&&0===(r.row||[]).length&&e.Push(e.create("node","mpadded",[],{height:"8.5pt",depth:"2pt"})),e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}))},minCDarrowwidth:function(e,t){e.stack.env.CD_minw=e.GetDimen(t)},minCDarrowheight:function(e,t){e.stack.env.CD_minh=e.GetDimen(t)}};return AmsCdMethods.default=o,AmsCdMethods}function requireAmsCdMappings(){if(hasRequiredAmsCdMappings)return AmsCdMappings;hasRequiredAmsCdMappings=1;var e=AmsCdMappings&&AmsCdMappings.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=AmsCdMappings&&AmsCdMappings.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=AmsCdMappings&&AmsCdMappings.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=AmsCdMappings&&AmsCdMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AmsCdMappings,"__esModule",{value:!0});var i=r(requireSymbolMap()),o=n(requireParseMethods()),a=n(requireAmsCdMethods());return new i.EnvironmentMap("amscd_environment",o.default.environment,{CD:"CD"},a.default),new i.CommandMap("amscd_macros",{minCDarrowwidth:"minCDarrowwidth",minCDarrowheight:"minCDarrowheight"},a.default),new i.MacroMap("amscd_special",{"@":"arrow"},a.default),AmsCdMappings}function requireAmsCdConfiguration(){if(hasRequiredAmsCdConfiguration)return AmsCdConfiguration;hasRequiredAmsCdConfiguration=1,Object.defineProperty(AmsCdConfiguration,"__esModule",{value:!0}),AmsCdConfiguration.AmsCdConfiguration=void 0;var e=requireConfiguration();return requireAmsCdMappings(),AmsCdConfiguration.AmsCdConfiguration=e.Configuration.create("amscd",{handler:{character:["amscd_special"],macro:["amscd_macros"],environment:["amscd_environment"]},options:{amscd:{colspace:"5pt",rowspace:"5pt",harrowsize:"2.75em",varrowsize:"1.75em",hideHorizontalLabels:!1}}}),AmsCdConfiguration}var BboxConfiguration={},hasRequiredBboxConfiguration;function requireBboxConfiguration(){return hasRequiredBboxConfiguration||(hasRequiredBboxConfiguration=1,function(e){var t=BboxConfiguration&&BboxConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.BboxConfiguration=e.BboxMethods=void 0;var r=requireConfiguration(),n=requireSymbolMap(),i=t(requireTexError());e.BboxMethods={},e.BboxMethods.BBox=function(e,t){for(var r,n,s,l=e.GetBrackets(t,""),c=e.ParseArg(t),u=l.split(/,/),d=0,h=u.length;d<h;d++){var p=u[d].trim(),f=p.match(/^(\.\d+|\d+(\.\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);if(f){if(r)throw new i.default("MultipleBBoxProperty","%1 specified twice in %2","Padding",t);var m=a(f[1]+f[3]);m&&(r={height:"+"+m,depth:"+"+m,lspace:m,width:"+"+2*parseInt(f[1],10)+f[3]})}else if(p.match(/^([a-z0-9]+|\#[0-9a-f]{6}|\#[0-9a-f]{3})$/i)){if(n)throw new i.default("MultipleBBoxProperty","%1 specified twice in %2","Background",t);n=p}else if(p.match(/^[-a-z]+:/i)){if(s)throw new i.default("MultipleBBoxProperty","%1 specified twice in %2","Style",t);s=o(p)}else if(""!==p)throw new i.default("InvalidBBoxProperty",'"%1" doesn\'t look like a color, a padding dimension, or a style',p)}r&&(c=e.create("node","mpadded",[c],r)),(n||s)&&(r={},n&&Object.assign(r,{mathbackground:n}),s&&Object.assign(r,{style:s}),c=e.create("node","mstyle",[c],r)),e.Push(c)};var o=function(e){return e},a=function(e){return e};new n.CommandMap("bbox",{bbox:"BBox"},e.BboxMethods),e.BboxConfiguration=r.Configuration.create("bbox",{handler:{macro:["bbox"]}})}(BboxConfiguration)),BboxConfiguration}var BraketConfiguration={},BraketItems={},hasRequiredBraketItems;function requireBraketItems(){if(hasRequiredBraketItems)return BraketItems;hasRequiredBraketItems=1;var e=BraketItems&&BraketItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=BraketItems&&BraketItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BraketItems,"__esModule",{value:!0}),BraketItems.BraketItem=void 0;var r=requireStackItem(),n=requireMmlNode(),i=t(requireParseUtil()),o=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),Object.defineProperty(o.prototype,"kind",{get:function(){return"braket"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.checkItem=function(e){return e.isKind("close")?[[this.factory.create("mml",this.toMml())],!0]:e.isKind("mml")?(this.Push(e.toMml()),this.getProperty("single")?[[this.toMml()],!0]:r.BaseItem.fail):t.prototype.checkItem.call(this,e)},o.prototype.toMml=function(){var e=t.prototype.toMml.call(this),r=this.getProperty("open"),o=this.getProperty("close");if(this.getProperty("stretchy"))return i.default.fenced(this.factory.configuration,r,e,o);var a={fence:!0,stretchy:!1,symmetric:!0,texClass:n.TEXCLASS.OPEN},s=this.create("token","mo",a,r);a.texClass=n.TEXCLASS.CLOSE;var l=this.create("token","mo",a,o);return this.create("node","mrow",[s,e,l],{open:r,close:o,texClass:n.TEXCLASS.INNER})},o}(r.BaseItem);return BraketItems.BraketItem=o,BraketItems}var BraketMappings={},BraketMethods={},hasRequiredBraketMethods,hasRequiredBraketMappings,hasRequiredBraketConfiguration;function requireBraketMethods(){if(hasRequiredBraketMethods)return BraketMethods;hasRequiredBraketMethods=1;var e=BraketMethods&&BraketMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BraketMethods,"__esModule",{value:!0});var t=e(requireBaseMethods()),r=requireMmlNode(),n=e(requireTexError()),i={};return i.Macro=t.default.Macro,i.Braket=function(e,t,r,i,o,a){var s=e.GetNext();if(""===s)throw new n.default("MissingArgFor","Missing argument for %1",e.currentCS);var l=!0;"{"===s&&(e.i++,l=!1),e.Push(e.itemFactory.create("braket").setProperties({barmax:a,barcount:0,open:r,close:i,stretchy:o,single:l}))},i.Bar=function(e,t){var n="|"===t?"|":"",i=e.stack.Top();if("braket"!==i.kind||i.getProperty("barcount")>=i.getProperty("barmax")){var o=e.create("token","mo",{texClass:r.TEXCLASS.ORD,stretchy:!1},n);e.Push(o)}else{if("|"===n&&"|"===e.GetNext()&&(e.i++,n=""),i.getProperty("stretchy")){var a=e.create("node","TeXAtom",[],{texClass:r.TEXCLASS.CLOSE});e.Push(a),i.setProperty("barcount",i.getProperty("barcount")+1),a=e.create("token","mo",{stretchy:!0,braketbar:!0},n),e.Push(a),a=e.create("node","TeXAtom",[],{texClass:r.TEXCLASS.OPEN}),e.Push(a)}else{var s=e.create("token","mo",{stretchy:!1,braketbar:!0},n);e.Push(s)}}},BraketMethods.default=i,BraketMethods}function requireBraketMappings(){if(hasRequiredBraketMappings)return BraketMappings;hasRequiredBraketMappings=1;var e=BraketMappings&&BraketMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BraketMappings,"__esModule",{value:!0});var t=requireSymbolMap(),r=e(requireBraketMethods());return new t.CommandMap("Braket-macros",{bra:["Macro","{\\langle {#1} \\vert}",1],ket:["Macro","{\\vert {#1} \\rangle}",1],braket:["Braket","","",!1,1/0],set:["Braket","{","}",!1,1],Bra:["Macro","{\\left\\langle {#1} \\right\\vert}",1],Ket:["Macro","{\\left\\vert {#1} \\right\\rangle}",1],Braket:["Braket","","",!0,1/0],Set:["Braket","{","}",!0,1],ketbra:["Macro","{\\vert {#1} \\rangle\\langle {#2} \\vert}",2],Ketbra:["Macro","{\\left\\vert {#1} \\right\\rangle\\left\\langle {#2} \\right\\vert}",2],"|":"Bar"},r.default),new t.MacroMap("Braket-characters",{"|":"Bar"},r.default),BraketMappings}function requireBraketConfiguration(){if(hasRequiredBraketConfiguration)return BraketConfiguration;var e;hasRequiredBraketConfiguration=1,Object.defineProperty(BraketConfiguration,"__esModule",{value:!0}),BraketConfiguration.BraketConfiguration=void 0;var t=requireConfiguration(),r=requireBraketItems();return requireBraketMappings(),BraketConfiguration.BraketConfiguration=t.Configuration.create("braket",{handler:{character:["Braket-characters"],macro:["Braket-macros"]},items:(e={},e[r.BraketItem.prototype.kind]=r.BraketItem,e)}),BraketConfiguration}var BussproofsConfiguration={},BussproofsItems={},BussproofsUtil={},hasRequiredBussproofsUtil,hasRequiredBussproofsItems;function requireBussproofsUtil(){return hasRequiredBussproofsUtil||(hasRequiredBussproofsUtil=1,function(e){var t,r=BussproofsUtil&&BussproofsUtil.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=BussproofsUtil&&BussproofsUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=BussproofsUtil&&BussproofsUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.clearDocument=e.saveDocument=e.makeBsprAttributes=e.removeProperty=e.getProperty=e.setProperty=e.balanceRules=void 0;var o=i(requireNodeUtil()),a=i(requireParseUtil()),s=null,l=null,c=function(e){return l.root=e,s.outputJax.getBBox(l,s).w},u=function(e){for(var t=0;e&&!o.default.isType(e,"mtable");){if(o.default.isType(e,"text"))return null;o.default.isType(e,"mrow")?(e=e.childNodes[0],t=0):(e=e.parent.childNodes[t],t++)}return e},d=function(e,t){return e.childNodes["up"===t?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]},h=function(e,t){return e.childNodes[t].childNodes[0].childNodes[0]},p=function(e){return h(e,0)},f=function(e){return h(e,e.childNodes.length-1)},m=function(e,t){return e.childNodes["up"===t?0:1].childNodes[0].childNodes[0].childNodes[0]},g=function(e){for(;e&&!o.default.isType(e,"mtd");)e=e.parent;return e},y=function(e){return e.parent.childNodes[e.parent.childNodes.indexOf(e)+1]},b=function(t){for(;t&&null==(0,e.getProperty)(t,"inference");)t=t.parent;return t},v=function(e,t,r){void 0===r&&(r=!1);var n=0;if(e===t)return n;if(e!==t.parent){var i=e.childNodes,a=r?i.length-1:0;o.default.isType(i[a],"mspace")&&(n+=c(i[a])),e=t.parent}if(e===t)return n;var s=e.childNodes,l=r?s.length-1:0;return s[l]!==t&&(n+=c(s[l])),n},x=function(t,r){void 0===r&&(r=!1);var n=u(t),i=m(n,(0,e.getProperty)(n,"inferenceRule"));return v(t,n,r)+(c(n)-c(i))/2},$=function(t,r,n,i){if(void 0===i&&(i=!1),(0,e.getProperty)(r,"inferenceRule")||(0,e.getProperty)(r,"labelledRule")){var s=t.nodeFactory.create("node","mrow");r.parent.replaceChild(s,r),s.setChildren([r]),S(r,s),r=s}var l=i?r.childNodes.length-1:0,c=r.childNodes[l];o.default.isType(c,"mspace")?o.default.setAttribute(c,"width",a.default.Em(a.default.dimen2em(o.default.getAttribute(c,"width"))+n)):(c=t.nodeFactory.create("node","mspace",[],{width:a.default.Em(n)}),i?r.appendChild(c):(c.parent=r,r.childNodes.unshift(c)))},S=function(t,r){["inference","proof","maxAdjust","labelledRule"].forEach(function(n){var i=(0,e.getProperty)(t,n);null!=i&&((0,e.setProperty)(r,n,i),(0,e.removeProperty)(t,n))})},E=function(t,r,n,i,o){var s=t.nodeFactory.create("node","mspace",[],{width:a.default.Em(o)});if("left"===i){var l=r.childNodes[n].childNodes[0];s.parent=l,l.childNodes.unshift(s)}else r.childNodes[n].appendChild(s);(0,e.setProperty)(r.parent,"sequentAdjust_"+i,o)},w=function(t,n){for(var i=n.pop();n.length;){var o=n.pop(),a=r(_(i,o),2),s=a[0],l=a[1];(0,e.getProperty)(i.parent,"axiom")&&(E(t,s<0?i:o,0,"left",Math.abs(s)),E(t,l<0?i:o,2,"right",Math.abs(l))),i=o}},_=function(e,t){var r=c(e.childNodes[2]),n=c(t.childNodes[2]);return[c(e.childNodes[0])-c(t.childNodes[0]),r-n]};e.balanceRules=function(t){var r,i;l=new t.document.options.MathItem("",null,t.math.display);var o=t.data;!function(t){var r=t.nodeLists.sequent;if(r)for(var n=r.length-1,i=void 0;i=r[n];n--)if((0,e.getProperty)(i,"sequentProcessed"))(0,e.removeProperty)(i,"sequentProcessed");else{var o=[],a=b(i);if(1===(0,e.getProperty)(a,"inference")){for(o.push(i);1===(0,e.getProperty)(a,"inference");){a=u(a);var s=p(d(a,(0,e.getProperty)(a,"inferenceRule"))),l=(0,e.getProperty)(s,"inferenceRule")?m(s,(0,e.getProperty)(s,"inferenceRule")):s;(0,e.getProperty)(l,"sequent")&&(i=l.childNodes[0],o.push(i),(0,e.setProperty)(i,"sequentProcessed",!0)),a=s}w(t,o)}}}(o);var a=o.nodeLists.inference||[];try{for(var s=n(a),c=s.next();!c.done;c=s.next()){var h=c.value,S=(0,e.getProperty)(h,"proof"),E=u(h),_=d(E,(0,e.getProperty)(E,"inferenceRule")),M=p(_);if((0,e.getProperty)(M,"inference")){var C=x(M);if(C){$(o,M,-C);var T=v(h,E,!1);$(o,h,C-T)}}var R=f(_);if(null!=(0,e.getProperty)(R,"inference")){var O=x(R,!0);$(o,R,-O,!0);var k=v(h,E,!0),A=(0,e.getProperty)(h,"maxAdjust");null!=A&&(O=Math.max(O,A));var N=void 0;if(!S&&(N=g(h))){var I=y(N);if(I){var L=o.nodeFactory.create("node","mspace",[],{width:O-k+"em"});I.appendChild(L),h.removeProperty("maxAdjust")}else{var P=b(N);P&&(O=(0,e.getProperty)(P,"maxAdjust")?Math.max((0,e.getProperty)(P,"maxAdjust"),O):O,(0,e.setProperty)(P,"maxAdjust",O))}}else $(o,(0,e.getProperty)(h,"proof")?h:h.parent,O-k,!0)}}}catch(B){r={error:B}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}};var M="bspr_",C=((t={})[M+"maxAdjust"]=!0,t);e.setProperty=function(e,t,r){o.default.setProperty(e,M+t,r)};e.getProperty=function(e,t){return o.default.getProperty(e,M+t)};e.removeProperty=function(e,t){e.removeProperty(M+t)};e.makeBsprAttributes=function(e){e.data.root.walkTree(function(e,t){var r=[];e.getPropertyNames().forEach(function(t){!C[t]&&t.match(RegExp("^"+M))&&r.push(t+":"+e.getProperty(t))}),r.length&&o.default.setAttribute(e,"semantics",r.join(";"))})};e.saveDocument=function(e){if(!("getBBox"in(s=e.document).outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")};e.clearDocument=function(e){s=null}}(BussproofsUtil)),BussproofsUtil}function requireBussproofsItems(){if(hasRequiredBussproofsItems)return BussproofsItems;hasRequiredBussproofsItems=1;var e=BussproofsItems&&BussproofsItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=BussproofsItems&&BussproofsItems.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=BussproofsItems&&BussproofsItems.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=BussproofsItems&&BussproofsItems.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=BussproofsItems&&BussproofsItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BussproofsItems,"__esModule",{value:!0}),BussproofsItems.ProofTreeItem=void 0;var o=i(requireTexError()),a=requireStackItem(),s=i(requireStack()),l=n(requireBussproofsUtil()),c=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftLabel=null,e.rigthLabel=null,e.innerStack=new s.default(e.factory,{},!0),e}return e(r,t),Object.defineProperty(r.prototype,"kind",{get:function(){return"proofTree"},enumerable:!1,configurable:!0}),r.prototype.checkItem=function(e){if(e.isKind("end")&&"prooftree"===e.getName()){var t=this.toMml();return l.setProperty(t,"proof",!0),[[this.factory.create("mml",t),e],!0]}if(e.isKind("stop"))throw new o.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(e),a.BaseItem.fail},r.prototype.toMml=function(){var e=t.prototype.toMml.call(this),r=this.innerStack.Top();if(r.isKind("start")&&!r.Size())return e;this.innerStack.Push(this.factory.create("stop"));var n=this.innerStack.Top().toMml();return this.create("node","mrow",[n,e],{})},r}(a.BaseItem);return BussproofsItems.ProofTreeItem=c,BussproofsItems}var BussproofsMappings={},BussproofsMethods={},hasRequiredBussproofsMethods,hasRequiredBussproofsMappings,hasRequiredBussproofsConfiguration;function requireBussproofsMethods(){if(hasRequiredBussproofsMethods)return BussproofsMethods;hasRequiredBussproofsMethods=1;var e=BussproofsMethods&&BussproofsMethods.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=BussproofsMethods&&BussproofsMethods.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=BussproofsMethods&&BussproofsMethods.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=BussproofsMethods&&BussproofsMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=BussproofsMethods&&BussproofsMethods.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=BussproofsMethods&&BussproofsMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BussproofsMethods,"__esModule",{value:!0});var a=o(requireTexError()),s=o(requireTexParser()),l=o(requireParseUtil()),c=r(requireBussproofsUtil()),u={Prooftree:function(e,t){return e.Push(t),e.itemFactory.create("proofTree").setProperties({name:t.getName(),line:"solid",currentLine:"solid",rootAtTop:!1})},Axiom:function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var n=d(e,e.GetArgument(t));c.setProperty(n,"axiom",!0),r.Push(n)}},d=function(e,t){var r=l.default.internalMath(e,l.default.trimSpaces(t),0);if(!r[0].childNodes[0].childNodes.length)return e.create("node","mrow",[]);var o=e.create("node","mspace",[],{width:".5ex"}),a=e.create("node","mspace",[],{width:".5ex"});return e.create("node","mrow",i(i([o],n(r),!1),[a],!1))};function h(e,t,r,n,i,o,a){var s,l,u,d,h=e.create("node","mtr",[e.create("node","mtd",[t],{})],{}),p=e.create("node","mtr",[e.create("node","mtd",r,{})],{}),f=e.create("node","mtable",a?[p,h]:[h,p],{align:"top 2",rowlines:o,framespacing:"0 0"});if(c.setProperty(f,"inferenceRule",a?"up":"down"),n&&(s=e.create("node","mpadded",[n],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),c.setProperty(s,"prooflabel","left")),i&&(l=e.create("node","mpadded",[i],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),c.setProperty(l,"prooflabel","right")),n&&i)u=[s,f,l],d="both";else if(n)u=[s,f],d="left";else{if(!i)return f;u=[f,l],d="right"}return f=e.create("node","mrow",u),c.setProperty(f,"labelledRule",d),f}function p(e,t){if("$"!==e.GetNext())throw new a.default("IllegalUseOfCommand","Use of %1 does not match it's definition.",t);e.i++;var r=e.GetUpTo(t,"$");if(-1===r.indexOf("\\fCenter"))throw new a.default("IllegalUseOfCommand","Missing \\fCenter in %1.",t);var i=n(r.split("\\fCenter"),2),o=i[0],l=i[1],u=new s.default(o,e.stack.env,e.configuration).mml(),d=new s.default(l,e.stack.env,e.configuration).mml(),h=new s.default("\\fCenter",e.stack.env,e.configuration).mml(),p=e.create("node","mtd",[u],{}),f=e.create("node","mtd",[h],{}),m=e.create("node","mtd",[d],{}),g=e.create("node","mtr",[p,f,m],{}),y=e.create("node","mtable",[g],{columnspacing:".5ex",columnalign:"center 2"});return c.setProperty(y,"sequent",!0),e.configuration.addNode("sequent",g),y}return u.Inference=function(e,t,r){var n=e.stack.Top();if("proofTree"!==n.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(n.Size()<r)throw new a.default("BadProofTree","Proof tree badly specified.");var i=n.getProperty("rootAtTop"),o=1!==r||n.Peek()[0].childNodes.length?r:0,s=[];do{s.length&&s.unshift(e.create("node","mtd",[],{})),s.unshift(e.create("node","mtd",[n.Pop()],{rowalign:i?"top":"bottom"})),r--}while(r>0);var l=e.create("node","mtr",s,{}),u=e.create("node","mtable",[l],{framespacing:"0 0"}),p=d(e,e.GetArgument(t)),f=n.getProperty("currentLine");f!==n.getProperty("line")&&n.setProperty("currentLine",n.getProperty("line"));var m=h(e,u,[p],n.getProperty("left"),n.getProperty("right"),f,i);n.setProperty("left",null),n.setProperty("right",null),c.setProperty(m,"inference",o),e.configuration.addNode("inference",m),n.Push(m)},u.Label=function(e,t,r){var n=e.stack.Top();if("proofTree"!==n.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var i=l.default.internalMath(e,e.GetArgument(t),0),o=i.length>1?e.create("node","mrow",i,{}):i[0];n.setProperty(r,o)},u.SetLine=function(e,t,r,n){var i=e.stack.Top();if("proofTree"!==i.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");i.setProperty("currentLine",r),n&&i.setProperty("line",r)},u.RootAtTop=function(e,t,r){var n=e.stack.Top();if("proofTree"!==n.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");n.setProperty("rootAtTop",r)},u.AxiomF=function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var n=p(e,t);c.setProperty(n,"axiom",!0),r.Push(n)},u.FCenter=function(e,t){},u.InferenceF=function(e,t,r){var n=e.stack.Top();if("proofTree"!==n.kind)throw new a.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(n.Size()<r)throw new a.default("BadProofTree","Proof tree badly specified.");var i=n.getProperty("rootAtTop"),o=1!==r||n.Peek()[0].childNodes.length?r:0,s=[];do{s.length&&s.unshift(e.create("node","mtd",[],{})),s.unshift(e.create("node","mtd",[n.Pop()],{rowalign:i?"top":"bottom"})),r--}while(r>0);var l=e.create("node","mtr",s,{}),u=e.create("node","mtable",[l],{framespacing:"0 0"}),d=p(e,t),f=n.getProperty("currentLine");f!==n.getProperty("line")&&n.setProperty("currentLine",n.getProperty("line"));var m=h(e,u,[d],n.getProperty("left"),n.getProperty("right"),f,i);n.setProperty("left",null),n.setProperty("right",null),c.setProperty(m,"inference",o),e.configuration.addNode("inference",m),n.Push(m)},BussproofsMethods.default=u,BussproofsMethods}function requireBussproofsMappings(){if(hasRequiredBussproofsMappings)return BussproofsMappings;hasRequiredBussproofsMappings=1;var e=BussproofsMappings&&BussproofsMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BussproofsMappings,"__esModule",{value:!0});var t=e(requireBussproofsMethods()),r=e(requireParseMethods()),n=requireSymbolMap();return new n.CommandMap("Bussproofs-macros",{AxiomC:"Axiom",UnaryInfC:["Inference",1],BinaryInfC:["Inference",2],TrinaryInfC:["Inference",3],QuaternaryInfC:["Inference",4],QuinaryInfC:["Inference",5],RightLabel:["Label","right"],LeftLabel:["Label","left"],AXC:"Axiom",UIC:["Inference",1],BIC:["Inference",2],TIC:["Inference",3],RL:["Label","right"],LL:["Label","left"],noLine:["SetLine","none",!1],singleLine:["SetLine","solid",!1],solidLine:["SetLine","solid",!1],dashedLine:["SetLine","dashed",!1],alwaysNoLine:["SetLine","none",!0],alwaysSingleLine:["SetLine","solid",!0],alwaysSolidLine:["SetLine","solid",!0],alwaysDashedLine:["SetLine","dashed",!0],rootAtTop:["RootAtTop",!0],alwaysRootAtTop:["RootAtTop",!0],rootAtBottom:["RootAtTop",!1],alwaysRootAtBottom:["RootAtTop",!1],fCenter:"FCenter",Axiom:"AxiomF",UnaryInf:["InferenceF",1],BinaryInf:["InferenceF",2],TrinaryInf:["InferenceF",3],QuaternaryInf:["InferenceF",4],QuinaryInf:["InferenceF",5]},t.default),new n.EnvironmentMap("Bussproofs-environments",r.default.environment,{prooftree:["Prooftree",null,!1]},t.default),BussproofsMappings}function requireBussproofsConfiguration(){if(hasRequiredBussproofsConfiguration)return BussproofsConfiguration;var e;hasRequiredBussproofsConfiguration=1,Object.defineProperty(BussproofsConfiguration,"__esModule",{value:!0}),BussproofsConfiguration.BussproofsConfiguration=void 0;var t=requireConfiguration(),r=requireBussproofsItems(),n=requireBussproofsUtil();return requireBussproofsMappings(),BussproofsConfiguration.BussproofsConfiguration=t.Configuration.create("bussproofs",{handler:{macro:["Bussproofs-macros"],environment:["Bussproofs-environments"]},items:(e={},e[r.ProofTreeItem.prototype.kind]=r.ProofTreeItem,e),preprocessors:[[n.saveDocument,1]],postprocessors:[[n.clearDocument,3],[n.makeBsprAttributes,2],[n.balanceRules,1]]}),BussproofsConfiguration}var CasesConfiguration={},EmpheqUtil={},hasRequiredEmpheqUtil,hasRequiredCasesConfiguration;function requireEmpheqUtil(){return hasRequiredEmpheqUtil||(hasRequiredEmpheqUtil=1,function(e){var t=EmpheqUtil&&EmpheqUtil.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=EmpheqUtil&&EmpheqUtil.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},n=EmpheqUtil&&EmpheqUtil.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=EmpheqUtil&&EmpheqUtil.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmpheqUtil=void 0;var o=i(requireParseUtil()),a=i(requireTexParser());e.EmpheqUtil={environment:function(e,n,i,o){var a=o[0],s=e.itemFactory.create(a+"-begin").setProperties({name:n,end:a});e.Push(i.apply(void 0,r([e,s],t(o.slice(1)),!1)))},splitOptions:function(e,t){return void 0===t&&(t=null),o.default.keyvalOptions(e,t,!0)},columnCount:function(e){var t,r,i=0;try{for(var o=n(e.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.childNodes.length-(s.isKind("mlabeledtr")?1:0);l>i&&(i=l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},cellBlock:function(e,t,r,i){var o,s,l=r.create("node","mpadded",[],{height:0,depth:0,voffset:"-1height"}),c=new a.default(e,r.stack.env,r.configuration),u=c.mml();i&&c.configuration.tags.label&&(c.configuration.tags.currentTag.env=i,c.configuration.tags.getTag(!0));try{for(var d=n(u.isInferred?u.childNodes:[u]),h=d.next();!h.done;h=d.next()){var p=h.value;l.appendChild(p)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return l.appendChild(r.create("node","mphantom",[r.create("node","mpadded",[t],{width:0})])),l},topRowTable:function(e,t){var r=o.default.copyNode(e,t);return r.setChildren(r.childNodes.slice(0,1)),r.attributes.set("align","baseline 1"),e.factory.create("mphantom",{},[t.create("node","mpadded",[r],{width:0})])},rowspanCell:function(e,t,r,n,i){e.appendChild(n.create("node","mpadded",[this.cellBlock(t,o.default.copyNode(r,n),n,i),this.topRowTable(r,n)],{height:0,depth:0,voffset:"height"}))},left:function(e,t,r,i,o){var a,s,l;void 0===o&&(o=""),e.attributes.set("columnalign","right "+(e.attributes.get("columnalign")||"")),e.attributes.set("columnspacing","0em "+(e.attributes.get("columnspacing")||""));try{for(var c=n(e.childNodes.slice(0).reverse()),u=c.next();!u.done;u=c.next()){var d=u.value;l=i.create("node","mtd"),d.childNodes.unshift(l),l.parent=d,d.isKind("mlabeledtr")&&(d.childNodes[0]=d.childNodes[1],d.childNodes[1]=l)}}catch(h){a={error:h}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}this.rowspanCell(l,r,t,i,o)},right:function(t,r,n,i,o){void 0===o&&(o=""),0===t.childNodes.length&&t.appendChild(i.create("node","mtr"));for(var a=e.EmpheqUtil.columnCount(t),s=t.childNodes[0];s.childNodes.length<a;)s.appendChild(i.create("node","mtd"));var l=s.appendChild(i.create("node","mtd"));e.EmpheqUtil.rowspanCell(l,n,r,i,o),t.attributes.set("columnalign",(t.attributes.get("columnalign")||"").split(/ /).slice(0,a).join(" ")+" left"),t.attributes.set("columnspacing",(t.attributes.get("columnspacing")||"").split(/ /).slice(0,a-1).join(" ")+" 0em")},adjustTable:function(e,t){var r=e.getProperty("left"),n=e.getProperty("right");if(r||n){var i=e.Last,a=o.default.copyNode(i,t);r&&this.left(i,a,r,t),n&&this.right(i,a,n,t)}},allowEnv:{equation:!0,align:!0,gather:!0,flalign:!0,alignat:!0,multline:!0},checkEnv:function(e){return this.allowEnv.hasOwnProperty(e.replace(/\*$/,""))||!1}}}(EmpheqUtil)),EmpheqUtil}function requireCasesConfiguration(){return hasRequiredCasesConfiguration||(hasRequiredCasesConfiguration=1,function(e){var t,r=CasesConfiguration&&CasesConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=CasesConfiguration&&CasesConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.CasesConfiguration=e.CasesMethods=e.CasesTags=e.CasesBeginItem=void 0;var i=requireConfiguration(),o=requireSymbolMap(),a=n(requireParseUtil()),s=n(requireBaseMethods()),l=n(requireTexError()),c=requireBaseItems(),u=requireAmsConfiguration(),d=requireEmpheqUtil(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"kind",{get:function(){return"cases-begin"},enumerable:!1,configurable:!0}),t.prototype.checkItem=function(t){return t.isKind("end")&&t.getName()===this.getName()&&this.getProperty("end")?(this.setProperty("end",!1),[[],!0]):e.prototype.checkItem.call(this,t)},t}(c.BeginItem);e.CasesBeginItem=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subcounter=0,t}return r(t,e),t.prototype.start=function(t,r,n){this.subcounter=0,e.prototype.start.call(this,t,r,n)},t.prototype.autoTag=function(){null==this.currentTag.tag&&("subnumcases"===this.currentTag.env?(0===this.subcounter&&this.counter++,this.subcounter++,this.tag(this.formatNumber(this.counter,this.subcounter),!1)):(0!==this.subcounter&&"numcases-left"===this.currentTag.env||this.counter++,this.tag(this.formatNumber(this.counter),!1)))},t.prototype.formatNumber=function(e,t){return void 0===t&&(t=null),e.toString()+(null===t?"":String.fromCharCode(96+t))},t}(u.AmsTags);e.CasesTags=p,e.CasesMethods={NumCases:function(e,t){if(e.stack.env.closing===t.getName()){delete e.stack.env.closing,e.Push(e.itemFactory.create("end").setProperty("name",t.getName()));var r=e.stack.Top(),n=r.Last,i=a.default.copyNode(n,e),o=r.getProperty("left");return d.EmpheqUtil.left(n,i,o+"\\empheqlbrace\\,",e,"numcases-left"),e.Push(e.itemFactory.create("end").setProperty("name",t.getName())),null}o=e.GetArgument("\\begin{"+t.getName()+"}");t.setProperty("left",o);var l=s.default.EqnArray(e,t,!0,!0,"ll");return l.arraydef.displaystyle=!1,l.arraydef.rowspacing=".2em",l.setProperty("numCases",!0),e.Push(t),l},Entry:function(e,t){if(!e.stack.Top().getProperty("numCases"))return s.default.Entry(e,t);e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}));for(var r=e.string,n=0,i=e.i,o=r.length;i<o;){var c=r.charAt(i);if("{"===c)n++,i++;else if("}"===c){if(0===n)break;n--,i++}else{if("&"===c&&0===n)throw new l.default("ExtraCasesAlignTab","Extra alignment tab in text for numcase environment");if("\\"===c&&0===n){var u=(r.slice(i+1).match(/^[a-z]+|./i)||[])[0];if("\\"===u||"cr"===u||"end"===u||"label"===u)break;i+=u.length}else i++}}var d=r.substr(e.i,i-e.i).replace(/^\s*/,"");e.PushAll(a.default.internalMath(e,d,0)),e.i=i}},new o.EnvironmentMap("cases-env",d.EmpheqUtil.environment,{numcases:["NumCases","cases"],subnumcases:["NumCases","cases"]},e.CasesMethods),new o.MacroMap("cases-macros",{"&":"Entry"},e.CasesMethods),e.CasesConfiguration=i.Configuration.create("cases",{handler:{environment:["cases-env"],character:["cases-macros"]},items:(t={},t[h.prototype.kind]=h,t),tags:{cases:p}})}(CasesConfiguration)),CasesConfiguration}var CenternotConfiguration={},hasRequiredCenternotConfiguration;function requireCenternotConfiguration(){if(hasRequiredCenternotConfiguration)return CenternotConfiguration;hasRequiredCenternotConfiguration=1;var e=CenternotConfiguration&&CenternotConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=CenternotConfiguration&&CenternotConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CenternotConfiguration,"__esModule",{value:!0}),CenternotConfiguration.CenternotConfiguration=CenternotConfiguration.filterCenterOver=void 0;var r=requireConfiguration(),n=t(requireTexParser()),i=t(requireNodeUtil()),o=requireSymbolMap(),a=t(requireBaseMethods());function s(t){var r,n,o=t.data;try{for(var a=e(o.getList("centerOver")),s=a.next();!s.done;s=a.next()){var l=s.value,c=i.default.getTexClass(l.childNodes[0].childNodes[0]);null!==c&&i.default.setProperties(l.parent.parent.parent.parent.parent.parent,{texClass:c})}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}return new o.CommandMap("centernot",{centerOver:"CenterOver",centernot:["Macro","\\centerOver{#1}{{}}",1]},{CenterOver:function(e,t){var r="{"+e.GetArgument(t)+"}",i=e.ParseArg(t),o=new n.default(r,e.stack.env,e.configuration).mml(),a=e.create("node","TeXAtom",[new n.default(r,e.stack.env,e.configuration).mml(),e.create("node","mpadded",[e.create("node","mpadded",[i],{width:0,lspace:"-.5width"}),e.create("node","mphantom",[o])],{width:0,lspace:"-.5width"})]);e.configuration.addNode("centerOver",o),e.Push(a)},Macro:a.default.Macro}),CenternotConfiguration.filterCenterOver=s,CenternotConfiguration.CenternotConfiguration=r.Configuration.create("centernot",{handler:{macro:["centernot"]},postprocessors:[s]}),CenternotConfiguration}var ColorV2Configuration={},hasRequiredColorV2Configuration;function requireColorV2Configuration(){return hasRequiredColorV2Configuration||(hasRequiredColorV2Configuration=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConfiguration=e.ColorV2Methods=void 0;var t=requireSymbolMap(),r=requireConfiguration();e.ColorV2Methods={Color:function(e,t){var r=e.GetArgument(t),n=e.stack.env.color;e.stack.env.color=r;var i=e.ParseArg(t);n?e.stack.env.color=n:delete e.stack.env.color;var o=e.create("node","mstyle",[i],{mathcolor:r});e.Push(o)}},new t.CommandMap("colorv2",{color:"Color"},e.ColorV2Methods),e.ColorConfiguration=r.Configuration.create("colorv2",{handler:{macro:["colorv2"]}})}(ColorV2Configuration)),ColorV2Configuration}var ColortblConfiguration={},hasRequiredColortblConfiguration;function requireColortblConfiguration(){if(hasRequiredColortblConfiguration)return ColortblConfiguration;hasRequiredColortblConfiguration=1;var e=ColortblConfiguration&&ColortblConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=ColortblConfiguration&&ColortblConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ColortblConfiguration,"__esModule",{value:!0}),ColortblConfiguration.ColortblConfiguration=ColortblConfiguration.ColorArrayItem=void 0;var r=requireBaseItems(),n=requireConfiguration(),i=requireSymbolMap(),o=t(requireTexError()),a=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.color={cell:"",row:"",col:[]},e.hasColor=!1,e}return e(r,t),r.prototype.EndEntry=function(){t.prototype.EndEntry.call(this);var e=this.row[this.row.length-1],r=this.color.cell||this.color.row||this.color.col[this.row.length-1];r&&(e.attributes.set("mathbackground",r),this.color.cell="",this.hasColor=!0)},r.prototype.EndRow=function(){t.prototype.EndRow.call(this),this.color.row=""},r.prototype.createMml=function(){var e=t.prototype.createMml.call(this),r=e.isKind("mrow")?e.childNodes[1]:e;return r.isKind("menclose")&&(r=r.childNodes[0].childNodes[0]),this.hasColor&&"none"===r.attributes.get("frame")&&r.attributes.set("frame",""),e},r}(r.ArrayItem);ColortblConfiguration.ColorArrayItem=a,new i.CommandMap("colortbl",{cellcolor:["TableColor","cell"],rowcolor:["TableColor","row"],columncolor:["TableColor","col"]},{TableColor:function(e,t,r){var n=e.configuration.packageData.get("color").model,i=e.GetBrackets(t,""),s=n.getColor(i,e.GetArgument(t)),l=e.stack.Top();if(!(l instanceof a))throw new o.default("UnsupportedTableColor","Unsupported use of %1",e.currentCS);if("col"===r){if(l.table.length)throw new o.default("ColumnColorNotTop","%1 must be in the top row",t);l.color.col[l.row.length]=s,e.GetBrackets(t,"")&&e.GetBrackets(t,"")}else if(l.color[r]=s,"row"===r&&(l.Size()||l.row.length))throw new o.default("RowColorNotFirst","%1 must be at the beginning of a row",t)}});return ColortblConfiguration.ColortblConfiguration=n.Configuration.create("colortbl",{handler:{macro:["colortbl"]},items:{array:a},priority:10,config:[function(e,t){t.parseOptions.packageData.has("color")||n.ConfigurationHandler.get("color").config(e,t)},10]}),ColortblConfiguration}var EmpheqConfiguration={},hasRequiredEmpheqConfiguration;function requireEmpheqConfiguration(){return hasRequiredEmpheqConfiguration||(hasRequiredEmpheqConfiguration=1,function(e){var t,r=EmpheqConfiguration&&EmpheqConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=EmpheqConfiguration&&EmpheqConfiguration.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=EmpheqConfiguration&&EmpheqConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmpheqConfiguration=e.EmpheqMethods=e.EmpheqBeginItem=void 0;var o=requireConfiguration(),a=requireSymbolMap(),s=i(requireParseUtil()),l=i(requireTexError()),c=requireBaseItems(),u=requireEmpheqUtil(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"kind",{get:function(){return"empheq-begin"},enumerable:!1,configurable:!0}),t.prototype.checkItem=function(t){return t.isKind("end")&&t.getName()===this.getName()&&this.setProperty("end",!1),e.prototype.checkItem.call(this,t)},t}(c.BeginItem);e.EmpheqBeginItem=d,e.EmpheqMethods={Empheq:function(e,t){if(e.stack.env.closing===t.getName()){delete e.stack.env.closing,e.Push(e.itemFactory.create("end").setProperty("name",e.stack.global.empheq)),e.stack.global.empheq="";var r=e.stack.Top();u.EmpheqUtil.adjustTable(r,e),e.Push(e.itemFactory.create("end").setProperty("name","empheq"))}else{s.default.checkEqnEnv(e),delete e.stack.global.eqnenv;var i=e.GetBrackets("\\begin{"+t.getName()+"}")||"",o=n((e.GetArgument("\\begin{"+t.getName()+"}")||"").split(/=/),2),a=o[0],c=o[1];if(!u.EmpheqUtil.checkEnv(a))throw new l.default("UnknownEnv",'Unknown environment "%1"',a);i&&t.setProperties(u.EmpheqUtil.splitOptions(i,{left:1,right:1})),e.stack.global.empheq=a,e.string="\\begin{"+a+"}"+(c?"{"+c+"}":"")+e.string.slice(e.i),e.i=0,e.Push(t)}},EmpheqMO:function(e,t,r){e.Push(e.create("token","mo",{},r))},EmpheqDelim:function(e,t){var r=e.GetDelimiter(t);e.Push(e.create("token","mo",{stretchy:!0,symmetric:!0},r))}},new a.EnvironmentMap("empheq-env",u.EmpheqUtil.environment,{empheq:["Empheq","empheq"]},e.EmpheqMethods),new a.CommandMap("empheq-macros",{empheqlbrace:["EmpheqMO","{"],empheqrbrace:["EmpheqMO","}"],empheqlbrack:["EmpheqMO","["],empheqrbrack:["EmpheqMO","]"],empheqlangle:["EmpheqMO",""],empheqrangle:["EmpheqMO",""],empheqlparen:["EmpheqMO","("],empheqrparen:["EmpheqMO",")"],empheqlvert:["EmpheqMO","|"],empheqrvert:["EmpheqMO","|"],empheqlVert:["EmpheqMO",""],empheqrVert:["EmpheqMO",""],empheqlfloor:["EmpheqMO",""],empheqrfloor:["EmpheqMO",""],empheqlceil:["EmpheqMO",""],empheqrceil:["EmpheqMO",""],empheqbiglbrace:["EmpheqMO","{"],empheqbigrbrace:["EmpheqMO","}"],empheqbiglbrack:["EmpheqMO","["],empheqbigrbrack:["EmpheqMO","]"],empheqbiglangle:["EmpheqMO",""],empheqbigrangle:["EmpheqMO",""],empheqbiglparen:["EmpheqMO","("],empheqbigrparen:["EmpheqMO",")"],empheqbiglvert:["EmpheqMO","|"],empheqbigrvert:["EmpheqMO","|"],empheqbiglVert:["EmpheqMO",""],empheqbigrVert:["EmpheqMO",""],empheqbiglfloor:["EmpheqMO",""],empheqbigrfloor:["EmpheqMO",""],empheqbiglceil:["EmpheqMO",""],empheqbigrceil:["EmpheqMO",""],empheql:"EmpheqDelim",empheqr:"EmpheqDelim",empheqbigl:"EmpheqDelim",empheqbigr:"EmpheqDelim"},e.EmpheqMethods),e.EmpheqConfiguration=o.Configuration.create("empheq",{handler:{macro:["empheq-macros"],environment:["empheq-env"]},items:(t={},t[d.prototype.kind]=d,t)})}(EmpheqConfiguration)),EmpheqConfiguration}var ExtpfeilConfiguration={},NewcommandConfiguration={},NewcommandMappings={},hasRequiredNewcommandMappings,hasRequiredNewcommandConfiguration,hasRequiredExtpfeilConfiguration;function requireNewcommandMappings(){if(hasRequiredNewcommandMappings)return NewcommandMappings;hasRequiredNewcommandMappings=1;var e=NewcommandMappings&&NewcommandMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NewcommandMappings,"__esModule",{value:!0});var t=e(requireNewcommandMethods());return new(requireSymbolMap().CommandMap)("Newcommand-macros",{newcommand:"NewCommand",renewcommand:"NewCommand",newenvironment:"NewEnvironment",renewenvironment:"NewEnvironment",def:"MacroDef",let:"Let"},t.default),NewcommandMappings}function requireNewcommandConfiguration(){if(hasRequiredNewcommandConfiguration)return NewcommandConfiguration;hasRequiredNewcommandConfiguration=1;var e,t=NewcommandConfiguration&&NewcommandConfiguration.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=NewcommandConfiguration&&NewcommandConfiguration.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=NewcommandConfiguration&&NewcommandConfiguration.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=NewcommandConfiguration&&NewcommandConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NewcommandConfiguration,"__esModule",{value:!0}),NewcommandConfiguration.NewcommandConfiguration=void 0;var o=requireConfiguration(),a=requireNewcommandItems(),s=i(requireNewcommandUtil());requireNewcommandMappings();var l=i(requireParseMethods()),c=n(requireSymbolMap());return NewcommandConfiguration.NewcommandConfiguration=o.Configuration.create("newcommand",{handler:{macro:["Newcommand-macros"]},items:(e={},e[a.BeginEnvItem.prototype.kind]=a.BeginEnvItem,e),options:{maxMacros:1e3},init:function(e){new c.DelimiterMap(s.default.NEW_DELIMITER,l.default.delimiter,{}),new c.CommandMap(s.default.NEW_COMMAND,{},{}),new c.EnvironmentMap(s.default.NEW_ENVIRONMENT,l.default.environment,{},{}),e.append(o.Configuration.local({handler:{character:[],delimiter:[s.default.NEW_DELIMITER],macro:[s.default.NEW_DELIMITER,s.default.NEW_COMMAND],environment:[s.default.NEW_ENVIRONMENT]},priority:-1}))}}),NewcommandConfiguration}function requireExtpfeilConfiguration(){return hasRequiredExtpfeilConfiguration||(hasRequiredExtpfeilConfiguration=1,function(e){var t=ExtpfeilConfiguration&&ExtpfeilConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExtpfeilConfiguration=e.ExtpfeilMethods=void 0;var r=requireConfiguration(),n=requireSymbolMap(),i=requireAmsMethods(),o=t(requireNewcommandUtil()),a=requireNewcommandConfiguration(),s=t(requireTexError());e.ExtpfeilMethods={},e.ExtpfeilMethods.xArrow=i.AmsMethods.xArrow,e.ExtpfeilMethods.NewExtArrow=function(t,r){var n=t.GetArgument(r),i=t.GetArgument(r),a=t.GetArgument(r);if(!n.match(/^\\([a-z]+|.)$/i))throw new s.default("NewextarrowArg1","First argument to %1 must be a control sequence name",r);if(!i.match(/^(\d+),(\d+)$/))throw new s.default("NewextarrowArg2","Second argument to %1 must be two integers separated by a comma",r);if(!a.match(/^(\d+|0x[0-9A-F]+)$/i))throw new s.default("NewextarrowArg3","Third argument to %1 must be a unicode character number",r);n=n.substr(1);var l=i.split(",");o.default.addMacro(t,n,e.ExtpfeilMethods.xArrow,[parseInt(a),parseInt(l[0]),parseInt(l[1])])},new n.CommandMap("extpfeil",{xtwoheadrightarrow:["xArrow",8608,12,16],xtwoheadleftarrow:["xArrow",8606,17,13],xmapsto:["xArrow",8614,6,7],xlongequal:["xArrow",61,7,7],xtofrom:["xArrow",8644,12,12],Newextarrow:"NewExtArrow"},e.ExtpfeilMethods);e.ExtpfeilConfiguration=r.Configuration.create("extpfeil",{handler:{macro:["extpfeil"]},init:function(e){a.NewcommandConfiguration.init(e)}})}(ExtpfeilConfiguration)),ExtpfeilConfiguration}var HtmlConfiguration={},HtmlMethods={},hasRequiredHtmlMethods,hasRequiredHtmlConfiguration;function requireHtmlMethods(){if(hasRequiredHtmlMethods)return HtmlMethods;hasRequiredHtmlMethods=1;var e=HtmlMethods&&HtmlMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(HtmlMethods,"__esModule",{value:!0});var t=e(requireNodeUtil()),r={Href:function(e,r){var i=e.GetArgument(r),o=n(e,r);t.default.setAttribute(o,"href",i),e.Push(o)},Class:function(e,r){var i=e.GetArgument(r),o=n(e,r),a=t.default.getAttribute(o,"class");a&&(i=a+" "+i),t.default.setAttribute(o,"class",i),e.Push(o)},Style:function(e,r){var i=e.GetArgument(r),o=n(e,r),a=t.default.getAttribute(o,"style");a&&(";"!==i.charAt(i.length-1)&&(i+=";"),i=a+" "+i),t.default.setAttribute(o,"style",i),e.Push(o)},Id:function(e,r){var i=e.GetArgument(r),o=n(e,r);t.default.setAttribute(o,"id",i),e.Push(o)}},n=function(e,r){var n=e.ParseArg(r);if(!t.default.isInferred(n))return n;var i=t.default.getChildren(n);if(1===i.length)return i[0];var o=e.create("node","mrow");return t.default.copyChildren(n,o),t.default.copyAttributes(n,o),o};return HtmlMethods.default=r,HtmlMethods}function requireHtmlConfiguration(){if(hasRequiredHtmlConfiguration)return HtmlConfiguration;hasRequiredHtmlConfiguration=1;var e=HtmlConfiguration&&HtmlConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(HtmlConfiguration,"__esModule",{value:!0}),HtmlConfiguration.HtmlConfiguration=void 0;var t=requireConfiguration(),r=requireSymbolMap(),n=e(requireHtmlMethods());return new r.CommandMap("html_macros",{href:"Href",class:"Class",style:"Style",cssId:"Id"},n.default),HtmlConfiguration.HtmlConfiguration=t.Configuration.create("html",{handler:{macro:["html_macros"]}}),HtmlConfiguration}var PhysicsConfiguration={},PhysicsItems={},hasRequiredPhysicsItems;function requirePhysicsItems(){if(hasRequiredPhysicsItems)return PhysicsItems;hasRequiredPhysicsItems=1;var e=PhysicsItems&&PhysicsItems.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=PhysicsItems&&PhysicsItems.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PhysicsItems,"__esModule",{value:!0}),PhysicsItems.AutoOpen=void 0;var r=requireStackItem(),n=t(requireParseUtil()),i=t(requireNodeUtil()),o=t(requireTexParser()),a=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.openCount=0,e}return e(a,t),Object.defineProperty(a.prototype,"kind",{get:function(){return"auto open"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.toMml=function(){var e=this.factory.configuration.parser,r=this.getProperty("right");if(this.getProperty("smash")){var a=t.prototype.toMml.call(this),s=e.create("node","mpadded",[a],{height:0,depth:0});this.Clear(),this.Push(e.create("node","TeXAtom",[s]))}r&&this.Push(new o.default(r,e.stack.env,e.configuration).mml());var l=n.default.fenced(this.factory.configuration,this.getProperty("open"),t.prototype.toMml.call(this),this.getProperty("close"),this.getProperty("big"));return i.default.removeProperties(l,"open","close","texClass"),l},a.prototype.checkItem=function(e){if(e.isKind("mml")&&1===e.Size()){var r=e.toMml();r.isKind("mo")&&r.getText()===this.getProperty("open")&&this.openCount++}var n=e.getProperty("autoclose");return n&&n===this.getProperty("close")&&!this.openCount--?this.getProperty("ignore")?(this.Clear(),[[],!0]):[[this.toMml()],!0]:t.prototype.checkItem.call(this,e)},a.errors=Object.assign(Object.create(r.BaseItem.errors),{stop:["ExtraOrMissingDelims","Extra open or missing close delimiter"]}),a}(r.BaseItem);return PhysicsItems.AutoOpen=a,PhysicsItems}var PhysicsMappings={},PhysicsMethods={},hasRequiredPhysicsMethods,hasRequiredPhysicsMappings,hasRequiredPhysicsConfiguration;function requirePhysicsMethods(){if(hasRequiredPhysicsMethods)return PhysicsMethods;hasRequiredPhysicsMethods=1;var e=PhysicsMethods&&PhysicsMethods.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},t=PhysicsMethods&&PhysicsMethods.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PhysicsMethods,"__esModule",{value:!0});var r=t(requireBaseMethods()),n=t(requireTexParser()),i=t(requireTexError()),o=requireMmlNode(),a=t(requireParseUtil()),s=t(requireNodeUtil()),l=requireNodeFactory(),c={},u={"(":")","[":"]","{":"}","|":"|"},d=/^(b|B)i(g{1,2})$/;c.Quantity=function(e,t,r,l,c,h,p){void 0===r&&(r="("),void 0===l&&(l=")"),void 0===c&&(c=!1),void 0===h&&(h=""),void 0===p&&(p="");var f=!!c&&e.GetStar(),m=e.GetNext(),g=e.i,y=null;if("\\"===m){if(e.i++,!(y=e.GetCS()).match(d)){var b=e.create("node","mrow");return e.Push(a.default.fenced(e.configuration,r,b,l)),void(e.i=g)}m=e.GetNext()}var v=u[m];if(c&&"{"!==m)throw new i.default("MissingArgFor","Missing argument for %1",e.currentCS);if(!v){b=e.create("node","mrow");return e.Push(a.default.fenced(e.configuration,r,b,l)),void(e.i=g)}if(h){var x=e.create("token","mi",{texClass:o.TEXCLASS.OP},h);p&&s.default.setAttribute(x,"mathvariant",p),e.Push(e.itemFactory.create("fn",x))}if("{"===m){var $=e.GetArgument(t);return m=c?r:"\\{",v=c?l:"\\}",$=f?m+" "+$+" "+v:y?"\\"+y+"l"+m+" "+$+" \\"+y+"r"+v:"\\left"+m+" "+$+" \\right"+v,void e.Push(new n.default($,e.stack.env,e.configuration).mml())}c&&(m=r,v=l),e.i++,e.Push(e.itemFactory.create("auto open").setProperties({open:m,close:v,big:y}))},c.Eval=function(e,t){var r=e.GetStar(),n=e.GetNext();if("{"!==n){if("("===n||"["===n)return e.i++,void e.Push(e.itemFactory.create("auto open").setProperties({open:n,close:"|",smash:r,right:"\\vphantom{\\int}"}));throw new i.default("MissingArgFor","Missing argument for %1",e.currentCS)}var o=e.GetArgument(t),a="\\left. "+(r?"\\smash{"+o+"}":o)+" \\vphantom{\\int}\\right|";e.string=e.string.slice(0,e.i)+a+e.string.slice(e.i)},c.Commutator=function(e,t,r,o){void 0===r&&(r="["),void 0===o&&(o="]");var a=e.GetStar(),s=e.GetNext(),l=null;if("\\"===s){if(e.i++,!(l=e.GetCS()).match(d))throw new i.default("MissingArgFor","Missing argument for %1",e.currentCS);s=e.GetNext()}if("{"!==s)throw new i.default("MissingArgFor","Missing argument for %1",e.currentCS);var c=e.GetArgument(t)+","+e.GetArgument(t);c=a?r+" "+c+" "+o:l?"\\"+l+"l"+r+" "+c+" \\"+l+"r"+o:"\\left"+r+" "+c+" \\right"+o,e.Push(new n.default(c,e.stack.env,e.configuration).mml())};var h=[65,90],p=[97,122],f=[913,937],m=[945,969],g=[48,57];function y(e,t){return e>=t[0]&&e<=t[1]}function b(e,t,r,n){var i=e.configuration.parser,o=l.NodeFactory.createToken(e,t,r,n),a=n.codePointAt(0);return 1===n.length&&!i.stack.env.font&&i.stack.env.vectorFont&&(y(a,h)||y(a,p)||y(a,f)||y(a,g)||y(a,m)&&i.stack.env.vectorStar||s.default.getAttribute(o,"accent"))&&s.default.setAttribute(o,"mathvariant",i.stack.env.vectorFont),o}c.VectorBold=function(e,t){var r=e.GetStar(),i=e.GetArgument(t),o=e.configuration.nodeFactory.get("token"),a=e.stack.env.font;delete e.stack.env.font,e.configuration.nodeFactory.set("token",b),e.stack.env.vectorFont=r?"bold-italic":"bold",e.stack.env.vectorStar=r;var s=new n.default(i,e.stack.env,e.configuration).mml();a&&(e.stack.env.font=a),delete e.stack.env.vectorFont,delete e.stack.env.vectorStar,e.configuration.nodeFactory.set("token",o),e.Push(s)},c.StarMacro=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var o=e.GetStar(),s=[];if(r)for(var l=s.length;l<r;l++)s.push(e.GetArgument(t));var c=n.join(o?"*":"");c=a.default.substituteArgs(e,s,c),e.string=a.default.addArgs(e,c,e.string.slice(e.i)),e.i=0,a.default.checkMaxMacros(e)};var v=function(e,t,r,i,o){var a=new n.default(i,e.stack.env,e.configuration).mml();e.Push(e.itemFactory.create(t,a));var s=e.GetNext(),l=u[s];if(l){var c=-1!==o.indexOf(s);if("{"===s){var d=(c?"\\left\\{":"")+" "+e.GetArgument(r)+" "+(c?"\\right\\}":"");return e.string=d+e.string.slice(e.i),void(e.i=0)}c&&(e.i++,e.Push(e.itemFactory.create("auto open").setProperties({open:s,close:l})))}};function x(t,r,n){var i=e(t,3),o=i[0],a=i[1],s=i[2];return r&&n?"\\left\\langle{".concat(o,"}\\middle\\vert{").concat(a,"}\\middle\\vert{").concat(s,"}\\right\\rangle"):r?"\\langle{".concat(o,"}\\vert{").concat(a,"}\\vert{").concat(s,"}\\rangle"):"\\left\\langle{".concat(o,"}\\right\\vert{").concat(a,"}\\left\\vert{").concat(s,"}\\right\\rangle")}return c.OperatorApplication=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];v(e,"fn",t,r,n)},c.VectorOperator=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];v(e,"mml",t,r,n)},c.Expression=function(e,t,r,i){void 0===r&&(r=!0),void 0===i&&(i=""),i=i||t.slice(1);var a=r?e.GetBrackets(t):null,s=e.create("token","mi",{texClass:o.TEXCLASS.OP},i);if(a){var l=new n.default(a,e.stack.env,e.configuration).mml();s=e.create("node","msup",[s,l])}e.Push(e.itemFactory.create("fn",s)),"("===e.GetNext()&&(e.i++,e.Push(e.itemFactory.create("auto open").setProperties({open:"(",close:")"})))},c.Qqtext=function(e,t,r){var n=(e.GetStar()?"":"\\quad")+"\\text{"+(r||e.GetArgument(t))+"}\\quad ";e.string=e.string.slice(0,e.i)+n+e.string.slice(e.i)},c.Differential=function(e,t,r){var i=e.GetBrackets(t),a=null!=i?"^{"+i+"}":" ",s="("===e.GetNext(),l="{"===e.GetNext(),c=r+a;if(s||l)if(l){c+=e.GetArgument(t);u=new n.default(c,e.stack.env,e.configuration).mml();e.Push(e.create("node","TeXAtom",[u],{texClass:o.TEXCLASS.OP}))}else e.Push(new n.default(c,e.stack.env,e.configuration).mml()),e.i++,e.Push(e.itemFactory.create("auto open").setProperties({open:"(",close:")"}));else{c+=e.GetArgument(t,!0)||"";var u=new n.default(c,e.stack.env,e.configuration).mml();e.Push(u)}},c.Derivative=function(e,t,r,i){var o=e.GetStar(),a=e.GetBrackets(t),s=1,l=[];for(l.push(e.GetArgument(t));"{"===e.GetNext()&&s<r;)l.push(e.GetArgument(t)),s++;var c=!1,u=" ",d=" ";r>2&&l.length>2?(u="^{"+(l.length-1)+"}",c=!0):null!=a&&(r>2&&l.length>1&&(c=!0),d=u="^{"+a+"}");for(var h=o?"\\flatfrac":"\\frac",p=l.length>1?l[0]:"",f=l.length>1?l[1]:l[0],m="",g=2,y=void 0;y=l[g];g++)m+=i+" "+y;var b=h+"{"+i+u+p+"}{"+i+" "+f+d+" "+m+"}";e.Push(new n.default(b,e.stack.env,e.configuration).mml()),"("===e.GetNext()&&(e.i++,e.Push(e.itemFactory.create("auto open").setProperties({open:"(",close:")",ignore:c})))},c.Bra=function(e,t){var r=e.GetStar(),i=e.GetArgument(t),o="",a=!1,s=!1;if("\\"===e.GetNext()){var l=e.i;e.i++;var c=e.GetCS(),u=e.lookup("macro",c);u&&"ket"===u.symbol?(a=!0,l=e.i,s=e.GetStar(),"{"===e.GetNext()?o=e.GetArgument(c,!0):(e.i=l,s=!1)):e.i=l}var d="";d=a?r||s?"\\langle{".concat(i,"}\\vert{").concat(o,"}\\rangle"):"\\left\\langle{".concat(i,"}\\middle\\vert{").concat(o,"}\\right\\rangle"):r||s?"\\langle{".concat(i,"}\\vert"):"\\left\\langle{".concat(i,"}\\right\\vert{").concat(o,"}"),e.Push(new n.default(d,e.stack.env,e.configuration).mml())},c.Ket=function(e,t){var r=e.GetStar(),i=e.GetArgument(t),o=r?"\\vert{".concat(i,"}\\rangle"):"\\left\\vert{".concat(i,"}\\right\\rangle");e.Push(new n.default(o,e.stack.env,e.configuration).mml())},c.BraKet=function(e,t){var r=e.GetStar(),i=e.GetArgument(t),o=null;"{"===e.GetNext()&&(o=e.GetArgument(t,!0));var a="";a=null==o?r?"\\langle{".concat(i,"}\\vert{").concat(i,"}\\rangle"):"\\left\\langle{".concat(i,"}\\middle\\vert{").concat(i,"}\\right\\rangle"):r?"\\langle{".concat(i,"}\\vert{").concat(o,"}\\rangle"):"\\left\\langle{".concat(i,"}\\middle\\vert{").concat(o,"}\\right\\rangle"),e.Push(new n.default(a,e.stack.env,e.configuration).mml())},c.KetBra=function(e,t){var r=e.GetStar(),i=e.GetArgument(t),o=null;"{"===e.GetNext()&&(o=e.GetArgument(t,!0));var a="";a=null==o?r?"\\vert{".concat(i,"}\\rangle\\!\\langle{").concat(i,"}\\vert"):"\\left\\vert{".concat(i,"}\\middle\\rangle\\!\\middle\\langle{").concat(i,"}\\right\\vert"):r?"\\vert{".concat(i,"}\\rangle\\!\\langle{").concat(o,"}\\vert"):"\\left\\vert{".concat(i,"}\\middle\\rangle\\!\\middle\\langle{").concat(o,"}\\right\\vert"),e.Push(new n.default(a,e.stack.env,e.configuration).mml())},c.Expectation=function(e,t){var r=e.GetStar(),i=r&&e.GetStar(),o=e.GetArgument(t),a=null;"{"===e.GetNext()&&(a=e.GetArgument(t,!0));var s=o&&a?x([a,o,a],r,i):r?"\\langle {".concat(o,"} \\rangle"):"\\left\\langle {".concat(o,"} \\right\\rangle");e.Push(new n.default(s,e.stack.env,e.configuration).mml())},c.MatrixElement=function(e,t){var r=e.GetStar(),i=r&&e.GetStar(),o=x([e.GetArgument(t),e.GetArgument(t),e.GetArgument(t)],r,i);e.Push(new n.default(o,e.stack.env,e.configuration).mml())},c.MatrixQuantity=function(e,t,r){var i=e.GetStar(),o=r?"smallmatrix":"array",a="",s="",l="";switch(e.GetNext()){case"{":a=e.GetArgument(t);break;case"(":e.i++,s=i?"\\lgroup":"(",l=i?"\\rgroup":")",a=e.GetUpTo(t,")");break;case"[":e.i++,s="[",l="]",a=e.GetUpTo(t,"]");break;case"|":e.i++,s="|",l="|",a=e.GetUpTo(t,"|");break;default:s="(",l=")"}var c=(s?"\\left":"")+s+"\\begin{"+o+"}{} "+a+"\\end{"+o+"}"+(s?"\\right":"")+l;e.Push(new n.default(c,e.stack.env,e.configuration).mml())},c.IdentityMatrix=function(e,t){var r=e.GetArgument(t),n=parseInt(r,10);if(isNaN(n))throw new i.default("InvalidNumber","Invalid number");if(n<=1)return e.string="1"+e.string.slice(e.i),void(e.i=0);for(var o=Array(n).fill("0"),a=[],s=0;s<n;s++){var l=o.slice();l[s]="1",a.push(l.join(" & "))}e.string=a.join("\\\\ ")+e.string.slice(e.i),e.i=0},c.XMatrix=function(e,t){var r=e.GetStar(),n=e.GetArgument(t),o=e.GetArgument(t),a=e.GetArgument(t),s=parseInt(o,10),l=parseInt(a,10);if(isNaN(s)||isNaN(l)||l.toString()!==a||s.toString()!==o)throw new i.default("InvalidNumber","Invalid number");if(s=s<1?1:s,l=l<1?1:l,!r){var c=Array(l).fill(n).join(" & "),u=Array(s).fill(c).join("\\\\ ");return e.string=u+e.string.slice(e.i),void(e.i=0)}var d="";if(1===s&&1===l)d=n;else if(1===s){c=[];for(var h=1;h<=l;h++)c.push("".concat(n,"_{").concat(h,"}"));d=c.join(" & ")}else if(1===l){for(c=[],h=1;h<=s;h++)c.push("".concat(n,"_{").concat(h,"}"));d=c.join("\\\\ ")}else{var p=[];for(h=1;h<=s;h++){c=[];for(var f=1;f<=l;f++)c.push("".concat(n,"_{{").concat(h,"}{").concat(f,"}}"));p.push(c.join(" & "))}d=p.join("\\\\ ")}e.string=d+e.string.slice(e.i),e.i=0},c.PauliMatrix=function(e,t){var r=e.GetArgument(t),n=r.slice(1);switch(r[0]){case"0":n+=" 1 & 0\\\\ 0 & 1";break;case"1":case"x":n+=" 0 & 1\\\\ 1 & 0";break;case"2":case"y":n+=" 0 & -i\\\\ i & 0";break;case"3":case"z":n+=" 1 & 0\\\\ 0 & -1"}e.string=n+e.string.slice(e.i),e.i=0},c.DiagonalMatrix=function(e,t,r){if("{"===e.GetNext()){var n=e.i;e.GetArgument(t);var i=e.i;e.i=n+1;for(var o=[],a="",s=e.i;s<i;){try{a=e.GetUpTo(t,",")}catch(l){e.i=i,o.push(e.string.slice(s,i-1));break}if(e.i>=i){o.push(e.string.slice(s,i));break}s=e.i,o.push(a)}e.string=function(e,t){for(var r=e.length,n=[],i=0;i<r;i++)n.push(Array(t?r-i:i+1).join("&")+"\\mqty{"+e[i]+"}");return n.join("\\\\ ")}(o,r)+e.string.slice(i),e.i=0}},c.AutoClose=function(e,t,r){var n=e.create("token","mo",{stretchy:!1},t),i=e.itemFactory.create("mml",n).setProperties({autoclose:t});e.Push(i)},c.Vnabla=function(e,t){var r=e.options.physics.arrowdel?"\\vec{\\gradientnabla}":"{\\gradientnabla}";return e.Push(new n.default(r,e.stack.env,e.configuration).mml())},c.DiffD=function(e,t){var r=e.options.physics.italicdiff?"d":"{\\rm d}";return e.Push(new n.default(r,e.stack.env,e.configuration).mml())},c.Macro=r.default.Macro,c.NamedFn=r.default.NamedFn,c.Array=r.default.Array,PhysicsMethods.default=c,PhysicsMethods}function requirePhysicsMappings(){if(hasRequiredPhysicsMappings)return PhysicsMappings;hasRequiredPhysicsMappings=1;var e=PhysicsMappings&&PhysicsMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PhysicsMappings,"__esModule",{value:!0});var t=requireSymbolMap(),r=e(requirePhysicsMethods()),n=requireTexConstants(),i=e(requireParseMethods()),o=requireMmlNode();return new t.CommandMap("Physics-automatic-bracing-macros",{quantity:"Quantity",qty:"Quantity",pqty:["Quantity","(",")",!0],bqty:["Quantity","[","]",!0],vqty:["Quantity","|","|",!0],Bqty:["Quantity","\\{","\\}",!0],absolutevalue:["Quantity","|","|",!0],abs:["Quantity","|","|",!0],norm:["Quantity","\\|","\\|",!0],evaluated:"Eval",eval:"Eval",order:["Quantity","(",")",!0,"O",n.TexConstant.Variant.CALLIGRAPHIC],commutator:"Commutator",comm:"Commutator",anticommutator:["Commutator","\\{","\\}"],acomm:["Commutator","\\{","\\}"],poissonbracket:["Commutator","\\{","\\}"],pb:["Commutator","\\{","\\}"]},r.default),new t.CharacterMap("Physics-vector-mo",i.default.mathchar0mo,{dotproduct:["",{mathvariant:n.TexConstant.Variant.BOLD}],vdot:["",{mathvariant:n.TexConstant.Variant.BOLD}],crossproduct:"",cross:"",cp:"",gradientnabla:["",{mathvariant:n.TexConstant.Variant.BOLD}]}),new t.CharacterMap("Physics-vector-mi",i.default.mathchar0mi,{real:["",{mathvariant:n.TexConstant.Variant.NORMAL}],imaginary:["",{mathvariant:n.TexConstant.Variant.NORMAL}]}),new t.CommandMap("Physics-vector-macros",{vnabla:"Vnabla",vectorbold:"VectorBold",vb:"VectorBold",vectorarrow:["StarMacro",1,"\\vec{\\vb","{#1}}"],va:["StarMacro",1,"\\vec{\\vb","{#1}}"],vectorunit:["StarMacro",1,"\\hat{\\vb","{#1}}"],vu:["StarMacro",1,"\\hat{\\vb","{#1}}"],gradient:["OperatorApplication","\\vnabla","(","["],grad:["OperatorApplication","\\vnabla","(","["],divergence:["VectorOperator","\\vnabla\\vdot","(","["],div:["VectorOperator","\\vnabla\\vdot","(","["],curl:["VectorOperator","\\vnabla\\crossproduct","(","["],laplacian:["OperatorApplication","\\nabla^2","(","["]},r.default),new t.CommandMap("Physics-expressions-macros",{sin:"Expression",sinh:"Expression",arcsin:"Expression",asin:"Expression",cos:"Expression",cosh:"Expression",arccos:"Expression",acos:"Expression",tan:"Expression",tanh:"Expression",arctan:"Expression",atan:"Expression",csc:"Expression",csch:"Expression",arccsc:"Expression",acsc:"Expression",sec:"Expression",sech:"Expression",arcsec:"Expression",asec:"Expression",cot:"Expression",coth:"Expression",arccot:"Expression",acot:"Expression",exp:["Expression",!1],log:"Expression",ln:"Expression",det:["Expression",!1],Pr:["Expression",!1],tr:["Expression",!1],trace:["Expression",!1,"tr"],Tr:["Expression",!1],Trace:["Expression",!1,"Tr"],rank:"NamedFn",erf:["Expression",!1],Residue:["Macro","\\mathrm{Res}"],Res:["OperatorApplication","\\Residue","(","[","{"],principalvalue:["OperatorApplication","{\\cal P}"],pv:["OperatorApplication","{\\cal P}"],PV:["OperatorApplication","{\\rm P.V.}"],Re:["OperatorApplication","\\mathrm{Re}","{"],Im:["OperatorApplication","\\mathrm{Im}","{"],sine:["NamedFn","sin"],hypsine:["NamedFn","sinh"],arcsine:["NamedFn","arcsin"],asine:["NamedFn","asin"],cosine:["NamedFn","cos"],hypcosine:["NamedFn","cosh"],arccosine:["NamedFn","arccos"],acosine:["NamedFn","acos"],tangent:["NamedFn","tan"],hyptangent:["NamedFn","tanh"],arctangent:["NamedFn","arctan"],atangent:["NamedFn","atan"],cosecant:["NamedFn","csc"],hypcosecant:["NamedFn","csch"],arccosecant:["NamedFn","arccsc"],acosecant:["NamedFn","acsc"],secant:["NamedFn","sec"],hypsecant:["NamedFn","sech"],arcsecant:["NamedFn","arcsec"],asecant:["NamedFn","asec"],cotangent:["NamedFn","cot"],hypcotangent:["NamedFn","coth"],arccotangent:["NamedFn","arccot"],acotangent:["NamedFn","acot"],exponential:["NamedFn","exp"],logarithm:["NamedFn","log"],naturallogarithm:["NamedFn","ln"],determinant:["NamedFn","det"],Probability:["NamedFn","Pr"]},r.default),new t.CommandMap("Physics-quick-quad-macros",{qqtext:"Qqtext",qq:"Qqtext",qcomma:["Macro","\\qqtext*{,}"],qc:["Macro","\\qqtext*{,}"],qcc:["Qqtext","c.c."],qif:["Qqtext","if"],qthen:["Qqtext","then"],qelse:["Qqtext","else"],qotherwise:["Qqtext","otherwise"],qunless:["Qqtext","unless"],qgiven:["Qqtext","given"],qusing:["Qqtext","using"],qassume:["Qqtext","assume"],qsince:["Qqtext","since"],qlet:["Qqtext","let"],qfor:["Qqtext","for"],qall:["Qqtext","all"],qeven:["Qqtext","even"],qodd:["Qqtext","odd"],qinteger:["Qqtext","integer"],qand:["Qqtext","and"],qor:["Qqtext","or"],qas:["Qqtext","as"],qin:["Qqtext","in"]},r.default),new t.CommandMap("Physics-derivative-macros",{diffd:"DiffD",flatfrac:["Macro","\\left.#1\\middle/#2\\right.",2],differential:["Differential","\\diffd"],dd:["Differential","\\diffd"],variation:["Differential","\\delta"],var:["Differential","\\delta"],derivative:["Derivative",2,"\\diffd"],dv:["Derivative",2,"\\diffd"],partialderivative:["Derivative",3,"\\partial"],pderivative:["Derivative",3,"\\partial"],pdv:["Derivative",3,"\\partial"],functionalderivative:["Derivative",2,"\\delta"],fderivative:["Derivative",2,"\\delta"],fdv:["Derivative",2,"\\delta"]},r.default),new t.CommandMap("Physics-bra-ket-macros",{bra:"Bra",ket:"Ket",innerproduct:"BraKet",ip:"BraKet",braket:"BraKet",outerproduct:"KetBra",dyad:"KetBra",ketbra:"KetBra",op:"KetBra",expectationvalue:"Expectation",expval:"Expectation",ev:"Expectation",matrixelement:"MatrixElement",matrixel:"MatrixElement",mel:"MatrixElement"},r.default),new t.CommandMap("Physics-matrix-macros",{matrixquantity:"MatrixQuantity",mqty:"MatrixQuantity",pmqty:["Macro","\\mqty(#1)",1],Pmqty:["Macro","\\mqty*(#1)",1],bmqty:["Macro","\\mqty[#1]",1],vmqty:["Macro","\\mqty|#1|",1],smallmatrixquantity:["MatrixQuantity",!0],smqty:["MatrixQuantity",!0],spmqty:["Macro","\\smqty(#1)",1],sPmqty:["Macro","\\smqty*(#1)",1],sbmqty:["Macro","\\smqty[#1]",1],svmqty:["Macro","\\smqty|#1|",1],matrixdeterminant:["Macro","\\vmqty{#1}",1],mdet:["Macro","\\vmqty{#1}",1],smdet:["Macro","\\svmqty{#1}",1],identitymatrix:"IdentityMatrix",imat:"IdentityMatrix",xmatrix:"XMatrix",xmat:"XMatrix",zeromatrix:["Macro","\\xmat{0}{#1}{#2}",2],zmat:["Macro","\\xmat{0}{#1}{#2}",2],paulimatrix:"PauliMatrix",pmat:"PauliMatrix",diagonalmatrix:"DiagonalMatrix",dmat:"DiagonalMatrix",antidiagonalmatrix:["DiagonalMatrix",!0],admat:["DiagonalMatrix",!0]},r.default),new t.EnvironmentMap("Physics-aux-envs",i.default.environment,{smallmatrix:["Array",null,null,null,"c","0.333em",".2em","S",1]},r.default),new t.MacroMap("Physics-characters",{"|":["AutoClose",o.TEXCLASS.ORD],")":"AutoClose","]":"AutoClose"},r.default),PhysicsMappings}function requirePhysicsConfiguration(){if(hasRequiredPhysicsConfiguration)return PhysicsConfiguration;var e;hasRequiredPhysicsConfiguration=1,Object.defineProperty(PhysicsConfiguration,"__esModule",{value:!0}),PhysicsConfiguration.PhysicsConfiguration=void 0;var t=requireConfiguration(),r=requirePhysicsItems();return requirePhysicsMappings(),PhysicsConfiguration.PhysicsConfiguration=t.Configuration.create("physics",{handler:{macro:["Physics-automatic-bracing-macros","Physics-vector-macros","Physics-vector-mo","Physics-vector-mi","Physics-derivative-macros","Physics-expressions-macros","Physics-quick-quad-macros","Physics-bra-ket-macros","Physics-matrix-macros"],character:["Physics-characters"],environment:["Physics-aux-envs"]},items:(e={},e[r.AutoOpen.prototype.kind]=r.AutoOpen,e),options:{physics:{italicdiff:!1,arrowdel:!1}}}),PhysicsConfiguration}var SetOptionsConfiguration={},hasRequiredSetOptionsConfiguration;function requireSetOptionsConfiguration(){return hasRequiredSetOptionsConfiguration||(hasRequiredSetOptionsConfiguration=1,function(e){var t=SetOptionsConfiguration&&SetOptionsConfiguration.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=SetOptionsConfiguration&&SetOptionsConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.SetOptionsConfiguration=e.SetOptionsUtil=void 0;var n=requireConfiguration(),i=requireSymbolMap(),o=r(requireTexError()),a=r(requireParseUtil()),s=require_Symbol(),l=r(requireBaseMethods()),c=requireOptions();e.SetOptionsUtil={filterPackage:function(e,t){if("tex"!==t&&!n.ConfigurationHandler.get(t))throw new o.default("NotAPackage","Not a defined package: %1",t);var r=e.options.setoptions,i=r.allowOptions[t];if(void 0===i&&!r.allowPackageDefault||!1===i)throw new o.default("PackageNotSettable",'Options can\'t be set for package "%1"',t);return!0},filterOption:function(e,t,r){var n,i=e.options.setoptions,a=i.allowOptions[t]||{},s=a.hasOwnProperty(r)&&!(0,c.isObject)(a[r])?a[r]:null;if(!1===s||null===s&&!i.allowOptionsDefault)throw new o.default("OptionNotSettable",'Option "%1" is not allowed to be set',r);if(!(null===(n="tex"===t?e.options:e.options[t])||void 0===n?void 0:n.hasOwnProperty(r)))throw"tex"===t?new o.default("InvalidTexOption",'Invalid TeX option "%1"',r):new o.default("InvalidOptionKey",'Invalid option "%1" for package "%2"',r,t);return!0},filterValue:function(e,t,r,n){return n}};var u=new i.CommandMap("setoptions",{setOptions:"SetOptions"},{SetOptions:function(e,r){var n,i,o=e.GetBrackets(r)||"tex",s=a.default.keyvalOptions(e.GetArgument(r)),l=e.options.setoptions;if(l.filterPackage(e,o))try{for(var c=t(Object.keys(s)),u=c.next();!u.done;u=c.next()){var d=u.value;l.filterOption(e,o,d)&&(("tex"===o?e.options:e.options[o])[d]=l.filterValue(e,o,d,s[d]))}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}});e.SetOptionsConfiguration=n.Configuration.create("setoptions",{handler:{macro:["setoptions"]},config:function(e,t){var r=t.parseOptions.handlers.get("macro").lookup("require");r&&(u.add("Require",new s.Macro("Require",r._func)),u.add("require",new s.Macro("require",l.default.Macro,["\\Require{#2}\\setOptions[#2]{#1}",2,""])))},priority:3,options:{setoptions:{filterPackage:e.SetOptionsUtil.filterPackage,filterOption:e.SetOptionsUtil.filterOption,filterValue:e.SetOptionsUtil.filterValue,allowPackageDefault:!0,allowOptionsDefault:!0,allowOptions:(0,c.expandable)({tex:{FindTeX:!1,formatError:!1,package:!1,baseURL:!1,tags:!1,maxBuffer:!1,maxMaxros:!1,macros:!1,environments:!1},setoptions:!1,autoload:!1,require:!1,configmacros:!1,tagformat:!1})}}})}(SetOptionsConfiguration)),SetOptionsConfiguration}var TagFormatConfiguration={},hasRequiredTagFormatConfiguration;function requireTagFormatConfiguration(){if(hasRequiredTagFormatConfiguration)return TagFormatConfiguration;hasRequiredTagFormatConfiguration=1;var e=TagFormatConfiguration&&TagFormatConfiguration.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(TagFormatConfiguration,"__esModule",{value:!0}),TagFormatConfiguration.TagFormatConfiguration=TagFormatConfiguration.tagformatConfig=void 0;var t=requireConfiguration(),r=requireTags(),n=0;function i(t,i){var o=i.parseOptions.options.tags;"base"!==o&&t.tags.hasOwnProperty(o)&&r.TagsFactory.add(o,t.tags[o]);var a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.formatNumber=function(e){return i.parseOptions.options.tagformat.number(e)},r.prototype.formatTag=function(e){return i.parseOptions.options.tagformat.tag(e)},r.prototype.formatId=function(e){return i.parseOptions.options.tagformat.id(e)},r.prototype.formatUrl=function(e,t){return i.parseOptions.options.tagformat.url(e,t)},r}(r.TagsFactory.create(i.parseOptions.options.tags).constructor),s="configTags-"+ ++n;r.TagsFactory.add(s,a),i.parseOptions.options.tags=s}return TagFormatConfiguration.tagformatConfig=i,TagFormatConfiguration.TagFormatConfiguration=t.Configuration.create("tagformat",{config:[i,10],options:{tagformat:{number:function(e){return e.toString()},tag:function(e){return"("+e+")"},id:function(e){return"mjx-eqn:"+e.replace(/\s/g,"_")},url:function(e,t){return t+"#"+encodeURIComponent(e)}}}}),TagFormatConfiguration}var TextcompConfiguration={},TextcompMappings={},hasRequiredTextcompMappings,hasRequiredTextcompConfiguration;function requireTextcompMappings(){if(hasRequiredTextcompMappings)return TextcompMappings;hasRequiredTextcompMappings=1;var e=TextcompMappings&&TextcompMappings.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextcompMappings,"__esModule",{value:!0});var t=requireSymbolMap(),r=requireTexConstants(),n=requireTextMacrosMethods(),i=e(requireParseUtil()),o=requireTextParser();return new t.CommandMap("textcomp-macros",{textasciicircum:["Insert","^"],textasciitilde:["Insert","~"],textasteriskcentered:["Insert","*"],textbackslash:["Insert","\\"],textbar:["Insert","|"],textbraceleft:["Insert","{"],textbraceright:["Insert","}"],textbullet:["Insert",""],textdagger:["Insert",""],textdaggerdbl:["Insert",""],textellipsis:["Insert",""],textemdash:["Insert",""],textendash:["Insert",""],textexclamdown:["Insert",""],textgreater:["Insert",">"],textless:["Insert","<"],textordfeminine:["Insert",""],textordmasculine:["Insert",""],textparagraph:["Insert",""],textperiodcentered:["Insert",""],textquestiondown:["Insert",""],textquotedblleft:["Insert",""],textquotedblright:["Insert",""],textquoteleft:["Insert",""],textquoteright:["Insert",""],textsection:["Insert",""],textunderscore:["Insert","_"],textvisiblespace:["Insert",""],textacutedbl:["Insert",""],textasciiacute:["Insert",""],textasciibreve:["Insert",""],textasciicaron:["Insert",""],textasciidieresis:["Insert",""],textasciimacron:["Insert",""],textgravedbl:["Insert",""],texttildelow:["Insert",""],textbaht:["Insert",""],textcent:["Insert",""],textcolonmonetary:["Insert",""],textcurrency:["Insert",""],textdollar:["Insert","$"],textdong:["Insert",""],texteuro:["Insert",""],textflorin:["Insert",""],textguarani:["Insert",""],textlira:["Insert",""],textnaira:["Insert",""],textpeso:["Insert",""],textsterling:["Insert",""],textwon:["Insert",""],textyen:["Insert",""],textcircledP:["Insert",""],textcompwordmark:["Insert",""],textcopyleft:["Insert",""],textcopyright:["Insert",""],textregistered:["Insert",""],textservicemark:["Insert",""],texttrademark:["Insert",""],textbardbl:["Insert",""],textbigcircle:["Insert",""],textblank:["Insert",""],textbrokenbar:["Insert",""],textdiscount:["Insert",""],textestimated:["Insert",""],textinterrobang:["Insert",""],textinterrobangdown:["Insert",""],textmusicalnote:["Insert",""],textnumero:["Insert",""],textopenbullet:["Insert",""],textpertenthousand:["Insert",""],textperthousand:["Insert",""],textrecipe:["Insert",""],textreferencemark:["Insert",""],textlangle:["Insert",""],textrangle:["Insert",""],textlbrackdbl:["Insert",""],textrbrackdbl:["Insert",""],textlquill:["Insert",""],textrquill:["Insert",""],textcelsius:["Insert",""],textdegree:["Insert",""],textdiv:["Insert",""],textdownarrow:["Insert",""],textfractionsolidus:["Insert",""],textleftarrow:["Insert",""],textlnot:["Insert",""],textmho:["Insert",""],textminus:["Insert",""],textmu:["Insert",""],textohm:["Insert",""],textonehalf:["Insert",""],textonequarter:["Insert",""],textonesuperior:["Insert",""],textpm:["Insert",""],textrightarrow:["Insert",""],textsurd:["Insert",""],textthreequarters:["Insert",""],textthreesuperior:["Insert",""],texttimes:["Insert",""],texttwosuperior:["Insert",""],textuparrow:["Insert",""],textborn:["Insert","*"],textdied:["Insert",""],textdivorced:["Insert",""],textmarried:["Insert",""],textcentoldstyle:["Insert","",r.TexConstant.Variant.OLDSTYLE],textdollaroldstyle:["Insert","$",r.TexConstant.Variant.OLDSTYLE],textzerooldstyle:["Insert","0",r.TexConstant.Variant.OLDSTYLE],textoneoldstyle:["Insert","1",r.TexConstant.Variant.OLDSTYLE],texttwooldstyle:["Insert","2",r.TexConstant.Variant.OLDSTYLE],textthreeoldstyle:["Insert","3",r.TexConstant.Variant.OLDSTYLE],textfouroldstyle:["Insert","4",r.TexConstant.Variant.OLDSTYLE],textfiveoldstyle:["Insert","5",r.TexConstant.Variant.OLDSTYLE],textsixoldstyle:["Insert","6",r.TexConstant.Variant.OLDSTYLE],textsevenoldstyle:["Insert","7",r.TexConstant.Variant.OLDSTYLE],texteightoldstyle:["Insert","8",r.TexConstant.Variant.OLDSTYLE],textnineoldstyle:["Insert","9",r.TexConstant.Variant.OLDSTYLE]},{Insert:function(e,t,r,a){if(e instanceof o.TextParser){if(!a)return void n.TextMacrosMethods.Insert(e,t,r);e.saveText()}e.Push(i.default.internalText(e,r,a?{mathvariant:a}:{}))}}),TextcompMappings}function requireTextcompConfiguration(){if(hasRequiredTextcompConfiguration)return TextcompConfiguration;hasRequiredTextcompConfiguration=1,Object.defineProperty(TextcompConfiguration,"__esModule",{value:!0}),TextcompConfiguration.TextcompConfiguration=void 0;var e=requireConfiguration();return requireTextcompMappings(),TextcompConfiguration.TextcompConfiguration=e.Configuration.create("textcomp",{handler:{macro:["textcomp-macros"]}}),TextcompConfiguration}var UpgreekConfiguration={},hasRequiredUpgreekConfiguration;function requireUpgreekConfiguration(){if(hasRequiredUpgreekConfiguration)return UpgreekConfiguration;hasRequiredUpgreekConfiguration=1,Object.defineProperty(UpgreekConfiguration,"__esModule",{value:!0}),UpgreekConfiguration.UpgreekConfiguration=void 0;var e=requireConfiguration(),t=requireSymbolMap(),r=requireTexConstants();return new t.CharacterMap("upgreek",function(e,t){var n=t.attributes||{};n.mathvariant=r.TexConstant.Variant.NORMAL;var i=e.create("token","mi",n,t.char);e.Push(i)},{upalpha:"",upbeta:"",upgamma:"",updelta:"",upepsilon:"",upzeta:"",upeta:"",uptheta:"",upiota:"",upkappa:"",uplambda:"",upmu:"",upnu:"",upxi:"",upomicron:"",uppi:"",uprho:"",upsigma:"",uptau:"",upupsilon:"",upphi:"",upchi:"",uppsi:"",upomega:"",upvarepsilon:"",upvartheta:"",upvarpi:"",upvarrho:"",upvarsigma:"",upvarphi:"",Upgamma:"",Updelta:"",Uptheta:"",Uplambda:"",Upxi:"",Uppi:"",Upsigma:"",Upupsilon:"",Upphi:"",Uppsi:"",Upomega:""}),UpgreekConfiguration.UpgreekConfiguration=e.Configuration.create("upgreek",{handler:{macro:["upgreek"]}}),UpgreekConfiguration}var VerbConfiguration={},hasRequiredVerbConfiguration,hasRequiredAllPackages,hasRequiredTexToMml,hasRequiredSre,hasRequiredRenderer,hasRequiredDist;function requireVerbConfiguration(){return hasRequiredVerbConfiguration||(hasRequiredVerbConfiguration=1,function(e){var t=VerbConfiguration&&VerbConfiguration.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.VerbConfiguration=e.VerbMethods=void 0;var r=requireConfiguration(),n=requireTexConstants(),i=requireSymbolMap(),o=t(requireTexError());e.VerbMethods={},e.VerbMethods.Verb=function(e,t){var r=e.GetNext(),i=++e.i;if(""===r)throw new o.default("MissingArgFor","Missing argument for %1",t);for(;e.i<e.string.length&&e.string.charAt(e.i)!==r;)e.i++;if(e.i===e.string.length)throw new o.default("NoClosingDelim","Can't find closing delimiter for %1",e.currentCS);var a=e.string.slice(i,e.i).replace(/ /g,"");e.i++,e.Push(e.create("token","mtext",{mathvariant:n.TexConstant.Variant.MONOSPACE},a))},new i.CommandMap("verb",{verb:"Verb"},e.VerbMethods),e.VerbConfiguration=r.Configuration.create("verb",{handler:{macro:["verb"]}})}(VerbConfiguration)),VerbConfiguration}function requireAllPackages(){return hasRequiredAllPackages||(hasRequiredAllPackages=1,Object.defineProperty(AllPackages,"__esModule",{value:!0}),AllPackages.AllPackages=void 0,requireBaseConfiguration(),requireActionConfiguration(),requireAmsConfiguration(),requireAmsCdConfiguration(),requireBboxConfiguration(),requireBoldsymbolConfiguration(),requireBraketConfiguration(),requireBussproofsConfiguration(),requireCancelConfiguration(),requireCasesConfiguration(),requireCenternotConfiguration(),requireColorConfiguration(),requireColorV2Configuration(),requireColortblConfiguration(),requireConfigMacrosConfiguration(),requireEmpheqConfiguration(),requireEncloseConfiguration(),requireExtpfeilConfiguration(),requireGensymbConfiguration(),requireHtmlConfiguration(),requireMathtoolsConfiguration(),requireMhchemConfiguration(),requireNewcommandConfiguration(),requireNoErrorsConfiguration(),requireNoUndefinedConfiguration(),requirePhysicsConfiguration(),requireSetOptionsConfiguration(),requireTagFormatConfiguration(),requireTextcompConfiguration(),requireTextMacrosConfiguration(),requireUpgreekConfiguration(),requireUnicodeConfiguration(),requireVerbConfiguration(),"undefined"!=typeof MathJax&&MathJax.loader&&MathJax.loader.preLoad("[tex]/action","[tex]/ams","[tex]/amscd","[tex]/bbox","[tex]/boldsymbol","[tex]/braket","[tex]/bussproofs","[tex]/cancel","[tex]/cases","[tex]/centernot","[tex]/color","[tex]/colorv2","[tex]/colortbl","[tex]/empheq","[tex]/enclose","[tex]/extpfeil","[tex]/gensymb","[tex]/html","[tex]/mathtools","[tex]/mhchem","[tex]/newcommand","[tex]/noerrors","[tex]/noundefined","[tex]/physics","[tex]/upgreek","[tex]/unicode","[tex]/verb","[tex]/configmacros","[tex]/tagformat","[tex]/textcomp","[tex]/textmacros","[tex]/setoptions"),AllPackages.AllPackages=["base","action","ams","amscd","bbox","boldsymbol","braket","bussproofs","cancel","cases","centernot","color","colortbl","empheq","enclose","extpfeil","gensymb","html","mathtools","mhchem","newcommand","noerrors","noundefined","upgreek","unicode","verb","configmacros","tagformat","textcomp","textmacros"]),AllPackages}function requireTexToMml(){if(hasRequiredTexToMml)return texToMml;hasRequiredTexToMml=1,Object.defineProperty(texToMml,"__esModule",{value:!0}),texToMml.texToMml=void 0;const e=requireLiteAdaptor(),t=requireMathItem(),r=requireSerializedMmlVisitor(),n=requireHTMLDocument(),i=requireTex(),o=requireAllPackages().AllPackages.filter(e=>"bussproofs"!==e),a=new i.TeX({packages:o}),s=new n.HTMLDocument("",(0,e.liteAdaptor)(),{InputJax:a}),l=new r.SerializedMmlVisitor;return texToMml.texToMml=e=>{return r=s.convert(e,{display:!0,end:t.STATE.CONVERT}),l.visitDefault(r,"");var r},texToMml}function requireSre(){return hasRequiredSre||(hasRequiredSre=1,function(e){var t=sre&&sre.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechRuleEngine=e.texToSpeechAsync=e.mmlToSpeechAsync=e.locales=void 0;const r=t(requireEngine()),n=requireSystem(),i=requireVariables(),o=requireTexToMml();r.default.getInstance().delay=!0,e.locales=i.Variables.LOCALES;const a=(()=>{const t={};return async r=>(null==t[r]&&(t[r]=await(0,n.setupEngine)({domain:"mathspeak",style:"verbose",locale:e.locales.has(r)?r:"en"})),t[r])})();e.mmlToSpeechAsync=async(e,t)=>(await a(t),(0,n.toSpeech)(e));e.texToSpeechAsync=(t,r)=>(0,e.mmlToSpeechAsync)((0,o.texToMml)(t),r);class s{constructor(e){if(this.texToSpeech=e=>(0,n.toSpeech)((0,o.texToMml)(e)),void 0===e)throw new Error("Cannot be called directly")}static async setup(e){const t=await a(e);return new s(t)}}e.SpeechRuleEngine=s}(sre)),sre}function requireRenderer(){if(hasRequiredRenderer)return renderer;hasRequiredRenderer=1,Object.defineProperty(renderer,"__esModule",{value:!0}),renderer.MathJaxRenderer=void 0;const e=requireChtml(),t=requireAssistiveMml(),r=requireHtml(),n=requireBrowserAdaptor(),i=requireMathjax(),o=requireTex(),a=requirePreprocessing(),s=requirePostprocessing(),l=requireGeneralPurpose(),c=requireTexInputConfig(),u=requireSre();function d(){return"undefined"!=typeof window}return renderer.MathJaxRenderer=class{constructor({fontURL:t,shouldFixUnicodeLayout:r,locale:n}){this.renderedAnything=!1,this.lastRenderingError=null,this.render=e=>{this.renderedAnything=!0;try{const{normalizedTex:t,normalizedTexWithMathjaxWorkarounds:r}=this.preprocessor.preprocessTex(e),n=this.getTexToChtmlConverter().convert(r,{display:!1}),i=(0,s.postprocessDom)(n);let o=this.lastRenderingError;i.outerHTML.includes('<mtext mathcolor="red">')&&(o=new Error("MathJax rendering error"));const a=()=>(0,u.mmlToSpeechAsync)(i.getElementsByTagName("math")[0].outerHTML,this.locale),l=async()=>{const e=await a();i.setAttribute("aria-label",e)};return{domElement:i,normalizedTex:t,error:o,getReadableText:a,addLabel:l}}catch(t){const r=(0,l.convertCaughtValueToError)(t);return{domElement:(0,l.createSpanWithRedText)(e),normalizedTex:e,getReadableText:()=>Promise.resolve(""),addLabel:()=>Promise.resolve(),error:r}}finally{this.lastRenderingError=null}},this.updateStyles=()=>{var t;const r=this.getStyleSheet();null==document.getElementById(e.CHTML.STYLESHEETID)&&(null===(t=document.head)||void 0===t||t.appendChild(r))},this.getStyleSheet=()=>this.getChtmlOutputJax().styleSheet(this.getTexToChtmlConverter()),this.hasRenderedAnything=()=>this.renderedAnything,this.resetGlobalState=()=>{this.renderedAnything=!1,this.getChtmlOutputJax().clearCache()},this.getChtmlOutputJax=(0,l.lazy)(()=>new e.CHTML({fontURL:this.fontURL})),this.getTexToChtmlConverter=(0,l.lazy)(()=>{if(!d())throw new Error("Can't render TeX without a DOM environment");return i.mathjax.document("",{InputJax:this.getTexInputJax(),OutputJax:this.getChtmlOutputJax()})}),this.getTexInputJax=(0,l.lazy)(()=>new o.TeX({...c.texInputConfig,formatError:(e,t)=>(this.lastRenderingError=t,e.formatError(t))})),this.fontURL=t,this.preprocessor=new a.MathJaxPreprocessor({shouldFixUnicodeLayout:r}),this.locale=n}},d()&&(0,t.AssistiveMmlHandler)((0,r.RegisterHTMLHandler)((0,n.browserAdaptor)())),renderer}function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(e){var t=dist&&dist.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=dist&&dist.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechRuleEngine=e.texToSpeechAsync=e.selectableTextElement=e.swapSelectableElementForCopyableText=void 0,r(requireRenderer(),e);var n=requireAddSelectableNode();Object.defineProperty(e,"swapSelectableElementForCopyableText",{enumerable:!0,get:function(){return n.swapSelectableElementForCopyableText}}),Object.defineProperty(e,"selectableTextElement",{enumerable:!0,get:function(){return n.selectableTextElement}});var i=requireSre();Object.defineProperty(e,"texToSpeechAsync",{enumerable:!0,get:function(){return i.texToSpeechAsync}}),Object.defineProperty(e,"SpeechRuleEngine",{enumerable:!0,get:function(){return i.SpeechRuleEngine}})}(dist)),dist}var distExports=requireDist(),Action,Action2,ResultType,ResultType2;function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends$2.apply(this,arguments)}function invariant(e,t){if(!1===e||null==e)throw new Error(t)}function createPath(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function parsePath(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function stripBasename(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function resolvePath(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"==typeof e?parsePath(e):e;return{pathname:r?r.startsWith("/")?r:resolvePathname(r,t):t,search:normalizeSearch(n),hash:normalizeHash(i)}}function resolvePathname(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function getInvalidPathError(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function getResolveToMatches(e,t){let r=getPathContributingMatches(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function resolveTo(e,t,r,n){let i;void 0===n&&(n=!1),"string"==typeof e?i=parsePath(e):(i=_extends$2({},e),invariant(!i.pathname||!i.pathname.includes("?"),getInvalidPathError("?","pathname","search",i)),invariant(!i.pathname||!i.pathname.includes("#"),getInvalidPathError("#","pathname","hash",i)),invariant(!i.search||!i.search.includes("#"),getInvalidPathError("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=resolvePath(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}Action2=Action||(Action={}),Action2.Pop="POP",Action2.Push="PUSH",Action2.Replace="REPLACE",ResultType2=ResultType||(ResultType={}),ResultType2.data="data",ResultType2.deferred="deferred",ResultType2.redirect="redirect",ResultType2.error="error";const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizeSearch=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",normalizeHash=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends$1.apply(this,arguments)}new Set(validRequestMethodsArr);const DataRouterContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});function useHref(e,t){let{relative:r}=void 0===t?{}:t;useInRouterContext()||invariant(!1);let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:o,pathname:a,search:s}=useResolvedPath(e,{relative:r}),l=a;return"/"!==n&&(l="/"===a?n:joinPaths([n,a])),i.createHref({pathname:l,search:s,hash:o})}function useInRouterContext(){return null!=reactExports.useContext(LocationContext)}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:t,future:r,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),a=JSON.stringify(getResolveToMatches(i,r.v7_relativeSplatPath)),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),reactExports.useCallback(function(r,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof r)return void n.go(r);let l=resolveTo(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:joinPaths([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,o,e])}function useResolvedPath(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),a=JSON.stringify(getResolveToMatches(i,n.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(a),o,"path"===r),[e,a,o,r])}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let t=reactExports.useContext(DataRouterContext);return t||invariant(!1),t}function useRouteContext(e){let t=reactExports.useContext(RouteContext);return t||invariant(!1),t}function useCurrentRouteId(e){let t=useRouteContext(),r=t.matches[t.matches.length-1];return r.route.id||invariant(!1),r.route.id}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),t=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),r=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{r.current=!0}),reactExports.useCallback(function(n,i){void 0===i&&(i={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,_extends$1({fromRouteId:t},i)))},[e,t])}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return!(0!==e.button||t&&"_self"!==t||isModifiedEvent(e))}new Promise(()=>{});const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(e2){}const isBrowser$1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(e,t){let r,{onClick:n,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=_objectWithoutPropertiesLoose$1(e,_excluded$1),{basename:p}=reactExports.useContext(NavigationContext),f=!1;if("string"==typeof c&&ABSOLUTE_URL_REGEX$1.test(c)&&(r=c,isBrowser$1))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=stripBasename(t.pathname,p);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:f=!0}catch(e2){}let m=useHref(c,{relative:i}),g=useLinkClickHandler(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});return reactExports.createElement("a",_extends({},h,{href:r||m,onClick:f||o?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var DataRouterHook,DataRouterHook2,DataRouterStateHook,DataRouterStateHook2;function useLinkClickHandler(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}=void 0===t?{}:t,l=useNavigate(),c=useLocation(),u=useResolvedPath(e,{relative:a});return reactExports.useCallback(t=>{if(shouldProcessLinkClick(t,r)){t.preventDefault();let r=void 0!==n?n:createPath(c)===createPath(u);l(e,{replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,n,i,r,e,o,a,s])}DataRouterHook2=DataRouterHook||(DataRouterHook={}),DataRouterHook2.UseScrollRestoration="useScrollRestoration",DataRouterHook2.UseSubmit="useSubmit",DataRouterHook2.UseSubmitFetcher="useSubmitFetcher",DataRouterHook2.UseFetcher="useFetcher",DataRouterHook2.useViewTransitionState="useViewTransitionState",DataRouterStateHook2=DataRouterStateHook||(DataRouterStateHook={}),DataRouterStateHook2.UseFetcher="useFetcher",DataRouterStateHook2.UseFetchers="useFetchers",DataRouterStateHook2.UseScrollRestoration="useScrollRestoration";const getAppropriateTriggersForRole$2=e=>{switch(e){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},disabledHandlers$2={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},startState$2={hovered:!1,focused:!1,pressed:!1,waiting:!1};let ClickableBehavior$2=class extends reactExports.Component{static getDerivedStateFromProps(e,t){return e.disabled?{...startState$2,focused:t.focused}:null}navigateOrReset(e){if(e){const{navigate:e,href:t,skipClientNav:r,target:n}=this.props;t&&("_blank"===n?(window.open(t,"_blank"),this.setState({waiting:!1})):e&&!r?(e(t,{viewTransition:this.props.viewTransition}),this.setState({waiting:!1})):window.location.assign(t))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:r,navigate:n}=this.props;return n&&!r||"_blank"===this.props.target?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(e=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t,beforeNav:r,safeWithNav:n,href:i,type:o}=this.props;let a=!0,s=!0;if(t&&t(e),e.defaultPrevented&&(a=!1,s=!1),e.preventDefault(),!i&&"submit"===o&&s){let t=e.currentTarget;for(;t;){if(t instanceof window.HTMLFormElement){const e=new window.Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(e);break}t=t.parentElement}}if(r)this.setState({waiting:!0}),r().then(()=>n?this.handleSafeWithNav(n,a):this.navigateOrReset(a)).catch(()=>{});else{if(n)return this.handleSafeWithNav(n,a);this.navigateOrReset(a)}}render(){const e=this.props.rel||("_blank"===this.props.target?"noopener noreferrer":void 0),t=this.props.disabled?{...disabledHandlers$2,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}:{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:r}=this.props;return r&&r(this.state,t)}constructor(e){super(e),this.handleClick=e=>{const{onClick:t,beforeNav:r,safeWithNav:n}=this.props;this.enterClick||((t||r||n)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.props.onMouseEnter&&this.props.onMouseEnter(e),this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e),this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole$2(r);i&&n===keys$1.enter||o&&n===keys$1.space?(e.preventDefault(),this.setState({pressed:!0})):i||n!==keys$1.enter||(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole$2(r);i&&n===keys$1.enter||o&&n===keys$1.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):i||n!==keys$1.enter||(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:t}=this.props;this.setState({focused:!0},()=>{t&&t(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=startState$2,this.waitingForClick=!1,this.enterClick=!1}};ClickableBehavior$2.defaultProps={disabled:!1};const isClientSideUrl$2=e=>"string"==typeof e&&(!/^(https?:)?\/\//i.test(e)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(e));function withRouter$2(e){function t(t){const r=useNavigate();return jsxRuntimeExports$1.jsx(e,{...t,navigate:r})}return t.displayName="withRouter(ClickableBehavior)",t}const ClickableBehaviorWithRouter$2=withRouter$2(ClickableBehavior$2);function getClickableBehavior$2(e,t,r){return r&&!0!==t&&e&&isClientSideUrl$2(e)?ClickableBehaviorWithRouter$2:ClickableBehavior$2}const StyledA$d=addStyle$1("a"),StyledButton$c=addStyle$1("button"),StyledLink$d=addStyle$1(Link$2),Clickable$2=reactExports.forwardRef(function(e,t){const r=(r,n,i)=>{const o=e.href&&!e.disabled,a=n&&!e.skipClientNav&&isClientSideUrl$2(e.href||"");return o&&a&&e.href?jsxRuntimeExports$1.jsx(StyledLink$d,{...i,to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):o&&!a?jsxRuntimeExports$1.jsx(StyledA$d,{...i,href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):jsxRuntimeExports$1.jsx(StyledButton$c,{...i,type:"button","aria-disabled":e.disabled,ref:t,children:e.children(r)})},n=useInRouterContext(),{href:i,onClick:o,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,skipClientNav:p,beforeNav:f,safeWithNav:m,style:g,target:y,testId:b,hideDefaultFocusRing:v,disabled:x,tabIndex:$,...S}=e,E=getClickableBehavior$2(i,p,n),w=e=>[styles$C.reset,styles$C.link,!v&&e.focused&&styles$C.focused,x&&styles$C.disabled,g];return f?jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,beforeNav:f,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})}):jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,target:y,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})})});Clickable$2.defaultProps={disabled:!1};const styles$C=StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid ${border$3.width.medium} ${semanticColor$3.focus.outer}`}},disabled:{color:semanticColor$3.action.secondary.disabled.foreground,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid ${border$3.width.medium} ${semanticColor$3.focus.outer}`}}});function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var SchedulePolicy=function(e){return e.Immediately="schedule-immediately",e.OnDemand="schedule-on-demand",e}({}),ClearPolicy=function(e){return e.Resolve="resolve-on-clear",e.Cancel="cancel-on-clear",e}({});class Timeout{get isSet(){return null!=this._timeoutId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._timeoutId=setTimeout(()=>this.clear(ClearPolicy.Resolve),this._timeoutMs)}clear(e=ClearPolicy.Cancel){const t=this._timeoutId;this._timeoutId=null,null!=t&&(clearTimeout(t),e===ClearPolicy.Resolve&&this._action())}constructor(e,t,r=SchedulePolicy.Immediately){if("function"!=typeof e)throw new Error("Action must be a function");if(t<0)throw new Error("Timeout period must be >= 0");this._action=e,this._timeoutMs=t,r===SchedulePolicy.Immediately&&this.set()}}class Interval{get isSet(){return null!=this._intervalId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._intervalId=setInterval(()=>this._action(),this._intervalMs)}clear(e=ClearPolicy.Cancel){const t=this._intervalId;this._intervalId=null,null!=t&&(clearInterval(t),e===ClearPolicy.Resolve&&this._action())}constructor(e,t,r=SchedulePolicy.Immediately){if("function"!=typeof e)throw new Error("Action must be a function");if(t<1)throw new Error("Interval period must be >= 1");this._action=e,this._intervalMs=t,r===SchedulePolicy.Immediately&&this.set()}}class AnimationFrame{get isSet(){return null!=this._animationFrameId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._animationFrameId=requestAnimationFrame(e=>this.clear(ClearPolicy.Resolve,e))}clear(e=ClearPolicy.Cancel,t){const r=this._animationFrameId;this._animationFrameId=null,null!=r&&(cancelAnimationFrame(r),e===ClearPolicy.Resolve&&this._action(t||performance.now()))}constructor(e,t=SchedulePolicy.Immediately){if("function"!=typeof e)throw new Error("Action must be a function");this._action=e,t===SchedulePolicy.Immediately&&this.set()}}class ActionScheduler{timeout(e,t,r){if(this._disabled)return ActionScheduler.NoopAction;const n=new Timeout(e,t,r?.schedulePolicy);return this._registeredActions.push(()=>n.clear(r?.clearPolicy)),n}interval(e,t,r){if(this._disabled)return ActionScheduler.NoopAction;const n=new Interval(e,t,r?.schedulePolicy);return this._registeredActions.push(()=>n.clear(r?.clearPolicy)),n}animationFrame(e,t){if(this._disabled)return ActionScheduler.NoopAction;const r=new AnimationFrame(e,t?.schedulePolicy);return this._registeredActions.push(()=>r.clear(t?.clearPolicy)),r}clearAll(){const e=[...this._registeredActions];this._registeredActions=[],e.forEach(e=>e())}disable(){this._disabled=!0,this.clearAll()}constructor(){this._disabled=!1,this._registeredActions=[]}}ActionScheduler.NoopAction={set:()=>{},get isSet(){return!1},clear:()=>{}};class ActionSchedulerProvider extends reactExports.Component{componentWillUnmount(){this._actionScheduler.disable()}render(){const{children:e}=this.props;return e(this._actionScheduler)}constructor(...e){super(...e),this._actionScheduler=new ActionScheduler}}function withActionScheduler(e){const t=`withActionScheduler(${e.displayName||e.name})`,r=t=>jsxRuntimeExports$1.jsx(ActionSchedulerProvider,{children:r=>jsxRuntimeExports$1.jsx(e,{...t,schedule:r})});return r.displayName=t,r}var define_process_env_default={};const libName="@khanacademy/math-input",libVersion="26.2.21";function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}addLibraryVersionToPerseusDebug$1(libName,libVersion);var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},hasRequiredReactJsxRuntime_production_min,hasRequiredJsxRuntime;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var e=React,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,s)&&!o.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:i.current}}return reactJsxRuntime_production_min.Fragment=r,reactJsxRuntime_production_min.jsx=a,reactJsxRuntime_production_min.jsxs=a,reactJsxRuntime_production_min}function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();let View$1=class e extends reactExports.Component{render(){const t=css(e.styles.initial,...Array.isArray(this.props.style)?this.props.style:[this.props.style])+(this.props.extraClassName?` ${this.props.extraClassName}`:"");return jsxRuntimeExports.jsx("div",{className:t,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role,ref:this.props.forwardRef,children:this.props.children})}};View$1.styles=StyleSheet.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}});const mockStrings={mathInputBox:"Math input box",fingerTap:"Tap with one or two fingers to open keyboard",before:({obj:e})=>`before ${e}`,after:({obj:e})=>`after ${e}`,"beginning of":({obj:e})=>`beginning of ${e}`,"end of":({obj:e})=>`end of ${e}`,Baseline:"Baseline",Superscript:"Superscript",selected:({obj:e})=>`${e} selected`,"no answer":"no answer","nothing selected":"nothing selected","nothing to the right":"nothing to the right","nothing to the left":"nothing to the left","block is empty":"block is empty","nothing above":"nothing above",labelValue:({label:e,value:t})=>`${e}: ${t}`,plus:"Plus",minus:"Minus",negative:"Negative",times:"Multiply",divide:"Divide",decimal:"Decimal",percent:"Percent",cdot:"Multiply",equalsSign:"Equals sign",notEqualsSign:"Not-equals sign",greaterThanSign:"Greater than sign",lessThanSign:"Less than sign",greaterThanOrEqualToSign:"Greater than or equal to sign",lessThanOrEqualSign:"Less than or equal to sign",fractionExpressionInNumerator:"Fraction, with current expression in numerator",fractionExcludingExpression:"Fraction, excluding the current expression",customExponent:"Custom exponent",square:"Square",cube:"Cube",squareRoot:"Square root",cubeRoot:"Cube root",radicalWithCustomRoot:"Radical with custom root",leftParenthesis:"Left parenthesis",rightParenthesis:"Right parenthesis",naturalLog:"Natural logarithm",logBase10:"Logarithm with base 10",logCustomBase:"Logarithm with custom base",sine:"Sine",sin:"sin",cosine:"Cosine",cos:"cos",tangent:"Tangent",tan:"tan",pi:"Pi",theta:"Theta",upArrow:"Up arrow",rightArrow:"Right arrow",downArrow:"Down arrow",leftArrow:"Left arrow",navOutOfParentheses:"Navigate right out of a set of parentheses",navOutOfExponent:"Navigate right out of an exponent",navOutOfBase:"Navigate right out of a base",navIntoNumerator:"Navigate right into the numerator of a fraction",navOutOfNumeratorIntoDenominator:"Navigate right out of the numerator and into the denominator",navOutOfDenominator:"Navigate right out of the denominator of a fraction",delete:"Delete",dismiss:"Dismiss"},MathInputI18nContext=reactExports.createContext(define_process_env_default.STORYBOOK?{strings:mockStrings,locale:"en"}:null),useMathInputI18n=()=>reactExports.useContext(MathInputI18nContext),cursorHandleRadiusPx=11,cursorHandleDistanceMultiplier=1.045,touchTargetRadiusPx=2*cursorHandleRadiusPx,touchTargetHeightPx=2*touchTargetRadiusPx,touchTargetWidthPx=2*touchTargetRadiusPx,cursorRadiusPx=cursorHandleRadiusPx,cursorHeightPx=cursorHandleDistanceMultiplier*(4*cursorRadiusPx),cursorWidthPx=4*cursorRadiusPx;class CursorHandle extends reactExports.Component{render(){const{x:e,y:t,animateIntoPosition:r}=this.props,n={position:"absolute",zIndex:4,left:-22,top:0,transform:`translate(${e}px, ${t}px)`,width:touchTargetWidthPx,height:touchTargetHeightPx,touchAction:"none",...r?{transitionDuration:"100ms",transitionProperty:"transform"}:{}};return jsxRuntimeExports.jsx("span",{style:n,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel,children:jsxRuntimeExports.jsxs("svg",{fill:"none",width:cursorWidthPx,height:cursorHeightPx,viewBox:`0 0 ${cursorWidthPx} ${cursorHeightPx}`,children:[jsxRuntimeExports.jsxs("filter",{id:"math-input_cursor",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:.87*cursorHeightPx,width:.82*cursorWidthPx,x:"4",y:"0",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),jsxRuntimeExports.jsx("feOffset",{dy:"4"}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"4"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.129412 0 0 0 0 0.141176 0 0 0 0 0.172549 0 0 0 0.08 0"}),jsxRuntimeExports.jsx("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),jsxRuntimeExports.jsx("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]}),jsxRuntimeExports.jsx("g",{filter:"url(#math-input_cursor)",children:jsxRuntimeExports.jsx("path",{d:"m22 4-7.07 7.0284c-1.3988 1.3901-2.3515 3.1615-2.7376 5.09-.3861 1.9284-.1883 3.9274.5685 5.7441s2.0385 3.3694 3.6831 4.4619c1.6445 1.0925 3.5781 1.6756 5.556 1.6756s3.9115-.5831 5.556-1.6756c1.6446-1.0925 2.9263-2.6452 3.6831-4.4619s.9546-3.8157.5685-5.7441c-.3861-1.9285-1.3388-3.6999-2.7376-5.09z",fill:"#1865f2"})}),jsxRuntimeExports.jsx("path",{d:"m14.9301 10.4841 7.0699-7.06989 7.0699 7.06989.0001.0001c1.3988 1.3984 2.3515 3.1802 2.7376 5.1201s.1883 3.9507-.5685 5.7782c-.7568 1.8274-2.0385 3.3894-3.6831 4.4883-1.6445 1.099-3.5781 1.6855-5.556 1.6855s-3.9115-.5865-5.556-1.6855c-1.6446-1.0989-2.9263-2.6609-3.6831-4.4883-.7568-1.8275-.9546-3.8383-.5685-5.7782s1.3388-3.7217 2.7376-5.1201z",stroke:"#fff",strokeWidth:"2"})]})})}}CursorHandle.defaultProps={animateIntoPosition:!1,visible:!1,x:0,y:0};const touchSlopPx=8;class DragListener{attach(){window.addEventListener("scroll",this._scrollListener),window.addEventListener("touchmove",this._moveListener),window.addEventListener("touchend",this._endAndCancelListener),window.addEventListener("touchcancel",this._endAndCancelListener)}detach(){window.removeEventListener("scroll",this._scrollListener),window.removeEventListener("touchmove",this._moveListener),window.removeEventListener("touchend",this._endAndCancelListener),window.removeEventListener("touchcancel",this._endAndCancelListener)}constructor(e,t){this._scrollListener=()=>{e()};const r={};for(let n=0;n<t.changedTouches.length;n++){const e=t.changedTouches[n];r[e.identifier]=[e.clientX,e.clientY]}this._moveListener=t=>{for(let n=0;n<t.changedTouches.length;n++){const i=t.changedTouches[n],o=r[i.identifier];if(o){const t=[i.clientX,i.clientY],r=t[0]-o[0],n=t[1]-o[1];r*r+n*n>touchSlopPx*touchSlopPx&&e()}}},this._endAndCancelListener=e=>{for(let t=0;t<e.changedTouches.length;t++)delete r[e.changedTouches[t].identifier]}}}var MathFieldActionType=function(e){return e.WRITE="write",e.CMD="cmd",e.KEYSTROKE="keystroke",e[e.MQ_END=0]="MQ_END",e}({}),CursorContext=function(e){return e.NONE="NONE",e.IN_PARENS="IN_PARENS",e.IN_SUPER_SCRIPT="IN_SUPER_SCRIPT",e.IN_SUB_SCRIPT="IN_SUB_SCRIPT",e.IN_NUMERATOR="IN_NUMERATOR",e.IN_DENOMINATOR="IN_DENOMINATOR",e.BEFORE_FRACTION="BEFORE_FRACTION",e}({}),mathquill_min$1={exports:{}},mathquill_min=mathquill_min$1.exports,hasRequiredMathquill_min;function requireMathquill_min(){if(hasRequiredMathquill_min)return mathquill_min$1.exports;function e(){}function t(e){for(;e;){if(!e.parent)return e;e=e.parent}}function r(e,r,n){var i,o,a,s,l,c;if(!r){if(i=new Error("prayer failed: "+e),n)for(a in o={},i.dcgExtraErrorMetaData=o,n)s=n[a],l=o[a]={},s?(l.localLatex=s.latex(),(c=t(s))&&(l.rootLatex=c.latex())):l.emptyNode=!0;throw i}}function n(e){r("a direction was passed",e===ft||e===mt)}function i(e){var t,r=document.implementation.createHTMLDocument("");if(r.body.innerHTML=e,1===r.body.children.length)return r.body.children[0];for(t=document.createDocumentFragment();r.body.firstChild;)t.appendChild(r.body.firstChild);return t}function o(e,t){var r,n,i,o,a;if("function"==typeof(null===(r=e)||void 0===r?void 0:r.closest))return e.closest(t);if(!(e instanceof HTMLElement))return null;o=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=e;do{if(o.call(a,t))return a;a=null!==(i=null!==(n=null==a?void 0:a.parentElement)&&void 0!==n?n:null==a?void 0:a.parentNode)&&void 0!==i?i:null}while(null!==a&&1===a.nodeType);return null}function a(e){return e.getClientRects().length?e.getBoundingClientRect():{top:0,left:0,height:0,width:0,x:0,y:0,bottom:0,right:0}}function s(e,t){var r,n=e[ft];if(n&&(r=e[mt]))for(r=r[mt];n!==r&&!1!==t(n);n=n[mt]);}function l(e,t,r){var n,i=e[ft];if(!i)return t;if(!(n=e[mt]))return t;for(n=n[mt];i!==n;i=i[mt])t=r(t,i);return t}function c(e,t,n){r("a parent is always present",e),r("leftward is properly set up",t?t[mt]===n&&t.parent===e:e.getEnd(ft)===n,{parent:e,leftward:t,leftwardL:t&&t[ft],leftwardR:t&&t[mt],rightwardL:n&&n[ft],rightwardR:n&&n[mt]}),r("rightward is properly set up",n?n[ft]===t&&n.parent===e:e.getEnd(mt)===t,{parent:e,rightward:n,leftwardL:t&&t[ft],leftwardR:t&&t[mt],rightwardL:n&&n[ft],rightwardR:n&&n[mt],rightwardParent:n&&n.parent})}function u(e){return e&&e.prototype instanceof ee}function d(e){return H(),U||(U=h(1)),U(e)}function h(e){function t(e,t){var r,n,o;for(r in t)if(t.hasOwnProperty(r)){if("substituteKeyboardEvents"===r&&i>=3)throw new Error(["As of interface version 3, the 'substituteKeyboardEvents'","option is no longer supported. Use 'overrideTypedText' and","'overrideKeystroke' instead."].join(" "));n=t[r],o=a[r],e[r]=o?o(n):n}}function n(e,t){function n(r,n){var o,a;return r&&r.nodeType?(o=d(r))instanceof t?o:((a=new le(new t.RootBlock,r,new s(i))).KIND_OF_MQ=e,new t(a).__mathquillify(n||{},i)):null}return r(e+" is defined",t),n.prototype=t.prototype,n}var i,o,a,s,l,c,u,d;if(1!==e&&2!==e&&3!==e)throw"Only interface versions between "+V+" and "+G+" supported. You specified: "+e;if((i=e)<3){if(!(o=window.jQuery))throw"MathQuill interface version ".concat(i," requires jQuery 1.5.2+ to be loaded first");z.prototype.jQuery=o}return a=pt(pt({},F),{handlers:function(e){return{fns:e||{},APIClasses:u}}}),s=i<3?z:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t}(z),l=function(e){function r(t){var r=e.call(this)||this;return r.__controller=t,r.__options=t.options,r.id=t.id,r.data=t.data,r}return ht(r,e),r.prototype.mathquillify=function(e){var t,r=this.__controller,n=r.root,o=r.container;r.createTextarea(),t=R(o).addClass(e).children().detach(),n.setDOM(R(bt("span",{class:"mq-root-block","aria-hidden":!0})).appendTo(o).oneElement()),k.linkElementByBlockNode(n.domFrag().oneElement(),n),this.latex(t.text()),this.revert=function(){return r.removeMouseEventListener(),R(o).removeClass("mq-editable-field mq-math-mode mq-text-mode").empty().append(t),i<3?this.__options.assertJquery()(o):o}},r.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},r.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},r.prototype.config=function(e){return t(this.__options,e),this},r.prototype.el=function(){return this.__controller.container},r.prototype.text=function(){return this.__controller.exportText()},r.prototype.mathspeak=function(){return this.__controller.exportMathSpeak()},r.prototype.latex=function(e){if(arguments.length>0){this.__controller.renderLatexMath(e);var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this}return this.__controller.exportLatex()},r.prototype.selection=function(){return this.__controller.exportLatexSelection()},r.prototype.html=function(){return this.__controller.root.domFrag().oneElement().innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},r.prototype.reflow=function(){return this.__controller.root.postOrder(function(e){e.reflow()}),this},r.prototype.cursor=function(){return this.__controller.cursor},r.prototype.controller=function(){return this.__controller},r.prototype.setAriaStringsOverrideMap=function(e){return this.__controller.setAriaStringsOverrideMap(e),this},r}(W),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setMathspeakOverride=function(e){return k.prototype.mathspeakOverride=e,t},t}return ht(t,e),t.prototype.mathquillify=function(t){return e.prototype.mathquillify.call(this,t),this.__controller.editable=!0,this.__controller.addMouseEventListener(),this.__controller.editablesTextareaEvents(),this},t.prototype.focus=function(){return this.__controller.getTextareaOrThrow().focus(),this.__controller.scrollHoriz(),this},t.prototype.blur=function(){return this.__controller.getTextareaOrThrow().blur(),this},t.prototype.write=function(e){this.__controller.writeLatex(e),this.__controller.scrollHoriz();var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this},t.prototype.empty=function(){var e,t=this.__controller.root,r=this.__controller.cursor;return t.setEnds(((e={})[ft]=0,e[mt]=0,e)),t.domFrag().empty(),delete r.selection,r.insAtRightEnd(t),this},t.prototype.cmd=function(e){var t,r,n=this.__controller.notify(void 0),i=n.cursor;return/^\\[a-z]+$/i.test(e)&&!i.isTooDeep()?(e=e.slice(1),(t=N[e])&&(r=t.constructor?new t(e):t(e),i.selection&&r.replaces(i.replaceSelection()),r.createLeftOf(i.show()))):i.parent.write(i,e),n.scrollHoriz(),n.blurred&&i.hide().parent.blur(i),this},t.prototype.select=function(){return this.__controller.selectAll(),this},t.prototype.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.prototype.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},t.prototype.moveToLeftEnd=function(){return this.moveToDirEnd(ft)},t.prototype.moveToRightEnd=function(){return this.moveToDirEnd(mt)},t.prototype.keystroke=function(e,t){var r,n=e.replace(/^\s+|\s+$/g,"").split(/\s+/);for(r=0;r<n.length;r+=1)this.__controller.keystroke(n[r],t);return this},t.prototype.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},t.prototype.dropEmbedded=function(e,t,r){var n=e-(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),i=t-(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),o=document.elementFromPoint(n,i);this.__controller.seek(o,n,i),(new ot).setOptions(r).createLeftOf(this.__controller.cursor)},t.prototype.setAriaPostLabel=function(e,t){return this.__controller.setAriaPostLabel(e,t),this},t.prototype.getAriaPostLabel=function(){return this.__controller.getAriaPostLabel()},t.prototype.clickAt=function(e,t,r){var n,i;return r=r||document.elementFromPoint(e,t),(i=(n=this.__controller).root.domFrag().oneElement()).contains(r)||(r=i),n.seek(r,e,t),n.blurred&&this.focus(),this},t.prototype.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this},t}(l),u={AbstractMathQuill:l,EditableField:c},r("API.StaticMath defined",j.StaticMath),u.StaticMath=j.StaticMath(u),r("API.MathField defined",j.MathField),u.MathField=j.MathField(u),r("API.InnerMathField defined",j.InnerMathField),u.InnerMathField=j.InnerMathField(u),j.TextField&&(u.TextField=j.TextField(u)),(d=function(e){var t,r,n,i,o,a,s;if(!e||!e.nodeType)return null;for(r=0,n=R(e).children().toElementArray();r<n.length;r++)if((i=n[r]).classList.contains("mq-root-block")){t=i;break}return s=(a=(o=k.getNodeOfElement(t))&&o.controller)&&u[a.KIND_OF_MQ],a&&s?new s(a):null}).L=ft,d.R=mt,d.config=function(e){return t(s.prototype,e),this},d.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";D[e]=t},d.StaticMath=n("StaticMath",u.StaticMath),d.MathField=n("MathField",u.MathField),d.InnerMathField=n("InnerMathField",u.InnerMathField),u.TextField&&(d.TextField=n("TextField",u.TextField)),d.prototype=l.prototype,d.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},d.EditableField.prototype=c.prototype,i<3&&(d.saneKeyboardEvents=m),d}function p(e){e.moveOutOf=function(e){r("controller is defined",this.controller),this.controller.handle("moveOutOf",e)},e.deleteOutOf=function(e){r("controller is defined",this.controller),this.controller.handle("deleteOutOf",e)},e.selectOutOf=function(e){r("controller is defined",this.controller),this.controller.handle("selectOutOf",e)},e.upOutOf=function(){r("controller is defined",this.controller),this.controller.handle("upOutOf")},e.downOutOf=function(){r("controller is defined",this.controller),this.controller.handle("downOutOf")},e.reflow=function(){r("controller is defined",this.controller),this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function f(e,t){throw"Parse Error: "+t+" at "+(e=e?"'"+e+"'":"EOF")}function m(e,t){return Y(e[0],t)}function g(e,t,r){return function(){return new pe(e,t?bt.entityText(t):void 0,r)}}function y(e,t,r,n){return function(){return new fe(e,t?bt.entityText(t):void 0,r,n)}}function b(e,t,r){return function(){return new ve(e,bt.entityText(t))}}function v(e){if(!e)return!1;var t=e[ft];return t?!(t instanceof fe||/^(\\ )|[,;:\(\[]$/.test(t.ctrlSeq)):!!(e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock())&&v(e.parent.parent)}function x(e){if(!e)return"";var t="";return e.eachChild(function(e){void 0!==e.ctrlSeq&&(t+=e.ctrlSeq)}),t}function $(e){var t=this.parent,r=e;do{if(r[mt])return e.insLeftOf(t);r=r.parent.parent}while(r!==t);e.insRightOf(t)}function S(e,t,r){var n,i;t=t||e,n=Qe[e],i=Qe[t],I[e]=function(){return new Ze(ft,e,n,t,i)},I[n]=function(){return new Ze(mt,e,n,t,i)},et[e]=et[n]=r}function E(e){var t,n,i;if(e.domFrag().oneElement().normalize(),!(t=e.domFrag().children()).isEmpty())return r("only node in TextBlock span is Text node",3===(n=t.oneText()).nodeType),(i=new st(n.data)).setDOM(n),e.children().disown(),i.adopt(e,0,0),i}function w(e,t,r,n){return function(i){function o(){var r=null!==i&&i.apply(this,arguments)||this;return r.ctrlSeq=e,r.mathspeakTemplate=["Start"+t,"End"+t],r.ariaLabel=t,r}return ht(o,i),o.prototype.html=function(){var e=bt(r,n,[bt.text(this.textContents())]);return this.setDOM(e),k.linkElementByCmdNode(e,this),e},o}(at)}hasRequiredMathquill_min=1;var _,M,C,T,R,O,k,A,N,I,L,P,B,q,j,D,F,z,W,H,U,V,G,X,K,Y,J,Z,Q,ee,te,re,ne,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,me,ge,ye,be,ve,xe,$e,Se,Ee,we,_e,Me,Ce,Te,Re,Oe,ke,Ae,Ne,Ie,Le,Pe,Be,qe,je,De,Fe,ze,We,He,Ue,Ve,Ge,Xe,Ke,Ye,Je,Ze,Qe,et,tt,rt,nt,it,ot,at,st,lt,ct,ut,dt,ht=mathquill_min&&mathquill_min.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt=mathquill_min&&mathquill_min.__assign||function(){return pt=Object.assign||function(e){var t,r,n,i;for(r=1,n=arguments.length;r<n;r++)for(i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pt.apply(this,arguments)},ft=-1,mt=1,gt=Math.min,yt=Math.max,bt=function(e,t,r){var n,i,o,a;switch(e){case"svg":case"path":n=document.createElementNS("http://www.w3.org/2000/svg",e);break;default:n=document.createElement(e)}for(i in t)void 0!==(o=t[i])&&n.setAttribute(i,"string"==typeof o?o:String(o));if(r)for(a=0;a<r.length;a++)n.appendChild(r[a]);return n};for(we in bt.text=function(e){return document.createTextNode(e)},bt.block=function(e,t,r){var n=bt(e,t,[r.html()]);return r.setDOM(n),k.linkElementByBlockNode(n,r),n},bt.entityText=function(e){var t=i(e);return r("entity parses to a single text node",t instanceof DocumentFragment&&1===t.childNodes.length&&t.childNodes[0]instanceof Text),t.childNodes[0]},_="","function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(ut=requestAnimationFrame,dt=cancelAnimationFrame):(ut=function(e){return window.setTimeout(e,13)},dt=clearTimeout),M=function(e,t){function r(){var r=(Date.now()-a)/e;r<=s?i():s=r,t(s,i,n)}function n(){void 0!==o&&dt(o),o=void 0}function i(){n(),o=ut(r)}var o,a=Date.now(),s=0;t(e<=0?1:0,i,n)},C=function(){function e(e){this.span=bt("span",{class:"mq-aria-alert","aria-live":"assertive","aria-atomic":"true"}),this.msg="",this.items=[],this.controller=e}return e.prototype.attach=function(){var e=this.controller.container;this.span.parentNode!==e&&R(e).prepend(R(this.span))},e.prototype.queue=function(e,t){return void 0===t&&(t=!1),this.items.push(this.processQueueItems(e,t)),this},e.prototype.processQueueItems=function(e,t){return void 0===t&&(t=!1),(Array.isArray(e)?e:[e]).map(function(e){if(e instanceof ee){var r=e.mathspeak({ignoreShorthand:!0});if(t){if(e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel)return e.parent.ariaLabel+" "+r;if(e.ariaLabel)return e.ariaLabel+" "+r}return r}return e||""}).join(" ")},e.prototype.queueDirOf=function(e,t,r){void 0===r&&(r=!1),n(e);var i=e===ft?"before":"after";return this.queueDir(i,t,r)},e.prototype.queueDirEndOf=function(e,t,r){void 0===r&&(r=!1),n(e);var i=e===ft?"beginning of":"end of";return this.queueDir(i,t,r)},e.prototype.queueDir=function(e,t,r){var n;return void 0===r&&(r=!1),(null===(n=this.controller.ariaStringsOverrideMap)||void 0===n?void 0:n[e])?this.queue(this.controller.ariaStringsOverrideMap[e](this.processQueueItems(t,r))):this.queue(e).queue(t,r)},e.prototype.queueSelected=function(e,t){return void 0===t&&(t=!1),this.controller.ariaStringsOverrideMap&&this.controller.ariaStringsOverrideMap.selected?this.queue(this.controller.ariaStringsOverrideMap.selected(this.processQueueItems(e,t)),t):this.queue(e,t).queue(" selected")},e.prototype.queueTranslatableString=function(e){var t,r=null===(t=this.controller.ariaStringsOverrideMap)||void 0===t?void 0:t[e];return r&&"string"==typeof r?this.queue(r):this.queue(e)},e.prototype.alert=function(e){return this.attach(),e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.controller.containerHasFocus()&&(this.controller.options.logAriaAlerts&&this.msg,this.span.textContent=this.msg)),this.clear()},e.prototype.clear=function(){return this.items.length=0,this},e}(),T=function(){function e(e,t){var r;1===arguments.length&&(t=e),e&&t&&(this.ends=((r={})[ft]=e,r[mt]=t,r))}return e.create=function(t,n){1===arguments.length&&(n=t),r("No half-empty DOMFragments",!!t==!!n);var i=new e(t,n);return r("last is a forward sibling of first",i.isValid()),i},e.prototype.isEmpty=function(){return void 0===this.ends},e.prototype.isOneNode=function(){return!(!this.ends||this.ends[ft]!==this.ends[mt])},e.prototype.isValid=function(){return!this.ends||(this.ends[ft]===this.ends[mt]||(this.eachNode(function(t){return e=t}),e===this.ends[mt]));var e},e.prototype.firstNode=function(){return r("Fragment is not empty",this.ends),this.ends[ft]},e.prototype.lastNode=function(){return r("Fragment is not empty",this.ends),this.ends[mt]},e.prototype.children=function(){var t=this.oneNode(),r=t.firstChild,n=t.lastChild;return r&&n?new e(r,n):new e},e.prototype.join=function(t){var n,i;if(!this.ends)return t;if(!t.ends)return this;for(n=!1,i=this.ends[mt].nextSibling;i;){if(i===t.ends[ft]){n=!0;break}i=i.nextSibling}return r("sibling must be a forward DOM sibling of this fragment",n),new e(this.ends[ft],t.ends[mt])},e.prototype.oneNode=function(){return r("Fragment has a single node",this.ends&&this.ends[ft]===this.ends[mt]),this.ends[ft]},e.prototype.oneElement=function(){var e=this.oneNode();return r("Node is an Element",e.nodeType===Node.ELEMENT_NODE),e},e.prototype.oneText=function(){var e=this.oneNode();return r("Node is Text",e.nodeType===Node.TEXT_NODE),e},e.prototype.eachNode=function(e){var t,r,n;if(!this.ends)return this;for(t=this.ends[mt],r=this.ends[ft],n=void 0;r&&(n=r.nextSibling,e(r),r!==t);r=n);return this},e.prototype.eachElement=function(e){return this.eachNode(function(t){t.nodeType===Node.ELEMENT_NODE&&e(t)}),this},e.prototype.text=function(){var e="";return this.eachNode(function(t){e+=t.textContent||""}),e},e.prototype.toNodeArray=function(){var e=[];return this.eachNode(function(t){return e.push(t)}),e},e.prototype.toElementArray=function(){var e=[];return this.eachElement(function(t){return e.push(t)}),e},e.prototype.toDocumentFragment=function(){var e=document.createDocumentFragment();return this.eachNode(function(t){return e.appendChild(t)}),e},e.prototype.insertBefore=function(e){return this.insDirOf(ft,e)},e.prototype.insertAfter=function(e){return this.insDirOf(mt,e)},e.prototype.append=function(e){return e.appendTo(this.oneElement()),this},e.prototype.prepend=function(e){return e.prependTo(this.oneElement()),this},e.prototype.appendTo=function(e){return this.insAtDirEnd(mt,e)},e.prototype.prependTo=function(e){return this.insAtDirEnd(ft,e)},e.prototype.parent=function(){if(!this.ends)return this;var t=this.ends[ft].parentNode;return t?new e(t):new e},e.prototype.wrapAll=function(e){var t,r;return e.textContent="",this.ends?(t=this.ends[ft].parentNode,r=this.ends[mt].nextSibling,this.appendTo(e),t&&t.insertBefore(e,r),this):this},e.prototype.replaceWith=function(e){var t,r,n=null===(t=this.ends)||void 0===t?void 0:t[mt],i=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return this.detach(),r=e.toDocumentFragment(),n&&i?(i.insertBefore(r,o||null),this):this},e.prototype.nthElement=function(e){if(this.ends&&!(e<0||e!==Math.floor(e)))for(var t=this.ends[ft];t;){if(t.nodeType===Node.ELEMENT_NODE){if(e<=0)return t;e-=1}if(t===this.ends[mt])return;t=t.nextSibling}},e.prototype.firstElement=function(){return this.nthElement(0)},e.prototype.lastElement=function(){if(this.ends)for(var e=this.ends[mt];e;){if(e.nodeType===Node.ELEMENT_NODE)return e;if(e===this.ends[ft])return;e=e.previousSibling}},e.prototype.first=function(){return new e(this.firstElement())},e.prototype.last=function(){return new e(this.lastElement())},e.prototype.eq=function(t){return new e(this.nthElement(t))},e.prototype.slice=function(t){if(!this.ends)return this;var r=this.nthElement(t);return r?new e(r,this.ends[mt]):new e},e.prototype.next=function(){for(var t=this.oneNode();t;)if((t=t.nextSibling)&&t.nodeType===Node.ELEMENT_NODE)return new e(t);return new e},e.prototype.prev=function(){for(var t=this.oneNode();t;)if((t=t.previousSibling)&&t.nodeType===Node.ELEMENT_NODE)return new e(t);return new e},e.prototype.empty=function(){return this.eachElement(function(e){e.textContent=""}),this},e.prototype.remove=function(){return this.toDocumentFragment(),this},e.prototype.detach=function(){return this.remove()},e.prototype.insDirOf=function(e,t){var r,n;return this.ends?(n=null===(r=t.ends)||void 0===r?void 0:r[e])&&n.parentNode?(function(e,t,r,n){t.insertBefore(r,e===ft?n:n.nextSibling)}(e,n.parentNode,this.toDocumentFragment(),n),this):this.detach():this},e.prototype.insAtDirEnd=function(e,t){return this.ends?(function(e,t,r){e===ft?r.insertBefore(t,r.firstChild):r.appendChild(t)}(e,this.toDocumentFragment(),t),this):this},e.prototype.hasClass=function(e){var t=!1;return this.eachElement(function(r){r.classList.contains(e)&&(t=!0)}),t},e.prototype.addClass=function(e){var t,r,n=function(e){if(!e)return"continue";i.eachElement(function(t){t.classList.add(e)})},i=this;for(t=0,r=e.split(/\s+/);t<r.length;t++)n(r[t]);return this},e.prototype.removeClass=function(e){var t,r,n=function(e){if(!e)return"continue";i.eachElement(function(t){t.classList.remove(e)})},i=this;for(t=0,r=e.split(/\s+/);t<r.length;t++)n(r[t]);return this},e.prototype.toggleClass=function(e,t){var r,n,i,o;if(!0===t)return this.addClass(e);if(!1===t)return this.removeClass(e);for(r=function(e){if(!e)return"continue";n.eachElement(function(t){t.classList.toggle(e)})},n=this,i=0,o=e.split(/\s+/);i<o.length;i++)r(o[i]);return this},e}(),R=T.create,O=function(){function e(e,t,r){this.init(e,t,r)}return e.prototype.init=function(e,t,r){this.parent=e,this[ft]=t,this[mt]=r},e.copy=function(t){return new e(t.parent,t[ft],t[mt])},e}(),k=function(){function e(){var r;this[t]=0,this[i]=0,this.parent=0,this.ends=((r={})[ft]=0,r[mt]=0,r),this.id=e.uniqueNodeId()}var t,i;return e.uniqueNodeId=function(){return e.idCounter+=1},e.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an Element to NodeBase.getNodeOfElement");var t=e;return t.mqBlockNode||t.mqCmdNode}},e.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},e.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},e.prototype.setEnds=function(e){this.ends=e,r("No half-empty node ends",!!this.ends[ft]==!!this.ends[mt])},e.prototype.getEnd=function(e){return this.ends[e]},e.prototype.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.prototype.setDOM=function(e){return e&&r("DOM is an element or a text node",e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE),this._el=e,this},e.prototype.domFrag=function(){return R(this._el)},e.prototype.createDir=function(e,t){n(e);var r=this;return r.html(),r.domFrag().insDirOf(e,t.domFrag()),t[e]=r.adopt(t.parent,t[ft],t[mt]),r},e.prototype.createLeftOf=function(e){this.createDir(ft,e)},e.prototype.selectChildren=function(e,t){return new B(e,t)},e.prototype.bubble=function(e){var t;for(t=this.getSelfNode();t&&!1!==e(t);t=t.parent);return this},e.prototype.postOrder=function(e){var t=this.getSelfNode();return function t(r){return!!r&&(r.eachChild(t),e(r),!0)}(t),t},e.prototype.isEmpty=function(){return 0===this.ends[ft]&&0===this.ends[mt]},e.prototype.isQuietEmptyDelimiter=function(e){if(!this.isEmpty())return!1;if(!e)return!1;if(!this.parent||void 0===this.parent.ctrlSeq)return!1;var t=this.parent.ctrlSeq.replace(/^\\(left|right)?/,"");return e.hasOwnProperty(t)},e.prototype.isStyleBlock=function(){return!1},e.prototype.isTextBlock=function(){return!1},e.prototype.children=function(){return new A(this.getEnd(ft),this.getEnd(mt))},e.prototype.eachChild=function(e){return s(this.ends,e),this},e.prototype.foldChildren=function(e,t){return l(this.ends,e,t)},e.prototype.withDirAdopt=function(e,t,r,n){var i=this.getSelfNode();return new A(i,i).withDirAdopt(e,t,r,n),this},e.prototype.adopt=function(e,t,r){var n=this.getSelfNode();return new A(n,n).adopt(e,t,r),this.getSelfNode()},e.prototype.disown=function(){var e=this.getSelfNode();return new A(e,e).disown(),this},e.prototype.remove=function(){return this.domFrag().remove(),this.disown()},e.prototype.shouldIgnoreSubstitutionInSimpleSubscript=function(e){return!!e.disableAutoSubstitutionInSubscripts&&!!this.parent&&this.parent.parent instanceof De&&!!this.parent.domFrag().hasClass("mq-sub")},e.prototype.getSelfNode=function(){return this},e.prototype.parser=function(){r("Abstract parser() method is never called",!1)},e.prototype.html=function(){throw new Error("html() unimplemented in NodeBase")},e.prototype.text=function(){return""},e.prototype.latex=function(){var e={latex:"",startIndex:-1,endIndex:-1};return this.latexRecursive(e),e.latex},e.prototype.latexRecursive=function(e){},e.prototype.checkCursorContextOpen=function(e){e.startSelectionBefore===this&&(e.startIndex=e.latex.length),e.endSelectionBefore===this&&(e.endIndex=e.latex.length)},e.prototype.checkCursorContextClose=function(e){e.startSelectionAfter===this&&(e.startIndex=e.latex.length),e.endSelectionAfter===this&&(e.endIndex=e.latex.length)},e.prototype.finalizeTree=function(e,t){},e.prototype.contactWeld=function(e,t){},e.prototype.blur=function(e){},e.prototype.focus=function(){},e.prototype.intentionalBlur=function(){},e.prototype.reflow=function(){},e.prototype.registerInnerField=function(e,t){},e.prototype.chToCmd=function(e,t){r("Abstract chToCmd() method is never called",!1)},e.prototype.mathspeak=function(e){return this.mathspeakOverride?this.mathspeakOverride(this.latex()):""},e.prototype.seek=function(e,t){},e.prototype.siblingDeleted=function(e,t){},e.prototype.siblingCreated=function(e,t){},e.prototype.finalizeInsert=function(e,t){},e.prototype.fixDigitGrouping=function(e){},e.prototype.writeLatex=function(e,t){},e.prototype.write=function(e,t){},t=ft,i=mt,e.idCounter=0,e}(),A=function(){function e(e,t,i){var o,a,s,l;this.disowned=!1,void 0===i&&(i=ft),n(i),r("no half-empty fragments",!e==!t,{withDir:e,oppDir:t}),e&&t?(r("withDir is passed to Fragment",e instanceof ee),r("oppDir is passed to Fragment",t instanceof ee),r("withDir and oppDir have the same parent",e.parent===t.parent),(a={})[i]=e,a[-i]=t,s=a,this.setEnds(s),l=0,this.each(function(e){l=e}),r("following direction siblings from start reaches end",l===s[mt])):this.setEnds(((o={})[ft]=0,o[mt]=0,o))}return e.prototype.getDOMFragFromEnds=function(){var e=this.ends[ft],t=this.ends[mt];return 0===e||0===t?R():e===t?e.domFrag():e.domFrag().join(t.domFrag())},e.prototype.setEnds=function(e){this.ends=e},e.prototype.getEnd=function(e){return this.ends?this.ends[e]:0},e.prototype.domFrag=function(){return this.getDOMFragFromEnds()},e.prototype.withDirAdopt=function(e,t,r,n){return e===ft?this.adopt(t,r,n):this.adopt(t,n,r)},e.prototype.adopt=function(e,t,r){var n,i,o,a,s;return c(e,t,r),i=this,this.disowned=!1,(o=i.ends[ft])&&(a=i.ends[mt])?((n={})[ft]=e.getEnd(ft),n[mt]=e.getEnd(mt),s=n,t||(s[ft]=o),r?r[ft]=a:s[mt]=a,e.setEnds(s),a[mt]=r,i.each(function(r){return r[ft]=t,r.parent=e,t&&(t[mt]=r),t=r,!0}),i):this},e.prototype.disown=function(){var e,t,r,n,i=this,o=i.ends[ft];return!o||i.disowned?i:(this.disowned=!0,(t=i.ends[mt])?(c(r=o.parent,o[ft],o),c(r,t,t[mt]),(e={})[ft]=r.getEnd(ft),e[mt]=r.getEnd(mt),n=e,o[ft]?o[ft][mt]=t[mt]:n[ft]=t[mt],t[mt]?t[mt][ft]=o[ft]:n[mt]=o[ft],n[ft]&&n[mt]?r.setEnds(n):r.ends=n,i):i)},e.prototype.remove=function(){return this.domFrag().remove(),this.disown()},e.prototype.each=function(e){return s(this.ends,e),this},e.prototype.fold=function(e,t){return l(this.ends,e,t)},e}(),N={},I={},L=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.ancestors={},i}return ht(t,e),t.fromCursor=function(e){return new t(e.parent,e[ft],e[mt])},t}(O),P=function(e){function t(t,r,n){var i=e.call(this,t,0,0)||this;return i.upDownCache={},i.cursorElement=bt("span",{class:"mq-cursor"},[bt.text(_)]),i._domFrag=R(),i.controller=n,i.options=r,i.setDOMFrag(R(i.cursorElement)),i.blink=function(){R(i.cursorElement).toggleClass("mq-blink")},i}return ht(t,e),t.prototype.setDOMFrag=function(e){return this._domFrag=e,this},t.prototype.domFrag=function(){return this._domFrag},t.prototype.show=function(){var e,t;return R(this.cursorElement).removeClass("mq-blink"),this.setDOMFrag(R(this.cursorElement)),this.intervalId?clearInterval(this.intervalId):((e=this[mt])?(t=this.selection)&&t.getEnd(ft)[ft]===this[ft]?this.domFrag().insertBefore(t.domFrag()):this.domFrag().insertBefore(e.domFrag()):this.domFrag().appendTo(this.parent.domFrag().oneElement()),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.prototype.hide=function(){return this.intervalId&&clearInterval(this.intervalId),this.intervalId=0,this.domFrag().detach(),this.setDOMFrag(R()),this},t.prototype.withDirInsertAt=function(e,t,r,n){var i=this.parent;this.parent=t,this[e]=r,this[-e]=n,i!==t&&i.blur&&i.blur(this)},t.prototype.insDirOf=function(e,t){return n(e),this.domFrag().insDirOf(e,t.domFrag()),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.domFrag().addClass("mq-hasCursor"),this},t.prototype.insLeftOf=function(e){return this.insDirOf(ft,e)},t.prototype.insRightOf=function(e){return this.insDirOf(mt,e)},t.prototype.insAtDirEnd=function(e,t){return n(e),this.domFrag().insAtDirEnd(e,t.domFrag().oneElement()),this.withDirInsertAt(e,t,0,t.getEnd(e)),t.focus(),this},t.prototype.insAtLeftEnd=function(e){return this.insAtDirEnd(ft,e)},t.prototype.insAtRightEnd=function(e){return this.insAtDirEnd(mt,e)},t.prototype.jumpUpDown=function(e,t){var r,n,i,o=this;o.upDownCache[e.id]=O.copy(o),(r=o.upDownCache[t.id])?(n=r[mt])?o.insLeftOf(n):o.insAtRightEnd(r.parent):(i=o.getBoundingClientRectWithoutMargin().left,t.seek(i,o)),o.controller.aria.queue(t,!0)},t.prototype.getBoundingClientRectWithoutMargin=function(){var e,t,r,n=this.domFrag();return n.removeClass("mq-cursor"),t=(e=a(n.oneElement())).left,r=e.right,n.addClass("mq-cursor"),{left:t,right:r}},t.prototype.unwrapGramp=function(){var e,t,r,n,i,o=this.parent.parent,a=o.parent,s=o[mt],l=o[ft];if(o.disown().eachChild(function(e){return!!e.isEmpty()||(e.children().adopt(a,l,s).each(function(e){return e.domFrag().insertBefore(o.domFrag()),!0}),l=e.getEnd(mt),!0)}),!this[mt])if(e=this[ft])this[mt]=e[mt];else for(;!this[mt];){if(!(t=this.parent[mt])){this[mt]=o[mt],this.parent=a;break}this.parent=t,this[mt]=t.getEnd(ft)}(r=this[mt])?this.insLeftOf(r):this.insAtRightEnd(a),o.domFrag().remove(),n=o[ft],i=o[mt],n&&n.siblingDeleted(this.options,mt),i&&i.siblingDeleted(this.options,ft)},t.prototype.startSelection=function(){var e,t=this.anticursor=L.fromCursor(this),r=t.ancestors;for(e=t;e.parent;e=e.parent)r[e.parent.id]=e},t.prototype.endSelection=function(){delete this.anticursor},t.prototype.select=function(){var e,t,n,i,o,a,s,l,c,u=this.anticursor;if(this[ft]===u[ft]&&this.parent===u.parent)return!1;for(t=this;t.parent;t=t.parent)if(t.parent.id in u.ancestors){e=t.parent;break}if(r("cursor and anticursor in the same tree",e),n=e,i=u.ancestors[n.id],s=mt,t[ft]!==i)for(l=t;l;l=l[mt])if(l[mt]===i[mt]){s=ft,o=t,a=i;break}return s===mt&&(o=i,a=t),o instanceof O&&(o=o[mt]),a instanceof O&&(a=a[ft]),this.hide().selection=n.selectChildren(o,a),c=this.selection.getEnd(s),this.insDirOf(s,c),this.selectionChanged(),!0},t.prototype.resetToEnd=function(e){this.clearSelection();var t=e.root;this[mt]=0,this[ft]=t.getEnd(mt),this.parent=t},t.prototype.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.prototype.deleteSelection=function(){var e=this.selection;e&&(this[ft]=e.getEnd(ft)[ft],this[mt]=e.getEnd(mt)[mt],e.remove(),this.selectionChanged(),delete this.selection)},t.prototype.replaceSelection=function(){var e=this.selection;return e&&(this[ft]=e.getEnd(ft)[ft],this[mt]=e.getEnd(mt)[mt],delete this.selection),e},t.prototype.depth=function(){for(var e=this,t=0;e=e.parent;)t+=e instanceof me?1:0;return t},t.prototype.isTooDeep=function(e){return void 0!==this.options.maxDepth&&this.depth()+(e||0)>this.options.maxDepth},t.prototype.selectionChanged=function(){},t}(O),B=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i._el=bt("span",{class:"mq-selection"}),i.getDOMFragFromEnds().wrapAll(i._el),i}return ht(t,e),t.prototype.isCleared=function(){return void 0===this._el},t.prototype.domFrag=function(){return this.isCleared()?this.getDOMFragFromEnds():R(this._el)},t.prototype.setEnds=function(e){r("Selection ends are never empty",e[ft]&&e[mt]),this.ends=e},t.prototype.getEnd=function(e){return this.ends[e]},t.prototype.adopt=function(t,r,n){return this.clear(),e.prototype.adopt.call(this,t,r,n)},t.prototype.clear=function(){var e=this.getDOMFragFromEnds();return this.domFrag().replaceWith(e),this._el=void 0,this},t.prototype.join=function(e,t){return void 0===t&&(t=""),this.fold("",function(r,n){return r+t+n[e]()})},t}(A),q=function(){function e(e,t,r){this.textareaEventListeners={},this.id=e.id,this.data={},this.root=e,this.container=t,this.options=r,this.aria=new C(this.getControllerSelf()),this.ariaLabel="Math Input",this.ariaPostLabel="",this.mathSpeakCallback=void 0,e.controller=this.getControllerSelf(),this.cursor=e.cursor=new P(e,r,this.getControllerSelf())}return e.prototype.getControllerSelf=function(){return this},e.prototype.handle=function(e,t){var n,i,o,a=this.options.handlers,s=null===(n=this.options.handlers)||void 0===n?void 0:n.fns[e];s&&(r("APIClass is defined",i=null==a?void 0:a.APIClasses[this.KIND_OF_MQ]),o=new i(this),t===ft||t===mt?s(t,o):s(o))},e.onNotify=function(t){e.notifyees.push(t)},e.prototype.notify=function(t){for(var r=0;r<e.notifyees.length;r+=1)e.notifyees[r](this.cursor,t);return this},e.prototype.setAriaLabel=function(e){var t=this.getAriaLabel();return e&&"string"==typeof e&&""!==e?this.ariaLabel=e:this.editable?this.ariaLabel="Math Input":this.ariaLabel="",this.ariaLabel===t||this.containerHasFocus()||this.updateMathspeak(),this},e.prototype.getAriaLabel=function(){return"Math Input"!==this.ariaLabel?this.ariaLabel:this.editable?"Math Input":""},e.prototype.setAriaPostLabel=function(e,t){var r=this;return e&&"string"==typeof e&&""!==e?(e!==this.ariaPostLabel&&"number"==typeof t&&(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this._ariaAlertTimeout=window.setTimeout(function(){r.containerHasFocus()?r.aria.alert(r.root.mathspeak().trim()+" "+e.trim()):r.updateMathspeak()},t)),this.ariaPostLabel=e):(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this.ariaPostLabel=""),this},e.prototype.getAriaPostLabel=function(){return this.ariaPostLabel||""},e.prototype.containerHasFocus=function(){return document.activeElement&&this.container.contains(document.activeElement)},e.prototype.getTextareaOrThrow=function(){var e=this.textarea;if(!e)throw new Error("expected a textarea");return e},e.prototype.getTextareaSpanOrThrow=function(){var e=this.textareaSpan;if(!e)throw new Error("expected a textareaSpan");return e},e.prototype.addTextareaEventListeners=function(e){var t,r;if(this.textarea)for(t in e)r=t,this.removeTextareaEventListener(r),this.textarea.addEventListener(r,e[r])},e.prototype.removeTextareaEventListener=function(e){if(this.textarea){var t=this.textareaEventListeners[e];t&&this.textarea.removeEventListener(e,t)}},e.prototype.exportMathSpeak=function(){return this.root.mathspeak()},e.prototype.setAriaStringsOverrideMap=function(e){return this.ariaStringsOverrideMap=e,this},e.prototype.updateMathspeak=function(){},e.prototype.scrollHoriz=function(){},e.prototype.selectionChanged=function(){},e.prototype.setOverflowClasses=function(){},e.notifyees=[],e}(),j={},D={},F={},z=function(){function e(e){this.version=e}return e.prototype.assertJquery=function(){return r("Interface versions > 2 do not depend on JQuery",this.version<=2),r("JQuery is set for interface v < 3",this.jQuery),this.jQuery},e}(),W=function(){return function(){}}(),H=function(){window.console},d.prototype=W.prototype,d.VERSION="v1.0.3",d.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(H=function(){window.console})(),d},d.getInterface=h,V=h.MIN=1,G=h.MAX=3,X=function(){function e(e){this._=e}return e.prototype.parse=function(t){return this.skip(e.eof)._(""+t,function(e,t){return t},f)},e.prototype.or=function(t){r("or is passed a parser",t instanceof e);var n=this;return new e(function(e,r,i){return n._(e,r,function(n){return t._(e,r,i)})})},e.prototype.then=function(t){var n=this;return new e(function(i,o,a){return n._(i,function(n,i){var s=t instanceof e?t:t(i);return r("a parser is returned",s instanceof e),s._(n,o,a)},a)})},e.prototype.many=function(){var t=this;return new e(function(e,r,n){function i(t,r){return e=t,a.push(r),!0}function o(){return!1}for(var a=[];t._(e,i,o););return r(e,a)})},e.prototype.times=function(t,r){arguments.length<2&&(r=t);var n=this;return new e(function(e,i,o){function a(t,r){return d.push(r),e=t,!0}function s(t,r){return c=r,e=t,!1}function l(e,t){return!1}var c,u,d=[],h=!0;for(u=0;u<t;u+=1)if(!(h=!!n._(e,a,s)))return o(e,c);for(;u<r&&h;u+=1)n._(e,a,l);return i(e,d)})},e.prototype.result=function(t){return this.then(e.succeed(t))},e.prototype.atMost=function(e){return this.times(0,e)},e.prototype.atLeast=function(e){var t=this;return t.times(e).then(function(e){return t.many().map(function(t){return e.concat(t)})})},e.prototype.map=function(t){return this.then(function(r){return e.succeed(t(r))})},e.prototype.skip=function(e){return this.then(function(t){return e.result(t)})},e.string=function(t){var r=t.length,n="expected '"+t+"'";return new e(function(e,i,o){var a=e.slice(0,r);return a===t?i(e.slice(r),a):o(e,n)})},e.regex=function(t){r("regexp parser is anchored","^"===t.toString().charAt(1));var n="expected "+t;return new e(function(e,r,i){var o,a=t.exec(e);return a?(o=a[0],r(e.slice(o.length),o)):i(e,n)})},e.succeed=function(t){return new e(function(e,r){return r(e,t)})},e.fail=function(t){return new e(function(e,r,n){return n(e,t)})},e.letter=e.regex(/^[a-z]/i),e.letters=e.regex(/^[a-z]*/i),e.digit=e.regex(/^[0-9]/),e.digits=e.regex(/^[0-9]*/),e.whitespace=e.regex(/^\s+/),e.optWhitespace=e.regex(/^\s*/),e.any=new e(function(e,t,r){return e?t(e.slice(1),e.charAt(0)):r(e,"expected any character")}),e.all=new e(function(e,t,r){return t("",e)}),e.eof=new e(function(e,t,r){return e?r(e,"expected EOF"):t(e,e)}),e}(),K=function(){function t(){this.fn=e}return t.prototype.listen=function(e){this.fn=e,clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.fn)},t.prototype.listenOnce=function(e){var t=this;this.listen(function(){var r,n=[];for(r=0;r<arguments.length;r++)n[r]=arguments[r];t.clearListener(),e.apply(void 0,n)})},t.prototype.clearListener=function(){this.fn=e,clearTimeout(this.timeoutId)},t.prototype.trigger=function(){var e,t=[];for(e=0;e<arguments.length;e++)t[e]=arguments[e];this.fn.apply(this,t)},t}(),Y=function(){function e(e){switch(t(e)){case"Right":case"Left":case"Down":case"Up":return!0}return!1}function t(e){var t,r;return void 0===e.key?(r=e.which||e.keyCode,n[r]||String.fromCharCode(r)):function(e){return 1===e.length&&e>="a"&&e<="z"}(e.key)?e.key.toUpperCase():null!==(t=i[e.key])&&void 0!==t?t:e.key}function r(e){var r=t(e),n=[];return e.ctrlKey&&n.push("Ctrl"),e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),n.length?("Alt"!==r&&"Control"!==r&&"Meta"!==r&&"Shift"!==r&&n.push(r),n.join("-")):r}var n={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},i={ArrowRight:"Right",ArrowLeft:"Left",ArrowDown:"Down",ArrowUp:"Up",Delete:"Del",Escape:"Esc"," ":"Spacebar"};return function(t,n){function i(){try{t instanceof HTMLTextAreaElement&&t.select()}catch(e){}}function o(){n.options&&n.options.overrideKeystroke?n.options.overrideKeystroke(r(p),p):n.keystroke(r(p),p)}function a(e){m.trigger(e),e.target===t&&(p=e,f=null,g&&m.listenOnce(function(e){e&&"focusout"===e.type||i()}),o())}function s(r){m.trigger(r),r.target===t&&(p&&f&&o(),f=r,e(r)?m.listenOnce(u):m.listen(c))}function l(r){m.trigger(r),r.target===t&&p&&!f&&(e(r)?m.listenOnce(u):m.listen(c))}function c(){if(!("selectionStart"in t&&t instanceof HTMLTextAreaElement&&t.selectionStart!==t.selectionEnd)&&t instanceof HTMLTextAreaElement){var e=t.value;(!p||p.altKey||!p.ctrlKey||p.metaKey||!p.shiftKey||"U"!==p.key&&"Unidentified"!==p.key&&"Process"!==p.key)&&(1===e.length?(t.value="",n.options&&n.options.overrideTypedText?n.options.overrideTypedText(e):n.typedText(e)):u())}}function u(){t instanceof HTMLTextAreaElement&&t.value.length>1&&i()}function d(){p=null,f=null,m.clearListener(),t instanceof HTMLTextAreaElement&&(t.value="")}function h(e){m.trigger(e)}var p=null,f=null,m=new K,g=!1;return n.options&&n.options.disableCopyPaste?n.addTextareaEventListeners({keydown:a,keypress:s,keyup:l,focusout:d,copy:function(e){e.preventDefault()},cut:function(e){e.preventDefault()},paste:function(e){m.trigger(),e.preventDefault()},input:h}):n.addTextareaEventListeners({keydown:a,keypress:s,keyup:l,focusout:d,cut:function(){m.listenOnce(function(){n.cut()})},copy:function(){m.listenOnce(function(){n.copy()})},paste:function(e){m.trigger(),e.target===t&&(document.activeElement!==t&&t.focus(),m.listen(function(){if(t instanceof HTMLTextAreaElement){var e=t.value;t.value="",e&&n.paste(e)}}))},input:h}),{select:function(e){m.trigger(),m.clearListener(),t instanceof HTMLTextAreaElement&&(t.value=e),e&&i(),g=!!e}}}}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.exportText=function(){return this.root.foldChildren("",function(e,t){return e+t.text()})},t}(q),q.onNotify(function(e,t){if("edit"===t||"replace"===t||void 0===t){var r=e.controller;if(!r)return;if(!r.options.enableDigitGrouping)return;if(!1!==r.blurred)return;r.disableGroupingForSeconds(1)}}),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTextareaFocusEditable=function(){var e=t.cursor;t.updateMathspeak(),t.blurred=!1,clearTimeout(t.blurTimeout),R(t.container).addClass("mq-focused"),e.parent||e.insAtRightEnd(t.root),e.selection?(e.selection.domFrag().removeClass("mq-blur"),t.selectionChanged()):e.show(),t.setOverflowClasses()},t.handleTextareaBlurEditable=function(){t.textareaSelectionTimeout&&(clearTimeout(t.textareaSelectionTimeout),t.textareaSelectionTimeout=0),t.disableGroupingForSeconds(0),t.blurred=!0,t.blurTimeout=window.setTimeout(function(){t.root.postOrder(function(e){e.intentionalBlur()}),t.cursor.clearSelection().endSelection(),t.blur(),t.updateMathspeak(),t.scrollHoriz()}),window.addEventListener("blur",t.handleWindowBlur)},t.handleTextareaFocusStatic=function(){t.blurred=!1},t.handleTextareaBlurStatic=function(){t.cursor.selection&&t.cursor.selection.clear(),window.setTimeout(function(){R(t.getTextareaSpanOrThrow()).detach(),t.blurred=!0})},t.handleWindowBlur=function(){clearTimeout(t.blurTimeout),t.cursor.selection&&t.cursor.selection.domFrag().addClass("mq-blur"),t.blur(),t.updateMathspeak()},t}return ht(t,e),t.prototype.disableGroupingForSeconds=function(e){var t=this;clearTimeout(this.__disableGroupingTimeout),0===e?this.root.domFrag().removeClass("mq-suppress-grouping"):(this.root.domFrag().addClass("mq-suppress-grouping"),this.__disableGroupingTimeout=window.setTimeout(function(){t.root.domFrag().removeClass("mq-suppress-grouping")},1e3*e))},t.prototype.blur=function(){this.cursor.hide().parent.blur(this.cursor),R(this.container).removeClass("mq-focused"),window.removeEventListener("blur",this.handleWindowBlur),this.options&&this.options.resetCursorOnBlur&&this.cursor.resetToEnd(this)},t.prototype.addEditableFocusBlurListeners=function(){var e=this.cursor;this.addTextareaEventListeners({focus:this.handleTextareaFocusEditable,blur:this.handleTextareaBlurEditable}),this.blurred=!0,e.hide().parent.blur(e)},t.prototype.addStaticFocusBlurListeners=function(){this.addTextareaEventListeners({focus:this.handleTextareaFocusStatic,blur:this.handleTextareaBlurStatic})},t}(J),Q=!1,ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.keystroke=function(e,r,n){var i=n.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(ft);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(mt,e,r);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(ft,e,r);case"End":n.notify("move").cursor.insAtRightEnd(i.parent),n.aria.queueDirEndOf(mt,i.parent,!0);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root),n.aria.queueDirEndOf(mt,[n.ariaLabel,n.root,n.ariaPostLabel]);break;case"Shift-End":n.selectToBlockEndInDir(mt);break;case"Ctrl-Shift-End":n.selectToRootEndInDir(mt);break;case"Home":n.notify("move").cursor.insAtLeftEnd(i.parent),n.aria.queueDirEndOf(ft,i.parent,!0);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root),n.aria.queueDirEndOf(ft,[n.ariaLabel,n.root,n.ariaPostLabel]);break;case"Shift-Home":n.selectToBlockEndInDir(ft);break;case"Ctrl-Shift-Home":n.selectToRootEndInDir(ft);break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":case"Ctrl-Right":case"Ctrl-Up":case"Ctrl-Down":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":n.withIncrementalSelection(function(e){if(i[ft])for(;i[ft];)e(ft);else e(ft)});break;case"Shift-Down":n.withIncrementalSelection(function(e){if(i[mt])for(;i[mt];)e(mt);else e(mt)});break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(mt);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":n.selectAll();break;case"Ctrl-Alt-Up":i.parent.parent&&i.parent.parent instanceof t?n.aria.queue(i.parent.parent):n.aria.queueTranslatableString("nothing above");break;case"Ctrl-Alt-Down":i.parent&&i.parent instanceof t?n.aria.queue(i.parent):n.aria.queueTranslatableString("block is empty");break;case"Ctrl-Alt-Left":i.parent.parent&&i.parent.parent.getEnd(ft)?n.aria.queue(i.parent.parent.getEnd(ft)):n.aria.queueTranslatableString("nothing to the left");break;case"Ctrl-Alt-Right":i.parent.parent&&i.parent.parent.getEnd(mt)?n.aria.queue(i.parent.parent.getEnd(mt)):n.aria.queueTranslatableString("nothing to the right");break;case"Ctrl-Alt-Shift-Down":i.selection?n.aria.queueSelected(i.selection.join("mathspeak"," ").trim()):n.aria.queueTranslatableString("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":n.ariaPostLabel.length?n.aria.queue(n.ariaPostLabel):n.aria.queueTranslatableString("no answer");break;default:return}n.aria.alert(),null==r||r.preventDefault(),n.scrollHoriz()},t.prototype.moveOutOf=function(e,t,n){r("overridden or never called on this node",!1)},t.prototype.moveTowards=function(e,t,n){r("overridden or never called on this node",!1)},t.prototype.deleteOutOf=function(e,t){r("overridden or never called on this node",!1)},t.prototype.deleteTowards=function(e,t){r("overridden or never called on this node",!1)},t.prototype.unselectInto=function(e,t){r("overridden or never called on this node",!1)},t.prototype.selectOutOf=function(e,t){r("overridden or never called on this node",!1)},t.prototype.selectTowards=function(e,t){r("overridden or never called on this node",!1)},t}(k),q.onNotify(function(e,t){"move"!==t&&"upDown"!==t||e.show().clearSelection()}),F.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},q.onNotify(function(e,t){"upDown"!==t&&(e.upDownCache={})}),q.onNotify(function(e,t){"edit"===t&&e.show().deleteSelection()}),q.onNotify(function(e,t){"select"!==t&&e.endSelection()}),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this.getControllerSelf())},t.prototype.escapeDir=function(e,t,r){n(e);var i=this.cursor;if(i.parent!==this.root&&(null==r||r.preventDefault()),i.parent!==this.root)return i.clearSelection(),i.parent.moveOutOf(e,i),i.controller.aria.alert(),this.notify("move")},t.prototype.moveDir=function(e){var t,r,i;return n(e),r=(t=this.cursor).options.leftRightIntoCmdGoes,i=t[e],t.selection?t.insDirOf(e,t.selection.getEnd(e)):i?i.moveTowards(e,t,r):t.parent.moveOutOf(e,t,r),this.notify("move")},t.prototype.moveLeft=function(){return this.moveDir(ft)},t.prototype.moveRight=function(){return this.moveDir(mt)},t.prototype.moveUp=function(){return this.moveUpDown("up")},t.prototype.moveDown=function(){return this.moveUpDown("down")},t.prototype.moveUpDown=function(e){var t,r,n,i,o,a,s=this.notify("upDown").cursor;return"up"===e?(t="upInto",r="upOutOf"):(t="downInto",r="downOutOf"),n=s[ft],o=(i=s[mt])&&i[t],a=n&&n[t],o?s.insAtLeftEnd(o):a?s.insAtRightEnd(a):s.parent.bubble(function(e){var t=e[r];if(t&&("function"==typeof t&&(t=t.call(e,s)),t instanceof ee&&s.jumpUpDown(e,t),!0!==t))return!1}),this},t.prototype.deleteDir=function(e){var t,r,i,o,a,s,l,c,u,d;return n(e),r=(t=this.cursor)[e],i=t.parent.parent,o=t.controller,r&&r instanceof ee?r.sides?o.aria.queue(r.parent.chToCmd(r.sides[-e].ch).mathspeak({createdLeftOf:t})):r.blocks||"\\text"===r.parent.ctrlSeq||o.aria.queue(r):i&&i instanceof ee&&(i.sides?o.aria.queue(i.parent.chToCmd(i.sides[e].ch).mathspeak({createdLeftOf:t})):i.blocks&&i.mathspeakTemplate?i.upInto&&i.downInto?o.aria.queue(i.mathspeakTemplate[1]):(a=i.mathspeakTemplate,s=e===ft?a[0]:a[a.length-1],o.aria.queue(s)):o.aria.queue(i)),l=t.selection,this.notify("edit"),l||((c=t[e])?c.deleteTowards(e,t):t.parent.deleteOutOf(e,t)),u=t[ft],d=t[mt],u.siblingDeleted&&u.siblingDeleted(t.options,mt),d.siblingDeleted&&d.siblingDeleted(t.options,ft),t.parent.bubble(function(e){e.reflow()}),this},t.prototype.ctrlDeleteDir=function(e){var t,r,i,o;return n(e),!(t=this.cursor)[e]||t.selection?this.deleteDir(e):(this.notify("edit"),r=e===ft?new A(t.parent.getEnd(ft),t[ft]):new A(t[mt],t.parent.getEnd(mt)),t.controller.aria.queue(r),r.remove(),t.insAtDirEnd(e,t.parent),i=t[ft],o=t[mt],i&&i.siblingDeleted(t.options,mt),o&&o.siblingDeleted(t.options,ft),t.parent.bubble(function(e){e.reflow()}),this)},t.prototype.backspace=function(){return this.deleteDir(ft)},t.prototype.deleteForward=function(){return this.deleteDir(mt)},t.prototype.startIncrementalSelection=function(){r("Multiple selections can't be simultaneously open",!Q),Q=!0,this.notify("select");var e=this.cursor;e.anticursor||e.startSelection()},t.prototype.selectDirIncremental=function(e){var t,i,o;r("A selection is open",Q),Q=!0,i=(t=this.cursor).selection,n(e),(o=t[e])?i&&i.getEnd(e)===o&&t.anticursor[-e]!==o?o.unselectInto(e,t):o.selectTowards(e,t):t.parent.selectOutOf(e,t)},t.prototype.finishIncrementalSelection=function(){var e,t;r("A selection is open",Q),(e=this.cursor).clearSelection(),e.select()||e.show(),(t=e.selection)&&e.controller.aria.clear().queueSelected(t.join("mathspeak"," ").trim()),Q=!1},t.prototype.withIncrementalSelection=function(e){var t=this;try{this.startIncrementalSelection();try{e(function(e){return t.selectDirIncremental(e)})}finally{this.finishIncrementalSelection()}}finally{Q=!1}},t.prototype.selectDir=function(e){this.withIncrementalSelection(function(t){return t(e)})},t.prototype.selectLeft=function(){return this.selectDir(ft)},t.prototype.selectRight=function(){return this.selectDir(mt)},t.prototype.selectAll=function(){this.notify("move");var e=this.cursor;e.insAtRightEnd(this.root),this.withIncrementalSelection(function(t){for(;e[ft];)t(ft)})},t.prototype.selectToBlockEndInDir=function(e){var t=this.cursor;this.withIncrementalSelection(function(r){for(;t[e];)r(e)})},t.prototype.selectToRootEndInDir=function(e){var t=this,r=this.cursor;this.withIncrementalSelection(function(n){for(;r[e]||r.parent!==t.root;)n(e)})},t}(Z),function(e){function t(t){return e.call(this)||this}ht(t,e)}(ee),re=function(){function e(e){var t,r=e[0]||new me;for(t=1;t<e.length;t+=1)e[t].children().adopt(r,r.getEnd(mt),0);return r}var t=X.string,r=X.regex,n=X.letter,i=X.digit,o=X.any,a=X.optWhitespace,s=X.succeed,l=X.fail,c=n.map(function(e){return new xe(e)}),u=i.map(function(e){return new be(e)}),d=r(/^[^${}\\_^]/).map(function(e){return new pe(e)}),h=r(/^[^\\a-eg-zA-Z]/).or(t("\\").then(r(/^[a-z]+/i).or(r(/^\s+/).result(" ")).or(o))).then(function(e){var t=N[e];return t?t.constructor?new t(e).parser():t(e).parser():l("unknown command: \\"+e)}).or(c).or(u).or(d),p=t("{").then(function(){return m}).skip(t("}")),f=a.then(p.or(h.map(function(e){var t=new me;return e.adopt(t,0,0),t}))),m=f.many().map(e).skip(a),g=t("[").then(f.then(function(e){return"]"!==e.join("latex")?s(e):l("")}).many().map(e).skip(a)).skip(t("]")),y=m;return y.block=f,y.optBlock=g,y}(),F.maxDepth=function(e){return"number"==typeof e?e:void 0},ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.prototype.exportLatex=function(){return this.cleanLatex(this.root.latex())},t.prototype.writeLatex=function(e){var t=this.notify("edit").cursor;return t.parent.writeLatex(t,e),this},t.prototype.exportLatexSelection=function(){var e,t,r,n,i,o,a,s,l,c,u={latex:"",startIndex:-1,endIndex:-1},d=this.cursor.selection;for(d?(u.startSelectionBefore=d.getEnd(ft),u.endSelectionAfter=d.getEnd(mt)):((r=this.cursor[ft])?u.startSelectionAfter=r:u.startSelectionBefore=this.cursor.parent,(n=this.cursor[mt])?u.endSelectionBefore=n:u.endSelectionAfter=this.cursor.parent),null===(t=(e=this.root).latexRecursive)||void 0===t||t.call(e,u),i=u.latex,o=this.cleanLatex(i),a=u.startIndex,s=u.endIndex,l=0,c=0;c<u.endIndex;c++)i[c]!==o[l]?(c<u.startIndex&&(a-=1),s-=1):l+=1;return{latex:o,startIndex:a,endIndex:s}},t.prototype.classifyLatexForEfficientUpdate=function(e){if("string"==typeof e){var t=e.match(/-?[0-9.]+$/g);return t&&1===t.length?{latex:e,prefix:e.substr(0,e.length-t[0].length),digits:t[0]}:void 0}},t.prototype.updateLatexMathEfficiently=function(e,t){var r,n,i,o,a,s,l,c,u,d,h,p,f,m,g,y,b,v,x,$,S,E,w,_=this.root,M=this.classifyLatexForEfficientUpdate(e);if(!M)return!1;if(!(a=this.classifyLatexForEfficientUpdate(t))||a.prefix!==M.prefix)return!1;for(s=a.digits,l=M.digits,c=!1,u=!1,"-"===s[0]&&(c=!0,s=s.substr(1)),"-"===l[0]&&(u=!0,l=l.substr(1)),d=this.root.getEnd(mt),h=[],p=s.length-1;p>=0;p--){if(!d||d.ctrlSeq!==s[p])return!1;if(d.parent!==_)return!1;h.unshift(d),d=d[ft]}if(c&&!u){if(!(f=d))return!1;if("-"!==f.ctrlSeq)return!1;if(f[mt]!==h[0])return!1;if(f.parent!==_)return!1;if((m=f[ft])&&m.parent!==_)return!1;h[0][ft]=f[ft],_.getEnd(ft)===f&&_.setEnds(((r={})[ft]=h[0],r[mt]=_.getEnd(mt),r)),m&&(m[mt]=h[0]),f.domFrag().remove()}for(!c&&u&&(g=new Ce("-"),(y=document.createElement("span")).textContent="-",g.setDOM(y),(b=h[0][ft])&&(b[mt]=g),_.getEnd(ft)===h[0]&&_.setEnds(((n={})[ft]=g,n[mt]=_.getEnd(mt),n)),g.parent=_,g[ft]=h[0][ft],g[mt]=h[0],h[0][ft]=g,g.contactWeld(this.cursor),g.domFrag().insertBefore(h[0].domFrag())),v=Math.min(s.length,l.length),p=0;p<v;p++)x=l[p],(d=h[p]).ctrlSeq!==x&&(d.ctrlSeq=x,d.domFrag().oneElement().textContent=x,d.mathspeakName=x);if(s.length>l.length)for(d=h[l.length-1],_.setEnds(((i={})[ft]=_.getEnd(ft),i[mt]=d,i)),d[mt]=0,p=s.length-1;p>=v;p--)h[p].domFrag().remove();if(l.length>s.length){for($=document.createDocumentFragment(),p=v;p<l.length;p++)(S=document.createElement("span")).className="mq-digit",S.textContent=l[p],(E=new be(l[p])).parent=_,E.setDOM(S),$.appendChild(S),E[ft]=_.getEnd(mt),E[mt]=0,E[ft][mt]=E,_.setEnds(((o={})[ft]=_.getEnd(ft),o[mt]=E,o));_.domFrag().oneElement().appendChild($)}return this.exportLatex()===e&&((w=_.getEnd(mt))&&w.fixDigitGrouping(this.cursor.options),!0)},t.prototype.renderLatexMathFromScratch=function(e){var t,r,n=this.root,i=this.cursor,o=X.all,a=X.eof,s=re.skip(a).or(o.result(!1)).parse(e);n.setEnds(((t={})[ft]=0,t[mt]=0,t)),s&&s.children().adopt(n,0,0),s?((r=n.domFrag()).children().remove(),r.oneElement().appendChild(s.html()),n.finalizeInsert(i.options,i)):n.domFrag().empty()},t.prototype.renderLatexMath=function(e){var t,r=this.cursor,n=this.root;this.notify("replace"),r.clearSelection(),t=this.exportLatex(),n.getEnd(ft)&&n.getEnd(mt)&&t===e||(this.updateLatexMathEfficiently(e,t)||this.renderLatexMathFromScratch(e),this.updateMathspeak()),r.insAtRightEnd(n)},t.prototype.renderLatexText=function(e){var t,r,n,i,o,a,s,l,c,u=this.root,d=this.cursor;if(u.domFrag().children().slice(1).remove(),u.setEnds(((t={})[ft]=0,t[mt]=0,t)),delete d.selection,d.show().insAtRightEnd(u),r=X.regex,n=X.string,i=X.eof,o=X.all,a=n("$").then(re).skip(n("$").or(i)).map(function(e){var t,r=new lt(d);return r.createBlocks(),t=r.getEnd(ft),e.children().adopt(t,0,0),r}),s=n("\\$").result("$").or(r(/^[^$]/)).map(function(e){return new pe(e)}),l=a.or(s).many().skip(i).or(o.result(!1)).parse(e)){for(c=0;c<l.length;c+=1)l[c].adopt(u,u.getEnd(mt),0);R(u.html()).appendTo(u.domFrag().oneElement()),u.finalizeInsert(d.options,d)}},t}(te),ie=function(e){return!1},z.prototype.ignoreNextMousedown=ie,q.onNotify(function(e,t){"edit"!==t&&"replace"!==t||oe&&oe.cursor===e&&oe.cb()}),ae=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.handleMouseDown=function(t){function n(e){c=e.target}function i(e){m.anticursor||m.startSelection(),f.seek(c,e.clientX,e.clientY).cursor.select(),m.selection&&m.controller.aria.clear().queue(m.selection.join("mathspeak")+" selected").alert(),c=null}function a(){null==d||d.removeEventListener("mousemove",n),null==p||p.removeEventListener("mousemove",i),null==p||p.removeEventListener("mouseup",l),oe=void 0}function s(){f.editable?(m.show(),m.controller.aria.queue(m.parent).alert()):R(y).detach()}function l(){m.blink=g,m.selection||s(),a()}var c,u,d=o(t.target,".mq-root-block"),h=d&&k.getNodeOfElement(d)||k.getNodeOfElement(r.root.domFrag().oneElement()),p=h.domFrag().firstNode().ownerDocument,f=h.controller,m=f.cursor,g=m.blink,y=f.getTextareaSpanOrThrow(),b=f.getTextareaOrThrow();if(t.preventDefault(),t.target.unselectable=!0,!m.options.ignoreNextMousedown(t)&&!o(t.target,".mq-ignore-mousedown")){if(3===t.detail)return void f.selectAll();c=null,oe={cursor:m,cb:function(){u=!0,m.blink=g,m.clearSelection(),s(),a()}},f.blurred&&(d&&!f.editable&&R(d).prepend(R(y)),b.focus(),u)||(m.blink=e,f.seek(t.target,t.clientX,t.clientY).cursor.startSelection(),null==d||d.addEventListener("mousemove",n),null==p||p.addEventListener("mousemove",i),null==p||p.addEventListener("mouseup",l))}},r}return ht(r,t),r.prototype.addMouseEventListener=function(){this.container.addEventListener("mousedown",this.handleMouseDown)},r.prototype.removeMouseEventListener=function(){this.container.removeEventListener("mousedown",this.handleMouseDown)},r.prototype.seek=function(e,t,r){for(var n,i=this.notify("select").cursor;e&&!(n=k.getNodeOfElement(e));)e=e.parentElement;return n||(n=this.root),i.clearSelection().show(),n.seek(t,i),this.scrollHoriz(),this},r}(ne),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.setOverflowClasses=function(){var e,t,r=this.root.domFrag().oneElement(),n=!1,i=!1;this.blurred||(e=a(r).width,n=r.scrollWidth>e+(t=r.scrollLeft),i=t>0),r.classList.contains("mq-editing-overflow-right")!==n&&r.classList.toggle("mq-editing-overflow-right"),r.classList.contains("mq-editing-overflow-left")!==i&&r.classList.toggle("mq-editing-overflow-left")},t.prototype.scrollHoriz=function(){var e,t,r,n,i,o,s,l,c,u,d=this,h=this.cursor,p=h.selection,f=a(this.root.domFrag().oneElement());if(h.domFrag().isEmpty()&&!p)return this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0),e=this.root.domFrag().oneElement(),t=e.scrollLeft,void M(this.getScrollAnimationDuration(),function(r,n,i){r>=1?(d.cancelScrollHoriz=void 0,e.scrollLeft=0,d.setOverflowClasses()):(d.cancelScrollHoriz=i,n(),e.scrollLeft=Math.round((1-r)*t))});if(p)if(o=(i=a(p.domFrag().oneElement())).left-(f.left+20),s=i.right-(f.right-20),p.getEnd(ft)===h[mt])if(o<0)n=o;else{if(!(s>0))return;n=i.left-s<f.left+20?o:s}else if(s>0)n=s;else{if(!(o<0))return;n=i.right-o>f.right-20?s:o}else if((r=a(h.domFrag().oneElement()).left)>f.right-20)n=r-(f.right-20);else{if(!(r<f.left+20))return;n=r-(f.left+20)}l=this.root.domFrag().oneElement(),n<0&&0===l.scrollLeft||n>0&&l.scrollWidth<=l.scrollLeft+f.width||(this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0),c=this.root.domFrag().oneElement(),u=c.scrollLeft,M(this.getScrollAnimationDuration(),function(e,t,r){e>=1?(d.cancelScrollHoriz=void 0,c.scrollLeft=Math.round(u+n),d.setOverflowClasses()):(d.cancelScrollHoriz=r,t(),c.scrollLeft=Math.round(u+e*n))}))},t.prototype.getScrollAnimationDuration=function(){var e;return null!==(e=this.options.scrollAnimationDuration)&&void 0!==e?e:100},t}(ae),z.prototype.substituteTextarea=function(){return bt("textarea",{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:!1,"x-palm-disable-ste-all":!0})},z.prototype.substituteKeyboardEvents=m,le=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.selectFn=e,r}return ht(r,t),r.prototype.createTextarea=function(){var e,t;if(this.textareaSpan=bt("span",{class:"mq-textarea"}),!(e=this.options.substituteTextarea()).nodeType)throw"substituteTextarea() must return a DOM element, got "+e;this.textarea=R(e).appendTo(this.textareaSpan).oneElement(),(t=this).cursor.selectionChanged=function(){t.selectionChanged()}},r.prototype.selectionChanged=function(){var e=this;e.textareaSelectionTimeout||(e.textareaSelectionTimeout=window.setTimeout(function(){e.setTextareaSelection()}))},r.prototype.setTextareaSelection=function(){this.textareaSelectionTimeout=0;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},r.prototype.staticMathTextareaEvents=function(){var e=this;this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste"),e.options.disableCopyPaste?this.removeTextareaEventListener("copy"):this.addTextareaEventListeners({copy:function(){e.setTextareaSelection()}}),this.addStaticFocusBlurListeners(),e.selectFn=function(t){var r=e.getTextareaOrThrow();r instanceof HTMLTextAreaElement&&(r.value=t,t&&r.select())}},r.prototype.editablesTextareaEvents=function(){var e,t,r,n=this.getTextareaOrThrow(),i=this.getTextareaSpanOrThrow();this.options.version<3?(e=this.options.assertJquery(),t=this.options.substituteKeyboardEvents(e(n),this),this.selectFn=function(e){t.select(e)}):(r=Y(n,this).select,this.selectFn=r),R(this.container).prepend(R(i)),this.addEditableFocusBlurListeners(),this.updateMathspeak()},r.prototype.unbindEditablesEvents=function(){var e=this,t=e.getTextareaOrThrow(),r=e.getTextareaSpanOrThrow();this.selectFn=function(e){t instanceof HTMLTextAreaElement&&(t.value=e,e&&t.select())},R(r).remove(),this.removeTextareaEventListener("focus"),this.removeTextareaEventListener("blur"),e.blurred=!0,this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste")},r.prototype.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify(void 0).cursor;t.parent.write(t,e),this.scrollHoriz()},r.prototype.cut=function(){var e=this,t=e.cursor;t.selection&&window.setTimeout(function(){e.notify("edit"),t.parent.bubble(function(e){e.reflow()}),e.options&&e.options.onCut&&e.options.onCut()})},r.prototype.copy=function(){this.setTextareaSelection()},r.prototype.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()},r.prototype.setupStaticField=function(){this.mathspeakSpan=bt("span",{class:"mq-mathspeak"}),R(this.container).prepend(R(this.mathspeakSpan)),this.updateMathspeak(),this.blurred=!0,this.cursor.hide().parent.blur(this.cursor)},r.prototype.updateMathspeak=function(){var e,t,r,n=this,i=n.getAriaLabel(),o=/[A-Za-z0-9]$/.test(i)?i+":":i,a=n.root.mathspeak().trim();this.aria.clear(),t=(null===(e=n.ariaStringsOverrideMap)||void 0===e?void 0:e.labelValue)?n.ariaStringsOverrideMap.labelValue(i,a):o+" "+a,r=n.getTextareaOrThrow(),n.mathspeakSpan?(r.setAttribute("aria-label",""),n.mathspeakSpan.textContent=t.trim()):r.setAttribute("aria-label",[t,n.ariaPostLabel].join(" ").trim())},r}(se),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.finalizeInsert=function(e,t){var r,n,i=this;i.postOrder(function(t){t.finalizeTree(e)}),i.postOrder(function(e){e.contactWeld(t)}),i.postOrder(function(e){e.blur(t)}),i.postOrder(function(e){e.reflow()}),r=i[mt],n=i[ft],r&&r.siblingCreated(e,ft),n&&n.siblingCreated(e,mt),i.bubble(function(e){e.reflow()})},t.prototype.prepareInsertionAt=function(e){var t,r=e.options.maxDepth;if(void 0!==r){if((t=e.depth())>r)return!1;this.removeNodesDeeperThan(r-t)}return!0},t.prototype.removeNodesDeeperThan=function(e){for(var t,r,n=0,i=[[this,n]];t=i.shift();)(r=t)[0].children().each(function(t){var o=t instanceof me?1:0;(n=r[1]+o)<=e?i.push([t,n]):(o?t.children():t).remove()})},t}(ee),ue=function(){return function(e,t){this.childCount=e,this.render=t}}(),de=function(e){function t(t,r,n){var i=e.call(this)||this;return i.textTemplate=[""],i.mathspeakTemplate=[""],i.setCtrlSeqHtmlAndText(t,r,n),i}return ht(t,e),t.prototype.setEnds=function(e){r("MathCommand ends are never empty",e[ft]&&e[mt]),this.ends=e},t.prototype.getEnd=function(e){return this.ends[e]},t.prototype.setCtrlSeqHtmlAndText=function(e,t,r){this.ctrlSeq||(this.ctrlSeq=e),t&&(this.domView=t),r&&(this.textTemplate=r)},t.prototype.replaces=function(e){e.disown(),this.replacedFragment=e},t.prototype.isEmpty=function(){return this.foldChildren(!0,function(e,t){return e&&t.isEmpty()})},t.prototype.parser=function(){var e=this;return re.block.times(this.numBlocks()).map(function(t){e.blocks=t;for(var r=0;r<t.length;r+=1)t[r].adopt(e,e.getEnd(mt),0);return e})},t.prototype.createLeftOf=function(t){var r,n=this,i=n.replacedFragment;n.createBlocks(),e.prototype.createLeftOf.call(this,t),i&&(r=n.getEnd(ft),i.adopt(r,0,0),i.domFrag().appendTo(r.domFrag().oneElement()),n.placeCursor(t),n.prepareInsertionAt(t)),n.finalizeInsert(t.options,t),n.placeCursor(t)},t.prototype.createBlocks=function(){var e,t=this,r=t.numBlocks(),n=t.blocks=Array(r);for(e=0;e<r;e+=1)(n[e]=new me).adopt(t,t.getEnd(mt),0)},t.prototype.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.getEnd(ft),function(e,t){return e.isEmpty()?e:t}))},t.prototype.moveTowards=function(e,t,r){var n,i;"up"===r?n=this.upInto:"down"===r&&(n=this.downInto),i=n||this.getEnd(-e),t.insAtDirEnd(-e,i),t.controller.aria.queueDirEndOf(-e,t.parent,!0)},t.prototype.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t)},t.prototype.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},t.prototype.selectChildren=function(){return new B(this,this)},t.prototype.unselectInto=function(e,t){var r=t.anticursor.ancestors[this.id];t.insAtDirEnd(-e,r)},t.prototype.seek=function(e,t){function r(e){var t,r=e.domFrag().oneElement(),n=a(r).left,i=n+r.offsetWidth;return(t={})[ft]=n,t[mt]=i,t}var n,i=this,o=r(i);return e<o[ft]?t.insLeftOf(i):e>o[mt]?t.insRightOf(i):(n=o[ft],void i.eachChild(function(a){var s=r(a);return e<s[ft]?(e-n<s[ft]-e?a[ft]?t.insAtRightEnd(a[ft]):t.insLeftOf(i):t.insAtLeftEnd(a),!1):e>s[mt]?void(a[mt]?n=s[mt]:o[mt]-e<e-s[mt]?t.insRightOf(i):t.insAtRightEnd(a)):(a.seek(e,t),!1)}))},t.prototype.numBlocks=function(){return this.domView.childCount},t.prototype.html=function(){var e,t=this.blocks;return r("domView is defined",this.domView),e=this.domView.render(t||[]),this.setDOM(e),k.linkElementByCmdNode(e,this),e},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.eachChild(function(t){var r,n;e.latex+="{",n=e.latex.length,null===(r=t.latexRecursive)||void 0===r||r.call(t,e),n===e.latex.length&&(e.latex+=" "),e.latex+="}"}),this.checkCursorContextClose(e)},t.prototype.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],function(r,n){t+=1;var i=n.text();return r&&"("===e.textTemplate[t]&&"("===i[0]&&")"===i.slice(-1)?r+i.slice(1,-1)+e.textTemplate[t]:r+i+(e.textTemplate[t]||"")})},t.prototype.mathspeak=function(){var e,t,r;return this.mathspeakOverride&&(e=this.latex(),!/^(\\)+$/.test(e))?this.mathspeakOverride(e):(r=0,(t=this).foldChildren(t.mathspeakTemplate[r]||"Start"+t.ctrlSeq+" ",function(e,n){return r+=1,e+" "+n.mathspeak()+" "+(t.mathspeakTemplate[r]+" "||"End"+t.ctrlSeq+" ")}))},t}(ce),he=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.setCtrlSeqHtmlTextAndMathspeak(t,r?new ue(0,function(){return r.cloneNode(!0)}):void 0,n,i),o}return ht(t,e),t.prototype.setCtrlSeqHtmlTextAndMathspeak=function(t,r,n,i){!n&&t&&(n=t.replace(/^\\/,"")),this.mathspeakName=i||n,e.prototype.setCtrlSeqHtmlAndText.call(this,t,r,[n||""])},t.prototype.parser=function(){return X.succeed(this)},t.prototype.numBlocks=function(){return 0},t.prototype.replaces=function(e){e.remove()},t.prototype.createBlocks=function(){},t.prototype.moveTowards=function(e,t){t.domFrag().insDirOf(e,this.domFrag()),t[-e]=this,t[e]=this[e],t.controller.aria.queue(this)},t.prototype.deleteTowards=function(e,t){t[e]=this.remove()[e]},t.prototype.seek=function(e,t){var r=this.domFrag().oneElement();return e-a(r).left<r.offsetWidth/2?t.insLeftOf(this):t.insRightOf(this),t},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.checkCursorContextClose(e)},t.prototype.text=function(){return this.textTemplate.join("")},t.prototype.mathspeak=function(t){return this.mathspeakOverride?e.prototype.mathspeak.call(this):this.mathspeakName||""},t.prototype.placeCursor=function(){},t.prototype.isEmpty=function(){return!0},t}(de),pe=function(e){function t(t,r,n){return e.call(this,t,bt("span",{},[r||bt.text(t)]),void 0,n)||this}return ht(t,e),t}(he),fe=function(e){function t(t,r,n,i,o){return o?e.call(this,t,bt("span",{},[r||bt.text(t||"")]),void 0,i)||this:e.call(this,t,bt("span",{class:"mq-binary-operator"},r?[r]:[]),n,i)||this}return ht(t,e),t}(he),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ariaLabel="block",t}return ht(t,e),t.prototype.join=function(e){return this.foldChildren("",function(t,r){return t+r[e]()})},t.prototype.html=function(){var e=document.createDocumentFragment();return this.eachChild(function(t){var r=t.html();e.appendChild(r)}),e},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),this.eachChild(function(t){var r;return null===(r=t.latexRecursive)||void 0===r?void 0:r.call(t,e)}),this.checkCursorContextClose(e)},t.prototype.text=function(){var e=this.getEnd(ft);return e===this.getEnd(mt)&&0!==e?e.text():this.join("text")},t.prototype.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],function(r,n){var i,o,a;return n.isPartOfOperator?e+=n.mathspeak():(""!==e&&(t._maxLength>0&&"string"==typeof(i=t[e.toLowerCase()])&&(e=i),r.push(e+" "),e=""),o=n.mathspeak(),a=n.ctrlSeq,!isNaN(a)||"."===a||n.parent&&n.parent.parent&&n.parent.parent.isTextBlock()||(o=" "+o+" "),r.push(o)),r}).join("").replace(/ +(?= )/g,"").replace(/(\.)([0-9]+)/g,function(e,t,r){return t+r.split("").join(" ").trim()})},t.prototype.keystroke=function(t,r,n){return!n.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?e.prototype.keystroke.call(this,t,r,n):(null==r||r.preventDefault(),void n.escapeDir("Shift-Spacebar"===t?ft:mt,t,r))},t.prototype.moveOutOf=function(e,t,r){var n,i;"up"===r?n=this.parent.upInto:"down"===r&&(n=this.parent.downInto),!n&&this[e]?(i=-e,t.insAtDirEnd(i,this[e]),t.controller.aria.queueDirEndOf(i,t.parent,!0)):(t.insDirOf(e,this.parent),t.controller.aria.queueDirOf(e,this.parent))},t.prototype.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},t.prototype.deleteOutOf=function(e,t){t.unwrapGramp()},t.prototype.seek=function(e,t){var r,n=this.getEnd(mt);if(!n)return t.insAtRightEnd(this);if(a(r=n.domFrag().oneElement()).left+r.offsetWidth<e)return t.insAtRightEnd(this);if(e<a(this.getEnd(ft).domFrag().oneElement()).left)return t.insAtLeftEnd(this);for(;e<a(n.domFrag().oneElement()).left;)n=n[ft];return n.seek(e,t)},t.prototype.chToCmd=function(e,t){var r;return e.match(/^[a-eg-zA-Z]$/)?new xe(e):/^\d$/.test(e)?new be(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?N[""](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?N[""](e):t&&t.typingPercentWritesPercentOf&&"%"===e?N.percentof(e):(r=I[e]||N[e])?r.constructor?new r(e):r(e):new pe(e)},t.prototype.write=function(e,t){var r=this.chToCmd(t,e.options);e.selection&&r.replaces(e.replaceSelection()),e.isTooDeep()||(r.createLeftOf(e.show()),"/"===t?e.controller.aria.alert("over"):e.controller.aria.alert(r.mathspeak({createdLeftOf:e})))},t.prototype.writeLatex=function(e,t){var r,n,i,o,a=X.all,s=X.eof,l=re.skip(s).or(a.result(!1)).parse(t);l&&!l.isEmpty()&&l.prepareInsertionAt(e)&&(l.children().adopt(e.parent,e[ft],e[mt]),R(l.html()).insertBefore(e.domFrag()),e[ft]=l.getEnd(mt),l.finalizeInsert(e.options,e),r=l.getEnd(mt),n=l.getEnd(ft),i=r[mt],o=n[ft],i&&i.siblingCreated(e.options,ft),o&&o.siblingCreated(e.options,mt),e.parent.bubble(function(e){e.reflow()}))},t.prototype.focus=function(){return this.domFrag().addClass("mq-hasCursor"),this.domFrag().removeClass("mq-empty"),this},t.prototype.blur=function(e){return this.domFrag().removeClass("mq-hasCursor"),this.isEmpty()&&(this.domFrag().addClass("mq-empty"),e&&this.isQuietEmptyDelimiter(e.options.quietEmptyDelimiters)&&this.domFrag().addClass("mq-quiet-delimiter")),this},t}(ce),z.prototype.mouseEvents=!0,j.StaticMath=function(e){var t;return t=function(t){function r(r){var n=t.call(this,r)||this,i=n.innerFields=[];return n.__controller.root.postOrder(function(t){t.registerInnerField(i,e.InnerMathField)}),n}return ht(r,t),r.prototype.__mathquillify=function(e,r){return this.config(e),t.prototype.mathquillify.call(this,"mq-math-mode"),this.__controller.setupStaticField(),this.__options.mouseEvents&&(this.__controller.addMouseEventListener(),this.__controller.staticMathTextareaEvents()),this},r.prototype.latex=function(r){var n,i=t.prototype.latex.apply(this,arguments);return arguments.length>0&&(n=this.innerFields=[],this.__controller.root.postOrder(function(t){t.registerInnerField(n,e.InnerMathField)}),this.__controller.updateMathspeak()),i},r.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},r.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},r}(e.AbstractMathQuill),t.RootBlock=me,t},ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t}(me),p(ge.prototype),j.MathField=function(t){var r;return r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return ht(r,t),r.prototype.__mathquillify=function(r,n){return this.config(r),n>1&&(this.__controller.root.reflow=e),t.prototype.mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this},r}(t.EditableField),r.RootBlock=ge,r},j.InnerMathField=function(e){return r("MathField class is defined",e.MathField),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),R(this.__controller.container).removeClass("mq-editable-field")},t.prototype.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),R(this.__controller.container).addClass("mq-editable-field")},t}(e.MathField)},N.notin=N.cong=N.equiv=N.oplus=N.otimes=function(e){return new fe("\\"+e+" ",bt.entityText("&"+e+";"))},N[""]=N.ast=N.star=N.loast=N.lowast=y("\\ast ","&lowast;","low asterisk"),N.therefor=N.therefore=y("\\therefore ","&there4;","therefore"),N.cuz=N.because=y("\\because ","&#8757;","because"),N.prop=N.propto=y("\\propto ","&prop;","proportional to"),N[""]=N.asymp=N.approx=y("\\approx ","&asymp;","approximately equal to"),N.isin=N.in=y("\\in ","&isin;","is in"),N.ni=N.contains=y("\\ni ","&ni;","is not in"),N.notni=N.niton=N.notcontains=N.doesnotcontain=y("\\not\\ni ","&#8716;","does not contain"),N.sub=N.subset=y("\\subset ","&sub;","subset"),N.sup=N.supset=N.superset=y("\\supset ","&sup;","superset"),N.nsub=N.notsub=N.nsubset=N.notsubset=y("\\not\\subset ","&#8836;","not a subset"),N.nsup=N.notsup=N.nsupset=N.notsupset=N.nsuperset=N.notsuperset=y("\\not\\supset ","&#8837;","not a superset"),N.sube=N.subeq=N.subsete=N.subseteq=y("\\subseteq ","&sube;","subset or equal to"),N.supe=N.supeq=N.supsete=N.supseteq=N.supersete=N.superseteq=y("\\supseteq ","&supe;","superset or equal to"),N.nsube=N.nsubeq=N.notsube=N.notsubeq=N.nsubsete=N.nsubseteq=N.notsubsete=N.notsubseteq=y("\\not\\subseteq ","&#8840;","not subset or equal to"),N.nsupe=N.nsupeq=N.notsupe=N.notsupeq=N.nsupsete=N.nsupseteq=N.notsupsete=N.notsupseteq=N.nsupersete=N.nsuperseteq=N.notsupersete=N.notsuperseteq=y("\\not\\supseteq ","&#8841;","not superset or equal to"),N.mathbb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.createLeftOf=function(e){},t.prototype.numBlocks=function(){return 1},t.prototype.parser=function(){var e=X.string,t=X.regex,r=X.optWhitespace;return r.then(e("{")).then(r).then(t(/^[NPZQRCH]/)).skip(r).skip(e("}")).map(function(e){var t=N[e];return u(t)?new t:t()})},t}(de),N.N=N.naturals=N.Naturals=g("\\mathbb{N}","&#8469;","naturals"),N.P=N.primes=N.Primes=N.projective=N.Projective=N.probability=N.Probability=g("\\mathbb{P}","&#8473;","P"),N.Z=N.integers=N.Integers=g("\\mathbb{Z}","&#8484;","integers"),N.Q=N.rationals=N.Rationals=g("\\mathbb{Q}","&#8474;","rationals"),N.R=N.reals=N.Reals=g("\\mathbb{R}","&#8477;","reals"),N.C=N.complex=N.Complex=N.complexes=N.Complexes=N.complexplane=N.Complexplane=N.ComplexPlane=g("\\mathbb{C}","&#8450;","complexes"),N.H=N.Hamiltonian=N.quaternions=N.Quaternions=g("\\mathbb{H}","&#8461;","quaternions"),N.quad=N.emsp=g("\\quad ","    ","4 spaces"),N.qquad=g("\\qquad ","        ","8 spaces"),N.diamond=g("\\diamond ","&#9671;","diamond"),N.bigtriangleup=g("\\bigtriangleup ","&#9651;","triangle up"),N.ominus=g("\\ominus ","&#8854;","o minus"),N.uplus=g("\\uplus ","&#8846;","disjoint union"),N.bigtriangledown=g("\\bigtriangledown ","&#9661;","triangle down"),N.sqcap=g("\\sqcap ","&#8851;","greatest lower bound"),N.triangleleft=g("\\triangleleft ","&#8882;","triangle left"),N.sqcup=g("\\sqcup ","&#8852;","least upper bound"),N.triangleright=g("\\triangleright ","&#8883;","triangle right"),N.odot=N.circledot=g("\\odot ","&#8857;","circle dot"),N.bigcirc=g("\\bigcirc ","&#9711;","circle"),N.dagger=g("\\dagger ","&#0134;","dagger"),N.ddagger=g("\\ddagger ","&#135;","big dagger"),N.wr=g("\\wr ","&#8768;","wreath"),N.amalg=g("\\amalg ","&#8720;","amalgam"),N.models=g("\\models ","&#8872;","models"),N.prec=g("\\prec ","&#8826;","precedes"),N.succ=g("\\succ ","&#8827;","succeeds"),N.preceq=g("\\preceq ","&#8828;","precedes or equals"),N.succeq=g("\\succeq ","&#8829;","succeeds or equals"),N.simeq=g("\\simeq ","&#8771;","similar or equal to"),N.mid=g("\\mid ","&#8739;","divides"),N.ll=g("\\ll ","&#8810;","ll"),N.gg=g("\\gg ","&#8811;","gg"),N.parallel=g("\\parallel ","&#8741;","parallel with"),N.nparallel=g("\\nparallel ","&#8742;","not parallel with"),N.bowtie=g("\\bowtie ","&#8904;","bowtie"),N.sqsubset=g("\\sqsubset ","&#8847;","square subset"),N.sqsupset=g("\\sqsupset ","&#8848;","square superset"),N.smile=g("\\smile ","&#8995;","smile"),N.sqsubseteq=g("\\sqsubseteq ","&#8849;","square subset or equal to"),N.sqsupseteq=g("\\sqsupseteq ","&#8850;","square superset or equal to"),N.doteq=g("\\doteq ","&#8784;","dotted equals"),N.frown=g("\\frown ","&#8994;","frown"),N.vdash=g("\\vdash ","&#8870;","v dash"),N.dashv=g("\\dashv ","&#8867;","dash v"),N.nless=g("\\nless ","&#8814;","not less than"),N.ngtr=g("\\ngtr ","&#8815;","not greater than"),N.longleftarrow=g("\\longleftarrow ","&#8592;","left arrow"),N.longrightarrow=g("\\longrightarrow ","&#8594;","right arrow"),N.Longleftarrow=g("\\Longleftarrow ","&#8656;","left arrow"),N.Longrightarrow=g("\\Longrightarrow ","&#8658;","right arrow"),N.longleftrightarrow=g("\\longleftrightarrow ","&#8596;","left and right arrow"),N.updownarrow=g("\\updownarrow ","&#8597;","up and down arrow"),N.Longleftrightarrow=g("\\Longleftrightarrow ","&#8660;","left and right arrow"),N.Updownarrow=g("\\Updownarrow ","&#8661;","up and down arrow"),N.mapsto=g("\\mapsto ","&#8614;","maps to"),N.nearrow=g("\\nearrow ","&#8599;","northeast arrow"),N.hookleftarrow=g("\\hookleftarrow ","&#8617;","hook left arrow"),N.hookrightarrow=g("\\hookrightarrow ","&#8618;","hook right arrow"),N.searrow=g("\\searrow ","&#8600;","southeast arrow"),N.leftharpoonup=g("\\leftharpoonup ","&#8636;","left harpoon up"),N.rightharpoonup=g("\\rightharpoonup ","&#8640;","right harpoon up"),N.swarrow=g("\\swarrow ","&#8601;","southwest arrow"),N.leftharpoondown=g("\\leftharpoondown ","&#8637;","left harpoon down"),N.rightharpoondown=g("\\rightharpoondown ","&#8641;","right harpoon down"),N.nwarrow=g("\\nwarrow ","&#8598;","northwest arrow"),N.ldots=g("\\ldots ","&#8230;","l dots"),N.cdots=g("\\cdots ","&#8943;","c dots"),N.vdots=g("\\vdots ","&#8942;","v dots"),N.ddots=g("\\ddots ","&#8945;","d dots"),N.surd=g("\\surd ","&#8730;","unresolved root"),N.triangle=g("\\triangle ","&#9651;","triangle"),N.ell=g("\\ell ","&#8467;","ell"),N.top=g("\\top ","&#8868;","top"),N.flat=g("\\flat ","&#9837;","flat"),N.natural=g("\\natural ","&#9838;","natural"),N.sharp=g("\\sharp ","&#9839;","sharp"),N.wp=g("\\wp ","&#8472;","wp"),N.bot=g("\\bot ","&#8869;","bot"),N.clubsuit=g("\\clubsuit ","&#9827;","club suit"),N.diamondsuit=g("\\diamondsuit ","&#9826;","diamond suit"),N.heartsuit=g("\\heartsuit ","&#9825;","heart suit"),N.spadesuit=g("\\spadesuit ","&#9824;","spade suit"),N.parallelogram=g("\\parallelogram ","&#9649;","parallelogram"),N.square=g("\\square ","&#11036;","square"),N.oint=g("\\oint ","&#8750;","o int"),N.bigcap=g("\\bigcap ","&#8745;","big cap"),N.bigcup=g("\\bigcup ","&#8746;","big cup"),N.bigsqcup=g("\\bigsqcup ","&#8852;","big square cup"),N.bigvee=g("\\bigvee ","&#8744;","big vee"),N.bigwedge=g("\\bigwedge ","&#8743;","big wedge"),N.bigodot=g("\\bigodot ","&#8857;","big o dot"),N.bigotimes=g("\\bigotimes ","&#8855;","big o times"),N.bigoplus=g("\\bigoplus ","&#8853;","big o plus"),N.biguplus=g("\\biguplus ","&#8846;","big u plus"),N.lfloor=g("\\lfloor ","&#8970;","left floor"),N.rfloor=g("\\rfloor ","&#8971;","right floor"),N.lceil=g("\\lceil ","&#8968;","left ceiling"),N.rceil=g("\\rceil ","&#8969;","right ceiling"),N.opencurlybrace=N.lbrace=g("\\lbrace ","{","left brace"),N.closecurlybrace=N.rbrace=g("\\rbrace ","}","right brace"),N.lbrack=g("[","left bracket"),N.rbrack=g("]","right bracket"),N.slash=g("/","slash"),N.vert=g("|","vertical bar"),N.perp=N.perpendicular=g("\\perp ","&perp;","perpendicular"),N.nabla=N.del=g("\\nabla ","&nabla;"),N.hbar=g("\\hbar ","&#8463;","horizontal bar"),N.AA=N.Angstrom=N.angstrom=g("\\text\\AA ","&#8491;","AA"),N.ring=N.circ=N.circle=g("\\circ ","&#8728;","circle"),N.bull=N.bullet=g("\\bullet ","&bull;","bullet"),N.setminus=N.smallsetminus=g("\\setminus ","&#8726;","set minus"),N.not=N[""]=N.neg=g("\\neg ","&not;","not"),N[""]=N.dots=N.ellip=N.hellip=N.ellipsis=N.hellipsis=g("\\dots ","&hellip;","ellipsis"),N.converges=N.darr=N.dnarr=N.dnarrow=N.downarrow=g("\\downarrow ","&darr;","converges with"),N.dArr=N.dnArr=N.dnArrow=N.Downarrow=g("\\Downarrow ","&dArr;","down arrow"),N.diverges=N.uarr=N.uparrow=g("\\uparrow ","&uarr;","diverges from"),N.uArr=N.Uparrow=g("\\Uparrow ","&uArr;","up arrow"),N.rarr=N.rightarrow=g("\\rightarrow ","&rarr;","right arrow"),N.implies=y("\\Rightarrow ","&rArr;","implies"),N.rArr=N.Rightarrow=g("\\Rightarrow ","&rArr;","right arrow"),N.gets=y("\\gets ","&larr;","gets"),N.larr=N.leftarrow=g("\\leftarrow ","&larr;","left arrow"),N.impliedby=y("\\Leftarrow ","&lArr;","implied by"),N.lArr=N.Leftarrow=g("\\Leftarrow ","&lArr;","left arrow"),N.harr=N.lrarr=N.leftrightarrow=g("\\leftrightarrow ","&harr;","left and right arrow"),N.iff=y("\\Leftrightarrow ","&hArr;","if and only if"),N.hArr=N.lrArr=N.Leftrightarrow=g("\\Leftrightarrow ","&hArr;","left and right arrow"),N.Re=N.Real=N.real=g("\\Re ","&real;","real"),N.Im=N.imag=N.image=N.imagin=N.imaginary=N.Imaginary=g("\\Im ","&image;","imaginary"),N.part=N.partial=g("\\partial ","&part;","partial"),N.pounds=g("\\pounds ","&pound;"),N.alef=N.alefsym=N.aleph=N.alephsym=g("\\aleph ","&alefsym;","alef sym"),N.xist=N.xists=N.exist=N.exists=g("\\exists ","&exist;","there exists at least 1"),N.nexists=N.nexist=g("\\nexists ","&#8708;","there is no"),N.and=N.land=N.wedge=y("\\wedge ","&and;","and"),N.or=N.lor=N.vee=y("\\vee ","&or;","or"),N.o=N.O=N.empty=N.emptyset=N.oslash=N.Oslash=N.nothing=N.varnothing=y("\\varnothing ","&empty;","nothing"),N.cup=N.union=y("\\cup ","&cup;","union"),N.cap=N.intersect=N.intersection=y("\\cap ","&cap;","intersection"),N.deg=N.degree=g("\\degree ","&deg;","degrees"),N.ang=N.angle=g("\\angle ","&ang;","angle"),N.measuredangle=g("\\measuredangle ","&#8737;","measured angle"),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.sharedSiblingMethod=function(e,r){r!==ft&&this[mt]instanceof t||this.fixDigitGrouping(e)},t.prototype.fixDigitGrouping=function(e){var t,r,n,i,o,a;if(e.enableDigitGrouping){r=this,n=0,i=[],o="\\ ",a=t=this;do{if(/^[0-9]$/.test(a.ctrlSeq))t=a;else if(a.ctrlSeq===o)t=a,n+=1;else{if("."!==a.ctrlSeq)break;t=a,i.push(a)}}while(a=t[ft]);for(;a=r[mt];)if(/^[0-9]$/.test(a.ctrlSeq))r=a;else if(a.ctrlSeq===o)r=a,n+=1;else{if("."!==a.ctrlSeq)break;r=a,i.push(a)}for(;r!==t&&t&&t.ctrlSeq===o;)t=t[mt],n-=1;for(;r!==t&&r&&r.ctrlSeq===o;)r=r[ft],n-=1;t===r&&t&&t.ctrlSeq===o||(n>0||i.length>1?this.removeGroupingBetween(t,r):i[0]?(i[0]!==t&&this.addGroupingBetween(i[0][ft],t),i[0]!==r&&this.removeGroupingBetween(i[0][mt],r)):this.addGroupingBetween(r,t))}},t.prototype.removeGroupingBetween=function(e,r){var n=e;do{if(n instanceof t&&n.setGroupingClass(void 0),!n||n===r)break}while(n=n[mt])},t.prototype.addGroupingBetween=function(e,r){var n,i,o=e,a=0,s=0;for(o=e;o&&(s+=1,o!==r);)o=o[ft];for(0===(n=s%3)&&(n=3),o=e;o&&(a+=1,i=void 0,s>=4&&(a===s?i="mq-group-leading-"+n:a%3==0&&a!==s&&(i="mq-group-start"),i||(i="mq-group-other")),o instanceof t&&o.setGroupingClass(i),o!==r);)o=o[ft]},t.prototype.setGroupingClass=function(e){this._groupingClass!==e&&(this._groupingClass&&this.domFrag().removeClass(this._groupingClass),e&&this.domFrag().addClass(e),this._groupingClass=e)},t}(he),be=function(e){function t(t,r){return e.call(this,t,bt("span",{class:"mq-digit"},[bt.text(t)]),void 0,r)||this}return ht(t,e),t.prototype.createLeftOf=function(t){var r=t[ft],n=r&&r[ft],i=t.parent.parent instanceof De?t.parent.parent.sub:void 0;t.options.autoSubscriptNumerals&&t.parent!==i&&(r instanceof ve&&!1!==r.isItalic||r instanceof De&&n instanceof ve&&!1!==n.isItalic)?((new Fe).createLeftOf(t),e.prototype.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.prototype.createLeftOf.call(this,t)},t.prototype.mathspeak=function(t){var r,n,i,o;return t&&t.createdLeftOf&&(i=(n=(r=t.createdLeftOf)[ft])&&n[ft],o=r.parent.parent instanceof De?r.parent.parent.sub:void 0,r.options.autoSubscriptNumerals&&r.parent!==o&&(n instanceof ve&&!1!==n.isItalic||r[ft]instanceof De&&i instanceof ve&&!1!==i.isItalic))?"Subscript "+e.prototype.mathspeak.call(this)+" Baseline":e.prototype.mathspeak.call(this)},t}(ye),ve=function(e){function t(t,r){return e.call(this,t,bt("var",{},[r||bt.text(t)]))||this}return ht(t,e),t.prototype.text=function(){var e=this.ctrlSeq||"";return this.isPartOfOperator?"\\"==e[0]?e=e.slice(1,e.length):" "==e[e.length-1]&&(e=e.slice(0,-1)):(!this[ft]||this[ft]instanceof t||this[ft]instanceof fe||"\\ "===this[ft].ctrlSeq||(e="*"+e),!this[mt]||this[mt]instanceof fe||this[mt]instanceof De||(e+="*")),e},t.prototype.mathspeak=function(){var t=this.ctrlSeq||"";return this.isPartOfOperator||t.length>1||this.parent&&this.parent.parent&&this.parent.parent.isTextBlock()?e.prototype.mathspeak.call(this):'"'+t+'"'},t}(he),z.prototype.autoCommands={_maxLength:0},F.autoCommands=function(e){var t,r,n,i,o;if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(t=e.split(" "),r={},n=0,i=0;i<t.length;i+=1){if((o=t[i]).length<2)throw'autocommand "'+o+'" not minimum length of 2';if(N[o]===Ee)throw'"'+o+'" is a built-in operator name';r[o]=1,n=yt(n,o.length)}return r._maxLength=n,r},z.prototype.quietEmptyDelimiters={},F.quietEmptyDelimiters=function(e){var t,r,n;for(void 0===e&&(e=""),t=e.split(" "),r={},n=0;n<t.length;n+=1)r[t[n]]=1;return r},z.prototype.autoParenthesizedFunctions={_maxLength:0},F.autoParenthesizedFunctions=function(e){var t,r,n,i,o;if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(t=e.split(" "),r={},n=0,i=0;i<t.length;i+=1){if((o=t[i]).length<2)throw'autocommand "'+o+'" not minimum length of 2';r[o]=1,n=yt(n,o.length)}return r._maxLength=n,r},xe=function(e){function t(t){var r=e.call(this,t)||this;return r.letter=t,r}return ht(t,e),t.prototype.checkAutoCmds=function(e){var r,n,i,o,a,s;if(!this.shouldIgnoreSubstitutionInSimpleSubscript(e.options)&&(n=(r=e.options.autoCommands)._maxLength||0)>0){for(i="",o=this,a=0;o instanceof t&&o.ctrlSeq===o.letter&&a<n;)i=o.letter+i,o=o[ft],a+=1;for(;i.length;){if(r.hasOwnProperty(i)){for(o=this,a=1;o&&a<i.length;a+=1,o=o[ft]);return new A(o,this).remove(),e[ft]=o[ft],(u(s=N[i])?new s(i):s(i)).createLeftOf(e)}i=i.slice(1)}}},t.prototype.autoParenthesize=function(e){var r,n,i,o,a,s,l=e.parent.getEnd(mt);if(!(l&&l instanceof Ze&&"\\left("===l.ctrlSeq||this.shouldIgnoreSubstitutionInSimpleSubscript(e.options))){for(r="",n=this,i=0,a=(o=e.options.autoParenthesizedFunctions)._maxLength||0,s=e.options.autoOperatorNames;n instanceof t&&i<a;)r=n.letter+r,n=n[ft],i+=1;for(;r.length;){if(o.hasOwnProperty(r)&&s.hasOwnProperty(r))return e.parent.write(e,"(");r=r.slice(1)}}},t.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),this.checkAutoCmds(t),this.autoParenthesize(t)},t.prototype.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.domFrag().toggleClass("mq-operator-name",!e),this},t.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.sharedSiblingMethod=function(e,r){r!==ft&&this[mt]instanceof t||this.autoUnItalicize(e)},t.prototype.autoUnItalicize=function(e){var r,n,i,o,a,s,l,c,u,d,h,p,f,m,g,y,b,v=e.autoOperatorNames;if(0!==v._maxLength&&!this.shouldIgnoreSubstitutionInSimpleSubscript(e)){for(r=this.letter,n=this[ft];n instanceof t;n=n[ft])r=n.letter+r;for(i=this[mt];i instanceof t;i=i[mt])r+=i.letter;o=n&&n[mt],a=i&&i[ft],new A(o||this.parent.getEnd(ft),a||this.parent.getEnd(mt)).each(function(e){e instanceof t&&(e.italicize(!0).domFrag().removeClass("mq-first mq-last mq-followed-by-supsub"),e.ctrlSeq=e.letter)}),s=v._maxLength||0;e:for(l=0,c=n[mt]||this.parent.getEnd(ft);c&&l<r.length;l+=1,c=c[mt])for(u=gt(s,r.length-l);u>0;u-=1)if(d=r.slice(l,l+u),h=void 0,v.hasOwnProperty(d)){for(p=0,f=c;p<u;p+=1,f=f[mt])f instanceof t&&(f.italicize(!1),h=f);m=$e.hasOwnProperty(d),c.ctrlSeq=(m?"\\":"\\operatorname{")+c.ctrlSeq,h.ctrlSeq+=m?" ":"}",Se.hasOwnProperty(d)&&((y=(g=h[ft])&&g[ft])&&y[ft]).domFrag().addClass("mq-last"),this.shouldOmitPadding(c[ft])||c.domFrag().addClass("mq-first"),this.shouldOmitPadding(h[mt])||(h[mt]instanceof De?((b=h[mt]).siblingCreated=b.siblingDeleted=function(){b.domFrag().toggleClass("mq-after-operator-name",!(b[mt]instanceof Ze))})():h.domFrag().toggleClass("mq-last",!(h[mt]instanceof Ze))),l+=u-1,c=h;continue e}}},t.prototype.shouldOmitPadding=function(e){return!e||"."===e.ctrlSeq||e instanceof fe||e instanceof ze},t}(ve),$e={},z.prototype.autoOperatorNames=function(){var e,t,r,n,i={_maxLength:9},o="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" ");for(e=0;e<o.length;e+=1)$e[o[e]]=i[o[e]]=1;for(t="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),e=0;e<t.length;e+=1)$e[t[e]]=1;for(r="sin cos tan sec cosec csc cotan cot ctg".split(" "),e=0;e<r.length;e+=1)i[r[e]]=i["arc"+r[e]]=i[r[e]+"h"]=i["ar"+r[e]+"h"]=i["arc"+r[e]+"h"]=1;for(n="gcf hcf lcm proj span".split(" "),e=0;e<n.length;e+=1)i[n[e]]=1;return i}(),Se={limsup:1,liminf:1,projlim:1,injlim:1},F.autoOperatorNames=function(e){var t,r,n,i,o,a;if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(t=e.split(" "),r={},n=0,i=0;i<t.length;i+=1){if((o=t[i]).length<2)throw'"'+o+'" not minimum length of 2';if(o.indexOf("|")<0)r[o]=o,n=yt(n,o.length);else{if((a=o.split("|")).length>2)throw'"'+o+'" has more than 1 mathspeak delimiter';if(a[0].length<2)throw'"'+o[0]+'" not minimum length of 2';r[a[0]]=a[1].replace(/-/g," "),n=yt(n,a[0].length)}}return r._maxLength=n,r},Ee=function(e){function t(t){return e.call(this,t||"")||this}return ht(t,e),t.prototype.createLeftOf=function(e){var t,r=this.ctrlSeq;for(t=0;t<r.length;t+=1)new xe(r.charAt(t)).createLeftOf(e)},t.prototype.parser=function(){var e,t=this.ctrlSeq,r=new me;for(e=0;e<t.length;e+=1)new xe(t.charAt(e)).adopt(r,r.getEnd(mt),0);return X.succeed(r.children())},t}(he),z.prototype.autoOperatorNames)z.prototype.autoOperatorNames.hasOwnProperty(we)&&(N[we]=Ee);return N.operatorname=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.createLeftOf=function(){},t.prototype.numBlocks=function(){return 1},t.prototype.parser=function(){return re.block.map(function(e){var t=!0,r="",n=e.children();return n.each(function(e){e instanceof xe?r+=e.letter:t=!1}),t&&"ans"===r?Ue():n})},t}(de),N.f=function(e){function t(){var t=this;return(t=e.call(this,"f")||this).letter="f",t.domView=new ue(0,function(){return bt("var",{class:"mq-f"},[bt.text("f")])}),t}return ht(t,e),t.prototype.italicize=function(t){return this.domFrag().eachElement(function(e){return e.textContent="f"}),this.domFrag().toggleClass("mq-f",t),e.prototype.italicize.call(this,t)},t}(xe),N[" "]=N.space=function(){return new ye("\\ ",bt("span",{},[bt.text("")])," ")},N["."]=function(){return new ye(".",bt("span",{class:"mq-digit"},[bt.text(".")]),".")},N["'"]=N.prime=g("'","&prime;","prime"),N[""]=N.dprime=g("","&Prime;","double prime"),N.backslash=g("\\backslash ","\\","backslash"),I["\\"]||(I["\\"]=N.backslash),N.$=g("\\$","$","dollar"),N.square=g("\\square ","","square"),N.mid=g("\\mid ","","mid"),_e=function(e){function t(t,r,n){return e.call(this,t,bt("span",{class:"mq-nonSymbola"},[r||bt.text(t)]))||this}return ht(t,e),t}(he),N["@"]=function(){return new _e("@")},N["&"]=function(){return new _e("\\&",bt.entityText("&amp;"),"and")},N["%"]=function(e){function t(){return e.call(this,"\\%",bt.text("%"),"percent")||this}return ht(t,e),t.prototype.parser=function(){var t=X.optWhitespace,r=X.string;return t.then(r("\\operatorname{of}").map(function(){return Ve()})).or(e.prototype.parser.call(this))},t}(_e),N[""]=N.parallel=g("\\parallel ","&#x2225;","parallel"),N[""]=N.nparallel=g("\\nparallel ","&#x2226;","not parallel"),N[""]=N.perp=g("\\perp ","&#x27C2;","perpendicular"),N.alpha=N.beta=N.gamma=N.delta=N.zeta=N.eta=N.theta=N.iota=N.kappa=N.mu=N.nu=N.xi=N.rho=N.sigma=N.tau=N.chi=N.psi=N.omega=function(e){return new ve("\\"+e+" ",bt.entityText("&"+e+";"))},N.phi=b("\\phi ","&#981;"),N.phiv=N.varphi=b("\\varphi ","&phi;"),N.epsilon=b("\\epsilon ","&#1013;"),N.epsiv=N.varepsilon=b("\\varepsilon ","&epsilon;"),N.piv=N.varpi=b("\\varpi ","&piv;"),N.sigmaf=N.sigmav=N.varsigma=b("\\varsigma ","&sigmaf;"),N.thetav=N.vartheta=N.thetasym=b("\\vartheta ","&thetasym;"),N.upsilon=N.upsi=b("\\upsilon ","&upsilon;"),N.gammad=N.Gammad=N.digamma=b("\\digamma ","&#989;"),N.kappav=N.varkappa=b("\\varkappa ","&#1008;"),N.rhov=N.varrho=b("\\varrho ","&#1009;"),N.pi=N[""]=function(){return new _e("\\pi ",bt.entityText("&pi;"),"pi")},N.lambda=function(){return new _e("\\lambda ",bt.entityText("&lambda;"),"lambda")},N.Upsilon=N.Upsi=N.upsih=N.Upsih=function(){return new he("\\Upsilon ",bt("var",{style:"font-family: serif"},[bt.entityText("&upsih;")]),"capital upsilon")},N.Gamma=N.Delta=N.Theta=N.Lambda=N.Xi=N.Pi=N.Sigma=N.Phi=N.Psi=N.Omega=N.forall=function(e){return new pe("\\"+e+" ",bt.entityText("&"+e+";"))},Me=function(e){function t(t){var r=e.call(this)||this;return r.latexStr=t,r}return ht(t,e),t.prototype.createLeftOf=function(e){var t,r,n,i,o=re.parse(this.latexStr);o.children().adopt(e.parent,e[ft],e[mt]),e[ft]=o.getEnd(mt),R(o.html()).insertBefore(e.domFrag()),o.finalizeInsert(e.options,e),(r=(t=o.getEnd(mt))&&t[mt])&&r.siblingCreated(e.options,ft),(i=(n=o.getEnd(ft))&&n[ft])&&i.siblingCreated(e.options,mt),e.parent.bubble(function(e){e.reflow()})},t.prototype.mathspeak=function(){return this.mathspeakOverride?e.prototype.mathspeak.call(this):re.parse(this.latexStr).mathspeak()},t.prototype.parser=function(){var e=re.parse(this.latexStr).children();return X.succeed(e)},t}(de),N[""]=function(){return new Me("^0")},N[""]=function(){return new Me("^1")},N[""]=function(){return new Me("^2")},N[""]=function(){return new Me("^3")},N[""]=function(){return new Me("^4")},N[""]=function(){return new Me("^5")},N[""]=function(){return new Me("^6")},N[""]=function(){return new Me("^7")},N[""]=function(){return new Me("^8")},N[""]=function(){return new Me("^9")},N[""]=function(){return new Me("\\frac14")},N[""]=function(){return new Me("\\frac12")},N[""]=function(){return new Me("\\frac34")},N[""]=function(){return new Me("\\sqrt{}")},Ce=function(e){function t(t,r,n){return e.call(this,t,r,void 0,n,!0)||this}return ht(t,e),t.prototype.contactWeld=function(e,t){this.sharedSiblingMethod(e.options,t)},t.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.sharedSiblingMethod=function(e,t){if(t!==mt)return this.domFrag().oneElement().className=v(this)?"mq-binary-operator":"",this},t}(fe),N["+"]=function(e){function t(){return e.call(this,"+",bt.text("+"))||this}return ht(t,e),t.prototype.mathspeak=function(){return v(this)?"plus":"positive"},t}(Ce),Te=function(e){function t(){return e.call(this,"-",bt.entityText("&minus;"))||this}return ht(t,e),t.prototype.mathspeak=function(){return v(this)?"minus":"negative"},t}(Ce),N[""]=N[""]=N[""]=N["-"]=Te,N[""]=N.pm=N.plusmn=N.plusminus=function(){return new Ce("\\pm ",bt.entityText("&plusmn;"),"plus-or-minus")},N.mp=N.mnplus=N.minusplus=function(){return new Ce("\\mp ",bt.entityText("&#8723;"),"minus-or-plus")},I["*"]=N.sdot=N.cdot=y("\\cdot ","&middot;","*","times"),Re=function(e){function t(){return e.call(this,"\\to ",bt.entityText("&rarr;"),"to")||this}return ht(t,e),t.prototype.deleteTowards=function(t,r){if(t===ft){var n=r[ft];return new A(n,this).remove(),r[ft]=n[ft],(new Te).createLeftOf(r),void r[ft].bubble(function(e){e.reflow()})}e.prototype.deleteTowards.call(this,t,r)},t}(fe),N[""]=N.to=Re,Oe=function(e){function t(t,r){var n=this,i=r?"Strict":"";return(n=e.call(this,t["ctrlSeq".concat(i)],bt.entityText(t["htmlEntity".concat(i)]),t["text".concat(i)],t["mathspeak".concat(i)])||this).data=t,n.strict=r,n}return ht(t,e),t.prototype.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq".concat(t)],this.domFrag().children().replaceWith(R(bt.entityText(this.data["htmlEntity".concat(t)]))),this.textTemplate=[this.data["text".concat(t)]],this.mathspeakName=this.data["mathspeak".concat(t)]},t.prototype.deleteTowards=function(t,r){if(t===ft&&!this.strict)return this.swap(!0),void this.bubble(function(e){e.reflow()});e.prototype.deleteTowards.call(this,t,r)},t}(fe),ke={ctrlSeq:"\\le ",htmlEntity:"&le;",text:"",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlEntityStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},Ae={ctrlSeq:"\\ge ",htmlEntity:"&ge;",text:"",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlEntityStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"},Ne=function(e){function t(){return e.call(this,Ae,!0)||this}return ht(t,e),t.prototype.createLeftOf=function(t){var r,n=t[ft];if(n instanceof fe&&"-"===n.ctrlSeq)return r=n,t[ft]=r[ft],r.remove(),(new Re).createLeftOf(t),void t[ft].bubble(function(e){e.reflow()});e.prototype.createLeftOf.call(this,t)},t}(Oe),N["<"]=N.lt=function(){return new Oe(ke,!0)},N[">"]=N.gt=Ne,N[""]=N.le=N.leq=function(){return new Oe(ke,!1)},N[""]=N.ge=N.geq=function(){return new Oe(Ae,!1)},N.infty=N.infin=N.infinity=g("\\infty ","&infin;","infinity"),N[""]=N.ne=N.neq=y("\\ne ","&ne;","not equal"),Ie=function(e){function t(){return e.call(this,"=",bt.text("="),"=","equals")||this}return ht(t,e),t.prototype.createLeftOf=function(t){var r=t[ft];if(r instanceof Oe&&r.strict)return r.swap(!1),void r.bubble(function(e){e.reflow()});e.prototype.createLeftOf.call(this,t)},t}(fe),N["="]=Ie,N[""]=N.times=N.cross=y("\\times ","&times;","[x]","times"),N[""]=N.div=N.divide=N.divides=y("\\div ","&divide;","[/]","over"),Le=function(e){function t(){return e.call(this,"\\sim ",bt.text("~"),"~","tilde")||this}return ht(t,e),t.prototype.createLeftOf=function(r){if(r[ft]instanceof t){var n=r[ft];return r[ft]=n[ft],n.remove(),(new Pe).createLeftOf(r),void r[ft].bubble(function(e){e.reflow()})}e.prototype.createLeftOf.call(this,r)},t}(fe),Pe=function(e){function t(){return e.call(this,"\\approx ",bt.entityText("&approx;"),"","approximately equal")||this}return ht(t,e),t.prototype.deleteTowards=function(t,r){if(t===ft){var n=r[ft];return new A(n,this).remove(),r[ft]=n[ft],(new Le).createLeftOf(r),void r[ft].bubble(function(e){e.reflow()})}e.prototype.deleteTowards.call(this,t,r)},t}(fe),N.tildeNbsp=g("~",""," "),N.sim=Le,N[""]=N.approx=Pe,I["~"]=N.sim,N["~"]=N.tildeNbsp,F.interpretTildeAsSim=function(e){var t=!!e;return N["~"]=t?N.sim:N.tildeNbsp,t},Be={sqrt:{width:"",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 32 54"},[bt("path",{d:"M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"})])}},"|":{width:".4em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[bt("path",{d:"M4.4 0 L4.4 54 L5.6 54 L5.6 0"})])}},"[":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[bt("path",{d:"M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1"})])}},"]":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[bt("path",{d:"M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1"})])}},"(":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[bt("path",{d:"M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0"})])}},")":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[bt("path",{d:"M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0"})])}},"{":{width:".7em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[bt("path",{d:"M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0"})])}},"}":{width:".7em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[bt("path",{d:"M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0"})])}},"&#8741;":{width:".7em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[bt("path",{d:"M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0"})])}},"&lang;":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[bt("path",{d:"M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0"})])}},"&rang;":{width:".55em",html:function(){return bt("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[bt("path",{d:"M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0"})])}}},qe=function(e){function t(t,r,n,i,o){var a=e.call(this,t,new ue(1,function(e){return bt.block(r,n,e[0])}))||this;return a.ariaLabel=i||t.replace(/^\\/,""),a.mathspeakTemplate=["Start"+a.ariaLabel+",","End"+a.ariaLabel],a.shouldNotSpeakDelimiters=o&&o.shouldNotSpeakDelimiters,a}return ht(t,e),t.prototype.mathspeak=function(t){return!this.shouldNotSpeakDelimiters||t&&t.ignoreShorthand?e.prototype.mathspeak.call(this):this.foldChildren("",function(e,r){return e+" "+r.mathspeak(t)}).trim()},t}(de),N.mathrm=function(e){function t(){return e.call(this,"\\mathrm","span",{class:"mq-roman mq-font"},"Roman Font",{shouldNotSpeakDelimiters:!0})||this}return ht(t,e),t.prototype.isTextBlock=function(){return!0},t}(qe),N.mathit=function(){return new qe("\\mathit","i",{class:"mq-font"},"Italic Font")},N.mathbf=function(){return new qe("\\mathbf","b",{class:"mq-font"},"Bold Font")},N.mathsf=function(){return new qe("\\mathsf","span",{class:"mq-sans-serif mq-font"},"Serif Font")},N.mathtt=function(){return new qe("\\mathtt","span",{class:"mq-monospace mq-font"},"Math Text")},N.underline=function(){return new qe("\\underline","span",{class:"mq-non-leaf mq-underline"},"Underline")},N.overline=N.bar=function(){return new qe("\\overline","span",{class:"mq-non-leaf mq-overline"},"Overline")},N.overrightarrow=function(){return new qe("\\overrightarrow","span",{class:"mq-non-leaf mq-overarrow mq-arrow-right"},"Over Right Arrow")},N.overleftarrow=function(){return new qe("\\overleftarrow","span",{class:"mq-non-leaf mq-overarrow mq-arrow-left"},"Over Left Arrow")},N.overleftrightarrow=function(){return new qe("\\overleftrightarrow ","span",{class:"mq-non-leaf mq-overarrow mq-arrow-leftright"},"Over Left and Right Arrow")},N.overarc=function(){return new qe("\\overarc","span",{class:"mq-non-leaf mq-overarc"},"Over Arc")},N.dot=function(){return new de("\\dot",new ue(1,function(e){return bt("span",{class:"mq-non-leaf"},[bt("span",{class:"mq-dot-recurring-inner"},[bt("span",{class:"mq-dot-recurring"},[bt.text("")]),bt.block("span",{class:"mq-empty-box"},e[0])])])}))},N.textcolor=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.setColor=function(e){this.color=e,this.domView=new ue(1,function(t){return bt.block("span",{class:"mq-textcolor",style:"color:"+e},t[0])}),this.ariaLabel=e.replace(/^\\/,""),this.mathspeakTemplate=["Start "+this.ariaLabel+",","End "+this.ariaLabel]},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),r=this.blocks[0],e.latex+="\\textcolor{"+this.color+"}{",null===(t=r.latexRecursive)||void 0===t||t.call(r,e),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.parser=function(){var t=this,r=X.optWhitespace,n=X.string,i=X.regex;return r.then(n("{")).then(i(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function(r){return t.setColor(r),e.prototype.parser.call(t)})},t.prototype.isStyleBlock=function(){return!0},t}(de),N.class=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.parser=function(){var t=this,r=X.string,n=X.regex;return X.optWhitespace.then(r("{")).then(n(/^[-\w\s\\\xA0-\xFF]*/)).skip(r("}")).then(function(r){return t.cls=r||"",t.domView=new ue(1,function(e){return bt.block("span",{class:"mq-class ".concat(r)},e[0])}),t.ariaLabel=r+" class",t.mathspeakTemplate=["Start "+t.ariaLabel+",","End "+t.ariaLabel],e.prototype.parser.call(t)})},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),r=this.blocks[0],e.latex+="\\class{"+this.cls+"}{",null===(t=r.latexRecursive)||void 0===t||t.call(r,e),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.isStyleBlock=function(){return!0},t}(de),je=/^[\+\-]?[\d]+$/,z.prototype.charsThatBreakOutOfSupSub="",De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="_{...}^{...}",t}return ht(t,e),t.prototype.setEnds=function(e){r("SupSub ends must be MathBlocks",e[ft]instanceof me&&e[mt]instanceof me),this.ends=e},t.prototype.getEnd=function(e){return this.ends[e]},t.prototype.createLeftOf=function(t){if(this.replacedFragment||t[ft]||!t.options.supSubsRequireOperand)return e.prototype.createLeftOf.call(this,t)},t.prototype.contactWeld=function(e){var r,n,i,o,a,s,l;for(r=ft;r;r=r===ft&&mt)if(i=void 0,(n=this[r])instanceof t){for(o="sub";o;o="sub"===o&&"sup")a=this[o],s=n[o],a&&(s?a.isEmpty()?i=new O(s,0,s.getEnd(ft)):(a.domFrag().children().insAtDirEnd(-r,s.domFrag().oneElement()),l=a.children().disown(),i=new O(s,l.getEnd(mt),s.getEnd(ft)),r===ft?l.adopt(s,s.getEnd(mt),0):l.adopt(s,0,s.getEnd(ft))):n.addBlock(a.disown()),this.placeCursor=function(e,t){return function(n){n.insAtDirEnd(-r,e||t)}}(s,a));this.remove(),e&&e[ft]===this&&(r===mt&&i?i[ft]?e.insRightOf(i[ft]):e.insAtLeftEnd(i.parent):e.insRightOf(n));break}},t.prototype.finalizeTree=function(){this.getEnd(ft).write=function(e,t){if(e.options.autoSubscriptNumerals&&this===this.parent.sub&&"0123456789".indexOf(t)>=0){var r=this.chToCmd(t,e.options);return r instanceof he?e.deleteSelection():e.clearSelection().insRightOf(this.parent),r.createLeftOf(e.show()),void e.controller.aria.queueTranslatableString("Baseline").alert(r.mathspeak({createdLeftOf:e}))}e[ft]&&!e[mt]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(t)>-1&&(e.insRightOf(this.parent),e.controller.aria.queueTranslatableString("Baseline")),me.prototype.write.call(this,e,t)}},t.prototype.moveTowards=function(t,r,n){r.options.autoSubscriptNumerals&&!this.sup?r.insDirOf(t,this):e.prototype.moveTowards.call(this,t,r,n)},t.prototype.deleteTowards=function(t,r){if(r.options.autoSubscriptNumerals&&this.sub){var n=this.sub.getEnd(-t);n instanceof he?n.remove():n&&n.deleteTowards(t,r.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(ft,r.insAtLeftEnd(this.sub)),this.sup&&r.insDirOf(-t,this))}else e.prototype.deleteTowards.call(this,t,r)},t.prototype.latexRecursive=function(e){var t,r,n,i,o;this.checkCursorContextOpen(e),this.sub&&(e.latex+="_{",o=e.latex.length,null===(r=(t=this.sub).latexRecursive)||void 0===r||r.call(t,e),o===e.latex.length&&(e.latex+=" "),e.latex+="}"),this.sup&&(e.latex+="^{",o=e.latex.length,null===(i=(n=this.sup).latexRecursive)||void 0===i||i.call(n,e),o===e.latex.length&&(e.latex+=" "),e.latex+="}"),this.checkCursorContextClose(e)},t.prototype.text=function(){function e(e,t){var r=t&&t.text()||"";return t?e+(1===r.length?r:"("+(r||" ")+")"):""}return e("_",this.sub)+e("^",this.sup)},t.prototype.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.setDOM(R(bt("span",{class:"mq-sup"})).append(e.domFrag().children()).prependTo(this.domFrag().oneElement()).oneElement()),k.linkElementByBlockNode(e.domFrag().oneElement(),e)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,this.domFrag().removeClass("mq-sup-only"),e.setDOM(R(bt("span",{class:"mq-sub"})).append(e.domFrag().children()).appendTo(this.domFrag().oneElement()).oneElement()),k.linkElementByBlockNode(e.domFrag().oneElement(),e),this.domFrag().append(R(bt("span",{style:"display:inline-block;width:0"},[bt.text(_)]))));for(var t=0;t<2;t+=1)!function(e,t,r,n){e[t].deleteOutOf=function(i,o){var a,s;o.insDirOf(this[i]?-i:i,this.parent),this.isEmpty()||(a=this.getEnd(i),this.children().disown().withDirAdopt(i,o.parent,o[i],o[-i]).domFrag().insDirOf(-i,o.domFrag()),o[-i]=a),e.supsub=r,delete e[t],delete e["".concat(n,"Into")],(s=e[r])["".concat(n,"OutOf")]=$,delete s.deleteOutOf,"sub"===t&&e.domFrag().addClass("mq-sup-only").children().last().remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])},t}(de),Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.supsub="sub",t.domView=new ue(1,function(e){return bt("span",{class:"mq-supsub mq-non-leaf"},[bt.block("span",{class:"mq-sub"},e[0]),bt("span",{style:"display:inline-block;width:0"},[bt.text(_)])])}),t.textTemplate=["_"],t.mathspeakTemplate=["Subscript,",", Baseline"],t.ariaLabel="subscript",t}return ht(t,e),t.prototype.finalizeTree=function(){this.downInto=this.sub=this.getEnd(ft),this.sub.upOutOf=$,e.prototype.finalizeTree.call(this)},t}(De),N.subscript=N._=Fe,N.superscript=N.supscript=N["^"]=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.supsub="sup",t.domView=new ue(1,function(e){return bt("span",{class:"mq-supsub mq-non-leaf mq-sup-only"},[bt.block("span",{class:"mq-sup"},e[0])])}),t.textTemplate=["^(",")"],t.ariaLabel="superscript",t.mathspeakTemplate=["Superscript,",", Baseline"],t}return ht(t,e),t.prototype.mathspeak=function(t){var r,n,i;return this.mathspeakOverride?e.prototype.mathspeak.call(this):void 0===(r=this.upInto)||(n=x(r),t&&t.ignoreShorthand||!je.test(n))?e.prototype.mathspeak.call(this):"0"===n?"to the 0 power":"2"===n?"squared":"3"===n?"cubed":(i="",/^[+-]?\d{1,3}$/.test(n)&&(/(11|12|13|4|5|6|7|8|9|0)$/.test(n)?i="th":/1$/.test(n)?i="st":/2$/.test(n)?i="nd":/3$/.test(n)&&(i="rd")),"to the "+("object"==typeof r?r.mathspeak():n)+i+" power")},t.prototype.finalizeTree=function(){this.upInto=this.sup=this.getEnd(mt),this.sup.downOutOf=$,e.prototype.finalizeTree.call(this)},t}(De),ze=function(e){function t(t,r,n){var i,o=e.call(this)||this;return o.ariaLabel=n||t.replace(/^\\/,""),i=new ue(2,function(e){return bt("span",{class:"mq-large-operator mq-non-leaf"},[bt("span",{class:"mq-to"},[bt.block("span",{},e[1])]),bt("big",{},[bt.text(r)]),bt("span",{class:"mq-from"},[bt.block("span",{},e[0])])])}),he.prototype.setCtrlSeqHtmlTextAndMathspeak.call(o,t,i),o}return ht(t,e),t.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),t.options.sumStartsWithNEquals&&(new xe("n").createLeftOf(t),(new Ie).createLeftOf(t))},t.prototype.latexRecursive=function(e){var t,r,n,i,o;this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq+"_{",o=e.latex.length,null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),e.latex.length===o&&(e.latex+=" "),e.latex+="}^{",o=e.latex.length,null===(i=(n=this.getEnd(mt)).latexRecursive)||void 0===i||i.call(n,e),o===e.latex.length&&(e.latex+=" "),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.mathspeak=function(){return this.mathspeakOverride?e.prototype.mathspeak.call(this):"Start "+this.ariaLabel+" from "+this.getEnd(ft).mathspeak()+" to "+this.getEnd(mt).mathspeak()+", end "+this.ariaLabel+", "},t.prototype.parser=function(){var e,t=X.string,r=X.optWhitespace,n=X.succeed,i=re.block,o=this,a=o.blocks=[new me,new me];for(e=0;e<a.length;e+=1)a[e].adopt(o,o.getEnd(mt),0);return r.then(t("_").or(t("^"))).then(function(e){var t=a["_"===e?0:1];return i.then(function(e){return e.children().adopt(t,t.getEnd(mt),0),n(o)})}).many().result(o)},t.prototype.finalizeTree=function(){var e=this.getEnd(ft),t=this.getEnd(mt);e.ariaLabel="lower bound",t.ariaLabel="upper bound",this.downInto=e,this.upInto=t,e.upOutOf=t,t.downOutOf=e},t}(de),N[""]=N.sum=N.summation=function(){return new ze("\\sum ","","sum")},N[""]=N.prod=N.product=function(){return new ze("\\prod ","","product")},N.coprod=N.coproduct=function(){return new ze("\\coprod ","","co product")},N[""]=N.int=N.integral=function(e){function t(){var t=e.call(this,"\\int ","","integral")||this;return t.ariaLabel="integral",t.domView=new ue(2,function(e){return bt("span",{class:"mq-int mq-non-leaf"},[bt("big",{},[bt.text("")]),bt("span",{class:"mq-supsub mq-non-leaf"},[bt("span",{class:"mq-sup"},[bt.block("span",{class:"mq-sup-inner"},e[1])]),bt.block("span",{class:"mq-sub"},e[0]),bt("span",{style:"display:inline-block;width:0"},[bt.text(_)])])])}),t}return ht(t,e),t.prototype.createLeftOf=function(e){de.prototype.createLeftOf.call(this,e)},t}(ze),We=N.frac=N.dfrac=N.cfrac=N.fraction=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\frac",t.domView=new ue(2,function(e){return bt("span",{class:"mq-fraction mq-non-leaf"},[bt.block("span",{class:"mq-numerator"},e[0]),bt.block("span",{class:"mq-denominator"},e[1]),bt("span",{style:"display:inline-block;width:0"},[bt.text(_)])])}),t.textTemplate=["(",")/(",")"],t}return ht(t,e),t.prototype.finalizeTree=function(){var e=this.getEnd(ft),t=this.getEnd(mt);this.upInto=t.upOutOf=e,this.downInto=e.downOutOf=t,e.ariaLabel="numerator",t.ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},t.prototype.mathspeak=function(t){var r,n,i,o,a,s,l;if(t&&t.createdLeftOf)return t.createdLeftOf.parent.mathspeak();if(this.mathspeakOverride)return e.prototype.mathspeak.call(this);if(r=x(this.getEnd(ft)),n=x(this.getEnd(mt)),(!t||!t.ignoreShorthand)&&je.test(r)&&je.test(n)&&(i="1"===r||"-1"===r,o="","2"===n?o=i?"half":"halves":"3"===n?o=i?"third":"thirds":"4"===n?o=i?"quarter":"quarters":"5"===n?o=i?"fifth":"fifths":"6"===n?o=i?"sixth":"sixths":"7"===n?o=i?"seventh":"sevenths":"8"===n?o=i?"eighth":"eighths":"9"===n&&(o=i?"ninth":"ninths"),""!==o)){for(a="",s=!1,l=this[ft];l&&void 0!==l[ft];l=l[ft])if("\\ "!==l.ctrlSeq){if(!je.test(l.ctrlSeq||"")){s=!1;break}s=!0}return s&&(a+="and "),a+(this.getEnd(ft).mathspeak()+" ")+o}return e.prototype.mathspeak.call(this)},t.prototype.getFracDepth=function(){var e=function(t,r){return t instanceof ee&&t.ctrlSeq&&t.ctrlSeq.toLowerCase().search("frac")>=0&&(r+=1),t&&t.parent?e(t.parent,r):r};return e(this,0)},t}(de),He=N.over=I["/"]=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return ht(r,t),r.prototype.createLeftOf=function(r){var n,i,o;if(!this.replacedFragment){if(n=r[ft],!r.options.typingSlashCreatesNewFraction)for(;n&&!(n instanceof fe||n instanceof(N.text||e)||n instanceof ze||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[ft];n instanceof ze&&n[mt]instanceof De&&((i=(n=n[mt])[mt])instanceof De&&i.ctrlSeq!=n.ctrlSeq&&(n=n[mt])),n===r[ft]||r.isTooDeep(1)||(i=n[mt],o=r[ft],this.replaces(new A(i||r.parent.getEnd(ft),o)),r[ft]=n)}t.prototype.createLeftOf.call(this,r)},r}(We),Ue=function(){return new he("\\operatorname{ans}",bt("span",{class:"mq-ans"},[bt.text("ans")]),"ans")},N.ans=Ue,Ve=function(){return new he("\\%\\operatorname{of}",bt("span",{class:"mq-nonSymbola mq-operator-name"},[bt.text("% of ")]),"percent of")},N.percent=N.percentof=Ve,Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tokenId="",t.ctrlSeq="\\token",t.textTemplate=["token(",")"],t.mathspeakTemplate=["StartToken,",", EndToken"],t.ariaLabel="token",t}return ht(t,e),t.prototype.html=function(){var e=bt("span",{class:"mq-token mq-ignore-mousedown","data-mq-token":this.tokenId});return this.setDOM(e),k.linkElementByCmdNode(e,this),e},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="\\token{"+this.tokenId+"}",this.checkCursorContextClose(e)},t.prototype.mathspeak=function(){if(this.mathspeakOverride)return e.prototype.mathspeak.call(this);var t=[];return this.domFrag().children().eachElement(function(e){var r=e.getAttribute("aria-label");"string"==typeof r&&""!==r&&t.push(r)}),t.length>0?t.join(" ").trim():"token "+this.tokenId},t.prototype.parser=function(){var e=this;return re.block.map(function(t){var r=t.getEnd(ft);if(r)for(e.tokenId+=r.ctrlSeq;r=r[mt];)e.tokenId+=r.ctrlSeq;return e})},t}(he),N.token=Ge,Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\sqrt",t.domView=new ue(1,function(e){return bt("span",{class:"mq-non-leaf mq-sqrt-container"},[bt("span",{class:"mq-scaled mq-sqrt-prefix"},[Be.sqrt.html()]),bt.block("span",{class:"mq-non-leaf mq-sqrt-stem"},e[0])])}),t.textTemplate=["sqrt(",")"],t.mathspeakTemplate=["StartRoot,",", EndRoot"],t.ariaLabel="root",t}return ht(t,e),t.prototype.parser=function(){return re.optBlock.then(function(e){return re.block.map(function(t){var r=new Ke;return r.blocks=[e,t],e.adopt(r,0,0),t.adopt(r,e,0),r})}).or(e.prototype.parser.call(this))},t}(de),N.sqrt=Xe,N.hat=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\hat",t.domView=new ue(1,function(e){return bt("span",{class:"mq-non-leaf"},[bt("span",{class:"mq-hat-prefix"},[bt.text("^")]),bt.block("span",{class:"mq-hat-stem"},e[0])])}),t.textTemplate=["hat(",")"],t}return ht(t,e),t}(de),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domView=new ue(2,function(e){return bt("span",{class:"mq-nthroot-container mq-non-leaf"},[bt.block("sup",{class:"mq-nthroot mq-non-leaf"},e[0]),bt("span",{class:"mq-scaled mq-sqrt-container"},[bt("span",{class:"mq-sqrt-prefix mq-scaled"},[Be.sqrt.html()]),bt.block("span",{class:"mq-sqrt-stem mq-non-leaf"},e[1])])])}),t.textTemplate=["sqrt[","](",")"],t}return ht(t,e),t.prototype.latexRecursive=function(e){var t,r,n,i;this.checkCursorContextOpen(e),e.latex+="\\sqrt[",null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),e.latex+="]{",null===(i=(n=this.getEnd(mt)).latexRecursive)||void 0===i||i.call(n,e),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.mathspeak=function(){var t,r;return this.mathspeakOverride?e.prototype.mathspeak.call(this):(t=this.getEnd(ft).mathspeak(),r=this.getEnd(mt).mathspeak(),this.getEnd(ft).ariaLabel="Index",this.getEnd(mt).ariaLabel="Radicand","3"===t?"Start Cube Root, "+r+", End Cube Root":"Root Index "+t+", Start Root, "+r+", End Root")},t}(Xe),N.nthroot=Ke,N.cbrt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),new be("3").createLeftOf(t),t.controller.moveRight()},t}(Ke),Ye=function(e){function t(t,r,n){var i=new ue(1,function(e){return bt("span",{class:"mq-non-leaf"},[bt("span",{class:"mq-diacritic-above"},[r]),bt.block("span",{class:"mq-diacritic-stem"},e[0])])});return e.call(this,t,i,n)||this}return ht(t,e),t}(de),N.vec=function(){return new Ye("\\vec",bt.entityText("&rarr;"),["vec(",")"])},N.tilde=function(){return new Ye("\\tilde",bt.text("~"),["tilde(",")"])},Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.setDOM=function(t){var r,n;return e.prototype.setDOM.call(this,t),(n=this.domFrag().children()).isEmpty()||(this.delimFrags=((r={})[ft]=n.first(),r[mt]=n.last(),r)),this},t}(de),Ze=function(e){function t(t,r,n,i,o){var a,s=e.call(this,"\\left"+i,void 0,[r,n])||this;return s.side=t,s.sides=((a={})[ft]={ch:r,ctrlSeq:i},a[mt]={ch:n,ctrlSeq:o},a),s}return ht(t,e),t.prototype.numBlocks=function(){return 1},t.prototype.html=function(){var t=this,r=this.getSymbol(ft),n=this.getSymbol(mt);return this.domView=new ue(1,function(e){return bt("span",{class:"mq-non-leaf mq-bracket-container"},[bt("span",{style:"width:"+r.width,class:"mq-scaled mq-bracket-l mq-paren"+(t.side===mt?" mq-ghost":"")},[r.html()]),bt.block("span",{style:"margin-left:"+r.width+";margin-right:"+n.width,class:"mq-bracket-middle mq-non-leaf"},e[0]),bt("span",{style:"width:"+n.width,class:"mq-scaled mq-bracket-r mq-paren"+(t.side===ft?" mq-ghost":"")},[n.html()])])}),e.prototype.html.call(this)},t.prototype.getSymbol=function(e){var t=this.sides[e||mt].ch;return Be[t]||{width:"0",html:""}},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),e.latex+="\\left"+this.sides[ft].ctrlSeq,null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),e.latex+="\\right"+this.sides[mt].ctrlSeq,this.checkCursorContextClose(e)},t.prototype.mathspeak=function(t){var r,n,i;if(this.mathspeakOverride)return(null==t?void 0:t.createdLeftOf)?this.mathspeakOverride(this.sides[this.side].ch):e.prototype.mathspeak.call(this);if(r=this.sides[ft].ch,n=this.sides[mt].ch,"|"===r&&"|"===n)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(t&&t.createdLeftOf&&this.side)return i="",this.side===ft?i=this.textTemplate[0]:this.side===mt&&(i=this.textTemplate[1]),(this.side===ft?"left ":"right ")+et[i];this.mathspeakTemplate=["left "+et[r]+",",", right "+et[n]],this.ariaLabel=et[r]+" block"}return e.prototype.mathspeak.call(this)},t.prototype.matchBrack=function(e,r,n){return n instanceof t&&n.side&&n.side!==-r&&(!e.restrictMismatchedBrackets||Qe[this.sides[this.side].ch]===n.sides[n.side].ch||{"(":"]","[":")"}[this.sides[ft].ch]===n.sides[mt].ch)&&n},t.prototype.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side];var t=e.delimFrags[this.side===ft?ft:mt].removeClass("mq-ghost");this.replaceBracket(t,this.side)},t.prototype.createLeftOf=function(t){var r,n,i;this.replacedFragment||(n=t.options,r="|"===this.sides[ft].ch?this.matchBrack(n,mt,t[mt])||this.matchBrack(n,ft,t[ft])||this.matchBrack(n,0,t.parent.parent):this.matchBrack(n,-this.side,t[-this.side])||this.matchBrack(n,-this.side,t.parent.parent)),r?(i=this.side=-r.side,this.closeOpposing(r),r===t.parent.parent&&t[i]&&new A(t[i],t.parent.getEnd(i),-i).disown().withDirAdopt(-i,r.parent,r,r[i]).domFrag().insDirOf(i,r.domFrag()),r.bubble(function(e){e.reflow()})):(i=(r=this).side,r.replacedFragment?r.side=0:t[-i]&&(r.replaces(new A(t[-i],t.parent.getEnd(-i),i)),t[-i]=0),e.prototype.createLeftOf.call(this,t)),i===ft?t.insAtLeftEnd(r.getEnd(ft)):t.insRightOf(r)},t.prototype.placeCursor=function(){},t.prototype.unwrap=function(){this.getEnd(ft).children().disown().adopt(this.parent,this,this[mt]).domFrag().insertAfter(this.domFrag()),this.remove()},t.prototype.deleteSide=function(e,t,r){var n,i,o,a,s,l=this.parent,c=this[e],u=l.getEnd(e);if(e===this.side)return this.unwrap(),void(c?r.insDirOf(-e,c):r.insAtDirEnd(e,l));if(n=r.options,i=!this.side,this.side=-e,this.matchBrack(n,e,this.getEnd(ft).getEnd(this.side)))this.closeOpposing(this.getEnd(ft).getEnd(this.side)),o=this.getEnd(ft).getEnd(e),this.unwrap(),o&&o.siblingCreated(r.options,e),c?r.insDirOf(-e,c):r.insAtDirEnd(e,l);else{if(this.matchBrack(n,e,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(t&&i)return this.unwrap(),void(c?r.insDirOf(-e,c):r.insAtDirEnd(e,l));this.sides[e]=function(e){var t=e.side,r=e.sides[t];return{ch:Qe[r.ch],ctrlSeq:Qe[r.ctrlSeq]}}(this),this.delimFrags[ft].removeClass("mq-ghost"),this.delimFrags[mt].removeClass("mq-ghost"),a=this.delimFrags[e].addClass("mq-ghost"),this.replaceBracket(a,e)}c?(o=(s=this.getEnd(ft)).getEnd(e),s.domFrag().removeClass("mq-empty"),new A(c,u,-e).disown().withDirAdopt(-e,s,o,0).domFrag().insAtDirEnd(e,s.domFrag().oneElement()),o&&o.siblingCreated(r.options,e),r.insDirOf(-e,c)):t?r.insDirOf(e,this):r.insAtDirEnd(e,this.getEnd(ft))}},t.prototype.replaceBracket=function(e,t){var r,n,i=this.getSymbol(t);e.children().replaceWith(R(i.html())),e.oneElement().style.width=i.width,t===ft?(r=e.next()).isEmpty()||(r.oneElement().style.marginLeft=i.width):(n=e.prev()).isEmpty()||(n.oneElement().style.marginRight=i.width)},t.prototype.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},t.prototype.finalizeTree=function(){this.getEnd(ft).deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimFrags[this.side===ft?mt:ft].removeClass("mq-ghost"),this.side=0}},t.prototype.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()},t}(Je),Qe={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},et={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"},S("(","","parenthesis"),S("[","","bracket"),S("{","\\{","brace"),N.langle=function(){return new Ze(ft,"&lang;","&rang;","\\langle ","\\rangle ")},N.rangle=function(){return new Ze(mt,"&lang;","&rang;","\\langle ","\\rangle ")},I["|"]=function(){return new Ze(ft,"|","|","|","|")},N.lVert=function(){return new Ze(ft,"&#8741;","&#8741;","\\lVert ","\\rVert ")},N.rVert=function(){return new Ze(mt,"&#8741;","&#8741;","\\lVert ","\\rVert ")},N.left=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.parser=function(){var e=X.regex,t=X.string,r=X.optWhitespace;return r.then(e(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then(function(n){var i=n.replace(/^\\/,"");return"\\langle"==n&&(i="&lang;",n+=" "),"\\lVert"==n&&(i="&#8741;",n+=" "),re.then(function(o){return t("\\right").skip(r).then(e(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map(function(e){var t,r=e.replace(/^\\/,"");return"\\rangle"==e&&(r="&rang;",e+=" "),"\\rVert"==e&&(r="&#8741;",e+=" "),(t=new Ze(0,i,r,n,e)).blocks=[o],o.adopt(t,0,0),t})})})},t}(de),N.right=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.parser=function(){return X.fail("unmatched \\right")},t}(de),tt=Be["("],rt=Be[")"],nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\binom",t.domView=new ue(2,function(e){return bt("span",{class:"mq-non-leaf mq-bracket-container"},[bt("span",{style:"width:"+tt.width,class:"mq-paren mq-bracket-l mq-scaled"},[tt.html()]),bt("span",{style:"margin-left:"+tt.width+"; margin-right:"+rt.width,class:"mq-non-leaf mq-bracket-middle"},[bt("span",{class:"mq-array mq-non-leaf"},[bt.block("span",{},e[0]),bt.block("span",{},e[1])])]),bt("span",{style:"width:"+rt.width,class:"mq-paren mq-bracket-r mq-scaled"},[rt.html()])])}),t.textTemplate=["choose(",",",")"],t.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],t.ariaLabel="binomial",t}return ht(t,e),t}(Je),N.binom=N.binomial=nt,N.choose=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.createLeftOf=function(e){He.prototype.createLeftOf(e)},t}(nt),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\MathQuillMathField",t.domView=new ue(1,function(e){return bt("span",{class:"mq-editable-field"},[bt.block("span",{class:"mq-root-block","aria-hidden":"true"},e[0])])}),t}return ht(t,e),t.prototype.parser=function(){var t=this,r=X.string,n=X.regex,i=X.succeed;return r("[").then(n(/^[a-z][a-z0-9]*/i)).skip(r("]")).map(function(e){t.name=e}).or(i(void 0)).then(e.prototype.parser.call(this))},t.prototype.finalizeTree=function(e){var t=new le(this.getEnd(ft),this.domFrag().oneElement(),e);t.KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),p(t.root),function e(t){if(t.parentNode&&!R(t).hasClass("mq-root-block")&&e(t.parentNode),t.nodeType===Node.ELEMENT_NODE){var r=t;"true"===r.getAttribute("aria-hidden")&&(r.removeAttribute("aria-hidden"),R(t).children().eachElement(function(e){e.setAttribute("aria-hidden","true")}))}}(this.domFrag().parent().oneElement()),this.domFrag().oneElement().removeAttribute("aria-hidden")},t.prototype.registerInnerField=function(e,t){var r=new t(this.getEnd(ft).controller);e[this.name]=r,e.push(r)},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),this.checkCursorContextClose(e)},t.prototype.text=function(){return this.getEnd(ft).text()},t}(de),N.editable=N.MathQuillMathField=it,ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.domView=new ue(0,function(){return bt("span",{},[i(e.htmlString||"")])}),this.latex=e.latex||t,this},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.latex(),this.checkCursorContextClose(e)},t.prototype.parser=function(){var e=this,t=X.string,r=X.regex,n=X.succeed;return t("{").then(r(/^[a-z][a-z0-9]*/i)).skip(t("}")).then(function(i){return t("[").then(r(/^[-\w\s]*/)).skip(t("]")).or(n(void 0)).map(function(t){return e.setOptions(D[i](t))})})},t}(he),N.embed=ot,at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\text",t.ariaLabel="Text",t.mathspeakTemplate=["StartText","EndText"],t}return ht(t,e),t.prototype.replaces=function(e){e instanceof A?this.replacedText=e.remove().domFrag().text():"string"==typeof e&&(this.replacedText=e)},t.prototype.setDOMFrag=function(t){var r,n;return e.prototype.setDOM.call(this,t),(r=this.getEnd(ft))&&((n=this.domFrag().children()).isEmpty()||r.setDOM(n.oneText())),this},t.prototype.createLeftOf=function(t){var r,n,i,o=this;if(e.prototype.createLeftOf.call(this,t),t.insAtRightEnd(o),o.replacedText)for(r=0;r<o.replacedText.length;r+=1)o.write(t,o.replacedText.charAt(r));(n=o[mt])&&n.siblingCreated(t.options,ft),(i=o[ft])&&i.siblingCreated(t.options,mt),o.bubble(function(e){e.reflow()})},t.prototype.parser=function(){var e=this,t=X.string,r=X.regex;return X.optWhitespace.then(t("{")).then(r(/^[^}]*/)).skip(t("}")).map(function(t){return 0===t.length?new A(0,0):(new st(t).adopt(e,0,0),e)})},t.prototype.textContents=function(){return this.foldChildren("",function(e,t){return e+t.textStr})},t.prototype.text=function(){return'"'+this.textContents()+'"'},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e);var t=this.textContents();t.length>0&&(e.latex+=this.ctrlSeq+"{",e.latex+=t.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&"),e.latex+="}"),this.checkCursorContextClose(e)},t.prototype.html=function(){var e=bt("span",{class:"mq-text-mode"},[bt.text(this.textContents())]);return this.setDOM(e),k.linkElementByCmdNode(e,this),e},t.prototype.mathspeak=function(t){return t&&t.ignoreShorthand?this.mathspeakOverride?e.prototype.mathspeak.call(this):this.mathspeakTemplate[0]+", "+this.textContents()+", "+this.mathspeakTemplate[1]:this.textContents()},t.prototype.isTextBlock=function(){return!0},t.prototype.moveTowards=function(e,t){t.insAtDirEnd(-e,this),t.controller.aria.queueDirEndOf(-e,t.parent,!0)},t.prototype.moveOutOf=function(e,t){t.insDirOf(e,this),t.controller.aria.queueDirOf(e,this)},t.prototype.unselectInto=function(e,t){this.moveTowards(e,t)},t.prototype.selectTowards=function(e,t){de.prototype.selectTowards.call(this,e,t)},t.prototype.deleteTowards=function(e,t){de.prototype.deleteTowards.call(this,e,t)},t.prototype.selectOutOf=function(e,t){t.insDirOf(e,this)},t.prototype.deleteOutOf=function(e,t){this.isEmpty()&&t.insRightOf(this)},t.prototype.write=function(r,n){var i,o,a;r.show().deleteSelection(),"$"!==n?(i=r[ft])?i instanceof st&&i.appendText(n):new st(n).createLeftOf(r):this.isEmpty()?(r.insRightOf(this),new pe("\\$",bt.text("$")).createLeftOf(r)):r[mt]?r[ft]?(o=new t,(a=this.getEnd(ft))&&(a.disown().domFrag().detach(),a.adopt(o,0,0)),r.insLeftOf(this),e.prototype.createLeftOf.call(o,r)):r.insLeftOf(this):r.insRightOf(this),this.bubble(function(e){e.reflow()}),r.controller.aria.alert(n)},t.prototype.writeLatex=function(e,t){var r=e[ft];r?r instanceof st&&r.appendText(t):new st(t).createLeftOf(e),this.bubble(function(e){e.reflow()})},t.prototype.seek=function(e,t){var r,n,i,o,a,s,l,c,u,d,h,p,f,m,g;if(t.hide(),r=E(this)){for(n=this.domFrag().children().oneText(),(i=document.createRange()).selectNodeContents(n),1===(o=i.getClientRects()).length?(s=(a=o[0]).width,l=a.left,c=s/this.textContents().length,(u=Math.round((e-l)/c))<=0?t.insAtLeftEnd(this):u>=r.textStr.length?t.insAtRightEnd(this):t.insLeftOf(r.splitRight(u))):t.insAtLeftEnd(this),p=h=(d=e-t.show().getBoundingClientRectWithoutMargin().left)&&d<0?ft:mt;t[h]&&d*p>0;)t[h].moveTowards(h,t),p=d,d=e-t.getBoundingClientRectWithoutMargin().left;h*d<-h*p&&t[-h].moveTowards(-h,t),t.anticursor?t.anticursor.parent===this&&(m=(f=t[ft])&&f.textStr.length,this.anticursorPosition===m?t.anticursor=L.fromCursor(t):(this.anticursorPosition<m?(g=f.splitRight(this.anticursorPosition),t[ft]=g):g=t[mt].splitRight(this.anticursorPosition-m),t.anticursor=new L(this,g[ft],g))):(f=t[ft],this.anticursorPosition=f&&f.textStr.length)}},t.prototype.blur=function(e){me.prototype.blur.call(this,e),e&&(""===this.textContents()?(this.remove(),e[ft]===this?e[ft]=this[ft]:e[mt]===this&&(e[mt]=this[mt])):E(this))},t.prototype.focus=function(){me.prototype.focus.call(this)},t}(ee),st=function(e){function t(t){var r=e.call(this)||this;return r.textStr=t,r}return ht(t,e),t.prototype.html=function(){var e=bt.text(this.textStr);return this.setDOM(e),e},t.prototype.appendText=function(e){this.textStr+=e,this.domFrag().oneText().appendData(e)},t.prototype.prependText=function(e){this.textStr=e+this.textStr,this.domFrag().oneText().insertData(0,e)},t.prototype.insTextAtDirEnd=function(e,t){n(t),t===mt?this.appendText(e):this.prependText(e)},t.prototype.splitRight=function(e){var r=new t(this.textStr.slice(e)).adopt(this.parent,this,this[mt]);return r.setDOM(this.domFrag().oneText().splitText(e)),this.textStr=this.textStr.slice(0,e),r},t.prototype.endChar=function(e,t){return t.charAt(e===ft?0:-1+t.length)},t.prototype.moveTowards=function(e,r){var i,o;return n(e),i=this.endChar(-e,this.textStr),(o=this[-e])instanceof t?o.insTextAtDirEnd(i,e):new t(i).createDir(-e,r),this.deleteTowards(e,r)},t.prototype.mathspeak=function(){return this.textStr},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.textStr,this.checkCursorContextClose(e)},t.prototype.deleteTowards=function(e,t){var r;this.textStr.length>1?(e===mt?(this.domFrag().oneText().deleteData(0,1),r=this.textStr[0],this.textStr=this.textStr.slice(1)):(this.domFrag().oneText().deleteData(-1+this.textStr.length,1),r=this.textStr[this.textStr.length-1],this.textStr=this.textStr.slice(0,-1)),t.controller.aria.queue(r)):(this.remove(),t[e]=this[e],t.controller.aria.queue(this.textStr))},t.prototype.selectTowards=function(e,r){var i,o,a,s,l;if(n(e),i=r.anticursor)return o=this.endChar(-e,this.textStr),i[e]===this?(a=new t(o).createDir(e,r),i[e]=a,r.insDirOf(e,a)):((s=this[-e])instanceof t?s.insTextAtDirEnd(o,e):(a=new t(o).createDir(-e,r),(l=r.selection)&&a.domFrag().insDirOf(-e,l.domFrag())),1===this.textStr.length&&i[-e]===this&&(i[-e]=this[-e])),this.deleteTowards(e,r)},t}(ee),N.text=N.textnormal=N.textrm=N.textup=N.textmd=at,N.em=N.italic=N.italics=N.emph=N.textit=N.textsl=w("\\textit","Italic","i",{class:"mq-text-mode"}),N.strong=N.bold=N.textbf=w("\\textbf","Bold","b",{class:"mq-text-mode"}),N.sf=N.textsf=w("\\textsf","Sans serif font","span",{class:"mq-sans-serif mq-text-mode"}),N.tt=N.texttt=w("\\texttt","Mono space font","span",{class:"mq-monospace mq-text-mode"}),N.textsc=w("\\textsc","Variable font","span",{style:"font-variant:small-caps",class:"mq-text-mode"}),N.uppercase=w("\\uppercase","Uppercase","span",{style:"text-transform:uppercase",class:"mq-text-mode"}),N.lowercase=w("\\lowercase","Lowercase","span",{style:"text-transform:lowercase",class:"mq-text-mode"}),lt=function(e){function t(t){var r=e.call(this,"$")||this;return r.domView=new ue(1,function(e){return bt.block("span",{class:"mq-math-mode"},e[0])}),r.cursor=t,r}return ht(t,e),t.prototype.createBlocks=function(){e.prototype.createBlocks.call(this);var t=this.getEnd(ft);t.cursor=this.cursor,t.write=function(e,t){"$"!==t?me.prototype.write.call(this,e,t):this.isEmpty()?(e.insRightOf(this.parent),this.parent.deleteTowards(void 0,e),new pe("\\$",bt.text("$")).createLeftOf(e.show())):e[mt]?e[ft]?me.prototype.write.call(this,e,t):e.insLeftOf(this.parent):e.insRightOf(this.parent)}},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),e.latex+="$",null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),e.latex+="$",this.checkCursorContextClose(e)},t}(de),ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.keystroke=function(t,r,n){if("Spacebar"!==t&&"Shift-Spacebar"!==t)return e.prototype.keystroke.call(this,t,r,n)},t.prototype.write=function(e,t){var r;(e.show().deleteSelection(),"$"===t)?new lt(e).createLeftOf(e):("<"===t?r=bt.entityText("&lt;"):">"===t&&(r=bt.entityText("&gt;")),new pe(t,r).createLeftOf(e))},t}(ge),j.TextField=function(e){var t;return t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.__mathquillify=function(){return e.prototype.mathquillify.call(this,"mq-editable-field mq-text-mode"),this},t.prototype.latex=function(e){return e?(this.__controller.renderLatexText(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t}(e.EditableField),t.RootBlock=ct,t},I["\\"]=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\",t.domView=new ue(1,function(e){return bt("span",{class:"mq-latex-command-input-wrapper mq-non-leaf"},[bt("span",{class:"mq-latex-command-input mq-non-leaf"},[bt.text("\\"),bt.block("span",{},e[0])])])}),t.textTemplate=["\\"],t}return ht(t,e),t.prototype.replaces=function(e){this._replacedFragment=e.disown(),this.isEmpty=function(){return!1}},t.prototype.createBlocks=function(){var t,r;e.prototype.createBlocks.call(this),(t=this.getEnd(ft)).focus=function(){return this.parent.domFrag().addClass("mq-hasCursor"),this.isEmpty()&&this.parent.domFrag().removeClass("mq-empty"),this},t.blur=function(){return this.parent.domFrag().removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.domFrag().addClass("mq-empty"),this},t.write=function(e,t){if(e.show().deleteSelection(),t.match(/[a-z]/i))new pe(t).createLeftOf(e),e.controller.aria.alert(t);else{var r=this.parent.renderCommand(e);e.controller.aria.queue(r.mathspeak({createdLeftOf:e})),"\\"===t&&this.isEmpty()?e.controller.aria.alert():e.parent.write(e,t)}},r=t.keystroke,t.keystroke=function(e,t,n){if("Tab"===e||"Enter"===e||"Spacebar"===e){var i=this.parent.renderCommand(n.cursor);return n.aria.alert(i.mathspeak({createdLeftOf:n.cursor})),void(null==t||t.preventDefault())}return r.call(this,e,t,n)}},t.prototype.createLeftOf=function(t){var r,n,i;e.prototype.createLeftOf.call(this,t),this._replacedFragment&&(r=this.domFrag(),n=r.oneElement(),this._replacedFragment.domFrag().addClass("mq-blur"),i=function(e){return e.target=n,n.dispatchEvent(e),!1},n.addEventListener("mousedown",i),n.addEventListener("mouseup",i),this._replacedFragment.domFrag().insertBefore(r.children().first()))},t.prototype.latexRecursive=function(e){var t,r;this.checkCursorContextOpen(e),e.latex+="\\",null===(r=(t=this.getEnd(ft)).latexRecursive)||void 0===r||r.call(t,e),e.latex+=" ",this.checkCursorContextClose(e)},t.prototype.renderCommand=function(e){var t,r,n;return this.setDOM(this.domFrag().children().lastElement()),this.remove(),this[mt]?e.insLeftOf(this[mt]):e.insAtRightEnd(this.parent),(t=this.getEnd(ft).latex())||(t=" "),(r=N[t])?(n=void 0,n=u(r)?new r(t):r(t),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(e),n):((n=new at).replaces(t),n.createLeftOf(e),e.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove(),n)},t}(de),mathquill_min$1.exports=d,mathquill_min$1.exports}var mathquill_minExports=requireMathquill_min(),MathQuill=getDefaultExportFromCjs(mathquill_minExports);const CDOT_ONLY=["az","cs","da","de","hu","hy","kk","ky","lt","lv","nb","sk","sr","sv","uz"],TIMES_ONLY=["fr","tr","pt-pt"];function convertDotToTimesByLocale(e,t){return!CDOT_ONLY.includes(e)&&(!!TIMES_ONLY.includes(e)||t)}const inJest="undefined"!=typeof process&&!!define_process_env_default?.JEST_WORKER_ID,mathQuillInstance=MathQuill.getInterface(3),createBaseConfig=()=>({autoCommands:"pi theta phi sqrt nthroot",autoOperatorNames:["arccos","arcsin","arctan","arctg","arg","cos","cosec","cossec","cosh","cot","cotg","coth","csc","ctg","deg","det","dim","exp","gcd","hom","inf","ker","lg","lim","liminf","limsup","ln","log","max","min","Pr","projlim","sec","sen","sin","sinh","sup","tan","tanh","tg"].join(" "),charsThatBreakOutOfSupSub:"+-*/=<>",supSubsRequireOperand:!0,spaceBehavesLikeTab:!0});function createMathField(e,t,r,n){const i=createBaseConfig(),o=n?n(i):i,a=mathQuillInstance.MathField(e,o).setAriaLabel(r.mathInputBox).setAriaStringsOverrideMap({before:e=>r.before({obj:e}),after:e=>r.after({obj:e}),"beginning of":e=>r["beginning of"]({obj:e}),"end of":e=>r["end of"]({obj:e}),Baseline:r.Baseline,Superscript:r.Superscript,selected:e=>r.selected({obj:e}),"no answer":r["no answer"],"nothing selected":r["nothing selected"],"nothing to the right":r["nothing to the right"],"nothing to the left":r["nothing to the left"],"block is empty":r["block is empty"],"nothing above":r["nothing above"],labelValue:(e,t)=>r.labelValue({label:e,value:t})});return!inJest&&distExports.SpeechRuleEngine.setup(t).then(e=>a.setMathspeakOverride(e.texToSpeech)),a}const Numerals=["0","1","2","3","4","5","6","7","8","9"],GreekLetters=["\\theta","\\pi"],Letters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ValidLeaves=[...Numerals,...GreekLetters,...Letters.map(e=>e.toLowerCase()),...Letters.map(e=>e.toUpperCase())],mqNodeHasClass=(e,t)=>e._el&&e._el.classList.contains(t);function isFraction(e){return mqNodeHasClass(e,"mq-fraction")}function isNumerator(e){return mqNodeHasClass(e,"mq-numerator")}function isDenominator(e){return mqNodeHasClass(e,"mq-denominator")}function isSubScript(e){return mqNodeHasClass(e,"mq-sub-only")||mqNodeHasClass(e,"mq-sub")}function isSuperScript(e){return mqNodeHasClass(e,"mq-sup-only")||mqNodeHasClass(e,"mq-sup")}function isParens(e){return e&&"\\left("===e.ctrlSeq}function isLeaf(e){return e&&e.ctrlSeq&&ValidLeaves.includes(e.ctrlSeq.trim())}function isSquareRoot(e){return e.blocks&&mqNodeHasClass(e.blocks[0],"mq-sqrt-stem")}function isNthRoot(e){return e.blocks&&mqNodeHasClass(e.blocks[0],"mq-nthroot")}function isNthRootIndex(e){return mqNodeHasClass(e,"mq-nthroot")}function isInsideLogIndex(e){const t=e.parent.parent;if(t&&mqNodeHasClass(t,"mq-supsub")){const e=maybeFindCommandBeforeParens(t);if(e&&"\\log"===e.name)return!0}return!1}function isInsideEmptyNode(e){return e[mathQuillInstance.L]===MathFieldActionType.MQ_END&&e[mathQuillInstance.R]===MathFieldActionType.MQ_END}function selectNode(e,t){t.insLeftOf(e),t.startSelection(),t.insRightOf(e),t.select(),t.endSelection()}function maybeFindCommand(e){if(!e)return null;const t=/^[a-z]$/,r=/^\\[a-z]$/,n=["\\log","\\ln","\\cos","\\sin","\\tan"];let i,o,a="",s=e;for(;0!==s;){const e=s.ctrlSeq.trim();if(!t.test(e)){if(r.test(e)){a=e+a,i=s;break}break}a=e+a,s=s[mathQuillInstance.L]}if(i){for(s=e[mathQuillInstance.R];0!==s;){const e=s.ctrlSeq.trim();if(t.test(e))a+=e;else if("\\left("===e){o=s;break}s=s[mathQuillInstance.R]}return n.includes(a)?{name:a,startNode:i,endNode:o}:null}return null}function maybeFindCommandBeforeParens(e){return maybeFindCommand(e[mathQuillInstance.L])}function getCursorContext(e){if(!e)return CursorContext.NONE;const t=e.cursor();let r=t;for(;r[mathQuillInstance.R]!==MathFieldActionType.MQ_END;){if(isFraction(r[mathQuillInstance.R]))return CursorContext.BEFORE_FRACTION;if(!isLeaf(r[mathQuillInstance.R]))break;r=r[mathQuillInstance.R]}return isParens(t.parent&&t.parent.parent)?CursorContext.IN_PARENS:isNumerator(t.parent)?CursorContext.IN_NUMERATOR:isDenominator(t.parent)?CursorContext.IN_DENOMINATOR:isSubScript(t.parent)?CursorContext.IN_SUB_SCRIPT:isSuperScript(t.parent)?CursorContext.IN_SUPER_SCRIPT:CursorContext.NONE}function handleBackspaceInNthRoot(e,t){const r=t[mathQuillInstance.L]===MathFieldActionType.MQ_END,n=isInsideEmptyNode(t.parent.parent.blocks[0].ends);r?(selectNode(t.parent.parent,t),n&&e.keystroke("Backspace")):e.keystroke("Backspace")}function handleBackspaceInRootIndex(e,t){if(isInsideEmptyNode(t)){const r=t.parent.parent,n=r.latex(),i=r[mathQuillInstance.L];selectNode(r,t);""===r.blocks[1]._el.textContent?e.keystroke("Backspace"):(e.keystroke("Backspace"),e.write(n.replace(/^\\sqrt\[\]/,"\\sqrt")),i===MathFieldActionType.MQ_END?e.moveToLeftEnd():t.insRightOf(i))}else t[mathQuillInstance.L]!==MathFieldActionType.MQ_END&&e.keystroke("Backspace")}function handleBackspaceInLogIndex(e,t){if(isInsideEmptyNode(t)){const r=t.parent.parent,n=maybeFindCommandBeforeParens(r);t.insLeftOf(n?.startNode),t.startSelection(),r[mathQuillInstance.R]!==MathFieldActionType.MQ_END?t.insRightOf(r[mathQuillInstance.R]):t.insRightOf(r),t.select(),t.endSelection();""===r[mathQuillInstance.R]._el.textContent&&e.keystroke("Backspace")}else e.keystroke("Backspace")}function handleBackspaceInsideParens(e,t){if(t[mathQuillInstance.L]!==MathFieldActionType.MQ_END)return void e.keystroke("Backspace");const r=t.parent.parent;if(r[mathQuillInstance.L].sub&&r[mathQuillInstance.L].sub._el.textContent)return void t.insAtRightEnd(r[mathQuillInstance.L].sub);const n=isInsideEmptyNode(t),i=maybeFindCommandBeforeParens(r);t.insLeftOf(i&&i.startNode||r),t.startSelection(),t.insRightOf(r),t.select(),t.endSelection(),n&&e.keystroke("Backspace")}function handleBackspaceAfterLigaturedSymbol(e){e.keystroke("Backspace"),e.keystroke("Backspace")}function handleBackspace(e){const t=e.cursor();if(t.selection)e.keystroke("Backspace");else{const r=t.parent,n=r.parent,i=t[mathQuillInstance.L];isFraction(i)||isSquareRoot(i)||isNthRoot(i)?selectNode(i,t):isNthRootIndex(r)?handleBackspaceInRootIndex(e,t):"\\left("===n.ctrlSeq?handleBackspaceInsideParens(e,t):isInsideLogIndex(t)?handleBackspaceInLogIndex(e,t):"\\ge "===i.ctrlSeq||"\\le "===i.ctrlSeq?handleBackspaceAfterLigaturedSymbol(e):isNthRoot(n)&&i===MathFieldActionType.MQ_END?handleBackspaceInNthRoot(e,t):e.keystroke("Backspace")}}function handleLeftArrow(e,t){if(t[mathQuillInstance.L]===MathFieldActionType.MQ_END){const e=t.parent.parent;if("\\left("===e.ctrlSeq){const r=maybeFindCommandBeforeParens(e);if(r)return void t.insLeftOf(r.startNode)}}e.keystroke("Left")}function handleRightArrow(e,t){const r=maybeFindCommand(t[mathQuillInstance.R]);r?(t.insLeftOf(r.endNode),e.keystroke("Right")):e.keystroke("Right")}function handleArrow(e,t){const r=e.cursor();"LEFT"===t?handleLeftArrow(e,r):"RIGHT"===t&&handleRightArrow(e,r)}const ArithmeticOperators=["+","-","\\cdot","\\times","\\div"],EqualityOperators=["=","\\neq","<","\\leq",">","\\geq"];function handleExponent(e,t){const r=e.cursor(),n=[...ArithmeticOperators,...EqualityOperators],i=r[mathQuillInstance.L],o=i===MathFieldActionType.MQ_END||n.includes(i.ctrlSeq.trim());switch(o&&e.write("\\left(\\right)"),t){case"EXP":e.cmd("^");break;case"EXP_2":case"EXP_3":e.write("^"+("EXP_2"===t?2:3)),o&&(e.keystroke("Left"),e.keystroke("Left"),e.keystroke("Left"),e.keystroke("Left"));break;default:throw new Error(`Invalid exponent key: ${t}`)}}const KeysForJumpContext={[CursorContext.IN_PARENS]:"JUMP_OUT_PARENTHESES",[CursorContext.IN_SUPER_SCRIPT]:"JUMP_OUT_EXPONENT",[CursorContext.IN_SUB_SCRIPT]:"JUMP_OUT_BASE",[CursorContext.BEFORE_FRACTION]:"JUMP_INTO_NUMERATOR",[CursorContext.IN_NUMERATOR]:"JUMP_OUT_NUMERATOR",[CursorContext.IN_DENOMINATOR]:"JUMP_OUT_DENOMINATOR"};function handleJumpOut(e,t){const r=e.cursor(),n=getCursorContext(e);if(KeysForJumpContext[n]===t)switch(n){case CursorContext.IN_PARENS:r.insRightOf(r.parent.parent),e.keystroke("Right");break;case CursorContext.BEFORE_FRACTION:let t,i=r;for(;i[mathQuillInstance.R]!==MathFieldActionType.MQ_END;)isFraction(i[mathQuillInstance.R])&&(t=i[mathQuillInstance.R]),i=i[mathQuillInstance.R];r.insLeftOf(t),e.keystroke("Right");break;case CursorContext.IN_NUMERATOR:const o=r.parent.parent.blocks[1];for(;r.parent!==o;)e.keystroke("Right");break;case CursorContext.IN_DENOMINATOR:r.insRightOf(r.parent.parent);break;case CursorContext.IN_SUB_SCRIPT:r.insRightOf(r.parent.parent),isParens(r[mathQuillInstance.R])&&e.keystroke("Right");break;case CursorContext.IN_SUPER_SCRIPT:r.insRightOf(r.parent.parent);break;default:throw new Error(`Attempted to 'Jump Out' from node, but found no appropriate cursor context: ${n}`)}}function buildGenericCallback(e,t=MathFieldActionType.WRITE){return function(r){switch(t){case MathFieldActionType.WRITE:return void r.write(e);case MathFieldActionType.CMD:return void r.cmd(e);case MathFieldActionType.KEYSTROKE:return void r.keystroke(e)}}}function buildTranslatableFunctionCallback(e,t,r){const n=t.includes(e)?e:r;return function(e){e.write(`${n}\\left(\\right)`),e.keystroke("Left")}}function buildNormalFunctionCallback(e){return function(t){t.write(`\\${e}\\left(\\right)`),t.keystroke("Left")}}const getKeyTranslator=(e,t)=>({EXP:handleExponent,EXP_2:handleExponent,EXP_3:handleExponent,JUMP_OUT_PARENTHESES:handleJumpOut,JUMP_OUT_EXPONENT:handleJumpOut,JUMP_OUT_BASE:handleJumpOut,JUMP_INTO_NUMERATOR:handleJumpOut,JUMP_OUT_NUMERATOR:handleJumpOut,JUMP_OUT_DENOMINATOR:handleJumpOut,LEFT:handleArrow,RIGHT:handleArrow,LOG:buildNormalFunctionCallback("log"),LN:buildNormalFunctionCallback("ln"),COS:buildNormalFunctionCallback(t.cos),SIN:buildTranslatableFunctionCallback(t.sin,["sin","sen"],"sin"),TAN:buildTranslatableFunctionCallback(t.tan,["tan","tg"],"tan"),CDOT:buildGenericCallback("\\cdot"),DECIMAL:buildGenericCallback(getDecimalSeparator$1(e)),DIVIDE:buildGenericCallback(getDivideSymbolForTex(e)),EQUAL:buildGenericCallback("="),GEQ:buildGenericCallback("\\geq"),GT:buildGenericCallback(">"),LEQ:buildGenericCallback("\\leq"),LT:buildGenericCallback("<"),MINUS:buildGenericCallback("-"),NEGATIVE:buildGenericCallback("-"),NEQ:buildGenericCallback("\\neq"),PERCENT:buildGenericCallback("%"),PERIOD:buildGenericCallback("."),PLUS:buildGenericCallback("+"),TIMES:buildGenericCallback("\\times"),FRAC_INCLUSIVE:buildGenericCallback("/",MathFieldActionType.CMD),FRAC:buildGenericCallback("\\frac",MathFieldActionType.CMD),LEFT_PAREN:buildGenericCallback("(",MathFieldActionType.CMD),RIGHT_PAREN:buildGenericCallback(")",MathFieldActionType.CMD),SQRT:buildGenericCallback("sqrt",MathFieldActionType.CMD),PI:buildGenericCallback("pi",MathFieldActionType.CMD),THETA:buildGenericCallback("theta",MathFieldActionType.CMD),RADICAL:buildGenericCallback("nthroot",MathFieldActionType.CMD),BACKSPACE:buildGenericCallback("Backspace",MathFieldActionType.KEYSTROKE),UP:buildGenericCallback("Up",MathFieldActionType.KEYSTROKE),DOWN:buildGenericCallback("Down",MathFieldActionType.KEYSTROKE),CUBE_ROOT:e=>{e.write("\\sqrt[3]{}"),e.keystroke("Left")},FRAC_EXCLUSIVE:e=>{const t=e.cursor()[mathQuillInstance.L]===MathFieldActionType.MQ_END;e.cmd("\\frac"),t&&e.keystroke("Left")},LOG_N:e=>{e.write("log_{ }\\left(\\right)"),e.keystroke("Left"),e.keystroke("Left"),e.keystroke("Left")},DISMISS:()=>{},NUM_0:buildGenericCallback("0"),NUM_1:buildGenericCallback("1"),NUM_2:buildGenericCallback("2"),NUM_3:buildGenericCallback("3"),NUM_4:buildGenericCallback("4"),NUM_5:buildGenericCallback("5"),NUM_6:buildGenericCallback("6"),NUM_7:buildGenericCallback("7"),NUM_8:buildGenericCallback("8"),NUM_9:buildGenericCallback("9"),a:buildGenericCallback("a"),b:buildGenericCallback("b"),c:buildGenericCallback("c"),d:buildGenericCallback("d"),e:buildGenericCallback("e"),f:buildGenericCallback("f"),g:buildGenericCallback("g"),h:buildGenericCallback("h"),i:buildGenericCallback("i"),j:buildGenericCallback("j"),k:buildGenericCallback("k"),l:buildGenericCallback("l"),m:buildGenericCallback("m"),n:buildGenericCallback("n"),o:buildGenericCallback("o"),p:buildGenericCallback("p"),q:buildGenericCallback("q"),r:buildGenericCallback("r"),s:buildGenericCallback("s"),t:buildGenericCallback("t"),u:buildGenericCallback("u"),v:buildGenericCallback("v"),w:buildGenericCallback("w"),x:buildGenericCallback("x"),y:buildGenericCallback("y"),z:buildGenericCallback("z"),A:buildGenericCallback("A"),B:buildGenericCallback("B"),C:buildGenericCallback("C"),D:buildGenericCallback("D"),E:buildGenericCallback("E"),F:buildGenericCallback("F"),G:buildGenericCallback("G"),H:buildGenericCallback("H"),I:buildGenericCallback("I"),J:buildGenericCallback("J"),K:buildGenericCallback("K"),L:buildGenericCallback("L"),M:buildGenericCallback("M"),N:buildGenericCallback("N"),O:buildGenericCallback("O"),P:buildGenericCallback("P"),Q:buildGenericCallback("Q"),R:buildGenericCallback("R"),S:buildGenericCallback("S"),T:buildGenericCallback("T"),U:buildGenericCallback("U"),V:buildGenericCallback("V"),W:buildGenericCallback("W"),X:buildGenericCallback("X"),Y:buildGenericCallback("Y"),Z:buildGenericCallback("Z")});class MathWrapper{focus(){this.mathField.cursor().show(),this.mathField.focus()}blur(){this.mathField.cursor().hide(),this.mathField.blur()}pressKey(e){const t=this.getCursor(),r=this.mobileKeyTranslator[e];return r&&r(this.mathField,e),t.selection||t.show(),this.callbacks.onSelectionChanged&&this.callbacks.onSelectionChanged(t.selection),{context:this.contextForCursor()}}setCursorPosition(e,t,r){const n=r||document.elementFromPoint(e,t);if(n){const r=this.getCursor();if(n.hasAttribute("mq-root-block"))r.insAtRightEnd(this.mathField.controller().root);else{const i=this.mathField.controller(),o=e-document.body.scrollLeft,a=t-document.body.scrollTop;i.seek(n,o,a).cursor.startSelection();const s=maybeFindCommand(r[mathQuillInstance.L]);s&&s.endNode&&(r.insLeftOf(s.endNode),this.mathField.keystroke("Right"))}this.callbacks.onCursorMove&&this.callbacks.onCursorMove({context:this.contextForCursor()})}}getCursor(){return this.mathField.cursor()}contextForCursor(){return getCursorContext(this.mathField)}getSelection(){return this.getCursor().selection}getContent(){return this.mathField.latex()}setContent(e){this.mathField.latex(e)}isEmpty(){const e=this.getCursor();return 1===e.parent.id&&0===e[1]&&0===e[-1]}constructor(e,t,r,n,i={}){this.mathField=createMathField(e,n,r,()=>({substituteTextarea:function(){return document.createElement("span")}})),this.mathField?.setAriaLabel(t),this.callbacks=i,this.mobileKeyTranslator={...getKeyTranslator(n,r),BACKSPACE:handleBackspace}}}const toolbarHeightPx=60,scrollIntoView=(e,t)=>{const r=e.getBoundingClientRect(),n=r.bottom,i=r.top,o=document.scrollingElement;if(t){const e=window.innerHeight-(t.clientHeight+toolbarHeightPx);if(n>e){const t=Math.min(n-e+16,i);return void(o&&(o.scrollTop+=t))}}o&&i<16&&(o.scrollTop-=r.height+16)},constrainingFrictionFactor=.8;class MathInput extends reactExports.Component{componentDidMount(){this._isMounted=!0,this.mathField=new MathWrapper(this._mathContainer,this.props.ariaLabel,this.context.strings,this.context.locale,{onCursorMove:e=>{this.props.keypadElement?.setCursor(e)}}),this.mathField.setContent(this.props.value),this._updateInputPadding(),this._container=ReactDOM.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block"),this._root.addEventListener("scroll",this._handleScroll);const e=(e,t)=>{const r=this._getKeypadBounds();return!!r&&(r.left<=e&&r.right>=e&&r.top<=t&&r.bottom>=t||r.bottom<t)};this.recordTouchStartOutside=t=>{if(this.state.focused&&!this._container.contains(t.target)){let r=!1;if(this.props.keypadElement&&this.props.keypadElement.getDOMNode())for(let n=0;n<t.changedTouches.length;n++){const[i,o]=[t.changedTouches[n].clientX,t.changedTouches[n].clientY];if(e(i,o)){r=!0;break}}r||(this.didTouchOutside=!0,this.dragListener&&this.dragListener.detach(),this.dragListener=new DragListener(()=>{this.didScroll=!0,this.dragListener.detach()},t),this.dragListener.attach())}},this.blurOnTouchEndOutside=e=>{this.state.focused&&this.didTouchOutside&&!this.didScroll&&(this.blur(),this.mathField.blur(),this.props.onBlur?.()),this.didTouchOutside=!1,this.didScroll=!1,this.dragListener&&this.dragListener.detach()},this.blurOnClickOutside=t=>{if(this.state.focused&&!this._container.contains(t.target)&&this.props.keypadElement&&this.props.keypadElement.getDOMNode()){const[r,n]=[t.clientX,t.clientY];e(r,n)||(this.blur(),this.props.onBlur?.())}},window.addEventListener("touchstart",this.recordTouchStartOutside),window.addEventListener("touchend",this.blurOnTouchEndOutside),window.addEventListener("touchcancel",this.blurOnTouchEndOutside),window.addEventListener("click",this.blurOnClickOutside)}componentDidUpdate(e,t){this.mathField.getContent()!==this.props.value&&this.mathField.setContent(this.props.value),t.focused!==this.state.focused&&this._updateInputPadding()}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("touchstart",this.recordTouchStartOutside),window.removeEventListener("touchend",this.blurOnTouchEndOutside),window.removeEventListener("touchcancel",this.blurOnTouchEndOutside),window.removeEventListener("click",this.blurOnClickOutside)}_getKeypadBounds(){const e=this.props.keypadElement?.getDOMNode();return e instanceof Element?e.getBoundingClientRect():null}render(){const{showInputFocusStyle:e,handle:t}=this.state,{style:r}=this.props,n={...inlineStyles.innerContainer,borderWidth:this.getBorderWidthPx(),...e?{borderColor:color$1$2.blue}:{},...r},i=this.context.strings.mathInputBox+" "+this.context.strings.fingerTap;return jsxRuntimeExports.jsx(KeypadContext.Consumer,{children:({keypadActive:r,setKeypadActive:o})=>jsxRuntimeExports.jsxs(View$1,{style:styles$7$1.input,onTouchStart:e=>{this.handleTouchStart(e,r,o)},onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onClick:e=>{this.handleClick(e,r,o)},role:"textbox",ariaLabel:i,children:[jsxRuntimeExports.jsx("div",{className:"keypad-input",tabIndex:"0",ref:e=>{this.inputRef=e},onFocus:()=>{this.focus(o)},onBlur:this.blur,onKeyUp:this.handleKeyUp,children:jsxRuntimeExports.jsx("div",{ref:e=>{this._mathContainer=ReactDOM.findDOMNode(e)},style:n})}),e&&t.visible&&jsxRuntimeExports.jsx(CursorHandle,{...t,onTouchStart:this.onCursorHandleTouchStart,onTouchMove:this.onCursorHandleTouchMove,onTouchEnd:this.onCursorHandleTouchEnd,onTouchCancel:this.onCursorHandleTouchCancel})]})})}constructor(...t){super(...t),this.state={focused:!1,showInputFocusStyle:!1,handle:{animateIntoPosition:!1,visible:!1,x:0,y:0}},this._updateInputPadding=()=>{this._container=ReactDOM.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block");const e=this.getInputInnerPadding();this._root.style.padding=`${e.paddingTop}px ${e.paddingRight}px ${e.paddingBottom}px ${e.paddingLeft}px`,this._root.style.fontSize=`${fontSizePt}pt`},this._updateCursorHandle=e=>{const t=this._container.getBoundingClientRect(),r=this._container.querySelector(".mq-cursor").getBoundingClientRect(),n=r.width,i=this.getInputInnerPadding(),o=t.right-n-i.paddingRight,a=t.left+n+i.paddingLeft;let s=r.left;r.left>o?s=o:r.left<a&&(s=a),this.setState({handle:{visible:!0,animateIntoPosition:e,x:s+n/2-t.left,y:r.bottom+2-t.top}})},this._hideCursorHandle=()=>{this.setState({handle:{visible:!1,x:0,y:0}})},this._handleScroll=()=>{!1!==this.state.handle.animateIntoPosition&&this._hideCursorHandle()},this.blur=()=>{this.mathField.blur(),this.setState({showInputFocusStyle:!1,handle:{visible:!1}})},this.focus=e=>{this.props.keypadElement?.setKeyHandler(e=>{const t=this.mathField.pressKey(e),r=()=>{this.setState({handle:{visible:!1}})},n=this.mathField.getContent();return this.props.value!==n?this.props.onChange(n,r):r(),t}),this.mathField.focus(),this.props?.onFocus(),e(!0),this.setState({focused:!0,showInputFocusStyle:!0},()=>{setTimeout(()=>{if(this._isMounted){const e=this.props.keypadElement?.getDOMNode();scrollIntoView(this._container,e)}})})},this._findHitNode=(t,r,n,i,o)=>{for(;n>=t.top&&n<=t.bottom;){const t=[[r-i,n+=o],[r,n],[r+i,n]].map(e=>document.elementFromPoint(...e)).filter(e=>e&&this._root.contains(e)&&(!e.classList.contains("mq-root-block")&&!e.classList.contains("mq-non-leaf")||e.classList.contains("mq-empty")||e.classList.contains("mq-hasCursor")));let a=null;const s=[];let l=0;const c={},u={};for(const e of t){const t=e.getAttribute("mathquill-command-id");null!=t?(c[t]=(c[t]||0)+1,u[t]=e):s.push(e)}for(const[r,n]of e(c))n>l&&(l=n,a=u[r]);if(null==a&&s.length>0&&(a=s[0]),null!==a)return this.mathField.setCursorPosition(r,n,a),!0}return!1},this._insertCursorAtClosestNode=(e,t)=>{const r=this.mathField.getCursor();if(!this._root.hasChildNodes())return void r.insAtLeftEnd(this.mathField.mathField.controller().root);let n;t>this._containerBounds.bottom?t=this._containerBounds.bottom-10:t<this._containerBounds.top&&(t=this._containerBounds.top+10),e>this._containerBounds.right?e=this._containerBounds.right-15:e<this._containerBounds.left&&(e=this._containerBounds.left+15),n=-8;if(this._findHitNode(this._containerBounds,e,t,5,n))return;if(t=this._containerBounds.top,n=8,this._findHitNode(this._containerBounds,e,t,5,n))return;const i=this._root.firstChild.getBoundingClientRect(),o=this._root.lastChild.getBoundingClientRect(),a=i.left,s=o.right;Math.abs(e-s)<Math.abs(e-a)?r.insAtRightEnd(this.mathField.mathField.controller().root):r.insAtLeftEnd(this.mathField.mathField.controller().root),this.props.keypadElement?.setCursor({context:this.mathField.contextForCursor()})},this.handleTouchStart=(e,t,r)=>{if(e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()){this._containerBounds=this._container.getBoundingClientRect();const t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}this.state.focused&&!t&&r(!0),this.state.focused||this.focus(r),this.inputRef?.focus()},this.handleClick=(e,t,r)=>{e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()&&(this._containerBounds=this._container.getBoundingClientRect(),this._insertCursorAtClosestNode(e.clientX,e.clientY)),this.state.focused&&!t&&r(!0),this.state.focused||this.focus(r),this.inputRef?.focus()},this.handleTouchMove=e=>{if(e.stopPropagation(),""!==this.mathField.getContent()&&this.state.focused){const t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}},this.handleTouchEnd=e=>{e.stopPropagation(),""!==this.mathField.getContent()&&this.state.focused&&this._updateCursorHandle()},this.onCursorHandleTouchStart=e=>{e.stopPropagation(),e.preventDefault(),this._containerBounds=this._container.getBoundingClientRect()},this._constrainToBound=(e,t,r,n)=>e<t?t+(e-t)*n:e>r?r+(e-r)*n:e,this.onCursorHandleTouchMove=e=>{e.stopPropagation();const t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY,n=t-this._containerBounds.left,i=r-2*cursorHandleRadiusPx*cursorHandleDistanceMultiplier-this._containerBounds.top;this.setState({handle:{animateIntoPosition:!1,visible:!0,x:this._constrainToBound(n,0,this._containerBounds.width,constrainingFrictionFactor),y:this._constrainToBound(i,0,this._containerBounds.height,constrainingFrictionFactor)}});const o=r-22;this._insertCursorAtClosestNode(t,o)},this.onCursorHandleTouchEnd=e=>{e.stopPropagation(),this._updateCursorHandle(!0)},this.onCursorHandleTouchCancel=e=>{e.stopPropagation(),this._updateCursorHandle(!0)},this.domKeyToMathQuillKey=e=>{const t={"+":"PLUS","-":"MINUS","*":"TIMES","/":"DIVIDE",".":"DECIMAL","%":"PERCENT","=":"EQUAL",">":"GT","<":"LT","^":"EXP"};return["0","1","2","3","4","5","6","7","8","9"].includes(e)?`NUM_${e}`:"Backspace"===e?"BACKSPACE":e in t?t[e]:null},this.handleKeyUp=e=>{const t=this.domKeyToMathQuillKey(e.key);if(t){this.mathField.pressKey(t);const e=this.mathField.getContent();this.props.value!==e&&(this.mathField.setContent(this.props.value),this.props.onChange(e,()=>{}),this._hideCursorHandle())}},this.getBorderWidthPx=()=>this.state.focused?2:1,this.getInputInnerPadding=()=>{const e=totalDesiredPadding-this.getBorderWidthPx();return{paddingTop:e-1,paddingRight:e+2,paddingBottom:e-3,paddingLeft:e+2}}}}MathInput.contextType=MathInputI18nContext,MathInput.defaultProps={style:{},value:""},MathInput.contextType=MathInputI18nContext;const fontSizePt=18,inputMaxWidth=128,numeralHeightPx=20,totalDesiredPadding=12,minHeightPx=numeralHeightPx+2*totalDesiredPadding,minWidthPx=64,styles$7$1=StyleSheet.create({input:{position:"relative",display:"inline-block",verticalAlign:"middle",maxWidth:inputMaxWidth}}),inlineStyles={innerContainer:{backgroundColor:"white",minHeight:minHeightPx,minWidth:minWidthPx,maxWidth:inputMaxWidth,boxSizing:"border-box",position:"relative",borderStyle:"solid",borderColor:color$1$2.offBlack50,borderRadius:4,color:color$1$2.offBlack}},IconAsset=function({tintColor:e,type:t}){switch(t){case"Geometry":return jsxRuntimeExports.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.57584 7.09442c.35139-.16458.76626-.11103 1.06434.13737L26.6402 22.2318c.3234.2695.4434.7128.3001 1.1086C26.7969 23.7363 26.421 24 26 24H8c-.55228 0-1-.4477-1-1V8.00001c0-.38802.22446-.74101.57584-.90559zM9 10.1351V17h4c.5523 0 1 .4477 1 1v4h9.238L9 10.1351zM12 22v-3H9v3h3z",fill:e})});case"Operators":return jsxRuntimeExports.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 6h1v1h-1V6zm-2 0c0-1.10457.8954-2 2-2h1c1.1046 0 2 .89543 2 2v1c0 1.10457-.8954 2-2 2h-1c-1.1046 0-2-.89543-2-2V6zm-15.8682.50386C11.3098 6.19229 11.6411 6 12 6h2c.5523 0 1 .44772 1 1s-.4477 1-1 1h-1.4197l-3.71206 6.4961c-.18297.3202-.52733.5137-.89599.5035-.36865-.0102-.70175-.2225-.86668-.5524l-2-4c-.24699-.49396-.04676-1.09464.44722-1.34163.49397-.24699 1.09465-.04676 1.34164.44722L8.0588 11.8815l3.073-5.37764zM7.70676 16.2925c.39072.3904.39103 1.0235.00069 1.4143-.42202.4224-.86362 1.0235-1.19588 1.659C6.17039 20.0184 6 20.601 6 21c0 .3789.17235.9897.51638 1.6649.33677.661.7685 1.2472 1.15148 1.5908.41106.3689.44528 1.0011.07643 1.4122-.36885.411-1.00109.4452-1.41215.0764-.61604-.5528-1.18431-1.3599-1.5978-2.1715C4.32813 22.7755 3.99999 21.8345 4 21c.00001-.8609.3301-1.7783.73917-2.5608.41798-.7995.97637-1.5684 1.55338-2.146.39033-.3907 1.0235-.391 1.41421-.0007zm3.58644 0c.3908-.3903 1.0239-.39 1.4143.0007.577.5776 1.1353 1.3465 1.5533 2.146C14.6699 19.2217 15 20.1391 15 21c0 .8345-.3281 1.7755-.7343 2.5728-.4135.8116-.9818 1.6187-1.5978 2.1715-.4111.3688-1.0433.3346-1.4122-.0764-.3688-.4111-.3346-1.0433.0764-1.4122.383-.3436.8148-.9298 1.1515-1.5908.344-.6752.5164-1.286.5164-1.6649 0-.399-.1704-.9816-.5116-1.6342-.3322-.6355-.7738-1.2366-1.1959-1.659-.3903-.3908-.39-1.0239.0007-1.4143zm16.6431 1.3564c.1939.5171-.0681 1.0935-.5852 1.2874L21.848 21l5.5031 2.0637c.5171.1939.7791.7703.5852 1.2874-.1939.5171-.7703.7791-1.2874.5852l-8-3C18.2586 21.79 18 21.4168 18 21c0-.4168.2586-.79.6489-.9363l8-3c.5171-.1939 1.0935.0681 1.2874.5852zM21 8v5h3V8h-3zm-1-2c-.5523 0-1 .44772-1 1v7c0 .5523.4477 1 1 1h5c.5523 0 1-.4477 1-1V7c0-.55228-.4477-1-1-1h-5z",fill:e})});case"Numbers":return jsxRuntimeExports.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M10.4123 19.5794v1.421H4.71434v-1.421h2.016v-5.558c0-.1213.00233-.245.007-.371.00466-.126.01166-.2543.021-.385l-1.33 1.106c-.09334.07-.18434.1144-.273.133-.08867.0187-.17267.021-.252.007-.07934-.0186-.14934-.0466-.21-.084-.06067-.042-.10734-.084-.14-.126l-.609-.819 3.122-2.646h1.589v8.743h1.75696zm8.3801-.35c.21 0 .3734.0584.49.175.1214.1167.182.2707.182.462v1.134h-7.042v-.63c0-.1213.0257-.252.077-.392.0514-.1446.1377-.2753.259-.392l3.01-3.017c.2567-.2566.483-.5016.679-.735.196-.238.3594-.469.49-.693.1307-.2286.2287-.4596.294-.693.0654-.2333.098-.4783.098-.735 0-.4526-.1166-.7956-.35-1.029-.2333-.238-.5623-.357-.987-.357-.1866 0-.3593.028-.518.084-.154.0514-.294.1237-.42.217-.1213.0934-.2263.203-.315.329-.0886.126-.154.2637-.196.413-.084.2334-.1983.3897-.343.469-.14.0747-.3406.091-.602.049l-1.022-.182c.0747-.4946.2147-.9286.42-1.302.2054-.3733.462-.6836.77-.931.308-.2473.6604-.4316 1.057-.553.3967-.126.8237-.189 1.281-.189.4807 0 .917.0724 1.309.217.3967.14.735.3384 1.015.595.28.252.497.5577.651.917.154.3594.231.756.231 1.19 0 .3734-.0536.7187-.161 1.036-.1073.3174-.2543.6207-.441.91-.182.2847-.3943.5624-.637.833-.2426.2707-.4993.5437-.77.819l-2.156 2.205c.238-.07.4737-.1236.707-.161.2334-.042.4527-.063.658-.063h2.282zm2.6611-5.523c.0747-.4946.2147-.9286.42-1.302.2054-.3733.462-.6836.77-.931.308-.2473.658-.4316 1.05-.553.3967-.126.8237-.189 1.281-.189.4854 0 .9194.07 1.302.21.3874.1354.714.322.98.56.266.238.469.5157.609.833.1447.3174.217.658.217 1.022 0 .322-.035.6067-.105.854-.0653.2427-.1656.455-.301.637-.1306.182-.294.336-.49.462-.1913.126-.413.231-.665.315 1.1667.3827 1.75 1.1597 1.75 2.331 0 .518-.0956.9754-.287 1.372-.1913.392-.448.721-.77.987s-.6976.4667-1.127.602c-.4246.1307-.8703.196-1.337.196-.4946 0-.931-.056-1.309-.168-.378-.112-.7116-.28-1.001-.504-.2846-.224-.5296-.504-.735-.84-.2053-.3406-.385-.7373-.539-1.19l.854-.35c.224-.0933.4317-.119.623-.077.196.042.336.1447.42.308.0934.1774.1914.3407.294.49.1074.1494.2264.28.357.392.1307.1074.2777.1914.441.252.168.0607.3594.091.574.091.2707 0 .5064-.0443.707-.133.2007-.0886.3687-.203.504-.343.1354-.1446.2357-.3056.301-.483.07-.182.105-.3616.105-.539 0-.2333-.021-.4433-.063-.63-.042-.1913-.14-.3523-.294-.483-.1493-.1353-.3733-.238-.672-.308-.294-.0746-.6953-.112-1.204-.112v-1.358c.4247 0 .7724-.035 1.043-.105.2707-.07.483-.168.637-.294.154-.126.259-.2776.315-.455.0607-.1773.091-.371.091-.581 0-.4433-.1166-.7816-.35-1.015-.2286-.2333-.5553-.35-.98-.35-.1866 0-.3593.028-.518.084-.154.0514-.294.1237-.42.217-.1213.0934-.2263.203-.315.329-.0886.126-.154.2637-.196.413-.0886.2334-.203.3897-.343.469-.14.0747-.343.091-.609.049l-1.015-.182z",fill:e})});case"Extras":return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#a)",children:[jsxRuntimeExports.jsx("path",{fill:e,fillRule:"evenodd",d:"M6.127 10.454c.224-.032.403-.05.53-.05.591 0 1.137.153 1.63.459.398.239.713.529.94.872l.188-.248.005-.007.006-.006c.619-.703 1.347-1.07 2.178-1.07.691 0 1.269.204 1.71.626.454.403.686.91.686 1.51 0 .533-.156.994-.476 1.37-.312.383-.738.574-1.254.574-.345 0-.643-.101-.878-.317a1.1 1.1 0 0 1-.353-.843c0-.405.11-.76.342-1.051.153-.193.354-.352.596-.479a1.416 1.416 0 0 0-.492-.07c-.195 0-.316.016-.38.035-.53.226-.938.694-1.208 1.445l-.001.003c-.02.05-.085.289-.202.74-.115.443-.275 1.077-.481 1.901-.414 1.641-.633 2.547-.662 2.74l-.002.01a3.423 3.423 0 0 0-.067.673c0 .337.097.581.272.756.176.177.413.272.733.272.6 0 1.15-.247 1.657-.768.518-.549.864-1.146 1.044-1.791l.001-.004a1.2 1.2 0 0 1 .088-.224.368.368 0 0 1 .161-.164.564.564 0 0 1 .198-.056 2.19 2.19 0 0 1 .276-.014c.159 0 .305.016.42.064.059.025.12.063.167.122.05.063.073.137.073.213 0 .023-.004.048-.005.057a12.52 12.52 0 0 1-.046.245l-.004.015c-.281 1.026-.86 1.917-1.73 2.67l-.007.007c-.776.611-1.605.925-2.484.925-1.08 0-1.93-.45-2.53-1.33-.453.605-1.015 1.024-1.685 1.248l-.01.003-.011.002a3.23 3.23 0 0 1-.664.053c-.974 0-1.703-.35-2.13-1.078A2.05 2.05 0 0 1 2 19.437c0-.52.158-.975.478-1.349.326-.38.749-.572 1.252-.572.372 0 .69.091.913.31.224.218.318.531.318.898 0 .327-.078.621-.241.874a1.706 1.706 0 0 1-.707.597l-.018.009c.158.063.331.095.52.095.467 0 .902-.285 1.295-.966l.002-.005c.071-.115.185-.417.341-.938.154-.51.341-1.209.563-2.096v-.002c.095-.364.198-.767.31-1.21.11-.444.188-.78.235-1.014l.002-.013c.058-.216.098-.36.119-.425.077-.42.113-.709.113-.877 0-.342-.092-.588-.254-.762-.159-.171-.384-.267-.704-.267-.652 0-1.217.251-1.704.768l-.002.002A4.215 4.215 0 0 0 3.79 14.28a1.084 1.084 0 0 1-.065.207.41.41 0 0 1-.14.176l-.01.007-.012.006a.35.35 0 0 1-.104.03 1.16 1.16 0 0 1-.095.01 5.04 5.04 0 0 1-.275.006H2.67l-.061-.061c-.109-.11-.204-.247-.204-.41v-.015l.003-.015c.07-.472.335-1.05.768-1.723l.001-.002c.771-1.165 1.754-1.857 2.949-2.042h.002Z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{fill:e,d:"M21.084 10.284c.932-.008 2.301-.013 4.107-.013 1.325 0 2.327.003 3.007.007a75.812 75.812 0 0 1 .99.013c.025 0 .047.002.065.003h.002c.01 0 .04.003.067.01l.01.002.011.004c.201.07.37.183.488.347a.966.966 0 0 1 .169.574c0 .3-.078.568-.248.79-.168.221-.411.377-.708.479h-.002a1.01 1.01 0 0 1-.221.034 8.213 8.213 0 0 1-.35.016c-.29.008-.696.012-1.219.012h-1.39l-.038.223v.001c-.198 1.185-.295 2.156-.295 2.916 0 1.446.251 2.746.75 3.905l.004.007c.059.153.105.284.137.393.03.103.053.205.053.29 0 .359-.16.68-.44.961-.278.296-.63.445-1.041.445-.255 0-.492-.03-.654-.139l-.009-.006-.008-.006c-.126-.101-.236-.274-.338-.477l-.006-.012c-.331-.768-.49-1.722-.49-2.852 0-.595.007-1.002.025-1.212v-.005c.118-1.157.377-2.551.776-4.18v-.002c.024-.096.045-.18.061-.25h-1.948c-.008.038-.02.086-.034.143l-.002.007a35.14 35.14 0 0 0-.146.537c-.05.232-.1.448-.15.648v.001a230.673 230.673 0 0 1-1.312 4.936 41.285 41.285 0 0 1-.411 1.384c-.104.322-.19.557-.256.681-.115.262-.28.473-.5.617-.225.146-.49.212-.783.212-.449 0-.807-.173-1.006-.549l-.006-.011-.005-.012a1.37 1.37 0 0 1-.067-.486v-.326l.346-.745c1.24-2.61 2.136-4.858 2.695-6.747l.002-.008.094-.281h-.463c-.662 0-1.105.025-1.346.07-.198.04-.47.173-.824.43l-.007.005-.007.005c-.366.228-.69.542-.97.947-.044.069-.085.13-.125.18a.651.651 0 0 1-.141.136l-.027.017-.03.01a.8.8 0 0 1-.19.03c-.07.005-.156.008-.258.008-.17 0-.335-.021-.465-.09a.437.437 0 0 1-.216-.546c.014-.042.034-.086.057-.132.047-.093.113-.208.198-.343l.003-.005c1.147-1.745 2.311-2.774 3.508-2.96a2.345 2.345 0 0 1 .158-.015 60.295 60.295 0 0 1 1.369-.026Z"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"a",children:jsxRuntimeExports.jsx("path",{fill:"#fff",d:"M0 0h28v11.457H0z",transform:"translate(2 10.271)"})})})]});case"Dismiss":return jsxRuntimeExports.jsx("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.7071 15.2929C28.3166 14.9024 27.6834 14.9024 27.2929 15.2929L22 20.5858L16.7071 15.2929C16.3166 14.9024 15.6834 14.9024 15.2929 15.2929C14.9024 15.6834 14.9024 16.3166 15.2929 16.7071L20.5858 22L15.2929 27.2929C14.9024 27.6834 14.9024 28.3166 15.2929 28.7071C15.6834 29.0976 16.3166 29.0976 16.7071 28.7071L22 23.4142L27.2929 28.7071C27.6834 29.0976 28.3166 29.0976 28.7071 28.7071C29.0976 28.3166 29.0976 27.6834 28.7071 27.2929L23.4142 22L28.7071 16.7071C29.0976 16.3166 29.0976 15.6834 28.7071 15.2929Z",fill:e})});case"Fractions":return jsxRuntimeExports.jsx("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"});default:throw new Error(`Invalid icon type: ${t}`)}},styles$6$2=StyleSheet.create({base:{display:"flex",width:44,height:38,boxSizing:"border-box",borderRadius:3,border:"1px solid transparent",marginRight:1,marginLeft:1},hovered:{border:"1px solid #1865F2"},pressed:{background:"#1B50B3"},focused:{outline:"none",border:`2px solid ${color$1$2.blue}`},innerBox:{boxSizing:"border-box",border:"1px solid transparent",borderRadius:2,display:"flex",flex:1,justifyContent:"center",alignItems:"center"},innerBoxPressed:{border:`1px solid ${color$1$2.white}`},activeIndicator:{position:"absolute",boxSizing:"border-box",bottom:3,width:36,height:3,marginLeft:3},clickable:{":focus":{outline:"none"}}});function imageTintColor(e,t,r,n){return"disabled"===e?color$1$2.offBlack64:n?color$1$2.white:"active"===e||t?color$1$2.blue:color$1$2.offBlack64}function TabbarItem(e){const{onClick:t,itemType:r,itemState:n,focus:i,role:o}=e,a=reactExports.useRef(null);return reactExports.useEffect(()=>{let e;return"tab"===o&&i&&(e=setTimeout(()=>{a?.current&&a?.current.focus()},0)),()=>clearTimeout(e)},[o,i,a]),jsxRuntimeExports.jsx(Clickable$2,{onClick:t,disabled:"disabled"===n,"aria-label":r,style:styles$6$2.clickable,"aria-selected":"active"===n,tabIndex:"button"===o||i?0:-1,role:o,ref:a,children:({hovered:e,focused:t,pressed:i})=>{const o=imageTintColor(n,e,t,i);return jsxRuntimeExports.jsxs(View$2,{style:[styles$6$2.base,"disabled"!==n&&e&&styles$6$2.hovered,t&&styles$6$2.focused,i&&styles$6$2.pressed],children:[jsxRuntimeExports.jsx(View$2,{style:[styles$6$2.innerBox,i&&styles$6$2.innerBoxPressed],children:jsxRuntimeExports.jsx(IconAsset,{type:r,tintColor:o})}),"active"===n&&jsxRuntimeExports.jsx(View$2,{style:[styles$6$2.activeIndicator,{backgroundColor:o}]})]})}})}const styles$5$4=StyleSheet.create({tabbar:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingTop:2,paddingBottom:2,direction:"ltr"},pages:{display:"flex",flexDirection:"row"}});function Tabbar(e){const{items:t,onClickClose:r,selectedItem:n,onSelectItem:i,style:o}=e,a=t.indexOf(n),[s,l]=reactExports.useState(-1===a?0:a);return jsxRuntimeExports.jsxs(View$2,{style:[styles$5$4.tabbar,o],children:[t.length>0&&jsxRuntimeExports.jsx(View$2,{style:[styles$5$4.pages],role:"tablist",onKeyDown:e=>{39===e.keyCode?l(s===t.length-1?0:s+1):37===e.keyCode&&l(0===s?t.length-1:s-1)},children:t.map((e,t)=>jsxRuntimeExports.jsx(TabbarItem,{role:"tab",itemState:e===n?"active":"inactive",itemType:e,focus:s===t,onClick:()=>{i(e)}},`tabbar-item-${e}`))}),jsxRuntimeExports.jsx(View$2,{children:r&&jsxRuntimeExports.jsx(TabbarItem,{role:"button",itemState:"inactive",itemType:"Dismiss",onClick:r})})]})}const getDefaultOperatorFields=({key:e,keyType:t="OPERATOR",ariaLabel:r=e,data:n=e})=>({id:e,type:t,ariaLabel:r,icon:{data:n}}),getDefaultValueFields=({key:e,keyType:t="VALUE",ariaLabel:r=e,data:n=e})=>({id:e,type:t,ariaLabel:r,icon:{data:n}}),getDefaultNumberFields=({key:e,data:t=e.replace("NUM_",""),keyType:r="VALUE",ariaLabel:n=t})=>({id:e,type:r,ariaLabel:n,icon:{data:t}}),KeyConfigs=e=>({PLUS:{...getDefaultOperatorFields({key:"PLUS",ariaLabel:e.plus})},MINUS:{...getDefaultOperatorFields({key:"MINUS",ariaLabel:e.minus})},NEGATIVE:{...getDefaultOperatorFields({key:"NEGATIVE",ariaLabel:e.negative})},TIMES:{...getDefaultOperatorFields({key:"TIMES",ariaLabel:e.times})},DIVIDE:{...getDefaultOperatorFields({key:"DIVIDE",ariaLabel:e.divide})},DECIMAL:{...getDefaultOperatorFields({key:"DECIMAL",keyType:"VALUE",ariaLabel:e.decimal})},PERIOD:{...getDefaultOperatorFields({key:"PERIOD",keyType:"VALUE",ariaLabel:"."})},PERCENT:{...getDefaultOperatorFields({key:"PERCENT",ariaLabel:e.percent})},CDOT:{...getDefaultOperatorFields({key:"CDOT",ariaLabel:e.cdot})},EQUAL:{...getDefaultOperatorFields({key:"EQUAL",ariaLabel:e.equalsSign})},NEQ:{...getDefaultOperatorFields({key:"NEQ",ariaLabel:e.notEqualsSign})},GT:{...getDefaultOperatorFields({key:"GT",ariaLabel:e.greaterThanSign})},LT:{...getDefaultOperatorFields({key:"LT",ariaLabel:e.lessThanSign})},GEQ:{...getDefaultOperatorFields({key:"GEQ",ariaLabel:e.greaterThanOrEqualToSign})},LEQ:{...getDefaultOperatorFields({key:"LEQ",ariaLabel:e.lessThanOrEqualSign})},FRAC_INCLUSIVE:{...getDefaultOperatorFields({key:"FRAC_INCLUSIVE",ariaLabel:e.fractionExpressionInNumerator})},FRAC_EXCLUSIVE:{...getDefaultOperatorFields({key:"FRAC_EXCLUSIVE",ariaLabel:e.fractionExcludingExpression})},FRAC:{...getDefaultOperatorFields({key:"FRAC",ariaLabel:e.fractionExcludingExpression})},EXP:{...getDefaultOperatorFields({key:"EXP",ariaLabel:e.customExponent})},EXP_2:{...getDefaultOperatorFields({key:"EXP_2",ariaLabel:e.square})},EXP_3:{...getDefaultOperatorFields({key:"EXP_3",ariaLabel:e.cube})},SQRT:{...getDefaultOperatorFields({key:"SQRT",ariaLabel:e.squareRoot})},CUBE_ROOT:{...getDefaultOperatorFields({key:"CUBE_ROOT",ariaLabel:e.cubeRoot})},RADICAL:{...getDefaultOperatorFields({key:"RADICAL",ariaLabel:e.radicalWithCustomRoot})},LEFT_PAREN:{...getDefaultOperatorFields({key:"LEFT_PAREN",ariaLabel:e.leftParenthesis})},RIGHT_PAREN:{...getDefaultOperatorFields({key:"RIGHT_PAREN",ariaLabel:e.rightParenthesis})},LN:{...getDefaultOperatorFields({key:"LN",ariaLabel:e.naturalLog})},LOG:{...getDefaultOperatorFields({key:"LOG",ariaLabel:e.logBase10})},LOG_N:{...getDefaultOperatorFields({key:"LOG_N",ariaLabel:e.logCustomBase})},SIN:{...getDefaultOperatorFields({key:"SIN",ariaLabel:e.sine})},COS:{...getDefaultOperatorFields({key:"COS",ariaLabel:e.cosine})},TAN:{...getDefaultOperatorFields({key:"TAN",ariaLabel:e.tangent})},PI:{...getDefaultValueFields({key:"PI",data:"\\pi",ariaLabel:e.pi})},THETA:{...getDefaultValueFields({key:"THETA",data:"\\theta",ariaLabel:e.theta})},UP:{...getDefaultOperatorFields({key:"UP",keyType:"INPUT_NAVIGATION",ariaLabel:e.upArrow})},RIGHT:{...getDefaultOperatorFields({key:"RIGHT",keyType:"INPUT_NAVIGATION",ariaLabel:e.rightArrow})},DOWN:{...getDefaultOperatorFields({key:"DOWN",keyType:"INPUT_NAVIGATION",ariaLabel:e.downArrow})},LEFT:{...getDefaultOperatorFields({key:"LEFT",keyType:"INPUT_NAVIGATION",ariaLabel:e.leftArrow})},JUMP_OUT_PARENTHESES:{...getDefaultOperatorFields({key:"JUMP_OUT_PARENTHESES",keyType:"INPUT_NAVIGATION",ariaLabel:e.navOutOfParentheses})},JUMP_OUT_EXPONENT:{...getDefaultOperatorFields({key:"JUMP_OUT_EXPONENT",keyType:"INPUT_NAVIGATION",ariaLabel:e.navOutOfExponent})},JUMP_OUT_BASE:{...getDefaultOperatorFields({key:"JUMP_OUT_BASE",keyType:"INPUT_NAVIGATION",ariaLabel:e.navOutOfBase})},JUMP_INTO_NUMERATOR:{...getDefaultOperatorFields({key:"JUMP_INTO_NUMERATOR",keyType:"INPUT_NAVIGATION",ariaLabel:e.navIntoNumerator})},JUMP_OUT_NUMERATOR:{...getDefaultOperatorFields({key:"JUMP_OUT_NUMERATOR",keyType:"INPUT_NAVIGATION",ariaLabel:e.navOutOfNumeratorIntoDenominator})},JUMP_OUT_DENOMINATOR:{...getDefaultOperatorFields({key:"JUMP_OUT_DENOMINATOR",keyType:"INPUT_NAVIGATION",ariaLabel:e.navOutOfDenominator})},BACKSPACE:{...getDefaultOperatorFields({key:"BACKSPACE",keyType:"INPUT_NAVIGATION",ariaLabel:e.delete})},DISMISS:{...getDefaultOperatorFields({key:"DISMISS",keyType:"KEYPAD_NAVIGATION",ariaLabel:e.dismiss})},NUM_0:{...getDefaultNumberFields({key:"NUM_0"})},NUM_1:{...getDefaultNumberFields({key:"NUM_1"})},NUM_2:{...getDefaultNumberFields({key:"NUM_2"})},NUM_3:{...getDefaultNumberFields({key:"NUM_3"})},NUM_4:{...getDefaultNumberFields({key:"NUM_4"})},NUM_5:{...getDefaultNumberFields({key:"NUM_5"})},NUM_6:{...getDefaultNumberFields({key:"NUM_6"})},NUM_7:{...getDefaultNumberFields({key:"NUM_7"})},NUM_8:{...getDefaultNumberFields({key:"NUM_8"})},NUM_9:{...getDefaultNumberFields({key:"NUM_9"})},A:{...getDefaultValueFields({key:"A"})},B:{...getDefaultValueFields({key:"B"})},C:{...getDefaultValueFields({key:"C"})},D:{...getDefaultValueFields({key:"D"})},E:{...getDefaultValueFields({key:"E"})},F:{...getDefaultValueFields({key:"F"})},G:{...getDefaultValueFields({key:"G"})},H:{...getDefaultValueFields({key:"H"})},I:{...getDefaultValueFields({key:"I"})},J:{...getDefaultValueFields({key:"J"})},K:{...getDefaultValueFields({key:"K"})},L:{...getDefaultValueFields({key:"L"})},M:{...getDefaultValueFields({key:"M"})},N:{...getDefaultValueFields({key:"N"})},O:{...getDefaultValueFields({key:"O"})},P:{...getDefaultValueFields({key:"P"})},Q:{...getDefaultValueFields({key:"Q"})},R:{...getDefaultValueFields({key:"R"})},S:{...getDefaultValueFields({key:"S"})},T:{...getDefaultValueFields({key:"T"})},U:{...getDefaultValueFields({key:"U"})},V:{...getDefaultValueFields({key:"V"})},W:{...getDefaultValueFields({key:"W"})},X:{...getDefaultValueFields({key:"X"})},Y:{...getDefaultValueFields({key:"Y"})},Z:{...getDefaultValueFields({key:"Z"})},a:{...getDefaultValueFields({key:"a"})},b:{...getDefaultValueFields({key:"b"})},c:{...getDefaultValueFields({key:"c"})},d:{...getDefaultValueFields({key:"d"})},e:{...getDefaultValueFields({key:"e"})},f:{...getDefaultValueFields({key:"f"})},g:{...getDefaultValueFields({key:"g"})},h:{...getDefaultValueFields({key:"h"})},i:{...getDefaultValueFields({key:"i"})},j:{...getDefaultValueFields({key:"j"})},k:{...getDefaultValueFields({key:"k"})},l:{...getDefaultValueFields({key:"l"})},m:{...getDefaultValueFields({key:"m"})},n:{...getDefaultValueFields({key:"n"})},o:{...getDefaultValueFields({key:"o"})},p:{...getDefaultValueFields({key:"p"})},q:{...getDefaultValueFields({key:"q"})},r:{...getDefaultValueFields({key:"r"})},s:{...getDefaultValueFields({key:"s"})},t:{...getDefaultValueFields({key:"t"})},u:{...getDefaultValueFields({key:"u"})},v:{...getDefaultValueFields({key:"v"})},w:{...getDefaultValueFields({key:"w"})},x:{...getDefaultValueFields({key:"x"})},y:{...getDefaultValueFields({key:"y"})},z:{...getDefaultValueFields({key:"z"})}});function ButtonAsset({id:e}){const{locale:t,strings:r}=useMathInputI18n();switch(e){case"NUM_0":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M26.299 20.3598c0 1.512-.164 2.82-.492 3.924-.32 1.104-.764 2.02-1.332 2.748-.568.728-1.236 1.268-2.004 1.62-.768.352-1.596.528-2.484.528-.888 0-1.716-.176-2.484-.528-.768-.352-1.436-.892-2.004-1.62-.56-.728-1-1.644-1.32-2.748-.32-1.104-.48-2.412-.48-3.924s.16-2.82.48-3.924c.32-1.112.76-2.028 1.32-2.748.568-.728 1.236-1.268 2.004-1.62.768-.36 1.596-.54 2.484-.54.888 0 1.716.18 2.484.54.768.352 1.436.892 2.004 1.62.568.72 1.012 1.636 1.332 2.748.328 1.104.492 2.412.492 3.924zm-2.664 0c0-1.28-.104-2.344-.312-3.192-.2-.856-.468-1.54-.804-2.052s-.724-.876-1.164-1.092c-.44-.216-.896-.324-1.368-.324-.48 0-.94.108-1.38.324-.432.216-.816.58-1.152 1.092-.336.512-.604 1.196-.804 2.052-.2.848-.3 1.912-.3 3.192 0 1.28.1 2.348.3 3.204.2.848.468 1.528.804 2.04s.72.876 1.152 1.092c.44.216.9.324 1.38.324.472 0 .928-.108 1.368-.324.44-.216.828-.58 1.164-1.092.336-.512.604-1.192.804-2.04.208-.856.312-1.924.312-3.204z",fill:"#21242C"})});case"NUM_1":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M25.363 27.0441v1.956h-9.42v-1.956h3.6v-10.824c0-.384.012-.776.036-1.176l-2.772 2.34c-.12.096-.244.16-.372.192-.12.024-.236.024-.348 0-.104-.024-.2-.06-.288-.108-.08-.056-.144-.116-.192-.18l-.804-1.128 5.208-4.476h2.1v15.36h3.252z",fill:"#21242C"})});case"NUM_2":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M24.8471 26.5638c.28 0 .5.084.66.252.16.16.24.368.24.624v1.56h-11.688v-.876c0-.176.036-.36.108-.552.072-.192.188-.368.348-.528l5.376-5.388c.456-.456.86-.892 1.212-1.308.36-.416.664-.832.912-1.248.256-.416.448-.836.576-1.26.136-.432.204-.884.204-1.356 0-.456-.072-.856-.216-1.2-.136-.352-.328-.64-.576-.864-.24-.232-.532-.404-.876-.516-.336-.12-.708-.18-1.116-.18-.392 0-.756.056-1.092.168-.328.112-.624.268-.888.468-.256.2-.472.44-.648.72-.168.272-.292.572-.372.9-.12.328-.276.548-.468.66-.184.112-.456.136-.816.072l-1.356-.24c.12-.816.344-1.532.672-2.148.336-.616.756-1.128 1.26-1.536.504-.416 1.08-.728 1.728-.936.656-.216 1.364-.324 2.124-.324.768 0 1.472.116 2.112.348.648.224 1.204.548 1.668.972.472.416.84.924 1.104 1.524.264.6.396 1.276.396 2.028 0 .64-.096 1.232-.288 1.776-.184.544-.436 1.064-.756 1.56s-.696.98-1.128 1.452c-.424.464-.872.936-1.344 1.416l-4.176 4.272c.344-.096.688-.172 1.032-.228.352-.056.684-.084.996-.084h5.076z",fill:"#21242C"})});case"NUM_3":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.4552 16.4718c.12-.816.344-1.532.672-2.148.336-.616.756-1.128 1.26-1.536.504-.416 1.08-.728 1.728-.936.656-.216 1.364-.324 2.124-.324.768 0 1.464.112 2.088.336.632.216 1.172.52 1.62.912.456.392.804.86 1.044 1.404.248.544.372 1.14.372 1.788 0 .552-.068 1.04-.204 1.464-.128.416-.316.784-.564 1.104-.24.32-.536.588-.888.804-.352.216-.748.396-1.188.54 1.072.312 1.876.812 2.412 1.5.536.68.804 1.536.804 2.568 0 .832-.156 1.572-.468 2.22-.312.648-.736 1.196-1.272 1.644-.528.448-1.148.792-1.86 1.032-.704.232-1.452.348-2.244.348-.888 0-1.656-.104-2.304-.312-.648-.216-1.208-.52-1.68-.912-.464-.4-.852-.88-1.164-1.44-.312-.56-.576-1.188-.792-1.884l1.116-.468c.296-.128.576-.164.84-.108.272.056.468.204.588.444.128.256.272.532.432.828.16.288.364.556.612.804.256.24.568.444.936.612.376.16.836.24 1.38.24.552 0 1.032-.088 1.44-.264.416-.184.76-.416 1.032-.696.28-.288.488-.608.624-.96s.204-.7.204-1.044c0-.432-.052-.828-.156-1.188-.104-.368-.308-.68-.612-.936-.296-.256-.72-.456-1.272-.6-.544-.152-1.26-.228-2.148-.228v-1.86c.728-.008 1.34-.08 1.836-.216.504-.144.904-.336 1.2-.576.304-.248.52-.544.648-.888.136-.344.204-.72.204-1.128 0-.44-.068-.828-.204-1.164-.136-.336-.328-.616-.576-.84-.24-.232-.528-.404-.864-.516-.336-.112-.708-.168-1.116-.168-.392 0-.756.056-1.092.168-.328.112-.624.268-.888.468-.256.2-.472.44-.648.72-.176.272-.304.572-.384.9-.112.328-.264.548-.456.66-.184.112-.456.136-.816.072l-1.356-.24z",fill:"#21242C"})});case"NUM_4":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M21.691 22.616v-6.312c0-.504.036-1.056.108-1.656l-5.808 7.968h5.7zm4.632 0v1.488c0 .144-.048.268-.144.372-.088.104-.224.156-.408.156h-1.836V29h-2.244v-4.368h-7.476c-.184 0-.344-.052-.48-.156-.128-.112-.212-.248-.252-.408l-.264-1.32 8.292-11.04h2.424v10.908h2.388z",fill:"#21242C"})});case"NUM_5":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M17.6591 18.1042c.416-.088.812-.152 1.188-.192.384-.04.752-.06 1.104-.06.904 0 1.7.136 2.388.408.696.264 1.276.632 1.74 1.104.472.472.824 1.028 1.056 1.668.24.632.36 1.32.36 2.064 0 .92-.16 1.756-.48 2.508-.32.752-.764 1.396-1.332 1.932-.568.528-1.24.936-2.016 1.224-.768.288-1.6.432-2.496.432-.528 0-1.032-.052-1.512-.156-.472-.104-.916-.244-1.332-.42-.416-.184-.8-.392-1.152-.624-.352-.24-.668-.488-.948-.744l.792-1.104c.168-.24.392-.36.672-.36.176 0 .368.064.576.192.208.128.448.268.72.42.28.144.608.28.984.408.376.128.824.192 1.344.192.568 0 1.076-.092 1.524-.276.448-.184.824-.44 1.128-.768.312-.336.548-.736.708-1.2.16-.464.24-.972.24-1.524 0-.504-.076-.956-.228-1.356-.144-.4-.364-.74-.66-1.02-.288-.28-.652-.492-1.092-.636-.44-.152-.948-.228-1.524-.228-.424 0-.86.036-1.308.108-.44.072-.888.184-1.344.336l-1.608-.456 1.416-8.256h8.364v1.116c0 .368-.116.668-.348.9-.232.232-.62.348-1.164.348h-5.064l-.696 4.02z",fill:"#21242C"})});case"NUM_6":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19.975 27.0562c.52 0 .996-.084 1.428-.252.432-.176.8-.416 1.104-.72.312-.304.552-.664.72-1.08.168-.416.252-.868.252-1.356 0-.528-.084-1-.252-1.416-.16-.424-.392-.78-.696-1.068-.296-.288-.656-.508-1.08-.66-.416-.16-.876-.24-1.38-.24-.52 0-.992.088-1.416.264-.416.176-.772.416-1.068.72-.296.304-.524.66-.684 1.068-.16.408-.24.84-.24 1.296 0 .512.072.98.216 1.404.144.424.356.788.636 1.092.28.296.624.528 1.032.696.416.168.892.252 1.428.252zm-.948-8.976c-.128.16-.252.312-.372.456l-.336.432c.368-.208.772-.372 1.212-.492.44-.12.912-.18 1.416-.18.672 0 1.316.112 1.932.336.616.216 1.156.544 1.62.984.472.432.848.972 1.128 1.62.28.64.42 1.38.42 2.22 0 .8-.148 1.548-.444 2.244-.288.696-.696 1.304-1.224 1.824-.528.512-1.164.92-1.908 1.224-.736.296-1.552.444-2.448.444-.896 0-1.704-.144-2.424-.432-.72-.288-1.336-.692-1.848-1.212-.504-.528-.892-1.16-1.164-1.896-.272-.736-.408-1.556-.408-2.46 0-.784.168-1.604.504-2.46.336-.856.856-1.756 1.56-2.7l4.248-5.7c.128-.168.312-.312.552-.432.248-.12.524-.18.828-.18h2.28l-5.124 6.36z",fill:"#21242C"})});case"NUM_7":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M26.083 11.7202v1.14c0 .336-.036.608-.108.816-.072.208-.144.384-.216.528l-6.828 13.896c-.12.256-.292.472-.516.648-.216.168-.504.252-.864.252h-1.86l6.96-13.668c.128-.248.256-.472.384-.672.128-.2.272-.392.432-.576h-8.628c-.16 0-.3-.06-.42-.18-.12-.128-.18-.272-.18-.432v-1.752h11.844z",fill:"#21242C"})});case"NUM_8":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19.999 27.1518c.52 0 .984-.072 1.392-.216.408-.152.748-.36 1.02-.624.28-.272.492-.592.636-.96.144-.368.216-.768.216-1.2 0-.528-.084-.984-.252-1.368-.16-.384-.388-.7-.684-.948-.288-.256-.632-.444-1.032-.564-.4-.128-.832-.192-1.296-.192-.464 0-.896.064-1.296.192-.4.12-.748.308-1.044.564-.288.248-.516.564-.684.948-.16.384-.24.84-.24 1.368 0 .432.072.832.216 1.2.144.368.352.688.624.96.28.264.624.472 1.032.624.408.144.872.216 1.392.216zm0-13.644c-.472 0-.888.072-1.248.216-.352.144-.644.336-.876.576-.232.24-.408.524-.528.852-.112.32-.168.66-.168 1.02s.048.712.144 1.056c.104.344.264.652.48.924.224.264.516.476.876.636.36.16.8.24 1.32.24s.96-.08 1.32-.24c.36-.16.648-.372.864-.636.224-.272.384-.58.48-.924.104-.344.156-.696.156-1.056 0-.36-.06-.7-.18-1.02-.112-.328-.288-.612-.528-.852-.232-.24-.524-.432-.876-.576-.352-.144-.764-.216-1.236-.216zm2.724 6.48c1.064.328 1.86.848 2.388 1.56.536.712.804 1.596.804 2.652 0 .76-.144 1.448-.432 2.064-.288.616-.692 1.14-1.212 1.572-.52.432-1.144.768-1.872 1.008-.72.232-1.52.348-2.4.348-.88 0-1.684-.116-2.412-.348-.72-.24-1.34-.576-1.86-1.008-.52-.432-.924-.956-1.212-1.572-.288-.616-.432-1.304-.432-2.064 0-1.056.264-1.94.792-2.652.536-.712 1.336-1.232 2.4-1.56-.864-.344-1.516-.844-1.956-1.5-.432-.656-.648-1.444-.648-2.364 0-.648.128-1.252.384-1.812s.616-1.044 1.08-1.452c.472-.416 1.036-.74 1.692-.972.656-.24 1.38-.36 2.172-.36.792 0 1.512.12 2.16.36.656.232 1.216.556 1.68.972.472.408.836.892 1.092 1.452.264.56.396 1.164.396 1.812 0 .92-.22 1.708-.66 2.364-.432.656-1.08 1.156-1.944 1.5z",fill:"#21242C"})});case"NUM_9":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M16.735 16.8558c0 1.024.272 1.812.816 2.364.552.544 1.32.816 2.304.816.528 0 .992-.084 1.392-.252.408-.168.752-.392 1.032-.672.28-.288.492-.62.636-.996.144-.384.216-.792.216-1.224 0-.504-.08-.952-.24-1.344-.152-.4-.372-.74-.66-1.02-.28-.28-.616-.492-1.008-.636-.392-.152-.82-.228-1.284-.228-.488 0-.928.08-1.32.24-.392.16-.728.384-1.008.672-.28.28-.496.616-.648 1.008-.152.384-.228.808-.228 1.272zm4.428 5.364c.16-.2.308-.388.444-.564.136-.184.264-.368.384-.552-.416.296-.88.524-1.392.684-.512.152-1.056.228-1.632.228-.624 0-1.224-.104-1.8-.312-.576-.216-1.088-.532-1.536-.948-.448-.424-.808-.944-1.08-1.56-.264-.624-.396-1.34-.396-2.148 0-.76.14-1.476.42-2.148.288-.672.688-1.256 1.2-1.752.512-.504 1.124-.9 1.836-1.188.712-.288 1.5-.432 2.364-.432.856 0 1.632.14 2.328.42.696.272 1.288.66 1.776 1.164.488.496.864 1.092 1.128 1.788.264.688.396 1.448.396 2.28 0 .52-.048 1.012-.144 1.476-.088.464-.22.916-.396 1.356-.168.432-.376.86-.624 1.284-.24.416-.512.84-.816 1.272l-4.068 5.832c-.12.176-.3.32-.54.432-.232.112-.496.168-.792.168h-2.364l5.304-6.78z",fill:"#21242C"})});case"DECIMAL":case"PERIOD":return"DECIMAL"===e&&"."!==getDecimalSeparator$1(t)?jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"comma-decimal",children:jsxRuntimeExports.jsx("path",{d:"M11.5559 25.3544C11.8679 24.661 12.1799 23.933 12.4919 23.1704C12.8039 22.425 13.0986 21.6884 13.3759 20.9604C13.6706 20.2324 13.9219 19.5737 14.1299 18.9844H16.6259L16.7299 19.2704C16.4526 19.877 16.1232 20.5357 15.7419 21.2464C15.3606 21.9397 14.9619 22.633 14.5459 23.3264C14.1299 24.037 13.7139 24.713 13.2979 25.3544H11.5559Z",fill:"#21242C"})}):jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"period-decimal",children:jsxRuntimeExports.jsx("path",{d:"M18.3401 27.512c0-.232.04-.448.12-.648.088-.208.204-.388.348-.54.152-.152.328-.272.528-.36.208-.088.428-.132.66-.132.232 0 .448.044.648.132.208.088.388.208.54.36.152.152.272.332.36.54.088.2.132.416.132.648 0 .24-.044.46-.132.66-.088.2-.208.376-.36.528-.152.152-.332.268-.54.348-.2.088-.416.132-.648.132-.232 0-.452-.044-.66-.132-.2-.08-.376-.196-.528-.348-.144-.152-.26-.328-.348-.528-.08-.2-.12-.42-.12-.66z",fill:"#21242C"})});case"PLUS":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1z",fill:"#21242C"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 28c-.5523 0-1-.4477-1-1V13c0-.5523.4477-1 1-1s1 .4477 1 1v14c0 .5523-.4477 1-1 1z",fill:"#21242C"})]});case"MINUS":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1z",fill:"#21242C"})});case"TIMES":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3432 14.3428c.3905-.3905 1.0237-.3905 1.4142 0l9.8995 9.8995c.3905.3906.3905 1.0237 0 1.4143-.3905.3905-1.0237.3905-1.4142 0l-9.8995-9.8995c-.3905-.3906-.3905-1.0237 0-1.4143z",fill:"#21242C"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3431 25.6573c-.3905-.3905-.3905-1.0237 0-1.4142l9.8995-9.8995c.3905-.3905 1.0237-.3905 1.4142 0 .3905.3905.3905 1.0237 0 1.4142l-9.8995 9.8995c-.3905.3905-1.0237.3905-1.4142 0z",fill:"#21242C"})]});case"CDOT":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_874_41555)",children:jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"1.5",fill:"#21242C"})}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_874_41555",children:jsxRuntimeExports.jsx("path",{fill:"#fff",transform:"translate(18.5 18.5)",d:"M0 0h3v3H0z"})})})]});case"DIVIDE":return":"===getDivideSymbol(t)?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M18.332 24.3801C18.332 24.1481 18.372 23.9321 18.452 23.7321C18.54 23.5241 18.656 23.3441 18.8 23.1921C18.952 23.0401 19.128 22.9201 19.328 22.8321C19.536 22.7441 19.756 22.7001 19.988 22.7001C20.22 22.7001 20.436 22.7441 20.636 22.8321C20.844 22.9201 21.024 23.0401 21.176 23.1921C21.328 23.3441 21.448 23.5241 21.536 23.7321C21.624 23.9321 21.668 24.1481 21.668 24.3801C21.668 24.6201 21.624 24.8401 21.536 25.0401C21.448 25.2401 21.328 25.4161 21.176 25.5681C21.024 25.7201 20.844 25.8361 20.636 25.9161C20.436 26.0041 20.22 26.0481 19.988 26.0481C19.756 26.0481 19.536 26.0041 19.328 25.9161C19.128 25.8361 18.952 25.7201 18.8 25.5681C18.656 25.4161 18.54 25.2401 18.452 25.0401C18.372 24.8401 18.332 24.6201 18.332 24.3801ZM18.332 15.6321C18.332 15.4001 18.372 15.1841 18.452 14.9841C18.54 14.7761 18.656 14.5961 18.8 14.4441C18.952 14.2921 19.128 14.1721 19.328 14.0841C19.536 13.9961 19.756 13.9521 19.988 13.9521C20.22 13.9521 20.436 13.9961 20.636 14.0841C20.844 14.1721 21.024 14.2921 21.176 14.4441C21.328 14.5961 21.448 14.7761 21.536 14.9841C21.624 15.1841 21.668 15.4001 21.668 15.6321C21.668 15.8721 21.624 16.0921 21.536 16.2921C21.448 16.4921 21.328 16.6681 21.176 16.8201C21.024 16.9721 20.844 17.0921 20.636 17.1801C20.436 17.2601 20.22 17.3001 19.988 17.3001C19.756 17.3001 19.536 17.2601 19.328 17.1801C19.128 17.0921 18.952 16.9721 18.8 16.8201C18.656 16.6681 18.54 16.4921 18.452 16.2921C18.372 16.0921 18.332 15.8721 18.332 15.6321Z",fill:"#21242C"})}):jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 16c.8284 0 1.5-.6716 1.5-1.5S20.8284 13 20 13s-1.5.6716-1.5 1.5.6716 1.5 1.5 1.5zm-8 4c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1zm9.5 5.5c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5z",fill:"#21242C"})});case"LEFT_PAREN":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6402 9.2318c.4243.35357.4816.9841.128 1.4084-4.6909 5.6292-4.6909 13.0905 0 18.7196.3536.4243.2963 1.0549-.128 1.4084-.4243.3536-1.0549.2963-1.4084-.128-5.3091-6.3708-5.3091-14.9095 0-21.28036.3535-.42428.9841-.4816 1.4084-.12804z",fill:"#21242C"})});case"RIGHT_PAREN":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3598 9.2318c.4243-.35356 1.0549-.29624 1.4084.12804 5.3091 6.37086 5.3091 14.90956 0 21.28036-.3535.4243-.9841.4816-1.4084.128-.4242-.3535-.4816-.9841-.128-1.4084 4.691-5.6291 4.691-13.0904 0-18.7196-.3536-.4243-.2962-1.05483.128-1.4084z",fill:"#21242C"})});case"BACKSPACE":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20l6-6h12.1716v12H16l-6-6zm-1.41421-1.4142l6.00001-6C14.9609 12.2107 15.4696 12 16 12h12.1716c1.1045 0 2 .8954 2 2v12c0 1.1046-.8955 2-2 2H16c-.5304 0-1.0391-.2107-1.4142-.5858l-6.00001-6c-.78105-.781-.78105-2.0474 0-2.8284zm13.87871-1.2929l-1.2929 1.2929-1.2929-1.2929c-.3905-.3905-1.0237-.3905-1.4142 0-.3905.3905-.3905 1.0237 0 1.4142L19.7574 20l-1.2929 1.2929c-.3905.3905-.3905 1.0237 0 1.4142.3905.3905 1.0237.3905 1.4142 0l1.2929-1.2929 1.2929 1.2929c.3905.3905 1.0237.3905 1.4142 0 .3906-.3905.3906-1.0237 0-1.4142L22.5858 20l1.2929-1.2929c.3906-.3905.3906-1.0237 0-1.4142-.3905-.3905-1.0237-.3905-1.4142 0z",fill:"#21242C"})});case"DISMISS":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{transform:"scale(1,-1) translate(0, -260)",d:"M205.66,125.66a8,8,0,0,1-11.32,0L128,59.31,61.66,125.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,125.66Z"})});case"FRAC_INCLUSIVE":case"FRAC_EXCLUSIVE":case"FRAC":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 10C16 9.44772 16.4477 9 17 9H23C23.5523 9 24 9.44772 24 10V16C24 16.5523 23.5523 17 23 17H17C16.4477 17 16 16.5523 16 16V10ZM18 11H22V15H18V11ZM14 20C14 19.4477 14.4477 19 15 19H25C25.5523 19 26 19.4477 26 20C26 20.5523 25.5523 21 25 21H15C14.4477 21 14 20.5523 14 20ZM17 23C16.4477 23 16 23.4477 16 24V30C16 30.5523 16.4477 31 17 31H23C23.5523 31 24 30.5523 24 30V24C24 23.4477 23.5523 23 23 23H17ZM22 25H18V29H22V25Z",fill:"#21242C"})});case"NEGATIVE":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9571 13.2929c.3905.3905.3905 1.0237 0 1.4142C11.6871 15.9771 11 17.9485 11 20c0 2.0515.6871 4.0229 1.9571 5.2929.3905.3905.3905 1.0237 0 1.4142-.3905.3905-1.0237.3905-1.4142 0C9.81292 24.9771 9 22.4485 9 20c0-2.4485.81292-4.9771 2.5429-6.7071.3905-.3905 1.0237-.3905 1.4142 0zM14 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H15c-.5523 0-1-.4477-1-1zm14.4571-6.7071c-.3905-.3905-1.0237-.3905-1.4142 0-.3905.3905-.3905 1.0237 0 1.4142C28.3129 15.9771 29 17.9485 29 20c0 2.0515-.6871 4.0229-1.9571 5.2929-.3905.3905-.3905 1.0237 0 1.4142.3905.3905 1.0237.3905 1.4142 0C30.1871 24.9771 31 22.4485 31 20c0-2.4485-.8129-4.9771-2.5429-6.7071z",fill:"#21242C"})});case"RADICAL":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M9 9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V9Zm2 1h4v4h-4v-4Zm12 2a1 1 0 0 0-.841.46l-8.174 12.714-3.153-4.729a1 1 0 0 0-1.664 1.11l4 6a1 1 0 0 0 1.673-.014L23.546 14H30a1 1 0 1 0 0-2h-7Z",clipRule:"evenodd"})});case"SQRT":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M22.159 12.46A1 1 0 0 1 23 12h7a1 1 0 1 1 0 2h-6.454l-8.705 13.54a1 1 0 0 1-1.673.015l-4-6a1 1 0 0 1 1.664-1.11l3.153 4.73 8.174-12.716Z",clipRule:"evenodd"})});case"CUBE_ROOT":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M9.684 9.246a3.052 3.052 0 0 0-.33 1.023l.798.143c.209.033.368.02.478-.038.11-.063.2-.186.27-.369a1.05 1.05 0 0 1 .154-.324c.07-.1.152-.186.247-.259.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .59.091.77.275.184.183.275.449.275.797 0 .165-.024.317-.071.457a.746.746 0 0 1-.248.357 1.297 1.297 0 0 1-.5.231 3.359 3.359 0 0 1-.82.083v1.067c.4 0 .715.029.946.088.235.055.41.135.528.242a.674.674 0 0 1 .231.38c.033.146.05.31.05.494 0 .14-.028.28-.083.424a1.116 1.116 0 0 1-.632.649c-.158.07-.343.104-.556.104-.169 0-.319-.024-.45-.071a1.197 1.197 0 0 1-.347-.198 1.738 1.738 0 0 1-.28-.308 3.794 3.794 0 0 1-.232-.385.457.457 0 0 0-.33-.242.809.809 0 0 0-.49.06l-.67.275c.12.356.262.668.423.935.162.264.354.484.578.66.227.176.49.308.786.396.297.088.64.132 1.029.132a3.55 3.55 0 0 0 1.05-.154c.338-.106.633-.264.886-.473a2.3 2.3 0 0 0 .605-.775c.15-.312.225-.671.225-1.078 0-.92-.458-1.531-1.375-1.832a2.24 2.24 0 0 0 .523-.247 1.47 1.47 0 0 0 .621-.864 2.47 2.47 0 0 0 .083-.67c0-.287-.057-.555-.17-.804a1.9 1.9 0 0 0-.48-.654 2.254 2.254 0 0 0-.77-.44c-.3-.11-.641-.165-1.022-.165-.36 0-.695.05-1.007.148a2.47 2.47 0 0 0-.825.435 2.42 2.42 0 0 0-.605.731ZM23 12a1 1 0 0 0-.841.46l-8.174 12.714-3.153-4.729a1 1 0 0 0-1.664 1.11l4 6a1 1 0 0 0 1.673-.014L23.546 14H30a1 1 0 1 0 0-2h-7Z",clipRule:"evenodd"})});case"EXP":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M28 8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V8Zm2 1h4v4h-4V9Zm-16 4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"})});case"EXP_2":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M33.58 13.746a.52.52 0 0 0-.386-.137h-1.793c-.161 0-.334.016-.517.05a4.09 4.09 0 0 0-.555.126l1.694-1.733c.212-.216.414-.43.605-.643.19-.213.357-.431.5-.655a3.22 3.22 0 0 0 .347-.715c.084-.25.126-.52.126-.814 0-.34-.06-.653-.181-.935a2.033 2.033 0 0 0-.512-.72 2.293 2.293 0 0 0-.797-.468 2.952 2.952 0 0 0-1.029-.17c-.36 0-.695.05-1.006.148a2.43 2.43 0 0 0-.83.435 2.42 2.42 0 0 0-.606.731 3.049 3.049 0 0 0-.33 1.023l.803.143c.205.033.363.02.473-.038.114-.063.204-.186.27-.369a1.05 1.05 0 0 1 .154-.324 1.18 1.18 0 0 1 .247-.259c.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .592.093.776.28.183.183.275.453.275.809 0 .201-.026.394-.077.577a2.407 2.407 0 0 1-.231.545 4.17 4.17 0 0 1-.385.544 9.098 9.098 0 0 1-.534.578l-2.365 2.37a.897.897 0 0 0-.264.616V15h5.533v-.89a.48.48 0 0 0-.143-.364ZM14 13a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"})});case"EXP_3":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M28.684 8.246a3.049 3.049 0 0 0-.33 1.023l.798.143c.209.033.368.02.478-.038.11-.063.2-.186.27-.369a1.05 1.05 0 0 1 .154-.324 1.18 1.18 0 0 1 .247-.259c.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .59.091.77.275.183.183.275.449.275.797 0 .165-.024.317-.071.457a.746.746 0 0 1-.248.357 1.298 1.298 0 0 1-.5.231 3.36 3.36 0 0 1-.82.083v1.067c.4 0 .715.029.946.088.235.055.41.135.528.242a.674.674 0 0 1 .231.38c.033.146.05.31.05.494 0 .14-.028.28-.083.424a1.118 1.118 0 0 1-.632.649c-.158.07-.343.104-.556.104-.169 0-.319-.024-.45-.071a1.195 1.195 0 0 1-.347-.198 1.738 1.738 0 0 1-.28-.308 3.794 3.794 0 0 1-.232-.385.457.457 0 0 0-.33-.242.809.809 0 0 0-.49.06l-.67.275c.12.356.262.668.423.935.161.264.354.484.578.66.227.176.49.308.786.396.297.088.64.132 1.029.132.366 0 .716-.051 1.05-.154.337-.106.633-.264.886-.473a2.3 2.3 0 0 0 .605-.775c.15-.312.225-.671.225-1.078 0-.92-.458-1.531-1.375-1.832a2.24 2.24 0 0 0 .523-.247 1.471 1.471 0 0 0 .621-.863 2.47 2.47 0 0 0 .083-.672c0-.286-.057-.554-.17-.803a1.9 1.9 0 0 0-.48-.654 2.254 2.254 0 0 0-.77-.44c-.3-.11-.641-.165-1.022-.165-.36 0-.695.05-1.007.148a2.47 2.47 0 0 0-.825.435 2.42 2.42 0 0 0-.605.731ZM14 13a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"})});case"TAN":return r.tan;case"COS":return r.cos;case"SIN":return r.sin;case"EQUAL":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 17a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Z",clipRule:"evenodd"})});case"GT":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M12.058 14.664a1 1 0 0 1 1.278-.605l14 5a1 1 0 0 1 0 1.883l-14 5a1 1 0 1 1-.672-1.884L24.027 20l-11.363-4.058a1 1 0 0 1-.606-1.278Z",clipRule:"evenodd"})});case"LT":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M27.942 14.664a1 1 0 0 1-.606 1.278L15.973 20l11.363 4.058a1 1 0 0 1-.672 1.884l-14-5a1 1 0 0 1 0-1.884l14-5a1 1 0 0 1 1.278.606Z",clipRule:"evenodd"})});case"GEQ":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 29a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm.058-14.336a1 1 0 0 1 1.278-.605l14 5a1 1 0 0 1 0 1.883l-14 5a1 1 0 1 1-.672-1.884L24.027 20l-11.363-4.058a1 1 0 0 1-.606-1.278Z",clipRule:"evenodd"})});case"LEQ":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 29a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm15.942-14.336a1 1 0 0 1-.606 1.278L15.973 20l11.363 4.058a1 1 0 0 1-.672 1.884l-14-5a1 1 0 0 1 0-1.884l14-5a1 1 0 0 1 1.278.606Z",clipRule:"evenodd"})});case"NEQ":return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 17a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M16 26.928a1 1 0 0 1-.366-1.366l7-12.125a1 1 0 0 1 1.732 1l-7 12.125a1 1 0 0 1-1.366.366Z",clipRule:"evenodd"})]});case"LN":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M16.976 14.112V26H15V14.112h1.976Zm3.817 4.688a5.19 5.19 0 0 1 .52-.456 3.195 3.195 0 0 1 1.248-.592 3.16 3.16 0 0 1 .768-.088c.448 0 .845.078 1.192.232.346.15.634.363.864.64.234.272.41.6.528.984.122.379.184.798.184 1.256V26H24.12v-5.224c0-.501-.115-.888-.344-1.16-.23-.277-.579-.416-1.048-.416-.342 0-.662.078-.96.232a3.439 3.439 0 0 0-.848.632V26h-1.976v-8.208h1.208c.256 0 .424.12.504.36l.136.648Z"})});case"LOG":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M12.203 14.112V26h-1.976V14.112h1.976Zm5.6 3.552c.608 0 1.16.099 1.656.296.502.198.928.478 1.28.84.358.363.632.806.824 1.328.192.523.288 1.107.288 1.752 0 .651-.096 1.238-.288 1.76a3.741 3.741 0 0 1-.824 1.336 3.528 3.528 0 0 1-1.28.848 4.445 4.445 0 0 1-1.656.296 4.53 4.53 0 0 1-1.672-.296 3.616 3.616 0 0 1-1.288-.848 3.896 3.896 0 0 1-.824-1.336 5.076 5.076 0 0 1-.288-1.76c0-.645.096-1.229.288-1.752a3.81 3.81 0 0 1 .824-1.328 3.669 3.669 0 0 1 1.288-.84 4.53 4.53 0 0 1 1.672-.296Zm0 6.936c.683 0 1.187-.229 1.512-.688.331-.458.496-1.13.496-2.016 0-.885-.165-1.56-.496-2.024-.325-.464-.829-.696-1.512-.696-.693 0-1.208.235-1.544.704-.33.464-.496 1.136-.496 2.016 0 .88.166 1.552.496 2.016.336.459.851.688 1.544.688Zm8.493-2.904c.246 0 .459-.032.64-.096.182-.069.331-.162.448-.28.123-.117.214-.258.272-.424.064-.165.096-.346.096-.544 0-.405-.122-.725-.368-.96-.24-.24-.602-.36-1.088-.36-.485 0-.85.12-1.096.36-.24.235-.36.555-.36.96 0 .192.03.371.088.536.064.166.155.31.272.432.123.118.275.211.456.28.187.064.4.096.64.096Zm2.232 4.672c0-.16-.048-.29-.144-.392a.914.914 0 0 0-.392-.232 2.716 2.716 0 0 0-.584-.128 8.987 8.987 0 0 0-.704-.056 32.107 32.107 0 0 0-.768-.04 8.959 8.959 0 0 1-.768-.064 1.908 1.908 0 0 0-.536.432.89.89 0 0 0-.096.976.93.93 0 0 0 .344.328c.16.091.366.16.616.208.251.054.558.08.92.08.368 0 .686-.029.952-.088a2.09 2.09 0 0 0 .656-.232.954.954 0 0 0 .384-.352.84.84 0 0 0 .12-.44Zm1.968-8.296v.736c0 .235-.141.379-.424.432l-.736.136c.112.283.168.592.168.928a2.414 2.414 0 0 1-.92 1.936c-.288.23-.629.408-1.024.536a4.17 4.17 0 0 1-1.264.184c-.16 0-.314-.008-.464-.024a5.807 5.807 0 0 1-.44-.064c-.256.155-.384.328-.384.52 0 .166.075.288.224.368.155.075.358.128.608.16.251.032.536.054.856.064.32.006.648.022.984.048.336.027.664.075.984.144.32.064.606.168.856.312.251.144.451.342.6.592.155.246.232.563.232.952 0 .363-.09.715-.272 1.056a2.773 2.773 0 0 1-.776.912c-.336.267-.752.48-1.248.64-.49.166-1.05.248-1.68.248-.618 0-1.157-.061-1.616-.184-.458-.117-.84-.277-1.144-.48a2.037 2.037 0 0 1-.68-.688 1.623 1.623 0 0 1-.224-.816c0-.384.115-.704.344-.96.235-.261.555-.469.96-.624a1.377 1.377 0 0 1-.52-.448c-.128-.186-.192-.432-.192-.736 0-.122.022-.248.064-.376.048-.133.115-.264.2-.392.091-.128.203-.248.336-.36a2.2 2.2 0 0 1 .472-.312 2.621 2.621 0 0 1-.984-.896c-.234-.373-.352-.81-.352-1.312 0-.405.08-.77.24-1.096.166-.33.392-.61.68-.84a3.11 3.11 0 0 1 1.032-.536c.4-.122.835-.184 1.304-.184.352 0 .683.038.992.112.31.07.592.174.848.312h2.36Z"})});case"LOG_N":return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M12.203 14.112V26h-1.976V14.112h1.976Zm5.6 3.552c.608 0 1.16.099 1.656.296.502.198.928.478 1.28.84.358.363.632.806.824 1.328.192.523.288 1.107.288 1.752 0 .651-.096 1.238-.288 1.76a3.741 3.741 0 0 1-.824 1.336 3.528 3.528 0 0 1-1.28.848 4.445 4.445 0 0 1-1.656.296 4.53 4.53 0 0 1-1.672-.296 3.616 3.616 0 0 1-1.288-.848 3.896 3.896 0 0 1-.824-1.336 5.076 5.076 0 0 1-.288-1.76c0-.645.096-1.229.288-1.752a3.81 3.81 0 0 1 .824-1.328 3.669 3.669 0 0 1 1.288-.84 4.53 4.53 0 0 1 1.672-.296Zm0 6.936c.683 0 1.187-.229 1.512-.688.331-.458.496-1.13.496-2.016 0-.885-.165-1.56-.496-2.024-.325-.464-.829-.696-1.512-.696-.693 0-1.208.235-1.544.704-.33.464-.496 1.136-.496 2.016 0 .88.166 1.552.496 2.016.336.459.851.688 1.544.688Zm8.493-2.904c.246 0 .459-.032.64-.096.182-.069.331-.162.448-.28.123-.117.214-.258.272-.424.064-.165.096-.346.096-.544 0-.405-.122-.725-.368-.96-.24-.24-.602-.36-1.088-.36-.485 0-.85.12-1.096.36-.24.235-.36.555-.36.96 0 .192.03.371.088.536.064.166.155.31.272.432.123.118.275.211.456.28.187.064.4.096.64.096Zm2.232 4.672c0-.16-.048-.29-.144-.392a.914.914 0 0 0-.392-.232 2.716 2.716 0 0 0-.584-.128 8.987 8.987 0 0 0-.704-.056 32.107 32.107 0 0 0-.768-.04 8.959 8.959 0 0 1-.768-.064 1.908 1.908 0 0 0-.536.432.89.89 0 0 0-.096.976.93.93 0 0 0 .344.328c.16.091.366.16.616.208.251.054.558.08.92.08.368 0 .686-.029.952-.088a2.09 2.09 0 0 0 .656-.232.954.954 0 0 0 .384-.352.84.84 0 0 0 .12-.44Zm1.968-8.296v.736c0 .235-.141.379-.424.432l-.736.136c.112.283.168.592.168.928a2.414 2.414 0 0 1-.92 1.936c-.288.23-.629.408-1.024.536a4.17 4.17 0 0 1-1.264.184c-.16 0-.314-.008-.464-.024a5.807 5.807 0 0 1-.44-.064c-.256.155-.384.328-.384.52 0 .166.075.288.224.368.155.075.358.128.608.16.251.032.536.054.856.064.32.006.648.022.984.048.336.027.664.075.984.144.32.064.606.168.856.312.251.144.451.342.6.592.155.246.232.563.232.952 0 .363-.09.715-.272 1.056a2.773 2.773 0 0 1-.776.912c-.336.267-.752.48-1.248.64-.49.166-1.05.248-1.68.248-.618 0-1.157-.061-1.616-.184-.458-.117-.84-.277-1.144-.48a2.037 2.037 0 0 1-.68-.688 1.623 1.623 0 0 1-.224-.816c0-.384.115-.704.344-.96.235-.261.555-.469.96-.624a1.377 1.377 0 0 1-.52-.448c-.128-.186-.192-.432-.192-.736 0-.122.022-.248.064-.376.048-.133.115-.264.2-.392.091-.128.203-.248.336-.36a2.2 2.2 0 0 1 .472-.312 2.621 2.621 0 0 1-.984-.896c-.234-.373-.352-.81-.352-1.312 0-.405.08-.77.24-1.096.166-.33.392-.61.68-.84a3.11 3.11 0 0 1 1.032-.536c.4-.122.835-.184 1.304-.184.352 0 .683.038.992.112.31.07.592.174.848.312h2.36Z"}),jsxRuntimeExports.jsx("path",{fill:"#21242C",fillRule:"evenodd",d:"M32 26a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6Zm5 2h-4v4h4v-4Z",clipRule:"evenodd"})]});case"PERCENT":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M24.447 11.106a1 1 0 0 1 .447 1.341l-8 16a1 1 0 1 1-1.788-.894l8-16a1 1 0 0 1 1.341-.447ZM15 13a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm12 10a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"})});case"PI":return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M23.7918 25.0379c0 .2947-.13.572-.39.832-.2426.26-.546.39-.91.39-.26 0-.442-.0346-.546-.104-.0866-.0693-.182-.208-.286-.416-.3293-.7626-.494-1.7246-.494-2.886 0-.624.0087-1.04.026-1.248.1214-1.196.39-2.6433.806-4.342.0867-.3466.13-.5373.13-.572h-2.548l-.026.104c0 .0174-.0173.0954-.052.234-.0346.1214-.0866.312-.156.572-.052.2427-.104.468-.156.676-1.144 4.4547-1.8286 6.8814-2.054 7.28-.208.4854-.5806.728-1.118.728-.3986 0-.676-.1473-.832-.442-.0346-.0866-.052-.2253-.052-.416v-.286l.338-.728c1.3-2.7386 2.2447-5.1046 2.834-7.098l.208-.624h-.832c-.6933 0-1.1786.026-1.456.078-.26.052-.5806.2167-.962.494-.416.26-.78.6154-1.092 1.066-.0866.1387-.156.2254-.208.26-.052.0174-.182.026-.39.026-.3293 0-.494-.0866-.494-.26 0-.0693.0867-.2426.26-.52 1.196-1.82 2.366-2.8166 3.51-2.99.1214-.0346 2.0714-.052 5.85-.052 2.7734 0 4.1947.0087 4.264.026.3467.1214.52.364.52.728 0 .5374-.2773.9014-.832 1.092-.104.0347-.702.052-1.794.052h-1.664l-.078.442c-.208 1.248-.312 2.2794-.312 3.094 0 1.5427.2687 2.938.806 4.186.1214.312.182.52.182.624z",fill:"#21242C"})});case"THETA":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M22.2 10.696h.208a2.26 2.26 0 0 1 .312-.026c.936.087 1.664.511 2.184 1.274.676 1.023 1.014 2.418 1.014 4.186 0 .468-.017.84-.052 1.118-.225 2.305-.823 4.463-1.794 6.474-.59 1.23-1.282 2.305-2.08 3.224-.78.919-1.551 1.569-2.314 1.95-.537.243-1.005.364-1.404.364h-.182c-.762 0-1.395-.269-1.898-.806-.918-.97-1.378-2.522-1.378-4.654 0-.832.087-1.707.26-2.626.641-3.467 1.95-6.3 3.926-8.502 1.058-1.161 2.123-1.82 3.198-1.976Zm1.664 3.588c0-1.768-.46-2.652-1.378-2.652-.572 0-1.161.373-1.768 1.118-.866 1.092-1.603 2.652-2.21 4.68-.346 1.092-.52 1.733-.52 1.924.85.017 1.69.026 2.522.026l2.522-.026c.087-.087.243-.763.468-2.028.243-1.265.364-2.28.364-3.042Zm-1.248 6.734.13-.442h-5.07l-.026.182c-.537 2.15-.806 3.753-.806 4.81 0 1.179.208 1.993.624 2.444.19.208.442.312.754.312.694 0 1.421-.563 2.184-1.69.815-1.196 1.552-3.068 2.21-5.616Z"})});case"a":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M27.781 24.022c.156 0 .26.009.312.026a.18.18 0 0 1 .13.052c.035.035.052.087.052.156 0 .052-.026.182-.078.39-.381 1.456-.85 2.462-1.404 3.016a2.573 2.573 0 0 1-.832.546 2.776 2.776 0 0 1-.624.052c-1.092 0-1.855-.425-2.288-1.274-.087-.225-.13-.33-.13-.312-.017-.017-.052-.008-.104.026l-.104.104c-.832.78-1.655 1.257-2.47 1.43-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.762-.78-1.733-.78-2.912 0-.277.009-.468.026-.572a7.916 7.916 0 0 1 1.066-3.172c.607-1.023 1.326-1.846 2.158-2.47 1.005-.78 2.063-1.17 3.172-1.17.867 0 1.647.425 2.34 1.274.277-.52.676-.78 1.196-.78a.93.93 0 0 1 .598.208.64.64 0 0 1 .26.52c0 .226-.33 1.62-.988 4.186-.641 2.548-.962 3.978-.962 4.29 0 .728.243 1.092.728 1.092.156-.017.33-.095.52-.234.364-.346.72-1.178 1.066-2.496.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104Zm-9.594 1.222c0 .624.13 1.127.39 1.508.277.382.676.572 1.196.572.503 0 1.04-.208 1.612-.624.208-.139.485-.398.832-.78.364-.381.58-.641.65-.78.035-.07.269-.997.702-2.782.45-1.785.676-2.747.676-2.886 0-.208-.095-.503-.286-.884-.381-.745-.927-1.118-1.638-1.118-.693 0-1.309.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.753 20.753 0 0 0-1.066 4.264c0 .052-.009.148-.026.286v.312Z"})});case"b":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.74 10.242c.018 0 .642-.043 1.873-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.078.312.234 0 .156-.295 1.395-.884 3.718-.139.59-.295 1.196-.468 1.82a60.807 60.807 0 0 1-.364 1.404l-.104.494c0 .052.052.026.156-.078a4.832 4.832 0 0 1 1.976-.988c.208-.035.424-.052.65-.052.225 0 .442.017.65.052.901.208 1.62.676 2.158 1.404.537.728.806 1.647.806 2.756 0 1.941-.685 3.692-2.054 5.252-1.352 1.543-2.825 2.314-4.42 2.314-.503 0-.98-.113-1.43-.338-1.352-.607-2.028-1.89-2.028-3.848 0-.503.052-.997.156-1.482 0-.017.433-1.794 1.3-5.33l1.326-5.304c.035-.243-.026-.39-.182-.442-.139-.07-.381-.104-.728-.104h-.286c-.364 0-.572-.026-.624-.078-.104-.087-.113-.295-.026-.624.07-.243.13-.381.182-.416.052-.052.104-.078.156-.078Zm6.423 9.308c0-1.387-.529-2.08-1.586-2.08-.035 0-.096.009-.182.026h-.13c-.902.19-1.75.815-2.548 1.872a1.501 1.501 0 0 0-.13.156l-.078.104c0 .017-.156.641-.468 1.872a96.026 96.026 0 0 0-.494 2.08 7.731 7.731 0 0 0-.156 1.456c0 .832.208 1.456.624 1.872.277.277.624.416 1.04.416.572 0 1.152-.277 1.742-.832.433-.399.78-.884 1.04-1.456.277-.59.563-1.5.858-2.73.312-1.248.468-2.167.468-2.756Z"})});case"c":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M26.932 24.854c.07 0 .182.087.338.26.173.156.26.268.26.338 0 .156-.269.476-.806.962-1.075.97-2.435 1.577-4.082 1.82-.381.034-.72.052-1.014.052-1.855 0-3.146-.763-3.874-2.288a4.598 4.598 0 0 1-.494-2.132c0-.797.165-1.612.494-2.444.503-1.3 1.317-2.4 2.444-3.302 1.144-.919 2.357-1.448 3.64-1.586.104-.017.269-.026.494-.026.607 0 1.17.095 1.69.286.97.416 1.456 1.075 1.456 1.976 0 .537-.165.98-.494 1.326-.33.33-.745.494-1.248.494-.33 0-.59-.087-.78-.26-.19-.19-.286-.45-.286-.78 0-.295.087-.58.26-.858.173-.277.399-.477.676-.598.139-.087.234-.13.286-.13.07 0 .009-.06-.182-.182-.33-.19-.789-.286-1.378-.286-.52 0-1.014.121-1.482.364-.364.156-.737.425-1.118.806a5.29 5.29 0 0 0-1.092 1.612c-.277.624-.555 1.517-.832 2.678-.19.814-.286 1.465-.286 1.95 0 .797.225 1.395.676 1.794.399.416.936.624 1.612.624.26 0 .529-.018.806-.052 1.63-.243 2.964-.962 4.004-2.158.156-.174.26-.26.312-.26Z"})});case"d":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M26.634 10.112c.26-.017.555-.035.884-.052.33-.035.572-.06.728-.078.173-.017.269-.026.286-.026.208 0 .312.07.312.208 0 .121-.641 2.747-1.924 7.878a2094.732 2094.732 0 0 0-1.924 7.8 2.156 2.156 0 0 0-.026.39c0 .728.243 1.092.728 1.092.156-.017.33-.095.52-.234.364-.347.72-1.179 1.066-2.496.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104c.33 0 .494.07.494.208 0 .07-.026.208-.078.416-.381 1.456-.85 2.461-1.404 3.016a2.572 2.572 0 0 1-.832.546 2.776 2.776 0 0 1-.624.052c-1.092 0-1.855-.425-2.288-1.274-.087-.225-.13-.33-.13-.312-.017-.017-.052-.009-.104.026l-.104.104c-.832.78-1.655 1.257-2.47 1.43-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.763-.78-1.733-.78-2.912 0-1.612.59-3.207 1.768-4.784 1.075-1.317 2.27-2.14 3.588-2.47a3.87 3.87 0 0 1 1.066-.156c.953 0 1.681.364 2.184 1.092.087.104.13.139.13.104l.702-2.834c.468-1.837.71-2.8.728-2.886 0-.208-.052-.347-.156-.416-.19-.07-.537-.113-1.04-.13h-.546a1.192 1.192 0 0 1-.182-.208c0-.035.026-.2.078-.494.087-.33.2-.494.338-.494a17.914 17.914 0 0 1 .962-.078l.91-.052Zm-2.236 9.412c-.381-1.37-1.031-2.054-1.95-2.054-.693 0-1.309.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.753 20.753 0 0 0-1.066 4.264c0 .052-.009.147-.026.286v.312c0 .624.13 1.127.39 1.508.277.381.676.572 1.196.572.919 0 1.88-.624 2.886-1.872l.208-.286.702-2.808c.312-1.265.546-2.21.702-2.834Z"})});case"e":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M26.5 24.854c.07 0 .182.087.338.26.174.156.26.268.26.338 0 .156-.268.476-.806.962-1.421 1.248-3.094 1.872-5.018 1.872-.953 0-1.76-.234-2.418-.702-.381-.208-.728-.546-1.04-1.014-.572-.867-.858-1.846-.858-2.938 0-.659.07-1.309.208-1.95.364-1.352 1.11-2.505 2.236-3.458 1.144-.954 2.514-1.517 4.108-1.69.018-.017.156-.026.416-.026h.078c.728 0 1.344.165 1.846.494.52.312.858.745 1.014 1.3.018.07.026.225.026.468 0 .312-.017.529-.052.65-.364 1.23-1.308 2.036-2.834 2.418-.85.225-2.01.346-3.484.364-.641 0-.97.017-.988.052 0 .017-.017.13-.052.338-.19.85-.286 1.543-.286 2.08 0 .814.182 1.465.546 1.95.364.468.91.702 1.638.702 1.942 0 3.545-.737 4.81-2.21.156-.174.26-.26.312-.26Zm-.858-6.032c-.104-.901-.693-1.352-1.768-1.352-.606 0-1.23.173-1.872.52-.85.503-1.482 1.291-1.898 2.366-.19.52-.286.806-.286.858 0 .017.174.026.52.026.572 0 1.1-.017 1.586-.052 1.023-.087 1.786-.234 2.288-.442a2.776 2.776 0 0 0 1.248-1.04c.122-.26.182-.555.182-.884Z"})});case"f":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.695 32.212c.468.104.72.156.754.156.399 0 .745-.364 1.04-1.092.208-.572.84-3.657 1.898-9.256.485-2.617.737-3.935.754-3.952v-.078h-1.222c-.815 0-1.248-.017-1.3-.052-.121-.07-.139-.26-.052-.572.07-.26.113-.399.13-.416.035-.087.104-.13.208-.13.121-.017.529-.026 1.222-.026.832 0 1.248-.009 1.248-.026 0-.035.078-.468.234-1.3.156-.832.26-1.335.312-1.508.364-1.647.91-2.79 1.638-3.432.693-.572 1.413-.858 2.158-.858.624.035 1.144.225 1.56.572.433.347.65.806.65 1.378 0 .503-.156.927-.468 1.274-.312.347-.702.52-1.17.52-.763 0-1.144-.364-1.144-1.092 0-.641.303-1.11.91-1.404l.234-.13c-.312-.104-.572-.156-.78-.156-.503 0-.832.33-.988.988-.139.52-.364 1.655-.676 3.406l-.338 1.716c0 .035.477.052 1.43.052.78 0 1.248.009 1.404.026.156.017.234.078.234.182 0 .19-.06.468-.182.832-.035.087-.121.139-.26.156h-2.834l-.598 3.172c-.641 3.31-1.04 5.313-1.196 6.006-.59 2.617-1.378 4.394-2.366 5.33-.641.555-1.274.832-1.898.832-.624 0-1.144-.173-1.56-.52-.416-.347-.624-.806-.624-1.378 0-.52.156-.962.468-1.326.312-.347.702-.52 1.17-.52.763 0 1.144.364 1.144 1.092 0 .641-.303 1.11-.91 1.404l-.234.13Z"})});case"g":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.729 29.846c.312 0 .572.095.78.286.208.19.312.442.312.754 0 .468-.174.867-.52 1.196-.122.121-.165.182-.13.182.173.052.693.078 1.56.078.658 0 1.178-.104 1.56-.312.398-.19.771-.486 1.118-.884.346-.381.589-.78.728-1.196.104-.33.242-.867.416-1.612.225-.832.338-1.318.338-1.456a5.177 5.177 0 0 1-2.08 1.066 3.946 3.946 0 0 1-.65.052c-1.127 0-2.02-.39-2.678-1.17-.642-.797-.962-1.794-.962-2.99 0-1.092.251-2.14.754-3.146.797-1.664 1.941-2.869 3.432-3.614.797-.381 1.551-.572 2.262-.572.797 0 1.551.416 2.262 1.248a.854.854 0 0 0 .104-.13c.242-.399.606-.598 1.092-.598a.93.93 0 0 1 .598.208.64.64 0 0 1 .26.52c0 .26-.494 2.357-1.482 6.292-.988 3.935-1.508 5.945-1.56 6.032-.33.936-1.014 1.707-2.054 2.314-1.023.624-2.176.936-3.458.936-1.994 0-3.172-.381-3.536-1.144-.087-.156-.13-.364-.13-.624 0-.45.156-.85.468-1.196.312-.347.71-.52 1.196-.52Zm8.06-10.374c-.139-.45-.278-.798-.416-1.04a1.757 1.757 0 0 0-.598-.65c-.278-.208-.616-.312-1.014-.312a1.1 1.1 0 0 0-.182.026h-.13c-.728.173-1.361.624-1.898 1.352-.486.641-.945 1.811-1.378 3.51-.295 1.178-.442 2.045-.442 2.6 0 1.37.537 2.054 1.612 2.054.988 0 1.941-.607 2.86-1.82l.208-.26a459.483 459.483 0 0 0 1.378-5.46Z"})});case"h":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M25.274 28.26c-.676 0-1.23-.2-1.664-.598-.433-.416-.65-.945-.65-1.586 0-.277.087-.659.26-1.144.815-2.097 1.335-3.735 1.56-4.914.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.537.017-.676.052-1.162.243-2.184 1.075-3.068 2.496l-.182.338-.884 3.51c-.555 2.253-.876 3.484-.962 3.692-.226.468-.607.702-1.144.702-.208 0-.416-.07-.624-.208a.56.56 0 0 1-.286-.494c0-.208 1.274-5.408 3.822-15.6 0-.208-.052-.347-.156-.416-.19-.07-.537-.113-1.04-.13h-.546a1.192 1.192 0 0 1-.182-.208c0-.035.026-.2.078-.494.086-.33.2-.494.338-.494.017 0 .641-.043 1.872-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.078.312.234 0 .19-.312 1.5-.936 3.926-.659 2.565-.988 3.874-.988 3.926 0 .035.06-.009.182-.13 1.023-.936 2.15-1.404 3.38-1.404.953 0 1.716.234 2.288.702.572.468.858 1.153.858 2.054 0 .399-.026.728-.078.988-.156.884-.633 2.418-1.43 4.602-.312.85-.468 1.465-.468 1.846.017.243.06.407.13.494.07.087.2.13.39.13.485 0 .936-.26 1.352-.78.433-.537.771-1.248 1.014-2.132.052-.19.104-.303.156-.338.052-.035.19-.052.416-.052.33.052.502.121.52.208 0 .017-.035.147-.104.39-.277 1.023-.72 1.863-1.326 2.522-.59.745-1.335 1.118-2.236 1.118Z"})});case"i":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M22.302 12.4c0-.399.165-.763.495-1.092.329-.33.71-.494 1.143-.494.313 0 .572.104.78.312.226.208.338.468.338.78 0 .381-.173.745-.52 1.092-.346.347-.727.52-1.143.52-.313 0-.572-.104-.78-.312-.208-.208-.313-.477-.313-.806Zm-.598 15.886c-.675 0-1.221-.2-1.637-.598-.416-.399-.625-.936-.625-1.612 0-.295.018-.494.052-.598 0-.035.4-1.1 1.197-3.198.797-2.115 1.196-3.19 1.196-3.224.086-.277.13-.59.13-.936 0-.416-.148-.624-.442-.624h-.052c-.416 0-.815.2-1.197.598-.554.572-.962 1.387-1.221 2.444a.427.427 0 0 1-.027.104.307.307 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.675c-.105-.104-.157-.182-.157-.234 0-.052.026-.173.078-.364.451-1.49 1.11-2.53 1.977-3.12.468-.364.97-.546 1.508-.546.693 0 1.265.2 1.716.598.45.399.675.936.675 1.612 0 .225-.043.485-.13.78-.017.035-.416 1.1-1.196 3.198l-1.17 3.146c-.086.381-.13.659-.13.832 0 .433.148.65.442.65.243 0 .46-.052.65-.156.763-.364 1.361-1.274 1.794-2.73.053-.208.096-.33.13-.364.052-.035.2-.052.442-.052.156 0 .26.009.313.026.069 0 .12.017.155.052.035.035.052.095.052.182 0 .07-.026.182-.078.338-.329.988-.806 1.846-1.43 2.574-.606.728-1.325 1.092-2.157 1.092Z"})});case"j":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M24.365 12.504c0-.45.164-.84.494-1.17.329-.347.719-.52 1.17-.52.294 0 .537.095.728.286.208.173.329.407.364.702 0 .468-.156.875-.468 1.222-.312.33-.702.494-1.17.494-.312 0-.572-.087-.78-.26a1.059 1.059 0 0 1-.338-.754Zm-.234 5.72c0-.503-.226-.754-.676-.754-.191 0-.39.035-.598.104-.468.156-.928.485-1.378.988-.434.503-.798 1.118-1.092 1.846a1.45 1.45 0 0 1-.078.182.454.454 0 0 0-.052.13l-.078.026a.492.492 0 0 1-.156.026h-.598c-.14-.139-.156-.32-.052-.546.52-1.248 1.196-2.201 2.028-2.86.589-.468 1.187-.745 1.794-.832h.208c.12-.017.225-.026.312-.026.416.017.797.104 1.144.26.45.277.78.572.988.884.225.295.338.728.338 1.3v.416l-1.274 5.174c-.884 3.467-1.352 5.27-1.404 5.408-.278.745-.754 1.404-1.43 1.976a5.47 5.47 0 0 1-2.21 1.222 5.448 5.448 0 0 1-1.274.156c-.676 0-1.222-.147-1.638-.442-.416-.295-.624-.728-.624-1.3 0-.485.173-.893.52-1.222.346-.33.736-.494 1.17-.494.329 0 .589.095.78.286.208.19.312.45.312.78 0 .624-.278 1.1-.832 1.43.086.017.208.026.364.026.589 0 1.126-.251 1.612-.754a4.877 4.877 0 0 0 1.118-1.69l.286-1.092c.19-.745.416-1.647.676-2.704.277-1.075.554-2.158.832-3.25.277-1.092.51-2.054.702-2.886.19-.85.286-1.343.286-1.482 0-.121-.01-.217-.026-.286Z"})});case"k":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.783 10.242c.017 0 .641-.043 1.872-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.07.312.208 0 .121-.434 1.933-1.3 5.434-.867 3.432-1.3 5.209-1.3 5.33.33-.208.598-.381.806-.52.208-.156.372-.286.494-.39.121-.121.416-.407.884-.858 1.04-1.04 1.768-1.69 2.184-1.95.693-.468 1.352-.702 1.976-.702.52 0 .927.173 1.222.52.312.347.468.806.468 1.378 0 .624-.148 1.135-.442 1.534-.295.381-.71.572-1.248.572a1.24 1.24 0 0 1-.832-.286c-.208-.19-.312-.442-.312-.754 0-.433.147-.797.442-1.092a1.703 1.703 0 0 1 1.04-.546l.182-.052c-.208-.208-.416-.312-.624-.312-.59 0-1.283.295-2.08.884-.33.26-.832.728-1.508 1.404a29.066 29.066 0 0 1-1.768 1.612c.814.19 1.37.338 1.664.442.832.33 1.386.78 1.664 1.352.156.312.234.65.234 1.014 0 .225-.052.598-.156 1.118-.087.52-.13.85-.13.988 0 .693.234 1.04.702 1.04.312 0 .598-.13.858-.39.433-.433.823-1.335 1.17-2.704.034-.139.208-.208.52-.208.242 0 .381.017.416.052.104.07.112.251.026.546-.468 1.577-1.066 2.643-1.794 3.198-.434.312-.858.468-1.274.468-.798 0-1.439-.234-1.924-.702-.468-.485-.702-1.127-.702-1.924a5.2 5.2 0 0 1 .078-.728c.052-.33.078-.563.078-.702 0-.225-.052-.442-.156-.65-.226-.433-.65-.771-1.274-1.014-.572-.19-.97-.286-1.196-.286H19.9c-.226.85-.442 1.673-.65 2.47a99.07 99.07 0 0 1-.442 1.794 9.4 9.4 0 0 1-.234.91 1.231 1.231 0 0 1-.468.572c-.226.173-.468.26-.728.26-.208 0-.416-.07-.624-.208a.56.56 0 0 1-.286-.494c0-.173.32-1.56.962-4.16.641-2.6 1.274-5.157 1.898-7.67l.962-3.77c.034-.243-.026-.39-.182-.442-.139-.07-.382-.104-.728-.104h-.286c-.364 0-.572-.026-.624-.078-.104-.087-.113-.295-.026-.624.07-.243.13-.381.182-.416.052-.052.104-.078.156-.078Z"})});case"l":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M21.69 28.286c-.78 0-1.404-.217-1.872-.65-.468-.45-.702-1.066-.702-1.846 0-.208.009-.355.026-.442l3.328-13.364a.24.24 0 0 0 0-.156.426.426 0 0 1-.026-.13c0-.035-.017-.06-.052-.078a.408.408 0 0 0-.104-.078c-.017-.017-.052-.026-.104-.026a.426.426 0 0 0-.13-.026.445.445 0 0 0-.182-.026.761.761 0 0 0-.182-.026h-.39c-.416 0-.659-.06-.728-.182-.017-.052 0-.2.052-.442.087-.33.165-.511.234-.546.052-.017.693-.07 1.924-.156a121.23 121.23 0 0 1 1.95-.156c.208 0 .312.07.312.208 0 .19-.633 2.79-1.898 7.8s-1.915 7.635-1.95 7.878c0 .035-.009.113-.026.234v.234c0 .503.121.823.364.962a.72.72 0 0 0 .312.052.986.986 0 0 0 .312-.078c.485-.277.919-1.161 1.3-2.652.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104c.312.087.477.165.494.234 0 .121-.07.425-.208.91-.139.468-.269.84-.39 1.118-.485 1.127-1.11 1.777-1.872 1.95a2.243 2.243 0 0 1-.416.052Z"})});case"m":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M13.395 28.286a.968.968 0 0 1-.624-.208.597.597 0 0 1-.26-.52c0-.226.33-1.647.988-4.264.676-2.67 1.014-4.065 1.014-4.186.052-.26.078-.494.078-.702 0-.624-.217-.936-.65-.936-.156 0-.33.06-.52.182-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.301.301 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.226.121-.659.364-1.3.347-1.005.728-1.707 1.144-2.106.416-.416.875-.624 1.378-.624 1.092 0 1.854.39 2.288 1.17.19.33.286.572.286.728 0 .035.009.052.026.052l.286-.286c1.057-1.11 2.28-1.664 3.666-1.664 1.681 0 2.695.71 3.042 2.132l.026.078.208-.26c.641-.763 1.386-1.317 2.236-1.664a4.865 4.865 0 0 1 1.638-.286c.953 0 1.716.234 2.288.702.572.468.858 1.152.858 2.054 0 .399-.026.728-.078.988-.156.884-.633 2.418-1.43 4.602-.312.832-.468 1.447-.468 1.846.017.242.06.407.13.494.07.087.2.13.39.13.485 0 .936-.26 1.352-.78.433-.538.771-1.248 1.014-2.132.052-.19.104-.303.156-.338.052-.035.19-.052.416-.052.33.052.503.121.52.208 0 .017-.035.147-.104.39-.45 1.612-1.265 2.747-2.444 3.406-.312.156-.685.234-1.118.234-.659 0-1.222-.208-1.69-.624-.416-.485-.624-.997-.624-1.534 0-.33.121-.815.364-1.456.762-2.028 1.248-3.57 1.456-4.628.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.538.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.226.468-.598.702-1.118.702-.416 0-.694-.174-.832-.52l-.026-.078a.398.398 0 0 1-.052-.156c0-.19.294-1.43.884-3.718.138-.555.277-1.127.416-1.716.156-.607.277-1.092.364-1.456.104-.381.156-.59.156-.624.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.538.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.226.468-.598.702-1.118.702Z"})});case"n":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.013 28.286a.968.968 0 0 1-.624-.208.596.596 0 0 1-.26-.52c0-.226.33-1.638.988-4.238.659-2.6 1.005-4.013 1.04-4.238a4.07 4.07 0 0 0 .026-.598c0-.676-.208-1.014-.624-1.014-.399 0-.763.32-1.092.962-.19.364-.373.91-.546 1.638a8.959 8.959 0 0 0-.156.546c-.035.104-.2.156-.494.156h-.364c-.104-.104-.156-.182-.156-.234 0-.07.043-.252.13-.546.52-2.046 1.317-3.19 2.392-3.432.139-.035.286-.052.442-.052 1.023 0 1.76.39 2.21 1.17.19.33.286.572.286.728 0 .035.009.052.026.052l.286-.286c1.075-1.11 2.28-1.664 3.614-1.664.953 0 1.716.234 2.288.702.572.468.858 1.152.858 2.054 0 .399-.026.728-.078.988-.173.988-.65 2.505-1.43 4.55-.312.832-.468 1.447-.468 1.846 0 .45.147.676.442.676.59 0 1.092-.312 1.508-.936a7.04 7.04 0 0 0 .988-2.158c.035-.139.208-.208.52-.208.33.052.503.121.52.208 0 .017-.035.147-.104.39-.45 1.612-1.265 2.747-2.444 3.406-.312.156-.685.234-1.118.234-.659 0-1.222-.208-1.69-.624-.416-.485-.624-.997-.624-1.534 0-.33.121-.815.364-1.456.763-2.028 1.248-3.57 1.456-4.628.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.537.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.225.468-.598.702-1.118.702Z"})});case"o":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M23.152 16.534h.364c.555 0 .902.009 1.04.026 1.092.19 1.95.676 2.575 1.456.623.78.936 1.786.936 3.016 0 1.023-.27 2.046-.806 3.068a7.88 7.88 0 0 1-2.756 3.042c-1.18.763-2.375 1.144-3.588 1.144-1.214 0-2.193-.347-2.939-1.04-.745-.693-1.204-1.603-1.378-2.73a4.113 4.113 0 0 1-.026-.572c0-.45.026-.814.078-1.092.156-.884.494-1.742 1.014-2.574a8.9 8.9 0 0 1 1.82-2.158c1.18-.919 2.401-1.447 3.666-1.586Zm-4.316 8.346c0 .745.2 1.344.599 1.794.416.434.953.65 1.612.65.311 0 .623-.052.936-.156 1.265-.416 2.21-1.37 2.834-2.86.38-.936.693-2.106.936-3.51.017-.104.026-.372.026-.806 0-1.681-.711-2.522-2.133-2.522-1.091 0-2.053.503-2.886 1.508-.572.694-1.04 1.699-1.404 3.016-.346 1.265-.52 2.227-.52 2.886Z"})});case"p":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M16.216 20.772c-.104-.104-.156-.182-.156-.234 0-.139.113-.546.338-1.222.33-1.005.72-1.733 1.17-2.184.416-.416.875-.624 1.378-.624 1.3 0 2.132.555 2.496 1.664l.26-.234c.78-.728 1.586-1.188 2.418-1.378.208-.035.425-.052.65-.052.225 0 .442.017.65.052.901.208 1.62.676 2.158 1.404.537.71.806 1.62.806 2.73 0 .815-.165 1.698-.494 2.652a8.628 8.628 0 0 1-1.924 3.016c-.85.85-1.777 1.43-2.782 1.742a4.732 4.732 0 0 1-1.248.156 3.04 3.04 0 0 1-1.014-.156 2.818 2.818 0 0 1-1.144-.91l-.13-.13c-.017.017-.208.771-.572 2.262-.364 1.49-.546 2.244-.546 2.262v.078c.017.035.035.06.052.078a.2.2 0 0 0 .078.026c.035.017.07.026.104.026a.429.429 0 0 0 .13.026h.182c.07.017.13.026.182.026h1.092c.087.121.13.2.13.234.017.035 0 .19-.052.468-.052.208-.104.338-.156.39-.052.07-.165.104-.338.104-.277 0-.737-.009-1.378-.026a55.471 55.471 0 0 0-1.404-.026c-1.213 0-1.985.017-2.314.052h-.208c-.121-.121-.182-.217-.182-.286 0-.07.035-.217.104-.442.052-.226.095-.356.13-.39l.104-.078h.52c.59-.017.927-.121 1.014-.312.052-.104.58-2.176 1.586-6.214 1.023-4.039 1.551-6.18 1.586-6.422.017-.087.026-.208.026-.364 0-.71-.217-1.066-.65-1.066a.761.761 0 0 0-.52.182c-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.301.301 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676Zm9.932-1.222c0-1.387-.529-2.08-1.586-2.08a1.1 1.1 0 0 0-.182.026h-.13c-.901.19-1.75.815-2.548 1.872a1.523 1.523 0 0 0-.13.156l-.078.104c0 .017-.035.147-.104.39a38.14 38.14 0 0 1-.286 1.118c-.121.52-.234.97-.338 1.352-.45 1.837-.676 2.79-.676 2.86.121.416.234.72.338.91.381.71.91 1.066 1.586 1.066.555 0 1.066-.19 1.534-.572.468-.399.858-.91 1.17-1.534.312-.59.633-1.56.962-2.912.312-1.248.468-2.167.468-2.756Z"})});case"q":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M23.01 32.992h-1.43c-.59.017-1.022.026-1.3.026-.26 0-.39-.07-.39-.208 0-.035.009-.096.026-.182a.601.601 0 0 0 .052-.208c.07-.278.13-.442.182-.494.07-.052.243-.078.52-.078.832 0 1.335-.06 1.508-.182.104-.07.347-.858.728-2.366.347-1.404.529-2.115.546-2.132 0-.017-.06.009-.182.078a5.075 5.075 0 0 1-1.95.988c-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.763-.78-1.733-.78-2.912 0-.277.009-.468.026-.572a7.916 7.916 0 0 1 1.066-3.172c.607-1.023 1.326-1.846 2.158-2.47 1.005-.78 2.063-1.17 3.172-1.17.988 0 1.785.45 2.392 1.352.416-.416.694-.668.832-.754.59-.416.988-.624 1.196-.624.174 0 .26.07.26.208 0 .156-.598 2.626-1.794 7.41-1.23 4.922-1.846 7.418-1.846 7.488 0 .139.295.216.884.234h.936c.087.121.13.19.13.208.017.035 0 .2-.052.494-.07.225-.156.39-.26.494h-.338c-.537-.035-1.473-.052-2.808-.052Zm2.34-13.468c-.381-1.37-1.031-2.054-1.95-2.054-.693 0-1.308.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.755 20.755 0 0 0-1.066 4.264c0 .052-.009.147-.026.286v.312c0 .624.13 1.127.39 1.508.277.381.676.572 1.196.572.919 0 1.88-.624 2.886-1.872l.208-.286.702-2.808c.312-1.265.546-2.21.702-2.834Z"})});case"r":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.943 28.286a.968.968 0 0 1-.624-.208.596.596 0 0 1-.26-.52c0-.226.346-1.716 1.04-4.472.693-2.756 1.04-4.29 1.04-4.602 0-.676-.226-1.014-.676-1.014a.72.72 0 0 0-.494.182c-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.304.304 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.139.112-.546.338-1.222.329-1.005.719-1.733 1.17-2.184.416-.416.875-.624 1.378-.624.676 0 1.23.165 1.664.494.381.295.632.598.754.91a.64.64 0 0 0 .078.182c.017 0 .086-.07.208-.208.641-.71 1.378-1.153 2.21-1.326.104-.017.329-.026.676-.026.641 0 1.161.182 1.56.546.398.364.598.858.598 1.482 0 .554-.156 1.022-.468 1.404-.295.364-.694.546-1.196.546-.33 0-.607-.096-.832-.286-.208-.19-.312-.442-.312-.754 0-.85.485-1.404 1.456-1.664-.382-.226-.694-.338-.936-.338-.364 0-.711.087-1.04.26-.572.277-1.118.832-1.638 1.664a3.45 3.45 0 0 0-.39.858c-.087.295-.382 1.447-.884 3.458-.59 2.427-.928 3.718-1.014 3.874-.226.468-.598.702-1.118.702Z"})});case"s":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.974 23.84c.33 0 .59.095.78.286.208.19.312.442.312.754 0 .294-.086.58-.26.858a1.505 1.505 0 0 1-.65.624 3.46 3.46 0 0 1-.364.13l-.104.052c-.017 0-.017.008 0 .026.052.087.208.2.468.338.503.26 1.162.39 1.976.39 1.317 0 2.245-.425 2.782-1.274.26-.434.39-.832.39-1.196 0-.555-.286-.97-.858-1.248-.156-.104-.59-.225-1.3-.364a28.175 28.175 0 0 0-.416-.078 1.515 1.515 0 0 0-.364-.078 7.27 7.27 0 0 0-.26-.078 3.629 3.629 0 0 0-.26-.078 1.156 1.156 0 0 0-.208-.104 5.875 5.875 0 0 0-.26-.182c-.71-.503-1.066-1.213-1.066-2.132 0-.97.355-1.846 1.066-2.626.797-.901 1.907-1.352 3.328-1.352 1.681 0 2.695.59 3.042 1.768.035.087.052.251.052.494 0 .485-.13.884-.39 1.196-.26.294-.607.442-1.04.442-.277 0-.503-.078-.676-.234-.173-.156-.26-.373-.26-.65 0-.572.26-.988.78-1.248.139-.07.217-.104.234-.104.052 0 .043-.044-.026-.13-.416-.382-1.014-.572-1.794-.572-.676 0-1.248.19-1.716.572a1.823 1.823 0 0 0-.702 1.482c0 .312.13.59.39.832.173.156.615.312 1.326.468.798.173 1.318.32 1.56.442.815.364 1.36.97 1.638 1.82.035.104.06.33.078.676 0 .59-.147 1.204-.442 1.846-.85 1.768-2.444 2.652-4.784 2.652-1.854 0-3.024-.538-3.51-1.612a2.13 2.13 0 0 1-.182-.91c0-.537.156-.988.468-1.352.33-.364.737-.546 1.222-.546Z"})});case"t":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.979 17.99c-.122-.121-.182-.208-.182-.26 0-.07.026-.208.078-.416.069-.225.112-.346.13-.364.034-.087.112-.13.234-.13.138-.017.58-.026 1.326-.026h1.378l.494-2.08c.364-1.404.572-2.158.624-2.262.208-.485.606-.728 1.196-.728a.945.945 0 0 1 .572.234c.173.139.26.32.26.546 0 .208-.165.945-.494 2.21-.07.295-.156.624-.26.988-.087.347-.156.607-.208.78l-.052.26c0 .035.433.052 1.3.052H25.7c.121.122.182.217.182.286 0 .382-.113.685-.338.91h-2.782l-.936 3.77c-.642 2.583-.971 3.943-.988 4.082a2.157 2.157 0 0 0-.026.39c0 .728.234 1.092.702 1.092.121 0 .225-.009.312-.026.866-.156 1.655-.85 2.366-2.08a5.56 5.56 0 0 0 .468-.962c.034-.104.078-.165.13-.182.052-.035.182-.052.39-.052.346 0 .52.07.52.208 0 .035-.035.139-.104.312-.191.555-.503 1.118-.936 1.69-.416.555-.841.997-1.274 1.326-.642.486-1.326.728-2.054.728-.624 0-1.162-.156-1.612-.468a2.445 2.445 0 0 1-.884-1.274c-.035-.139-.052-.372-.052-.702v-.468l.91-3.64c.606-2.444.918-3.675.936-3.692 0-.035-.442-.052-1.326-.052h-1.326Z"})});case"u":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M26.598 16.794a.87.87 0 0 1 .598.208c.174.121.26.303.26.546l-1.976 8.268a2.36 2.36 0 0 0-.026.416c0 .728.243 1.092.728 1.092.4-.052.737-.382 1.014-.988.191-.399.416-1.1.676-2.106.035-.139.208-.208.52-.208.156 0 .26.009.312.026.052 0 .096.017.13.052.035.034.052.086.052.156 0 .052-.026.182-.078.39-.52 2.045-1.265 3.232-2.236 3.562a2.77 2.77 0 0 1-.624.052c-1.144 0-1.932-.486-2.366-1.456a4.683 4.683 0 0 0-.312.286c-.866.797-1.75 1.196-2.652 1.196-.762 0-1.438-.156-2.028-.468-.71-.416-1.152-1.066-1.326-1.95a7.492 7.492 0 0 1-.026-.806c0-.416.018-.737.052-.962.122-.745.52-2.02 1.196-3.822.382-1.023.572-1.733.572-2.132 0-.243-.026-.408-.078-.494-.034-.104-.13-.156-.286-.156h-.13c-.398 0-.78.182-1.144.546-.554.554-.979 1.386-1.274 2.496a.423.423 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.174.078-.364.347-1.196.884-2.14 1.612-2.834.607-.555 1.231-.832 1.872-.832.728 0 1.31.208 1.742.624.434.398.65.918.65 1.56 0 .346-.156.927-.468 1.742-.71 1.906-1.135 3.32-1.274 4.238a5.18 5.18 0 0 0-.026.598c0 .659.104 1.161.312 1.508.208.347.59.52 1.144.52.728 0 1.387-.312 1.976-.936.347-.347.564-.624.65-.832.035-.07.364-1.387.988-3.952.52-2.08.832-3.293.936-3.64.104-.364.226-.615.364-.754.295-.26.607-.39.936-.39Z"})});case"v":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M21.956 28.286c-1.109 0-1.993-.277-2.652-.832-.641-.572-.962-1.404-.962-2.496 0-.312.018-.607.052-.884.156-.832.564-2.106 1.222-3.822l.416-1.248a2.8 2.8 0 0 0 .156-.884c0-.433-.164-.65-.494-.65-.121 0-.26.026-.416.078-.884.312-1.551 1.309-2.002 2.99a.422.422 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.182.078-.39.416-1.37 1.058-2.392 1.924-3.068a2.554 2.554 0 0 1 1.612-.546c.676 0 1.231.19 1.664.572.434.381.65.884.65 1.508 0 .295-.026.52-.078.676 0 .121-.13.503-.39 1.144-.797 2.167-1.222 3.71-1.274 4.628 0 .468.044.85.13 1.144.226.745.772 1.118 1.638 1.118.468 0 .884-.139 1.248-.416 1.075-.71 1.968-2.349 2.678-4.914.139-.485.208-.884.208-1.196 0-.763-.338-1.447-1.014-2.054-.225-.208-.338-.442-.338-.702 0-.399.156-.754.468-1.066.33-.33.694-.494 1.092-.494.416 0 .737.2.962.598.226.381.338.84.338 1.378 0 .607-.173 1.603-.52 2.99-.329 1.335-.745 2.496-1.248 3.484-1.092 2.236-2.461 3.354-4.108 3.354Z"})});case"w":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M24.368 16.794c.243 0 .45.07.624.208.174.121.26.303.26.546 0 .225-.26 1.335-.78 3.328-.502 1.993-.771 3.137-.806 3.432-.034.19-.052.494-.052.91 0 .503.044.884.13 1.144.104.243.286.46.546.65a1.88 1.88 0 0 0 1.066.312c1.23 0 2.21-1.057 2.938-3.172.399-1.04.668-1.993.806-2.86.018-.087.026-.217.026-.39 0-.867-.312-1.56-.936-2.08-.277-.225-.416-.503-.416-.832 0-.399.165-.745.494-1.04.33-.312.694-.468 1.092-.468a.2.2 0 0 1 .078.026h.104c.728.19 1.092.832 1.092 1.924 0 .555-.164 1.551-.494 2.99-.346 1.317-.676 2.383-.988 3.198-.85 2.15-1.993 3.363-3.432 3.64a3.324 3.324 0 0 1-.494.026c-.78 0-1.464-.13-2.054-.39-.59-.277-1.005-.659-1.248-1.144-.381.503-.771.884-1.17 1.144-.381.26-.884.39-1.508.39-1.161 0-2.097-.277-2.808-.832-.693-.555-1.04-1.378-1.04-2.47 0-.468.018-.78.052-.936.104-.693.494-1.95 1.17-3.77.382-1.023.572-1.733.572-2.132 0-.243-.026-.407-.078-.494-.034-.104-.13-.156-.286-.156h-.13c-.398 0-.78.182-1.144.546-.554.555-.98 1.387-1.274 2.496a.422.422 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.173.078-.364.174-.52.338-.936.494-1.248.642-1.3 1.465-2.08 2.47-2.34.104-.035.304-.052.598-.052.71 0 1.274.208 1.69.624.416.399.624.91.624 1.534 0 .347-.156.927-.468 1.742-.762 2.045-1.178 3.493-1.248 4.342v.338c0 .693.165 1.24.494 1.638.33.381.806.572 1.43.572.746 0 1.404-.529 1.976-1.586l.13-.234v-.598c.035-.503.06-.797.078-.884a170.904 170.904 0 0 1 1.144-4.706c.278-1.092.45-1.699.52-1.82.226-.468.598-.702 1.118-.702Z"})});case"x":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M16.069 20.772c-.104-.104-.156-.2-.156-.286.069-.468.337-1.066.805-1.794.815-1.23 1.838-1.942 3.069-2.132a4.23 4.23 0 0 1 .546-.052c.606 0 1.16.156 1.664.468.52.312.892.702 1.117 1.17l.416-.546c.642-.728 1.378-1.092 2.21-1.092.711 0 1.283.208 1.716.624a1.9 1.9 0 0 1 .677 1.482c0 .537-.156.988-.468 1.352-.295.364-.694.546-1.197.546-.329 0-.598-.096-.805-.286-.209-.19-.313-.442-.313-.754 0-.798.434-1.344 1.3-1.638 0-.017-.095-.078-.285-.182-.174-.104-.425-.156-.755-.156-.225 0-.39.017-.494.052-.658.277-1.143.85-1.456 1.716-.052.139-.303 1.11-.753 2.912-.451 1.785-.694 2.79-.729 3.016-.052.26-.078.52-.078.78 0 .416.122.745.364.988.243.242.564.364.963.364.727 0 1.386-.304 1.976-.91.589-.624.988-1.309 1.196-2.054.052-.174.104-.269.155-.286.052-.035.191-.052.416-.052.33 0 .494.07.494.208 0 .017-.017.113-.052.286-.294 1.075-.9 2.01-1.82 2.808-.814.641-1.672.962-2.574.962-1.213 0-2.131-.546-2.756-1.638-.502.78-1.143 1.3-1.924 1.56a3.32 3.32 0 0 1-.675.052c-1.006 0-1.716-.356-2.133-1.066a2.013 2.013 0 0 1-.26-1.04c0-.52.156-.962.468-1.326a1.505 1.505 0 0 1 1.196-.546c.746 0 1.119.364 1.119 1.092 0 .641-.304 1.11-.91 1.404a1.256 1.256 0 0 0-.13.078 1.005 1.005 0 0 0-.13.052.2.2 0 0 1-.078.026l-.078.026c0 .052.13.13.39.234.207.087.433.13.675.13.624 0 1.162-.39 1.613-1.17.19-.312.528-1.439 1.014-3.38.104-.399.216-.84.337-1.326.122-.486.209-.858.26-1.118.07-.26.113-.416.13-.468.087-.468.13-.806.13-1.014 0-.416-.112-.745-.337-.988-.226-.243-.538-.364-.936-.364-.78 0-1.456.303-2.029.91a4.835 4.835 0 0 0-1.195 2.054c-.035.156-.078.251-.13.286-.035.017-.174.026-.416.026h-.364Z"})});case"y":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M27.639 16.794c.242 0 .45.07.624.208.173.121.26.295.26.52 0 .225-.425 2.045-1.274 5.46-.85 3.415-1.335 5.287-1.456 5.616a6.657 6.657 0 0 1-1.352 2.34 6.756 6.756 0 0 1-2.132 1.716c-.936.45-1.812.676-2.626.676-1.317 0-2.21-.416-2.678-1.248-.174-.243-.26-.59-.26-1.04 0-.59.165-1.049.494-1.378.364-.33.745-.494 1.144-.494.762 0 1.144.364 1.144 1.092 0 .641-.303 1.11-.91 1.404a1.01 1.01 0 0 1-.13.052c-.052.035-.095.06-.13.078a.2.2 0 0 1-.078.026l-.078.026c.052.104.234.217.546.338.277.104.555.156.832.156h.208c.294 0 .52-.017.676-.052.659-.19 1.282-.633 1.872-1.326.59-.694 1.04-1.525 1.352-2.496.19-.572.286-.91.286-1.014 0-.018-.017-.009-.052.026a1.168 1.168 0 0 0-.156.104 3.534 3.534 0 0 1-2.132.702c-.884 0-1.612-.208-2.184-.624-.572-.416-.945-1.014-1.118-1.794a7.464 7.464 0 0 1-.026-.806c0-.416.017-.737.052-.962.121-.745.52-2.02 1.196-3.822.381-1.023.572-1.733.572-2.132 0-.243-.026-.408-.078-.494-.035-.104-.13-.156-.286-.156h-.13c-.399 0-.78.182-1.144.546-.555.554-.98 1.386-1.274 2.496a.427.427 0 0 1-.026.104.304.304 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.174.078-.364.364-1.213.91-2.158 1.638-2.834.59-.555 1.204-.832 1.846-.832.728 0 1.309.2 1.742.598.433.398.65.953.65 1.664-.035.33-.06.511-.078.546 0 .104-.13.477-.39 1.118-.71 1.924-1.136 3.336-1.274 4.238a5.157 5.157 0 0 0-.026.598c0 .659.104 1.161.312 1.508.208.347.59.52 1.144.52.398 0 .771-.104 1.118-.312.364-.208.633-.408.806-.598.19-.208.424-.486.702-.832 0-.018.043-.19.13-.52.086-.347.208-.858.364-1.534l.494-1.924c.659-2.6 1.023-3.96 1.092-4.082.225-.468.598-.702 1.118-.702Z"})});case"z":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.023 28.286c-.104-.104-.156-.182-.156-.234 0-.07.052-.182.156-.338.277-.52.728-1.153 1.352-1.898.728-.832 1.967-2.046 3.718-3.64 1.335-1.213 2.236-2.063 2.704-2.548.208-.277.269-.416.182-.416-.208 0-.667-.096-1.378-.286-.763-.19-1.309-.286-1.638-.286-.503 0-.927.087-1.274.26-.347.156-.563.364-.65.624-.243.139-.407.216-.494.234-.364 0-.546-.07-.546-.208 0-.087.026-.208.078-.364a4.135 4.135 0 0 1 1.118-1.742c.52-.485 1.092-.78 1.716-.884.208-.035.355-.052.442-.052.26 0 .503.052.728.156.225.104.39.208.494.312.121.087.303.251.546.494.537.52.997.78 1.378.78.156 0 .277-.017.364-.052.295-.139.676-.598 1.144-1.378.121-.19.208-.286.26-.286.052-.017.173-.026.364-.026h.338c.104.104.156.173.156.208 0 .07-.078.242-.234.52a14.514 14.514 0 0 1-1.248 1.69c-.78.919-2.01 2.132-3.692 3.64-1.387 1.23-2.331 2.123-2.834 2.678l-.312.312.39.026c.381 0 .875.078 1.482.234.884.225 1.49.338 1.82.338.693 0 1.309-.165 1.846-.494.555-.347.91-.78 1.066-1.3.07-.156.13-.252.182-.286.052-.035.182-.052.39-.052.347 0 .52.087.52.26 0 .017-.017.095-.052.234a5.683 5.683 0 0 1-1.43 2.418 4.579 4.579 0 0 1-2.392 1.326 2.865 2.865 0 0 1-.442.026c-.295 0-.563-.06-.806-.182-.243-.121-.58-.381-1.014-.78-.364-.364-.633-.59-.806-.676-.139-.087-.33-.13-.572-.13-.763 0-1.447.52-2.054 1.56-.087.139-.277.208-.572.208h-.338Z"})});case"A":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M13.342 30c-.121-.122-.182-.217-.182-.286 0-.07.026-.217.078-.442.07-.225.121-.355.156-.39l.104-.078h.364c1.213-.052 2.097-.485 2.652-1.3.104-.104 1.673-2.748 4.706-7.93 3.05-5.2 4.593-7.826 4.628-7.878.087-.156.165-.243.234-.26.087-.035.286-.052.598-.052h.442c.104.156.156.242.156.26l.728 8.398c.485 5.598.745 8.424.78 8.476.087.19.65.286 1.69.286.19 0 .32.009.39.026.087 0 .147.017.182.052.052.034.078.095.078.182 0 .035-.026.156-.078.364-.052.26-.104.424-.156.494-.035.052-.147.078-.338.078-.312 0-.832-.009-1.56-.026a73.87 73.87 0 0 0-1.716-.026c-1.63 0-2.695.017-3.198.052h-.312a1.188 1.188 0 0 1-.182-.208c0-.052.026-.217.078-.494.07-.225.121-.364.156-.416l.104-.078h.52c.936-.035 1.49-.182 1.664-.442l-.312-3.9h-6.188l-.884 1.508c-.624 1.04-.945 1.603-.962 1.69a.877.877 0 0 0-.104.39c0 .433.399.684 1.196.754.33 0 .494.087.494.26 0 .087-.026.208-.078.364-.052.242-.104.398-.156.468-.052.07-.165.104-.338.104-.295 0-.763-.009-1.404-.026a58.722 58.722 0 0 0-1.456-.026c-1.23 0-2.02.017-2.366.052h-.208Zm12.324-6.76c0-.19-.113-1.543-.338-4.056-.208-2.514-.32-3.779-.338-3.796l-.702 1.118c-.277.468-.823 1.395-1.638 2.782l-2.34 3.952 2.678.026c1.785 0 2.678-.009 2.678-.026Z"})});case"B":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M19.624 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.668-.008-.754-.026a.237.237 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.086-.312.164-.485.234-.52.017-.017 1.144-.026 3.38-.026 4.489 0 6.855.017 7.098.052 1.196.173 2.132.59 2.808 1.248.693.659 1.04 1.43 1.04 2.314a3.5 3.5 0 0 1-.494 1.768c-.382.694-.997 1.326-1.846 1.898a7.429 7.429 0 0 1-2.626 1.118l-.26.078c1.144.156 2.062.555 2.756 1.196.71.641 1.066 1.439 1.066 2.392 0 1.248-.572 2.418-1.716 3.51-1.335 1.283-2.921 2.002-4.758 2.158-.122.017-1.95.026-5.486.026-3.467 0-5.226-.017-5.278-.052a.247.247 0 0 1-.104-.208c0-.121.017-.242.052-.364.086-.33.173-.511.26-.546.069-.017.199-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm9.386 2.184c0-.59-.156-1.092-.468-1.508a2.108 2.108 0 0 0-1.196-.832c-.122-.034-.919-.06-2.392-.078-.347 0-.711.009-1.092.026h-1.248c-.243.018-.399.078-.468.182-.052.07-.347 1.161-.884 3.276-.52 2.115-.789 3.233-.806 3.354h2.106c1.404 0 2.21-.017 2.418-.052a4.935 4.935 0 0 0 2.002-.832c.641-.45 1.135-.988 1.482-1.612.364-.659.546-1.3.546-1.924Zm-1.404 8.19c0-.762-.208-1.395-.624-1.898a2.298 2.298 0 0 0-1.534-.884c-.104-.017-.824-.026-2.158-.026-2.046 0-3.077.009-3.094.026 0 .035-.156.668-.468 1.898-.295 1.23-.59 2.453-.884 3.666l-.468 1.82c0 .07.104.113.312.13.208 0 .91.009 2.106.026 1.542 0 2.374-.008 2.496-.026 1.126-.121 2.123-.624 2.99-1.508.884-.884 1.326-1.959 1.326-3.224Z"})});case"C":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M29.633 17.494c0-1.439-.32-2.565-.962-3.38-.624-.832-1.525-1.248-2.704-1.248-.919 0-1.915.217-2.99.65-1.872.797-3.337 2.14-4.394 4.03-.953 1.681-1.551 3.657-1.794 5.928-.017.139-.026.39-.026.754 0 1.976.659 3.397 1.976 4.264.832.59 1.855.884 3.068.884.659 0 1.378-.147 2.158-.442 1.023-.416 1.95-1.1 2.782-2.054.832-.953 1.404-1.993 1.716-3.12.07-.225.121-.355.156-.39.052-.035.19-.052.416-.052.364 0 .546.07.546.208 0 .035-.017.121-.052.26-.416 1.543-1.248 2.93-2.496 4.16s-2.652 2.028-4.212 2.392a7.283 7.283 0 0 1-1.82.234c-1.785 0-3.285-.511-4.498-1.534-1.213-1.023-1.985-2.323-2.314-3.9a7.212 7.212 0 0 1-.182-1.69c0-2.08.65-4.1 1.95-6.058a13.533 13.533 0 0 1 2.886-3.172 11.881 11.881 0 0 1 3.796-2.054c1.023-.312 1.959-.468 2.808-.468.624 0 .988.009 1.092.026 1.04.173 1.915.607 2.626 1.3a8.298 8.298 0 0 1 .468.624c.087.104.139.156.156.156.052 0 .286-.225.702-.676.121-.104.251-.225.39-.364l.416-.416c.139-.156.225-.251.26-.286l.39-.39h.156c.243 0 .364.06.364.182 0 .07-.277 1.257-.832 3.562-.624 2.41-.936 3.623-.936 3.64a.38.38 0 0 1-.13.182c-.052.017-.208.026-.468.026h-.416l-.156-.156c0-.035.017-.19.052-.468.035-.347.052-.728.052-1.144Z"})});case"D":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.696 13.672c0-.017-.008-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.589 0-.91-.06-.962-.182-.017-.052 0-.2.052-.442.087-.33.165-.511.234-.546.035-.017 1.76-.026 5.174-.026 2.895.017 4.516.035 4.862.052.347 0 .694.043 1.04.13 1.37.312 2.462 1.032 3.276 2.158.815 1.127 1.222 2.53 1.222 4.212 0 .867-.104 1.716-.312 2.548-.485 1.959-1.499 3.736-3.042 5.33-1.75 1.803-3.744 2.886-5.98 3.25l-.364.052L17.37 30h-2.886c-1.542 0-2.322-.043-2.34-.13v-.026a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.07-.277.139-.433.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm10.816 4.134c0-1.283-.338-2.297-1.014-3.042-.676-.745-1.62-1.178-2.834-1.3H24.52a14.24 14.24 0 0 0-1.69 0h-1.092c-.225.018-.381.095-.468.234-.034.07-.667 2.566-1.898 7.488-1.23 4.923-1.846 7.41-1.846 7.462 0 .07.096.113.286.13h2.002c1.404 0 2.193-.008 2.366-.026 1.647-.26 3.034-.953 4.16-2.08a7.868 7.868 0 0 0 1.534-2.184c.399-.832.772-1.933 1.118-3.302.347-1.37.52-2.496.52-3.38Z"})});case"E":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M30.55 18.3c0-.174.026-.52.078-1.04.052-.52.078-.85.078-.988 0-.763-.13-1.343-.39-1.742-.242-.399-.684-.676-1.326-.832-.572-.122-1.898-.182-3.978-.182-1.473.017-2.244.034-2.314.052a.478.478 0 0 0-.26.26 377.68 377.68 0 0 0-.832 3.198c-.52 2.08-.78 3.137-.78 3.172.399.017.815.026 1.248.026h.234c1.127 0 1.933-.07 2.418-.208.503-.156.893-.546 1.17-1.17.104-.19.234-.564.39-1.118a.577.577 0 0 0 .026-.182 1.3 1.3 0 0 0 .026-.156l.052-.104c.018-.035.044-.052.078-.052a.492.492 0 0 1 .156-.026 1.095 1.095 0 0 1 .468 0 .29.29 0 0 1 .13.026c.035.017.052.034.052.052.018 0 .035.026.052.078l.078.078-.858 3.432c-.572 2.305-.884 3.475-.936 3.51-.052.052-.19.078-.416.078-.225 0-.364-.026-.416-.078-.104-.052-.112-.26-.026-.624.122-.45.182-.84.182-1.17 0-.503-.173-.823-.52-.962-.312-.139-1.161-.208-2.548-.208h-1.352c-.104.364-.433 1.655-.988 3.874-.537 2.201-.806 3.32-.806 3.354 0 .07.096.113.286.13.208 0 .902.009 2.08.026 1.63 0 2.704-.017 3.224-.052a6.765 6.765 0 0 0 1.56-.338 4.382 4.382 0 0 0 2.106-1.456c.572-.693 1.188-1.829 1.846-3.406.174-.381.286-.59.338-.624.052-.035.174-.052.364-.052.208 0 .338.017.39.052.104.07.156.165.156.286-1.82 4.402-2.773 6.647-2.86 6.734-.052.035-2.53.052-7.436.052h-6.552c-.624-.017-.944-.06-.962-.13v-.026a.454.454 0 0 1-.052-.13c0-.035.026-.156.078-.364.07-.277.139-.434.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.035-.087.65-2.522 1.846-7.306 1.214-4.784 1.82-7.21 1.82-7.28 0-.121-.034-.182-.104-.182-.138-.052-.598-.096-1.378-.13h-.806a1.188 1.188 0 0 1-.182-.208c0-.052.026-.2.078-.442.07-.312.156-.494.26-.546h14.404c.122.121.182.216.182.286 0 .087-.112 1.066-.338 2.938-.225 1.854-.346 2.8-.364 2.834-.034.121-.208.182-.52.182h-.312c-.121-.104-.182-.19-.182-.26Z"})});case"F":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.456 29.948c-.485 0-1.118.008-1.898.026h-1.664c-.208 0-.338-.044-.39-.13a.454.454 0 0 1-.052-.13c0-.035.026-.156.078-.364.07-.277.14-.434.208-.468.07-.052.27-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.035-.087.65-2.522 1.846-7.306 1.214-4.784 1.82-7.21 1.82-7.28 0-.121-.034-.182-.104-.182-.138-.052-.598-.096-1.378-.13h-.806a1.188 1.188 0 0 1-.182-.208c0-.052.026-.2.078-.442.07-.312.156-.494.26-.546h14.014c.122.121.182.216.182.286 0 .087-.112 1.066-.338 2.938-.225 1.854-.346 2.8-.364 2.834-.034.121-.208.182-.52.182h-.312c-.12-.104-.182-.19-.182-.26v-.104a.677.677 0 0 0 .026-.208c.018-.087.026-.174.026-.26.07-.503.104-1.006.104-1.508 0-1.248-.398-2.037-1.196-2.366a3.938 3.938 0 0 0-1.274-.286c-.485-.035-1.473-.052-2.964-.052-1.386.017-2.114.034-2.184.052-.138.052-.225.13-.26.234-.017.017-.312 1.152-.884 3.406l-.832 3.354h1.43c1.04-.018 1.612-.035 1.716-.052.572-.104.988-.286 1.248-.546.364-.312.668-.936.91-1.872a2.488 2.488 0 0 0 .078-.312c0-.035.01-.07.026-.104.018-.052.035-.078.052-.078l.104-.052a.492.492 0 0 1 .156-.026h.52c.122.087.182.173.182.26 0 .052-.277 1.187-.832 3.406-.537 2.218-.823 3.363-.858 3.432-.034.121-.208.182-.52.182h-.312c-.104-.087-.164-.156-.182-.208-.017-.07.01-.226.078-.468.122-.485.182-.901.182-1.248 0-.52-.216-.84-.65-.962-.312-.104-1.04-.156-2.184-.156h-1.43l-.832 3.302c-.554 2.15-.832 3.276-.832 3.38 0 .104.052.173.156.208.208.104.928.156 2.158.156h.65c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.225-.156.39-.26.494h-.442c-.71-.035-2.019-.052-3.926-.052Z"})});case"G":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M20.152 30.572c-2.045 0-3.735-.641-5.07-1.924-1.334-1.3-2.002-3.033-2.002-5.2 0-2.08.65-4.1 1.95-6.058a13.533 13.533 0 0 1 2.886-3.172 11.882 11.882 0 0 1 3.796-2.054c1.023-.312 1.959-.468 2.808-.468.624 0 .988.009 1.092.026 1.04.173 1.916.607 2.626 1.3a8.215 8.215 0 0 1 .468.624c.087.104.139.156.156.156.052 0 .286-.225.702-.676.122-.104.252-.225.39-.364l.416-.416c.139-.156.226-.251.26-.286l.39-.39h.156c.243 0 .364.06.364.182 0 .07-.277 1.257-.832 3.562-.624 2.41-.936 3.623-.936 3.64a.38.38 0 0 1-.13.182c-.052.017-.208.026-.468.026h-.416l-.156-.156c0-.035.018-.19.052-.468.035-.347.052-.728.052-1.144 0-1.439-.32-2.565-.962-3.38-.624-.832-1.525-1.248-2.704-1.248-.918 0-1.915.217-2.99.65-1.733.728-3.12 1.941-4.16 3.64-1.022 1.681-1.69 3.71-2.002 6.084-.034.312-.052.65-.052 1.014 0 .988.174 1.846.52 2.574.815 1.577 2.297 2.427 4.446 2.548h.156c.936 0 1.794-.2 2.574-.598.78-.399 1.318-.91 1.612-1.534.052-.139.182-.615.39-1.43.208-.832.312-1.291.312-1.378 0-.139-.121-.225-.364-.26-.225-.035-.736-.06-1.534-.078h-.962a1.193 1.193 0 0 1-.182-.208c0-.035.026-.2.078-.494.07-.225.156-.39.26-.494h.442c.694.035 1.907.052 3.64.052h1.612a55.257 55.257 0 0 1 1.326-.026c.243 0 .364.07.364.208 0 .052-.017.182-.052.39a1.823 1.823 0 0 0-.052.208.796.796 0 0 1-.052.156c0 .017-.017.052-.052.104a.17.17 0 0 1-.078.078.714.714 0 0 0-.156.026h-.26c-.346 0-.702.026-1.066.078a.468.468 0 0 0-.286.286l-.104.338c-.052.225-.147.59-.286 1.092-.121.485-.234.919-.338 1.3a36.88 36.88 0 0 0-.156.65 76.37 76.37 0 0 0-.13.572 5.985 5.985 0 0 1-.13.442 3.75 3.75 0 0 1-.104.39 2.39 2.39 0 0 1-.078.286 4.933 4.933 0 0 1-.052.234.654.654 0 0 1-.078.156.299.299 0 0 1-.052.078c-.017.017-.043.026-.078.026-.052 0-.104-.026-.156-.078-.156-.087-.372-.277-.65-.572-.26-.312-.433-.555-.52-.728 0-.017-.017-.009-.052.026a1.191 1.191 0 0 0-.156.104c-.572.537-1.326.97-2.262 1.3a8.785 8.785 0 0 1-2.938.494Z"})});case"H":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M33.842 12.268c.19 0 .312.018.364.052.052.035.078.104.078.208s-.017.226-.052.364c-.087.295-.173.468-.26.52h-.182a.765.765 0 0 0-.182.026h-.468c-.919.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.052.087-.684 2.548-1.898 7.384-1.196 4.819-1.794 7.254-1.794 7.306 0 .121.035.182.104.182.139.052.607.096 1.404.13h.806c.087.122.13.2.13.234.018.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.641-.035-1.803-.052-3.484-.052-.433 0-1.022.009-1.768.026h-1.612c-.294 0-.442-.07-.442-.208 0-.017.009-.07.026-.156.018-.104.035-.182.052-.234.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026H23c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.087.364-1.265.936-3.536.572-2.27.858-3.432.858-3.484 0-.017-1.256-.026-3.77-.026h-3.77l-.858 3.51c-.59 2.323-.884 3.527-.884 3.614 0 .104.026.165.078.182.122.052.598.096 1.43.13h.806c.087.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.641-.035-1.802-.052-3.484-.052-.433 0-1.022.009-1.768.026h-1.612c-.295 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514 0-.017-.009-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.034-.052-.026-.208.026-.468.07-.295.148-.468.234-.52.035-.017.182-.026.442-.026.71.035 1.89.052 3.536.052h1.716a78.756 78.756 0 0 1 1.612-.026c.226 0 .355.052.39.156.035.052.026.208-.026.468-.086.295-.173.468-.26.52h-.182a.765.765 0 0 0-.182.026h-.468c-.918.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.052.07-.33 1.136-.832 3.198-.121.45-.251.953-.39 1.508s-.242.962-.312 1.222l-.104.39c0 .035 1.257.052 3.77.052h3.77l.026-.078c0-.052.269-1.118.806-3.198.485-1.993.728-3.06.728-3.198 0-.034-.017-.07-.052-.104-.017-.034-.052-.06-.104-.078a.577.577 0 0 0-.182-.026.79.79 0 0 0-.234-.026h-.286a1.388 1.388 0 0 0-.312-.026h-.312c-.624 0-.936-.087-.936-.26 0-.364.052-.624.156-.78.052-.086.2-.13.442-.13.312 0 .832.009 1.56.026a75.373 75.373 0 0 0 3.874 0 77.95 77.95 0 0 1 1.508-.026Z"})});case"I":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.392 29.974c-.294 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.087-.33.174-.511.26-.546.052-.017.182-.026.39-.026h.156c1.058 0 1.716-.06 1.976-.182.018 0 .035-.009.052-.026.087-.035.182-.234.286-.598.104-.364.53-2.063 1.274-5.096.208-.78.364-1.395.468-1.846 1.214-4.853 1.82-7.297 1.82-7.332a.458.458 0 0 1-.052-.13c-.173-.104-.788-.156-1.846-.156h-.52c-.104-.087-.164-.156-.182-.208-.017-.07.01-.216.078-.442.052-.26.113-.425.182-.494.052-.035.2-.052.442-.052 1.248.035 2.514.052 3.796.052h1.43c1.11 0 1.742-.017 1.898-.052h.26c.122.121.182.217.182.286 0 .07-.026.19-.078.364-.052.26-.112.425-.182.494-.052.035-.25.052-.598.052-.537 0-1.092.026-1.664.078-.225.052-.39.139-.494.26-.052.07-.39 1.326-1.014 3.77s-1.23 4.88-1.82 7.306l-.884 3.614c0 .139.061.217.182.234.174.052.65.087 1.43.104h.832c.087.122.13.2.13.234.018.017 0 .174-.052.468-.069.226-.156.39-.26.494h-.416c-.64-.035-1.828-.052-3.562-.052-.433 0-1.048.009-1.846.026h-1.69Z"})});case"J":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M26.411 13.75c0-.208-.806-.312-2.418-.312h-.65c-.104-.087-.165-.156-.182-.208-.017-.07.009-.234.078-.494.07-.225.156-.39.26-.494h.442c.71.035 1.976.052 3.796.052h1.716a64.884 64.884 0 0 1 1.43-.026c.19 0 .295.043.312.13.035.07.052.113.052.13 0 .035-.026.156-.078.364-.07.277-.139.442-.208.494-.052.035-.208.052-.468.052h-.234c-.763 0-1.196.121-1.3.364-.07.226-.607 2.366-1.612 6.422-1.092 4.299-1.647 6.457-1.664 6.474-.364 1.058-1.083 1.968-2.158 2.73-1.075.763-2.297 1.144-3.666 1.144-1.057 0-1.924-.26-2.6-.78-.659-.537-.988-1.23-.988-2.08 0-.607.173-1.127.52-1.56.364-.45.84-.676 1.43-.676.78 0 1.213.382 1.3 1.144 0 .503-.147.927-.442 1.274a1.783 1.783 0 0 1-1.092.65c-.139.035-.208.07-.208.104 0 .018.06.087.182.208.45.503 1.1.754 1.95.754.659 0 1.3-.286 1.924-.858.641-.59 1.1-1.3 1.378-2.132.07-.208.615-2.375 1.638-6.5 1.04-4.125 1.56-6.249 1.56-6.37Z"})});case"K":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M18.378 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.59 0-.91-.06-.962-.182-.018-.052 0-.2.052-.442.086-.312.164-.494.234-.546.034-.017.182-.026.442-.026.71.035 1.889.052 3.536.052h1.716a78.746 78.746 0 0 1 1.612-.026c.294 0 .442.07.442.208 0 .087-.026.208-.078.364-.087.347-.165.529-.234.546-.07.035-.347.052-.832.052-.936.018-1.474.078-1.612.182a.457.457 0 0 0-.182.182l-2.106 8.268c.017 0 1.612-1.248 4.784-3.744 3.189-2.496 4.818-3.779 4.888-3.848.242-.242.364-.442.364-.598 0-.26-.217-.407-.65-.442-.278 0-.416-.095-.416-.286 0-.034.026-.156.078-.364a4.2 4.2 0 0 1 .13-.39c.052-.086.199-.13.442-.13.277 0 .736.009 1.378.026.658.018 1.196.026 1.612.026.936 0 1.577-.017 1.924-.052.26-.017.424-.009.494.026.086.018.13.095.13.234 0 .07-.035.217-.104.442-.052.208-.087.32-.104.338-.052.087-.217.13-.494.13a6.474 6.474 0 0 0-3.536 1.326l-.312.208c-.035.018-.928.71-2.678 2.08a486.183 486.183 0 0 0-2.652 2.08l.234.572c.156.381.398.962.728 1.742.329.78.632 1.517.91 2.21 1.3 3.068 1.993 4.654 2.08 4.758.034.035.078.07.13.104.242.174.684.269 1.326.286h.546c.086.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.286a33.632 33.632 0 0 0-2.47-.078c-2.063 0-3.25.026-3.562.078h-.26a1.188 1.188 0 0 1-.182-.208c0-.052.026-.216.078-.494.052-.208.112-.346.182-.416.052-.052.164-.078.338-.078.866 0 1.3-.216 1.3-.65 0-.087-.512-1.343-1.534-3.77l-1.508-3.588-1.768 1.378-1.768 1.378-.598 2.418c-.399 1.595-.598 2.436-.598 2.522 0 .104.026.165.078.182.121.052.598.096 1.43.13h.806c.104.156.156.252.156.286 0 .277-.061.538-.182.78-.087.087-.226.13-.416.13-.295 0-.824-.009-1.586-.026a86.31 86.31 0 0 0-1.976-.026 83.8 83.8 0 0 0-1.924.026h-1.482c-.226 0-.364-.043-.416-.13a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.069-.277.138-.433.208-.468.069-.052.268-.078.598-.078.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Z"})});case"L":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M20.561 13.672c0-.017-.008-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.034-.052-.026-.208.026-.468.087-.33.165-.502.234-.52.052-.017.182-.026.39-.026a60.53 60.53 0 0 0 3.302.078h1.04c.451-.017.78-.026.988-.026h.936c.382-.017.668-.026.858-.026.208-.017.338-.026.39-.026h.312c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.243-.147.407-.234.494h-.988c-1.196.018-1.898.095-2.106.234-.12.07-.242.32-.364.754-.12.416-.702 2.696-1.742 6.838a996.167 996.167 0 0 1-1.586 6.448l-.234.936c0 .07.078.113.234.13.156 0 .668.009 1.534.026 1.3 0 2.22-.043 2.756-.13.555-.087 1.162-.32 1.82-.702a4.712 4.712 0 0 0 1.664-1.586c.434-.676.858-1.569 1.274-2.678.122-.346.217-.59.286-.728.087-.052.234-.078.442-.078h.338c.104.156.156.252.156.286 0 .035-.182.546-.546 1.534-.346.988-.719 2.037-1.118 3.146a63.854 63.854 0 0 0-.676 1.898c-.052.104-.095.165-.13.182-.052.035-2.288.052-6.708.052s-6.656-.017-6.708-.052a.247.247 0 0 1-.104-.208c0-.121.018-.242.052-.364.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Z"})});case"M":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M16.335 30c-.242 0-.667-.009-1.274-.026a54.61 54.61 0 0 0-1.585-.026c-1.249 0-2.02.009-2.315.026-.415.017-.65.009-.701-.026-.105-.035-.157-.113-.157-.234 0-.034.026-.156.079-.364a4.2 4.2 0 0 1 .13-.39c.034-.104.225-.156.572-.156 1.248-.07 2.019-.416 2.314-1.04.069-.104.667-2.427 1.793-6.968 1.144-4.558 1.716-6.942 1.716-7.15 0-.07-.026-.104-.078-.104h-.052c-.173-.052-.623-.086-1.352-.104-.433 0-.693-.008-.78-.026a.314.314 0 0 1-.181-.182c-.018-.07-.01-.19.025-.364.104-.346.182-.537.234-.572.052-.035.936-.052 2.652-.052 1.37 0 2.159.009 2.366.026.226 0 .364.035.416.104.018.07.338 2.514.962 7.332.625 4.802.936 7.22.936 7.254 0 .018.105-.13.313-.442.208-.33.485-.771.832-1.326l1.222-1.924c.468-.728.953-1.49 1.456-2.288.502-.815 1.005-1.62 1.508-2.418l1.43-2.314c.468-.728.875-1.37 1.222-1.924.363-.572.65-1.031.857-1.378l.313-.494.078-.078a.785.785 0 0 0 .104-.078l.155-.052h2.496c1.665 0 2.523.017 2.575.052a.247.247 0 0 1 .103.208c0 .052-.026.19-.078.416a2.99 2.99 0 0 0-.078.364c-.069.104-.39.156-.962.156-.935.018-1.473.078-1.611.182a.457.457 0 0 0-.183.182c-.052.087-.684 2.54-1.898 7.358-1.195 4.819-1.793 7.254-1.793 7.306 0 .121.026.19.078.208.12.052.598.096 1.43.13h.805c.104.156.157.252.157.286 0 .277-.061.538-.182.78-.087.087-.226.13-.417.13-.294 0-.805-.009-1.534-.026a82.147 82.147 0 0 0-1.924-.026c-.537 0-1.16.009-1.872.026h-1.43c-.225 0-.364-.043-.416-.13-.034-.052-.026-.216.026-.494.07-.277.14-.433.209-.468.069-.052.268-.078.598-.078.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.034-.07.363-1.335.988-3.796.623-2.478 1.239-4.931 1.846-7.358.606-2.427.91-3.649.91-3.666-1.526 2.41-3.207 5.088-5.044 8.034l-5.122 8.138c-.157.156-.364.234-.625.234-.26 0-.416-.06-.468-.182-.052-.087-.39-2.565-1.014-7.436-.606-4.87-.962-7.74-1.066-8.606-2.34 9.273-3.51 13.997-3.51 14.17.104.572.729.858 1.872.858h.26c.104.087.165.165.182.234.018.07-.008.226-.078.468-.069.277-.138.433-.207.468-.07.017-.165.026-.287.026Z"})});case"N":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M12.76 29.974c-.26 0-.39-.078-.39-.234 0-.052.026-.19.078-.416.07-.225.113-.347.13-.364.035-.104.234-.156.598-.156 1.179-.052 1.942-.39 2.288-1.014.087-.156 1.292-4.914 3.614-14.274-.034-.017-.511-.043-1.43-.078-.52 0-.832-.008-.936-.026a.184.184 0 0 1-.156-.156c-.034-.052-.026-.208.026-.468.087-.312.165-.485.234-.52.035-.017.876-.026 2.522-.026 1.335 0 2.098.009 2.288.026.208 0 .33.043.364.13l1.378 3.25c.919 2.167 1.846 4.35 2.782 6.552.936 2.201 1.413 3.346 1.43 3.432l1.404-5.538c.919-3.657 1.378-5.607 1.378-5.85 0-.45-.554-.72-1.664-.806-.364 0-.563-.06-.598-.182-.034-.052-.026-.19.026-.416.018-.052.035-.113.052-.182a.713.713 0 0 0 .026-.156.299.299 0 0 1 .078-.182l.052-.052a.11.11 0 0 1 .078-.026h.13c.243 0 .676.017 1.3.052a62.89 62.89 0 0 0 1.664.026c.451 0 .962-.008 1.534-.026.59-.017.997-.026 1.222-.026.26 0 .39.087.39.26 0 .07-.034.217-.104.442-.052.208-.086.32-.104.338-.034.087-.225.13-.572.13-1.23.052-2.002.399-2.314 1.04l-3.874 15.34c-.034.121-.216.182-.546.182-.242 0-.39-.017-.442-.052L20.04 14.296c-2.253 9.03-3.38 13.58-3.38 13.65.104.572.728.858 1.872.858h.26c.104.087.165.165.182.234.018.052-.008.208-.078.468-.069.226-.156.39-.26.494h-.338c-.537-.035-1.473-.052-2.808-.052-.346 0-.823.009-1.43.026h-1.3Z"})});case"O":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M24.019 11.696h.442c.659 0 1.075.008 1.248.026 1.699.242 3.06.988 4.082 2.236 1.023 1.248 1.534 2.825 1.534 4.732 0 2.34-.754 4.558-2.262 6.656-.988 1.421-2.184 2.574-3.588 3.458-1.82 1.179-3.649 1.768-5.486 1.768-1.855 0-3.397-.59-4.628-1.768-1.317-1.283-1.976-2.999-1.976-5.148 0-.607.009-.997.026-1.17.312-2.375 1.317-4.559 3.016-6.552a16.549 16.549 0 0 1 1.56-1.56c1.924-1.595 3.935-2.488 6.032-2.678Zm4.628 5.928c0-1.317-.303-2.4-.91-3.25-.59-.85-1.413-1.378-2.47-1.586a3.627 3.627 0 0 0-.806-.078 3.99 3.99 0 0 0-.962.104c-1.075.19-2.089.676-3.042 1.456-.399.312-.875.789-1.43 1.43-.797 1.023-1.473 2.34-2.028 3.952-.555 1.595-.832 3.172-.832 4.732 0 1.248.243 2.305.728 3.172.503.866 1.196 1.447 2.08 1.742.45.139.875.208 1.274.208 1.057 0 2.097-.33 3.12-.988 2.063-1.352 3.57-3.57 4.524-6.656.503-1.647.754-3.06.754-4.238Z"})});case"P":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M21.121 13.672c0-.017-.009-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.433 0-.693-.008-.78-.026a.314.314 0 0 1-.182-.182c-.017-.07-.009-.19.026-.364.104-.346.182-.537.234-.572.052-.035 1.733-.052 5.044-.052 3.293.017 5.053.043 5.278.078 1.023.173 1.872.537 2.548 1.092.693.537 1.144 1.248 1.352 2.132.017.104.026.33.026.676 0 .434-.017.72-.052.858-.208.988-.763 1.924-1.664 2.808-1.196 1.179-2.739 1.924-4.628 2.236-.121.018-1.031.035-2.73.052h-2.47l-.78 3.094c-.52 2.01-.78 3.077-.78 3.198s.026.19.078.208c.121.052.598.096 1.43.13h.806c.104.156.156.252.156.286 0 .277-.06.538-.182.78-.087.087-.225.13-.416.13-.295 0-.823-.009-1.586-.026a86.304 86.304 0 0 0-1.976-.026 83.8 83.8 0 0 0-1.924.026h-1.482c-.225 0-.364-.043-.416-.13a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.07-.277.139-.433.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm9.308 1.924c0-.659-.19-1.135-.572-1.43-.381-.312-.927-.537-1.638-.676-.121-.017-.815-.034-2.08-.052-.295 0-.598.009-.91.026h-1.066c-.225.018-.381.095-.468.234a79.01 79.01 0 0 0-.52 2.002c-.295 1.23-.59 2.427-.884 3.588-.295 1.162-.45 1.75-.468 1.768 0 .035.702.052 2.106.052 1.456-.017 2.253-.035 2.392-.052 1.161-.173 2.054-.59 2.678-1.248.468-.468.858-1.308 1.17-2.522.173-.71.26-1.274.26-1.69Z"})});case"Q":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M22.09 32.08c0-.19.01-.511.027-.962.034-.433.052-.71.052-.832v-.104l-.39.104c-.797.19-1.526.286-2.184.286-1.837 0-3.371-.59-4.602-1.768-1.318-1.283-1.976-2.999-1.976-5.148 0-.607.008-.997.026-1.17.312-2.375 1.317-4.559 3.016-6.552a16.573 16.573 0 0 1 1.56-1.56c1.924-1.595 3.934-2.488 6.032-2.678h.442c.659 0 1.075.008 1.248.026 1.698.242 3.06.988 4.082 2.236 1.023 1.248 1.534 2.825 1.534 4.732 0 2.322-.72 4.498-2.158 6.526-1.439 2.01-3.137 3.466-5.096 4.368l-.442.208v.13a.2.2 0 0 0 .026.078.489.489 0 0 1 .026.156c.017.07.035.13.052.182.156.676.355 1.144.598 1.404.242.26.633.39 1.17.39a2.86 2.86 0 0 0 1.794-.624c.537-.399.884-.875 1.04-1.43.104-.243.216-.364.338-.364.156 0 .251.078.286.234 0 .104-.06.355-.182.754-.71 2.097-1.673 3.45-2.886 4.056-.433.19-.867.286-1.3.286-.797 0-1.352-.26-1.664-.78-.312-.503-.468-1.23-.468-2.184Zm-1.351-6.11c.624 0 1.135.225 1.534.676.416.45.667 1.092.754 1.924l.338-.234c1.335-.919 2.41-2.193 3.224-3.822.832-1.63 1.378-3.484 1.638-5.564.017-.174.026-.546.026-1.118 0-2.028-.59-3.476-1.768-4.342-.676-.52-1.465-.78-2.366-.78-.832 0-1.681.216-2.548.65-1.56.763-2.86 2.054-3.9 3.874-1.04 1.802-1.69 3.83-1.95 6.084-.018.19-.026.546-.026 1.066 0 1.802.468 3.163 1.404 4.082.416.364.667.546.754.546v-.208c0-.78.303-1.447.91-2.002.624-.555 1.282-.832 1.976-.832Zm-.858 3.562a5.38 5.38 0 0 0 2.34-.546l-.026-.26c-.07-.953-.39-1.525-.962-1.716a3.178 3.178 0 0 0-.494-.052h-.156a.426.426 0 0 0-.104-.026c-.07 0-.182.026-.338.078a1.88 1.88 0 0 0-.91.624c-.26.294-.39.633-.39 1.014 0 .59.346.884 1.04.884Z"})});case"R":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M19.598 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.668-.008-.754-.026a.237.237 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.086-.312.164-.485.234-.52.034-.017 1.542-.026 4.524-.026 2.981.017 4.593.043 4.836.078 1.577.226 2.773.763 3.588 1.612.641.694.962 1.465.962 2.314 0 .174-.035.434-.104.78-.399 1.543-1.673 2.79-3.822 3.744-.763.295-1.196.442-1.3.442l.182.13c1.161.659 1.742 1.612 1.742 2.86 0 .208-.044.763-.13 1.664a20.47 20.47 0 0 0-.13 2.054c0 .607.06 1.04.182 1.3.121.243.39.364.806.364.242 0 .398-.017.468-.052.658-.26 1.126-.84 1.404-1.742.086-.242.156-.39.208-.442.052-.052.182-.078.39-.078.346 0 .52.104.52.312 0 .312-.208.806-.624 1.482-.52.763-1.127 1.24-1.82 1.43-.139.035-.39.052-.754.052-1.803 0-2.973-.546-3.51-1.638-.156-.277-.243-.624-.26-1.04v-.442l.052-.39c.017-.139.034-.242.052-.312.017-.07.06-.216.13-.442a6.33 6.33 0 0 0 .156-.598c.26-.988.39-1.62.39-1.898 0-.867-.373-1.508-1.118-1.924-.26-.121-.477-.19-.65-.208-.174-.017-.789-.035-1.846-.052H20.17l-.832 3.38c-.572 2.288-.858 3.45-.858 3.484 0 .121.026.19.078.208.121.052.598.096 1.43.13h.806c.086.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.624-.035-1.76-.052-3.406-.052-.416 0-.997.009-1.742.026h-1.638c-.295 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.086-.33.173-.511.26-.546.069-.017.199-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm8.502.676c-.364-.381-.841-.624-1.43-.728-.59-.121-1.43-.182-2.522-.182a8.5 8.5 0 0 0-.65.026h-.858c-.226.018-.382.095-.468.234-.018.052-.312 1.213-.884 3.484-.572 2.254-.858 3.398-.858 3.432 0 .017.598.026 1.794.026 1.352-.017 2.253-.078 2.704-.182 1.126-.19 1.993-.702 2.6-1.534.277-.398.511-.918.702-1.56.19-.659.286-1.248.286-1.768 0-.537-.139-.953-.416-1.248Z"})});case"S":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M28.405 16.48c0-1.179-.303-2.089-.91-2.73-.589-.641-1.447-.962-2.574-.962-.953 0-1.872.39-2.756 1.17-.866.78-1.3 1.707-1.3 2.782 0 .537.13.997.39 1.378.278.381.633.641 1.066.78.052.035.65.208 1.794.52a99.54 99.54 0 0 0 1.768.442c.26.07.59.243.988.52 1.04.745 1.56 1.855 1.56 3.328 0 .45-.069.936-.208 1.456a4.94 4.94 0 0 1-.52 1.43c-1.074 2.132-2.756 3.44-5.044 3.926a5.719 5.719 0 0 1-.884.052c-1.716 0-3.05-.477-4.004-1.43l-.26-.286-.728.806c-.485.537-.754.823-.806.858-.052.035-.138.052-.26.052-.225 0-.338-.07-.338-.208 0-.052.503-2.089 1.508-6.11.035-.104.208-.156.52-.156h.338c.087.087.13.147.13.182.018.017.01.156-.026.416a6.79 6.79 0 0 0-.13 1.326c.07 1.127.477 1.967 1.222 2.522.763.555 1.794.832 3.094.832.174 0 .382-.017.624-.052.815-.19 1.543-.624 2.184-1.3.66-.676 1.075-1.456 1.248-2.34.035-.139.052-.407.052-.806 0-1.11-.45-1.863-1.352-2.262-.104-.017-.728-.173-1.872-.468-1.144-.312-1.742-.485-1.794-.52a3.428 3.428 0 0 1-1.846-1.3c-.45-.659-.676-1.439-.676-2.34 0-.867.243-1.76.728-2.678.503-.936 1.101-1.655 1.794-2.158.884-.763 1.95-1.24 3.198-1.43.07-.017.165-.026.286-.026h.286c1.803 0 3.068.555 3.796 1.664l1.534-1.664h.104a.429.429 0 0 1 .13-.026c.226 0 .338.06.338.182 0 .121-.25 1.179-.754 3.172-.485 1.976-.754 2.99-.806 3.042-.052.052-.19.078-.416.078-.346 0-.52-.078-.52-.234 0-.104.01-.19.026-.26 0-.087.01-.269.026-.546a6.19 6.19 0 0 0 .052-.624Z"})});case"T":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M25.198 30c-.468 0-1.248-.009-2.34-.026a165.36 165.36 0 0 0-2.522-.026c-2.236 0-3.657.017-4.264.052h-.39a1.192 1.192 0 0 1-.182-.208c0-.052.026-.217.078-.494.07-.225.156-.39.26-.494h.728c1.04 0 1.742-.026 2.106-.078.295-.017.511-.07.65-.156.017-.017.035-.026.052-.026.087-.052.173-.225.26-.52.087-.312.433-1.673 1.04-4.082.295-1.179.537-2.14.728-2.886 1.213-4.767 1.82-7.202 1.82-7.306 0-.087-.251-.13-.754-.13h-.806c-1.161 0-1.924.052-2.288.156-.745.156-1.309.46-1.69.91-.468.52-.98 1.577-1.534 3.172-.121.381-.208.607-.26.676-.052.07-.173.104-.364.104h-.078c-.225 0-.364-.026-.416-.078-.052-.052-.078-.095-.078-.13 0-.104.26-.936.78-2.496a74.24 74.24 0 0 1 .962-2.86c.104-.33.217-.555.338-.676h12.168c2.323 0 3.484.043 3.484.13v.026l.026.026v.078c0 .104-.156 1.092-.468 2.964-.295 1.872-.45 2.817-.468 2.834 0 .052-.035.095-.104.13-.035.035-.165.052-.39.052h-.26a.424.424 0 0 0-.104-.026l-.078-.078a.781.781 0 0 0-.078-.104c0-.121.026-.355.078-.702.156-.936.234-1.62.234-2.054 0-.399-.052-.728-.156-.988-.104-.26-.225-.46-.364-.598-.121-.139-.355-.243-.702-.312a6.478 6.478 0 0 0-.858-.13 33.843 33.843 0 0 0-1.196-.052c-.797 0-1.309.017-1.534.052-.208.017-.355.078-.442.182-.017.017-.633 2.444-1.846 7.28-1.213 4.819-1.82 7.263-1.82 7.332 0 .121.113.2.338.234.243.07.893.113 1.95.13.59 0 .936.009 1.04.026.121.017.2.07.234.156.017.052 0 .2-.052.442-.07.312-.147.494-.234.546L25.38 30h-.182Z"})});case"U":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M17.078 26.36c0 .954.26 1.699.78 2.236.537.52 1.291.78 2.262.78 1.421 0 2.67-.46 3.744-1.378 1.092-.919 1.855-2.028 2.288-3.328 1.699-6.777 2.548-10.253 2.548-10.426 0-.45-.555-.72-1.664-.806-.364 0-.563-.06-.598-.182-.035-.052-.026-.19.026-.416.017-.052.035-.113.052-.182a.706.706 0 0 0 .026-.156.304.304 0 0 1 .078-.182l.052-.052c.017-.017.043-.026.078-.026h.13c.26 0 .71.017 1.352.052a51.568 51.568 0 0 0 3.224 0c.59-.017.997-.026 1.222-.026.26 0 .39.087.39.26 0 .07-.035.217-.104.442-.052.208-.087.32-.104.338-.052.087-.243.13-.572.13-1.23.052-2.002.399-2.314 1.04-.035.087-.468 1.76-1.3 5.018-.71 2.93-1.144 4.654-1.3 5.174-.52 1.543-1.465 2.912-2.834 4.108-1.37 1.196-2.895 1.794-4.576 1.794-1.404 0-2.583-.398-3.536-1.196-.953-.797-1.525-1.837-1.716-3.12a4.412 4.412 0 0 1-.026-.598c0-.399.017-.754.052-1.066.035-.156.269-1.118.702-2.886.45-1.785.884-3.536 1.3-5.252.433-1.716.65-2.643.65-2.782 0-.121-.494-.2-1.482-.234-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.07-.295.147-.468.234-.52.035-.017.182-.026.442-.026.71.035 1.89.052 3.536.052h1.716a78.767 78.767 0 0 1 1.612-.026c.225 0 .355.052.39.156.035.052.026.208-.026.468-.087.295-.173.468-.26.52h-.182a.766.766 0 0 0-.182.026h-.468c-.919.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.017.035-.26.954-.728 2.756a431.596 431.596 0 0 0-1.43 5.616c-.468 1.942-.72 3.085-.754 3.432a5.338 5.338 0 0 0-.052.754Z"})});case"V":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M15.955 13.438c-.121-.121-.182-.216-.182-.286 0-.138.043-.312.13-.52.087-.208.156-.338.208-.39h.286c.728.052 1.638.078 2.73.078 2.045 0 3.25-.026 3.614-.078H23c.104.104.156.182.156.234.017.035 0 .19-.052.468-.07.243-.147.407-.234.494h-.546c-.381.035-.641.052-.78.052-.503.087-.78.217-.832.39 0 .035.251 2.219.754 6.552.503 4.316.763 6.483.78 6.5l1.898-3.042a950.553 950.553 0 0 0 3.796-6.136 279.681 279.681 0 0 0 1.95-3.198c.087-.173.13-.303.13-.39 0-.399-.39-.641-1.17-.728-.33 0-.494-.087-.494-.26 0-.087.026-.208.078-.364.052-.242.104-.399.156-.468.052-.07.165-.104.338-.104.295 0 .763.009 1.404.026.659.018 1.144.026 1.456.026 1.196 0 1.95-.017 2.262-.052h.182c.121.121.182.217.182.286 0 .312-.078.59-.234.832-.052.052-.2.078-.442.078-.936.052-1.681.33-2.236.832l-.182.182c-.07.087-.113.139-.13.156a.99.99 0 0 1-.182.26c-6.379 10.348-9.62 15.548-9.724 15.6l-.13.078-.468.026c-.312 0-.494-.017-.546-.052-.07-.035-.104-.078-.104-.13-.052-.104-.39-2.877-1.014-8.32-.659-5.512-.997-8.294-1.014-8.346-.104-.19-.546-.286-1.326-.286h-.728Z"})});case"W":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M11.232 13.438c-.122-.121-.182-.216-.182-.286 0-.381.112-.684.338-.91h.312a37.18 37.18 0 0 0 2.6.078h.832c.38-.017.667-.026.858-.026h.806c.329-.017.58-.026.754-.026.173-.017.277-.026.312-.026h.26c.104.104.156.182.156.234.017.035 0 .19-.052.468-.07.243-.148.407-.234.494h-.546c-.503.018-.92.07-1.248.156-.26.104-.408.2-.442.286 0 .121.138 2.219.416 6.292.294 4.073.45 6.17.468 6.292 2.704-4.784 4.74-8.372 6.11-10.764l-.052-.962c-.052-.728-.14-1.118-.26-1.17-.104-.07-.468-.112-1.092-.13-.486 0-.746-.06-.78-.182-.035-.052-.026-.19.026-.416.086-.347.164-.537.234-.572.052-.017.32-.017.806 0 .589.035 1.412.052 2.47.052.502 0 1.092-.008 1.768-.026a68.319 68.319 0 0 1 1.456-.026c.294 0 .442.06.442.182 0 .07-.026.226-.078.468-.052.226-.087.347-.104.364-.035.104-.26.156-.676.156-.902.035-1.44.165-1.612.39-.052.052-.07.113-.052.182 0 .208.138 2.28.416 6.214.277 3.918.416 5.98.416 6.188l.052-.078a5.08 5.08 0 0 0 .156-.26c.086-.139.19-.303.312-.494.12-.208.268-.468.442-.78.19-.312.398-.667.624-1.066.225-.399.485-.867.78-1.404l1.014-1.742c2.236-3.934 3.37-5.954 3.406-6.058a.828.828 0 0 0 .052-.234c0-.277-.174-.485-.52-.624a2.459 2.459 0 0 0-1.066-.234c-.243 0-.364-.087-.364-.26 0-.052.017-.165.052-.338a.577.577 0 0 0 .026-.182.713.713 0 0 0 .026-.156l.052-.104a.17.17 0 0 1 .078-.078.29.29 0 0 1 .13-.026.677.677 0 0 1 .208-.026c.312 0 .788.009 1.43.026h1.43c1.144 0 1.88-.017 2.21-.052.242 0 .364.095.364.286 0 .104-.035.26-.104.468-.07.208-.122.33-.156.364-.052.052-.14.078-.26.078-1.092 0-1.933.407-2.522 1.222-.122.19-.191.295-.208.312l-4.394 7.696c-2.912 5.13-4.377 7.705-4.394 7.722-.104.122-.312.182-.624.182-.26 0-.425-.043-.494-.13-.052-.052-.226-2.184-.52-6.396-.278-4.23-.416-6.404-.416-6.526l-.312.468c-.382.642-1.491 2.574-3.328 5.798a403.24 403.24 0 0 1-1.794 3.146l-1.43 2.548c-.312.537-.477.815-.494.832-.104.173-.33.26-.676.26-.33 0-.512-.06-.546-.182 0-.052-.191-2.817-.572-8.294-.382-5.494-.581-8.25-.598-8.268-.035-.156-.122-.251-.26-.286-.14-.052-.477-.086-1.014-.104h-.624Z"})});case"X":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M12.326 30c-.277 0-.416-.095-.416-.286 0-.07.026-.208.078-.416.07-.242.13-.381.182-.416.052-.035.217-.06.494-.078 1.491-.052 2.661-.502 3.51-1.352.174-.173 1.18-1.265 3.016-3.276 1.838-2.028 2.748-3.05 2.73-3.068-1.889-4.819-2.877-7.271-2.964-7.358-.156-.19-.702-.294-1.638-.312h-.728a1.188 1.188 0 0 1-.182-.208c0-.052.026-.216.078-.494.07-.225.156-.39.26-.494h.364c.59.035 1.638.052 3.146.052h1.664a75.269 75.269 0 0 1 1.612-.026c.174 0 .286.018.338.052.052.018.078.078.078.182 0 .416-.06.685-.182.806-.034.087-.182.13-.442.13-.658.07-1.109.208-1.352.416l-.052.026c.78 1.907 1.448 3.588 2.002 5.044L25.3 17.39c.815-.884 1.456-1.595 1.924-2.132.382-.398.616-.667.702-.806a.625.625 0 0 0 .104-.416c-.052-.26-.26-.442-.624-.546a1.45 1.45 0 0 1-.338-.052c-.156 0-.268-.035-.338-.104-.069-.07-.069-.268 0-.598.07-.225.156-.39.26-.494h.312c.4.052 1.44.078 3.12.078 1.508 0 2.366-.026 2.574-.078h.208c.122.121.182.217.182.286 0 .139-.043.312-.13.52-.069.208-.13.338-.182.39h-.416c-1.334.052-2.426.425-3.276 1.118-.156.156-.25.243-.286.26a.465.465 0 0 1-.13.13c-.069.07-.849.928-2.34 2.574l-2.262 2.496c0 .018.27.72.806 2.106.555 1.37 1.118 2.765 1.69 4.186.572 1.422.893 2.167.962 2.236.174.156.702.243 1.586.26.607 0 .91.07.91.208 0 .19-.06.468-.182.832-.052.087-.19.13-.416.13h-1.378a68.88 68.88 0 0 0-1.794-.026c-.52 0-1.135.009-1.846.026H23.22c-.225 0-.364-.043-.416-.13-.034-.052-.026-.216.026-.494.07-.26.13-.407.182-.442.052-.052.182-.087.39-.104.312-.017.642-.086.988-.208.295-.139.442-.225.442-.26-.017 0-.424-1.014-1.222-3.042l-1.222-3.068c-.017 0-.84.902-2.47 2.704-1.612 1.785-2.426 2.695-2.444 2.73a.647.647 0 0 0-.208.468c0 .33.252.546.754.65.018 0 .07.009.156.026h.156c.208 0 .312.087.312.26 0 .104-.026.252-.078.442-.052.226-.104.364-.156.416-.052.035-.182.052-.39.052h-1.534a68.47 68.47 0 0 0-1.56-.026c-1.352 0-2.218.017-2.6.052Z"})});case"Y":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M29.994 12.294a40.338 40.338 0 0 0 2.912 0c.503-.035.85-.052 1.04-.052.226 0 .338.087.338.26 0 .052-.034.19-.104.416-.052.226-.086.347-.104.364-.034.104-.216.156-.546.156-1.248.087-2.262.52-3.042 1.3-.156.156-1.369 1.569-3.64 4.238l-3.354 3.926-.676 2.704c-.468 1.855-.702 2.825-.702 2.912 0 .19.59.286 1.768.286.295 0 .477.018.546.052.087.017.13.087.13.208 0 .364-.052.624-.156.78-.052.087-.199.13-.442.13h-1.56a82.14 82.14 0 0 0-1.924-.026c-.554 0-1.187.009-1.898.026h-1.482c-.294 0-.442-.06-.442-.182 0-.07.026-.216.078-.442.052-.242.087-.373.104-.39.035-.104.356-.156.962-.156.676-.017 1.118-.052 1.326-.104.226-.052.382-.165.468-.338.052-.086.304-1.022.754-2.808l.65-2.678c-.71-2.028-1.776-5.053-3.198-9.074a.973.973 0 0 0-.494-.286c-.156-.034-.537-.06-1.144-.078-.624 0-.936-.087-.936-.26 0-.035.026-.156.078-.364.07-.312.148-.494.234-.546.035-.017.156-.026.364-.026a45.9 45.9 0 0 0 2.834.078c2.115 0 3.337-.026 3.666-.078h.26c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.225-.156.39-.26.494h-.312c-.97 0-1.456.113-1.456.338 0 .087.434 1.37 1.3 3.848.867 2.462 1.309 3.7 1.326 3.718l.078-.078c.07-.07.174-.182.312-.338.139-.173.321-.381.546-.624.226-.26.503-.58.832-.962.33-.381.702-.823 1.118-1.326 1.855-2.166 2.843-3.336 2.964-3.51.156-.225.234-.416.234-.572 0-.277-.277-.442-.832-.494-.294 0-.442-.087-.442-.26 0-.035.018-.156.052-.364.052-.26.096-.416.13-.468.052-.07.174-.104.364-.104.243 0 .668.017 1.274.052Z"})});case"Z":return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#21242C",d:"M14.634 29.792c0-.26.052-.494.156-.702 0-.017 2.297-2.608 6.89-7.774a4794.75 4794.75 0 0 1 6.942-7.826l-.26-.052h-1.924c-1.56.018-2.41.035-2.548.052-1.317.174-2.349.615-3.094 1.326-.745.71-1.326 1.707-1.742 2.99l-.052.156-.052.156-.052.104v.078l-.026.052c-.052.087-.217.13-.494.13-.295 0-.468-.087-.52-.26l.832-2.808c.139-.45.277-.918.416-1.404.156-.485.269-.858.338-1.118.087-.26.13-.399.13-.416.052-.104.095-.165.13-.182.052-.035 2.08-.052 6.084-.052h6.006c.087.087.13.156.13.208 0 .035-.052.26-.156.676-9.152 10.313-13.737 15.487-13.754 15.522l-.078.078h2.314c1.647-.017 2.54-.034 2.678-.052 1.265-.156 2.262-.529 2.99-1.118.745-.59 1.36-1.517 1.846-2.782.121-.277.26-.676.416-1.196.139-.433.234-.693.286-.78.07-.086.182-.13.338-.13h.104c.364 0 .546.096.546.286 0 .07-.355 1.24-1.066 3.51-.71 2.27-1.11 3.432-1.196 3.484-.052.035-2.14.052-6.266.052-4.108 0-6.18-.017-6.214-.052-.052-.052-.078-.104-.078-.156Z"})});case"JUMP_OUT_PARENTHESES":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9571 13.2929c.3905.3905.3905 1.0237 0 1.4142C11.6871 15.9771 11 17.9485 11 20c0 2.0515.6871 4.0229 1.9571 5.2929.3905.3905.3905 1.0237 0 1.4142-.3905.3905-1.0237.3905-1.4142 0C9.81292 24.9771 9 22.4485 9 20c0-2.4485.81292-4.9771 2.5429-6.7071.3905-.3905 1.0237-.3905 1.4142 0zm4.5858 0c.3905-.3905 1.0237-.3905 1.4142 0C20.6871 15.0229 21.5 17.5515 21.5 20c0 2.4485-.8129 4.9771-2.5429 6.7071-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142C18.8129 24.0229 19.5 22.0515 19.5 20c0-2.0515-.6871-4.0229-1.9571-5.2929-.3905-.3905-.3905-1.0237 0-1.4142z",fill:"#21242C"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5429 16.2929c.3905-.3905 1.0237-.3905 1.4142 0l3 3c.3905.3905.3905 1.0237 0 1.4142l-3 3c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L26.8358 21H16.25c-.5523 0-1-.4477-1-1s.4477-1 1-1h10.5858l-1.2929-1.2929c-.3905-.3905-.3905-1.0237 0-1.4142z",fill:"#1865F2"})]});case"JUMP_OUT_EXPONENT":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2929 15.2929c.3905-.3905 1.0237-.3905 1.4142 0L26 21.5858V20c0-.5523.4477-1 1-1s1 .4477 1 1v4.003c-.0004.1345-.0273.2627-.0759.3798-.0477.1152-.1178.2234-.2105.3177a.809004.809004 0 01-.0131.0131c-.1797.1765-.4259.2856-.6975.2864H23c-.5523 0-1-.4477-1-1s.4477-1 1-1h1.5858l-6.2929-6.2929c-.3905-.3905-.3905-1.0237 0-1.4142zM31 33c-.5523 0-1-.4477-1-1V16c0-.5523.4477-1 1-1s1 .4477 1 1v16c0 .5523-.4477 1-1 1z",fill:"#1865F2"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9c-.55228 0-1 .44772-1 1v6c0 .5523.44772 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1H9zm5 2h-4v4h4v-4z",fill:"#21242C"})]});case"JUMP_OUT_BASE":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",style:{display:"block",transform:"scale(1,-1)"},xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2929 15.2929c.3905-.3905 1.0237-.3905 1.4142 0L26 21.5858V20c0-.5523.4477-1 1-1s1 .4477 1 1v4.003c-.0004.1345-.0273.2627-.0759.3798-.0477.1152-.1178.2234-.2105.3177a.809004.809004 0 01-.0131.0131c-.1797.1765-.4259.2856-.6975.2864H23c-.5523 0-1-.4477-1-1s.4477-1 1-1h1.5858l-6.2929-6.2929c-.3905-.3905-.3905-1.0237 0-1.4142zM31 33c-.5523 0-1-.4477-1-1V16c0-.5523.4477-1 1-1s1 .4477 1 1v16c0 .5523-.4477 1-1 1z",fill:"#1865F2"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9c-.55228 0-1 .44772-1 1v6c0 .5523.44772 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1H9zm5 2h-4v4h4v-4z",fill:"#21242C"})]});case"JUMP_INTO_NUMERATOR":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 11c.55228 0 1 .4477 1 1v16c0 .5523-.44772 1-1 1s-1-.4477-1-1V12c0-.5523.44772-1 1-1zm5 1c0-.5523.4477-1 1-1h3.9998c.0001 0 0 0 0 0 .1356 0 .2651.027.383.0759.1171.0484.2268.1201.3222.2149l.0042.0042c.1931.1942.29.448.2908.702V16c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1.5858l-4.2929 4.2929c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L16.5858 13H15c-.5523 0-1-.4477-1-1z",fill:"#1865F2"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_874_41680)",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H21c-.5523 0-1-.4477-1-1z",fill:"#21242C"})}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#1865F2"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_874_41680",children:jsxRuntimeExports.jsx("path",{fill:"#fff",transform:"translate(20 19)",d:"M0 0h12v2H0z"})})})]});case"JUMP_OUT_NUMERATOR":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 13c.5523 0 1 .4477 1 1v11.5858l1.2929-1.2929c.3905-.3905 1.0237-.3905 1.4142 0 .3905.3905.3905 1.0237 0 1.4142l-3 3c-.3905.3905-1.0237.3905-1.4142 0l-3-3c-.3905-.3905-.3905-1.0237 0-1.4142.3905-.3905 1.0237-.3905 1.4142 0L25 25.5858V14c0-.5523.4477-1 1-1zM13 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#1865F2"}),jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_874_41686)",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H11c-.5523 0-1-.4477-1-1z",fill:"#21242C"})}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_874_41686",children:jsxRuntimeExports.jsx("path",{fill:"#fff",transform:"translate(10 19)",d:"M0 0h12v2H0z"})})})]});case"JUMP_OUT_DENOMINATOR":return jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 11c.5523 0 1 .4477 1 1v16c0 .5523-.4477 1-1 1s-1-.4477-1-1V12c0-.5523.4477-1 1-1zm-9 9c0-.5523.4477-1 1-1h4c.5523 0 1 .4477 1 1v4c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1.5858l-4.2929 4.2929c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L24.5858 21H23c-.5523 0-1-.4477-1-1z",fill:"#1865F2"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_874_41692)",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 20c0-.5523.44772-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H9c-.55228 0-1-.4477-1-1z",fill:"#21242C"})}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_874_41692",children:jsxRuntimeExports.jsx("path",{fill:"#fff",transform:"translate(8 19)",d:"M0 0h12v2H0z"})})})]});case"UP":return jsxRuntimeExports.jsx("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:jsxRuntimeExports.jsxs("g",{fill:"none",fillRule:"evenodd",transform:"rotate(90 24 24)",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M0 0h48v48H0z"}),jsxRuntimeExports.jsx("path",{fill:"none",d:"M12 12h24v24H12z"}),jsxRuntimeExports.jsx("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})]})});case"DOWN":return jsxRuntimeExports.jsx("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:jsxRuntimeExports.jsxs("g",{fill:"none",fillRule:"evenodd",transform:"rotate(270 24 24)",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M0 0h48v48H0z"}),jsxRuntimeExports.jsx("path",{fill:"none",d:"M12 12h24v24H12z"}),jsxRuntimeExports.jsx("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})]})});case"LEFT":return jsxRuntimeExports.jsx("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:jsxRuntimeExports.jsxs("g",{fill:"none",fillRule:"evenodd",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M0 0h48v48H0z"}),jsxRuntimeExports.jsx("path",{fill:"none",d:"M12 12h24v24H12z"}),jsxRuntimeExports.jsx("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})]})});case"RIGHT":return jsxRuntimeExports.jsx("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:jsxRuntimeExports.jsxs("g",{fill:"none",fillRule:"evenodd",transform:"rotate(180 24 24)",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M0 0h48v48H0z"}),jsxRuntimeExports.jsx("path",{fill:"none",d:"M12 12h24v24H12z"}),jsxRuntimeExports.jsx("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})]})});default:throw new Error(`Unhandled key: ${e}`)}}const KeypadButton=({coord:e,keyConfig:t,onClickKey:r,style:n,secondary:i,action:o})=>{const a=i?"#F6F6F7":o?"#DBDCDD":void 0;return jsxRuntimeExports.jsx(View$2,{style:{gridColumn:e[0]+1,gridRow:e[1]+1,...n},testId:t.id,children:jsxRuntimeExports.jsx(Clickable$2,{onClick:e=>r(t.id,e),onMouseDown:e=>e.preventDefault(),style:styles$4$4.clickable,"aria-label":t.ariaLabel,children:({hovered:e,focused:r,pressed:n})=>jsxRuntimeExports.jsx(View$2,{style:[styles$4$4.outerBoxBase],children:jsxRuntimeExports.jsx(View$2,{style:[styles$4$4.base,null!=a?{background:a}:void 0,e&&styles$4$4.hovered,r&&styles$4$4.focused,n&&styles$4$4.pressed],children:jsxRuntimeExports.jsx(ButtonAsset,{id:t.id})})})})})},styles$4$4=StyleSheet.create({base:{display:"flex",justifyContent:"center",alignItems:"center",boxShadow:`0px 1px 0px ${color$1$2.offBlack32}`,boxSizing:"border-box",background:color$1$2.white,borderRadius:4,borderWidth:2,borderStyle:"solid",borderColor:"transparent",flex:1,minHeight:42,minWidth:42,padding:1,fontFamily:'Lato, "Noto Sans", sans-serif'},hovered:{borderColor:color$1$2.blue,padding:1,boxShadow:"none"},focused:{borderColor:color$1$2.blue,padding:0,boxShadow:"none"},pressed:{border:"2px solid #1B50B3",padding:0,background:`linear-gradient(0deg, rgba(24, 101, 242, 0.32), rgba(24, 101, 242, 0.32)), ${color$1$2.white}`,boxShadow:"none"},outerBoxBase:{padding:1,height:"100%",width:"100%",boxSizing:"border-box",borderRadius:7,border:"2px solid transparent"},clickable:{width:"100%",height:"100%",boxSizing:"border-box",":focus":{outline:"none"}}}),columns=3;function ExtrasPage(e){const{extraKeys:t,onClickKey:r}=e,{strings:n}=useMathInputI18n(),i=KeyConfigs(n);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t.map((e,t)=>{const n=t%columns,o=t/columns;return jsxRuntimeExports.jsx(KeypadButton,{keyConfig:i[e],onClickKey:r,coord:[n,o]},e)})})}const expandedViewThreshold=500;function getCursorContextConfig(e,t){if(!t)return null;switch(t){case CursorContext.NONE:return null;case CursorContext.IN_PARENS:return KeyConfigs(e).JUMP_OUT_PARENTHESES;case CursorContext.IN_SUPER_SCRIPT:return KeyConfigs(e).JUMP_OUT_EXPONENT;case CursorContext.IN_SUB_SCRIPT:return KeyConfigs(e).JUMP_OUT_BASE;case CursorContext.IN_NUMERATOR:return KeyConfigs(e).JUMP_OUT_NUMERATOR;case CursorContext.IN_DENOMINATOR:return KeyConfigs(e).JUMP_OUT_DENOMINATOR;case CursorContext.BEFORE_FRACTION:return KeyConfigs(e).JUMP_INTO_NUMERATOR}}function FractionsPage(e){const{onClickKey:t,cursorContext:r}=e,{strings:n}=useMathInputI18n(),i=getCursorContextConfig(n,r),o=KeyConfigs(n);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_1,onClickKey:t,coord:[0,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_2,onClickKey:t,coord:[1,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_3,onClickKey:t,coord:[2,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_4,onClickKey:t,coord:[0,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_5,onClickKey:t,coord:[1,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_6,onClickKey:t,coord:[2,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_7,onClickKey:t,coord:[0,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_8,onClickKey:t,coord:[1,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_9,onClickKey:t,coord:[2,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NUM_0,onClickKey:t,coord:[0,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.DECIMAL,onClickKey:t,coord:[1,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.NEGATIVE,onClickKey:t,coord:[2,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.PERCENT,onClickKey:t,coord:[3,0],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.PI,onClickKey:t,coord:[3,1],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.FRAC,onClickKey:t,coord:[3,2],secondary:!0}),i&&jsxRuntimeExports.jsx(KeypadButton,{keyConfig:i,onClickKey:t,coord:[3,3],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:o.BACKSPACE,onClickKey:t,coord:[4,3],action:!0})]})}function GeometryPage(e){const{onClickKey:t}=e,{strings:r}=useMathInputI18n(),n=KeyConfigs(r);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.SIN,onClickKey:t,coord:[0,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.COS,onClickKey:t,coord:[1,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.TAN,onClickKey:t,coord:[2,0]})]})}function NumbersPage({onClickKey:e,scientific:t}){const{strings:r}=useMathInputI18n(),n=KeyConfigs(r);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_1,onClickKey:e,coord:[0,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_2,onClickKey:e,coord:[1,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_3,onClickKey:e,coord:[2,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_4,onClickKey:e,coord:[0,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_5,onClickKey:e,coord:[1,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_6,onClickKey:e,coord:[2,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_7,onClickKey:e,coord:[0,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_8,onClickKey:e,coord:[1,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_9,onClickKey:e,coord:[2,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NUM_0,onClickKey:e,coord:[0,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.DECIMAL,onClickKey:e,coord:[1,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.NEGATIVE,onClickKey:e,coord:[2,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.PERCENT,onClickKey:e,coord:[3,0],secondary:!0}),t&&jsxRuntimeExports.jsx(KeypadButton,{keyConfig:n.EXP,onClickKey:e,coord:[3,2],secondary:!0})]})}function OperatorsPage(e){const{onClickKey:t,preAlgebra:r,logarithms:n,basicRelations:i,advancedRelations:o}=e,{strings:a}=useMathInputI18n(),s=KeyConfigs(a);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[r&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.EXP_2,onClickKey:t,coord:[0,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.EXP,onClickKey:t,coord:[1,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.SQRT,onClickKey:t,coord:[2,0]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.RADICAL,onClickKey:t,coord:[3,0]})]}),n&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.LOG,onClickKey:t,coord:[0,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.LOG_N,onClickKey:t,coord:[1,1]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.LN,onClickKey:t,coord:[2,1]})]}),i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.EQUAL,onClickKey:t,coord:[0,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.LT,onClickKey:t,coord:[1,2]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.GT,onClickKey:t,coord:[2,2]})]}),o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.NEQ,onClickKey:t,coord:[0,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.LEQ,onClickKey:t,coord:[1,3]}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:s.GEQ,onClickKey:t,coord:[2,3]})]})]})}function getStyles(e){switch(e){case"UP":return styles$3$9.up;case"RIGHT":return styles$3$9.right;case"DOWN":return styles$3$9.down;case"LEFT":return styles$3$9.left;default:throw new Error(`Invalid key: ${e}`)}}function NavigationButton({coord:e,keyConfig:t,onClickKey:r}){const n=getStyles(t.id);return jsxRuntimeExports.jsx(View$2,{style:{gridColumn:e[0]+1,gridRow:e[1]+1},children:jsxRuntimeExports.jsx(Clickable$2,{onClick:e=>r(t.id,e),style:styles$3$9.clickable,"aria-label":t.ariaLabel,children:({hovered:e,focused:r,pressed:i})=>jsxRuntimeExports.jsx(View$2,{style:styles$3$9.outerBoxBase,children:jsxRuntimeExports.jsx(View$2,{style:[styles$3$9.base,n,e&&styles$3$9.hovered,r&&styles$3$9.focused,i&&styles$3$9.pressed],children:jsxRuntimeExports.jsx(ButtonAsset,{id:t.id})})})})})}const borderRadiusPx=4,styles$3$9=StyleSheet.create({clickable:{width:"100%",height:"100%",":focus":{outline:"none"}},outerBoxBase:{height:"100%",width:"100%"},base:{boxShadow:`0px 1px 0px ${color$1$2.offBlack32}`,display:"flex",justifyContent:"center",alignItems:"center",background:color$1$2.white,borderWidth:2,borderColor:color$1$2.white},up:{borderTopLeftRadius:borderRadiusPx,borderTopRightRadius:borderRadiusPx},right:{borderTopRightRadius:borderRadiusPx,borderBottomRightRadius:borderRadiusPx},down:{borderBottomLeftRadius:borderRadiusPx,borderBottomRightRadius:borderRadiusPx},left:{borderTopLeftRadius:borderRadiusPx,borderBottomLeftRadius:borderRadiusPx},hovered:{borderColor:color$1$2.blue,boxShadow:"none"},focused:{borderColor:color$1$2.blue,boxShadow:"none"},pressed:{border:"2px solid #1B50B3",background:`linear-gradient(0deg, rgba(24, 101, 242, 0.32), rgba(24, 101, 242, 0.32)), ${color$1$2.white}`,boxShadow:"none"}});function NavigationPad(e){const{onClickKey:t}=e,{strings:r}=useMathInputI18n(),n=KeyConfigs(r);return jsxRuntimeExports.jsx(View$2,{style:styles$2$f.container,children:jsxRuntimeExports.jsxs(View$2,{style:styles$2$f.grid,children:[jsxRuntimeExports.jsx(NavigationButton,{keyConfig:n.UP,onClickKey:t,coord:[1,0]}),jsxRuntimeExports.jsx(NavigationButton,{keyConfig:n.RIGHT,onClickKey:t,coord:[2,1]}),jsxRuntimeExports.jsx(NavigationButton,{keyConfig:n.DOWN,onClickKey:t,coord:[1,2]}),jsxRuntimeExports.jsx(NavigationButton,{keyConfig:n.LEFT,onClickKey:t,coord:[0,1]}),jsxRuntimeExports.jsx(View$2,{style:styles$2$f.spacer})]})})}const styles$2$f=StyleSheet.create({container:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 1.5rem"},grid:{width:140,height:140,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},spacer:{gridColumn:2,gridRow:2,background:color$1$2.white}});function SharedKeys(e){const{onClickKey:t,cursorContext:r,divisionKey:n,convertDotToTimes:i,selectedPage:o}=e,{strings:a,locale:s}=useMathInputI18n(),l=getCursorContextConfig(a,r),c=KeyConfigs(a),u="Numbers"===o||"Operators"===o?[3,1]:[3,0];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.FRAC,onClickKey:t,coord:u,secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.PLUS,onClickKey:t,coord:[4,0],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.MINUS,onClickKey:t,coord:[5,0],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:convertDotToTimesByLocale(s,!!i)?c.TIMES:c.CDOT,onClickKey:t,coord:[4,1],secondary:!0}),n&&jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.DIVIDE,onClickKey:t,coord:[5,1],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.LEFT_PAREN,onClickKey:t,coord:[4,2],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.RIGHT_PAREN,onClickKey:t,coord:[5,2],secondary:!0}),l&&jsxRuntimeExports.jsx(KeypadButton,{keyConfig:l,onClickKey:t,coord:[4,3],secondary:!0}),jsxRuntimeExports.jsx(KeypadButton,{keyConfig:c.BACKSPACE,onClickKey:t,coord:[5,3],secondary:!0})]})}function getAvailableTabs(e){if(e.fractionsOnly)return[];const t=["Numbers"];return(e.preAlgebra||e.logarithms||e.basicRelations||e.advancedRelations)&&t.push("Operators"),e.trigonometry&&t.push("Geometry"),e.extraKeys?.length&&t.push("Extras"),t}function Keypad({extraKeys:e=[],...t}){const r=t.fractionsOnly?"Fractions":"Numbers",[n,i]=reactExports.useState(r),[o,a]=reactExports.useState(!1),s=getAvailableTabs({...t,extraKeys:e}),{onClickKey:l,cursorContext:c,convertDotToTimes:u,divisionKey:d,preAlgebra:h,logarithms:p,basicRelations:f,advancedRelations:m,scientific:g,showDismiss:y,onAnalyticsEvent:b,fractionsOnly:v,expandedView:x}=t,$=v?styles$1$i.fractionsGrid:styles$1$i.expressionGrid;return reactExports.useEffect(()=>{i(r)},[v,r]),reactExports.useEffect(()=>(o||(b({type:"math-input:keypad-opened",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),a(!0)),()=>{o&&(b({type:"math-input:keypad-closed",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),a(!1))}),[b,o]),jsxRuntimeExports.jsx(View$2,{style:x?styles$1$i.keypadOuterContainer:null,children:jsxRuntimeExports.jsxs(View$2,{style:[styles$1$i.wrapper,x?styles$1$i.expandedWrapper:null],children:[jsxRuntimeExports.jsx(Tabbar,{items:s,selectedItem:n,onSelectItem:e=>{i(e)},onClickClose:y?()=>l("DISMISS"):void 0}),jsxRuntimeExports.jsxs(View$2,{style:styles$1$i.keypadInnerContainer,children:[jsxRuntimeExports.jsxs(View$2,{style:[styles$1$i.keypadGrid,$],"aria-label":"Keypad",children:["Fractions"===n&&jsxRuntimeExports.jsx(FractionsPage,{onClickKey:l,cursorContext:c}),"Numbers"===n&&jsxRuntimeExports.jsx(NumbersPage,{onClickKey:l,scientific:g}),"Extras"===n&&jsxRuntimeExports.jsx(ExtrasPage,{onClickKey:l,extraKeys:e}),"Operators"===n&&jsxRuntimeExports.jsx(OperatorsPage,{onClickKey:l,preAlgebra:h,logarithms:p,basicRelations:f,advancedRelations:m}),"Geometry"===n&&jsxRuntimeExports.jsx(GeometryPage,{onClickKey:l}),!v&&jsxRuntimeExports.jsx(SharedKeys,{onClickKey:l,cursorContext:c,convertDotToTimes:u,divisionKey:d,selectedPage:n})]}),x&&jsxRuntimeExports.jsx(NavigationPad,{onClickKey:l})]})]})})}const styles$1$i=StyleSheet.create({keypadOuterContainer:{display:"flex",alignItems:"center"},wrapper:{background:color$1$2.white},expandedWrapper:{borderWidth:"1px 1px 0 1px",borderColor:color$1$2.offBlack32,maxWidth:expandedViewThreshold,borderRadius:"3px 3px 0 0"},keypadInnerContainer:{display:"flex",flexDirection:"row",backgroundColor:"#DBDCDD",direction:"ltr"},keypadGrid:{display:"grid",gridTemplateRows:"repeat(4, 1fr)",flex:1},expressionGrid:{gridTemplateColumns:"repeat(6, 1fr)"},fractionsGrid:{gridTemplateColumns:"repeat(5, 1fr)"}});function flatten$1(e){const t=[];if(!e)return t;if(Array.isArray(e))for(const r of e)t.push(...flatten$1(r));else t.push(e);return t}function processStyleType(t){const r=[],n=[];if(!t)return{style:{},className:""};const i="undefined"!=typeof globalThis&&globalThis.SNAPSHOT_INLINE_APHRODITE;flatten$1(t).forEach(t=>{const o=t._definition;if(null!=o)if(i){const t={};for(const[r,n]of e(o))t[r.replace(/-[a-z]/g,e=>e[1].toUpperCase())]=n;n.push(t)}else r.push(t);else n.push(t)});const o=Object.assign({},...n);if(n.length>0&&!i){const e=StyleSheet.create({inlineStyles:o});r.push(e.inlineStyles)}return{style:i?o:{},className:css(...r)}}class TransitionChild extends reactExports.Component{static getDerivedStateFromProps({in:e},t){return e&&"unmounted"===t.status?{status:"mounted"}:null}componentDidMount(){this._isMounted=!0,"number"==typeof this.props.appearTimeout?this.transition("appear",this.props.appearTimeout):this.transition("enter",this.props.enterTimeout)}componentDidUpdate(e,t){e.in&&!this.props.in?this.transition("leave",this.props.leaveTimeout):!e.in&&this.props.in&&this.transition("enter",this.props.enterTimeout),"mounted"!==t.status&&"mounted"===this.state.status&&this.setState({status:"unmounted"})}componentWillUnmount(){this._isMounted=!1,this.props.schedule.clearAll()}removeAllClasses(e){for(const t of this.appliedClassNames)this.removeClass(e,t)}transition(e,t){const r=ReactDOM.findDOMNode(this);if(!(r instanceof Element))return;this.removeAllClasses(r),this.props.schedule.clearAll();const n="function"==typeof this.props.transitionStyles?this.props.transitionStyles():this.props.transitionStyles,{className:i}=processStyleType(n[e]),{className:o}=processStyleType([n[e],n[e+"Active"]]);this.addClass(r,i),this.queueClass(i,o),"leave"===e&&this.props.schedule.timeout(()=>{this._isMounted&&this.setState({status:"unmounted"})},t||0)}queueClass(e,t){this.classNameQueue.push([e,t]),this.props.schedule.timeout(this.flushClassNameQueue,0)}render(){const{status:e}=this.state;return"unmounted"===e?null:this.props.children}constructor(e){super(e),this._isMounted=!1,this.addClass=(e,t)=>{t&&(e.classList.add(t),this.appliedClassNames.add(t))},this.removeClass=(e,t)=>{t&&(e.classList.remove(t),this.appliedClassNames.delete(t))},this.flushClassNameQueue=()=>{if(this._isMounted){const e=ReactDOM.findDOMNode(this);e instanceof Element&&this.classNameQueue.forEach(([t,r])=>{this.removeClass(e,t),this.addClass(e,r)})}this.classNameQueue.length=0},this._isMounted=!1,this.classNameQueue=[],this.appliedClassNames=new Set,this.state={status:"mounted"}}}withActionScheduler(TransitionChild),StyleSheet.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed",borderStyle:"solid",borderWidth:1,borderColor:semanticColor$3.core.border.neutral.subtle}});const keypadElementPropType=PropTypes.shape({activate:PropTypes.func.isRequired,dismiss:PropTypes.func.isRequired,configure:PropTypes.func.isRequired,setCursor:PropTypes.func.isRequired,setKeyHandler:PropTypes.func.isRequired,getDOMNode:PropTypes.func.isRequired}),common$2={display:"block"},Heading$1$2={...common$2,fontFamily:font$3.family.sans},BodyText$1$2={...common$2,fontFamily:font$3.family.sans,margin:0},styles$B=StyleSheet.create({Title:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.black,[breakpoint$2.mediaQuery.xl]:{fontSize:font$3.size.xxxLarge,lineHeight:font$3.lineHeight.xxxLarge},[breakpoint$2.mediaQuery.mdOrSmaller]:{fontSize:font$3.size.xxLarge,lineHeight:font$3.lineHeight.xxLarge}},Tagline:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.large,lineHeight:font$3.lineHeight.large},Heading:Heading$1$2,HeadingSmallBoldWeight:{...Heading$1$2,fontSize:font$3.heading.size.small,fontWeight:font$3.weight.bold,lineHeight:font$3.heading.lineHeight.small},HeadingSmallSemiWeight:{...Heading$1$2,fontSize:font$3.heading.size.small,fontWeight:font$3.weight.semi,lineHeight:font$3.heading.lineHeight.small},HeadingSmallMediumWeight:{...Heading$1$2,fontSize:font$3.heading.size.small,fontWeight:font$3.weight.medium,lineHeight:font$3.heading.lineHeight.small},HeadingMediumBoldWeight:{...Heading$1$2,fontSize:font$3.heading.size.medium,fontWeight:font$3.weight.bold,lineHeight:font$3.heading.lineHeight.medium},HeadingMediumSemiWeight:{...Heading$1$2,fontSize:font$3.heading.size.medium,fontWeight:font$3.weight.semi,lineHeight:font$3.heading.lineHeight.medium},HeadingMediumMediumWeight:{...Heading$1$2,fontSize:font$3.heading.size.medium,fontWeight:font$3.weight.medium,lineHeight:font$3.heading.lineHeight.medium},HeadingLargeBoldWeight:{...Heading$1$2,fontSize:font$3.heading.size.large,fontWeight:font$3.weight.bold,lineHeight:font$3.heading.lineHeight.large},HeadingLargeSemiWeight:{...Heading$1$2,fontSize:font$3.heading.size.large,fontWeight:font$3.weight.semi,lineHeight:font$3.heading.lineHeight.large},HeadingLargeMediumWeight:{...Heading$1$2,fontSize:font$3.heading.size.large,fontWeight:font$3.weight.medium,lineHeight:font$3.heading.lineHeight.large},HeadingXLargeBoldWeight:{...Heading$1$2,fontSize:font$3.heading.size.xlarge,fontWeight:font$3.weight.bold,lineHeight:font$3.heading.lineHeight.xlarge},HeadingXLargeMediumWeight:{...Heading$1$2,fontSize:font$3.heading.size.xlarge,fontWeight:font$3.weight.medium,lineHeight:font$3.heading.lineHeight.xlarge},HeadingXLargeSemiWeight:{...Heading$1$2,fontSize:font$3.heading.size.xlarge,fontWeight:font$3.weight.semi,lineHeight:font$3.heading.lineHeight.xlarge},HeadingXxLargeSemiWeight:{...Heading$1$2,fontSize:font$3.heading.size.xxlarge,fontWeight:font$3.weight.semi,lineHeight:font$3.heading.lineHeight.xxlarge},HeadingXxLargeBoldWeight:{...Heading$1$2,fontSize:font$3.heading.size.xxlarge,fontWeight:font$3.weight.bold,lineHeight:font$3.heading.lineHeight.xxlarge},BodyText:BodyText$1$2,BodyTextXSmallMediumWeight:{...BodyText$1$2,fontSize:font$3.body.size.xsmall,fontWeight:font$3.weight.medium,lineHeight:font$3.body.lineHeight.xsmall},BodyTextXSmallSemiWeight:{...BodyText$1$2,fontSize:font$3.body.size.xsmall,fontWeight:font$3.weight.semi,lineHeight:font$3.body.lineHeight.xsmall},BodyTextXSmallBoldWeight:{...BodyText$1$2,fontSize:font$3.body.size.xsmall,fontWeight:font$3.weight.bold,lineHeight:font$3.body.lineHeight.xsmall},BodyTextSmallMediumWeight:{...BodyText$1$2,fontSize:font$3.body.size.small,fontWeight:font$3.weight.medium,lineHeight:font$3.body.lineHeight.small},BodyTextSmallSemiWeight:{...BodyText$1$2,fontSize:font$3.body.size.small,fontWeight:font$3.weight.semi,lineHeight:font$3.body.lineHeight.small},BodyTextSmallBoldWeight:{...BodyText$1$2,fontSize:font$3.body.size.small,fontWeight:font$3.weight.bold,lineHeight:font$3.body.lineHeight.small},BodyTextMediumMediumWeight:{...BodyText$1$2,fontSize:font$3.body.size.medium,fontWeight:font$3.weight.medium,lineHeight:font$3.body.lineHeight.medium},BodyTextMediumSemiWeight:{...BodyText$1$2,fontSize:font$3.body.size.medium,fontWeight:font$3.weight.semi,lineHeight:font$3.body.lineHeight.medium},BodyTextMediumBoldWeight:{...BodyText$1$2,fontSize:font$3.body.size.medium,fontWeight:font$3.weight.bold,lineHeight:font$3.body.lineHeight.medium},HeadingLarge:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.bold,[breakpoint$2.mediaQuery.xl]:{fontSize:font$3.size.xxLarge,lineHeight:font$3.lineHeight.xxLarge},[breakpoint$2.mediaQuery.mdOrSmaller]:{fontSize:font$3.size.xLarge,lineHeight:font$3.lineHeight.xLarge}},HeadingMedium:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.bold,[breakpoint$2.mediaQuery.xl]:{fontSize:font$3.size.xLarge,lineHeight:font$3.lineHeight.xLarge},[breakpoint$2.mediaQuery.mdOrSmaller]:{fontSize:"2.2rem",lineHeight:"2.6rem"}},HeadingSmall:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.bold,fontSize:font$3.size.large,lineHeight:font$3.lineHeight.large},HeadingXSmall:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.bold,fontSize:font$3.size.xSmall,lineHeight:font$3.lineHeight.xSmall,letterSpacing:.6,textTransform:"uppercase"},BodySerifBlock:{...common$2,fontFamily:font$3.family.serif,fontWeight:font$3.weight.medium,fontSize:font$3.size.large,lineHeight:font$3.lineHeight.large},BodySerif:{...common$2,fontFamily:font$3.family.serif,fontWeight:font$3.weight.medium,fontSize:font$3.size.medium,lineHeight:font$3.size.medium},BodyMonospace:{...common$2,fontFamily:font$3.family.mono,fontWeight:font$3.weight.medium,fontSize:font$3.size.medium,lineHeight:font$3.lineHeight.medium},Body:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.medium,lineHeight:font$3.lineHeight.xMedium},LabelLarge:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.bold,fontSize:font$3.size.medium,lineHeight:font$3.lineHeight.medium},LabelMedium:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.medium,lineHeight:font$3.lineHeight.medium},LabelSmall:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.small,lineHeight:font$3.lineHeight.small},LabelXSmall:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.xSmall,lineHeight:font$3.lineHeight.xSmall},Caption:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.small,lineHeight:font$3.lineHeight.medium},Footnote:{...common$2,fontFamily:font$3.family.sans,fontWeight:font$3.weight.medium,fontSize:font$3.size.xSmall,lineHeight:font$3.lineHeight.small}});reactExports.forwardRef(function({style:e,children:t,tag:r="h1",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.Title,e],ref:i,children:t})});const tagMap$2={xxlarge:"h1",xlarge:"h2",large:"h3",medium:"h4",small:"h4"},styleMapping$1$2={"small-medium":styles$B.HeadingSmallMediumWeight,"small-semi":styles$B.HeadingSmallSemiWeight,"small-bold":styles$B.HeadingSmallBoldWeight,"medium-medium":styles$B.HeadingMediumMediumWeight,"medium-semi":styles$B.HeadingMediumSemiWeight,"medium-bold":styles$B.HeadingMediumBoldWeight,"large-medium":styles$B.HeadingLargeMediumWeight,"large-semi":styles$B.HeadingLargeSemiWeight,"large-bold":styles$B.HeadingLargeBoldWeight,"xlarge-medium":styles$B.HeadingXLargeMediumWeight,"xlarge-semi":styles$B.HeadingXLargeSemiWeight,"xlarge-bold":styles$B.HeadingXLargeBoldWeight,"xxlarge-medium":styles$B.HeadingXxLargeMediumWeight,"xxlarge-semi":styles$B.HeadingXxLargeSemiWeight,"xxlarge-bold":styles$B.HeadingXxLargeBoldWeight},Heading=reactExports.forwardRef(function(e,t){const{size:r,weight:n="bold",style:i,children:o,tag:a,...s}=e,l=r??"large",c=a??(r?tagMap$2[r]:"h2"),u=styleMapping$1$2[`${l}-${n}`];return jsxRuntimeExports$1.jsx(Text$4,{...s,tag:c,style:[styles$B.Heading,u,i],ref:t,children:o})});reactExports.forwardRef(function({style:e,children:t,tag:r="h2",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.HeadingLarge,e],ref:i,children:t})});const HeadingMedium=reactExports.forwardRef(function({style:e,children:t,tag:r="h3",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.HeadingMedium,e],ref:i,children:t})}),HeadingSmall=reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.HeadingSmall,e],ref:i,children:t})});reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.HeadingXSmall,e],ref:i,children:t})});const styleMapping$3={"xsmall-medium":styles$B.BodyTextXSmallMediumWeight,"xsmall-semi":styles$B.BodyTextXSmallSemiWeight,"xsmall-bold":styles$B.BodyTextXSmallBoldWeight,"small-medium":styles$B.BodyTextSmallMediumWeight,"small-semi":styles$B.BodyTextSmallSemiWeight,"small-bold":styles$B.BodyTextSmallBoldWeight,"medium-medium":styles$B.BodyTextMediumMediumWeight,"medium-semi":styles$B.BodyTextMediumSemiWeight,"medium-bold":styles$B.BodyTextMediumBoldWeight},BodyText$3=reactExports.forwardRef(function({size:e="medium",weight:t="medium",style:r,children:n,tag:i="p",...o},a){const s=styleMapping$3[`${e}-${t}`];return jsxRuntimeExports$1.jsx(Text$4,{...o,tag:i,style:[styles$B.BodyText,s,r],ref:a,children:n})});reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.BodySerifBlock,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.BodySerif,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.BodyMonospace,e],ref:i,children:t})});const Body=reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.Body,e],ref:i,children:t})}),LabelLarge=reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.LabelLarge,e],ref:i,children:t})}),LabelMedium=reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.LabelMedium,e],ref:i,children:t})}),LabelSmall=reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.LabelSmall,e],ref:i,children:t})});reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.LabelXSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.Tagline,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.Caption,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$B.Footnote,e],ref:i,children:t})});const focus$2={":focus-visible":{boxShadow:`0 0 0 ${border$3.width.medium} ${semanticColor$3.focus.inner}`,outline:`${border$3.width.medium} solid ${semanticColor$3.focus.outer}`,outlineOffset:border$3.width.medium}};var focusStyles$2=Object.freeze({__proto__:null,focus:focus$2});const pressColor=`color-mix(in srgb, ${semanticColor$3.core.border.neutral.default} 55%, ${semanticColor$3.core.border.knockout.default})`,inverse={":not([aria-disabled=true])":{borderColor:semanticColor$3.core.border.knockout.default,color:semanticColor$3.core.foreground.knockout.default},":hover:not([aria-disabled=true])":{color:semanticColor$3.core.foreground.knockout.default,borderColor:semanticColor$3.core.border.knockout.default},...focus$2,":active:not([aria-disabled=true])":{borderRadius:border$3.radius.radius_080,borderColor:pressColor,background:`color-mix(in srgb, ${semanticColor$3.core.background.base.default} 5%, transparent)`}};var actionStyles=Object.freeze({__proto__:null,inverse:inverse});const xIcon$1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z'/%3e%3c/svg%3e";function getSize$1$3(e){switch(e){case"small":default:return styles$1$h.small;case"medium":return styles$1$h.medium;case"large":return styles$1$h.large;case"xlarge":return styles$1$h.xlarge}}const StyledDiv$4=addStyle$1("div");reactExports.forwardRef((e,t)=>{const{size:r="small",id:n,testId:i,style:o,children:a,...s}=e,l=reactExports.cloneElement(a,{style:{width:"100%",height:"100%"}});return jsxRuntimeExports$1.jsx(StyledDiv$4,{style:[getSize$1$3(r),o],id:n,"data-testid":i,ref:t,...s,children:l})});const styles$1$h=StyleSheet.create({small:{width:sizing$3.size_160,height:sizing$3.size_160},medium:{width:sizing$3.size_240,height:sizing$3.size_240},large:{width:sizing$3.size_480,height:sizing$3.size_480},xlarge:{width:sizing$3.size_960,height:sizing$3.size_960}}),StyledSpan$5=addStyle$1("span"),PhosphorIcon$3=reactExports.forwardRef(function(e,t){const{color:r="currentColor",icon:n,size:i="small",style:o,testId:a,className:s,role:l,...c}=e,u=getSize$4(i),d=`${s??""}`;return jsxRuntimeExports$1.jsx(StyledSpan$5,{...c,className:d,style:[styles$A.svg,u,{backgroundColor:r,maskImage:`url(${n})`},o],"data-testid":a,ref:t,role:l??c["aria-label"]?"img":void 0})});function getSize$4(e){switch(e){case"small":default:return styles$A.small;case"medium":return styles$A.medium;case"large":return styles$A.large;case"xlarge":return styles$A.xlarge}}const styles$A=StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"},small:{width:sizing$3.size_160,height:sizing$3.size_160},medium:{width:sizing$3.size_240,height:sizing$3.size_240},large:{width:sizing$3.size_480,height:sizing$3.size_480},xlarge:{width:sizing$3.size_960,height:sizing$3.size_960}});function useImageRoleAttributes$3(e){const{"aria-label":t,"aria-labelledby":r}=e;return t||r?{"aria-label":t,"aria-labelledby":r,role:"img"}:{"aria-hidden":!0}}PhosphorIcon$3.displayName="PhosphorIcon";const StyledSvg$1$3=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$3({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$1$3,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M1.246 5.38105L2.36444 3.66654C2.63609 3.25012 3.0934 3 3.58311 3H12.4169C12.9066 3 13.3639 3.25012 13.6356 3.66654L14.754 5.38105C15.1278 5.95411 15.0708 6.71389 14.6158 7.22195L9.08044 13.4027C8.49982 14.051 7.50018 14.051 6.91956 13.4027L1.38423 7.22195C0.929229 6.71389 0.872177 5.95411 1.246 5.38105Z",fill:semanticColor$3.learning.foreground.gems.default}),jsxRuntimeExports$1.jsx("path",{d:"M9.45654 7.01492L8.34027 10.0102C8.07911 10.711 8.97464 11.2595 9.48018 10.7084L12.6345 7.26989C13.0351 6.83317 12.7253 6.12858 12.1327 6.12858H10.7327C10.164 6.12858 9.65515 6.48199 9.45654 7.01492Z",fill:semanticColor$3.learning.foreground.gems.subtle})]})});const StyledSvg$4=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$3({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$4,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M9.14653 0.628361C9.07012 0.571421 8.97956 0.531782 8.88248 0.512785C8.78539 0.493787 8.68464 0.49599 8.5887 0.519205C8.49277 0.542421 8.40447 0.585969 8.33125 0.64618C8.25802 0.70639 8.20202 0.781496 8.16797 0.865168L5.47556 5.06034L4.59152 3.43463C4.52866 3.37998 4.45359 3.33789 4.37125 3.31114C4.28892 3.28438 4.2012 3.27357 4.11387 3.27941C4.02653 3.28525 3.94157 3.30761 3.86458 3.34502C3.78759 3.38243 3.72032 3.43403 3.66719 3.49644C1.98899 5.46729 1.13672 7.44994 1.13672 9.38884C1.13672 11.0096 1.85506 12.564 3.13372 13.7101C4.41238 14.8561 6.14661 15.5 7.9549 15.5C9.7632 15.5 11.4974 14.8561 12.7761 13.7101C14.0547 12.564 14.7731 11.0096 14.7731 9.38884C14.7731 5.26034 10.8379 1.88879 9.14653 0.628361Z",fill:semanticColor$3.learning.foreground.streaks.default}),jsxRuntimeExports$1.jsx("path",{d:"M10.8067 10.5315C10.8067 12.0965 9.53809 13.3651 7.97318 13.3651C6.40826 13.3651 5.13965 12.0965 5.13965 10.5315C5.13965 8.96663 7.2648 6.28125 7.97318 6.28125C8.68156 6.28125 10.8067 8.96663 10.8067 10.5315Z",fill:semanticColor$3.learning.foreground.streaks.subtle})]})});var themeDefault$d={iconButton:{root:{border:{offset:{primary:border$3.width.medium,secondary:`calc(-1 * ${border$3.width.medium})`,tertiary:`calc(-1 * ${border$3.width.medium})`},width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.medium,press:border$3.width.medium},tertiary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium}},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{xsmall:sizing$3.size_240,small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_480}},icon:{sizing:{xsmall:sizing$3.size_160,small:sizing$3.size_240,medium:sizing$3.size_240,large:sizing$3.size_240}}}},iconButtonTheme$5=mapValuesToCssVars$2(themeDefault$d,"--wb-c-icon-button-");const StyledA$c=addStyle$1("a"),StyledButton$b=addStyle$1("button"),StyledLink$c=addStyle$1(Link$2),IconButtonUnstyled$5=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$8.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$c,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$c,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$b,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$8=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$9=iconButtonTheme$5.iconButton;function IconChooser$5({icon:e,size:t}){const r={width:theme$2$9.icon.sizing[t],height:theme$2$9.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:e,style:r})}const IconButton$4=reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$6(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$5,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser$5,{size:a,icon:i})})}),styles$2$e={},_generateStyles$2$6=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$e[i])return styles$2$e[i];const o=theme$2$9.root.border.width[r],a=theme$2$9.root.border.offset[r],s=semanticColor$3.action[r][e],l=semanticColor$3.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$9.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$9.root.sizing[n],width:theme$2$9.root.sizing[n],borderRadius:theme$2$9.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$9.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$9.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$9.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$e[i]=StyleSheet.create(d),styles$2$e[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",styles:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$9(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a?.root],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed,a?.box],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$5,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View$2,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[p.label,a?.label],children:c})]})})});const theme$1$c={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},layout:{inlineSize:sizing$3.size_640}}},styles$1$g={},_generateStyles$1$9=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$g[n])return styles$1$g[n];const i=theme$1$c.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$c.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$c.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$c.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$c.root.border.radius,color:theme$1$c.label.color[e],flexDirection:"column",gap:sizing$3.size_020,maxInlineSize:200,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$c.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$c.root.shadow.y.hover} - ${theme$1$c.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},disabled:{cursor:"not-allowed",color:theme$1$c.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$c.root.border.radius,marginBlockEnd:theme$1$c.root.shadow.y.rest,paddingBlock:theme$1$c.root.layout.padding.block,paddingInline:theme$1$c.root.layout.padding.inline,inlineSize:theme$1$c.label.layout.inlineSize,justifyContent:"center",alignItems:"center",background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$c.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$g[n]=StyleSheet.create(u),styles$1$g[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$b(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$5,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles$5.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:i})})});const staticStyles$5=StyleSheet.create({icon:{width:sizing$3.size_160,height:sizing$3.size_160}}),styles$z={},theme$i={root:{border:{radius:border$3.radius.radius_full,width:{primary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},tertiary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium}}},layout:{padding:sizing$3.size_100},sizing:{default:sizing$3.size_360}}},_generateStyles$b=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$z[n])return styles$z[n];const i=theme$i.root.border.width[r],o=semanticColor$3.action[r][e],a=semanticColor$3.action[r].disabled,s={padding:theme$i.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$i.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$i.root.border.radius,padding:theme$i.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$i.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$z[n]=StyleSheet.create(c),styles$z[n]},ModalLauncherPortalAttributeName="data-modal-launcher-portal",height={smMin:500},width$2={mid:767},modalMediaQuery={midOrSmaller:`@media screen and (max-width: ${width$2.mid}px) /* breakpoint.mediaQuery.midOrSmaller */`,smMinOrSmallerHeight:`@media screen and (max-height:${height.smMin}px)`},theme$1$b={root:{border:{radius:border$3.radius.radius_040}},dialog:{layout:{padding:sizing$3.size_160},shadow:{default:"none"}},header:{layout:{padding:{block:sizing$3.size_240,inline:{default:sizing$3.size_320,small:sizing$3.size_160}},gap:{default:sizing$3.size_080,title:{default:sizing$3.size_160,small:sizing$3.size_320}}}},panel:{layout:{gap:{default:sizing$3.size_320,small:sizing$3.size_160}}},footer:{layout:{padding:{inline:sizing$3.size_160,block:sizing$3.size_080}}},closeButton:{layout:{gapRight:sizing$3.size_080,gapTop:sizing$3.size_080}}};var theme$h=mapValuesToCssVars$2(theme$1$b,"--wb-c-modal-");const ModalDialog=reactExports.forwardRef(function(e,t){const{above:r,below:n,role:i="dialog",style:o,children:a,testId:s,"aria-label":l,"aria-labelledby":c,"aria-describedby":u}=e;return jsxRuntimeExports$1.jsxs(View$2,{style:[componentStyles$2.wrapper,o],children:[n&&jsxRuntimeExports$1.jsx(View$2,{style:componentStyles$2.below,children:n}),jsxRuntimeExports$1.jsx(View$2,{role:i,"aria-modal":"true","aria-label":l,"aria-labelledby":c,"aria-describedby":u,ref:t,style:[componentStyles$2.dialog],testId:s,children:a}),r&&jsxRuntimeExports$1.jsx(View$2,{style:componentStyles$2.above,children:r})]})}),componentStyles$2=StyleSheet.create({wrapper:{color:semanticColor$3.core.foreground.neutral.strong,flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",boxShadow:theme$h.dialog.shadow.default,borderRadius:theme$h.root.border.radius,[modalMediaQuery.midOrSmaller]:{padding:theme$h.dialog.layout.padding,flexDirection:"column"},[modalMediaQuery.smMinOrSmallerHeight]:{overflow:"auto"}},dialog:{width:"100%",height:"100%",borderRadius:theme$h.root.border.radius,overflow:"hidden",[modalMediaQuery.smMinOrSmallerHeight]:{overflow:"auto"}},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});ModalDialog.displayName="ModalDialog",StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:sizing$3.size_640,paddingInline:theme$h.footer.layout.padding.inline,paddingBlock:theme$h.footer.layout.padding.block,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${semanticColor$3.core.border.neutral.subtle}`}}),StyleSheet.create({header:{boxShadow:`0px 1px 0px ${semanticColor$3.core.border.neutral.subtle}`,display:"flex",flexDirection:"column",minHeight:66,paddingBlock:theme$h.header.layout.padding.block,paddingInline:theme$h.header.layout.padding.inline.default,position:"relative",width:"100%",[modalMediaQuery.midOrSmaller]:{paddingInline:theme$h.header.layout.padding.inline.small},[modalMediaQuery.smMinOrSmallerHeight]:{minHeight:"unset"}},breadcrumbs:{color:semanticColor$3.core.foreground.neutral.default,marginBlockEnd:theme$h.header.layout.gap.default},title:{paddingInlineEnd:theme$h.header.layout.gap.title.default,[modalMediaQuery.midOrSmaller]:{paddingInlineEnd:theme$h.header.layout.gap.title.small}},subtitle:{color:semanticColor$3.core.foreground.neutral.default,marginBlockStart:theme$h.header.layout.gap.default}});const FOCUSABLE_ELEMENTS$1='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',FocusTrap=({children:e,style:t})=>{const r=reactExports.useRef(null),n=reactExports.useCallback(e=>{if(e instanceof HTMLElement){try{e.focus()}catch(e2){}return document.activeElement===e}},[]),i=reactExports.useCallback(e=>{if(!r.current)return;const t=r.current,i=Array.from(t.querySelectorAll(FOCUSABLE_ELEMENTS$1)).filter(e=>{const t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}),o=i[e?0:i.length-1];n(o)},[n]),o=reactExports.useCallback(()=>{i(!1)},[i]),a=reactExports.useCallback(()=>{i(!0)},[i]),s=reactExports.useCallback(e=>{if(!e)return;const t=reactDomExports.findDOMNode(e);if(!t)throw new Error("Assertion error: modal root should exist after mount");r.current=t},[]);return jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:o,style:{position:"fixed"}}),jsxRuntimeExports$1.jsx(View$2,{style:t,ref:s,children:e}),jsxRuntimeExports$1.jsx("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:a,style:{position:"fixed"}})]})},FOCUSABLE_ELEMENTS$2="a[href], details, input, textarea, select, button";function findFocusableNodes$1(e){return Array.from(e.querySelectorAll(FOCUSABLE_ELEMENTS$2))}const getInitialFocusElement=(e,t)=>t?reactDomExports.findDOMNode(e.querySelector(`#${t}`)):null,getFirstFocusableElement=e=>{const t=findFocusableNodes$1(e);return t?t[0]:null},getDialogElement=e=>{const t=reactDomExports.findDOMNode(e.querySelector('[role="dialog"]'));return t?.setAttribute("tabindex","-1"),t},ModalBackdrop=({children:e,initialFocusId:t,onCloseModal:r,testId:n})=>{const i=reactExports.useRef(null),[o,a]=reactExports.useState(!1);reactExports.useEffect(()=>{const e=reactDomExports.findDOMNode(i.current);if(!e)return;const r=getInitialFocusElement(e,t)||getFirstFocusableElement(e)||getDialogElement(e);setTimeout(()=>{r?.focus()},0)},[t]);const s=reactExports.useCallback(e=>{a(e.target===e.currentTarget)},[]),l=reactExports.useCallback(e=>{e.target===e.currentTarget&&o&&r(),a(!1)},[o,r]),c={[ModalLauncherPortalAttributeName]:!0};return jsxRuntimeExports$1.jsx(View$2,{ref:i,style:styles$5$3.modalPositioner,onMouseDown:s,onMouseUp:l,testId:n,...c,children:e})},styles$5$3=StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:semanticColor$3.core.background.overlay.default}}),needsHackyMobileSafariScrollDisabler=(()=>{if("undefined"==typeof window)return!1;const e=window.navigator.userAgent;return e.indexOf("iPad")>-1||e.indexOf("iPhone")>-1})();let numModalsOpened=0,oldOverflow,oldPosition,oldScrollY,oldWidth,oldTop;const ScrollDisabler=e=>(reactExports.useEffect(()=>{if(0===numModalsOpened){const e=document.body;if(!e)throw new Error("couldn't find document.body");oldOverflow=e.style.overflow,oldScrollY=window.scrollY,needsHackyMobileSafariScrollDisabler&&(oldPosition=e.style.position,oldWidth=e.style.width,oldTop=e.style.top),e.style.overflow="hidden",needsHackyMobileSafariScrollDisabler&&(e.style.position="fixed",e.style.width="100%",e.style.top=-oldScrollY+"px")}return numModalsOpened++,()=>{if(numModalsOpened--,0===numModalsOpened){const e=document.body;if(!e)throw new Error("couldn't find document.body");e.style.overflow=oldOverflow,needsHackyMobileSafariScrollDisabler&&(e.style.position=oldPosition,e.style.width=oldWidth,e.style.top=oldTop),"undefined"!=typeof window&&window.scrollTo&&window.scrollTo(0,oldScrollY)}}},[]),null),defaultContext$2={closeModal:void 0},ModalContext=reactExports.createContext(defaultContext$2);ModalContext.displayName="ModalContext";const ModalLauncher=e=>{const{backdropDismissEnabled:t=!0,children:r,closedFocusId:n,initialFocusId:i,modal:o,onClose:a,opened:s,schedule:l,testId:c}=e,u=reactExports.useRef(null),[d,h]=reactExports.useState(!1),p="boolean"==typeof s?s:d;reactExports.useEffect(()=>{},[s,r,a]);const f=reactExports.useCallback(()=>{u.current=document.activeElement},[]);reactExports.useEffect(()=>{!d&&s&&f()},[s,d,f]);const m=reactExports.useCallback(()=>{f(),h(!0)},[f]),g=reactExports.useCallback(()=>{if(n){const e=reactDomExports.findDOMNode(document.getElementById(n));if(e)return void l.animationFrame(()=>e.focus(),{schedulePolicy:SchedulePolicy.Immediately,clearPolicy:ClearPolicy.Resolve})}const e=u.current;null!=e&&l.animationFrame(()=>{e.focus()})},[n,l]),y=reactExports.useCallback(()=>{h(!1),a?.(),g()},[a,g]),b=reactExports.useCallback(()=>"function"==typeof o?o({closeModal:y}):o,[o,y]),v=r?r({openModal:m}):null,{body:x}=document;return x?jsxRuntimeExports$1.jsxs(ModalContext.Provider,{value:{closeModal:y},children:[v,p&&reactDomExports.createPortal(jsxRuntimeExports$1.jsx(FocusTrap,{style:styles$4$3.container,children:jsxRuntimeExports$1.jsx(ModalBackdrop,{initialFocusId:i,testId:c,onCloseModal:t?y:()=>{},children:b()})}),x),p&&jsxRuntimeExports$1.jsx(ModalLauncherKeypressListener,{onClose:y}),p&&jsxRuntimeExports$1.jsx(ScrollDisabler,{})]}):null},ModalLauncherKeypressListener=({onClose:e})=>{const t=reactExports.useCallback(t=>{"Escape"===t.key&&(t.preventDefault(),t.stopPropagation(),e())},[e]);return reactExports.useEffect(()=>(window.addEventListener("keyup",t),()=>{window.removeEventListener("keyup",t)}),[t]),null},styles$4$3=StyleSheet.create({container:{zIndex:1080}});function ModalContent(e){const{scrollOverflow:t,style:r,children:n}=e;return jsxRuntimeExports$1.jsx(View$2,{style:[styles$3$7.wrapper,t&&styles$3$7.scrollOverflow],children:jsxRuntimeExports$1.jsx(View$2,{style:[styles$3$7.content,r],children:n})})}withActionScheduler(ModalLauncher),ModalContent.__IS_MODAL_CONTENT__=!0,ModalContent.isComponentOf=e=>e&&e.type&&e.type.__IS_MODAL_CONTENT__;const styles$3$7=StyleSheet.create({wrapper:{flex:1,display:"block",[modalMediaQuery.smMinOrSmallerHeight]:{flex:"unset",minHeight:"unset",overflow:"unset"}},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:theme$h.panel.layout.gap.default,boxSizing:"border-box",[modalMediaQuery.midOrSmaller]:{paddingInline:theme$h.panel.layout.gap.small},[modalMediaQuery.smMinOrSmallerHeight]:{flex:"unset",minHeight:"unset",overflow:"unset"}}});ModalContent.defaultProps={scrollOverflow:!0};const CloseButton$1=({onClick:e,style:t,testId:r})=>jsxRuntimeExports$1.jsx(ModalContext.Consumer,{children:({closeModal:n})=>{if(n&&e)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return jsxRuntimeExports$1.jsx(IconButton$4,{icon:xIcon$1,"aria-label":"Close modal",onClick:e||n,kind:"tertiary",actionType:"neutral",style:t,testId:r})}});function FlexiblePanel({closeButtonVisible:e=!0,content:t,title:r,onClose:n,styles:i,testId:o}){const a=reactExports.useRef(null),s=reactExports.useCallback(()=>{const e="function"==typeof t?t({title:r}):jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[r,t]}),n=ModalContent.isComponentOf(e)?e:jsxRuntimeExports$1.jsx(ModalContent,{style:i?.content,children:e});return n?reactExports.cloneElement(n,{style:[n.props.style]}):n},[r,t,i?.content])(),l={...{backgroundColor:semanticColor$3.core.background.base.default},...i?.panel};return jsxRuntimeExports$1.jsxs(View$2,{style:[componentStyles$1.wrapper,l],testId:o&&`${o}-panel`,ref:a,children:[e&&jsxRuntimeExports$1.jsx(CloseButton$1,{onClick:n,style:[componentStyles$1.closeButton,i?.closeButton],testId:o&&`${o}-close`}),s]})}StyleSheet.create({wrapper:{flex:"1 1 auto",flexDirection:"column",background:semanticColor$3.core.background.base.default,boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%",[modalMediaQuery.smMinOrSmallerHeight]:{overflow:"auto"}},closeButton:{position:"absolute",insetInlineEnd:theme$h.closeButton.layout.gapRight,top:theme$h.closeButton.layout.gapTop,zIndex:1,":focus":focusStyles$2.focus[":focus-visible"]},hasFooter:{paddingBlockEnd:theme$h.panel.layout.gap.default}}),StyleSheet.create({dialog:{maxInlineSize:576,width:"93.75%",height:"81.25%",maxBlockSize:624,[modalMediaQuery.midOrSmaller]:{width:"100%",height:"100%",overflow:"hidden"}}}),FlexiblePanel.defaultProps={closeButtonVisible:!0};const componentStyles$1=StyleSheet.create({wrapper:{flex:"1 1 auto",flexDirection:"column",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",insetInlineEnd:theme$h.closeButton.layout.gapRight,top:theme$h.closeButton.layout.gapTop,zIndex:1,":focus":focusStyles$2.focus[":focus-visible"]}}),FlexibleDialog=reactExports.forwardRef(function(e,t){const{onClose:r,title:n,content:i,styles:o,closeButtonVisible:a=!0,testId:s,titleId:l,role:c="dialog",...u}=e,d=reactExports.useId(),h=l??d,p=null==n?null:"string"==typeof n?jsxRuntimeExports$1.jsx(Heading,{id:h,children:n}):reactExports.cloneElement(n,{id:h,testId:"title-heading-wrapper"});return jsxRuntimeExports$1.jsx(View$2,{style:[componentStyles.root,o?.root],children:jsxRuntimeExports$1.jsx(View$2,{role:c,"aria-modal":"true","aria-label":u["aria-label"],"aria-labelledby":h,"aria-describedby":u["aria-describedby"],ref:t,testId:s,style:[componentStyles.dialog,o?.dialog],children:jsxRuntimeExports$1.jsx(FlexiblePanel,{styles:{panel:o?.panel,content:o?.content,closeButton:o?.closeButton},onClose:r,title:p,content:i,closeButtonVisible:a,testId:s})})})}),componentStyles=StyleSheet.create({root:{boxShadow:theme$h.dialog.shadow.default,color:semanticColor$3.core.foreground.neutral.strong,overflow:"auto",position:"relative",willChange:"transform, opacity",height:"auto",maxHeight:"100vh",maxWidth:576,width:"93.75%"}}),DEFAULT_DRAWER_TIMING_DURATION_MS=400,DEFAULT_DRAWER_ANIMATED=!0,DEFAULT_DRAWER_BACKDROP_DISMISS_ENABLED=!0,DEFAULT_DRAWER_IS_EXITING=!1,defaultDrawerContextValue={animated:DEFAULT_DRAWER_ANIMATED,isExiting:DEFAULT_DRAWER_IS_EXITING,timingDuration:DEFAULT_DRAWER_TIMING_DURATION_MS},DrawerContext=reactExports.createContext(defaultDrawerContextValue),useDrawerContext=()=>reactExports.useContext(DrawerContext),DrawerBackdrop=({children:e,testId:t,initialFocusId:r,onCloseModal:n})=>{const{alignment:i,animated:o,timingDuration:a,isExiting:s}=useDrawerContext(),[l,c]=reactExports.useState(!1),u=reactExports.useRef(null),d=o?a:0,h=reactExports.useCallback(e=>r?e.querySelector(`#${r}`):null,[r]),p=reactExports.useCallback(e=>{const t=findFocusableNodes$1(e);return t?t[0]:null},[]),f=reactExports.useCallback(e=>{const t=e.querySelector('[role="dialog"]');return t&&(t.tabIndex=-1),t},[]);reactExports.useEffect(()=>{const e=u.current;if(!e)return;const t=h(e)||p(e)||f(e);t&&setTimeout(()=>{t.focus()},d)},[h,p,f,d]);const m={[ModalLauncherPortalAttributeName]:!0};return jsxRuntimeExports$1.jsx(View$2,{ref:u,style:[styles$y.drawerPositioner,i&&styles$y[i],o&&(s?styles$y.fadeOut:styles$y.fadeIn)].filter(Boolean),onMouseDown:e=>{e.target===e.currentTarget&&c(!0)},onMouseUp:e=>{e.target===e.currentTarget&&l&&n(),c(!1)},testId:t,...m,children:e})},keyframes={fadeIn:{"0%":{opacity:0},"100%":{opacity:1}},fadeOut:{"0%":{opacity:1},"100%":{opacity:0}}},styles$y=StyleSheet.create({drawerPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"flex",overflow:"hidden",background:semanticColor$3.core.background.overlay.default},inlineStart:{alignItems:"flex-start",justifyContent:"flex-start"},inlineEnd:{alignItems:"flex-end",justifyContent:"flex-start"},blockEnd:{alignItems:"center",justifyContent:"flex-end"},fadeIn:{animationName:keyframes.fadeIn,animationDuration:"400ms",animationTimingFunction:"linear",animationFillMode:"forwards"},fadeOut:{animationName:keyframes.fadeOut,animationDuration:"400ms",animationTimingFunction:"linear",animationFillMode:"forwards"}}),defaultProps={backdropDismissEnabled:DEFAULT_DRAWER_BACKDROP_DISMISS_ENABLED,defaultTimingDuration:DEFAULT_DRAWER_TIMING_DURATION_MS},DrawerLauncher=e=>{const{modal:t,backdropDismissEnabled:r=defaultProps.backdropDismissEnabled,initialFocusId:n,closedFocusId:i,testId:o,opened:a,onClose:s,children:l,schedule:c,alignment:u,styles:d,animated:h=DEFAULT_DRAWER_ANIMATED,timingDuration:p=defaultProps.defaultTimingDuration}=e,[f,m]=reactExports.useState(!1),[g,y]=reactExports.useState(!1),b=reactExports.useRef(null),v="boolean"==typeof a?a:f,x=reactExports.useCallback(()=>{b.current=document.activeElement},[]);reactExports.useEffect(()=>{a&&!$.current&&x(),$.current=a},[a,x]);const $=reactExports.useRef(a),S=reactExports.useCallback(()=>{const e=i?document.getElementById(i):null;c.animationFrame(()=>{e?e.focus():b.current&&b.current.focus()})},[i,c]),E=reactExports.useCallback(()=>{h?(y(!0),setTimeout(()=>{y(!1),"boolean"==typeof a||m(!1),s?.(),S()},p)):("boolean"==typeof a||m(!1),s?.(),S())},[a,s,S,h,p]),w=reactExports.useCallback(()=>{x(),m(!0)},[x]),_=reactExports.useMemo(()=>({alignment:u,animated:h,isExiting:g,timingDuration:p}),[u,h,g,p]),M=reactExports.useCallback(()=>{if("function"==typeof t){const e=t({closeModal:E});return e||null}return t||null},[t,E]),C=l?l({openModal:w}):null,T=document.body;return T?jsxRuntimeExports$1.jsxs(ModalContext.Provider,{value:{closeModal:E},children:[C,v&&!g||v&&g&&h?reactDomExports.createPortal(jsxRuntimeExports$1.jsx(DrawerContext.Provider,{value:_,children:jsxRuntimeExports$1.jsx(FocusTrap,{style:d?.container,children:jsxRuntimeExports$1.jsx(DrawerBackdrop,{initialFocusId:n,testId:o,onCloseModal:r?E:()=>{},children:M()})})}),T):null,v&&!g&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(DrawerLauncherKeypressListener,{onClose:E}),jsxRuntimeExports$1.jsx(ScrollDisabler,{})]})]}):null};function DrawerLauncherKeypressListener({onClose:e}){return reactExports.useEffect(()=>{const t=t=>{"Escape"===t.key&&(t.preventDefault(),t.stopPropagation(),e())};return window.addEventListener("keyup",t),()=>window.removeEventListener("keyup",t)},[e]),null}function useDirectionDetection(e,t={}){const{direction:r,defaultDirection:n="ltr"}=t;if(r)return r;const i=document.documentElement.getAttribute("dir")||document.body.getAttribute("dir");return"rtl"===i||"ltr"===i?i:n}DrawerLauncher.displayName="DrawerLauncher",withActionScheduler(DrawerLauncher);const DrawerDialog=reactExports.forwardRef(function(e,t){const r=useDrawerContext(),n=r.alignment,i=r.animated??DEFAULT_DRAWER_ANIMATED,o=r.isExiting??DEFAULT_DRAWER_IS_EXITING,a=r.timingDuration??DEFAULT_DRAWER_TIMING_DURATION_MS,{styles:s}=e,l=useDirectionDetection(),c=getComponentStyles({alignment:n,isRtl:"rtl"===l,animated:i,isExiting:o,timingDuration:a}),u=n&&c[n]||c.inlineEnd;return jsxRuntimeExports$1.jsx(FlexibleDialog,{...e,ref:t,styles:{root:[c.root,u,s?.root].filter(Boolean),dialog:[c.dialog,s?.dialog].filter(Boolean),panel:s?.panel,content:s?.content,closeButton:s?.closeButton}})}),getTransformValue=(e,t,r)=>{if("blockEnd"===t)return`translate3d(0, ${r}%, 0)`;return`translate3d(${(e?"inlineEnd"===t?-1:1:"inlineEnd"===t?1:-1)*r}%, 0, 0)`},createKeyframes=(e,t)=>({slideIn:{"0%":{transform:getTransformValue(e,t,100),opacity:0},"100%":{transform:getTransformValue(e,t,0),opacity:1}},slideOut:{"0%":{transform:getTransformValue(e,t,0),opacity:1},"100%":{transform:getTransformValue(e,t,100),opacity:0}}}),getComponentStyles=({alignment:e,isRtl:t,animated:r,isExiting:n,timingDuration:i})=>{const o=e?createKeyframes(t,e):null;return StyleSheet.create({root:{boxShadow:theme$h.dialog.shadow.default,color:semanticColor$3.core.foreground.neutral.strong,overflow:"auto",position:"relative",willChange:"transform, opacity",height:"100%",minHeight:"100vh",minWidth:breakpoint$2.width.xsMax,maxWidth:breakpoint$2.width.smMax,width:"100%",[breakpoint$2.mediaQuery.smOrSmaller]:{minWidth:"unset",maxWidth:"unset"}},dialog:{minHeight:"blockEnd"===e?"unset":"100vh",minWidth:"unset"},inlineStart:{animationName:r&&o&&(n?o.slideOut:o.slideIn),animationDuration:`${i}ms`,animationTimingFunction:"linear",animationFillMode:"forwards"},inlineEnd:{animationName:r&&o&&(n?o.slideOut:o.slideIn),animationDuration:`${i}ms`,animationTimingFunction:"linear",animationFillMode:"forwards"},blockEnd:{animationName:r&&o&&(n?o.slideOut:o.slideIn),animationDuration:`${i}ms`,animationTimingFunction:"linear",animationFillMode:"forwards",height:"auto",minHeight:"unset",maxWidth:"unset",[breakpoint$2.mediaQuery.smOrSmaller]:{height:"auto"}}})};function maybeGetNextAncestorModalLauncherPortal(e){let t=e&&e.parentElement;for(;t&&!t.hasAttribute(ModalLauncherPortalAttributeName);)t=t.parentElement;return t}function maybeGetPortalMountedModalHostElement(e){return maybeGetNextAncestorModalLauncherPortal(e)}DrawerDialog.displayName="DrawerDialog";const mediaDefaultSpecLargeMarginWidth=spacing$2.large_24,MEDIA_DEFAULT_SPEC={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:spacing$2.medium_16,marginWidth:spacing$2.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:spacing$2.xLarge_32,marginWidth:spacing$2.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:spacing$2.xLarge_32,marginWidth:mediaDefaultSpecLargeMarginWidth,maxWidth:1120+2*mediaDefaultSpecLargeMarginWidth}},defaultContext$1={ssrSize:"large",mediaSpec:MEDIA_DEFAULT_SPEC},MediaLayoutContext=reactExports.createContext(defaultContext$1);MediaLayoutContext.displayName="MediaLayoutContext",StyleSheet.create({grow:{flexGrow:1}});class Strut extends reactExports.Component{render(){const{size:e,style:t}=this.props;return jsxRuntimeExports$1.jsx(View$2,{"aria-hidden":"true",style:[strutStyle(e),t]})}}const strutStyle=e=>({width:e,MsFlexBasis:e,MsFlexPreferredSize:e,WebkitFlexBasis:e,flexBasis:e,flexShrink:0});var ManagerReferenceNodeContext=reactExports.createContext();reactExports.createContext();var unwrapArray=function(e){return Array.isArray(e)?e[0]:e},safeInvoke=function(e){if("function"==typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.apply(void 0,r)}},setRef=function(e,t){if("function"==typeof e)return safeInvoke(e,t);null!=e&&(e.current=t)},fromEntries=function(e){return e.reduce(function(e,t){var r=t[0],n=t[1];return e[r]=n,e},{})},useIsomorphicLayoutEffect="undefined"!=typeof window&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(e,t){return e.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement(e){return e instanceof getWindow(e).Element||e instanceof Element}function isHTMLElement(e){return e instanceof getWindow(e).HTMLElement||e instanceof HTMLElement}function isShadowRoot(e){return"undefined"!=typeof ShadowRoot&&(e instanceof getWindow(e).ShadowRoot||e instanceof ShadowRoot)}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];isHTMLElement(i)&&getNodeName(i)&&(Object.assign(i.style,r),Object.keys(n).forEach(function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})}function effect$2(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});isHTMLElement(n)&&getNodeName(n)&&(Object.assign(n.style,o),Object.keys(i).forEach(function(e){n.removeAttribute(e)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&isHTMLElement(e)&&(i=e.offsetWidth>0&&round$1(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&round$1(n.height)/e.offsetHeight||1);var a=(isElement(e)?getWindow(e):window).visualViewport,s=!isLayoutViewport()&&r,l=(n.left+(s&&a?a.offsetLeft:0))/i,c=(n.top+(s&&a?a.offsetTop:0))/o,u=n.width/i,d=n.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function getLayoutRect(e){var t=getBoundingClientRect(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&isShadowRoot(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return"html"===getNodeName(e)?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return isHTMLElement(e)&&"fixed"!==getComputedStyle$1(e).position?e.offsetParent:null}function getContainingBlock(e){var t=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement(e)&&"fixed"===getComputedStyle$1(e).position)return null;var r=getParentNode(e);for(isShadowRoot(r)&&(r=r.host);isHTMLElement(r)&&["html","body"].indexOf(getNodeName(r))<0;){var n=getComputedStyle$1(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),r=getTrueOffsetParent(e);r&&isTableElement(r)&&"static"===getComputedStyle$1(r).position;)r=getTrueOffsetParent(r);return r&&("html"===getNodeName(r)||"body"===getNodeName(r)&&"static"===getComputedStyle$1(r).position)?t:r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var n=within(e,t,r);return n>r?r:n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}var toPaddingObject=function(e,t){return mergePaddingObject("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:expandToHashMap(e,basePlacements))};function arrow(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=getBasePlacement(r.placement),l=getMainAxisFromPlacement(s),c=[left,right].indexOf(s)>=0?"height":"width";if(o&&a){var u=toPaddingObject(i.padding,r),d=getLayoutRect(o),h="y"===l?top:left,p="y"===l?bottom:right,f=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],g=getOffsetParent(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,v=u[h],x=y-d[c]-u[p],$=y/2-d[c]/2+b,S=within(v,$,x),E=l;r.modifiersData[n]=((t={})[E]=S,t.centerOffset=S-$,t)}}function effect$1(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&contains(t.elements.popper,n)&&(t.elements.arrow=n)}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:round$1(r*i)/i||0,y:round$1(n*i)/i||0}}function mapToStyles(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),v=left,x=top,$=window;if(c){var S=getOffsetParent(r),E="clientHeight",w="clientWidth";if(S===getWindow(r)&&"static"!==getComputedStyle$1(S=getDocumentElement(r)).position&&"absolute"===s&&(E="scrollHeight",w="scrollWidth"),i===top||(i===left||i===right)&&o===end)x=bottom,m-=(d&&S===$&&$.visualViewport?$.visualViewport.height:S[E])-n.height,m*=l?1:-1;if(i===left||(i===top||i===bottom)&&o===end)v=right,p-=(d&&S===$&&$.visualViewport?$.visualViewport.width:S[w])-n.width,p*=l?1:-1}var _,M=Object.assign({position:s},c&&unsetSides),C=!0===u?roundOffsetsByDPR({x:p,y:m},getWindow(r)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},M,((_={})[x]=b?"0":"",_[v]=y?"0":"",_.transform=($.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",_)):Object.assign({},M,((t={})[x]=b?m+"px":"",t[v]=y?p+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,l=void 0===s||s,c={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=void 0===i||i,a=n.resize,s=void 0===a||a,l=getWindow(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",r.update,passive)}),s&&l.addEventListener("resize",r.update,passive),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",r.update,passive)}),s&&l.removeEventListener("resize",r.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(e){var t=getWindow(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var r=getWindow(e),n=getDocumentElement(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=isLayoutViewport();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+getWindowScrollBarX(e),y:l}}function getDocumentRect(e){var t,r=getDocumentElement(e),n=getWindowScroll(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=max(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=max(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+getWindowScrollBarX(e),l=-n.scrollTop;return"rtl"===getComputedStyle$1(i||r).direction&&(s+=max(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function isScrollParent(e){var t=getComputedStyle$1(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;void 0===t&&(t=[]);var n=getScrollParent(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),o=getWindow(n),a=i?[o].concat(o.visualViewport||[],isScrollParent(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var r=getBoundingClientRect(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function getClientRectFromMixedType(e,t,r){return t===viewport?rectToClientRect(getViewportRect(e,r)):isElement(t)?getInnerBoundingClientRect(t,r):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),r=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(r)?t.filter(function(e){return isElement(e)&&contains(e,r)&&"body"!==getNodeName(e)}):[]}function getClippingRect(e,t,r,n){var i="clippingParents"===t?getClippingParents(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(t,r){var i=getClientRectFromMixedType(e,r,n);return t.top=max(i.top,t.top),t.right=min(i.right,t.right),t.bottom=min(i.bottom,t.bottom),t.left=max(i.left,t.left),t},getClientRectFromMixedType(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function computeOffsets(e){var t,r=e.reference,n=e.element,i=e.placement,o=i?getBasePlacement(i):null,a=i?getVariation(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(o){case top:t={x:s,y:r.y-n.height};break;case bottom:t={x:s,y:r.y+r.height};break;case right:t={x:r.x+r.width,y:l};break;case left:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=o?getMainAxisFromPlacement(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case start:t[c]=t[c]-(r[u]/2-n[u]/2);break;case end:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}function detectOverflow(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,o=r.strategy,a=void 0===o?e.strategy:o,s=r.boundary,l=void 0===s?clippingParents:s,c=r.rootBoundary,u=void 0===c?viewport:c,d=r.elementContext,h=void 0===d?popper:d,p=r.altBoundary,f=void 0!==p&&p,m=r.padding,g=void 0===m?0:m,y=mergePaddingObject("number"!=typeof g?g:expandToHashMap(g,basePlacements)),b=h===popper?reference:popper,v=e.rects.popper,x=e.elements[f?b:h],$=getClippingRect(isElement(x)?x:x.contextElement||getDocumentElement(e.elements.popper),l,u,a),S=getBoundingClientRect(e.elements.reference),E=computeOffsets({reference:S,element:v,placement:i}),w=rectToClientRect(Object.assign({},v,E)),_=h===popper?w:S,M={top:$.top-_.top+y.top,bottom:_.bottom-$.bottom+y.bottom,left:$.left-_.left+y.left,right:_.right-$.right+y.right},C=e.modifiersData.offset;if(h===popper&&C){var T=C[i];Object.keys(M).forEach(function(e){var t=[right,bottom].indexOf(e)>=0?1:-1,r=[top,bottom].indexOf(e)>=0?"y":"x";M[e]+=T[r]*t})}return M}function computeAutoPlacement(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?placements:l,u=getVariation(n),d=u?s?variationPlacements:variationPlacements.filter(function(e){return getVariation(e)===u}):basePlacements,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,r){return t[r]=detectOverflow(e,{placement:r,boundary:i,rootBoundary:o,padding:a})[getBasePlacement(r)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,f=void 0===p||p,m=r.allowedAutoPlacements,g=t.options.placement,y=getBasePlacement(g),b=l||(y===g||!f?[getOppositePlacement(g)]:getExpandedFallbackPlacements(g)),v=[g].concat(b).reduce(function(e,r){return e.concat(getBasePlacement(r)===auto?computeAutoPlacement(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):r)},[]),x=t.rects.reference,$=t.rects.popper,S=new Map,E=!0,w=v[0],_=0;_<v.length;_++){var M=v[_],C=getBasePlacement(M),T=getVariation(M)===start,R=[top,bottom].indexOf(C)>=0,O=R?"width":"height",k=detectOverflow(t,{placement:M,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=R?T?right:left:T?bottom:top;x[O]>$[O]&&(A=getOppositePlacement(A));var N=getOppositePlacement(A),I=[];if(o&&I.push(k[C]<=0),s&&I.push(k[A]<=0,k[N]<=0),I.every(function(e){return e})){w=M,E=!1;break}S.set(M,I)}if(E)for(var L=function(e){var t=v.find(function(t){var r=S.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return w=t,"break"},P=f?3:1;P>0;P--){if("break"===L(P))break}t.placement!==w&&(t.modifiersData[n]._skip=!0,t.placement=w,t.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some(function(t){return e[t]>=0})}function hide(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=detectOverflow(t,{elementContext:"reference"}),s=detectOverflow(t,{altBoundary:!0}),l=getSideOffsets(a,n),c=getSideOffsets(s,i,o),u=isAnySideFullyClipped(l),d=isAnySideFullyClipped(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var n=getBasePlacement(e),i=[left,top].indexOf(n)>=0?-1:1,o="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[left,right].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function offset(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=void 0===i?[0,0]:i,a=placements.reduce(function(e,r){return e[r]=distanceAndSkiddingToXY(r,t.rects,o),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return"x"===e?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,h=r.tether,p=void 0===h||h,f=r.tetherOffset,m=void 0===f?0:f,g=detectOverflow(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=getBasePlacement(t.placement),b=getVariation(t.placement),v=!b,x=getMainAxisFromPlacement(y),$=getAltAxis(x),S=t.modifiersData.popperOffsets,E=t.rects.reference,w=t.rects.popper,_="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M="number"==typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(o){var R,O="y"===x?top:left,k="y"===x?bottom:right,A="y"===x?"height":"width",N=S[x],I=N+g[O],L=N-g[k],P=p?-w[A]/2:0,B=b===start?E[A]:w[A],q=b===start?-w[A]:-E[A],j=t.elements.arrow,D=p&&j?getLayoutRect(j):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),z=F[O],W=F[k],H=within(0,E[A],D[A]),U=v?E[A]/2-P-H-z-M.mainAxis:B-H-z-M.mainAxis,V=v?-E[A]/2+P+H+W+M.mainAxis:q+H+W+M.mainAxis,G=t.elements.arrow&&getOffsetParent(t.elements.arrow),X=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,K=null!=(R=null==C?void 0:C[x])?R:0,Y=N+V-K,J=within(p?min(I,N+U-K-X):I,N,p?max(L,Y):L);S[x]=J,T[x]=J-N}if(s){var Z,Q="x"===x?top:left,ee="x"===x?bottom:right,te=S[$],re="y"===$?"height":"width",ne=te+g[Q],ie=te-g[ee],oe=-1!==[top,left].indexOf(y),ae=null!=(Z=null==C?void 0:C[$])?Z:0,se=oe?ne:te-E[re]-w[re]-ae+M.altAxis,le=oe?te+E[re]+w[re]-ae-M.altAxis:ie,ce=p&&oe?withinMaxClamp(se,te,le):within(p?se:ne,te,p?le:ie);S[$]=ce,T[$]=ce-te}t.modifiersData[n]=T}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e!==getWindow(e)&&isHTMLElement(e)?getHTMLElementScroll(e):getWindowScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),r=round$1(t.width)/e.offsetWidth||1,n=round$1(t.height)/e.offsetHeight||1;return 1!==r||1!==n}function getCompositeRect(e,t,r){void 0===r&&(r=!1);var n=isHTMLElement(t),i=isHTMLElement(t)&&isElementScaled(t),o=getDocumentElement(t),a=getBoundingClientRect(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==getNodeName(t)||isScrollParent(o))&&(s=getNodeScroll(t)),isHTMLElement(t)?((l=getBoundingClientRect(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=getWindowScrollBarX(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function order(e){var t=new Map,r=new Set,n=[];function i(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!r.has(e)){var n=t.get(e);n&&i(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||i(e)}),n}function orderModifiers(e){var t=order(e);return modifierPhases.reduce(function(e,r){return e.concat(t.filter(function(e){return e.phase===r}))},[])}function debounce$1(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function mergeByName(e){var t=e.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function popperGenerator(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,o=void 0===i?DEFAULT_OPTIONS:i;return function(e,t,r){void 0===r&&(r=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(r){var s="function"==typeof r?r(i.options):r;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:isElement(e)?listScrollParents(e):e.contextElement?listScrollParents(e.contextElement):[],popper:listScrollParents(t)};var u=orderModifiers(mergeByName([].concat(n,i.options.modifiers)));return i.orderedModifiers=u.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:l,options:n}),c=function(){};a.push(s||c)}}),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(areValidElements(t,r)){i.rects={reference:getCompositeRect(t,getOffsetParent(r),"fixed"===i.options.strategy),popper:getLayoutRect(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var o=i.orderedModifiers[n],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"==typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,n=-1}}},update:debounce$1(function(){return new Promise(function(e){l.forceUpdate(),e(i)})}),destroy:function(){c(),s=!0}};if(!areValidElements(e,t))return l;function c(){a.forEach(function(e){return e()}),a=[]}return l.setOptions(r).then(function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)}),l}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers:defaultModifiers}),reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var e="undefined"!=typeof Element,t="function"==typeof Map,r="function"==typeof Set,n="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(o,a){if(o===a)return!0;if(o&&a&&"object"==typeof o&&"object"==typeof a){if(o.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(o)){if((s=o.length)!=a.length)return!1;for(l=s;0!==l--;)if(!i(o[l],a[l]))return!1;return!0}if(t&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=o.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if((s=o.length)!=a.length)return!1;for(l=s;0!==l--;)if(o[l]!==a[l])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof a.valueOf)return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof a.toString)return o.toString()===a.toString();if((s=(c=Object.keys(o)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&o instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!o.$$typeof)&&!i(o[c[l]],a[c[l]]))return!1;return!0}return o!=o&&a!=a}return reactFastCompare=function(e,t){try{return i(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return!1;throw r}}}var reactFastCompareExports=requireReactFastCompare();const isEqual$1=getDefaultExportFromCjs$1(reactFastCompareExports);var EMPTY_MODIFIERS$1=[],usePopper=function(e,t,r){void 0===r&&(r={});var n=reactExports.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||EMPTY_MODIFIERS$1},o=reactExports.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],s=o[1],l=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);reactDomExports.flushSync(function(){s({styles:fromEntries(r.map(function(e){return[e,t.styles[e]||{}]})),attributes:fromEntries(r.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),c=reactExports.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return isEqual$1(n.current,e)?n.current||e:(n.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),u=reactExports.useRef();return useIsomorphicLayoutEffect(function(){u.current&&u.current.setOptions(c)},[c]),useIsomorphicLayoutEffect(function(){if(null!=e&&null!=t){var n=(r.createPopper||createPopper)(e,t,c);return u.current=n,function(){n.destroy(),u.current=null}}},[e,t,r.createPopper]),{state:u.current?u.current.state:null,styles:a.styles,attributes:a.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}},NOOP=function(){},NOOP_PROMISE=function(){return Promise.resolve(null)},EMPTY_MODIFIERS=[];function Popper(e){var t=e.placement,r=void 0===t?"bottom":t,n=e.strategy,i=void 0===n?"absolute":n,o=e.modifiers,a=void 0===o?EMPTY_MODIFIERS:o,s=e.referenceElement,l=e.onFirstUpdate,c=e.innerRef,u=e.children,d=reactExports.useContext(ManagerReferenceNodeContext),h=reactExports.useState(null),p=h[0],f=h[1],m=reactExports.useState(null),g=m[0],y=m[1];reactExports.useEffect(function(){setRef(c,p)},[c,p]);var b=reactExports.useMemo(function(){return{placement:r,strategy:i,onFirstUpdate:l,modifiers:[].concat(a,[{name:"arrow",enabled:null!=g,options:{element:g}}])}},[r,i,l,a,g]),v=usePopper(s||d,p,b),x=v.state,$=v.styles,S=v.forceUpdate,E=v.update,w=reactExports.useMemo(function(){return{ref:f,style:$.popper,placement:x?x.placement:r,hasPopperEscaped:x&&x.modifiersData.hide?x.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:x&&x.modifiersData.hide?x.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:$.arrow,ref:y},forceUpdate:S||NOOP,update:E||NOOP_PROMISE}},[f,y,r,x,$,E,S]);return unwrapArray(u)(w)}class ActiveTracker{_getIndex(e){return this._subscribers.findIndex(t=>t===e)}steal(e){const t=!!this._active;this._active=!0;for(const r of this._subscribers)r!==e&&r.activeStateStolen();return t}giveup(){this._active=!1}subscribe(e){if(this._getIndex(e)>=0)throw new Error("Already subscribed.");this._subscribers.push(e);return()=>{const t=this._getIndex(e);this._subscribers.splice(t,1)}}constructor(){this._subscribers=[],this._active=!1}}const TooltipAppearanceDelay=100,TooltipDisappearanceDelay=75,TRACKER=new ActiveTracker;class TooltipAnchor extends reactExports.Component{componentDidMount(){const e=reactDomExports.findDOMNode(this);if(e instanceof Text)throw new Error("TooltipAnchor must be applied to an Element. Text content is not supported.");this._unsubscribeFromTracker=TRACKER.subscribe(this),this._anchorNode=e,this._updateFocusivity(),e&&(e.addEventListener("focusin",this._handleFocusIn),e.addEventListener("focusout",this._handleFocusOut),e.addEventListener("mouseenter",this._handleMouseEnter),e.addEventListener("mouseleave",this._handleMouseLeave),this.props.anchorRef(this._anchorNode))}componentDidUpdate(e){e.forceAnchorFocusivity===this.props.forceAnchorFocusivity&&e.children===this.props.children||this._updateFocusivity()}componentWillUnmount(){this._unsubscribeFromTracker&&this._unsubscribeFromTracker(),this._clearPendingAction();const e=this._anchorNode;e&&(e.removeEventListener("focusin",this._handleFocusIn),e.removeEventListener("focusout",this._handleFocusOut),e.removeEventListener("mouseenter",this._handleMouseEnter),e.removeEventListener("mouseleave",this._handleMouseLeave)),this.state.active&&document.removeEventListener("keyup",this._handleKeyUp)}_updateFocusivity(){const e=this._anchorNode;if(!e)return;const{forceAnchorFocusivity:t}=this.props,r=e.getAttribute("tabindex");t&&!r?(e.setAttribute("tabindex","0"),this._weSetFocusivity=!0):!t&&r&&this._weSetFocusivity&&(e.removeAttribute("tabindex"),this._weSetFocusivity=!1)}_updateActiveState(e,t){this._hovered=e,this._focused=t,this._setActiveState(e||t)}_clearPendingAction(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}_setActiveState(e,t){if(this._stolenFromUs||e!==this.state.active||!this.state.active&&this._timeoutID)this._clearPendingAction();else if(e===this.state.active)return void(this._timeoutID&&this._clearPendingAction());if(t=t||e&&TRACKER.steal(this))e?document.addEventListener("keyup",this._handleKeyUp):document.removeEventListener("keyup",this._handleKeyUp),this.setState({active:e}),this.props.onActiveChanged(e),this._stolenFromUs||e||TRACKER.giveup(),this._stolenFromUs=!1;else{const t=e?TooltipAppearanceDelay:TooltipDisappearanceDelay;this._timeoutID=setTimeout(()=>{this._timeoutID=null,this._setActiveState(e,!0)},t)}}_renderAnchorableChildren(){const{children:e}=this.props;return"string"==typeof e?jsxRuntimeExports$1.jsx(Text$4,{children:e}):e}render(){const{"aria-describedby":e}=this.props,t=this._renderAnchorableChildren();return reactExports.cloneElement(t,{"aria-describedby":e})}constructor(e){super(e),this.activeStateStolen=()=>{this._stolenFromUs=this.state.active||!!this._timeoutID,this._focused=!1,this._setActiveState(!1,!0)},this._handleFocusIn=()=>{this._updateActiveState(this._hovered,!0)},this._handleFocusOut=()=>{this._updateActiveState(this._hovered,!1)},this._handleMouseEnter=()=>{this._updateActiveState(!0,this._focused)},this._handleMouseLeave=()=>{this._updateActiveState(!1,this._focused)},this._handleKeyUp=e=>{"Escape"===e.key&&this.state.active&&(e.preventDefault(),e.stopPropagation(),this._updateActiveState(!1,!1))},this._focused=!1,this._hovered=!1,this.state={active:!1}}}TooltipAnchor.defaultProps={forceAnchorFocusivity:!0};let tempIdCounter=0;class TooltipTail extends reactExports.Component{_calculateDimensionsFromPlacement(){const{placement:e}=this.props,t=.5;switch(e){case"top":return{trimlinePoints:["0,-0.5",`${ARROW_WIDTH},-0.5`],points:["0,0",`${ARROW_WIDTH/2},${ARROW_HEIGHT}`,`${ARROW_WIDTH},0`],height:ARROW_HEIGHT,width:ARROW_WIDTH};case"right":return{trimlinePoints:[`${ARROW_HEIGHT+t},0`,`${ARROW_HEIGHT+t},${ARROW_WIDTH}`],points:[`${ARROW_HEIGHT},0`,"0,"+ARROW_WIDTH/2,`${ARROW_HEIGHT},${ARROW_WIDTH}`],width:ARROW_HEIGHT,height:ARROW_WIDTH};case"bottom":return{trimlinePoints:[`0, ${ARROW_HEIGHT+t}`,`${ARROW_WIDTH},${ARROW_HEIGHT+t}`],points:[`0, ${ARROW_HEIGHT}`,ARROW_WIDTH/2+",0",`${ARROW_WIDTH},${ARROW_HEIGHT}`],width:ARROW_WIDTH,height:ARROW_HEIGHT};case"left":return{trimlinePoints:["-0.5,0",`-0.5,${ARROW_WIDTH}`],points:["0,0",`${ARROW_HEIGHT},${ARROW_WIDTH/2}`,`0,${ARROW_WIDTH}`],width:ARROW_HEIGHT,height:ARROW_WIDTH};default:throw new Error(`Unknown placement: ${e}`)}}_getFilterPositioning(){const{placement:e}=this.props;switch(e){case"top":return{y:"-50%",x:"-50%",offsetShadowX:0};case"bottom":return null;case"left":return{y:"-50%",x:"0%",offsetShadowX:1};case"right":return{y:"-50%",x:"-100%",offsetShadowX:-1};default:throw new Error(`Unknown placement: ${e}`)}}_maybeRenderDropshadow(e){const t=this._getFilterPositioning();if(!t)return null;const{placement:r}=this.props,{y:n,x:i,offsetShadowX:o}=t,a=`tooltip-dropshadow-${r}-${tempIdCounter++}`;return[jsxRuntimeExports$1.jsxs("filter",{id:a,width:"200%",height:"200%",x:i,y:n,children:[jsxRuntimeExports$1.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:spacing$2.xxSmall_6/2}),jsxRuntimeExports$1.jsx("feComponentTransfer",{children:jsxRuntimeExports$1.jsx("feFuncA",{type:"linear",slope:"0.3"})})]},"filter"),jsxRuntimeExports$1.jsx("g",{transform:`translate(${o},5.5)`,children:jsxRuntimeExports$1.jsx("polyline",{fill:semanticColor$3.core.shadow.transparent.mid,points:e.join(" "),stroke:semanticColor$3.core.shadow.transparent.mid,filter:`url(#${a})`})},"dropshadow")]}_getFullTailWidth(){return ARROW_WIDTH+2*MIN_DISTANCE_FROM_CORNERS}_getFullTailHeight(){return ARROW_HEIGHT+DISTANCE_FROM_ANCHOR}_getContainerStyle(){const{placement:e}=this.props,t=this._getFullTailWidth(),r=this._getFullTailHeight();switch(e){case"top":return{top:-1,width:t,height:r};case"right":return{left:1,width:r,height:t};case"bottom":return{top:1,width:t,height:r};case"left":return{left:-1,width:r,height:t};default:throw new Error(`Unknown placement: ${e}`)}}_getArrowStyle(){const{placement:e}=this.props;switch(e){case"top":return{marginLeft:MIN_DISTANCE_FROM_CORNERS,marginRight:MIN_DISTANCE_FROM_CORNERS,paddingBottom:DISTANCE_FROM_ANCHOR};case"right":return{marginTop:MIN_DISTANCE_FROM_CORNERS,marginBottom:MIN_DISTANCE_FROM_CORNERS,paddingLeft:DISTANCE_FROM_ANCHOR};case"bottom":return{marginLeft:MIN_DISTANCE_FROM_CORNERS,marginRight:MIN_DISTANCE_FROM_CORNERS,paddingTop:DISTANCE_FROM_ANCHOR};case"left":return{marginTop:MIN_DISTANCE_FROM_CORNERS,marginBottom:MIN_DISTANCE_FROM_CORNERS,paddingRight:DISTANCE_FROM_ANCHOR};default:throw new Error(`Unknown placement: ${e}`)}}_renderArrow(){const{trimlinePoints:e,points:t,height:r,width:n}=this._calculateDimensionsFromPlacement(),{color:i,show:o}=this.props;return o?jsxRuntimeExports$1.jsxs("svg",{className:css(styles$2$d.arrow),style:this._getArrowStyle(),width:n,height:r,"aria-hidden":!0,children:[this._maybeRenderDropshadow(t),jsxRuntimeExports$1.jsx("polyline",{fill:color$1$2[i],stroke:color$1$2[i],points:t.join(" ")}),jsxRuntimeExports$1.jsx("polyline",{fill:color$1$2[i],points:t.join(" "),stroke:semanticColor$3.core.shadow.transparent.mid}),jsxRuntimeExports$1.jsx("polyline",{stroke:color$1$2[i],points:e.join(" ")})]}):jsxRuntimeExports$1.jsx(Strut,{size:r})}render(){const{offset:e,placement:t,updateRef:r}=this.props;return jsxRuntimeExports$1.jsx(View$2,{style:[styles$2$d.tailContainer,{...e},this._getContainerStyle()],"data-placement":t,ref:r,children:this._renderArrow()})}}TooltipTail.defaultProps={color:"white",show:!0};const DISTANCE_FROM_ANCHOR=spacing$2.xSmall_8,MIN_DISTANCE_FROM_CORNERS=spacing$2.xSmall_8,ARROW_WIDTH=spacing$2.large_24,ARROW_HEIGHT=spacing$2.small_12,styles$2$d=StyleSheet.create({tailContainer:{position:"relative",pointerEvents:"none"},arrow:{overflow:"visible"}});class TooltipBubble extends reactExports.Component{_setActiveState(e){this.setState({active:e}),this.props.onActiveChanged(e)}render(){const{id:e,children:t,updateBubbleRef:r,placement:n,isReferenceHidden:i,style:o,updateTailRef:a,tailOffset:s,backgroundColor:l}=this.props;return jsxRuntimeExports$1.jsxs(View$2,{id:e,role:"tooltip","data-placement":n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:r,style:[i&&styles$1$f.hide,styles$1$f.bubble,styles$1$f[`content-${n}`],o],children:[jsxRuntimeExports$1.jsx(View$2,{style:[styles$1$f.content,l&&{backgroundColor:color$1$2[l]}],children:t}),jsxRuntimeExports$1.jsx(TooltipTail,{updateRef:a,placement:n,offset:s,color:l})]})}constructor(...e){super(...e),this.state={active:!1},this.handleMouseEnter=()=>{this._setActiveState(!0)},this.handleMouseLeave=()=>{this.props.onActiveChanged(!1)}}}const styles$1$f=StyleSheet.create({bubble:{position:"absolute"},hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"},content:{maxWidth:472,borderRadius:border$3.radius.radius_040,border:`solid 1px ${semanticColor$3.core.border.neutral.subtle}`,backgroundColor:semanticColor$3.core.background.base.default,boxShadow:boxShadow$3.mid,justifyContent:"center"}});class TooltipContent extends reactExports.Component{_renderTitle(){const{title:e}=this.props;return e?"string"==typeof e?jsxRuntimeExports$1.jsx(HeadingSmall,{children:e}):e:null}_renderChildren(){const{children:e}=this.props;return"string"==typeof e?jsxRuntimeExports$1.jsx(LabelMedium,{children:e}):e}render(){const e=this._renderTitle(),t=this._renderChildren(),r=e?styles$x.withTitle:styles$x.withoutTitle;return jsxRuntimeExports$1.jsxs(View$2,{style:[r,this.props.contentStyle],testId:this.props.testId,children:[e,e&&t&&jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.xxxSmall_4}),t]})}}const styles$x=StyleSheet.create({withoutTitle:{padding:`10px ${spacing$2.medium_16}px`},withTitle:{padding:spacing$2.medium_16}});var t=e=>null==e||"object"!=typeof e?e:Array.isArray(e)?e.map(t):Object.keys(e).reduce((r,n)=>(r[n]=t(e[n]),r),{}),n=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",InvalidUse:"InvalidUse",NotFound:"NotFound",NotAllowed:"NotAllowed",Unauthorized:"Unauthorized",NotImplemented:"NotImplemented"});function r(e,t,r){return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}class s{constructor(e,t,n){r(this,"_name",void 0),r(this,"_message",void 0),r(this,"_stackFrames",void 0),this._name=e,this._message=t,this._stackFrames=[...n]}get message(){return this._message}get name(){return this._name}get messageWithName(){return"".concat(this.name,": ").concat(this.message)}get stack(){return[...this._stackFrames]}get standardizedStack(){return"".concat(this.messageWithName,"\n").concat(this._stackFrames.join("\n"))}static fromConsequenceAndCause(e,t){for(var r,n,i,o,a,l=[],c=t.stack,u=null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:[],d=c.length-1,h=u.length-1;d>=0&&h>=0&&c[d]===u[h];)l.unshift(c[d]),d--,h--;for(;d>=0;d--)l.unshift(c[d]);for(;h>=0;h--)l.unshift(u[h]);return new s(e.name,(n=e.message,i=t.messageWithName,a=(o=e=>(null==e?void 0:e.trim())||"(empty message)")(n),null==i?a:"".concat(a,"\n\tcaused by\n\t\t").concat(o(i))),l)}static normalize(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=null!==(t=e.message.toString().split("\n").find(e=>e.trim().length))&&void 0!==t?t:"(empty message)",l=e.toString(),c=(null!==(r=e.stack)&&void 0!==r&&r.startsWith(l)&&e.stack!==l?e.stack.substring(l.length):null!==(n=e.stack)&&void 0!==n?n:"").split("\n").filter(e=>e.trim().length),u=c.length>=i+o?i:0;return new s(e.name,a,c.slice(u))}static from(e){var t,r,n=e.toString(),i=(null!==(t=e.stack)&&void 0!==t&&t.startsWith(n)&&e.stack!==n?e.stack.substring(n.length):null!==(r=e.stack)&&void 0!==r?r:"").split("\n").filter(e=>e.trim().length);return new s(e.name,e.message,i)}}let i$2=class extends Error{constructor(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Unknown,{cause:o,prefix:a,name:l,metadata:c,stripStackFrames:u,minimumFrameCount:d,compositeStack:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});super(e),r(this,"kind",void 0),r(this,"originalMessage",void 0),r(this,"originalStack",void 0),r(this,"metadata",void 0),r(this,"cause",void 0),this.originalMessage=e,this.metadata=(e=>{if(null==e)return e;var r=t(e);return Object.freeze(r)})(c),this.name="".concat(null!=a?a:"").concat(i).concat(null!=l?l:"","Error"),this.kind=i,this.originalStack=this.stack,this.cause=o;var p=s.normalize(this,null!=u?u:0,null!=d?d:1);if(delete this.stack,this.stack=p.standardizedStack,null!=o){var f=s.from(o),m=s.fromConsequenceAndCause(p,f);this.message=m.message,!0===h&&(this.stack=m.standardizedStack)}}};class w extends i$2{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.InvalidInput,r=arguments.length>2?arguments[2]:void 0;super("Unhandled case for '".concat(e,"'"),t,r)}}class RefTracker{constructor(){this.updateRef=e=>{if(e){const t=reactDomExports.findDOMNode(e);t instanceof HTMLElement&&t!==this._lastRef&&(this._lastRef=t,this._targetFn?.(t))}},this.setCallback=e=>{if(this._targetFn!==e){if(e&&"function"!=typeof e)throw new Error("targetFn must be a function");this._targetFn=e||void 0,this._lastRef&&this._targetFn&&this._targetFn(this._lastRef)}}}}const filterPopperPlacement=e=>{switch(e){case"auto":case"auto-start":case"auto-end":case"top":case"top-start":case"top-end":return"top";case"bottom":case"bottom-start":case"bottom-end":return"bottom";case"right":case"right-start":case"right-end":return"right";case"left":case"left-start":case"left-end":return"left";default:throw new w(e)}};function _modifyPosition({state:e}){const t=e.rects.popper.height+e.rects.reference.height;document.documentElement.clientHeight<t&&e.modifiersData.hide&&(e.modifiersData.hide={...e.modifiersData.hide,isReferenceHidden:!1})}const smallViewportModifier={name:"smallViewport",enabled:!0,phase:"main",fn:_modifyPosition};class TooltipPopper extends reactExports.Component{componentDidMount(){const{anchorElement:e,autoUpdate:t}=this.props;e&&t&&(this._observer=new MutationObserver(()=>{this._popperUpdate?.()}),this._observer.observe(e,{attributes:!0,childList:!0,subtree:!0}))}componentWillUnmount(){this._observer?.disconnect()}_renderPositionedContent(e){const{children:t}=this.props,{isReady:r}=this.state,n=filterPopperPlacement(e.placement)||this.props.placement;this._bubbleRefTracker.setCallback(e.ref),this._tailRefTracker.setCallback(e.arrowProps.ref),this._popperUpdate=e.update;return t({placement:n,style:{top:e.style.top,left:e.style.left,bottom:e.style.bottom,right:e.style.right,position:e.style.position,transform:e.style.transform,visibility:r?void 0:"hidden"},updateBubbleRef:this._bubbleRefTracker.updateRef,tailOffset:{bottom:e.arrowProps.style.bottom,right:e.arrowProps.style.right,top:e.arrowProps.style.top,left:e.arrowProps.style.left,transform:e.arrowProps.style.transform},updateTailRef:this._tailRefTracker.updateRef,isReferenceHidden:e.isReferenceHidden})}render(){const{anchorElement:e,placement:t,rootBoundary:r,viewportPadding:n}=this.props,i=[smallViewportModifier];return"viewport"===r?i.push({name:"preventOverflow",options:{rootBoundary:"viewport",padding:n}}):i.push({name:"flip",options:{rootBoundary:"document"}}),jsxRuntimeExports$1.jsx(Popper,{referenceElement:e,strategy:"fixed",placement:t,modifiers:i,onFirstUpdate:this.handleFirstUpdate,children:e=>this._renderPositionedContent(e)})}constructor(e){super(e),this._bubbleRefTracker=new RefTracker,this._tailRefTracker=new RefTracker,this._observer=null,this._popperUpdate=null,this.handleFirstUpdate=()=>{this.setState({isReady:!0})},this.state={isReady:!1}}}TooltipPopper.defaultProps={rootBoundary:"viewport",viewportPadding:spacing$2.small_12};class Tooltip extends reactExports.Component{static getDerivedStateFromProps(e,t){return{active:"boolean"==typeof e.opened?e.opened:t.active}}_updateAnchorElement(e){e&&e!==this.state.anchorElement&&this.setState({anchorElement:e})}_renderBubbleContent(){const{title:e,content:t,contentStyle:r,testId:n}=this.props;return"string"==typeof t?jsxRuntimeExports$1.jsx(TooltipContent,{title:e,contentStyle:r,testId:n?`${n}-content`:void 0,children:t}):e?reactExports.cloneElement(t,{title:e}):t}_renderPopper(e){const{backgroundColor:t,placement:r}=this.props;return jsxRuntimeExports$1.jsx(TooltipPopper,{anchorElement:this.state.anchorElement,placement:r,autoUpdate:this.props.autoUpdate,viewportPadding:this.props.viewportPadding,children:r=>jsxRuntimeExports$1.jsx(TooltipBubble,{id:e,style:r.style,backgroundColor:t,tailOffset:r.tailOffset,isReferenceHidden:r.isReferenceHidden,placement:r.placement,updateTailRef:r.updateTailRef,updateBubbleRef:r.updateBubbleRef,onActiveChanged:e=>this.setState({activeBubble:e}),children:this._renderBubbleContent()})})}_getHost(){const{anchorElement:e}=this.state;return maybeGetPortalMountedModalHostElement(e)||document.body}_renderTooltipAnchor(e){const{autoUpdate:t,children:r,forceAnchorFocusivity:n}=this.props,{active:i,activeBubble:o}=this.state,a=this._getHost(),s=!t||this.state.anchorElement,l=a&&(i||o)&&s,c=`${e}-aria-content`;return jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx(TooltipAnchor,{forceAnchorFocusivity:n,anchorRef:e=>this._updateAnchorElement(e),onActiveChanged:e=>this.setState({active:e}),"aria-describedby":l?c:void 0,children:r}),l&&reactDomExports.createPortal(this._renderPopper(c),a)]})}render(){const{id:e}=this.props;return jsxRuntimeExports$1.jsx(Id,{id:e,children:e=>this._renderTooltipAnchor(e)})}constructor(...e){super(...e),this.state={active:!1,activeBubble:!1}}}Tooltip.defaultProps={forceAnchorFocusivity:!0,placement:"top"};const xIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z'/%3e%3c/svg%3e";var themeDefault$c={iconButton:{root:{border:{offset:{primary:border$3.width.medium,secondary:`calc(-1 * ${border$3.width.medium})`,tertiary:`calc(-1 * ${border$3.width.medium})`},width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.medium,press:border$3.width.medium},tertiary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium}},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{xsmall:sizing$3.size_240,small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_480}},icon:{sizing:{xsmall:sizing$3.size_160,small:sizing$3.size_240,medium:sizing$3.size_240,large:sizing$3.size_240}}}},iconButtonTheme$4=mapValuesToCssVars$2(themeDefault$c,"--wb-c-icon-button-");const StyledA$b=addStyle$1("a"),StyledButton$a=addStyle$1("button"),StyledLink$b=addStyle$1(Link$2),IconButtonUnstyled$4=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$6.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$b,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$b,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$a,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$6=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$8=iconButtonTheme$4.iconButton;function IconChooser$4({icon:e,size:t}){const r={width:theme$2$8.icon.sizing[t],height:theme$2$8.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:e,style:r})}const IconButton$3=reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$5(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$4,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser$4,{size:a,icon:i})})}),styles$2$c={},_generateStyles$2$5=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$c[i])return styles$2$c[i];const o=theme$2$8.root.border.width[r],a=theme$2$8.root.border.offset[r],s=semanticColor$3.action[r][e],l=semanticColor$3.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$8.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$8.root.sizing[n],width:theme$2$8.root.sizing[n],borderRadius:theme$2$8.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$8.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$8.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$8.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$c[i]=StyleSheet.create(d),styles$2$c[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",styles:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$8(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a?.root],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed,a?.box],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$4,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View$2,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[p.label,a?.label],children:c})]})})});const theme$1$a={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},layout:{inlineSize:sizing$3.size_640}}},styles$1$e={},_generateStyles$1$8=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$e[n])return styles$1$e[n];const i=theme$1$a.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$a.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$a.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$a.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$a.root.border.radius,color:theme$1$a.label.color[e],flexDirection:"column",gap:sizing$3.size_020,maxInlineSize:200,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$a.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$a.root.shadow.y.hover} - ${theme$1$a.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},disabled:{cursor:"not-allowed",color:theme$1$a.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$a.root.border.radius,marginBlockEnd:theme$1$a.root.shadow.y.rest,paddingBlock:theme$1$a.root.layout.padding.block,paddingInline:theme$1$a.root.layout.padding.inline,inlineSize:theme$1$a.label.layout.inlineSize,justifyContent:"center",alignItems:"center",background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$a.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$e[n]=StyleSheet.create(u),styles$1$e[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$a(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$4,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles$4.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:i})})});const staticStyles$4=StyleSheet.create({icon:{width:sizing$3.size_160,height:sizing$3.size_160}}),styles$w={},theme$g={root:{border:{radius:border$3.radius.radius_full,width:{primary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},tertiary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium}}},layout:{padding:sizing$3.size_100},sizing:{default:sizing$3.size_360}}},_generateStyles$a=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$w[n])return styles$w[n];const i=theme$g.root.border.width[r],o=semanticColor$3.action[r][e],a=semanticColor$3.action[r].disabled,s={padding:theme$g.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$g.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$g.root.border.radius,padding:theme$g.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$g.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$w[n]=StyleSheet.create(c),styles$w[n]},defaultContext={close:void 0,placement:"top"},PopoverContext=reactExports.createContext(defaultContext);PopoverContext.displayName="PopoverContext";class PopoverAnchor extends reactExports.Component{componentDidMount(){const e=reactDomExports.findDOMNode(this);e&&this.props.anchorRef(e)}render(){const{children:e,id:t,onClick:r,"aria-controls":n,"aria-expanded":i}=this.props,o={id:t,"aria-controls":n,"aria-expanded":i};if("function"==typeof e){const t=e({open:r});return reactExports.cloneElement(t,o)}return reactExports.cloneElement(e,{...e.props,...o,onClick:e.props.onClick?t=>{t.stopPropagation(),e.props.onClick(),r()}:r})}}class PopoverDialog extends reactExports.Component{componentDidUpdate(e){e.placement!==this.props.placement&&this.props.onUpdate(this.props.placement)}render(){const{placement:e,children:t,id:r,isReferenceHidden:n,updateBubbleRef:i,updateTailRef:o,tailOffset:a,style:s,showTail:l,"aria-describedby":c,"aria-labelledby":u,"aria-label":d}=this.props,h=t.props.color;return jsxRuntimeExports$1.jsx(reactExports.Fragment,{children:jsxRuntimeExports$1.jsxs(View$2,{"aria-label":d,"aria-describedby":c,"aria-labelledby":u,id:r,role:"dialog",ref:i,"data-placement":e,style:[n&&styles$2$b.hide,styles$2$b[`content-${e}`],s],children:[t,jsxRuntimeExports$1.jsx(TooltipTail,{show:l,color:h,updateRef:o,placement:e,offset:a})]})})}}const styles$2$b=StyleSheet.create({hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"}}),FOCUSABLE_ELEMENTS='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function findFocusableNodes(e){return Array.from(e.querySelectorAll(FOCUSABLE_ELEMENTS))}function isFocusable(e){return e.matches(FOCUSABLE_ELEMENTS)}class PopoverEventListener extends reactExports.Component{componentDidMount(){window.addEventListener("keyup",this._handleKeyup),window.addEventListener("click",this._handleClick)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup),window.removeEventListener("click",this._handleClick)}render(){return null}constructor(...e){super(...e),this.state={isFirstClick:!0},this._handleKeyup=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),this.props.onClose(!0))},this._handleClick=e=>{if(this.state.isFirstClick)return void this.setState({isFirstClick:!1});const t=reactDomExports.findDOMNode(this.props.contentRef?.current);if(t&&!t.contains(e.target)){e.preventDefault(),e.stopPropagation();const t=!isFocusable(e.target);this.props.onClose(t)}}}}class InitialFocus extends reactExports.Component{componentDidMount(){const e=reactDomExports.findDOMNode(this);e&&this.setInitialFocusableElement(e)}maybeGetInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?e.querySelector(`#${t}`):null}maybeGetFirstFocusableElement(e){const t=findFocusableNodes(e);return t.length?t[0]:null}render(){return this.props.children}constructor(...e){super(...e),this.setInitialFocusableElement=e=>{const t=this.maybeGetInitialFocusElement(e)||this.maybeGetFirstFocusableElement(e)||e;t===e&&(e.tabIndex=-1),setTimeout(()=>{t.focus()},this.props.delay||0)}}}class FocusManager extends reactExports.Component{componentDidMount(){this.addEventListeners()}componentDidUpdate(){this.removeEventListeners(),this.addEventListeners()}componentWillUnmount(){this.changeFocusabilityInsidePopover(!0),this.removeEventListeners()}removeEventListeners(){const{anchorElement:e}=this.props;e&&e.removeEventListener("keydown",this.handleKeydownPreviousFocusableElement),this.nextElementAfterPopover||window.removeEventListener("blur",()=>{this.changeFocusabilityInsidePopover(!0)}),this.firstFocusableElementInPopover&&this.firstFocusableElementInPopover.removeEventListener("keydown",this.handleKeydownFirstFocusableElement),this.lastFocusableElementInPopover&&this.lastFocusableElementInPopover.removeEventListener("keydown",this.handleKeydownLastFocusableElement),this.nextElementAfterPopover&&this.nextElementAfterPopover.removeEventListener("keydown",this.handleKeydownNextFocusableElement)}render(){const{children:e}=this.props;return jsxRuntimeExports$1.jsx("div",{ref:this.getComponentRootNode,onClick:()=>{this.changeFocusabilityInsidePopover(!0)},onFocus:()=>{this.changeFocusabilityInsidePopover(!0)},onBlur:()=>{this.changeFocusabilityInsidePopover(!1)},children:jsxRuntimeExports$1.jsx(InitialFocus,{initialFocusId:this.props.initialFocusId,delay:this.props.initialFocusDelay,children:e})})}constructor(...e){super(...e),this.elementsThatCanBeFocusableInsidePopover=[],this.firstFocusableElementInPopover=null,this.lastFocusableElementInPopover=null,this.addEventListeners=()=>{const{anchorElement:e}=this.props;e&&e.addEventListener("keydown",this.handleKeydownPreviousFocusableElement),this.rootNode&&(this.elementsThatCanBeFocusableInsidePopover=findFocusableNodes(this.rootNode),this.firstFocusableElementInPopover=this.elementsThatCanBeFocusableInsidePopover[0],this.lastFocusableElementInPopover=this.elementsThatCanBeFocusableInsidePopover[this.elementsThatCanBeFocusableInsidePopover.length-1]),this.nextElementAfterPopover=this.getNextFocusableElement(),this.nextElementAfterPopover||window.addEventListener("blur",()=>{this.changeFocusabilityInsidePopover(!0)}),this.firstFocusableElementInPopover&&this.firstFocusableElementInPopover.addEventListener("keydown",this.handleKeydownFirstFocusableElement),this.lastFocusableElementInPopover&&this.lastFocusableElementInPopover.addEventListener("keydown",this.handleKeydownLastFocusableElement),this.nextElementAfterPopover&&this.nextElementAfterPopover.addEventListener("keydown",this.handleKeydownNextFocusableElement)},this.handleKeydownFirstFocusableElement=e=>{"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),this.props.anchorElement?.focus())},this.handleKeydownLastFocusableElement=e=>{this.nextElementAfterPopover&&"Tab"===e.key&&!e.shiftKey&&(e.preventDefault(),this.nextElementAfterPopover?.focus())},this.getNextFocusableElement=()=>{const{anchorElement:e}=this.props;if(!e)return;const t=findFocusableNodes(document).filter(e=>this.elementsThatCanBeFocusableInsidePopover.indexOf(e)<0),r=t.indexOf(e);if(r>=0&&r!==t.length-1){return t[r<t.length-1?r+1:0]}},this.getComponentRootNode=e=>{if(!e)return;const t=reactDomExports.findDOMNode(e);if(!t)throw new Error("Assertion error: root node should exist after mount");this.rootNode=t},this.handleFocusPreviousFocusableElement=()=>{this.props.anchorElement&&this.props.anchorElement.focus()},this.changeFocusabilityInsidePopover=(e=!0)=>{const t=e?"0":"-1";this.elementsThatCanBeFocusableInsidePopover.forEach(e=>{e.setAttribute("tabIndex",t)})},this.handleFocusNextFocusableElement=()=>{this.nextElementAfterPopover&&this.nextElementAfterPopover.focus()},this.handleKeydownPreviousFocusableElement=e=>{"Tab"!==e.key||e.shiftKey||(e.preventDefault(),this.firstFocusableElementInPopover?.focus())},this.handleKeydownNextFocusableElement=e=>{"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),this.lastFocusableElementInPopover?.focus())}}}class Popover extends reactExports.Component{static getDerivedStateFromProps(e,t){return{opened:"boolean"==typeof e.opened?e.opened:t.opened}}renderContent(e){const{content:t}=this.props,r="function"==typeof t?t({close:this.handleClose}):t;return reactExports.cloneElement(r,{ref:this.contentRef,uniqueId:e})}renderPopper(e){const{initialFocusId:t,placement:r,showTail:n,portal:i,"aria-label":o,"aria-describedby":a,rootBoundary:s,viewportPadding:l,initialFocusDelay:c}=this.props,{anchorElement:u}=this.state,d=a||`${e}-content`,h=o?void 0:`${e}-title`,p=jsxRuntimeExports$1.jsx(TooltipPopper,{anchorElement:u,placement:r,rootBoundary:s,viewportPadding:l,children:t=>jsxRuntimeExports$1.jsx(PopoverDialog,{...t,"aria-label":o,"aria-describedby":d,"aria-labelledby":h,id:e,onUpdate:e=>this.setState({placement:e}),showTail:n,children:this.renderContent(e)})});return i?jsxRuntimeExports$1.jsx(FocusManager,{anchorElement:u,initialFocusId:t,initialFocusDelay:c,children:p}):jsxRuntimeExports$1.jsx(InitialFocus,{initialFocusId:t,delay:c,children:p})}getHost(){return maybeGetPortalMountedModalHostElement(this.state.anchorElement)||document.body}renderPortal(e,t){if(!t)return null;const{portal:r}=this.props,n=this.getHost();return r&&n?reactDomExports.createPortal(this.renderPopper(e),n):this.renderPopper(e)}render(){const{children:e,dismissEnabled:t,id:r}=this.props,{opened:n,placement:i}=this.state;return jsxRuntimeExports$1.jsxs(PopoverContext.Provider,{value:{close:this.handleClose,placement:i},children:[jsxRuntimeExports$1.jsx(Id,{id:r,children:t=>jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx(PopoverAnchor,{anchorRef:this.updateRef,id:`${t}-anchor`,"aria-controls":t,"aria-expanded":n?"true":"false",onClick:this.handleOpen,children:e}),this.renderPortal(t,n)]})}),t&&n&&jsxRuntimeExports$1.jsx(PopoverEventListener,{onClose:this.handleClose,contentRef:this.contentRef})]})}constructor(...e){super(...e),this.state={opened:!!this.props.opened,placement:this.props.placement},this.contentRef=reactExports.createRef(),this.maybeReturnFocus=()=>{const{anchorElement:e}=this.state,{closedFocusId:t}=this.props;if(t){const e=reactDomExports.findDOMNode(document.getElementById(t));return void e?.focus()}e&&e.focus()},this.handleClose=(e=!0)=>{this.setState({opened:!1},()=>{this.props.onClose?.(),e&&this.maybeReturnFocus()})},this.handleOpen=()=>{this.props.dismissEnabled&&this.state.opened?this.handleClose(!0):this.setState({opened:!0})},this.updateRef=e=>{e&&this.state.anchorElement!==e&&this.setState({anchorElement:e})}}}Popover.defaultProps={placement:"top",showTail:!0,portal:!0,rootBoundary:"viewport"};class CloseButton extends reactExports.Component{render(){const{"aria-label":e,style:t,testId:r}=this.props;return jsxRuntimeExports$1.jsx(PopoverContext.Consumer,{children:({close:n})=>jsxRuntimeExports$1.jsx(IconButton$3,{icon:xIcon,"aria-label":e,onClick:n,kind:"tertiary",actionType:"neutral",style:t,testId:r})})}}CloseButton.defaultProps={"aria-label":"Close Popover"};class PopoverContentCore extends reactExports.Component{render(){const{"aria-label":e,children:t,closeButtonLight:r,closeButtonLabel:n,closeButtonVisible:i,style:o,testId:a}=this.props;return jsxRuntimeExports$1.jsxs(View$2,{testId:a,style:[styles$1$d.content,o],"aria-label":e,children:[i&&jsxRuntimeExports$1.jsx(CloseButton,{"aria-label":n,style:[styles$1$d.closeButton,r&&actionStyles.inverse],testId:`${a||"popover"}-close-btn`}),t]})}}PopoverContentCore.defaultProps={closeButtonLight:!1,closeButtonVisible:!1};const styles$1$d=StyleSheet.create({content:{borderRadius:border$3.radius.radius_040,border:`solid 1px ${semanticColor$3.core.border.neutral.subtle}`,backgroundColor:semanticColor$3.core.background.base.default,boxShadow:boxShadow$3.mid,margin:0,maxWidth:18*spacing$2.medium_16,padding:spacing$2.large_24,overflow:"hidden",justifyContent:"center"},closeButton:{margin:0,position:"absolute",right:spacing$2.xxxSmall_4,top:spacing$2.xxxSmall_4,zIndex:1}}),StyledImg=addStyle$1("img");class PopoverContent extends reactExports.Component{componentDidMount(){const{icon:e,image:t}=this.props;if(t&&e)throw new Error("'image' and 'icon' cannot be used at the same time. You can fix this by either removing 'image' or 'icon' from your instance.")}validateProps({placement:e}){if(this.props.image&&("left"===e||"right"===e))throw new Error("'image' can only be vertically placed. You can fix this by either changing `placement` to `top` or `bottom` or removing the `image` prop inside `content`.")}render(){const{closeButtonLabel:e,closeButtonVisible:t,content:r,icon:n,image:i,style:o,title:a,testId:s,uniqueId:l}=this.props;return jsxRuntimeExports$1.jsx(PopoverContext.Consumer,{children:({close:c,placement:u})=>(this.validateProps({close:c,placement:u}),jsxRuntimeExports$1.jsxs(PopoverContentCore,{closeButtonLight:i&&"top"===u,closeButtonLabel:e,closeButtonVisible:t,style:o,testId:s,children:[jsxRuntimeExports$1.jsxs(View$2,{style:!!n&&styles$v.withIcon,children:[this.maybeRenderImage({placement:u}),this.maybeRenderIcon(),jsxRuntimeExports$1.jsxs(View$2,{style:styles$v.text,children:[jsxRuntimeExports$1.jsx(HeadingSmall,{id:`${l}-title`,style:styles$v.title,children:a}),jsxRuntimeExports$1.jsx(Body,{id:`${l}-content`,children:r})]})]}),this.maybeRenderActions(c)]}))})}constructor(...e){super(...e),this.maybeRenderImage=({placement:e})=>{const{image:t}=this.props;return t?jsxRuntimeExports$1.jsx(View$2,{style:[styles$v.image,"bottom"===e&&styles$v.imageToBottom],children:t}):null},this.maybeRenderIcon=()=>{const{icon:e,iconAlt:t}=this.props;return e?jsxRuntimeExports$1.jsx(View$2,{style:styles$v.iconContainer,children:"string"!=typeof e?e:jsxRuntimeExports$1.jsx(StyledImg,{src:e,style:styles$v.icon,alt:t||""})}):null},this.maybeRenderActions=e=>{const{actions:t}=this.props;return t?jsxRuntimeExports$1.jsx(View$2,{style:styles$v.actions,children:"function"==typeof t?t({close:e}):t}):null}}}PopoverContent.defaultProps={closeButtonVisible:!1};const styles$v=StyleSheet.create({actions:{marginTop:spacing$2.large_24,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},text:{justifyContent:"center"},title:{marginBottom:spacing$2.xSmall_8},iconContainer:{alignItems:"center",justifyContent:"center",height:spacing$2.xxxLarge_64,width:spacing$2.xxxLarge_64,minWidth:spacing$2.xxxLarge_64,marginRight:spacing$2.medium_16,overflow:"hidden"},icon:{width:"100%"},withIcon:{flexDirection:"row"},image:{marginBottom:spacing$2.large_24,marginLeft:-24,marginRight:-24,marginTop:-24,width:`calc(100% + ${2*spacing$2.large_24}px)`},imageToBottom:{marginBottom:-24,marginTop:spacing$2.large_24,order:1}});for(var byteToHex=[],i$1=0,getRandomValues;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const native={randomUUID:randomUUID};function v4(e,t,r){if(native.randomUUID&&!e)return native.randomUUID();var n=(e=e||{}).random||(e.rng||rng)();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,unsafeStringify(n)}const checkIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z'/%3e%3c/svg%3e",minusIcon$1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M228,128a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128Z'/%3e%3c/svg%3e";var themeDefault$b={choice:{inputWrapper:{layout:{padding:sizing$3.size_0,margin:sizing$3.size_0}}},description:{color:{foreground:semanticColor$3.core.foreground.neutral.default}},field:{border:{radius:border$3.radius.radius_040,width:{error:border$3.width.thin,press:border$3.width.none}},sizing:{height:sizing$3.size_400},layout:{paddingBlock:sizing$3.size_100,paddingInline:sizing$3.size_160}}},theme$f=mapValuesToCssVars$2(themeDefault$b,"--wb-c-form-");const baseStyles$1={choice:{sizing:{size:sizing$3.size_160},checked:{border:semanticColor$3.input.checked.border},disabled:{border:semanticColor$3.input.disabled.border,background:semanticColor$3.input.disabled.background},error:{border:semanticColor$3.input.error.border,background:semanticColor$3.input.error.background},unchecked:{rest:{border:semanticColor$3.input.default.border,background:semanticColor$3.input.default.background},hover:{border:semanticColor$3.action.secondary.progressive.hover.border,background:semanticColor$3.action.secondary.progressive.hover.background},press:{border:semanticColor$3.action.secondary.progressive.press.border,background:semanticColor$3.action.secondary.progressive.press.background}}},radio:{border:{radius:{default:border$3.radius.radius_full},width:{default:border$3.width.thin}}},checkbox:{border:{radius:{default:border$3.radius.radius_040},width:{default:border$3.width.thin}},sizing:{checkSize:sizing$3.size_120},disabledChecked:{border:semanticColor$3.core.transparent,background:semanticColor$3.core.background.disabled.strong}},icon:{default:{foreground:semanticColor$3.core.foreground.knockout.default},disabled:{foreground:semanticColor$3.core.foreground.neutral.subtle}}},colorStates={checkbox:{unchecked:{default:baseStyles$1.choice.unchecked,disabled:{rest:baseStyles$1.choice.disabled,hover:baseStyles$1.choice.disabled,press:baseStyles$1.choice.disabled},error:{rest:baseStyles$1.choice.error,hover:baseStyles$1.choice.error,press:{...baseStyles$1.choice.error,border:semanticColor$3.core.border.critical.strong}}},checked:{default:{rest:{border:semanticColor$3.core.transparent,background:semanticColor$3.input.checked.background},hover:{border:semanticColor$3.core.border.instructive.default},press:{border:semanticColor$3.input.checked.border,background:semanticColor$3.core.background.instructive.strong}},disabled:{rest:baseStyles$1.checkbox.disabledChecked,hover:baseStyles$1.checkbox.disabledChecked,press:baseStyles$1.checkbox.disabledChecked},error:{rest:{background:semanticColor$3.core.border.critical.default,border:semanticColor$3.core.border.critical.default},hover:{background:semanticColor$3.core.background.critical.default,border:semanticColor$3.core.border.critical.default},press:{background:semanticColor$3.core.background.critical.strong,border:semanticColor$3.core.border.critical.strong}}}},radio:{unchecked:{default:baseStyles$1.choice.unchecked,disabled:{rest:baseStyles$1.choice.disabled,hover:baseStyles$1.choice.disabled,press:baseStyles$1.choice.disabled},error:{rest:baseStyles$1.choice.error,hover:baseStyles$1.choice.error,press:{...baseStyles$1.choice.error,border:semanticColor$3.core.border.critical.strong}}},checked:{default:{rest:{border:semanticColor$3.input.checked.background,background:semanticColor$3.core.background.base.default},hover:baseStyles$1.choice.checked,press:{border:semanticColor$3.core.background.instructive.strong,background:semanticColor$3.core.background.instructive.strong}},error:{rest:baseStyles$1.choice.error,hover:baseStyles$1.choice.error,press:{...baseStyles$1.choice.error,background:semanticColor$3.core.background.critical.strong,border:semanticColor$3.core.border.critical.strong}},disabled:{rest:{border:semanticColor$3.core.border.disabled.default,background:semanticColor$3.core.background.base.default},hover:{border:semanticColor$3.core.border.disabled.strong,background:semanticColor$3.core.background.base.default},press:{border:semanticColor$3.core.border.disabled.strong,background:semanticColor$3.core.background.base.default}}}}};function mapCheckedToAriaChecked(e){switch(e){case!0:return"true";case!1:return"false";default:return"mixed"}}const StyledInput$2=addStyle$1("input"),CheckboxCore=reactExports.forwardRef(function(e,t){const{checked:r,disabled:n,error:i,groupName:o,id:a,testId:s,...l}=e,c=reactExports.useRef(null);reactExports.useEffect(()=>{null!=c.current&&(c.current.indeterminate=null==r)},[r,c]);const u=_generateStyles$1$7(r,i,n),d=[sharedStyles$1$1.inputReset,sharedStyles$1$1.default,u.default],h=[sharedStyles$1$1.inputWrapper,u.inputWrapper],p=jsxRuntimeExports$1.jsx(PhosphorIcon$3,{color:n?baseStyles$1.icon.disabled.foreground:baseStyles$1.icon.default.foreground,icon:r?checkIcon:minusIcon$1,size:"small",style:[sharedStyles$1$1.checkboxIcon,{width:baseStyles$1.checkbox.sizing.checkSize,height:baseStyles$1.checkbox.sizing.checkSize}]}),f=mapCheckedToAriaChecked(r);return jsxRuntimeExports$1.jsx(reactExports.Fragment,{children:jsxRuntimeExports$1.jsxs(View$2,{style:h,onClick:e=>{n||e.target===c.current||c.current?.click()},testId:"wb-checkbox-wrapper",children:[jsxRuntimeExports$1.jsx(StyledInput$2,{...l,ref:e=>{c.current=e,"function"==typeof t?t(e):null!=t&&(t.current=e)},type:"checkbox","aria-checked":f,"aria-invalid":i,checked:r??void 0,disabled:n,id:a,name:o,onChange:()=>{},style:d,"data-testid":s}),r||null==r?p:jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{})]})})}),sharedStyles$1$1=StyleSheet.create({inputWrapper:{margin:theme$f.choice.inputWrapper.layout.margin,padding:theme$f.choice.inputWrapper.layout.padding,position:"relative"},inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:baseStyles$1.choice.sizing.size,width:baseStyles$1.choice.sizing.size,minHeight:baseStyles$1.choice.sizing.size,minWidth:baseStyles$1.choice.sizing.size,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:baseStyles$1.checkbox.border.width.default,borderRadius:baseStyles$1.checkbox.border.radius.default},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:`calc((${baseStyles$1.choice.sizing.size} - ${baseStyles$1.checkbox.sizing.checkSize}) / 2)`}}),styles$6$1={},_generateStyles$1$7=(e,t,r)=>{const n=`${String(e)}-${String(t)}-${String(r)}`;if(styles$6$1[n])return styles$6$1[n];let i={};const o=t?"error":r?"disabled":"default";if(e||null==e){const e=colorStates.checkbox.checked[o];i={inputWrapper:{":hover input:not([disabled])":{outline:`${border$3.width.medium} solid ${e.hover.border}`,outlineOffset:1}},default:{backgroundColor:e.rest.background,borderColor:e.rest.border,":focus-visible:not([disabled])":focusStyles$2.focus[":focus-visible"],":active:not([disabled])":{outline:`${border$3.width.medium} solid ${e.press.border}`,outlineOffset:1,background:e.press.background,borderColor:e.press.background}}}}else{const e=colorStates.checkbox.unchecked[o];i={inputWrapper:{":hover input:not([disabled])":{backgroundColor:e.hover.background,outline:`${border$3.width.medium} solid ${e.hover.border}`,outlineOffset:-1}},default:{backgroundColor:e.rest.background,borderColor:e.rest.border,":focus-visible:not([disabled])":{...focusStyles$2.focus},":active:not([disabled])":{backgroundColor:e.press.background,outline:`${border$3.width.medium} solid ${e.press.border}`,outlineOffset:-1}}}}return styles$6$1[n]=StyleSheet.create(i),styles$6$1[n]},StyledInput$1=addStyle$1("input"),RadioCore=reactExports.forwardRef(function(e,t){const r=reactExports.useRef(null),{checked:n,disabled:i,error:o,groupName:a,id:s,testId:l,...c}=e,u=_generateStyles$9(n,o,i),d=[sharedStyles$4.inputReset,sharedStyles$4.default,u.default],h=[sharedStyles$4.inputWrapper,u.inputWrapper];return jsxRuntimeExports$1.jsx(reactExports.Fragment,{children:jsxRuntimeExports$1.jsxs(View$2,{style:h,onClick:e=>{i||e.target===r?.current||r?.current?.click()},children:[jsxRuntimeExports$1.jsx(StyledInput$1,{...c,type:"radio","aria-invalid":o,checked:n??void 0,disabled:i,id:s,name:a,onChange:()=>{},style:d,"data-testid":l,ref:e=>{r.current=e,"function"==typeof t?t(e):null!=t&&(t.current=e)}}),i&&n&&jsxRuntimeExports$1.jsx("span",{style:u.disabledChecked})]})})}),sharedStyles$4=StyleSheet.create({inputWrapper:{padding:theme$f.choice.inputWrapper.layout.padding,margin:theme$f.choice.inputWrapper.layout.margin,position:"relative"},inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:baseStyles$1.choice.sizing.size,width:baseStyles$1.choice.sizing.size,minHeight:baseStyles$1.choice.sizing.size,minWidth:baseStyles$1.choice.sizing.size,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:baseStyles$1.radio.border.width.default,borderRadius:baseStyles$1.radio.border.radius.default}}),styles$5$2={},_generateStyles$9=(e,t,r)=>{const n=`${String(e)}-${String(t)}-${String(r)}`;if(styles$5$2[n])return styles$5$2[n];let i={};const o=t?"error":r?"disabled":"default";if(e){const e=colorStates.radio.checked[o];i={inputWrapper:{":hover input:not([disabled])":{outline:`${border$3.width.medium} solid ${e.hover.border}`,outlineOffset:1}},default:{backgroundColor:e.rest.background,borderColor:e.rest.border,borderWidth:`calc(${baseStyles$1.choice.sizing.size} / 4)`,":focus-visible:not([disabled])":focusStyles$2.focus[":focus-visible"],":active:not([disabled])":{outline:`${border$3.width.medium} solid ${e.press.border}`,outlineOffset:1,borderColor:e.press.border}},disabledChecked:{position:"absolute",top:`calc(${baseStyles$1.choice.sizing.size} * .25 + ${theme$f.choice.inputWrapper.layout.padding})`,left:`calc(${baseStyles$1.choice.sizing.size} * .25 + ${theme$f.choice.inputWrapper.layout.padding})`,height:`calc(${baseStyles$1.choice.sizing.size} / 2)`,width:`calc(${baseStyles$1.choice.sizing.size} / 2)`,borderRadius:baseStyles$1.radio.border.radius.default,backgroundColor:e.rest.background}}}else{const e=colorStates.radio.unchecked[o];i={inputWrapper:{":hover input:not([disabled])":{backgroundColor:e.hover.background,outline:`${border$3.width.medium} solid ${e.hover.border}`,outlineOffset:-1}},default:{backgroundColor:e.rest.background,borderColor:e.rest.border,":focus-visible:not([disabled])":focusStyles$2.focus[":focus-visible"],":active:not([disabled])":{backgroundColor:e.press.background,outline:`${border$3.width.medium} solid ${e.press.border}`,outlineOffset:-1}}}}return styles$5$2[n]=StyleSheet.create(i),styles$5$2[n]},ChoiceInternal=reactExports.forwardRef(function(e,t){const{checked:r,description:n,disabled:i=!1,error:o=!1,id:a,label:s,onChange:l,style:c,className:u,variant:d,...h}=e,p=()=>{"radio"===d&&r||l(!r)},f=e=>jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",style:styles$4$2.description,id:e,children:n}),m="radio"===d?RadioCore:CheckboxCore;return jsxRuntimeExports$1.jsx(Id,{id:a,children:e=>{const a=n?`${e}-description`:void 0;return jsxRuntimeExports$1.jsxs(View$2,{style:c,className:u,children:[jsxRuntimeExports$1.jsxs(View$2,{style:styles$4$2.wrapper,tabIndex:-1,children:[jsxRuntimeExports$1.jsx(View$2,{style:[styles$4$2.choiceWrapper],children:jsxRuntimeExports$1.jsx(m,{...h,id:e,checked:r,"aria-describedby":a,onClick:p,disabled:i,error:o,ref:t})}),s&&(l=e,jsxRuntimeExports$1.jsx(BodyText$3,{tag:"div",weight:"semi",style:[styles$4$2.label,i&&styles$4$2.disabledLabel],children:jsxRuntimeExports$1.jsx("label",{htmlFor:l,children:s})}))]}),n&&f(a)]});var l}})}),styles$4$2=StyleSheet.create({wrapper:{gap:spacing$2.xSmall_8,lineHeight:font$3.body.lineHeight.small,flexDirection:"row",alignItems:"flex-start",outline:"none"},choiceWrapper:{display:"block",marginBlockStart:sizing$3.size_010},label:{color:semanticColor$3.core.foreground.neutral.strong,lineHeight:font$3.body.lineHeight.small},disabledLabel:{color:semanticColor$3.core.foreground.disabled.subtle},description:{marginLeft:spacing$2.medium_16+spacing$2.xSmall_8,marginTop:spacing$2.xxxSmall_4,color:theme$f.description.color.foreground}}),Checkbox$1=reactExports.forwardRef(function(e,t){const{disabled:r=!1,error:n=!1}=e;return jsxRuntimeExports$1.jsx(ChoiceInternal,{...e,variant:"checkbox",disabled:r,error:n,ref:t})}),Radio=reactExports.forwardRef(function(e,t){const{disabled:r=!1,error:n=!1,...i}=e;return jsxRuntimeExports$1.jsx(ChoiceInternal,{...i,variant:"radio",disabled:r,error:n,ref:t})});reactExports.forwardRef(function(e,t){const{checked:r=!1,disabled:n=!1,onChange:i=()=>{},value:o,variant:a,...s}=e,l="checkbox"===a?Checkbox$1:Radio;return jsxRuntimeExports$1.jsx(l,{...s,checked:r,disabled:n,onChange:i,ref:t})});const styles$3$5=StyleSheet.create({fieldset:{display:"flex",flexDirection:"column",border:"none",padding:0,margin:0},legend:{padding:0,width:"100%"},description:{marginTop:spacing$2.xxxSmall_4,color:theme$f.description.color.foreground},error:{marginTop:spacing$2.xxxSmall_4,color:semanticColor$3.status.critical.foreground},defaultLineGap:{marginTop:spacing$2.xSmall_8}}),StyledFieldset$1=addStyle$1("fieldset"),StyledLegend$1=addStyle$1("legend");reactExports.forwardRef(function(e,t){const{children:r,label:n,description:i,errorMessage:o,groupName:a,onChange:s,selectedValues:l,style:c,testId:u}=e,d=reactExports.Children.toArray(r).filter(Boolean);return jsxRuntimeExports$1.jsxs(StyledFieldset$1,{"data-testid":u,style:[styles$3$5.fieldset,c],ref:t,children:[n&&jsxRuntimeExports$1.jsx(StyledLegend$1,{style:styles$3$5.legend,children:jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",children:n})}),i&&jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",tag:"span",style:styles$3$5.description,children:i}),o&&jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",tag:"span",style:styles$3$5.error,children:o}),(n||i||o)&&jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.small_12}),d.map((e,t)=>{const{style:r,value:n}=e.props,i=l.includes(n);return reactExports.cloneElement(e,{checked:i,error:!!o,groupName:a,id:`${a}-${n}`,key:n,onChange:()=>((e,t)=>{if(t){const t=l.indexOf(e),r=[...l.slice(0,t),...l.slice(t+1)];s(r)}else s([...l,e])})(n,i),style:[t>0&&styles$3$5.defaultLineGap,r],variant:"checkbox"})})]})});const StyledFieldset=addStyle$1("fieldset"),StyledLegend=addStyle$1("legend");reactExports.forwardRef(function(e,t){const{children:r,label:n,description:i,errorMessage:o,groupName:a,onChange:s,selectedValue:l,style:c,testId:u}=e,d=reactExports.Children.toArray(r).filter(Boolean);return jsxRuntimeExports$1.jsxs(StyledFieldset,{"data-testid":u,style:[styles$3$5.fieldset,c],ref:t,children:[n&&jsxRuntimeExports$1.jsx(StyledLegend,{style:styles$3$5.legend,children:jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",children:n})}),i&&jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",style:styles$3$5.description,children:i}),o&&jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",style:styles$3$5.error,children:o}),(n||i||o)&&jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.small_12}),d.map((e,t)=>{const{style:r,value:n}=e.props,i=l===n;return reactExports.cloneElement(e,{checked:i,error:!!o,groupName:a,id:`${a}-${n}`,key:n,onChange:()=>s(n),style:[t>0&&styles$3$5.defaultLineGap,r],variant:"radio"})})]})});const defaultErrorMessage$1="This field is required.",useFieldValidation=({value:e,disabled:t=!1,validate:r,onValidate:n,required:i=!1,instantValidation:o=!0})=>{const[a,s]=reactExports.useState(()=>r&&""!==e&&!t&&r(e)||null),l=e=>{if(!t)if(r){const t=r(e)||null;s(t),n&&n(t)}else if(i){const t=e?null:"string"==typeof i?i:defaultErrorMessage$1;s(t),n&&n(t)}};return useOnMountEffect(()=>{""!==e&&l(e)}),{errorMessage:a,onBlurValidation:e=>{o||(e||i)&&l(e)},onChangeValidation:e=>{o?l(e):(s(null),n&&n(null))}}},StyledInput$3=addStyle$1("input"),TextField=e=>{const{id:t,type:r="text",value:n,name:i,disabled:o=!1,error:a,validate:s,onValidate:l,required:c,placeholder:u,style:d,testId:h,readOnly:p,autoFocus:f,autoComplete:m,forwardedRef:g,instantValidation:y=!0,onKeyDown:b,onChange:v,onFocus:x,onBlur:$,onPaste:S,...E}=e,{errorMessage:w,onBlurValidation:_,onChangeValidation:M}=useFieldValidation({value:n,required:c,disabled:o,instantValidation:y,validate:s,onValidate:l}),C=a||!!w,T=e=>{const t=e.target.value;M(t),v(t)},R=e=>{x&&x(e)},O=e=>{_(e.target.value),$&&$(e)};return jsxRuntimeExports$1.jsx(Id,{id:t,children:e=>jsxRuntimeExports$1.jsx(StyledInput$3,{style:[styles$2$a.input,styles$B.BodyTextMediumMediumWeight,styles$2$a.default,o&&styles$2$a.disabled,C&&styles$2$a.error,p&&styles$2$a.readOnly,d],id:e,type:r,placeholder:u,value:n,name:i,"aria-disabled":o,"aria-required":!!c,onChange:T,onKeyDown:o?void 0:b,onFocus:R,onBlur:O,onPaste:o?void 0:S,"data-testid":h,readOnly:p||o,autoFocus:f,autoComplete:m,ref:g,"aria-invalid":C,...E})})},styles$2$a=StyleSheet.create({input:{width:"100%",height:theme$f.field.sizing.height,borderRadius:theme$f.field.border.radius,boxSizing:"border-box",paddingInline:theme$f.field.layout.paddingInline,paddingBlock:theme$f.field.layout.paddingBlock,margin:sizing$3.size_0},readOnly:{background:semanticColor$3.input.readOnly.background,color:semanticColor$3.input.readOnly.text},default:{background:semanticColor$3.input.default.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.default.border}`,color:semanticColor$3.input.default.foreground,"::placeholder":{color:semanticColor$3.input.default.placeholder},...focusStyles$2.focus,":active:not([aria-disabled='true']):not([readonly])":{boxShadow:`0 0 0 ${theme$f.field.border.width.press} ${semanticColor$3.input.default.border}`}},error:{background:semanticColor$3.input.error.background,border:`${theme$f.field.border.width.error} solid ${semanticColor$3.input.error.border}`,color:semanticColor$3.input.error.foreground,"::placeholder":{color:semanticColor$3.input.default.placeholder}},disabled:{background:semanticColor$3.input.disabled.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.disabled.border}`,color:semanticColor$3.input.disabled.foreground,"::placeholder":{color:semanticColor$3.input.disabled.placeholder},cursor:"not-allowed"}});var TextField$1=reactExports.forwardRef((e,t)=>jsxRuntimeExports$1.jsx(TextField,{...e,forwardedRef:t}));const StyledSpan$4=addStyle$1("span");class FieldHeading extends reactExports.Component{renderLabel(){const{label:e,id:t,required:r,testId:n}=this.props,i=jsxRuntimeExports$1.jsxs(StyledSpan$4,{style:styles$1$c.required,"aria-hidden":!0,children:[" ","*"]});return jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsxs(LabelMedium,{style:styles$1$c.label,tag:"label",htmlFor:t&&`${t}-field`,testId:n&&`${n}-label`,children:[e,r&&i]}),jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.xxxSmall_4})]})}maybeRenderDescription(){const{description:e,testId:t}=this.props;return e?jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx(LabelSmall,{style:styles$1$c.description,testId:t&&`${t}-description`,children:e}),jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.xxxSmall_4})]}):null}maybeRenderError(){const{error:e,id:t,testId:r}=this.props;return e?jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.small_12}),jsxRuntimeExports$1.jsx(LabelSmall,{style:styles$1$c.error,role:"alert",id:t&&`${t}-error`,testId:r&&`${r}-error`,children:e})]}):null}render(){const{field:e,style:t}=this.props;return jsxRuntimeExports$1.jsxs(View$2,{style:t,children:[this.renderLabel(),this.maybeRenderDescription(),jsxRuntimeExports$1.jsx(Strut,{size:spacing$2.xSmall_8}),e,this.maybeRenderError()]})}}const styles$1$c=StyleSheet.create({label:{color:semanticColor$3.core.foreground.neutral.strong},description:{color:theme$f.description.color.foreground},error:{color:semanticColor$3.status.critical.foreground},required:{color:semanticColor$3.status.critical.foreground}});class LabeledTextField extends reactExports.Component{render(){const{id:e,type:t,label:r,description:n,value:i,disabled:o,required:a,validate:s,onChange:l,onKeyDown:c,placeholder:u,style:d,testId:h,readOnly:p,autoComplete:f,forwardedRef:m,ariaDescribedby:g,name:y,onValidate:b,onFocus:v,onBlur:x,...$}=this.props;return jsxRuntimeExports$1.jsx(Id,{id:e,children:e=>jsxRuntimeExports$1.jsx(FieldHeading,{id:e,testId:h,style:d,field:jsxRuntimeExports$1.jsx(TextField$1,{id:`${e}-field`,"aria-describedby":g||`${e}-error`,"aria-required":a?"true":"false",required:a,testId:h&&`${h}-field`,type:t,value:i,placeholder:u,disabled:o,validate:s,onValidate:this.handleValidate,onChange:l,onKeyDown:c,onFocus:this.handleFocus,onBlur:this.handleBlur,readOnly:p,autoComplete:f,ref:m,name:y,...$}),label:r,description:n,required:!!a,error:!this.state.focused&&this.state.error||""})})}constructor(e){super(e),this.handleValidate=e=>{const{onValidate:t}=this.props;this.setState({error:e},()=>{t&&t(e)})},this.handleFocus=e=>{const{onFocus:t}=this.props;this.setState({focused:!0},()=>{t&&t(e)})},this.handleBlur=e=>{const{onBlur:t}=this.props;this.setState({focused:!1},()=>{t&&t(e)})},this.state={error:null,focused:!1}}}LabeledTextField.defaultProps={type:"text",disabled:!1},reactExports.forwardRef((e,t)=>jsxRuntimeExports$1.jsx(LabeledTextField,{...e,forwardedRef:t}));const StyledTextarea=addStyle$1("textarea");function getHeightForNumberOfRows(e){return`calc((${e} * ${font$3.body.lineHeight.medium}) + (2 * ${theme$f.field.layout.paddingBlock}) + (2 * ${border$3.width.thin}))`}function getTextAreaHeight(e){const t=e.style.getPropertyValue("height"),r=e.style.getPropertyPriority("height"),n=e.style.getPropertyValue("overflow"),i=e.style.getPropertyPriority("overflow");e.style.setProperty("height","0px","important"),e.style.setProperty("overflow","hidden","important");const o=getComputedStyle(e),a=o.borderTopWidth,s=o.borderBottomWidth,l=`calc(${e.scrollHeight}px + ${a} + ${s})`;return t?e.style.setProperty("height",t,r):e.style.removeProperty("height"),n?e.style.setProperty("overflow",n,i):e.style.removeProperty("overflow"),l}const TextArea=reactExports.forwardRef(function(e,t){const{onChange:r,value:n,placeholder:i,disabled:o,id:a,testId:s,style:l,readOnly:c,autoComplete:u,name:d,className:h,autoFocus:p,rows:f=2,spellCheck:m,wrap:g,minLength:y,maxLength:b,onClick:v,onKeyDown:x,onKeyUp:$,onFocus:S,onBlur:E,onPaste:w,validate:_,onValidate:M,required:C,resizeType:T,rootStyle:R,error:O,autoResize:k=!1,maxRows:A=6,instantValidation:N=!0,...I}=e,{errorMessage:L,onBlurValidation:P,onChangeValidation:B}=useFieldValidation({value:n,disabled:o,validate:_,onValidate:M,required:C,instantValidation:N}),q=reactExports.useRef(null),[j,D]=reactExports.useState("0px"),F=O||!!L,z=reactExports.useId(),W=a??z;useOnMountEffect(()=>{if(!k)return;const e=q.current?.children[0];if(e&&window?.ResizeObserver){const t=new window.ResizeObserver(([e])=>{e&&D(getTextAreaHeight(e.target))});return t.observe(e),()=>{t.disconnect()}}});const H=[styles$u.autoResize,{height:j,maxHeight:getHeightForNumberOfRows(Math.max(A,f))}];return reactExports.useEffect(()=>{k&&D(getTextAreaHeight(q.current?.children[0]))},[k,t]),jsxRuntimeExports$1.jsx(View$2,{style:[{width:"100%"},R],ref:q,children:jsxRuntimeExports$1.jsx(StyledTextarea,{id:W,"data-testid":s,ref:t,className:h,style:[styles$u.textarea,styles$B.BodyTextMediumMediumWeight,T&&resizeStyles[T],styles$u.default,o&&styles$u.disabled,F&&styles$u.error,c&&styles$u.readOnly,f&&{minHeight:getHeightForNumberOfRows(f)},k&&H,l],value:n,onChange:e=>{const t=e.target.value;B(t),r(t),k&&D(getTextAreaHeight(e.target))},placeholder:i,"aria-disabled":o,readOnly:c||o,autoComplete:u,name:d,autoFocus:p,spellCheck:m,wrap:g,minLength:y,maxLength:b,"aria-required":!!C,onClick:o?void 0:v,onKeyDown:o?void 0:x,onKeyUp:o?void 0:$,onFocus:S,onBlur:e=>{P(e.target.value),E&&E(e)},onPaste:o?void 0:w,required:!!C,...I,"aria-invalid":F})})}),styles$u=StyleSheet.create({textarea:{borderRadius:theme$f.field.border.radius,boxSizing:"border-box",paddingInline:theme$f.field.layout.paddingInline,paddingBlock:theme$f.field.layout.paddingBlock},autoResize:{resize:"none"},readOnly:{background:semanticColor$3.input.readOnly.background,color:semanticColor$3.input.readOnly.text},default:{background:semanticColor$3.input.default.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.default.border}`,color:semanticColor$3.input.default.foreground,"::placeholder":{color:semanticColor$3.input.default.placeholder},...focusStyles$2.focus,":active:not([aria-disabled='true']):not([readonly])":{boxShadow:`0 0 0 ${theme$f.field.border.width.press} ${semanticColor$3.input.default.border}`}},disabled:{background:semanticColor$3.input.disabled.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.disabled.border}`,color:semanticColor$3.input.disabled.foreground,"::placeholder":{color:semanticColor$3.input.disabled.placeholder},cursor:"not-allowed"},error:{background:semanticColor$3.input.error.background,border:`${theme$f.field.border.width.error} solid ${semanticColor$3.input.error.border}`,color:semanticColor$3.input.error.foreground,"::placeholder":{color:semanticColor$3.input.default.placeholder}}}),resizeStyles=StyleSheet.create({both:{resize:"both"},none:{resize:"none"},horizontal:{resize:"horizontal"},vertical:{resize:"vertical"}}),color6Regexp$1=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,color3Regexp$1=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,rgbaRegexp$1=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,parse$2=e=>{if("string"!=typeof e)throw new Error(`Failed to parse color: ${e}`);const t=e.match(color3Regexp$1);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const r=e.match(color6Regexp$1);if(r)return{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1};const n=e.match(rgbaRegexp$1);if(n)return{r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:n[4]?parseFloat(n[4]):1};throw new Error(`Failed to parse color: ${e}`)},format$1=e=>{const t=Math.round(e.r),r=Math.round(e.g),n=Math.round(e.b);if(1===e.a){const e=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t};return`#${e(t)}${e(r)}${e(n)}`}return`rgba(${t},${r},${n},${e.a.toFixed(2)})`},fade$1=(e,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const r=parse$2(e);return format$1({...r,a:r.a*t})},mix$1=(e,t)=>{const r=parse$2(e),n=parse$2(t);return format$1({r:r.r*r.a+n.r*(1-r.a),g:r.g*r.a+n.g*(1-r.a),b:r.b*r.a+n.b*(1-r.a),a:n.a})},offBlack$1="#21242c",white$1$1="#ffffff",eggplant$1="#5f1e5c",baseColors$1={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:offBlack$1,offBlack64:fade$1(offBlack$1,.64),offBlack50:fade$1(offBlack$1,.5),offBlack32:fade$1(offBlack$1,.32),offBlack16:fade$1(offBlack$1,.16),offBlack8:fade$1(offBlack$1,.08),offWhite:"#f7f8fa",white:white$1$1,white64:fade$1(white$1$1,.64),white50:fade$1(white$1$1,.5),white32:fade$1(white$1$1,.32),darkBlue:"#0b2149",teal:"#14bf96"},fadedColorWithWhite$1=(e,t)=>mix$1(fade$1(e,t),baseColors$1.white),color$1$1={...baseColors$1,activeBlue:mix$1(baseColors$1.offBlack32,baseColors$1.blue),fadedBlue:fadedColorWithWhite$1(baseColors$1.blue,.32),fadedBlue24:fadedColorWithWhite$1(baseColors$1.blue,.24),fadedBlue16:fadedColorWithWhite$1(baseColors$1.blue,.16),fadedBlue8:fadedColorWithWhite$1(baseColors$1.blue,.08),activeRed:mix$1(baseColors$1.offBlack32,baseColors$1.red),fadedRed:fadedColorWithWhite$1(baseColors$1.red,.32),fadedRed24:fadedColorWithWhite$1(baseColors$1.red,.24),fadedRed16:fadedColorWithWhite$1(baseColors$1.red,.16),fadedRed8:fadedColorWithWhite$1(baseColors$1.red,.08),activeGreen:mix$1(baseColors$1.offBlack32,baseColors$1.green),fadedGreen24:fadedColorWithWhite$1(baseColors$1.green,.24),fadedGreen16:fadedColorWithWhite$1(baseColors$1.green,.16),fadedGreen8:fadedColorWithWhite$1(baseColors$1.green,.08),activeGold:mix$1(baseColors$1.offBlack32,baseColors$1.gold),fadedGold24:fadedColorWithWhite$1(baseColors$1.gold,.24),fadedGold16:fadedColorWithWhite$1(baseColors$1.gold,.16),fadedGold8:fadedColorWithWhite$1(baseColors$1.gold,.08),fadedPurple24:fadedColorWithWhite$1(baseColors$1.purple,.24),fadedPurple16:fadedColorWithWhite$1(baseColors$1.purple,.16),fadedPurple8:fadedColorWithWhite$1(baseColors$1.purple,.08),eggplant:eggplant$1,fadedEggplant8:fadedColorWithWhite$1(eggplant$1,.08),fadedOffBlack72:fadedColorWithWhite$1(offBlack$1,.72),fadedOffBlack64:fadedColorWithWhite$1(offBlack$1,.64),fadedOffBlack50:fadedColorWithWhite$1(offBlack$1,.5),fadedOffBlack32:fadedColorWithWhite$1(offBlack$1,.32),fadedOffBlack16:fadedColorWithWhite$1(offBlack$1,.16),fadedOffBlack8:fadedColorWithWhite$1(offBlack$1,.08)},width$1={mdMax:1023,lgMin:1024},mediaQuery$1={xl:`@media screen and (min-width: ${width$1.lgMin}px) /* breakpoint.mediaQuery.xl */`,mdOrSmaller:`@media screen and (max-width: ${width$1.mdMax}px) /* breakpoint.mediaQuery.mdOrSmaller */`},breakpoint$1={mediaQuery:mediaQuery$1},BASELINE_VALUE$1=10;function remToPx$1(e,t=BASELINE_VALUE$1){const r=parseFloat(e);return`${Math.round(r*t)}px`}function pxToRem$1(e,t=BASELINE_VALUE$1){return e/t+"rem"}function mapValuesToCssVars$1(e,t="--wb-"){const r={};for(const n in e)"object"==typeof e[n]?r[n]=mapValuesToCssVars$1(e[n],`${t}${n}-`):r[n]=`var(${t}${n})`;return r}const CSS_VAR_PREFIX$1="--wb-",sizing$1$1={size_0:pxToRem$1(0),size_010:pxToRem$1(1),size_020:pxToRem$1(2),size_040:pxToRem$1(4),size_060:pxToRem$1(6),size_080:pxToRem$1(8),size_100:pxToRem$1(10),size_120:pxToRem$1(12),size_140:pxToRem$1(14),size_160:pxToRem$1(16),size_180:pxToRem$1(18),size_200:pxToRem$1(20),size_220:pxToRem$1(22),size_240:pxToRem$1(24),size_260:pxToRem$1(26),size_280:pxToRem$1(28),size_320:pxToRem$1(32),size_360:pxToRem$1(36),size_400:pxToRem$1(40),size_440:pxToRem$1(44),size_480:pxToRem$1(48),size_560:pxToRem$1(56),size_640:pxToRem$1(64),size_720:pxToRem$1(72),size_800:pxToRem$1(80),size_880:pxToRem$1(88),size_960:pxToRem$1(96)},fontFamily$1={sans:'Lato, "Noto Sans", sans-serif',serif:'"Noto Serif", serif',mono:"Inconsolata, monospace"},fontWeight$1={light:300,regular:400,bold:700,black:900},font$1$1={family:{sans:fontFamily$1.sans,serif:fontFamily$1.serif,mono:fontFamily$1.mono},size:{xxxLarge:sizing$1$1.size_360,xxLarge:sizing$1$1.size_280,xLarge:sizing$1$1.size_240,large:sizing$1$1.size_200,medium:sizing$1$1.size_160,small:sizing$1$1.size_140,xSmall:sizing$1$1.size_120},lineHeight:{xxxLarge:sizing$1$1.size_400,xxLarge:sizing$1$1.size_320,xLarge:sizing$1$1.size_280,large:sizing$1$1.size_240,xMedium:sizing$1$1.size_220,medium:sizing$1$1.size_200,small:sizing$1$1.size_180,xSmall:sizing$1$1.size_160},weight:{light:fontWeight$1.light,regular:fontWeight$1.regular,medium:fontWeight$1.regular,semi:fontWeight$1.regular,bold:fontWeight$1.bold,black:fontWeight$1.black},body:{size:{xsmall:sizing$1$1.size_120,small:sizing$1$1.size_140,medium:sizing$1$1.size_160},lineHeight:{xsmall:sizing$1$1.size_160,small:sizing$1$1.size_180,medium:sizing$1$1.size_200,large:sizing$1$1.size_220}},heading:{size:{small:sizing$1$1.size_120,medium:sizing$1$1.size_200,large:sizing$1$1.size_240,xlarge:sizing$1$1.size_280,xxlarge:sizing$1$1.size_360},lineHeight:{small:sizing$1$1.size_160,medium:sizing$1$1.size_240,large:sizing$1$1.size_280,xlarge:sizing$1$1.size_320,xxlarge:sizing$1$1.size_400}},textDecoration:{underlineOffset:sizing$1$1.size_020,thickness:sizing$1$1.size_010}},black$1="#191918",color$2={orange_80:"#FEE9E5",orange_60:"#FEBFB1",orange_30:"#F8551A",orange_10:"#983C1A",yellow_60:"#FEE7AD",yellow_50:"#FDD673",yellow_30:"#FCB706",yellow_10:"#966B00",green_60:"#BCEBBB",green_50:"#97D38E",green_30:"#579F6C",cyan_80:"#DDF0FE",cyan_60:"#A9DAFD",cyan_30:"#28A9FF",cyan_20:"#2485C7",cyan_10:"#20628F",magenta_90:"#FCEEF7",magenta_80:"#FFE3F4",magenta_60:"#F9BBE1",magenta_30:"#E83FA4",magenta_10:"#84275E",gray_60:"#CBCBCD",gray_50:"#B5B6B9",gray_20:"#717279",gray_10:"#4A4C53",black_50:fade$1(black$1,.5)},transparent$1="transparent",transparentShadowColor$1=color$1$1.offBlack16,core$1={transparent:transparent$1,border:{instructive:{subtle:color$1$1.fadedBlue,default:color$1$1.blue,strong:color$1$1.activeBlue},neutral:{subtle:color$1$1.fadedOffBlack16,default:color$1$1.fadedOffBlack50,strong:color$1$1.fadedOffBlack72},critical:{subtle:color$1$1.fadedRed24,default:color$1$1.red,strong:color$1$1.activeRed},success:{subtle:color$1$1.fadedGreen24,default:color$1$1.green,strong:color$1$1.activeGreen},warning:{subtle:color$1$1.fadedGold24,default:color$1$1.gold,strong:color$1$1.activeGold},disabled:{subtle:transparent$1,default:color$1$1.fadedOffBlack16,strong:color$1$1.fadedOffBlack32},knockout:{default:color$1$1.white}},background:{base:{subtle:color$1$1.offWhite,default:color$1$1.white,strong:color$1$1.fadedBlue16},instructive:{subtle:color$1$1.fadedBlue8,default:color$1$1.blue,strong:color$1$1.activeBlue},neutral:{subtle:color$1$1.fadedOffBlack8,default:color$1$1.fadedOffBlack72,strong:color$1$1.offBlack},critical:{subtle:color$1$1.fadedRed8,default:color$1$1.red,strong:color$1$1.activeRed},success:{subtle:color$1$1.fadedGreen8,default:color$1$1.green,strong:color$1$1.activeGreen},warning:{subtle:color$1$1.fadedGold8,default:color$1$1.gold,strong:color$1$1.activeGold},disabled:{subtle:transparent$1,default:color$1$1.fadedOffBlack8,strong:color$1$1.fadedOffBlack16},overlay:{default:color$1$1.offBlack50}},foreground:{instructive:{subtle:color$1$1.blue,default:color$1$1.activeBlue,strong:color$1$1.offBlack},neutral:{subtle:color$1$1.fadedOffBlack64,default:color$1$1.fadedOffBlack72,strong:color$1$1.offBlack},critical:{subtle:color$1$1.red,default:color$1$1.activeRed,strong:color$1$1.offBlack},success:{subtle:color$1$1.green,default:color$1$1.activeGreen,strong:color$1$1.offBlack},warning:{subtle:color$1$1.gold,default:color$1$1.activeGold,strong:color$1$1.offBlack},disabled:{subtle:color$1$1.fadedOffBlack16,default:color$1$1.fadedOffBlack32,strong:color$1$1.fadedOffBlack50},knockout:{default:color$1$1.white}},shadow:{transparent:{low:transparentShadowColor$1,mid:transparentShadowColor$1,high:transparentShadowColor$1},chonky:{instructive:{subtle:color$1$1.fadedBlue,default:color$1$1.activeBlue},neutral:{subtle:color$1$1.fadedOffBlack32,default:color$1$1.fadedOffBlack50,strong:color$1$1.offBlack}}}},sharedFeedbackStrongTokens$1={background:core$1.background.neutral.strong,border:core$1.border.neutral.strong,text:core$1.foreground.knockout.default},semanticColor$1$1={core:core$1,learning:{math:{foreground:{blue:"#3D7586",gold:"#946700",green:"#447A53",gray:"#5D5F66",grayH:"#3B3D45",grayI:"#21242C",purple:"#594094",purpleD:"#8351E8",pink:"#B25071",red:"#D92916"}},background:{gems:{subtle:color$2.magenta_90,default:color$2.magenta_80,strong:color$2.magenta_10},due:{subtle:color$2.cyan_80,default:color$2.cyan_60,strong:color$2.cyan_10},streaks:{subtle:color$2.orange_80,default:color$2.orange_60,strong:color$2.orange_10},progress:{notStarted:{default:color$2.gray_60},attempted:{default:color$2.yellow_60},complete:{default:color$2.green_60}}},border:{gems:{subtle:color$2.magenta_80,default:color$2.magenta_60,strong:color$2.magenta_30},streaks:{subtle:color$2.orange_80,default:color$2.orange_60,strong:color$2.orange_30},due:{subtle:color$2.cyan_80,default:color$2.cyan_60,strong:color$2.cyan_30}},foreground:{gems:{subtle:color$2.magenta_60,default:color$2.magenta_30,strong:color$2.magenta_10},streaks:{subtle:color$2.orange_60,default:color$2.orange_30,strong:color$2.orange_10},due:{subtle:color$2.cyan_60,default:color$2.cyan_20,strong:color$2.cyan_10},progress:{notStarted:{subtle:color$2.gray_50,strong:color$2.gray_10},attempted:{subtle:color$2.yellow_50,strong:color$2.yellow_10},complete:{strong:color$2.green_50}}},shadow:{progress:{notStarted:{default:color$2.gray_20},attempted:{default:color$2.yellow_30},complete:{default:color$2.green_30}}}},action:{primary:{progressive:{default:{border:core$1.transparent,background:core$1.background.instructive.default,foreground:core$1.foreground.knockout.default},hover:{border:core$1.border.instructive.default,background:core$1.background.instructive.default,foreground:core$1.foreground.knockout.default},press:{border:core$1.border.instructive.strong,background:core$1.background.instructive.strong,foreground:core$1.foreground.knockout.default}},destructive:{default:{border:core$1.transparent,background:core$1.background.critical.default,foreground:core$1.foreground.knockout.default},hover:{border:core$1.border.critical.default,background:core$1.background.critical.default,foreground:core$1.foreground.knockout.default},press:{border:core$1.border.critical.strong,background:core$1.background.critical.strong,foreground:core$1.foreground.knockout.default}},neutral:{default:{border:core$1.transparent,background:core$1.background.neutral.default,foreground:core$1.foreground.knockout.default},hover:{border:core$1.border.neutral.default,background:core$1.background.neutral.default,foreground:core$1.foreground.knockout.default},press:{border:core$1.border.neutral.strong,background:core$1.background.neutral.strong,foreground:core$1.foreground.knockout.default}},disabled:{border:core$1.border.disabled.strong,background:core$1.border.disabled.strong,foreground:core$1.foreground.knockout.default}},secondary:{progressive:{default:{border:core$1.border.neutral.default,background:core$1.transparent,foreground:core$1.foreground.instructive.subtle},hover:{border:core$1.border.instructive.default,background:core$1.transparent,foreground:core$1.foreground.instructive.subtle},press:{border:core$1.border.instructive.strong,background:core$1.background.instructive.subtle,foreground:core$1.foreground.instructive.default}},destructive:{default:{border:core$1.border.neutral.default,background:core$1.transparent,foreground:core$1.foreground.critical.subtle},hover:{border:core$1.border.critical.default,background:core$1.transparent,foreground:core$1.foreground.critical.subtle},press:{border:core$1.border.critical.strong,background:core$1.background.critical.subtle,foreground:core$1.foreground.critical.default}},neutral:{default:{border:core$1.border.neutral.default,background:core$1.transparent,foreground:core$1.foreground.neutral.default},hover:{border:core$1.border.neutral.default,background:core$1.transparent,foreground:core$1.foreground.neutral.default},press:{border:core$1.border.neutral.strong,background:core$1.background.neutral.subtle,foreground:core$1.foreground.neutral.strong}},disabled:{border:core$1.border.disabled.strong,background:core$1.background.disabled.subtle,foreground:core$1.foreground.disabled.default}},tertiary:{progressive:{default:{border:core$1.transparent,background:core$1.transparent,foreground:core$1.foreground.instructive.subtle},hover:{border:core$1.border.instructive.default,background:core$1.transparent,foreground:core$1.foreground.instructive.subtle},press:{border:core$1.border.instructive.strong,background:core$1.transparent,foreground:core$1.foreground.instructive.default}},destructive:{default:{border:core$1.transparent,background:core$1.transparent,foreground:core$1.foreground.critical.subtle},hover:{border:core$1.border.critical.default,background:core$1.transparent,foreground:core$1.foreground.critical.subtle},press:{border:core$1.border.critical.strong,background:core$1.transparent,foreground:core$1.foreground.critical.default}},neutral:{default:{border:core$1.transparent,background:core$1.transparent,foreground:core$1.foreground.neutral.default},hover:{border:core$1.border.neutral.default,background:core$1.transparent,foreground:core$1.foreground.neutral.default},press:{border:core$1.border.neutral.strong,background:core$1.transparent,foreground:core$1.foreground.neutral.strong}},disabled:{border:core$1.border.disabled.default,background:core$1.background.disabled.subtle,foreground:core$1.foreground.disabled.default}}},chonky:{progressive:{background:{primary:{rest:core$1.background.instructive.default,hover:core$1.background.instructive.default,press:core$1.background.instructive.default,selected:core$1.background.instructive.default},secondary:{rest:core$1.background.instructive.subtle,hover:core$1.background.instructive.subtle,press:core$1.background.instructive.subtle,selected:core$1.background.instructive.subtle},tertiary:{rest:core$1.transparent,hover:core$1.transparent,press:core$1.transparent,selected:core$1.transparent}},border:{primary:{rest:core$1.transparent,hover:core$1.transparent,press:core$1.transparent,selected:core$1.transparent},secondary:{rest:core$1.border.instructive.subtle,hover:core$1.border.instructive.subtle,press:core$1.border.instructive.subtle,selected:core$1.border.instructive.subtle},tertiary:{rest:core$1.transparent,hover:core$1.border.neutral.subtle,press:core$1.border.neutral.subtle,selected:core$1.border.instructive.subtle}},foreground:{primary:{rest:core$1.foreground.knockout.default,hover:core$1.foreground.knockout.default,press:core$1.foreground.knockout.default,selected:core$1.foreground.knockout.default},secondary:{rest:core$1.foreground.instructive.default,hover:core$1.foreground.instructive.default,press:core$1.foreground.instructive.default,selected:core$1.foreground.instructive.default},tertiary:{rest:core$1.foreground.instructive.default,hover:core$1.foreground.instructive.default,press:core$1.foreground.instructive.default,selected:core$1.foreground.instructive.default}},shadow:{primary:{rest:core$1.shadow.chonky.instructive.default,hover:core$1.shadow.chonky.instructive.default,press:core$1.shadow.chonky.instructive.default,selected:core$1.shadow.chonky.instructive.default},secondary:{rest:core$1.shadow.chonky.instructive.subtle,hover:core$1.shadow.chonky.instructive.subtle,press:core$1.shadow.chonky.instructive.subtle,selected:core$1.shadow.chonky.instructive.subtle},tertiary:{rest:core$1.transparent,hover:core$1.shadow.chonky.neutral.subtle,press:core$1.shadow.chonky.neutral.subtle,selected:core$1.shadow.chonky.instructive.subtle}}},neutral:{background:{primary:{rest:core$1.background.neutral.default,hover:core$1.background.neutral.default,press:core$1.background.neutral.default,selected:core$1.background.neutral.default},secondary:{rest:core$1.transparent,hover:core$1.transparent,press:core$1.transparent,selected:core$1.background.neutral.subtle},tertiary:{rest:core$1.transparent,hover:core$1.transparent,press:core$1.transparent,selected:core$1.transparent}},border:{primary:{rest:core$1.transparent,hover:core$1.transparent,press:core$1.transparent,selected:core$1.transparent},secondary:{rest:core$1.border.neutral.subtle,hover:core$1.border.neutral.subtle,press:core$1.border.neutral.subtle,selected:core$1.border.neutral.subtle},tertiary:{rest:core$1.transparent,hover:core$1.border.neutral.subtle,press:core$1.border.neutral.subtle,selected:core$1.transparent}},foreground:{primary:{rest:core$1.foreground.knockout.default,hover:core$1.foreground.knockout.default,press:core$1.foreground.knockout.default,selected:core$1.foreground.knockout.default},secondary:{rest:core$1.foreground.neutral.subtle,hover:core$1.foreground.neutral.subtle,press:core$1.foreground.neutral.subtle,selected:core$1.foreground.neutral.subtle},tertiary:{rest:core$1.foreground.neutral.default,hover:core$1.foreground.neutral.default,press:core$1.foreground.neutral.default,selected:core$1.foreground.neutral.default}},shadow:{primary:{rest:core$1.shadow.chonky.neutral.strong,hover:core$1.shadow.chonky.neutral.strong,press:core$1.transparent,selected:core$1.shadow.chonky.neutral.strong},secondary:{rest:core$1.shadow.chonky.neutral.subtle,hover:core$1.shadow.chonky.neutral.subtle,press:core$1.shadow.chonky.neutral.strong,selected:core$1.shadow.chonky.neutral.subtle},tertiary:{rest:core$1.transparent,hover:core$1.shadow.chonky.neutral.subtle,press:core$1.shadow.chonky.neutral.subtle,selected:core$1.shadow.chonky.instructive.subtle}}},disabled:{background:{primary:core$1.background.disabled.default,secondary:core$1.background.disabled.default,tertiary:core$1.background.disabled.subtle},border:{primary:core$1.border.disabled.default,secondary:core$1.border.disabled.default,tertiary:core$1.border.disabled.subtle},foreground:{primary:core$1.foreground.disabled.default,secondary:core$1.foreground.disabled.default,tertiary:core$1.foreground.disabled.default},shadow:{primary:core$1.shadow.chonky.neutral.subtle,secondary:core$1.shadow.chonky.neutral.subtle,tertiary:core$1.transparent}}},input:{default:{border:core$1.border.neutral.default,background:core$1.background.base.default,foreground:core$1.foreground.neutral.strong,placeholder:core$1.foreground.neutral.default},checked:{border:core$1.border.instructive.default,background:core$1.background.instructive.default,foreground:core$1.foreground.knockout.default},disabled:{border:core$1.border.disabled.default,background:color$1$1.offWhite,foreground:core$1.foreground.neutral.default,placeholder:core$1.foreground.neutral.default},error:{border:core$1.border.critical.default,background:core$1.background.critical.subtle,foreground:core$1.foreground.neutral.strong},readOnly:{background:core$1.background.base.default,text:core$1.foreground.neutral.strong,icon:core$1.transparent}},status:{critical:{background:core$1.background.critical.subtle,foreground:core$1.foreground.critical.subtle},warning:{background:core$1.background.warning.subtle,foreground:core$1.foreground.warning.subtle},success:{background:core$1.background.success.subtle,foreground:core$1.foreground.success.subtle},notice:{background:core$1.background.instructive.subtle,foreground:core$1.foreground.instructive.subtle},neutral:{background:core$1.background.neutral.subtle,foreground:core$1.foreground.neutral.strong}},focus:{outer:color$1$1.blue,inner:color$1$1.white},link:{rest:core$1.foreground.instructive.subtle,hover:core$1.foreground.instructive.subtle,press:core$1.foreground.instructive.default,disabled:core$1.foreground.disabled.default},khanmigo:{primary:color$1$1.eggplant,secondary:color$1$1.fadedEggplant8},mastery:{primary:color$1$1.purple},feedback:{info:{subtle:{background:core$1.background.instructive.subtle,border:core$1.border.instructive.subtle,icon:core$1.foreground.instructive.default,text:core$1.foreground.instructive.strong},strong:{...sharedFeedbackStrongTokens$1,icon:core$1.foreground.instructive.subtle}},success:{subtle:{background:core$1.background.success.subtle,border:core$1.border.success.subtle,icon:core$1.foreground.success.default,text:core$1.foreground.success.strong},strong:{...sharedFeedbackStrongTokens$1,icon:core$1.foreground.success.subtle}},warning:{subtle:{background:core$1.background.warning.subtle,border:core$1.border.warning.default,icon:core$1.foreground.warning.default,text:core$1.foreground.warning.strong},strong:{...sharedFeedbackStrongTokens$1,icon:core$1.foreground.warning.subtle}},critical:{subtle:{background:core$1.background.critical.subtle,border:core$1.border.critical.subtle,icon:core$1.foreground.critical.default,text:core$1.foreground.critical.strong},strong:{...sharedFeedbackStrongTokens$1,icon:core$1.foreground.critical.subtle}},neutral:{subtle:{background:core$1.background.neutral.subtle,border:core$1.border.neutral.subtle,icon:core$1.foreground.neutral.default,text:core$1.foreground.neutral.strong},strong:{...sharedFeedbackStrongTokens$1,icon:core$1.foreground.neutral.subtle}}}},border$1$1={radius:{radius_0:remToPx$1(sizing$1$1.size_0),radius_010:remToPx$1(sizing$1$1.size_010),radius_040:remToPx$1(sizing$1$1.size_040),radius_080:remToPx$1(sizing$1$1.size_080),radius_120:remToPx$1(sizing$1$1.size_120),radius_240:remToPx$1(sizing$1$1.size_240),radius_full:"50%"},width:{none:remToPx$1(sizing$1$1.size_0),thin:remToPx$1(sizing$1$1.size_010),medium:remToPx$1(sizing$1$1.size_020),thick:remToPx$1(sizing$1$1.size_040)}},SIZE_20_PX$1=remToPx$1(sizing$1$1.size_020),SIZE_40_PX$1=remToPx$1(sizing$1$1.size_040),SIZE_80_PX$1=remToPx$1(sizing$1$1.size_080),SIZE_160_PX$1=remToPx$1(sizing$1$1.size_160);function boxShadow$1$1(e){return{low:`0 ${SIZE_20_PX$1} ${SIZE_20_PX$1} 0 ${e.core.shadow.transparent.low}`,mid:`0 ${SIZE_40_PX$1} ${SIZE_80_PX$1} 0 ${e.core.shadow.transparent.mid}`,high:`0 ${SIZE_80_PX$1} ${SIZE_160_PX$1} 0 ${e.core.shadow.transparent.high}`}}var themeDefault$a={border:border$1$1,boxShadow:boxShadow$1$1(semanticColor$1$1),font:font$1$1,semanticColor:semanticColor$1$1,sizing:sizing$1$1},theme$e=mapValuesToCssVars$1(themeDefault$a,CSS_VAR_PREFIX$1);const{border:border$2,boxShadow:boxShadow$2,semanticColor:semanticColor$2,sizing:sizing$2,font:font$2}=theme$e;function getSize$1$2(e){switch(e){case"small":default:return styles$1$b.small;case"medium":return styles$1$b.medium;case"large":return styles$1$b.large;case"xlarge":return styles$1$b.xlarge}}const StyledDiv$3=addStyle$1("div");reactExports.forwardRef((e,t)=>{const{size:r="small",id:n,testId:i,style:o,children:a,...s}=e,l=reactExports.cloneElement(a,{style:{width:"100%",height:"100%"}});return jsxRuntimeExports$1.jsx(StyledDiv$3,{style:[getSize$1$2(r),o],id:n,"data-testid":i,ref:t,...s,children:l})});const styles$1$b=StyleSheet.create({small:{width:sizing$2.size_160,height:sizing$2.size_160},medium:{width:sizing$2.size_240,height:sizing$2.size_240},large:{width:sizing$2.size_480,height:sizing$2.size_480},xlarge:{width:sizing$2.size_960,height:sizing$2.size_960}}),StyledSpan$3=addStyle$1("span"),PhosphorIcon$2=reactExports.forwardRef(function(e,t){const{color:r="currentColor",icon:n,size:i="small",style:o,testId:a,className:s,role:l,...c}=e,u=getSize$3(i),d=`${s??""}`;return jsxRuntimeExports$1.jsx(StyledSpan$3,{...c,className:d,style:[styles$t.svg,u,{backgroundColor:r,maskImage:`url(${n})`},o],"data-testid":a,ref:t,role:l??c["aria-label"]?"img":void 0})});function getSize$3(e){switch(e){case"small":default:return styles$t.small;case"medium":return styles$t.medium;case"large":return styles$t.large;case"xlarge":return styles$t.xlarge}}const styles$t=StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"},small:{width:sizing$2.size_160,height:sizing$2.size_160},medium:{width:sizing$2.size_240,height:sizing$2.size_240},large:{width:sizing$2.size_480,height:sizing$2.size_480},xlarge:{width:sizing$2.size_960,height:sizing$2.size_960}});function useImageRoleAttributes$2(e){const{"aria-label":t,"aria-labelledby":r}=e;return t||r?{"aria-label":t,"aria-labelledby":r,role:"img"}:{"aria-hidden":!0}}PhosphorIcon$2.displayName="PhosphorIcon";const StyledSvg$1$2=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$2({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$1$2,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M1.246 5.38105L2.36444 3.66654C2.63609 3.25012 3.0934 3 3.58311 3H12.4169C12.9066 3 13.3639 3.25012 13.6356 3.66654L14.754 5.38105C15.1278 5.95411 15.0708 6.71389 14.6158 7.22195L9.08044 13.4027C8.49982 14.051 7.50018 14.051 6.91956 13.4027L1.38423 7.22195C0.929229 6.71389 0.872177 5.95411 1.246 5.38105Z",fill:semanticColor$2.learning.foreground.gems.default}),jsxRuntimeExports$1.jsx("path",{d:"M9.45654 7.01492L8.34027 10.0102C8.07911 10.711 8.97464 11.2595 9.48018 10.7084L12.6345 7.26989C13.0351 6.83317 12.7253 6.12858 12.1327 6.12858H10.7327C10.164 6.12858 9.65515 6.48199 9.45654 7.01492Z",fill:semanticColor$2.learning.foreground.gems.subtle})]})});const StyledSvg$3=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$2({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$3,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M9.14653 0.628361C9.07012 0.571421 8.97956 0.531782 8.88248 0.512785C8.78539 0.493787 8.68464 0.49599 8.5887 0.519205C8.49277 0.542421 8.40447 0.585969 8.33125 0.64618C8.25802 0.70639 8.20202 0.781496 8.16797 0.865168L5.47556 5.06034L4.59152 3.43463C4.52866 3.37998 4.45359 3.33789 4.37125 3.31114C4.28892 3.28438 4.2012 3.27357 4.11387 3.27941C4.02653 3.28525 3.94157 3.30761 3.86458 3.34502C3.78759 3.38243 3.72032 3.43403 3.66719 3.49644C1.98899 5.46729 1.13672 7.44994 1.13672 9.38884C1.13672 11.0096 1.85506 12.564 3.13372 13.7101C4.41238 14.8561 6.14661 15.5 7.9549 15.5C9.7632 15.5 11.4974 14.8561 12.7761 13.7101C14.0547 12.564 14.7731 11.0096 14.7731 9.38884C14.7731 5.26034 10.8379 1.88879 9.14653 0.628361Z",fill:semanticColor$2.learning.foreground.streaks.default}),jsxRuntimeExports$1.jsx("path",{d:"M10.8067 10.5315C10.8067 12.0965 9.53809 13.3651 7.97318 13.3651C6.40826 13.3651 5.13965 12.0965 5.13965 10.5315C5.13965 8.96663 7.2648 6.28125 7.97318 6.28125C8.68156 6.28125 10.8067 8.96663 10.8067 10.5315Z",fill:semanticColor$2.learning.foreground.streaks.subtle})]})});const focus$1={":focus-visible":{boxShadow:`0 0 0 ${border$2.width.medium} ${semanticColor$2.focus.inner}`,outline:`${border$2.width.medium} solid ${semanticColor$2.focus.outer}`,outlineOffset:border$2.width.medium}};var focusStyles$1=Object.freeze({__proto__:null,focus:focus$1});semanticColor$2.core.border.neutral.default,semanticColor$2.core.border.knockout.default,semanticColor$2.core.border.knockout.default,semanticColor$2.core.foreground.knockout.default,semanticColor$2.core.foreground.knockout.default,semanticColor$2.core.border.knockout.default,border$2.radius.radius_080,semanticColor$2.core.background.base.default;const getAppropriateTriggersForRole$1=e=>{switch(e){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},disabledHandlers$1={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},startState$1={hovered:!1,focused:!1,pressed:!1,waiting:!1};let ClickableBehavior$1=class extends reactExports.Component{static getDerivedStateFromProps(e,t){return e.disabled?{...startState$1,focused:t.focused}:null}navigateOrReset(e){if(e){const{navigate:e,href:t,skipClientNav:r,target:n}=this.props;t&&("_blank"===n?(window.open(t,"_blank"),this.setState({waiting:!1})):e&&!r?(e(t,{viewTransition:this.props.viewTransition}),this.setState({waiting:!1})):window.location.assign(t))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:r,navigate:n}=this.props;return n&&!r||"_blank"===this.props.target?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(e=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t,beforeNav:r,safeWithNav:n,href:i,type:o}=this.props;let a=!0,s=!0;if(t&&t(e),e.defaultPrevented&&(a=!1,s=!1),e.preventDefault(),!i&&"submit"===o&&s){let t=e.currentTarget;for(;t;){if(t instanceof window.HTMLFormElement){const e=new window.Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(e);break}t=t.parentElement}}if(r)this.setState({waiting:!0}),r().then(()=>n?this.handleSafeWithNav(n,a):this.navigateOrReset(a)).catch(()=>{});else{if(n)return this.handleSafeWithNav(n,a);this.navigateOrReset(a)}}render(){const e=this.props.rel||("_blank"===this.props.target?"noopener noreferrer":void 0),t=this.props.disabled?{...disabledHandlers$1,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}:{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:r}=this.props;return r&&r(this.state,t)}constructor(e){super(e),this.handleClick=e=>{const{onClick:t,beforeNav:r,safeWithNav:n}=this.props;this.enterClick||((t||r||n)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.props.onMouseEnter&&this.props.onMouseEnter(e),this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e),this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole$1(r);i&&n===keys$1.enter||o&&n===keys$1.space?(e.preventDefault(),this.setState({pressed:!0})):i||n!==keys$1.enter||(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole$1(r);i&&n===keys$1.enter||o&&n===keys$1.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):i||n!==keys$1.enter||(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:t}=this.props;this.setState({focused:!0},()=>{t&&t(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=startState$1,this.waitingForClick=!1,this.enterClick=!1}};ClickableBehavior$1.defaultProps={disabled:!1};const isClientSideUrl$1=e=>"string"==typeof e&&(!/^(https?:)?\/\//i.test(e)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(e));function withRouter$1(e){function t(t){const r=useNavigate();return jsxRuntimeExports$1.jsx(e,{...t,navigate:r})}return t.displayName="withRouter(ClickableBehavior)",t}const ClickableBehaviorWithRouter$1=withRouter$1(ClickableBehavior$1);function getClickableBehavior$1(e,t,r){return r&&!0!==t&&e&&isClientSideUrl$1(e)?ClickableBehaviorWithRouter$1:ClickableBehavior$1}const StyledA$a=addStyle$1("a"),StyledButton$9=addStyle$1("button"),StyledLink$a=addStyle$1(Link$2),Clickable$1=reactExports.forwardRef(function(e,t){const r=(r,n,i)=>{const o=e.href&&!e.disabled,a=n&&!e.skipClientNav&&isClientSideUrl$1(e.href||"");return o&&a&&e.href?jsxRuntimeExports$1.jsx(StyledLink$a,{...i,to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):o&&!a?jsxRuntimeExports$1.jsx(StyledA$a,{...i,href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):jsxRuntimeExports$1.jsx(StyledButton$9,{...i,type:"button","aria-disabled":e.disabled,ref:t,children:e.children(r)})},n=useInRouterContext(),{href:i,onClick:o,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,skipClientNav:p,beforeNav:f,safeWithNav:m,style:g,target:y,testId:b,hideDefaultFocusRing:v,disabled:x,tabIndex:$,...S}=e,E=getClickableBehavior$1(i,p,n),w=e=>[styles$s.reset,styles$s.link,!v&&e.focused&&styles$s.focused,x&&styles$s.disabled,g];return f?jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,beforeNav:f,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})}):jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,target:y,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})})});Clickable$1.defaultProps={disabled:!1};const styles$s=StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid ${border$2.width.medium} ${semanticColor$2.focus.outer}`}},disabled:{color:semanticColor$2.action.secondary.disabled.foreground,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid ${border$2.width.medium} ${semanticColor$2.focus.outer}`}}}),common$1={display:"block"},Heading$1$1={...common$1,fontFamily:font$2.family.sans},BodyText$1$1={...common$1,fontFamily:font$2.family.sans,margin:0},styles$r=StyleSheet.create({Title:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.black,[breakpoint$1.mediaQuery.xl]:{fontSize:font$2.size.xxxLarge,lineHeight:font$2.lineHeight.xxxLarge},[breakpoint$1.mediaQuery.mdOrSmaller]:{fontSize:font$2.size.xxLarge,lineHeight:font$2.lineHeight.xxLarge}},Tagline:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.large,lineHeight:font$2.lineHeight.large},Heading:Heading$1$1,HeadingSmallBoldWeight:{...Heading$1$1,fontSize:font$2.heading.size.small,fontWeight:font$2.weight.bold,lineHeight:font$2.heading.lineHeight.small},HeadingSmallSemiWeight:{...Heading$1$1,fontSize:font$2.heading.size.small,fontWeight:font$2.weight.semi,lineHeight:font$2.heading.lineHeight.small},HeadingSmallMediumWeight:{...Heading$1$1,fontSize:font$2.heading.size.small,fontWeight:font$2.weight.medium,lineHeight:font$2.heading.lineHeight.small},HeadingMediumBoldWeight:{...Heading$1$1,fontSize:font$2.heading.size.medium,fontWeight:font$2.weight.bold,lineHeight:font$2.heading.lineHeight.medium},HeadingMediumSemiWeight:{...Heading$1$1,fontSize:font$2.heading.size.medium,fontWeight:font$2.weight.semi,lineHeight:font$2.heading.lineHeight.medium},HeadingMediumMediumWeight:{...Heading$1$1,fontSize:font$2.heading.size.medium,fontWeight:font$2.weight.medium,lineHeight:font$2.heading.lineHeight.medium},HeadingLargeBoldWeight:{...Heading$1$1,fontSize:font$2.heading.size.large,fontWeight:font$2.weight.bold,lineHeight:font$2.heading.lineHeight.large},HeadingLargeSemiWeight:{...Heading$1$1,fontSize:font$2.heading.size.large,fontWeight:font$2.weight.semi,lineHeight:font$2.heading.lineHeight.large},HeadingLargeMediumWeight:{...Heading$1$1,fontSize:font$2.heading.size.large,fontWeight:font$2.weight.medium,lineHeight:font$2.heading.lineHeight.large},HeadingXLargeBoldWeight:{...Heading$1$1,fontSize:font$2.heading.size.xlarge,fontWeight:font$2.weight.bold,lineHeight:font$2.heading.lineHeight.xlarge},HeadingXLargeMediumWeight:{...Heading$1$1,fontSize:font$2.heading.size.xlarge,fontWeight:font$2.weight.medium,lineHeight:font$2.heading.lineHeight.xlarge},HeadingXLargeSemiWeight:{...Heading$1$1,fontSize:font$2.heading.size.xlarge,fontWeight:font$2.weight.semi,lineHeight:font$2.heading.lineHeight.xlarge},HeadingXxLargeSemiWeight:{...Heading$1$1,fontSize:font$2.heading.size.xxlarge,fontWeight:font$2.weight.semi,lineHeight:font$2.heading.lineHeight.xxlarge},HeadingXxLargeBoldWeight:{...Heading$1$1,fontSize:font$2.heading.size.xxlarge,fontWeight:font$2.weight.bold,lineHeight:font$2.heading.lineHeight.xxlarge},BodyText:BodyText$1$1,BodyTextXSmallMediumWeight:{...BodyText$1$1,fontSize:font$2.body.size.xsmall,fontWeight:font$2.weight.medium,lineHeight:font$2.body.lineHeight.xsmall},BodyTextXSmallSemiWeight:{...BodyText$1$1,fontSize:font$2.body.size.xsmall,fontWeight:font$2.weight.semi,lineHeight:font$2.body.lineHeight.xsmall},BodyTextXSmallBoldWeight:{...BodyText$1$1,fontSize:font$2.body.size.xsmall,fontWeight:font$2.weight.bold,lineHeight:font$2.body.lineHeight.xsmall},BodyTextSmallMediumWeight:{...BodyText$1$1,fontSize:font$2.body.size.small,fontWeight:font$2.weight.medium,lineHeight:font$2.body.lineHeight.small},BodyTextSmallSemiWeight:{...BodyText$1$1,fontSize:font$2.body.size.small,fontWeight:font$2.weight.semi,lineHeight:font$2.body.lineHeight.small},BodyTextSmallBoldWeight:{...BodyText$1$1,fontSize:font$2.body.size.small,fontWeight:font$2.weight.bold,lineHeight:font$2.body.lineHeight.small},BodyTextMediumMediumWeight:{...BodyText$1$1,fontSize:font$2.body.size.medium,fontWeight:font$2.weight.medium,lineHeight:font$2.body.lineHeight.medium},BodyTextMediumSemiWeight:{...BodyText$1$1,fontSize:font$2.body.size.medium,fontWeight:font$2.weight.semi,lineHeight:font$2.body.lineHeight.medium},BodyTextMediumBoldWeight:{...BodyText$1$1,fontSize:font$2.body.size.medium,fontWeight:font$2.weight.bold,lineHeight:font$2.body.lineHeight.medium},HeadingLarge:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.bold,[breakpoint$1.mediaQuery.xl]:{fontSize:font$2.size.xxLarge,lineHeight:font$2.lineHeight.xxLarge},[breakpoint$1.mediaQuery.mdOrSmaller]:{fontSize:font$2.size.xLarge,lineHeight:font$2.lineHeight.xLarge}},HeadingMedium:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.bold,[breakpoint$1.mediaQuery.xl]:{fontSize:font$2.size.xLarge,lineHeight:font$2.lineHeight.xLarge},[breakpoint$1.mediaQuery.mdOrSmaller]:{fontSize:"2.2rem",lineHeight:"2.6rem"}},HeadingSmall:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.bold,fontSize:font$2.size.large,lineHeight:font$2.lineHeight.large},HeadingXSmall:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.bold,fontSize:font$2.size.xSmall,lineHeight:font$2.lineHeight.xSmall,letterSpacing:.6,textTransform:"uppercase"},BodySerifBlock:{...common$1,fontFamily:font$2.family.serif,fontWeight:font$2.weight.medium,fontSize:font$2.size.large,lineHeight:font$2.lineHeight.large},BodySerif:{...common$1,fontFamily:font$2.family.serif,fontWeight:font$2.weight.medium,fontSize:font$2.size.medium,lineHeight:font$2.size.medium},BodyMonospace:{...common$1,fontFamily:font$2.family.mono,fontWeight:font$2.weight.medium,fontSize:font$2.size.medium,lineHeight:font$2.lineHeight.medium},Body:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.medium,lineHeight:font$2.lineHeight.xMedium},LabelLarge:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.bold,fontSize:font$2.size.medium,lineHeight:font$2.lineHeight.medium},LabelMedium:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.medium,lineHeight:font$2.lineHeight.medium},LabelSmall:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.small,lineHeight:font$2.lineHeight.small},LabelXSmall:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.xSmall,lineHeight:font$2.lineHeight.xSmall},Caption:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.small,lineHeight:font$2.lineHeight.medium},Footnote:{...common$1,fontFamily:font$2.family.sans,fontWeight:font$2.weight.medium,fontSize:font$2.size.xSmall,lineHeight:font$2.lineHeight.small}});reactExports.forwardRef(function({style:e,children:t,tag:r="h1",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.Title,e],ref:i,children:t})});const tagMap$1={xxlarge:"h1",xlarge:"h2",large:"h3",medium:"h4",small:"h4"},styleMapping$1$1={"small-medium":styles$r.HeadingSmallMediumWeight,"small-semi":styles$r.HeadingSmallSemiWeight,"small-bold":styles$r.HeadingSmallBoldWeight,"medium-medium":styles$r.HeadingMediumMediumWeight,"medium-semi":styles$r.HeadingMediumSemiWeight,"medium-bold":styles$r.HeadingMediumBoldWeight,"large-medium":styles$r.HeadingLargeMediumWeight,"large-semi":styles$r.HeadingLargeSemiWeight,"large-bold":styles$r.HeadingLargeBoldWeight,"xlarge-medium":styles$r.HeadingXLargeMediumWeight,"xlarge-semi":styles$r.HeadingXLargeSemiWeight,"xlarge-bold":styles$r.HeadingXLargeBoldWeight,"xxlarge-medium":styles$r.HeadingXxLargeMediumWeight,"xxlarge-semi":styles$r.HeadingXxLargeSemiWeight,"xxlarge-bold":styles$r.HeadingXxLargeBoldWeight};reactExports.forwardRef(function(e,t){const{size:r,weight:n="bold",style:i,children:o,tag:a,...s}=e,l=r??"large",c=a??(r?tagMap$1[r]:"h2"),u=styleMapping$1$1[`${l}-${n}`];return jsxRuntimeExports$1.jsx(Text$4,{...s,tag:c,style:[styles$r.Heading,u,i],ref:t,children:o})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h2",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.HeadingLarge,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h3",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.HeadingMedium,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.HeadingSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.HeadingXSmall,e],ref:i,children:t})});const styleMapping$2={"xsmall-medium":styles$r.BodyTextXSmallMediumWeight,"xsmall-semi":styles$r.BodyTextXSmallSemiWeight,"xsmall-bold":styles$r.BodyTextXSmallBoldWeight,"small-medium":styles$r.BodyTextSmallMediumWeight,"small-semi":styles$r.BodyTextSmallSemiWeight,"small-bold":styles$r.BodyTextSmallBoldWeight,"medium-medium":styles$r.BodyTextMediumMediumWeight,"medium-semi":styles$r.BodyTextMediumSemiWeight,"medium-bold":styles$r.BodyTextMediumBoldWeight},BodyText$2=reactExports.forwardRef(function({size:e="medium",weight:t="medium",style:r,children:n,tag:i="p",...o},a){const s=styleMapping$2[`${e}-${t}`];return jsxRuntimeExports$1.jsx(Text$4,{...o,tag:i,style:[styles$r.BodyText,s,r],ref:a,children:n})});reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.BodySerifBlock,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.BodySerif,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.BodyMonospace,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.Body,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.LabelLarge,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.LabelMedium,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.LabelSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.LabelXSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.Tagline,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.Caption,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$4,{...n,tag:r,style:[styles$r.Footnote,e],ref:i,children:t})});var themeDefault$9={iconButton:{root:{border:{offset:{primary:border$2.width.medium,secondary:`calc(-1 * ${border$2.width.medium})`,tertiary:`calc(-1 * ${border$2.width.medium})`},width:{primary:{default:border$2.width.none,hover:border$2.width.medium,press:border$2.width.medium},secondary:{default:border$2.width.thin,hover:border$2.width.medium,press:border$2.width.medium},tertiary:{default:border$2.width.none,hover:border$2.width.medium,press:border$2.width.medium}},radius:{default:border$2.radius.radius_040,hover:border$2.radius.radius_040,press:border$2.radius.radius_040}},sizing:{xsmall:sizing$2.size_240,small:sizing$2.size_320,medium:sizing$2.size_400,large:sizing$2.size_480}},icon:{sizing:{xsmall:sizing$2.size_160,small:sizing$2.size_240,medium:sizing$2.size_240,large:sizing$2.size_240}}}},iconButtonTheme$3=mapValuesToCssVars$1(themeDefault$9,"--wb-c-icon-button-");const StyledA$9=addStyle$1("a"),StyledButton$8=addStyle$1("button"),StyledLink$9=addStyle$1(Link$2),IconButtonUnstyled$3=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$4.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl$1(i)?jsxRuntimeExports$1.jsx(StyledLink$9,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$9,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$8,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$4=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$7=iconButtonTheme$3.iconButton;function IconChooser$3({icon:e,size:t}){const r={width:theme$2$7.icon.sizing[t],height:theme$2$7.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$2,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$2,{size:"medium",color:"currentColor",icon:e,style:r})}const IconButton$2=reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$4(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$3,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser$3,{size:a,icon:i})})}),styles$2$9={},_generateStyles$2$4=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$9[i])return styles$2$9[i];const o=theme$2$7.root.border.width[r],a=theme$2$7.root.border.offset[r],s=semanticColor$2.action[r][e],l=semanticColor$2.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$7.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$7.root.sizing[n],width:theme$2$7.root.sizing[n],borderRadius:theme$2$7.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$7.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles$1.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$7.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$7.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$9[i]=StyleSheet.create(d),styles$2$9[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$6(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$2,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$3,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View$2,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText$2,{tag:"span",size:"medium",weight:"semi",style:p.label,children:c})]})})});const theme$1$9={root:{border:{width:{primary:{rest:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.thin},secondary:{rest:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.thin},tertiary:{rest:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.thin}},radius:border$2.radius.radius_120},layout:{padding:{block:sizing$2.size_140,inline:sizing$2.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$2.size_0}}},label:{color:{progressive:semanticColor$2.core.foreground.instructive.default,neutral:semanticColor$2.core.foreground.neutral.default,disabled:semanticColor$2.core.foreground.disabled.default},layout:{width:sizing$2.size_640}}},styles$1$a={},_generateStyles$1$6=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$a[n])return styles$1$a[n];const i=theme$1$9.root.border.width[r],o=semanticColor$2.chonky[e],a=semanticColor$2.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$9.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$9.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$9.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$9.root.border.radius,color:theme$1$9.label.color[e],flexDirection:"column",gap:sizing$2.size_020,maxWidth:theme$1$9.label.layout.width,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$9.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$9.root.shadow.y.hover} - ${theme$1$9.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$1.focus},disabled:{cursor:"not-allowed",color:theme$1$9.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$9.root.border.radius,marginBlockEnd:theme$1$9.root.shadow.y.rest,paddingBlock:theme$1$9.root.layout.padding.block,paddingInline:theme$1$9.root.layout.padding.inline,background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$9.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$a[n]=StyleSheet.create(u),styles$1$a[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$8(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$3,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles$3.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$2,{size:"small",color:"currentColor",icon:i})})});const staticStyles$3=StyleSheet.create({icon:{width:sizing$2.size_160,height:sizing$2.size_160}}),styles$q={},theme$d={root:{border:{radius:border$2.radius.radius_full,width:{primary:{default:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.medium},secondary:{default:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.medium},tertiary:{default:border$2.width.thin,hover:border$2.width.thin,press:border$2.width.medium}}},layout:{padding:sizing$2.size_100},sizing:{default:sizing$2.size_360}}},_generateStyles$8=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$q[n])return styles$q[n];const i=theme$d.root.border.width[r],o=semanticColor$2.action[r][e],a=semanticColor$2.action[r].disabled,s={padding:theme$d.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$d.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$d.root.border.radius,padding:theme$d.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$d.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles$1.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$q[n]=StyleSheet.create(c),styles$q[n]},caretLeftIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z'/%3e%3c/svg%3e",caretRightIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'/%3e%3c/svg%3e",minusIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M180,128a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,128Zm56,0A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z'/%3e%3c/svg%3e";function flatten(e){const t=[];if(!e)return t;if(Array.isArray(e))for(const r of e)t.push(...flatten(r));else t.push(e);return t}function processStyleList(e){const t=[],r=[];if(!e)return{style:{},className:""};const n="undefined"!=typeof global&&global.SNAPSHOT_INLINE_APHRODITE;flatten(e).forEach(e=>{const i=e._definition;if(null!=i)if(n){const e={};for(const[t,r]of Object.entries(i))e[t.replace(/-[a-z]/g,e=>e[1].toUpperCase())]=r;r.push(e)}else t.push(e);else r.push(e)});const i=Object.assign({},...r);if(r.length>0&&!n){const e=StyleSheet.create({inlineStyles:i});t.push(e.inlineStyles)}return{style:n?i:{},className:css(...t)}}const isHeaderRegex=/^h[1-6]$/,styles$1$9=StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}}),Text$2=reactExports.forwardRef(function({children:e,style:t,tag:r="span",testId:n,...i},o){const a=isHeaderRegex.test(r),s=processStyleList([styles$1$9.text,a&&styles$1$9.header,t]),l=i.className?[i.className,s.className].join(" "):s.className;return jsxRuntimeExports$1.jsx(r,{...i,style:s.style,className:l,"data-testid":n,ref:o,children:e})});function addStyle(e,t){return reactExports.forwardRef((r,n)=>{const{className:i,style:o,...a}=r,s="string"==typeof e?overrides[e]:null,{className:l,style:c}=processStyleList([s,t,o]);return jsxRuntimeExports$1.jsx(e,{...a,ref:n,className:[l,i].filter(Boolean).join(" "),style:c})})}const overrides=StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),styles$p=StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),View=reactExports.forwardRef(function(e,t){const{testId:r,tag:n="div",...i}=e,o={...i,"data-testid":r},a=reactExports.useMemo(()=>addStyle(n,styles$p.default),[n]);return jsxRuntimeExports$1.jsx(a,{...o,ref:t})}),RenderStateContext=reactExports.createContext("root");RenderStateContext.displayName="RenderStateContext";const keys={enter:"Enter",space:" "},color6Regexp=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,color3Regexp=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,rgbaRegexp=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,parse$1=e=>{if("string"!=typeof e)throw new Error(`Failed to parse color: ${e}`);const t=e.match(color3Regexp);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const r=e.match(color6Regexp);if(r)return{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1};const n=e.match(rgbaRegexp);if(n)return{r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:n[4]?parseFloat(n[4]):1};throw new Error(`Failed to parse color: ${e}`)},format=e=>{const t=Math.round(e.r),r=Math.round(e.g),n=Math.round(e.b);if(1===e.a){const e=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t};return`#${e(t)}${e(r)}${e(n)}`}return`rgba(${t},${r},${n},${e.a.toFixed(2)})`},fade=(e,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const r=parse$1(e);return format({...r,a:r.a*t})},mix=(e,t)=>{const r=parse$1(e),n=parse$1(t);return format({r:r.r*r.a+n.r*(1-r.a),g:r.g*r.a+n.g*(1-r.a),b:r.b*r.a+n.b*(1-r.a),a:n.a})},offBlack="#21242c",white$1="#ffffff",eggplant="#5f1e5c",baseColors={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:offBlack,offBlack64:fade(offBlack,.64),offBlack50:fade(offBlack,.5),offBlack32:fade(offBlack,.32),offBlack16:fade(offBlack,.16),offBlack8:fade(offBlack,.08),offWhite:"#f7f8fa",white:white$1,white64:fade(white$1,.64),white50:fade(white$1,.5),white32:fade(white$1,.32),darkBlue:"#0b2149",teal:"#14bf96"},fadedColorWithWhite=(e,t)=>mix(fade(e,t),baseColors.white),color$1={...baseColors,activeBlue:mix(baseColors.offBlack32,baseColors.blue),fadedBlue:fadedColorWithWhite(baseColors.blue,.32),fadedBlue24:fadedColorWithWhite(baseColors.blue,.24),fadedBlue16:fadedColorWithWhite(baseColors.blue,.16),fadedBlue8:fadedColorWithWhite(baseColors.blue,.08),activeRed:mix(baseColors.offBlack32,baseColors.red),fadedRed:fadedColorWithWhite(baseColors.red,.32),fadedRed24:fadedColorWithWhite(baseColors.red,.24),fadedRed16:fadedColorWithWhite(baseColors.red,.16),fadedRed8:fadedColorWithWhite(baseColors.red,.08),activeGreen:mix(baseColors.offBlack32,baseColors.green),fadedGreen24:fadedColorWithWhite(baseColors.green,.24),fadedGreen16:fadedColorWithWhite(baseColors.green,.16),fadedGreen8:fadedColorWithWhite(baseColors.green,.08),activeGold:mix(baseColors.offBlack32,baseColors.gold),fadedGold24:fadedColorWithWhite(baseColors.gold,.24),fadedGold16:fadedColorWithWhite(baseColors.gold,.16),fadedGold8:fadedColorWithWhite(baseColors.gold,.08),fadedPurple24:fadedColorWithWhite(baseColors.purple,.24),fadedPurple16:fadedColorWithWhite(baseColors.purple,.16),fadedPurple8:fadedColorWithWhite(baseColors.purple,.08),eggplant:eggplant,fadedEggplant8:fadedColorWithWhite(eggplant,.08),fadedOffBlack72:fadedColorWithWhite(offBlack,.72),fadedOffBlack64:fadedColorWithWhite(offBlack,.64),fadedOffBlack50:fadedColorWithWhite(offBlack,.5),fadedOffBlack32:fadedColorWithWhite(offBlack,.32),fadedOffBlack16:fadedColorWithWhite(offBlack,.16),fadedOffBlack8:fadedColorWithWhite(offBlack,.08)},spacing$1={xxxSmall_4:4},width={mdMax:1023,lgMin:1024},mediaQuery={xl:`@media screen and (min-width: ${width.lgMin}px) /* breakpoint.mediaQuery.xl */`,mdOrSmaller:`@media screen and (max-width: ${width.mdMax}px) /* breakpoint.mediaQuery.mdOrSmaller */`},breakpoint={mediaQuery:mediaQuery},BASELINE_VALUE=10;function remToPx(e,t=BASELINE_VALUE){const r=parseFloat(e);return`${Math.round(r*t)}px`}function pxToRem(e,t=BASELINE_VALUE){return e/t+"rem"}function mapValuesToCssVars(e,t="--wb-"){const r={};for(const n in e)"object"==typeof e[n]?r[n]=mapValuesToCssVars(e[n],`${t}${n}-`):r[n]=`var(${t}${n})`;return r}const CSS_VAR_PREFIX="--wb-",sizing$1={size_0:pxToRem(0),size_010:pxToRem(1),size_020:pxToRem(2),size_040:pxToRem(4),size_060:pxToRem(6),size_080:pxToRem(8),size_100:pxToRem(10),size_120:pxToRem(12),size_140:pxToRem(14),size_160:pxToRem(16),size_180:pxToRem(18),size_200:pxToRem(20),size_220:pxToRem(22),size_240:pxToRem(24),size_260:pxToRem(26),size_280:pxToRem(28),size_320:pxToRem(32),size_360:pxToRem(36),size_400:pxToRem(40),size_440:pxToRem(44),size_480:pxToRem(48),size_560:pxToRem(56),size_640:pxToRem(64),size_720:pxToRem(72),size_800:pxToRem(80),size_880:pxToRem(88),size_960:pxToRem(96)},fontFamily={sans:'Lato, "Noto Sans", sans-serif',serif:'"Noto Serif", serif',mono:"Inconsolata, monospace"},fontWeight={light:300,regular:400,bold:700,black:900},font$1={family:{sans:fontFamily.sans,serif:fontFamily.serif,mono:fontFamily.mono},size:{xxxLarge:sizing$1.size_360,xxLarge:sizing$1.size_280,xLarge:sizing$1.size_240,large:sizing$1.size_200,medium:sizing$1.size_160,small:sizing$1.size_140,xSmall:sizing$1.size_120},lineHeight:{xxxLarge:sizing$1.size_400,xxLarge:sizing$1.size_320,xLarge:sizing$1.size_280,large:sizing$1.size_240,xMedium:sizing$1.size_220,medium:sizing$1.size_200,small:sizing$1.size_180,xSmall:sizing$1.size_160},weight:{light:fontWeight.light,regular:fontWeight.regular,medium:fontWeight.regular,semi:fontWeight.regular,bold:fontWeight.bold,black:fontWeight.black},body:{size:{xsmall:sizing$1.size_120,small:sizing$1.size_140,medium:sizing$1.size_160},lineHeight:{xsmall:sizing$1.size_160,small:sizing$1.size_180,medium:sizing$1.size_200,large:sizing$1.size_220}},heading:{size:{small:sizing$1.size_120,medium:sizing$1.size_200,large:sizing$1.size_240,xlarge:sizing$1.size_280,xxlarge:sizing$1.size_360},lineHeight:{small:sizing$1.size_160,medium:sizing$1.size_240,large:sizing$1.size_280,xlarge:sizing$1.size_320,xxlarge:sizing$1.size_400}},textDecoration:{underlineOffset:sizing$1.size_020,thickness:sizing$1.size_010}},black="#191918",color={orange_80:"#FEE9E5",orange_60:"#FEBFB1",orange_30:"#F8551A",orange_10:"#983C1A",yellow_60:"#FEE7AD",yellow_50:"#FDD673",yellow_30:"#FCB706",yellow_10:"#966B00",green_60:"#BCEBBB",green_50:"#97D38E",green_30:"#579F6C",cyan_80:"#DDF0FE",cyan_60:"#A9DAFD",cyan_30:"#28A9FF",cyan_20:"#2485C7",cyan_10:"#20628F",magenta_90:"#FCEEF7",magenta_80:"#FFE3F4",magenta_60:"#F9BBE1",magenta_30:"#E83FA4",magenta_10:"#84275E",gray_60:"#CBCBCD",gray_50:"#B5B6B9",gray_20:"#717279",gray_10:"#4A4C53",black_50:fade(black,.5)},transparent="transparent",transparentShadowColor=color$1.offBlack16,core={transparent:transparent,border:{instructive:{subtle:color$1.fadedBlue,default:color$1.blue,strong:color$1.activeBlue},neutral:{subtle:color$1.fadedOffBlack16,default:color$1.fadedOffBlack50,strong:color$1.fadedOffBlack72},critical:{subtle:color$1.fadedRed24,default:color$1.red,strong:color$1.activeRed},success:{subtle:color$1.fadedGreen24,default:color$1.green,strong:color$1.activeGreen},warning:{subtle:color$1.fadedGold24,default:color$1.gold,strong:color$1.activeGold},disabled:{subtle:transparent,default:color$1.fadedOffBlack16,strong:color$1.fadedOffBlack32},knockout:{default:color$1.white}},background:{base:{subtle:color$1.offWhite,default:color$1.white,strong:color$1.fadedBlue16},instructive:{subtle:color$1.fadedBlue8,default:color$1.blue,strong:color$1.activeBlue},neutral:{subtle:color$1.fadedOffBlack8,default:color$1.fadedOffBlack72,strong:color$1.offBlack},critical:{subtle:color$1.fadedRed8,default:color$1.red,strong:color$1.activeRed},success:{subtle:color$1.fadedGreen8,default:color$1.green,strong:color$1.activeGreen},warning:{subtle:color$1.fadedGold8,default:color$1.gold,strong:color$1.activeGold},disabled:{subtle:transparent,default:color$1.fadedOffBlack8,strong:color$1.fadedOffBlack16},overlay:{default:color$1.offBlack50}},foreground:{instructive:{subtle:color$1.blue,default:color$1.activeBlue,strong:color$1.offBlack},neutral:{subtle:color$1.fadedOffBlack64,default:color$1.fadedOffBlack72,strong:color$1.offBlack},critical:{subtle:color$1.red,default:color$1.activeRed,strong:color$1.offBlack},success:{subtle:color$1.green,default:color$1.activeGreen,strong:color$1.offBlack},warning:{subtle:color$1.gold,default:color$1.activeGold,strong:color$1.offBlack},disabled:{subtle:color$1.fadedOffBlack16,default:color$1.fadedOffBlack32,strong:color$1.fadedOffBlack50},knockout:{default:color$1.white}},shadow:{transparent:{low:transparentShadowColor,mid:transparentShadowColor,high:transparentShadowColor},chonky:{instructive:{subtle:color$1.fadedBlue,default:color$1.activeBlue},neutral:{subtle:color$1.fadedOffBlack32,default:color$1.fadedOffBlack50,strong:color$1.offBlack}}}},sharedFeedbackStrongTokens={background:core.background.neutral.strong,border:core.border.neutral.strong,text:core.foreground.knockout.default},semanticColor$1={core:core,learning:{math:{foreground:{blue:"#3D7586",gold:"#946700",green:"#447A53",gray:"#5D5F66",grayH:"#3B3D45",grayI:"#21242C",purple:"#594094",purpleD:"#8351E8",pink:"#B25071",red:"#D92916"}},background:{gems:{subtle:color.magenta_90,default:color.magenta_80,strong:color.magenta_10},due:{subtle:color.cyan_80,default:color.cyan_60,strong:color.cyan_10},streaks:{subtle:color.orange_80,default:color.orange_60,strong:color.orange_10},progress:{notStarted:{default:color.gray_60},attempted:{default:color.yellow_60},complete:{default:color.green_60}}},border:{gems:{subtle:color.magenta_80,default:color.magenta_60,strong:color.magenta_30},streaks:{subtle:color.orange_80,default:color.orange_60,strong:color.orange_30},due:{subtle:color.cyan_80,default:color.cyan_60,strong:color.cyan_30}},foreground:{gems:{subtle:color.magenta_60,default:color.magenta_30,strong:color.magenta_10},streaks:{subtle:color.orange_60,default:color.orange_30,strong:color.orange_10},due:{subtle:color.cyan_60,default:color.cyan_20,strong:color.cyan_10},progress:{notStarted:{subtle:color.gray_50,strong:color.gray_10},attempted:{subtle:color.yellow_50,strong:color.yellow_10},complete:{strong:color.green_50}}},shadow:{progress:{notStarted:{default:color.gray_20},attempted:{default:color.yellow_30},complete:{default:color.green_30}}}},action:{primary:{progressive:{default:{border:core.transparent,background:core.background.instructive.default,foreground:core.foreground.knockout.default},hover:{border:core.border.instructive.default,background:core.background.instructive.default,foreground:core.foreground.knockout.default},press:{border:core.border.instructive.strong,background:core.background.instructive.strong,foreground:core.foreground.knockout.default}},destructive:{default:{border:core.transparent,background:core.background.critical.default,foreground:core.foreground.knockout.default},hover:{border:core.border.critical.default,background:core.background.critical.default,foreground:core.foreground.knockout.default},press:{border:core.border.critical.strong,background:core.background.critical.strong,foreground:core.foreground.knockout.default}},neutral:{default:{border:core.transparent,background:core.background.neutral.default,foreground:core.foreground.knockout.default},hover:{border:core.border.neutral.default,background:core.background.neutral.default,foreground:core.foreground.knockout.default},press:{border:core.border.neutral.strong,background:core.background.neutral.strong,foreground:core.foreground.knockout.default}},disabled:{border:core.border.disabled.strong,background:core.border.disabled.strong,foreground:core.foreground.knockout.default}},secondary:{progressive:{default:{border:core.border.neutral.default,background:core.transparent,foreground:core.foreground.instructive.subtle},hover:{border:core.border.instructive.default,background:core.transparent,foreground:core.foreground.instructive.subtle},press:{border:core.border.instructive.strong,background:core.background.instructive.subtle,foreground:core.foreground.instructive.default}},destructive:{default:{border:core.border.neutral.default,background:core.transparent,foreground:core.foreground.critical.subtle},hover:{border:core.border.critical.default,background:core.transparent,foreground:core.foreground.critical.subtle},press:{border:core.border.critical.strong,background:core.background.critical.subtle,foreground:core.foreground.critical.default}},neutral:{default:{border:core.border.neutral.default,background:core.transparent,foreground:core.foreground.neutral.default},hover:{border:core.border.neutral.default,background:core.transparent,foreground:core.foreground.neutral.default},press:{border:core.border.neutral.strong,background:core.background.neutral.subtle,foreground:core.foreground.neutral.strong}},disabled:{border:core.border.disabled.strong,background:core.background.disabled.subtle,foreground:core.foreground.disabled.default}},tertiary:{progressive:{default:{border:core.transparent,background:core.transparent,foreground:core.foreground.instructive.subtle},hover:{border:core.border.instructive.default,background:core.transparent,foreground:core.foreground.instructive.subtle},press:{border:core.border.instructive.strong,background:core.transparent,foreground:core.foreground.instructive.default}},destructive:{default:{border:core.transparent,background:core.transparent,foreground:core.foreground.critical.subtle},hover:{border:core.border.critical.default,background:core.transparent,foreground:core.foreground.critical.subtle},press:{border:core.border.critical.strong,background:core.transparent,foreground:core.foreground.critical.default}},neutral:{default:{border:core.transparent,background:core.transparent,foreground:core.foreground.neutral.default},hover:{border:core.border.neutral.default,background:core.transparent,foreground:core.foreground.neutral.default},press:{border:core.border.neutral.strong,background:core.transparent,foreground:core.foreground.neutral.strong}},disabled:{border:core.border.disabled.default,background:core.background.disabled.subtle,foreground:core.foreground.disabled.default}}},chonky:{progressive:{background:{primary:{rest:core.background.instructive.default,hover:core.background.instructive.default,press:core.background.instructive.default,selected:core.background.instructive.default},secondary:{rest:core.background.instructive.subtle,hover:core.background.instructive.subtle,press:core.background.instructive.subtle,selected:core.background.instructive.subtle},tertiary:{rest:core.transparent,hover:core.transparent,press:core.transparent,selected:core.transparent}},border:{primary:{rest:core.transparent,hover:core.transparent,press:core.transparent,selected:core.transparent},secondary:{rest:core.border.instructive.subtle,hover:core.border.instructive.subtle,press:core.border.instructive.subtle,selected:core.border.instructive.subtle},tertiary:{rest:core.transparent,hover:core.border.neutral.subtle,press:core.border.neutral.subtle,selected:core.border.instructive.subtle}},foreground:{primary:{rest:core.foreground.knockout.default,hover:core.foreground.knockout.default,press:core.foreground.knockout.default,selected:core.foreground.knockout.default},secondary:{rest:core.foreground.instructive.default,hover:core.foreground.instructive.default,press:core.foreground.instructive.default,selected:core.foreground.instructive.default},tertiary:{rest:core.foreground.instructive.default,hover:core.foreground.instructive.default,press:core.foreground.instructive.default,selected:core.foreground.instructive.default}},shadow:{primary:{rest:core.shadow.chonky.instructive.default,hover:core.shadow.chonky.instructive.default,press:core.shadow.chonky.instructive.default,selected:core.shadow.chonky.instructive.default},secondary:{rest:core.shadow.chonky.instructive.subtle,hover:core.shadow.chonky.instructive.subtle,press:core.shadow.chonky.instructive.subtle,selected:core.shadow.chonky.instructive.subtle},tertiary:{rest:core.transparent,hover:core.shadow.chonky.neutral.subtle,press:core.shadow.chonky.neutral.subtle,selected:core.shadow.chonky.instructive.subtle}}},neutral:{background:{primary:{rest:core.background.neutral.default,hover:core.background.neutral.default,press:core.background.neutral.default,selected:core.background.neutral.default},secondary:{rest:core.transparent,hover:core.transparent,press:core.transparent,selected:core.background.neutral.subtle},tertiary:{rest:core.transparent,hover:core.transparent,press:core.transparent,selected:core.transparent}},border:{primary:{rest:core.transparent,hover:core.transparent,press:core.transparent,selected:core.transparent},secondary:{rest:core.border.neutral.subtle,hover:core.border.neutral.subtle,press:core.border.neutral.subtle,selected:core.border.neutral.subtle},tertiary:{rest:core.transparent,hover:core.border.neutral.subtle,press:core.border.neutral.subtle,selected:core.transparent}},foreground:{primary:{rest:core.foreground.knockout.default,hover:core.foreground.knockout.default,press:core.foreground.knockout.default,selected:core.foreground.knockout.default},secondary:{rest:core.foreground.neutral.subtle,hover:core.foreground.neutral.subtle,press:core.foreground.neutral.subtle,selected:core.foreground.neutral.subtle},tertiary:{rest:core.foreground.neutral.default,hover:core.foreground.neutral.default,press:core.foreground.neutral.default,selected:core.foreground.neutral.default}},shadow:{primary:{rest:core.shadow.chonky.neutral.strong,hover:core.shadow.chonky.neutral.strong,press:core.transparent,selected:core.shadow.chonky.neutral.strong},secondary:{rest:core.shadow.chonky.neutral.subtle,hover:core.shadow.chonky.neutral.subtle,press:core.shadow.chonky.neutral.strong,selected:core.shadow.chonky.neutral.subtle},tertiary:{rest:core.transparent,hover:core.shadow.chonky.neutral.subtle,press:core.shadow.chonky.neutral.subtle,selected:core.shadow.chonky.instructive.subtle}}},disabled:{background:{primary:core.background.disabled.default,secondary:core.background.disabled.default,tertiary:core.background.disabled.subtle},border:{primary:core.border.disabled.default,secondary:core.border.disabled.default,tertiary:core.border.disabled.subtle},foreground:{primary:core.foreground.disabled.default,secondary:core.foreground.disabled.default,tertiary:core.foreground.disabled.default},shadow:{primary:core.shadow.chonky.neutral.subtle,secondary:core.shadow.chonky.neutral.subtle,tertiary:core.transparent}}},input:{default:{border:core.border.neutral.default,background:core.background.base.default,foreground:core.foreground.neutral.strong,placeholder:core.foreground.neutral.default},checked:{border:core.border.instructive.default,background:core.background.instructive.default,foreground:core.foreground.knockout.default},disabled:{border:core.border.disabled.default,background:color$1.offWhite,foreground:core.foreground.neutral.default,placeholder:core.foreground.neutral.default},error:{border:core.border.critical.default,background:core.background.critical.subtle,foreground:core.foreground.neutral.strong},readOnly:{background:core.background.base.default,text:core.foreground.neutral.strong,icon:core.transparent}},status:{critical:{background:core.background.critical.subtle,foreground:core.foreground.critical.subtle},warning:{background:core.background.warning.subtle,foreground:core.foreground.warning.subtle},success:{background:core.background.success.subtle,foreground:core.foreground.success.subtle},notice:{background:core.background.instructive.subtle,foreground:core.foreground.instructive.subtle},neutral:{background:core.background.neutral.subtle,foreground:core.foreground.neutral.strong}},focus:{outer:color$1.blue,inner:color$1.white},link:{rest:core.foreground.instructive.subtle,hover:core.foreground.instructive.subtle,press:core.foreground.instructive.default,disabled:core.foreground.disabled.default},khanmigo:{primary:color$1.eggplant,secondary:color$1.fadedEggplant8},mastery:{primary:color$1.purple},feedback:{info:{subtle:{background:core.background.instructive.subtle,border:core.border.instructive.subtle,icon:core.foreground.instructive.default,text:core.foreground.instructive.strong},strong:{...sharedFeedbackStrongTokens,icon:core.foreground.instructive.subtle}},success:{subtle:{background:core.background.success.subtle,border:core.border.success.subtle,icon:core.foreground.success.default,text:core.foreground.success.strong},strong:{...sharedFeedbackStrongTokens,icon:core.foreground.success.subtle}},warning:{subtle:{background:core.background.warning.subtle,border:core.border.warning.default,icon:core.foreground.warning.default,text:core.foreground.warning.strong},strong:{...sharedFeedbackStrongTokens,icon:core.foreground.warning.subtle}},critical:{subtle:{background:core.background.critical.subtle,border:core.border.critical.subtle,icon:core.foreground.critical.default,text:core.foreground.critical.strong},strong:{...sharedFeedbackStrongTokens,icon:core.foreground.critical.subtle}}}},border$1={radius:{radius_0:remToPx(sizing$1.size_0),radius_010:remToPx(sizing$1.size_010),radius_040:remToPx(sizing$1.size_040),radius_080:remToPx(sizing$1.size_080),radius_120:remToPx(sizing$1.size_120),radius_240:remToPx(sizing$1.size_240),radius_full:"50%"},width:{none:remToPx(sizing$1.size_0),thin:remToPx(sizing$1.size_010),medium:remToPx(sizing$1.size_020),thick:remToPx(sizing$1.size_040)}},SIZE_20_PX=remToPx(sizing$1.size_020),SIZE_40_PX=remToPx(sizing$1.size_040),SIZE_80_PX=remToPx(sizing$1.size_080),SIZE_160_PX=remToPx(sizing$1.size_160);function boxShadow$1(e){return{low:`0 ${SIZE_20_PX} ${SIZE_20_PX} 0 ${e.core.shadow.transparent.low}`,mid:`0 ${SIZE_40_PX} ${SIZE_80_PX} 0 ${e.core.shadow.transparent.mid}`,high:`0 ${SIZE_80_PX} ${SIZE_160_PX} 0 ${e.core.shadow.transparent.high}`}}var themeDefault$8={border:border$1,boxShadow:boxShadow$1(semanticColor$1),font:font$1,semanticColor:semanticColor$1,sizing:sizing$1},theme$c=mapValuesToCssVars(themeDefault$8,CSS_VAR_PREFIX);const{border:border,boxShadow:boxShadow,semanticColor:semanticColor,sizing:sizing,font:font}=theme$c,getAppropriateTriggersForRole=e=>{switch(e){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},disabledHandlers={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},startState={hovered:!1,focused:!1,pressed:!1,waiting:!1};class ClickableBehavior extends reactExports.Component{static getDerivedStateFromProps(e,t){return e.disabled?{...startState,focused:t.focused}:null}navigateOrReset(e){if(e){const{navigate:e,href:t,skipClientNav:r,target:n}=this.props;t&&("_blank"===n?(window.open(t,"_blank"),this.setState({waiting:!1})):e&&!r?(e(t,{viewTransition:this.props.viewTransition}),this.setState({waiting:!1})):window.location.assign(t))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:r,navigate:n}=this.props;return n&&!r||"_blank"===this.props.target?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(e=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t,beforeNav:r,safeWithNav:n,href:i,type:o}=this.props;let a=!0,s=!0;if(t&&t(e),e.defaultPrevented&&(a=!1,s=!1),e.preventDefault(),!i&&"submit"===o&&s){let t=e.currentTarget;for(;t;){if(t instanceof window.HTMLFormElement){const e=new window.Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(e);break}t=t.parentElement}}if(r)this.setState({waiting:!0}),r().then(()=>n?this.handleSafeWithNav(n,a):this.navigateOrReset(a)).catch(()=>{});else{if(n)return this.handleSafeWithNav(n,a);this.navigateOrReset(a)}}render(){const e=this.props.rel||("_blank"===this.props.target?"noopener noreferrer":void 0),t=this.props.disabled?{...disabledHandlers,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}:{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:r}=this.props;return r&&r(this.state,t)}constructor(e){super(e),this.handleClick=e=>{const{onClick:t,beforeNav:r,safeWithNav:n}=this.props;this.enterClick||((t||r||n)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.props.onMouseEnter&&this.props.onMouseEnter(e),this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e),this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole(r);i&&n===keys.enter||o&&n===keys.space?(e.preventDefault(),this.setState({pressed:!0})):i||n!==keys.enter||(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:t,role:r}=this.props;t&&t(e);const n=e.key,{triggerOnEnter:i,triggerOnSpace:o}=getAppropriateTriggersForRole(r);i&&n===keys.enter||o&&n===keys.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):i||n!==keys.enter||(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:t}=this.props;this.setState({focused:!0},()=>{t&&t(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=startState,this.waitingForClick=!1,this.enterClick=!1}}ClickableBehavior.defaultProps={disabled:!1};const isClientSideUrl=e=>"string"==typeof e&&(!/^(https?:)?\/\//i.test(e)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(e));function withRouter(e){function t(t){const r=useNavigate();return jsxRuntimeExports$1.jsx(e,{...t,navigate:r})}return t.displayName="withRouter(ClickableBehavior)",t}const ClickableBehaviorWithRouter=withRouter(ClickableBehavior);function getClickableBehavior(e,t,r){return r&&!0!==t&&e&&isClientSideUrl(e)?ClickableBehaviorWithRouter:ClickableBehavior}const StyledA$8=addStyle("a"),StyledButton$7=addStyle("button"),StyledLink$8=addStyle(Link$2),Clickable=reactExports.forwardRef(function(e,t){const r=(r,n,i)=>{const o=e.href&&!e.disabled,a=n&&!e.skipClientNav&&isClientSideUrl(e.href||"");return o&&a&&e.href?jsxRuntimeExports$1.jsx(StyledLink$8,{...i,to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):o&&!a?jsxRuntimeExports$1.jsx(StyledA$8,{...i,href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t,children:e.children(r)}):jsxRuntimeExports$1.jsx(StyledButton$7,{...i,type:"button","aria-disabled":e.disabled,ref:t,children:e.children(r)})},n=useInRouterContext(),{href:i,onClick:o,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,skipClientNav:p,beforeNav:f,safeWithNav:m,style:g,target:y,testId:b,hideDefaultFocusRing:v,disabled:x,tabIndex:$,...S}=e,E=getClickableBehavior(i,p,n),w=e=>[styles$o.reset,styles$o.link,!v&&e.focused&&styles$o.focused,x&&styles$o.disabled,g];return f?jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,beforeNav:f,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})}):jsxRuntimeExports$1.jsx(E,{href:i,onClick:o,safeWithNav:m,onFocus:a,onKeyDown:s,onKeyUp:l,onMouseDown:c,onMouseUp:u,onMouseEnter:d,onMouseLeave:h,target:y,disabled:x,tabIndex:$,children:(e,t)=>r(e,n,{...S,"data-testid":b,style:w(e),...t})})});Clickable.defaultProps={disabled:!1};const styles$o=StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid ${border.width.medium} ${semanticColor.focus.outer}`}},disabled:{color:semanticColor.action.secondary.disabled.foreground,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid ${border.width.medium} ${semanticColor.focus.outer}`}}}),common={display:"block"},Heading$1={...common,fontFamily:font.family.sans},BodyText$1={...common,fontFamily:font.family.sans,margin:0},styles$n=StyleSheet.create({Title:{...common,fontFamily:font.family.sans,fontWeight:font.weight.black,[breakpoint.mediaQuery.xl]:{fontSize:font.size.xxxLarge,lineHeight:font.lineHeight.xxxLarge},[breakpoint.mediaQuery.mdOrSmaller]:{fontSize:font.size.xxLarge,lineHeight:font.lineHeight.xxLarge}},Tagline:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.large,lineHeight:font.lineHeight.large},Heading:Heading$1,HeadingSmallBoldWeight:{...Heading$1,fontSize:font.heading.size.small,fontWeight:font.weight.bold,lineHeight:font.heading.lineHeight.small},HeadingSmallSemiWeight:{...Heading$1,fontSize:font.heading.size.small,fontWeight:font.weight.semi,lineHeight:font.heading.lineHeight.small},HeadingSmallMediumWeight:{...Heading$1,fontSize:font.heading.size.small,fontWeight:font.weight.medium,lineHeight:font.heading.lineHeight.small},HeadingMediumBoldWeight:{...Heading$1,fontSize:font.heading.size.medium,fontWeight:font.weight.bold,lineHeight:font.heading.lineHeight.medium},HeadingMediumSemiWeight:{...Heading$1,fontSize:font.heading.size.medium,fontWeight:font.weight.semi,lineHeight:font.heading.lineHeight.medium},HeadingMediumMediumWeight:{...Heading$1,fontSize:font.heading.size.medium,fontWeight:font.weight.medium,lineHeight:font.heading.lineHeight.medium},HeadingLargeBoldWeight:{...Heading$1,fontSize:font.heading.size.large,fontWeight:font.weight.bold,lineHeight:font.heading.lineHeight.large},HeadingLargeSemiWeight:{...Heading$1,fontSize:font.heading.size.large,fontWeight:font.weight.semi,lineHeight:font.heading.lineHeight.large},HeadingLargeMediumWeight:{...Heading$1,fontSize:font.heading.size.large,fontWeight:font.weight.medium,lineHeight:font.heading.lineHeight.large},HeadingXLargeBoldWeight:{...Heading$1,fontSize:font.heading.size.xlarge,fontWeight:font.weight.bold,lineHeight:font.heading.lineHeight.xlarge},HeadingXLargeMediumWeight:{...Heading$1,fontSize:font.heading.size.xlarge,fontWeight:font.weight.medium,lineHeight:font.heading.lineHeight.xlarge},HeadingXLargeSemiWeight:{...Heading$1,fontSize:font.heading.size.xlarge,fontWeight:font.weight.semi,lineHeight:font.heading.lineHeight.xlarge},HeadingXxLargeSemiWeight:{...Heading$1,fontSize:font.heading.size.xxlarge,fontWeight:font.weight.semi,lineHeight:font.heading.lineHeight.xxlarge},HeadingXxLargeBoldWeight:{...Heading$1,fontSize:font.heading.size.xxlarge,fontWeight:font.weight.bold,lineHeight:font.heading.lineHeight.xxlarge},BodyText:BodyText$1,BodyTextXSmallMediumWeight:{...BodyText$1,fontSize:font.body.size.xsmall,fontWeight:font.weight.medium,lineHeight:font.body.lineHeight.xsmall},BodyTextXSmallSemiWeight:{...BodyText$1,fontSize:font.body.size.xsmall,fontWeight:font.weight.semi,lineHeight:font.body.lineHeight.xsmall},BodyTextXSmallBoldWeight:{...BodyText$1,fontSize:font.body.size.xsmall,fontWeight:font.weight.bold,lineHeight:font.body.lineHeight.xsmall},BodyTextSmallMediumWeight:{...BodyText$1,fontSize:font.body.size.small,fontWeight:font.weight.medium,lineHeight:font.body.lineHeight.small},BodyTextSmallSemiWeight:{...BodyText$1,fontSize:font.body.size.small,fontWeight:font.weight.semi,lineHeight:font.body.lineHeight.small},BodyTextSmallBoldWeight:{...BodyText$1,fontSize:font.body.size.small,fontWeight:font.weight.bold,lineHeight:font.body.lineHeight.small},BodyTextMediumMediumWeight:{...BodyText$1,fontSize:font.body.size.medium,fontWeight:font.weight.medium,lineHeight:font.body.lineHeight.medium},BodyTextMediumSemiWeight:{...BodyText$1,fontSize:font.body.size.medium,fontWeight:font.weight.semi,lineHeight:font.body.lineHeight.medium},BodyTextMediumBoldWeight:{...BodyText$1,fontSize:font.body.size.medium,fontWeight:font.weight.bold,lineHeight:font.body.lineHeight.medium},HeadingLarge:{...common,fontFamily:font.family.sans,fontWeight:font.weight.bold,[breakpoint.mediaQuery.xl]:{fontSize:font.size.xxLarge,lineHeight:font.lineHeight.xxLarge},[breakpoint.mediaQuery.mdOrSmaller]:{fontSize:font.size.xLarge,lineHeight:font.lineHeight.xLarge}},HeadingMedium:{...common,fontFamily:font.family.sans,fontWeight:font.weight.bold,[breakpoint.mediaQuery.xl]:{fontSize:font.size.xLarge,lineHeight:font.lineHeight.xLarge},[breakpoint.mediaQuery.mdOrSmaller]:{fontSize:"2.2rem",lineHeight:"2.6rem"}},HeadingSmall:{...common,fontFamily:font.family.sans,fontWeight:font.weight.bold,fontSize:font.size.large,lineHeight:font.lineHeight.large},HeadingXSmall:{...common,fontFamily:font.family.sans,fontWeight:font.weight.bold,fontSize:font.size.xSmall,lineHeight:font.lineHeight.xSmall,letterSpacing:.6,textTransform:"uppercase"},BodySerifBlock:{...common,fontFamily:font.family.serif,fontWeight:font.weight.medium,fontSize:font.size.large,lineHeight:font.lineHeight.large},BodySerif:{...common,fontFamily:font.family.serif,fontWeight:font.weight.medium,fontSize:font.size.medium,lineHeight:font.size.medium},BodyMonospace:{...common,fontFamily:font.family.mono,fontWeight:font.weight.medium,fontSize:font.size.medium,lineHeight:font.lineHeight.medium},Body:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.medium,lineHeight:font.lineHeight.xMedium},LabelLarge:{...common,fontFamily:font.family.sans,fontWeight:font.weight.bold,fontSize:font.size.medium,lineHeight:font.lineHeight.medium},LabelMedium:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.medium,lineHeight:font.lineHeight.medium},LabelSmall:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.small,lineHeight:font.lineHeight.small},LabelXSmall:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.xSmall,lineHeight:font.lineHeight.xSmall},Caption:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.small,lineHeight:font.lineHeight.medium},Footnote:{...common,fontFamily:font.family.sans,fontWeight:font.weight.medium,fontSize:font.size.xSmall,lineHeight:font.lineHeight.small}});reactExports.forwardRef(function({style:e,children:t,tag:r="h1",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.Title,e],ref:i,children:t})});const tagMap={xxlarge:"h1",xlarge:"h2",large:"h3",medium:"h4",small:"h4"},styleMapping$1={"small-medium":styles$n.HeadingSmallMediumWeight,"small-semi":styles$n.HeadingSmallSemiWeight,"small-bold":styles$n.HeadingSmallBoldWeight,"medium-medium":styles$n.HeadingMediumMediumWeight,"medium-semi":styles$n.HeadingMediumSemiWeight,"medium-bold":styles$n.HeadingMediumBoldWeight,"large-medium":styles$n.HeadingLargeMediumWeight,"large-semi":styles$n.HeadingLargeSemiWeight,"large-bold":styles$n.HeadingLargeBoldWeight,"xlarge-medium":styles$n.HeadingXLargeMediumWeight,"xlarge-semi":styles$n.HeadingXLargeSemiWeight,"xlarge-bold":styles$n.HeadingXLargeBoldWeight,"xxlarge-medium":styles$n.HeadingXxLargeMediumWeight,"xxlarge-semi":styles$n.HeadingXxLargeSemiWeight,"xxlarge-bold":styles$n.HeadingXxLargeBoldWeight};reactExports.forwardRef(function(e,t){const{size:r,weight:n="bold",style:i,children:o,tag:a,...s}=e,l=r??"large",c=a??(r?tagMap[r]:"h2"),u=styleMapping$1[`${l}-${n}`];return jsxRuntimeExports$1.jsx(Text$2,{...s,tag:c,style:[styles$n.Heading,u,i],ref:t,children:o})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h2",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.HeadingLarge,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h3",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.HeadingMedium,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.HeadingSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="h4",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.HeadingXSmall,e],ref:i,children:t})});const styleMapping={"xsmall-medium":styles$n.BodyTextXSmallMediumWeight,"xsmall-semi":styles$n.BodyTextXSmallSemiWeight,"xsmall-bold":styles$n.BodyTextXSmallBoldWeight,"small-medium":styles$n.BodyTextSmallMediumWeight,"small-semi":styles$n.BodyTextSmallSemiWeight,"small-bold":styles$n.BodyTextSmallBoldWeight,"medium-medium":styles$n.BodyTextMediumMediumWeight,"medium-semi":styles$n.BodyTextMediumSemiWeight,"medium-bold":styles$n.BodyTextMediumBoldWeight},BodyText=reactExports.forwardRef(function({size:e="medium",weight:t="medium",style:r,children:n,tag:i="p",...o},a){const s=styleMapping[`${e}-${t}`];return jsxRuntimeExports$1.jsx(Text$2,{...o,tag:i,style:[styles$n.BodyText,s,r],ref:a,children:n})});reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.BodySerifBlock,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.BodySerif,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.BodyMonospace,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.Body,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.LabelLarge,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.LabelMedium,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.LabelSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.LabelXSmall,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.Tagline,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.Caption,e],ref:i,children:t})}),reactExports.forwardRef(function({style:e,children:t,tag:r="span",...n},i){return jsxRuntimeExports$1.jsx(Text$2,{...n,tag:r,style:[styles$n.Footnote,e],ref:i,children:t})});const heights={xsmall:16,small:24,medium:48,large:96},paths={xsmall:"M7.237.741C7.165.393 6.95.154 6.656.053A1.01 1.01 0 0 0 6.18.01c-.053.009-.053.009-.087.017C2.553.949 0 4.214 0 7.91 0 12.36 3.598 16 8 16c4.4 0 8-3.647 8-8.112a1.02 1.02 0 0 0-.118-.423.877.877 0 0 0-.808-.48.909.909 0 0 0-.81.46c-.09.151-.13.296-.146.455-.08 3.493-2.737 6.207-6.118 6.207-3.41 0-6.118-2.74-6.118-6.196 0-2.843 1.936-5.291 4.644-6.022.1-.028.224-.082.352-.177a.928.928 0 0 0 .36-.97z",small:"M10.598.943c-.093-.449-.362-.748-.732-.875a1.314 1.314 0 0 0-.723-.033C3.83 1.417 0 6.317 0 11.864 0 18.538 5.398 24 12 24c6.598 0 12-5.471 12-12.16a1.333 1.333 0 0 0-.154-.548c-.193-.368-.544-.606-1.023-.606-.472 0-.825.229-1.035.585-.117.2-.169.39-.189.582-.124 5.472-4.294 9.73-9.599 9.73-5.349 0-9.599-4.3-9.599-9.72 0-4.46 3.036-8.299 7.28-9.444.127-.036.291-.107.458-.232.373-.28.57-.711.46-1.244z",medium:"M44.19 23.455a1.91 1.91 0 1 1 3.801 0h.003c.004.18.006.363.006.545 0 13.255-10.745 24-24 24S0 37.255 0 24 10.745 0 24 0c.182 0 .364.002.545.006V.01a1.91 1.91 0 1 1 0 3.801v.015A20.564 20.564 0 0 0 24 3.818C12.854 3.818 3.818 12.854 3.818 24c0 11.146 9.036 20.182 20.182 20.182 11.146 0 20.182-9.036 20.182-20.182 0-.182-.003-.364-.007-.545h.015z",large:"M88.38 46.91a3.818 3.818 0 1 1 7.602 0h.006c.008.362.012.725.012 1.09 0 26.51-21.49 48-48 48S0 74.51 0 48 21.49 0 48 0c.365 0 .728.004 1.09.012v.005a3.818 3.818 0 1 1 0 7.602v.032c-.362-.01-.725-.015-1.09-.015C25.708 7.636 7.636 25.708 7.636 48c0 22.292 18.072 40.364 40.364 40.364 22.292 0 40.364-18.072 40.364-40.364 0-.365-.005-.728-.015-1.09h.032z"},colors={light:color$1.white,dark:color$1.offBlack50},StyledPath=addStyle("path");class CircularSpinner extends reactExports.Component{render(){const{size:e,light:t,style:r,testId:n}=this.props,i=heights[e],o=paths[e],a=t?colors.light:colors.dark,s=jsxRuntimeExports$1.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:`0 0 ${i} ${i}`,"data-testid":n,children:jsxRuntimeExports$1.jsx(StyledPath,{style:[styles$m.loadingSpinner,{fill:a}],fillRule:"nonzero",d:o})});return jsxRuntimeExports$1.jsx(View,{style:[styles$m.spinnerContainer,r],children:s})}}CircularSpinner.defaultProps={size:"large",light:!1};const rotateKeyFrames={"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}},styles$m=StyleSheet.create({spinnerContainer:{justifyContent:"center"},loadingSpinner:{transformOrigin:"50% 50%",animationName:rotateKeyFrames,animationDuration:"1.1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),focus={":focus-visible":{boxShadow:`0 0 0 ${border.width.medium} ${semanticColor.focus.inner}`,outline:`${border.width.medium} solid ${semanticColor.focus.outer}`,outlineOffset:border.width.medium}};var focusStyles=Object.freeze({__proto__:null,focus:focus});function getSize$1$1(e){switch(e){case"small":default:return styles$1$8.small;case"medium":return styles$1$8.medium;case"large":return styles$1$8.large;case"xlarge":return styles$1$8.xlarge}}semanticColor.core.border.neutral.default,semanticColor.core.border.knockout.default,semanticColor.core.border.knockout.default,semanticColor.core.foreground.knockout.default,semanticColor.core.foreground.knockout.default,semanticColor.core.border.knockout.default,border.radius.radius_080,semanticColor.core.background.base.default;const StyledDiv$2=addStyle("div");reactExports.forwardRef((e,t)=>{const{size:r="small",id:n,testId:i,style:o,children:a,...s}=e,l=reactExports.cloneElement(a,{style:{width:"100%",height:"100%"}});return jsxRuntimeExports$1.jsx(StyledDiv$2,{style:[getSize$1$1(r),o],id:n,"data-testid":i,ref:t,...s,children:l})});const styles$1$8=StyleSheet.create({small:{width:sizing.size_160,height:sizing.size_160},medium:{width:sizing.size_240,height:sizing.size_240},large:{width:sizing.size_480,height:sizing.size_480},xlarge:{width:sizing.size_960,height:sizing.size_960}}),StyledSpan$2=addStyle("span"),PhosphorIcon$1=reactExports.forwardRef(function(e,t){const{color:r="currentColor",icon:n,size:i="small",style:o,testId:a,className:s,role:l,...c}=e,u=getSize$2(i),d=`${s??""}`;return jsxRuntimeExports$1.jsx(StyledSpan$2,{...c,className:d,style:[styles$l.svg,u,{backgroundColor:r,maskImage:`url(${n})`},o],"data-testid":a,ref:t,role:l??c["aria-label"]?"img":void 0})});function getSize$2(e){switch(e){case"small":default:return styles$l.small;case"medium":return styles$l.medium;case"large":return styles$l.large;case"xlarge":return styles$l.xlarge}}const styles$l=StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"},small:{width:sizing.size_160,height:sizing.size_160},medium:{width:sizing.size_240,height:sizing.size_240},large:{width:sizing.size_480,height:sizing.size_480},xlarge:{width:sizing.size_960,height:sizing.size_960}});function useImageRoleAttributes$1(e){const{"aria-label":t,"aria-labelledby":r}=e;return t||r?{"aria-label":t,"aria-labelledby":r,role:"img"}:{"aria-hidden":!0}}PhosphorIcon$1.displayName="PhosphorIcon";const StyledSvg$1$1=addStyle("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$1({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$1$1,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M1.246 5.38105L2.36444 3.66654C2.63609 3.25012 3.0934 3 3.58311 3H12.4169C12.9066 3 13.3639 3.25012 13.6356 3.66654L14.754 5.38105C15.1278 5.95411 15.0708 6.71389 14.6158 7.22195L9.08044 13.4027C8.49982 14.051 7.50018 14.051 6.91956 13.4027L1.38423 7.22195C0.929229 6.71389 0.872177 5.95411 1.246 5.38105Z",fill:semanticColor.learning.foreground.gems.default}),jsxRuntimeExports$1.jsx("path",{d:"M9.45654 7.01492L8.34027 10.0102C8.07911 10.711 8.97464 11.2595 9.48018 10.7084L12.6345 7.26989C13.0351 6.83317 12.7253 6.12858 12.1327 6.12858H10.7327C10.164 6.12858 9.65515 6.48199 9.45654 7.01492Z",fill:semanticColor.learning.foreground.gems.subtle})]})});const StyledSvg$2=addStyle("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes$1({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$2,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M9.14653 0.628361C9.07012 0.571421 8.97956 0.531782 8.88248 0.512785C8.78539 0.493787 8.68464 0.49599 8.5887 0.519205C8.49277 0.542421 8.40447 0.585969 8.33125 0.64618C8.25802 0.70639 8.20202 0.781496 8.16797 0.865168L5.47556 5.06034L4.59152 3.43463C4.52866 3.37998 4.45359 3.33789 4.37125 3.31114C4.28892 3.28438 4.2012 3.27357 4.11387 3.27941C4.02653 3.28525 3.94157 3.30761 3.86458 3.34502C3.78759 3.38243 3.72032 3.43403 3.66719 3.49644C1.98899 5.46729 1.13672 7.44994 1.13672 9.38884C1.13672 11.0096 1.85506 12.564 3.13372 13.7101C4.41238 14.8561 6.14661 15.5 7.9549 15.5C9.7632 15.5 11.4974 14.8561 12.7761 13.7101C14.0547 12.564 14.7731 11.0096 14.7731 9.38884C14.7731 5.26034 10.8379 1.88879 9.14653 0.628361Z",fill:semanticColor.learning.foreground.streaks.default}),jsxRuntimeExports$1.jsx("path",{d:"M10.8067 10.5315C10.8067 12.0965 9.53809 13.3651 7.97318 13.3651C6.40826 13.3651 5.13965 12.0965 5.13965 10.5315C5.13965 8.96663 7.2648 6.28125 7.97318 6.28125C8.68156 6.28125 10.8067 8.96663 10.8067 10.5315Z",fill:semanticColor.learning.foreground.streaks.subtle})]})});const textUnderlineOffset$2=sizing.size_040,theme$2$6={root:{border:{width:{primary:{default:border.width.none,hover:border.width.medium,press:border.width.medium},secondary:{default:border.width.thin,hover:border.width.thin,press:border.width.thin},tertiary:{default:border.width.none,hover:border.width.none,press:border.width.none}},offset:{primary:border.width.medium,secondary:0,tertiary:0},radius:{default:border.radius.radius_040,hover:border.radius.radius_040,press:border.radius.radius_040}},sizing:{height:{small:sizing.size_320,medium:sizing.size_400,large:sizing.size_560},underline:{hover:sizing.size_020,press:sizing.size_010}},layout:{padding:{inline:{primary:{small:sizing.size_160,medium:sizing.size_160,large:sizing.size_320},secondary:{small:sizing.size_120,medium:sizing.size_160,large:sizing.size_180},tertiary:{small:sizing.size_0,medium:sizing.size_0,large:sizing.size_0}}}},font:{size:{large:"1.8rem"},lineHeight:{small:font.lineHeight.xMedium,default:font.lineHeight.large,large:"2.6rem"},weight:{default:font.weight.bold},decoration:{hover:"underline",press:"underline"},offset:{default:textUnderlineOffset$2}}},icon:{margin:{inline:{inner:sizing.size_060,outer:`calc(-1 * ${border.width.medium})`}},padding:sizing.size_020,sizing:{small:sizing.size_160,medium:sizing.size_240,large:sizing.size_240}}};var theme$1$8=mapValuesToCssVars(theme$2$6,"--wb-c-button-");function ButtonIcon$2({icon:e,size:t,style:r,testId:n}){const i={"aria-hidden":!0,style:[r,{width:theme$1$8.icon.sizing[t],height:theme$1$8.icon.sizing[t]}],testId:n},o={...i,color:"currentColor"};return"string"!=typeof e?reactExports.cloneElement(e,i):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$1,{...o,size:"small",icon:e}):jsxRuntimeExports$1.jsx(PhosphorIcon$1,{...o,size:"medium",icon:e})}const StyledA$7=addStyle("a"),StyledButton$6=addStyle("button"),StyledLink$7=addStyle(Link$2),ButtonUnstyled$2=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,id:o,skipClientNav:a,style:s,testId:l,type:c,...u}=e,d={"data-testid":l,id:o,role:"button",style:[styles$2$8.reset,s],...u},h=useInRouterContext();return i&&!n?h&&!a&&isClientSideUrl(i)?jsxRuntimeExports$1.jsx(StyledLink$7,{...d,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$7,{...d,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$6,{type:c||"button",...d,"aria-disabled":n,ref:t,children:r})}),styles$2$8=StyleSheet.create({reset:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,border:"none",cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}}}),ButtonCore$2=reactExports.forwardRef(function(e,t){const{children:r,skipClientNav:n,actionType:i,disabled:o,focused:a,hovered:s,href:l,kind:c="primary",labelStyle:u,pressed:d,size:h="medium",style:p,testId:f,type:m,spinner:g,startIcon:y,endIcon:b,id:v,waiting:x,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,..._}=e,M=_generateStyles$1$5(i,c,h),C=g||o,T=[sharedStyles$3.shared,y&&sharedStyles$3.withStartIcon,b&&sharedStyles$3.withEndIcon,M.default,C&&M.disabled,!C&&d&&M.pressed,!C&&!d&&a&&M.focused,"small"===h&&sharedStyles$3.small,"large"===h&&sharedStyles$3.large],R=jsxRuntimeExports$1.jsx(BodyText,{size:"small"===h?"small":void 0,weight:"large"===h?"bold":void 0,tag:"span",style:[sharedStyles$3.text,"small"===h&&sharedStyles$3.smallText,"large"===h&&sharedStyles$3.largeText,u,g&&sharedStyles$3.hiddenText],testId:f?`${f}-inner-label`:void 0,children:r}),O="small"===h?"small":"medium",k=jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[y&&jsxRuntimeExports$1.jsx(View,{style:sharedStyles$3.iconWrapper,children:jsxRuntimeExports$1.jsx(ButtonIcon$2,{size:O,icon:y,style:[sharedStyles$3.startIcon,"tertiary"===c&&sharedStyles$3.tertiaryStartIcon],testId:f?`${f}-start-icon`:void 0})}),R,g&&jsxRuntimeExports$1.jsx(CircularSpinner,{style:sharedStyles$3.spinner,size:{medium:"small",small:"xsmall",large:"medium"}[h],light:"primary"===c,testId:`${f||"button"}-spinner`}),b&&jsxRuntimeExports$1.jsx(View,{testId:f?`${f}-end-icon-wrapper`:void 0,style:[sharedStyles$3.endIcon,sharedStyles$3.iconWrapper,sharedStyles$3.endIconWrapper,"tertiary"===c&&sharedStyles$3.endIconWrapperTertiary],children:jsxRuntimeExports$1.jsx(ButtonIcon$2,{size:O,icon:b,testId:f?`${f}-end-icon`:void 0})})]});return jsxRuntimeExports$1.jsx(ButtonUnstyled$2,{..._,disabled:C,href:l,id:v,ref:t,skipClientNav:n,style:[T,p],testId:f,tabIndex:e.tabIndex,type:m,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,children:k})}),sharedStyles$3=StyleSheet.create({shared:{height:theme$1$8.root.sizing.height.medium,paddingBlock:0},small:{height:theme$1$8.root.sizing.height.small},large:{height:theme$1$8.root.sizing.height.large},text:{alignItems:"center",fontWeight:theme$1$8.root.font.weight.default,whiteSpace:"nowrap",overflow:"hidden",lineHeight:theme$1$8.root.font.lineHeight.default,textOverflow:"ellipsis",display:"inline-block",pointerEvents:"none"},smallText:{lineHeight:theme$1$8.root.font.lineHeight.small},largeText:{fontSize:theme$1$8.root.font.size.large,lineHeight:theme$1$8.root.font.lineHeight.large},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"},startIcon:{marginInlineStart:theme$1$8.icon.margin.inline.outer,marginInlineEnd:theme$1$8.icon.margin.inline.inner},tertiaryStartIcon:{marginInlineStart:0},endIcon:{marginInlineStart:theme$1$8.icon.margin.inline.inner},iconWrapper:{padding:theme$1$8.icon.padding,minWidth:"auto"},endIconWrapper:{marginInlineStart:theme$1$8.icon.margin.inline.inner,marginInlineEnd:theme$1$8.icon.margin.inline.outer},endIconWrapperTertiary:{marginInlineEnd:0}}),styles$1$7={},_generateStyles$1$5=(e="progressive",t,r)=>{const n=`${e}-${t}-${r}`;if(styles$1$7[n])return styles$1$7[n];const i=theme$1$8.root.layout.padding.inline[t][r],o=theme$1$8.root.border.width[t],a=theme$1$8.root.border.offset[t],s=semanticColor.action[t][e],l=semanticColor.action[t].disabled,c={borderColor:l.border,borderWidth:o.default,borderRadius:theme$1$8.root.border.radius.default,background:l.background,color:l.foreground},u={...c,outline:"none",boxShadow:"none",textDecoration:"none",textDecorationThickness:"unset",textUnderlineOffset:"unset"},d={background:s.press.background,borderRadius:theme$1$8.root.border.radius.press,color:s.press.foreground,..."primary"===t?{outline:`${o.press} solid ${s.press.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.press.border,boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$8.root.font.offset.default,textDecoration:`${theme$1$8.root.font.decoration.press} ${theme$1$8.root.sizing.underline.press}`}:void 0},h={default:{borderRadius:theme$1$8.root.border.radius.default,paddingInline:i,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,transition:"border-radius 0.1s ease-in-out","@media (hover: hover)":{":hover":{background:s.hover.background,borderRadius:theme$1$8.root.border.radius.hover,color:s.hover.foreground,..."primary"===t?{outline:`${o.hover} solid ${s.hover.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.hover.border,boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$8.root.font.offset.default,textDecoration:`${theme$1$8.root.font.decoration.hover} ${theme$1$8.root.sizing.underline.hover}`}:void 0}},":active":d,...focusStyles.focus,..."secondary"===t?{":focus-visible:hover":{...focusStyles.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}, ${focusStyles.focus[":focus-visible"].boxShadow}`},":focus-visible:active":{...focusStyles.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}, ${focusStyles.focus[":focus-visible"].boxShadow}`}}:{}},pressed:d,focused:focusStyles.focus[":focus-visible"],disabled:{cursor:"not-allowed",...c,":hover":u,":active":u,":focus-visible":c}};return styles$1$7[n]=StyleSheet.create(h),styles$1$7[n]},Button$2=reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,actionType:h="progressive",kind:p="primary",size:f="medium",disabled:m=!1,spinner:g=!1,role:y,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,...S}=e,E=useInRouterContext(),w=getClickableBehavior(r,o,E),_=s?{beforeNav:s}:{target:u},M=r?"link":"button",C="link"===y||"button"===y?void 0:y;return jsxRuntimeExports$1.jsx(w,{disabled:g||m,href:r,role:M,type:n,onClick:a,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,safeWithNav:l,rel:d,..._,children:(e,a)=>jsxRuntimeExports$1.jsx(ButtonCore$2,{...S,...e,...a,disabled:m,spinner:g||e.waiting,actionType:h,kind:p,size:f,skipClientNav:o,href:r,role:C,target:u,type:n,tabIndex:c,ref:t,children:i})})}),ActivityButtonCore$2=reactExports.forwardRef(function(e,t){const{children:r,disabled:n=!1,kind:i="primary",focused:o,pressed:a,styles:s,type:l,startIcon:c,endIcon:u,hovered:d,waiting:h,...p}=e,f=_generateStyles$7("progressive",n,i),m=[f.button,n&&f.disabled,!n&&a&&f.pressed,!n&&!a&&o&&f.focused,s?.root],g=[f.chonky,n&&f.chonkyDisabled,!n&&a&&f.chonkyPressed,s?.box];return jsxRuntimeExports$1.jsx(ButtonUnstyled$2,{...p,disabled:n,ref:t,style:m,type:l,children:jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:jsxRuntimeExports$1.jsxs(View,{style:g,className:"chonky",children:[c&&("string"==typeof c?jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"medium",color:"currentColor",icon:c,style:[styles$k.icon,s?.startIcon],"aria-hidden":"true"}):reactExports.cloneElement(c,{"aria-hidden":!0,style:[styles$k.icon,s?.startIcon]})),jsxRuntimeExports$1.jsx(BodyText,{tag:"span",size:"medium",weight:"semi",style:[styles$k.label,s?.label],children:r}),u&&("string"==typeof u?jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"medium",color:"currentColor",icon:u,style:[styles$k.icon,s?.endIcon],"aria-hidden":"true"}):reactExports.cloneElement(u,{"aria-hidden":!0,style:[styles$k.icon,s?.endIcon]}))]})})})});reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,kind:h="primary",disabled:p=!1,role:f,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...v}=e,x=useInRouterContext(),$=getClickableBehavior(r,o,x),S=s?{beforeNav:s}:{target:u},E=r?"link":"button",w="link"===f||"button"===f?void 0:f;return jsxRuntimeExports$1.jsx($,{disabled:p,href:r,role:E,type:n,onClick:a,safeWithNav:l,rel:d,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...S,children:(e,a)=>jsxRuntimeExports$1.jsx(ActivityButtonCore$2,{...v,...e,...a,disabled:p,kind:h,skipClientNav:o,href:r,role:w,target:u,type:n,tabIndex:c,ref:t,children:i})})});const theme$b={root:{border:{width:{primary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin},secondary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin},tertiary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin}},radius:border.radius.radius_120},layout:{padding:{block:sizing.size_140,inline:sizing.size_480}},shadow:{y:{rest:"6px",hover:"8px",press:sizing.size_0}}},label:{color:{progressive:semanticColor.core.foreground.instructive.default,neutral:semanticColor.core.foreground.neutral.default,disabled:semanticColor.core.foreground.disabled.default},font:{lineHeight:sizing.size_140},layout:{padding:{blockStart:sizing.size_040,blockEnd:sizing.size_060},width:sizing.size_640}},icon:{sizing:{height:sizing.size_200,width:sizing.size_200}}},styles$k={icon:{alignSelf:"center",width:theme$b.icon.sizing.width,height:theme$b.icon.sizing.height},label:{lineHeight:theme$b.label.font.lineHeight,paddingBlockStart:theme$b.label.layout.padding.blockStart,paddingBlockEnd:theme$b.label.layout.padding.blockEnd}},stateStyles$2={},_generateStyles$7=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(stateStyles$2[n])return stateStyles$2[n];const i=theme$b.root.border.width[r],o=semanticColor.chonky[e],a=semanticColor.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$b.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$b.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$b.root.shadow.y.rest})`},u={button:{background:"transparent",borderRadius:theme$b.root.border.radius,color:theme$b.label.color[e],height:"auto",flexDirection:"column",gap:sizing.size_020,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$b.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$b.root.shadow.y.hover} - ${theme$b.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles.focus},focused:focusStyles.focus[":focus-visible"],disabled:{cursor:"not-allowed",color:theme$b.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{flexDirection:"row",gap:sizing.size_080,borderRadius:theme$b.root.border.radius,marginBlockEnd:theme$b.root.shadow.y.rest,maxWidth:"100%",paddingBlock:theme$b.root.layout.padding.block,paddingInline:theme$b.root.layout.padding.inline,background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$b.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l};return stateStyles$2[n]=StyleSheet.create(u),stateStyles$2[n]};var themeDefault$7={iconButton:{root:{border:{offset:{primary:border.width.medium,secondary:`calc(-1 * ${border.width.medium})`,tertiary:`calc(-1 * ${border.width.medium})`},width:{primary:{default:border.width.none,hover:border.width.medium,press:border.width.medium},secondary:{default:border.width.thin,hover:border.width.medium,press:border.width.medium},tertiary:{default:border.width.none,hover:border.width.medium,press:border.width.medium}},radius:{default:border.radius.radius_040,hover:border.radius.radius_040,press:border.radius.radius_040}},sizing:{xsmall:sizing.size_240,small:sizing.size_320,medium:sizing.size_400,large:sizing.size_480}},icon:{sizing:{xsmall:sizing.size_160,small:sizing.size_240,medium:sizing.size_240,large:sizing.size_240}}}},iconButtonTheme$2=mapValuesToCssVars(themeDefault$7,"--wb-c-icon-button-");const StyledA$6=addStyle("a"),StyledButton$5=addStyle("button"),StyledLink$6=addStyle(Link$2),IconButtonUnstyled$2=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys.enter&&t!==keys.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys.enter&&t!==keys.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$3.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl(i)?jsxRuntimeExports$1.jsx(StyledLink$6,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$6,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$5,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$3=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$5=iconButtonTheme$2.iconButton;function IconChooser$2({icon:e,size:t}){const r={width:theme$2$5.icon.sizing[t],height:theme$2$5.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"medium",color:"currentColor",icon:e,style:r})}const IconButton$1=reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$3(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$2,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser$2,{size:a,icon:i})})}),styles$2$7={},_generateStyles$2$3=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$7[i])return styles$2$7[i];const o=theme$2$5.root.border.width[r],a=theme$2$5.root.border.offset[r],s=semanticColor.action[r][e],l=semanticColor.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$5.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$5.root.sizing[n],width:theme$2$5.root.sizing[n],borderRadius:theme$2$5.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$5.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$5.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$5.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$7[i]=StyleSheet.create(d),styles$2$7[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$4(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$2,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText,{tag:"span",size:"medium",weight:"semi",style:p.label,children:c})]})})});const theme$1$7={root:{border:{width:{primary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin},secondary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin},tertiary:{rest:border.width.thin,hover:border.width.thin,press:border.width.thin}},radius:border.radius.radius_120},layout:{padding:{block:sizing.size_140,inline:sizing.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing.size_0}}},label:{color:{progressive:semanticColor.core.foreground.instructive.default,neutral:semanticColor.core.foreground.neutral.default,disabled:semanticColor.core.foreground.disabled.default},layout:{width:sizing.size_640}}},styles$1$6={},_generateStyles$1$4=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$6[n])return styles$1$6[n];const i=theme$1$7.root.border.width[r],o=semanticColor.chonky[e],a=semanticColor.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$7.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$7.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$7.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$7.root.border.radius,color:theme$1$7.label.color[e],flexDirection:"column",gap:sizing.size_020,maxWidth:theme$1$7.label.layout.width,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$7.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$7.root.shadow.y.hover} - ${theme$1$7.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles.focus},disabled:{cursor:"not-allowed",color:theme$1$7.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$7.root.border.radius,marginBlockEnd:theme$1$7.root.shadow.y.rest,paddingBlock:theme$1$7.root.layout.padding.block,paddingInline:theme$1$7.root.layout.padding.inline,background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$7.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$6[n]=StyleSheet.create(u),styles$1$6[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$6(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$2,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles$2.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$1,{size:"small",color:"currentColor",icon:i})})});const staticStyles$2=StyleSheet.create({icon:{width:sizing.size_160,height:sizing.size_160}}),styles$j={},theme$a={root:{border:{radius:border.radius.radius_full,width:{primary:{default:border.width.thin,hover:border.width.thin,press:border.width.medium},secondary:{default:border.width.thin,hover:border.width.thin,press:border.width.medium},tertiary:{default:border.width.thin,hover:border.width.thin,press:border.width.medium}}},layout:{padding:sizing.size_100},sizing:{default:sizing.size_360}}},_generateStyles$6=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$j[n])return styles$j[n];const i=theme$a.root.border.width[r],o=semanticColor.action[r][e],a=semanticColor.action[r].disabled,s={padding:theme$a.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$a.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$a.root.border.radius,padding:theme$a.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$a.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$j[n]=StyleSheet.create(c),styles$j[n]},externalLinkIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z'/%3e%3c/svg%3e";var themeDefault$6={root:{font:{family:"inherit",weight:"inherit"}}},theme$9=mapValuesToCssVars(themeDefault$6,"--wb-c-link-");const StyledA$5=addStyle("a"),StyledLink$5=addStyle(Link$2),LinkCore$1=reactExports.forwardRef(function(e,t){const r=useInRouterContext(),{children:n,skipClientNav:i,focused:o,hovered:a,href:s,inline:l=!1,pressed:c,style:u,testId:d,waiting:h,target:p,startIcon:f,endIcon:m,viewTransition:g,...y}=e,b={"data-testid":d,style:[[styles$i.shared,styles$i.rest,l&&styles$i.restInline,!c&&o&&styles$i.focus],u],target:p,...y},v=new URL(s,window.location.origin).origin!==window.location.origin,x=jsxRuntimeExports$1.jsx(PhosphorIcon$1,{icon:externalLinkIcon,size:"small",style:[styles$i.endIcon,styles$i.centered],testId:"external-icon"});let $,S;f&&($=reactExports.cloneElement(f,{style:[styles$i.startIcon,styles$i.centered],testId:"start-icon","aria-hidden":"true",...f.props})),m&&(S=reactExports.cloneElement(m,{style:[styles$i.endIcon,styles$i.centered],testId:"end-icon","aria-hidden":"true",...m.props}));const E=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[f&&$,n,m?S:v&&"_blank"===p&&x]});return r&&!i&&isClientSideUrl(s)?jsxRuntimeExports$1.jsx(StyledLink$5,{...b,to:s,ref:t,viewTransition:g,children:E}):jsxRuntimeExports$1.jsx(StyledA$5,{...b,href:s,ref:t,children:E})}),focusStyling$1={...focusStyles.focus[":focus-visible"],borderRadius:border.radius.radius_010,outlineOffset:border.width.medium},pressStyling$1={color:semanticColor.link.press,textDecoration:"underline currentcolor solid",textUnderlineOffset:font.textDecoration.underlineOffset},styles$i=StyleSheet.create({shared:{fontFamily:theme$9.root.font.family,fontWeight:theme$9.root.font.weight,cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"},rest:{color:semanticColor.link.rest,":hover":{textDecoration:"underline currentcolor solid",color:semanticColor.link.hover,textUnderlineOffset:font.textDecoration.underlineOffset},":focus-visible":focusStyling$1,":active":pressStyling$1},restInline:{textDecoration:"underline currentcolor solid",textDecorationThickness:font.textDecoration.thickness,textUnderlineOffset:font.textDecoration.underlineOffset},focus:focusStyling$1,press:pressStyling$1,startIcon:{marginInlineEnd:spacing$1.xxxSmall_4},endIcon:{marginInlineStart:spacing$1.xxxSmall_4},centered:{verticalAlign:"-10%"}}),Link$1=reactExports.forwardRef(function(e,t){const{onClick:r,beforeNav:n,safeWithNav:i,href:o,skipClientNav:a,children:s,tabIndex:l,onKeyDown:c,onKeyUp:u,target:d,inline:h=!1,viewTransition:p=!1,...f}=e,m=useInRouterContext(),g=getClickableBehavior(o,a,m);return n?jsxRuntimeExports$1.jsx(g,{disabled:!1,href:o,role:"link",onClick:r,beforeNav:n,safeWithNav:i,onKeyDown:c,onKeyUp:u,viewTransition:p,children:(e,{...r})=>jsxRuntimeExports$1.jsx(LinkCore$1,{...f,...e,...r,skipClientNav:a,href:o,target:d,tabIndex:l,inline:h,ref:t,viewTransition:p,children:s})}):jsxRuntimeExports$1.jsx(g,{disabled:!1,href:o,role:"link",onClick:r,safeWithNav:i,target:d,onKeyDown:c,onKeyUp:u,viewTransition:p,children:(e,{...r})=>jsxRuntimeExports$1.jsx(LinkCore$1,{...f,...e,...r,skipClientNav:a,href:o,target:d,tabIndex:l,inline:h,ref:t,viewTransition:p,children:s})})}),infoIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z'/%3e%3c/svg%3e",successIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M178.39,158c-11,19.06-29.39,30-50.39,30s-39.36-10.93-50.39-30a12,12,0,0,1,20.78-12c3.89,6.73,12.91,18,29.61,18s25.72-11.28,29.61-18a12,12,0,1,1,20.78,12ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM92,124a16,16,0,1,0-16-16A16,16,0,0,0,92,124Zm72-32a16,16,0,1,0,16,16A16,16,0,0,0,164,92Z'/%3e%3c/svg%3e",warningIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z'/%3e%3c/svg%3e",WarningCircle="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z'/%3e%3c/svg%3e",theme$1$6={root:{border:{radius:border.radius.radius_040,width:{inlineStart:sizing.size_060,inlineEnd:border.width.none,blockStart:border.width.none,blockEnd:border.width.none}},color:{border:{info:semanticColor.core.border.instructive.default,success:semanticColor.core.border.success.default,warning:semanticColor.core.border.warning.default,critical:semanticColor.core.border.critical.default}},layout:{paddingInlineStart:sizing.size_080,gap:sizing.size_160}},icon:{color:{info:semanticColor.core.foreground.neutral.default,success:semanticColor.core.foreground.neutral.default,warning:semanticColor.core.foreground.neutral.default,critical:semanticColor.core.foreground.neutral.default},sizing:{height:sizing.size_240,width:sizing.size_240}},button:{layout:{marginInline:sizing.size_0}},link:{font:{decoration:"none",underlineOffset:"0%"}},label:{font:{size:font.body.size.small}},dismiss:{layout:{marginBlock:sizing.size_0}}};var theme$8=mapValuesToCssVars(theme$1$6,"--wb-c-banner-");const getValuesForKind=e=>{switch(e){case"success":return{icon:successIcon,role:"status"};case"warning":return{icon:warningIcon,role:"alert",ariaLive:"polite"};case"critical":return{icon:WarningCircle,role:"alert"};default:return{icon:infoIcon,role:"status"}}},getBannerKindStyle=e=>{switch(e){case"success":return styles$h.successBanner;case"info":return styles$h.infoBanner;case"warning":return styles$h.warningBanner;case"critical":return styles$h.criticalBanner}},getBannerIconKindStyle=e=>{switch(e){case"success":return styles$h.successIcon;case"info":return styles$h.infoIcon;case"warning":return styles$h.warningIcon;case"critical":return styles$h.criticalIcon}},StyledDiv$1=addStyle("div"),Banner=e=>{const{actions:t,"aria-label":r,dismissAriaLabel:n="Dismiss banner.",onDismiss:i,kind:o="info",text:a,testId:s,icon:l,styles:c}=e,u=getValuesForKind(o),d=getBannerKindStyle(o),h=getBannerIconKindStyle(o);let p=jsxRuntimeExports$1.jsx(reactExports.Fragment,{});return"none"!==l&&(p=void 0!==l&&"string"!=typeof l?reactExports.cloneElement(l,{style:styles$h.icon,testId:"banner-kind-icon"}):jsxRuntimeExports$1.jsx(PhosphorIcon$1,{icon:l||u.icon,style:[styles$h.icon,h],"aria-label":o,testId:"banner-kind-icon",role:"img"})),jsxRuntimeExports$1.jsx(View,{style:[styles$h.containerOuter,d,c?.root],role:u.role,"aria-label":r,"aria-live":u.ariaLive,testId:s,children:jsxRuntimeExports$1.jsxs(View,{style:styles$h.containerInner,children:[p,jsxRuntimeExports$1.jsxs(View,{style:styles$h.labelAndButtonsContainer,children:[jsxRuntimeExports$1.jsx(View,{style:styles$h.labelContainer,children:jsxRuntimeExports$1.jsx(StyledDiv$1,{style:styles$h.labelTypography,children:a})}),t&&jsxRuntimeExports$1.jsx(View,{style:styles$h.actionsContainer,children:t?.filter(Boolean).map((e,t)=>{if("custom"===e.type)return jsxRuntimeExports$1.jsx(View,{style:styles$h.action,children:e.node},`custom-action-${t}`);const r=e.onClick;return"link"===e.type?jsxRuntimeExports$1.jsx(View,{style:styles$h.action,children:jsxRuntimeExports$1.jsx(Link$1,{href:e.href,onClick:r,"aria-label":e.ariaLabel??e.title,style:styles$h.link,children:e.title})},e.title):jsxRuntimeExports$1.jsx(View,{style:styles$h.action,children:jsxRuntimeExports$1.jsx(Button$2,{kind:"tertiary",size:"small","aria-label":e.ariaLabel??e.title,onClick:r,style:styles$h.button,children:e.title})},e.title)})})]}),i?jsxRuntimeExports$1.jsx(View,{children:jsxRuntimeExports$1.jsx(IconButton$1,{icon:xIcon$1,kind:"tertiary",actionType:"neutral",onClick:i,style:styles$h.dismiss,"aria-label":n,size:"xsmall"})}):null]})})},styles$h=StyleSheet.create({containerOuter:{borderInlineStartWidth:theme$8.root.border.width.inlineStart,borderInlineEndWidth:theme$8.root.border.width.inlineEnd,borderBlockStartWidth:theme$8.root.border.width.blockStart,borderBlockEndWidth:theme$8.root.border.width.blockEnd,width:"100%",borderRadius:theme$8.root.border.radius,overflow:"hidden",padding:sizing.size_160,paddingInlineStart:theme$8.root.layout.paddingInlineStart},containerInner:{flexDirection:"row",gap:theme$8.root.layout.gap},icon:{alignSelf:"flex-start",width:theme$8.icon.sizing.width,height:theme$8.icon.sizing.height},labelAndButtonsContainer:{flex:1,flexDirection:"row",alignItems:"center",alignContent:"center",flexWrap:"wrap",justifyContent:"space-between",gap:theme$8.root.layout.gap},labelContainer:{flexShrink:1,textAlign:"start",overflowWrap:"break-word"},labelTypography:{fontSize:theme$8.label.font.size,fontWeight:font.weight.semi,lineHeight:font.body.lineHeight.small,fontFamily:font.family.sans},actionsContainer:{flexDirection:"row",justifyContent:"flex-start",height:sizing.size_180,alignItems:"center",gap:theme$8.root.layout.gap},action:{justifyContent:"center"},link:{fontFamily:font.family.sans,fontSize:font.body.size.small,fontWeight:font.weight.semi,lineHeight:font.body.lineHeight.small,textDecoration:theme$8.link.font.decoration,textUnderlineOffset:theme$8.link.font.underlineOffset},button:{marginInline:theme$8.button.layout.marginInline},dismiss:{flexShrink:1,marginBlock:theme$8.dismiss.layout.marginBlock},successBanner:{backgroundColor:semanticColor.feedback.success.subtle.background,borderColor:theme$8.root.color.border.success,color:semanticColor.feedback.success.subtle.text},infoBanner:{backgroundColor:semanticColor.feedback.info.subtle.background,borderColor:theme$8.root.color.border.info,color:semanticColor.feedback.info.subtle.text},warningBanner:{backgroundColor:semanticColor.feedback.warning.subtle.background,borderColor:theme$8.root.color.border.warning,color:semanticColor.feedback.warning.subtle.text},criticalBanner:{backgroundColor:semanticColor.feedback.critical.subtle.background,borderColor:theme$8.root.color.border.critical,color:semanticColor.feedback.critical.subtle.text},successIcon:{color:theme$8.icon.color.success},infoIcon:{color:theme$8.icon.color.info},warningIcon:{color:theme$8.icon.color.warning},criticalIcon:{color:theme$8.icon.color.critical}});var themeDefault$5={root:{border:{width:{default:border$3.width.medium,selected:border$3.width.thick},radius:{default:border$3.radius.radius_0,focus:border$3.radius.radius_040,press:border$3.radius.radius_0,focusPress:border$3.radius.radius_040}},color:{press:{border:semanticColor$3.core.border.instructive.default},selected:{foreground:semanticColor$3.core.foreground.instructive.default,border:semanticColor$3.core.border.instructive.default},disabled:{foreground:semanticColor$3.core.foreground.disabled.default}},layout:{gap:{default:sizing$3.size_160,detail:sizing$3.size_020},padding:{block:{default:sizing$3.size_120,detail:sizing$3.size_160},inline:{default:sizing$3.size_160,detail:sizing$3.size_160}}},sizing:{minHeight:sizing$3.size_480}},accessoryLeft:{color:{default:{foreground:"inherit"}}},accessoryRight:{color:{default:{foreground:semanticColor$3.core.foreground.neutral.default},selected:{foreground:semanticColor$3.core.foreground.instructive.subtle},disabled:{foreground:semanticColor$3.core.foreground.neutral.strong}}},rule:{sizing:{height:sizing$3.size_020},shadow:`inset 0px -1px 0px ${semanticColor$3.core.border.neutral.subtle}`},title:{font:{lineHeight:font$3.body.lineHeight.medium}},subtitle:{font:{size:font$3.body.size.small,lineHeight:font$3.body.lineHeight.small}}},theme$7=mapValuesToCssVars$2(themeDefault$5,"--wb-c-cell-");const getHorizontalRuleStyles=e=>{switch(e){case"inset":return[styles$2$6.horizontalRule,styles$2$6.horizontalRuleInset];case"full-width":return styles$2$6.horizontalRule;case"none":return{}}},styles$2$6=StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:theme$7.rule.sizing.height,boxShadow:theme$7.rule.shadow}},horizontalRuleInset:{":after":{width:`calc(100% - ${theme$7.root.layout.padding.inline.default})`}}}),LeftAccessory=({leftAccessory:e,style:t,disabled:r})=>e?jsxRuntimeExports$1.jsx(View$2,{style:[styles$1$5.accessory,styles$1$5.accessoryLeft,r&&styles$1$5.accessoryDisabled,{...t}],children:e}):null,RightAccessory=({rightAccessory:e,style:t,active:r,disabled:n})=>e?jsxRuntimeExports$1.jsx(View$2,{style:[styles$1$5.accessory,styles$1$5.accessoryRight,n&&styles$1$5.accessoryDisabled,{...t},r&&styles$1$5.accessoryActive],children:e}):null;function CellInner(e){const{active:t,children:r,disabled:n,contentStyle:i,leftAccessory:o,rightAccessory:a,styles:s,testId:l}=e;return jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(LeftAccessory,{leftAccessory:o,style:s?.leftAccessory,disabled:n}),jsxRuntimeExports$1.jsx(View$2,{style:[styles$1$5.content,i,s?.content],testId:l,children:r}),jsxRuntimeExports$1.jsx(RightAccessory,{rightAccessory:a,style:s?.rightAccessory,active:t,disabled:n})]})}const CellCore=e=>{const{active:t,disabled:r,href:n,onClick:i,"aria-label":o,"aria-selected":a,"aria-checked":s,target:l,role:c,tabIndex:u,id:d,horizontalRule:h="inset",styles:p,innerStyle:f}=e,m=getHorizontalRuleStyles(h),g=[styles$1$5.wrapper,f,t&&styles$1$5.active,m];return i||n?jsxRuntimeExports$1.jsx(Clickable$2,{disabled:r,onClick:i,href:n,hideDefaultFocusRing:!0,"aria-label":o||void 0,"aria-selected":a||void 0,"aria-checked":s,role:c,target:l,style:[g,styles$1$5.clickable,r&&styles$1$5.disabled,p?.root],"aria-current":t?"true":void 0,tabIndex:u,id:d,children:()=>jsxRuntimeExports$1.jsx(CellInner,{...e})}):jsxRuntimeExports$1.jsx(View$2,{style:[g,p?.root],"aria-current":t?"true":void 0,role:c,id:d,children:jsxRuntimeExports$1.jsx(CellInner,{...e})})},styles$1$5=StyleSheet.create({wrapper:{background:semanticColor$3.core.background.base.default,borderRadius:theme$7.root.border.radius.default,color:semanticColor$3.core.foreground.neutral.strong,minHeight:theme$7.root.sizing.minHeight,overflow:"hidden",textAlign:"start",width:"100%",display:"flex",flex:1,flexDirection:"row",gap:theme$7.root.layout.gap.default,paddingBlock:theme$7.root.layout.padding.block.default,paddingInline:theme$7.root.layout.padding.inline.default},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryLeft:{color:theme$7.accessoryLeft.color.default.foreground},accessoryRight:{color:theme$7.accessoryRight.color.default.foreground},clickable:{":hover":{background:semanticColor$3.core.background.instructive.subtle},":active":{background:semanticColor$3.core.background.instructive.subtle,borderRadius:theme$7.root.border.radius.press},":focus-visible":{borderRadius:theme$7.root.border.radius.focus,outline:focusStyles$2.focus[":focus-visible"].outline,outlineOffset:`calc(${theme$7.root.border.width.default} * -1)`,boxShadow:`inset 0 0 0 calc(${border$3.width.medium}*2) ${semanticColor$3.focus.inner}`,overflow:"hidden",position:"relative",":after":{content:"unset"}},":focus-visible:active":{borderRadius:theme$7.root.border.radius.focusPress},":active[aria-disabled=false]:not([aria-current=true])":{position:"relative",":before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:theme$7.root.border.width.default,backgroundColor:theme$7.root.color.press.border}}},active:{background:semanticColor$3.core.background.instructive.subtle,color:theme$7.root.color.selected.foreground,cursor:"default",position:"relative",":before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:theme$7.root.border.width.selected,backgroundColor:theme$7.root.color.selected.border}},disabled:{background:semanticColor$3.core.background.base.default,borderRadius:theme$7.root.border.radius.default,color:theme$7.root.color.disabled.foreground,":hover":{background:semanticColor$3.core.background.base.default,cursor:"not-allowed"},":active":{background:semanticColor$3.core.background.base.default,borderRadius:theme$7.root.border.radius.default},":focus-visible:active":{borderRadius:theme$7.root.border.radius.default}},accessoryActive:{color:theme$7.accessoryRight.color.selected.foreground},accessoryDisabled:{color:theme$7.accessoryRight.color.disabled.foreground,opacity:.32}}),Subtitle=({subtitle:e,disabled:t})=>e?"string"==typeof e?jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",tag:"span",style:[!t&&styles$g.subtitle,{fontSize:theme$7.subtitle.font.size,lineHeight:theme$7.subtitle.font.lineHeight}],children:e}):e:null,DetailCell=function(e){const{title:t,subtitle1:r,subtitle2:n,...i}=e;return jsxRuntimeExports$1.jsxs(CellCore,{...i,innerStyle:styles$g.innerWrapper,contentStyle:{gap:theme$7.root.layout.gap.detail},children:[jsxRuntimeExports$1.jsx(Subtitle,{subtitle:r,disabled:i.disabled}),"string"==typeof t?jsxRuntimeExports$1.jsx(BodyText$3,{weight:"semi",style:{lineHeight:theme$7.title.font.lineHeight},children:t}):t,jsxRuntimeExports$1.jsx(Subtitle,{subtitle:n,disabled:i.disabled})]})},styles$g=StyleSheet.create({subtitle:{color:semanticColor$3.core.foreground.neutral.default},innerWrapper:{paddingBlock:theme$7.root.layout.padding.block.detail,paddingInline:theme$7.root.layout.padding.inline.detail}}),magnifyingGlassIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z'/%3e%3c/svg%3e";var themeDefault$4={iconButton:{root:{border:{offset:{primary:border$3.width.medium,secondary:`calc(-1 * ${border$3.width.medium})`,tertiary:`calc(-1 * ${border$3.width.medium})`},width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.medium,press:border$3.width.medium},tertiary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium}},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{xsmall:sizing$3.size_240,small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_480}},icon:{sizing:{xsmall:sizing$3.size_160,small:sizing$3.size_240,medium:sizing$3.size_240,large:sizing$3.size_240}}}},iconButtonTheme$1=mapValuesToCssVars$2(themeDefault$4,"--wb-c-icon-button-");const StyledA$4=addStyle$1("a"),StyledButton$4=addStyle$1("button"),StyledLink$4=addStyle$1(Link$2),IconButtonUnstyled$1=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$2.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$4,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$4,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$4,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$2=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$4=iconButtonTheme$1.iconButton;function IconChooser$1({icon:e,size:t}){const r={width:theme$2$4.icon.sizing[t],height:theme$2$4.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:e,style:r})}const IconButton=reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$2(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$1,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser$1,{size:a,icon:i})})}),styles$2$5={},_generateStyles$2$2=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$5[i])return styles$2$5[i];const o=theme$2$4.root.border.width[r],a=theme$2$4.root.border.offset[r],s=semanticColor$3.action[r][e],l=semanticColor$3.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$4.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$4.root.sizing[n],width:theme$2$4.root.sizing[n],borderRadius:theme$2$4.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$4.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$4.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$4.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$5[i]=StyleSheet.create(d),styles$2$5[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",styles:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$3(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a?.root],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed,a?.box],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$1,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View$2,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[p.label,a?.label],children:c})]})})});const theme$1$5={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},layout:{inlineSize:sizing$3.size_640}}},styles$1$4={},_generateStyles$1$3=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$4[n])return styles$1$4[n];const i=theme$1$5.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$5.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$5.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$5.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$5.root.border.radius,color:theme$1$5.label.color[e],flexDirection:"column",gap:sizing$3.size_020,maxInlineSize:200,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$5.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$5.root.shadow.y.hover} - ${theme$1$5.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},disabled:{cursor:"not-allowed",color:theme$1$5.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$5.root.border.radius,marginBlockEnd:theme$1$5.root.shadow.y.rest,paddingBlock:theme$1$5.root.layout.padding.block,paddingInline:theme$1$5.root.layout.padding.inline,inlineSize:theme$1$5.label.layout.inlineSize,justifyContent:"center",alignItems:"center",background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$5.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$4[n]=StyleSheet.create(u),styles$1$4[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$5(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled$1,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles$1.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:i})})});const staticStyles$1=StyleSheet.create({icon:{width:sizing$3.size_160,height:sizing$3.size_160}}),styles$f={},theme$6={root:{border:{radius:border$3.radius.radius_full,width:{primary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},tertiary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium}}},layout:{padding:sizing$3.size_100},sizing:{default:sizing$3.size_360}}},_generateStyles$5=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$f[n])return styles$f[n];const i=theme$6.root.border.width[r],o=semanticColor$3.action[r][e],a=semanticColor$3.action[r].disabled,s={padding:theme$6.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$6.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$6.root.border.radius,padding:theme$6.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$6.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$f[n]=StyleSheet.create(c),styles$f[n]},defaultLabels$1={clearSearch:"Clear search"},SearchField=reactExports.forwardRef(function(e,t){const{clearAriaLabel:r=defaultLabels$1.clearSearch,autoFocus:n,disabled:i=!1,id:o,value:a,placeholder:s,style:l,testId:c,error:u,instantValidation:d=!0,validate:h,onValidate:p,onClick:f,onChange:m,onFocus:g,onBlur:y,...b}=e,v=reactExports.useRef(null),x=()=>{m(""),v?.current?.focus()};return jsxRuntimeExports$1.jsx(Id,{id:o,children:e=>jsxRuntimeExports$1.jsxs(View$2,{onClick:f,style:[styles$e.inputContainer,l],children:[jsxRuntimeExports$1.jsx(PhosphorIcon$3,{icon:magnifyingGlassIcon,size:"small",color:i?semanticColor$3.core.foreground.disabled.default:semanticColor$3.core.foreground.neutral.default,style:styles$e.searchIcon,"aria-hidden":"true"}),jsxRuntimeExports$1.jsx(TextField$1,{id:e,type:"text",autoFocus:n,disabled:i,instantValidation:d,validate:h,onValidate:p,onChange:m,onFocus:g,onBlur:y,placeholder:s,error:u,ref:e=>{t&&(t.current=e),v.current=e},value:a,style:[styles$e.inputStyleReset,styles$B.LabelMedium],testId:c,...b}),!a.length||i?null:jsxRuntimeExports$1.jsx(IconButton,{icon:xIcon,size:"small",kind:"tertiary",actionType:"neutral",onClick:x,style:styles$e.dismissIcon,"aria-label":r})]})})}),styles$e=StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:border$3.radius.radius_040,alignItems:"center",height:40},searchIcon:{marginLeft:spacing$2.xSmall_8,marginRight:spacing$2.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:spacing$2.xxxSmall_4},inputStyleReset:{display:"flex",flex:1,width:"100%",paddingLeft:spacing$2.xLarge_32,paddingRight:spacing$2.large_24+spacing$2.medium_16}});var safeIsNaN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function isEqual(e,t){return e===t||!(!safeIsNaN(e)||!safeIsNaN(t))}function areInputsEqual(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!isEqual(e[r],t[r]))return!1;return!0}function memoizeOne(e,t){var r;void 0===t&&(t=areInputsEqual);var n,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&r===this&&t(a,i)||(n=e.apply(this,a),o=!0,r=this,i=a),n}}var hasNativePerformanceNow="object"==typeof performance&&"function"==typeof performance.now,now=hasNativePerformanceNow?function(){return performance.now()}:function(){return Date.now()};function cancelTimeout(e){cancelAnimationFrame(e.id)}function requestTimeout(e,t){var r=now();var n={id:requestAnimationFrame(function i(){now()-r>=t?e.call(null):n.id=requestAnimationFrame(i)})};return n}var size=-1;function getScrollbarSize(e){if(void 0===e&&(e=!1),-1===size||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),size=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return size}var cachedRTLResult=null;function getRTLOffsetType(e){if(void 0===e&&(e=!1),null===cachedRTLResult||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?cachedRTLResult="positive-descending":(t.scrollLeft=1,cachedRTLResult=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),cachedRTLResult}return cachedRTLResult}var IS_SCROLLING_DEBOUNCE_INTERVAL$1=150,defaultItemKey$1=function(e,t){return e};function createListComponent(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,l=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return(t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=l(n.props,_assertThisInitialized(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:_assertThisInitialized(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=memoizeOne(function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})}),n._callOnScroll=void 0,n._callOnScroll=memoizeOne(function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})}),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,a=o.direction,s=o.itemSize,l=o.layout,u=n._getItemStyleCache(c&&s,c&&l,c&&a);if(u.hasOwnProperty(e))t=u[e];else{var d=r(n.props,e,n._instanceProps),h=i(n.props,e,n._instanceProps),p="horizontal"===a||"horizontal"===l,f="rtl"===a,m=p?d:0;u[e]=t={position:"absolute",left:f?void 0:m,right:f?m:void 0,top:p?0:d,height:p?"100%":h,width:p?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=memoizeOne(function(e,t,r){return{}}),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState(function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,a=i;if("rtl"===t)switch(getRTLOffsetType()){case"negative":a=-i;break;case"positive-descending":a=o-r-i}return a=Math.max(0,Math.min(a,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState(function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&cancelTimeout(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=requestTimeout(n._resetIsScrolling,IS_SCROLLING_DEBOUNCE_INTERVAL$1)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}_inheritsLoose(t,e),t.getDerivedStateFromProps=function(e,t){return validateSharedProps$1(e,t),u(e),null};var d=t.prototype;return d.scrollTo=function(e){e=Math.max(0,e),this.setState(function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},d.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props,n=r.itemCount,i=r.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1));var s=0;if(this._outerRef){var l=this._outerRef;s="vertical"===i?l.scrollWidth>l.clientWidth?getScrollbarSize():0:l.scrollHeight>l.clientHeight?getScrollbarSize():0}this.scrollTo(o(this.props,e,t,a,this._instanceProps,s))},d.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===n?i.scrollLeft=r:i.scrollTop=r}this._callPropsCallbacks()},d.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,i=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(getRTLOffsetType()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},d.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelTimeout(this._resetIsScrollingTimeoutId)},d.render=function(){var e=this.props,t=e.children,r=e.className,i=e.direction,o=e.height,a=e.innerRef,s=e.innerElementType,l=e.innerTagName,c=e.itemCount,u=e.itemData,d=e.itemKey,h=void 0===d?defaultItemKey$1:d,p=e.layout,f=e.outerElementType,m=e.outerTagName,g=e.style,y=e.useIsScrolling,b=e.width,v=this.state.isScrolling,x="horizontal"===i||"horizontal"===p,$=x?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),E=S[0],w=S[1],_=[];if(c>0)for(var M=E;M<=w;M++)_.push(reactExports.createElement(t,{data:u,key:h(M,u),index:M,isScrolling:y?v:void 0,style:this._getItemStyle(M)}));var C=n(this.props,this._instanceProps);return reactExports.createElement(f||m||"div",{className:r,onScroll:$,ref:this._outerRefSetter,style:_extends$3({position:"relative",height:o,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},g)},reactExports.createElement(s||l||"div",{children:_,ref:a,style:{height:x?"100%":C,pointerEvents:v?"none":void 0,width:x?C:"100%"}}))},d._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],i=e[3];this._callOnItemsRendered(t,r,n,i)}if("function"==typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},d._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,i=n.isScrolling,o=n.scrollDirection,l=n.scrollOffset;if(0===t)return[0,0,0,0];var c=a(this.props,l,this._instanceProps),u=s(this.props,c,l,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,r),h=i&&"forward"!==o?1:Math.max(1,r);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+h)),c,u]},t}(reactExports.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var validateSharedProps$1=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},DEFAULT_ESTIMATED_ITEM_SIZE$1=50,getItemMetadata$1=function(e,t,r){var n=e.itemSize,i=r.itemMetadataMap,o=r.lastMeasuredIndex;if(t>o){var a=0;if(o>=0){var s=i[o];a=s.offset+s.size}for(var l=o+1;l<=t;l++){var c=n(l);i[l]={offset:a,size:c},a+=c}r.lastMeasuredIndex=t}return i[t]},findNearestItem$1=function(e,t,r){var n=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?n[i].offset:0)>=r?findNearestItemBinarySearch$1(e,t,i,0,r):findNearestItemExponentialSearch$1(e,t,Math.max(0,i),r)},findNearestItemBinarySearch$1=function(e,t,r,n,i){for(;n<=r;){var o=n+Math.floor((r-n)/2),a=getItemMetadata$1(e,o,t).offset;if(a===i)return o;a<i?n=o+1:a>i&&(r=o-1)}return n>0?n-1:0},findNearestItemExponentialSearch$1=function(e,t,r,n){for(var i=e.itemCount,o=1;r<i&&getItemMetadata$1(e,r,t).offset<n;)r+=o,o*=2;return findNearestItemBinarySearch$1(e,t,Math.min(r,i-1),Math.floor(r/2),n)},getEstimatedTotalSize=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,a=0;if(o>=r&&(o=r-1),o>=0){var s=n[o];a=s.offset+s.size}return a+(r-o-1)*i},VariableSizeList=createListComponent({getItemOffset:function(e,t,r){return getItemMetadata$1(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:getEstimatedTotalSize,getOffsetForIndexAndAlignment:function(e,t,r,n,i,o){var a=e.direction,s=e.height,l=e.layout,c=e.width,u="horizontal"===a||"horizontal"===l?c:s,d=getItemMetadata$1(e,t,i),h=getEstimatedTotalSize(e,i),p=Math.max(0,Math.min(h-u,d.offset)),f=Math.max(0,d.offset-u+d.size+o);switch("smart"===r&&(r=n>=f-u&&n<=p+u?"auto":"center"),r){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);default:return n>=f&&n<=p?n:n<f?f:p}},getStartIndexForOffset:function(e,t,r){return findNearestItem$1(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var i=e.direction,o=e.height,a=e.itemCount,s=e.layout,l=e.width,c="horizontal"===i||"horizontal"===s?l:o,u=getItemMetadata$1(e,t,n),d=r+c,h=u.offset+u.size,p=t;p<a-1&&h<d;)p++,h+=getItemMetadata$1(e,p,n).size;return p},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||DEFAULT_ESTIMATED_ITEM_SIZE$1,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const caretDownIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z'/%3e%3c/svg%3e";function createRegionWrapper(e){const t=document.createElement("div");return t.id=`wbAWrap-${e}`,t}function createDuplicateRegions(e,t,r,n){return new Array(r).fill(0).map((r,i)=>{const o=createRegion(t,i,n);return e.appendChild(o),o})}function createRegion(e,t,r,n="log"){const i=document.createElement("div");i.setAttribute("role",n),i.setAttribute("aria-live",e),i.classList.add("wbARegion");const o=`wbARegion-${e}${t}`;return i.id=o,i.setAttribute("data-testid",o),r.set(o,{id:o,levelIndex:t,level:e,element:i}),i}function removeMessage(e,t){setTimeout(()=>{e.remove()},t)}function alternateIndex(e,t){return e+=1,e%=t}function createDebounceFunction(e,t,r){let n=null;const i=(...i)=>new Promise(o=>{null!==n&&clearTimeout(n),n=setTimeout(()=>{(()=>{const r=t.apply(e,i);n&&clearTimeout(n),o(r)})()},r)});return i.updateWaitTime=e=>{r=e},i}const REMOVAL_TIMEOUT_DELAY=5e3,DEFAULT_WAIT_THRESHOLD=250;class Announcer{static getInstance(e){return Announcer._instance||(Announcer._instance=new Announcer(e)),Announcer._instance}init(e){this.node=document.createElement("div"),this.node.id=e,this.node.setAttribute("data-testid",e),Object.assign(this.node.style,srOnly);const t=createRegionWrapper("assertive");createDuplicateRegions(t,"assertive",this.regionFactory.count,this.dictionary),this.node?.appendChild(t);const r=createRegionWrapper("polite");createDuplicateRegions(r,"polite",this.regionFactory.count,this.dictionary),this.node.appendChild(r),this.targetElement.append(this.node)}reattachNodes(){const e=document.getElementById(this.topLevelId);if(null!==e){this.node=e;Array.from(e.querySelectorAll("[id^='wbARegion']")).forEach(e=>{this.dictionary.set(e.id,{id:e.id,levelIndex:parseInt(e.id.charAt(e.id.length-1)),level:e.getAttribute("aria-live"),element:e})})}}announce(e,t,r){return void 0!==r&&this.updateWaitThreshold(r),this.debounced(this,e,t)}updateWaitThreshold(e){this.waitThreshold=e,this.debounced&&this.debounced.updateWaitTime(e)}processAnnouncement(e,t,r){e.node||e.reattachNodes();const n=[...e.dictionary.values()].filter(e=>e.level===r),i=e.appendMessage(t,r,n);return"assertive"===r?e.regionFactory.aIndex=i:e.regionFactory.pIndex=i,n[i].id||""}clear(e){this.node&&(e?this.dictionary.get(e)?.element.replaceChildren():this.dictionary.forEach(e=>{e.element.replaceChildren()}))}appendMessage(e,t,r,n=DEFAULT_WAIT_THRESHOLD){let i="assertive"===t?this.regionFactory.aIndex:this.regionFactory.pIndex;r[i].element.replaceChildren(),i=alternateIndex(i,this.regionFactory.count);const o=document.createElement("p");return o.textContent=e,r[i].element.appendChild(o),removeMessage(o,n+REMOVAL_TIMEOUT_DELAY),i}reset(){this.regionFactory.aIndex=0,this.regionFactory.pIndex=0,this.clear()}destroy(){this.node&&this.node.parentElement?.removeChild(this.node),Announcer._instance=null}constructor(e=document.body){if(this.topLevelId="wbAnnounce",this.node=null,this.regionFactory={count:2,aIndex:0,pIndex:0},this.dictionary=new Map,this.waitThreshold=DEFAULT_WAIT_THRESHOLD,this.lastExecutionTime=0,this.targetElement=e,"undefined"!=typeof document){null===document.getElementById(this.topLevelId)?this.init(this.topLevelId):this.reattachNodes(),this.debounced=createDebounceFunction(this,this.processAnnouncement,this.waitThreshold)}}}const srOnly={border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1};function announceMessage({message:e,level:t="polite",debounceThreshold:r,initialTimeout:n=150}){const i=Announcer.getInstance();return n>0?new Promise(o=>setTimeout(async()=>{const n=i.announce(e,t,r);o(n)},n)):i.announce(e,t,r)}const caretDown="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z'/%3e%3c/svg%3e";var themeDefault$3={iconButton:{root:{border:{offset:{primary:border$3.width.medium,secondary:`calc(-1 * ${border$3.width.medium})`,tertiary:`calc(-1 * ${border$3.width.medium})`},width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.medium,press:border$3.width.medium},tertiary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium}},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{xsmall:sizing$3.size_240,small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_480}},icon:{sizing:{xsmall:sizing$3.size_160,small:sizing$3.size_240,medium:sizing$3.size_240,large:sizing$3.size_240}}}},iconButtonTheme=mapValuesToCssVars$2(themeDefault$3,"--wb-c-icon-button-");const StyledA$3=addStyle$1("a"),StyledButton$3=addStyle$1("button"),StyledLink$3=addStyle$1(Link$2),IconButtonUnstyled=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,onPress:o,skipClientNav:a,style:s,testId:l,type:c="button",...u}=e,d=useInRouterContext(),h=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(e.preventDefault(),o?.(!0))},[i,o]),p=reactExports.useCallback(e=>{const t=e.key;i||t!==keys$1.enter&&t!==keys$1.space||(u.onClick&&u.onClick(e),o?.(!1))},[i,o,u]),f={"data-testid":l,style:[styles$3$1.shared,s],onKeyDown:h,onKeyUp:p,...u};return i&&!n?d&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$3,{...f,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$3,{...f,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$3,{type:c,...f,onClick:n?void 0:u.onClick,"aria-disabled":n,ref:t,children:r})}),styles$3$1=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:0,touchAction:"manipulation"}}),theme$2$3=iconButtonTheme.iconButton;function IconChooser({icon:e,size:t}){const r={width:theme$2$3.icon.sizing[t],height:theme$2$3.icon.sizing[t]};return"string"!=typeof e?reactExports.cloneElement(e,{style:[r]}):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:e,style:r}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:e,style:r})}reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",size:a="medium",style:s,type:l="button",...c}=e,[u,d]=reactExports.useState(!1),h=_generateStyles$2$1(r,!!n,o,a),p=[h.default,n&&h.disabled,u&&h.pressed,s],f=reactExports.useCallback(e=>{d(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled,{...c,disabled:n,onPress:f,ref:t,style:p,type:l,children:jsxRuntimeExports$1.jsx(IconChooser,{size:a,icon:i})})});const styles$2$4={},_generateStyles$2$1=(e="progressive",t,r,n)=>{const i=`${e}-d_${t}-${r}-${n}`;if(styles$2$4[i])return styles$2$4[i];const o=theme$2$3.root.border.width[r],a=theme$2$3.root.border.offset[r],s=semanticColor$3.action[r][e],l=semanticColor$3.action[r].disabled,c={borderColor:l.border,borderWidth:o.default,background:l.background,color:l.foreground},u={outline:"primary"===r?`${o.press} solid ${s.press.border}`:"none",outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.press} solid ${s.press.border}`:"none",background:s.press.background,borderRadius:theme$2$3.root.border.radius.press,color:s.press.foreground,transition:"border-radius 0.1s ease-in-out"},d={default:{height:theme$2$3.root.sizing[n],width:theme$2$3.root.sizing[n],borderRadius:theme$2$3.root.border.radius.default,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,":hover":{background:s.hover.background,borderRadius:theme$2$3.root.border.radius.hover,color:s.hover.foreground,outline:"primary"===r?`${o.hover} solid ${s.hover.border}`:void 0,outlineOffset:"primary"===r?a:void 0,border:"primary"!==r?`${o.hover} solid ${s.hover.border}`:void 0},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":u,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...c,":hover":{...c,outline:"none",borderRadius:theme$2$3.root.border.radius.default},":active":{...c,outline:"none",borderRadius:theme$2$3.root.border.radius.default},":focus-visible":c},pressed:u};return styles$2$4[i]=StyleSheet.create(d),styles$2$4[i]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",styles:a,type:s="button","aria-label":l,label:c,...u}=e,[d,h]=reactExports.useState(!1),p=_generateStyles$1$2(r,!!n,o),f=[p.button,n&&p.disabled,!n&&d&&p.pressed,a?.root],m=[p.chonky,n&&p.chonkyDisabled,!n&&d&&p.chonkyPressed,a?.box],g=reactExports.useCallback(e=>{h(e)},[]),y=void 0!==c&&""!==c,b=reactExports.useMemo(()=>"string"==typeof i?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:i}):i,[i]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled,{...u,disabled:n,onPress:g,ref:t,style:f,type:s,...y?{}:{"aria-label":l},children:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(View$2,{style:m,className:"chonky",children:b}),y&&jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[p.label,a?.label],children:c})]})})});const theme$1$4={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_200}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},layout:{inlineSize:sizing$3.size_640}}},styles$1$3={},_generateStyles$1$2=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$1$3[n])return styles$1$3[n];const i=theme$1$4.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$1$4.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$1$4.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$1$4.root.shadow.y.rest})`},u={button:{borderRadius:theme$1$4.root.border.radius,color:theme$1$4.label.color[e],flexDirection:"column",gap:sizing$3.size_020,maxInlineSize:200,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$1$4.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$1$4.root.shadow.y.hover} - ${theme$1$4.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},disabled:{cursor:"not-allowed",color:theme$1$4.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{borderRadius:theme$1$4.root.border.radius,marginBlockEnd:theme$1$4.root.shadow.y.rest,paddingBlock:theme$1$4.root.layout.padding.block,paddingInline:theme$1$4.root.layout.padding.inline,inlineSize:theme$1$4.label.layout.inlineSize,justifyContent:"center",alignItems:"center",background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$1$4.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l,label:{margin:0,textAlign:"center",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",wordBreak:"break-word"}};return styles$1$3[n]=StyleSheet.create(u),styles$1$3[n]};reactExports.forwardRef(function(e,t){const{actionType:r="progressive",disabled:n=!1,icon:i,kind:o="primary",style:a,type:s="button",...l}=e,[c,u]=reactExports.useState(!1),d=_generateStyles$4(r,!!n,o),h=[d.default,n&&d.disabled,c&&d.pressed,a],p=reactExports.useCallback(e=>{u(e)},[]);return jsxRuntimeExports$1.jsx(IconButtonUnstyled,{...l,disabled:n,onPress:p,ref:t,style:h,type:s,children:"string"!=typeof i?reactExports.cloneElement(i,{style:[staticStyles.icon]}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"small",color:"currentColor",icon:i})})});const staticStyles=StyleSheet.create({icon:{width:sizing$3.size_160,height:sizing$3.size_160}}),styles$d={},theme$5={root:{border:{radius:border$3.radius.radius_full,width:{primary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium},tertiary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.medium}}},layout:{padding:sizing$3.size_100},sizing:{default:sizing$3.size_360}}},_generateStyles$4=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(styles$d[n])return styles$d[n];const i=theme$5.root.border.width[r],o=semanticColor$3.action[r][e],a=semanticColor$3.action[r].disabled,s={padding:theme$5.root.layout.padding,borderColor:a.border,borderWidth:i.default,background:a.background,color:a.foreground},l={border:`${i.press} solid ${o.press.border}`,background:o.press.background,color:o.press.foreground,padding:`calc(${theme$5.root.layout.padding} - 1px)`},c={default:{borderRadius:theme$5.root.border.radius,padding:theme$5.root.layout.padding,alignSelf:"center",justifySelf:"center",borderStyle:"solid",borderWidth:i.default,borderColor:o.default.border,background:o.default.background,color:o.default.foreground,":hover":{padding:theme$5.root.layout.padding,background:o.hover.background,color:o.hover.foreground,border:`${i.hover} solid ${o.hover.border}`},"@media not (hover: hover)":{":hover":{backgroundColor:"transparent"}},":active":l,...focusStyles$2.focus},disabled:{cursor:"not-allowed",...s,":hover":{...s,outline:"none"},":active":{...s,outline:"none"},":focus-visible":s},pressed:l};return styles$d[n]=StyleSheet.create(c),styles$d[n]},selectDropdownStyle={marginBlock:sizing$3.size_080},filterableDropdownStyle={minHeight:100},DROPDOWN_ITEM_HEIGHT=40,MAX_VISIBLE_ITEMS=9,SEPARATOR_ITEM_HEIGHT=9,defaultLabels={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:e=>`Select all (${e})`,noneSelected:"0 items",someSelected:e=>1===e?"1 item":`${e} items`,allSelected:"All items"};var themeDefault$2={listbox:{border:{radius:border$3.radius.radius_040},layout:{padding:{inline:sizing$3.size_0,block:sizing$3.size_040}},shadow:{default:boxShadow$3.mid}},opener:{border:{width:{error:border$3.width.thin},radius:{rest:border$3.radius.radius_040}},color:{icon:semanticColor$3.core.foreground.neutral.default},layout:{padding:{inline:sizing$3.size_160,inlineStart:sizing$3.size_160,inlineEnd:sizing$3.size_120}}},item:{border:{radius:{default:border$3.radius.radius_040,press:border$3.radius.radius_040}},layout:{padding:{block:sizing$3.size_100,inlineStart:sizing$3.size_080,inlineEnd:sizing$3.size_160}},font:{weight:font$3.weight.regular}}},theme$3$1=mapValuesToCssVars$2(themeDefault$2,"--wb-c-dropdown-");class ActionItem extends reactExports.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:r,target:n,indent:i,label:o,lang:a,leftAccessory:s,rightAccessory:l,onClick:c,role:u,style:d,subtitle1:h,subtitle2:p,testId:f,active:m}=this.props,g=[styles$c.wrapper,d],y="string"==typeof o?jsxRuntimeExports$1.jsx(BodyText$3,{tag:"div",lang:a,style:styles$c.label,children:o}):reactExports.cloneElement(o,{lang:a,style:styles$c.label,...o.props});return jsxRuntimeExports$1.jsx(DetailCell,{disabled:e,horizontalRule:t,leftAccessory:s,rightAccessory:l,styles:{root:[g,styles$c.shared,i&&styles$c.indent]},role:u,testId:f,subtitle1:h,title:y,subtitle2:p,href:r,target:n,onClick:c,active:m})}}ActionItem.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"},ActionItem.__IS_ACTION_ITEM__=!0;const styles$c=StyleSheet.create({wrapper:{minHeight:DROPDOWN_ITEM_HEIGHT,touchAction:"manipulation",":focus":{borderRadius:theme$3$1.item.border.radius.default,outline:focusStyles$2.focus[":focus-visible"].outline,outlineOffset:`calc(${border$3.width.medium} * -1)`,boxShadow:`inset 0 0 0 calc(${border$3.width.medium}*2) ${semanticColor$3.focus.inner}`,":after":{content:"unset"}}},shared:{minHeight:DROPDOWN_ITEM_HEIGHT,paddingBlock:theme$3$1.item.layout.padding.block},label:{fontWeight:theme$3$1.item.font.weight,lineHeight:sizing$3.size_200,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},indent:{paddingInlineStart:sizing$3.size_320}}),Check=function(e){const{selected:t,disabled:r}=e,n=r?semanticColor$3.core.foreground.disabled.strong:semanticColor$3.core.foreground.instructive.default;return jsxRuntimeExports$1.jsx(PhosphorIcon$3,{color:n,icon:checkIcon,size:"small",style:[styles$b.bounds,!t&&styles$b.hide]})},styles$b=StyleSheet.create({bounds:{alignSelf:"center",height:sizing$3.size_160,minHeight:sizing$3.size_160,minWidth:sizing$3.size_160},hide:{visibility:"hidden"}}),Checkbox=function(e){const{disabled:t,selected:r}=e;return jsxRuntimeExports$1.jsx(View$2,{className:"checkbox",style:[styles$a.checkbox,r&&!t&&styles$a.selected,t&&styles$a.disabledCheckbox],children:r&&jsxRuntimeExports$1.jsx(PhosphorIcon$3,{icon:checkIcon,size:"small",className:"check",style:[{width:sizing$3.size_120,height:sizing$3.size_120,margin:sizing$3.size_020},t&&r&&styles$a.disabledCheckFormatting]})})},checkboxTokens={color:{default:{border:semanticColor$3.input.default.border,background:semanticColor$3.input.default.background},disabled:{border:semanticColor$3.input.disabled.border,background:semanticColor$3.input.disabled.background},selected:{background:semanticColor$3.input.checked.background,foreground:semanticColor$3.input.checked.foreground}}},styles$a=StyleSheet.create({checkbox:{alignSelf:"center",minHeight:sizing$3.size_160,minWidth:sizing$3.size_160,height:sizing$3.size_160,background:checkboxTokens.color.default.background,borderRadius:3,borderWidth:border$3.width.thin,borderStyle:"solid",borderColor:checkboxTokens.color.default.border},selected:{borderWidth:0,background:checkboxTokens.color.selected.background,color:checkboxTokens.color.selected.foreground},disabledCheckbox:{borderColor:checkboxTokens.color.disabled.border,backgroundColor:checkboxTokens.color.disabled.background},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}});class OptionItem extends reactExports.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return"check"===this.props.variant?Check:Checkbox}render(){const{disabled:e,focused:t,label:r,selected:n,testId:i,leftAccessory:o,horizontalRule:a,parentComponent:s,rightAccessory:l,style:c,subtitle1:u,subtitle2:d,value:h,onClick:p,onToggle:f,variant:m,role:g,...y}=this.props,b=this.getCheckComponent(),v=[styles$9.optionItem,c],x=[styles$9.listboxOptionItem,t&&styles$9.listboxOptionItemFocused],$=[styles$9.selectOptionItem];return jsxRuntimeExports$1.jsx(DetailCell,{disabled:e,horizontalRule:a,styles:{root:[v,"listbox"===s?x:$]},"aria-selected":n?"true":"false",role:g,testId:i,leftAccessory:jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:o?jsxRuntimeExports$1.jsxs(View$2,{style:{flexDirection:"row",gap:sizing$3.size_080},children:[jsxRuntimeExports$1.jsx(b,{disabled:e,selected:n}),o]}):jsxRuntimeExports$1.jsx(b,{disabled:e,selected:n})}),rightAccessory:l,subtitle1:u,title:jsxRuntimeExports$1.jsx(BodyText$3,{tag:"div",style:styles$9.label,children:r}),subtitle2:d,onClick:this.handleClick,tabIndex:"listbox"===s?-1:void 0,...y})}constructor(...e){super(...e),this.handleClick=()=>{const{onClick:e,onToggle:t,value:r}=this.props;t(r),e&&e()}}}OptionItem.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1},OptionItem.__IS_OPTION_ITEM__=!0;const focusedStyle={borderRadius:theme$3$1.item.border.radius.default,outline:focusStyles$2.focus[":focus-visible"].outline,outlineOffset:`calc(${border$3.width.medium} * -1)`,boxShadow:`inset 0 0 0 calc(${border$3.width.medium}*2) ${semanticColor$3.focus.inner}`},resetFocusStyle={outline:"none",boxShadow:"none"},styles$9=StyleSheet.create({optionItem:{paddingBlock:theme$3$1.item.layout.padding.block,paddingInlineStart:theme$3$1.item.layout.padding.inlineStart,paddingInlineEnd:theme$3$1.item.layout.padding.inlineEnd,whiteSpace:"nowrap",minHeight:sizing$3.size_400,":active":{borderRadius:theme$3$1.item.border.radius.press},":is([aria-disabled=true])":{":focus":resetFocusStyle}},listboxOptionItem:{":focus-visible":resetFocusStyle},listboxOptionItemFocused:{...focusedStyle,":focus-visible":focusedStyle},selectOptionItem:{":focus":focusedStyle},label:{fontWeight:theme$3$1.item.font.weight,lineHeight:sizing$3.size_200,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class SeparatorItem extends reactExports.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return jsxRuntimeExports$1.jsx(View$2,{style:[styles$8.separator,this.props.style],"aria-hidden":"true"})}}SeparatorItem.__IS_SEPARATOR_ITEM__=!0;const styles$8=StyleSheet.create({separator:{borderTop:`${border$3.width.thin} solid ${semanticColor$3.core.border.neutral.subtle}`,height:1,minHeight:1,marginBlock:sizing$3.size_040}}),DropdownOpener=reactExports.forwardRef((e,t)=>{const{disabled:r=!1,testId:n,text:i,opened:o,"aria-controls":a,"aria-haspopup":s,"aria-required":l,"aria-label":c,id:u,role:d,onBlur:h,onClick:p,children:f,error:m}=e;return jsxRuntimeExports$1.jsx(ClickableBehavior$2,{onClick:p,disabled:r,tabIndex:0,children:(e,p)=>((e,p)=>{const g=f({...e,text:i,opened:o}),y=g.props,b=y?.testId||y?.["data-testid"],v=y["aria-label"]??c;return reactExports.cloneElement(g,{...p,ref:t,"aria-label":v??void 0,"aria-invalid":m,disabled:r,"aria-controls":a,role:d,id:u,"aria-expanded":o?"true":"false","aria-haspopup":s,"aria-required":l,onClick:y.onClick?e=>{y.onClick(e),p.onClick(e)}:p.onClick,"data-testid":b||n,onBlur:h?e=>{h(e),p.onBlur(e)}:p.onBlur})})(e,p)})});DropdownOpener.displayName="DropdownOpener";class DropdownVirtualizedItem extends reactExports.Component{render(){const{data:e,index:t,style:r}=this.props,n=e[t];if(SeparatorItem.isClassOf(n.component))return reactExports.cloneElement(n.component,{style:r});{const{component:e,populatedProps:i,onClick:o,role:a,ref:s}=n;return reactExports.cloneElement(e,{style:r,...i,key:t,onClick:o,ref:n.focusable&&s,role:a})}}}function getDropdownMenuHeight(e,t=0){return e.slice(0,MAX_VISIBLE_ITEMS).reduce((e,t)=>SeparatorItem.isClassOf(t.component)?e+SEPARATOR_ITEM_HEIGHT:e+DROPDOWN_ITEM_HEIGHT,t)}class DropdownCoreVirtualized extends reactExports.Component{componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:r}=this.props;e.data.length!==t.length&&(this.setHeight(),r&&r.current&&r.current.resetAfterIndex(1))}setWidth(){const e=reactDomExports.findDOMNode(this),t=e?.parentElement;if(t){const e=t.getBoundingClientRect().width;this.setState({width:e})}}setHeight(){const e=getDropdownMenuHeight(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(e=>e.component);return reactExports.Children.toArray(t).filter(Boolean).sort((e,t)=>t.props.label&&e.props.label?t.props.label.length-e.props.label.length:-1).slice(0,MAX_VISIBLE_ITEMS).map(e=>reactExports.cloneElement(e,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:r,listRef:n}=this.props;return jsxRuntimeExports$1.jsx(VariableSizeList,{height:t,itemCount:r.length,itemSize:this.getItemSize,itemData:r,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:n,children:DropdownVirtualizedItem})}render(){const{width:e,height:t}=this.state;return null==e?this.renderInitialItems():this.renderVirtualizedList(e,t)}constructor(e){super(e),this.getItemSize=e=>{const t=this.props.data[e];return SeparatorItem.isClassOf(t.component)?SEPARATOR_ITEM_HEIGHT:DROPDOWN_ITEM_HEIGHT},this.state={height:getDropdownMenuHeight(e.data),width:e.width}}}var DropdownCoreVirtualized$1=withActionScheduler(DropdownCoreVirtualized);function modifyMaxHeight({state:e,options:t}){const r=detectOverflow(e,t),{y:n}=e.modifiersData.preventOverflow||{y:0},{height:i}=e.rects.popper,[o]=e.placement.split("-"),a=i-r["top"===o?"top":"bottom"]-n;e.styles.popper={...e.styles.popper,maxHeight:`${a}px`,"--popper-max-height":`${a}px`}}const maxHeightModifier={name:"maxHeight",enabled:!0,phase:"main",options:{padding:DROPDOWN_ITEM_HEIGHT},requiresIfExists:["offset","preventOverflow","flip"],fn:modifyMaxHeight},modifiers=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},maxHeightModifier],DropdownPopper=function({children:e,alignment:t="left",onPopperElement:r,referenceElement:n}){const i=maybeGetPortalMountedModalHostElement(n)||document.querySelector("body");if(!i)return null;const o="left"===t?"bottom-start":"right"===t?"bottom-end":t;return reactDomExports.createPortal(jsxRuntimeExports$1.jsx(Popper,{innerRef:e=>{e&&r&&r(e)},referenceElement:n,strategy:"fixed",placement:o,modifiers:modifiers,children:({placement:t,ref:r,style:n,hasPopperEscaped:i,isReferenceHidden:o})=>{const a=!(!i&&!o);return jsxRuntimeExports$1.jsx("div",{ref:r,style:{...n,maxWidth:"100%"},"data-testid":"dropdown-popper","data-placement":t,children:e(a)})}}),i)};function getStringForKey(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}function debounce(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...n)},t)}}function isString(e){return"string"==typeof e}function getLabel(e){return isString(e.label)?e.label:isString(e.labelAsText)?e.labelAsText:""}function getSelectOpenerLabel(e,t){return e?getLabel(t):t.label}const VIRTUALIZE_THRESHOLD=125;class DropdownCore extends reactExports.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r].focusable!==t[r].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(0===t.itemRefs.length&&e.open||!DropdownCore.sameItemsFocusable(t.prevItems,e.items)){const t=[];for(let r=0;r<e.items.length;r++)if(e.items[r].focusable){const e=reactExports.createRef();t.push({ref:e,originalIndex:r})}return{itemRefs:t,prevItems:e.items,sameItemsFocusable:!1}}return{prevItems:e.items,sameItemsFocusable:!0}}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t,searchText:r}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:t,sameItemsFocusable:n}=this.state;if(n||e.searchText!==r)return;{const e=t.findIndex(e=>e.originalIndex===this.focusedOriginalIndex);-1===e?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=e}this.props.labels!==e.labels&&this.setState({labels:{...this.state.labels,...this.props.labels}})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(void 0!==e)this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(!t)return;const{current:r}=this.virtualizedListRef;r&&r.scrollToItem(t.originalIndex);const n=()=>{if(!this.props.open)return;const t=this.state.itemRefs[this.focusedIndex],r=reactDomExports.findDOMNode(t.ref.current);r||!this.shouldVirtualizeList()?r&&(r.focus(),this.focusedOriginalIndex=t.originalIndex,e&&e(r)):this.props.schedule.animationFrame(n)};this.shouldVirtualizeList()?this.props.schedule.animationFrame(n):n()}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(0===this.focusedIndex||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.isSearchFieldFocused()||(this.focusedIndex-=1);this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.isSearchFieldFocused()||(this.focusedIndex+=1);this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return 0===e.length?jsxRuntimeExports$1.jsx(BodyText$3,{style:styles$7.noResult,testId:"dropdown-core-no-results",children:t}):null}shouldVirtualizeList(){return this.props.items.length>VIRTUALIZE_THRESHOLD}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((r,n)=>{if(SeparatorItem.isClassOf(r.component))return r.component;const{component:i,focusable:o,populatedProps:a}=r;o&&(e+=1);const s=e-1,l=this.state.itemRefs[s]?this.state.itemRefs[s].ref:null;return reactExports.cloneElement(i,{...a,key:n,onClick:()=>{this.handleItemClick(s,r)},ref:o?l:null,role:a.role||t})})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((r,n)=>{const{populatedProps:i}=r;!SeparatorItem.isClassOf(r.component)&&r.focusable&&(e+=1);const o=e-1;return{...r,role:i.role||t,ref:r.focusable&&this.state.itemRefs[o]?this.state.itemRefs[o].ref:null,onClick:()=>{this.handleItemClick(o,r)}}})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return jsxRuntimeExports$1.jsx(DropdownCoreVirtualized$1,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return jsxRuntimeExports$1.jsx(SearchField,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:styles$7.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":r,"aria-required":n,dropdownStyle:i,isFilterable:o,openerElement:a,role:s,id:l}=this.props,c=a&&window.getComputedStyle(a),u=c?c.getPropertyValue("width"):0;return jsxRuntimeExports$1.jsxs(View$2,{onMouseUp:this.handleDropdownMouseUp,style:[styles$7.dropdown,t&&styles$7.hidden,i],testId:"dropdown-core-container",children:[o&&this.renderSearchField(),jsxRuntimeExports$1.jsx(View$2,{id:l,role:s,style:[styles$7.listboxOrMenu,{minWidth:u}],"aria-invalid":"listbox"===s?r:void 0,"aria-required":"listbox"===s?n:void 0,children:e}),this.maybeRenderNoResults()]})}renderDropdown(){const{alignment:e,openerElement:t}=this.props,r=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return jsxRuntimeExports$1.jsx(DropdownPopper,{alignment:e,onPopperElement:e=>{this.popperElement=e},referenceElement:t,children:e=>this.renderDropdownMenu(r,e)})}render(){const{open:e,opener:t,style:r,className:n,disabled:i}=this.props;return jsxRuntimeExports$1.jsxs(View$2,{onKeyDown:i?void 0:this.handleKeyDown,onKeyUp:i?void 0:this.handleKeyUp,style:[styles$7.menuWrapper,r],className:n,children:[t,e&&this.renderDropdown()]})}constructor(e){super(e),this.focusedIndex=-1,this.focusedOriginalIndex=-1,this.itemsClicked=!1,this.searchFieldRef=reactExports.createRef(),this.handleInteract=e=>{const{open:t,onOpenChanged:r}=this.props,n=e.target,i=reactDomExports.findDOMNode(this);t&&i&&!i.contains(n)&&this.popperElement&&!this.popperElement.contains(n)&&r(!1)},this.handleKeyDown=e=>{const{enableTypeAhead:t,onOpenChanged:r,open:n,searchText:i}=this.props,o=e.key;if(t&&getStringForKey(o)&&(e.stopPropagation(),this.textSuggestion+=o,this.handleKeyDownDebounced(this.textSuggestion)),!n)return o===keys$1.down?(e.preventDefault(),void r(!0)):void 0;switch(o){case keys$1.tab:if(this.isSearchFieldFocused()&&i)return;return this.restoreTabOrder(),void r(!1);case keys$1.space:if(this.isSearchFieldFocused())return;return void e.preventDefault();case keys$1.up:return e.preventDefault(),void this.focusPreviousItem();case keys$1.down:return e.preventDefault(),void this.focusNextItem()}},this.handleKeyUp=e=>{const{onOpenChanged:t,open:r}=this.props;switch(e.key){case keys$1.space:if(this.isSearchFieldFocused())return;return void e.preventDefault();case keys$1.escape:return void(r&&(e.stopPropagation(),this.restoreTabOrder(),t(!1)))}},this.handleKeyDownDebounceResult=e=>{const t=this.props.items.filter(e=>e.focusable).findIndex(({component:t})=>{if(SeparatorItem.isClassOf(t))return!1;if(OptionItem.isClassOf(t)){return getLabel(t.props).toLowerCase().startsWith(e.toLowerCase())}return!1});if(t>=0){const e=!this.props.open;e&&this.props.onOpenChanged(!0),this.focusedIndex=t,this.scheduleToFocusCurrentItem(t=>{"single"===this.props.selectionType&&e&&t&&(t.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=e=>{this.itemsClicked=!0,this.focusedIndex=e,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=e=>{e.nativeEvent.stopImmediatePropagation?e.nativeEvent.stopImmediatePropagation():e.stopPropagation()},this.handleItemClick=(e,t)=>{this.handleClickFocus(e),t.component.props.onClick&&t.component.props.onClick(),t.populatedProps.onClick&&t.populatedProps.onClick()},this.handleSearchTextChanged=e=>{const{onSearchTextChanged:t}=this.props;t&&t(e)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:{noResults:defaultLabels.noResults,someResults:defaultLabels.someSelected,...e.labels}},this.virtualizedListRef=reactExports.createRef(),this.handleKeyDownDebounced=debounce(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}}DropdownCore.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:defaultLabels.clearSearch,filter:defaultLabels.filter,noResults:defaultLabels.noResults,someResults:defaultLabels.someSelected},selectionType:"single"};const styles$7=StyleSheet.create({menuWrapper:{width:"fit-content",maxWidth:"100%"},dropdown:{backgroundColor:semanticColor$3.core.background.base.default,borderRadius:theme$3$1.listbox.border.radius,paddingBlock:theme$3$1.listbox.layout.padding.block,paddingInline:theme$3$1.listbox.layout.padding.inline,border:`solid ${border$3.width.thin} ${semanticColor$3.core.border.neutral.subtle}`,boxShadow:theme$3$1.listbox.shadow.default,maxHeight:"var(--popper-max-height)"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:semanticColor$3.core.foreground.neutral.default,alignSelf:"center",marginBlockStart:sizing$3.size_060},searchInputStyle:{margin:sizing$3.size_080,marginBlockStart:sizing$3.size_040,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var DropdownCore$1=withActionScheduler(DropdownCore);const textUnderlineOffset$1=sizing$3.size_040,theme$2$2={root:{border:{width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{default:border$3.width.none,hover:border$3.width.none,press:border$3.width.none}},offset:{primary:border$3.width.medium,secondary:0,tertiary:0},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{height:{small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_560},underline:{hover:sizing$3.size_020,press:sizing$3.size_010}},layout:{padding:{inline:{primary:{small:sizing$3.size_160,medium:sizing$3.size_160,large:sizing$3.size_320},secondary:{small:sizing$3.size_120,medium:sizing$3.size_160,large:sizing$3.size_180},tertiary:{small:sizing$3.size_0,medium:sizing$3.size_0,large:sizing$3.size_0}}}},font:{size:{large:"1.8rem"},lineHeight:{small:font$3.lineHeight.xMedium,default:font$3.lineHeight.large,large:"2.6rem"},weight:{default:font$3.weight.bold},decoration:{hover:"underline",press:"underline"},offset:{default:textUnderlineOffset$1}}},icon:{margin:{inline:{inner:sizing$3.size_060,outer:`calc(-1 * ${border$3.width.medium})`}},padding:sizing$3.size_020,sizing:{small:sizing$3.size_160,medium:sizing$3.size_240,large:sizing$3.size_240}}};var theme$1$3=mapValuesToCssVars$2(theme$2$2,"--wb-c-button-");function ButtonIcon$1({icon:e,size:t,style:r,testId:n}){const i={"aria-hidden":!0,style:[r,{width:theme$1$3.icon.sizing[t],height:theme$1$3.icon.sizing[t]}],testId:n},o={...i,color:"currentColor"};return"string"!=typeof e?reactExports.cloneElement(e,i):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{...o,size:"small",icon:e}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{...o,size:"medium",icon:e})}const StyledA$2=addStyle$1("a"),StyledButton$1=addStyle$1("button"),StyledLink$2=addStyle$1(Link$2),ButtonUnstyled$1=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,id:o,skipClientNav:a,style:s,testId:l,type:c,...u}=e,d={"data-testid":l,id:o,role:"button",style:[styles$2$1$1.reset,s],...u},h=useInRouterContext();return i&&!n?h&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$2,{...d,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$2,{...d,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton$1,{type:c||"button",...d,"aria-disabled":n,ref:t,children:r})}),styles$2$1$1=StyleSheet.create({reset:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,border:"none",cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}}}),ButtonCore$1=reactExports.forwardRef(function(e,t){const{children:r,skipClientNav:n,actionType:i,disabled:o,focused:a,hovered:s,href:l,kind:c="primary",labelStyle:u,pressed:d,size:h="medium",style:p,testId:f,type:m,spinner:g,startIcon:y,endIcon:b,id:v,waiting:x,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,..._}=e,M=_generateStyles$1$1(i,c,h),C=g||o,T=[sharedStyles$2.shared,y&&sharedStyles$2.withStartIcon,b&&sharedStyles$2.withEndIcon,M.default,C&&M.disabled,!C&&d&&M.pressed,!C&&!d&&a&&M.focused,"small"===h&&sharedStyles$2.small,"large"===h&&sharedStyles$2.large],R=jsxRuntimeExports$1.jsx(BodyText$3,{size:"small"===h?"small":void 0,weight:"large"===h?"bold":void 0,tag:"span",style:[sharedStyles$2.text,"small"===h&&sharedStyles$2.smallText,"large"===h&&sharedStyles$2.largeText,u,g&&sharedStyles$2.hiddenText],testId:f?`${f}-inner-label`:void 0,children:r}),O="small"===h?"small":"medium",k=jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[y&&jsxRuntimeExports$1.jsx(View$2,{style:sharedStyles$2.iconWrapper,children:jsxRuntimeExports$1.jsx(ButtonIcon$1,{size:O,icon:y,style:[sharedStyles$2.startIcon,"tertiary"===c&&sharedStyles$2.tertiaryStartIcon],testId:f?`${f}-start-icon`:void 0})}),R,g&&jsxRuntimeExports$1.jsx(CircularSpinner$1,{style:sharedStyles$2.spinner,size:{medium:"small",small:"xsmall",large:"medium"}[h],light:"primary"===c,testId:`${f||"button"}-spinner`}),b&&jsxRuntimeExports$1.jsx(View$2,{testId:f?`${f}-end-icon-wrapper`:void 0,style:[sharedStyles$2.endIcon,sharedStyles$2.iconWrapper,sharedStyles$2.endIconWrapper,"tertiary"===c&&sharedStyles$2.endIconWrapperTertiary],children:jsxRuntimeExports$1.jsx(ButtonIcon$1,{size:O,icon:b,testId:f?`${f}-end-icon`:void 0})})]});return jsxRuntimeExports$1.jsx(ButtonUnstyled$1,{..._,disabled:C,href:l,id:v,ref:t,skipClientNav:n,style:[T,p],testId:f,tabIndex:e.tabIndex,type:m,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,children:k})}),sharedStyles$2=StyleSheet.create({shared:{height:theme$1$3.root.sizing.height.medium,paddingBlock:0},small:{height:theme$1$3.root.sizing.height.small},large:{height:theme$1$3.root.sizing.height.large},text:{alignItems:"center",fontWeight:theme$1$3.root.font.weight.default,whiteSpace:"nowrap",overflow:"hidden",lineHeight:theme$1$3.root.font.lineHeight.default,textOverflow:"ellipsis",display:"inline-block",pointerEvents:"none"},smallText:{lineHeight:theme$1$3.root.font.lineHeight.small},largeText:{fontSize:theme$1$3.root.font.size.large,lineHeight:theme$1$3.root.font.lineHeight.large},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"},startIcon:{marginInlineStart:theme$1$3.icon.margin.inline.outer,marginInlineEnd:theme$1$3.icon.margin.inline.inner},tertiaryStartIcon:{marginInlineStart:0},endIcon:{marginInlineStart:theme$1$3.icon.margin.inline.inner},iconWrapper:{padding:theme$1$3.icon.padding,minWidth:"auto"},endIconWrapper:{marginInlineStart:theme$1$3.icon.margin.inline.inner,marginInlineEnd:theme$1$3.icon.margin.inline.outer},endIconWrapperTertiary:{marginInlineEnd:0}}),styles$1$1$1={},_generateStyles$1$1=(e="progressive",t,r)=>{const n=`${e}-${t}-${r}`;if(styles$1$1$1[n])return styles$1$1$1[n];const i=theme$1$3.root.layout.padding.inline[t][r],o=theme$1$3.root.border.width[t],a=theme$1$3.root.border.offset[t],s=semanticColor$3.action[t][e],l=semanticColor$3.action[t].disabled,c={borderColor:l.border,borderWidth:o.default,borderRadius:theme$1$3.root.border.radius.default,background:l.background,color:l.foreground},u={...c,outline:"none",boxShadow:"none",textDecoration:"none",textDecorationThickness:"unset",textUnderlineOffset:"unset"},d={background:s.press.background,borderRadius:theme$1$3.root.border.radius.press,color:s.press.foreground,..."primary"===t?{outline:`${o.press} solid ${s.press.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.press.border,boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$3.root.font.offset.default,textDecoration:`${theme$1$3.root.font.decoration.press} ${theme$1$3.root.sizing.underline.press}`}:void 0},h={default:{borderRadius:theme$1$3.root.border.radius.default,paddingInline:i,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,transition:"border-radius 0.1s ease-in-out","@media (hover: hover)":{":hover":{background:s.hover.background,borderRadius:theme$1$3.root.border.radius.hover,color:s.hover.foreground,..."primary"===t?{outline:`${o.hover} solid ${s.hover.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.hover.border,boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$3.root.font.offset.default,textDecoration:`${theme$1$3.root.font.decoration.hover} ${theme$1$3.root.sizing.underline.hover}`}:void 0}},":active":d,...focusStyles$2.focus,..."secondary"===t?{":focus-visible:hover":{...focusStyles$2.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}, ${focusStyles$2.focus[":focus-visible"].boxShadow}`},":focus-visible:active":{...focusStyles$2.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}, ${focusStyles$2.focus[":focus-visible"].boxShadow}`}}:{}},pressed:d,focused:focusStyles$2.focus[":focus-visible"],disabled:{cursor:"not-allowed",...c,":hover":u,":active":u,":focus-visible":c}};return styles$1$1$1[n]=StyleSheet.create(h),styles$1$1$1[n]},Button$1=reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,actionType:h="progressive",kind:p="primary",size:f="medium",disabled:m=!1,spinner:g=!1,role:y,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,...S}=e,E=useInRouterContext(),w=getClickableBehavior$2(r,o,E),_=s?{beforeNav:s}:{target:u},M=r?"link":"button",C="link"===y||"button"===y?void 0:y;return jsxRuntimeExports$1.jsx(w,{disabled:g||m,href:r,role:M,type:n,onClick:a,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,safeWithNav:l,rel:d,..._,children:(e,a)=>jsxRuntimeExports$1.jsx(ButtonCore$1,{...S,...e,...a,disabled:m,spinner:g||e.waiting,actionType:h,kind:p,size:f,skipClientNav:o,href:r,role:C,target:u,type:n,tabIndex:c,ref:t,children:i})})}),ActivityButtonCore$1=reactExports.forwardRef(function(e,t){const{children:r,disabled:n=!1,kind:i="primary",focused:o,pressed:a,styles:s,type:l,startIcon:c,endIcon:u,hovered:d,waiting:h,...p}=e,f=_generateStyles$3("progressive",n,i),m=[f.button,n&&f.disabled,!n&&a&&f.pressed,!n&&!a&&o&&f.focused,s?.root],g=[f.chonky,n&&f.chonkyDisabled,!n&&a&&f.chonkyPressed,s?.box];return jsxRuntimeExports$1.jsx(ButtonUnstyled$1,{...p,disabled:n,ref:t,style:m,type:l,children:jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:jsxRuntimeExports$1.jsxs(View$2,{style:g,className:"chonky",children:[c&&("string"==typeof c?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:c,style:[styles$6.icon,s?.startIcon],"aria-hidden":"true"}):reactExports.cloneElement(c,{"aria-hidden":!0,style:[styles$6.icon,s?.startIcon]})),jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[styles$6.label,s?.label],children:r}),u&&("string"==typeof u?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:u,style:[styles$6.icon,s?.endIcon],"aria-hidden":"true"}):reactExports.cloneElement(u,{"aria-hidden":!0,style:[styles$6.icon,s?.endIcon]}))]})})})});reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,kind:h="primary",disabled:p=!1,role:f,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...v}=e,x=useInRouterContext(),$=getClickableBehavior$2(r,o,x),S=s?{beforeNav:s}:{target:u},E=r?"link":"button",w="link"===f||"button"===f?void 0:f;return jsxRuntimeExports$1.jsx($,{disabled:p,href:r,role:E,type:n,onClick:a,safeWithNav:l,rel:d,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...S,children:(e,a)=>jsxRuntimeExports$1.jsx(ActivityButtonCore$1,{...v,...e,...a,disabled:p,kind:h,skipClientNav:o,href:r,role:w,target:u,type:n,tabIndex:c,ref:t,children:i})})});const theme$4={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_480}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},font:{lineHeight:sizing$3.size_140},layout:{padding:{blockStart:sizing$3.size_040,blockEnd:sizing$3.size_060},width:sizing$3.size_640}},icon:{sizing:{height:sizing$3.size_200,width:sizing$3.size_200}}},styles$6={icon:{alignSelf:"center",width:theme$4.icon.sizing.width,height:theme$4.icon.sizing.height},label:{lineHeight:theme$4.label.font.lineHeight,paddingBlockStart:theme$4.label.layout.padding.blockStart,paddingBlockEnd:theme$4.label.layout.padding.blockEnd}},stateStyles$1={},_generateStyles$3=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(stateStyles$1[n])return stateStyles$1[n];const i=theme$4.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$4.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$4.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$4.root.shadow.y.rest})`},u={button:{background:"transparent",borderRadius:theme$4.root.border.radius,color:theme$4.label.color[e],height:"auto",flexDirection:"column",gap:sizing$3.size_020,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$4.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$4.root.shadow.y.hover} - ${theme$4.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},focused:focusStyles$2.focus[":focus-visible"],disabled:{cursor:"not-allowed",color:theme$4.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{flexDirection:"row",gap:sizing$3.size_080,borderRadius:theme$4.root.border.radius,marginBlockEnd:theme$4.root.shadow.y.rest,maxWidth:"100%",paddingBlock:theme$4.root.layout.padding.block,paddingInline:theme$4.root.layout.padding.inline,background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$4.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l};return stateStyles$1[n]=StyleSheet.create(u),stateStyles$1[n]};class ActionMenuOpenerCore extends reactExports.Component{render(){const{children:e,disabled:t,waiting:r,testId:n,opened:i,"aria-label":o,...a}=this.props;return jsxRuntimeExports$1.jsx(Button$1,{"aria-expanded":i?"true":"false","aria-haspopup":"menu",kind:"tertiary","aria-label":o,disabled:t,...a,testId:n,endIcon:caretDownIcon,children:e})}}class ActionMenu extends reactExports.Component{static getDerivedStateFromProps(e,t){return{opened:"boolean"==typeof e.opened?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,r=reactExports.Children.toArray(e).filter(Boolean),n=r.some(e=>OptionItem.isClassOf(e));return r.map(e=>{const{value:r,disabled:i}=e.props,o={component:e,focusable:!(!ActionItem.isClassOf(e)&&!OptionItem.isClassOf(e))&&!i,populatedProps:{}};if(ActionItem.isClassOf(e))return{...o,populatedProps:{indent:n,onClick:this.handleItemSelected}};if(OptionItem.isClassOf(e)){const e=!!t&&t.includes(r);return{...o,populatedProps:{onToggle:this.handleOptionSelected,selected:e,variant:"check",role:"menuitemcheckbox","aria-checked":e,"aria-selected":void 0}}}return o})}renderOpener(e,t){const{disabled:r,menuText:n,opener:i,testId:o,id:a}=this.props;return jsxRuntimeExports$1.jsx(Id,{id:a,children:a=>jsxRuntimeExports$1.jsx(DropdownOpener,{id:a,"aria-controls":t,"aria-haspopup":"menu",onClick:this.handleClick,disabled:0===e||r,text:n,ref:this.handleOpenerRef,testId:i?void 0:o,opened:this.state.opened,role:"button",children:i||(e=>{const{text:t,opened:i,...a}=e;return jsxRuntimeExports$1.jsx(ActionMenuOpenerCore,{...a,disabled:r,opened:!!i,testId:o,children:n})})})})}render(){const{alignment:e,dropdownStyle:t,style:r,className:n,dropdownId:i}=this.props,o=this.getMenuItems();return jsxRuntimeExports$1.jsx(Id,{id:i,children:i=>jsxRuntimeExports$1.jsx(DropdownCore$1,{id:i,role:"menu",style:r,className:n,opener:this.renderOpener(o.length,i),alignment:e,open:this.state.opened,items:o,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[styles$5$1.menuTopSpace,t]})})}constructor(...e){super(...e),this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=e=>{this.setState({opened:e}),this.props.onToggle&&this.props.onToggle(e)},this.handleOptionSelected=e=>{const{onChange:t,selectedValues:r}=this.props;if(t&&r){if(r.includes(e)){const n=r.indexOf(e);t([...r.slice(0,n),...r.slice(n+1)])}else t([...r,e]);this.handleItemSelected()}},this.handleOpenerRef=e=>{this.openerElement=reactDomExports.findDOMNode(e)},this.handleClick=e=>{this.handleOpenChanged(!this.state.opened)}}}ActionMenu.defaultProps={alignment:"left",disabled:!1};const styles$5$1=StyleSheet.create({caret:{marginInlineStart:sizing$3.size_040},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:`calc(-1 * ${sizing$3.size_040})`}}),StyledButton$2=addStyle$1("button");class SelectOpener extends reactExports.Component{render(){const{children:e,disabled:t,error:r,id:n,isPlaceholder:i,open:o,testId:a,"aria-label":s,"aria-required":l,"aria-controls":c,onBlur:u,onOpenChanged:d,...h}=this.props,p=t?semanticColor$3.core.foreground.disabled.default:theme$3$1.opener.color.icon,f=[styles$4$1.shared,styles$4$1.default,t&&styles$4$1.disabled,r&&styles$4$1.error,i&&styles$4$1.placeholder,!t&&this.state.pressed&&styles$4$1.press];return jsxRuntimeExports$1.jsxs(StyledButton$2,{...h,"aria-disabled":t,"aria-expanded":o?"true":"false","aria-invalid":r,"aria-label":s??void 0,"aria-required":l,"aria-haspopup":"listbox","aria-controls":c,"data-testid":a,id:n,role:"combobox",type:"button",style:f,onClick:t?void 0:this.handleClick,onKeyDown:t?void 0:this.handleKeyDown,onKeyUp:t?void 0:this.handleKeyUp,onBlur:u,children:[jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",style:styles$4$1.text,children:e||jsxRuntimeExports$1.jsx("span",{"aria-hidden":"true",children:""})}),jsxRuntimeExports$1.jsx(PhosphorIcon$3,{icon:caretDownIcon,color:p,size:"small",style:styles$4$1.caret,"aria-hidden":"true"})]})}constructor(e){super(e),this.handleClick=e=>{const{open:t}=this.props;this.props.onOpenChanged(!t)},this.handleKeyDown=e=>{const t=e.key;t!==keys$1.enter&&t!==keys$1.space||(this.setState({pressed:!0}),e.preventDefault())},this.handleKeyUp=e=>{const t=e.key;t!==keys$1.enter&&t!==keys$1.space||(this.setState({pressed:!1}),this.handleClick(e))},this.state={pressed:!1}}}SelectOpener.defaultProps={disabled:!1,error:!1,isPlaceholder:!1};const PRESS_SHADOW=`0 0 0 ${border$3.width.thin} ${semanticColor$3.input.default.border}`,styles$4$1=StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:semanticColor$3.core.foreground.neutral.strong,height:DROPDOWN_ITEM_HEIGHT,paddingInlineStart:theme$3$1.opener.layout.padding.inlineStart,paddingInlineEnd:theme$3$1.opener.layout.padding.inlineEnd,borderWidth:0,borderRadius:theme$3$1.opener.border.radius.rest,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginInlineEnd:sizing$3.size_080,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:sizing$3.size_160},default:{background:semanticColor$3.input.default.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.default.border}`,color:semanticColor$3.input.default.foreground,cursor:"pointer",...focusStyles$2.focus,":active":{boxShadow:PRESS_SHADOW}},error:{background:semanticColor$3.input.error.background,border:`${theme$3$1.opener.border.width.error} solid ${semanticColor$3.input.error.border}`,color:semanticColor$3.input.error.foreground},disabled:{background:semanticColor$3.input.disabled.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.disabled.border}`,color:semanticColor$3.input.disabled.foreground,cursor:"not-allowed",":active":{boxShadow:"none"}},press:{boxShadow:PRESS_SHADOW,":focus-visible":{boxShadow:`${PRESS_SHADOW}, ${focusStyles$2.focus[":focus-visible"].boxShadow}`}},placeholder:{color:semanticColor$3.input.default.placeholder}}),defaultErrorMessage="This field is required.";function hasValue(e){return!!e&&e.length>0}function useSelectValidation({value:e,disabled:t=!1,validate:r,onValidate:n,required:i,open:o}){const[a,s]=reactExports.useState(()=>r&&hasValue(e)&&!t&&r(e)||null),l=reactExports.useCallback(e=>{if(!t){if(r){const t=void 0!==e&&r(e)||null;if(s(t),n&&n(t),t)return}if(i){const t="string"==typeof i?i:defaultErrorMessage,r=hasValue(e)?null:t;s(r),n&&n(r)}}},[t,r,s,n,i]);useOnMountEffect(()=>{hasValue(e)&&l(e)});return{errorMessage:a,onOpenerBlurValidation:function(){o||!i||hasValue(e)||l(e)},onDropdownClosedValidation:()=>{i&&!hasValue(e)&&l(e)},onSelectionValidation:e=>{l(e)},onSelectedValuesChangeValidation:()=>{s(null),n&&n(null)}}}const SingleSelect=e=>{const t=reactExports.useRef(0),r=reactExports.useRef(!0),{children:n,error:i=!1,id:o,opener:a,placeholder:s,selectedValue:l,testId:c,alignment:u="left",autoFocus:d=!0,dropdownStyle:h,enableTypeAhead:p=!0,isFilterable:f,labels:m={clearSearch:defaultLabels.clearSearch,filter:defaultLabels.filter,noResults:defaultLabels.noResults,someResults:defaultLabels.someSelected},onChange:g,onToggle:y,opened:b,style:v,className:x,"aria-label":$,"aria-invalid":S,"aria-required":E,disabled:w=!1,dropdownId:_,validate:M,onValidate:C,required:T,showOpenerLabelAsText:R=!0,...O}=e,[k,A]=reactExports.useState(!1),[N,I]=reactExports.useState(""),[L,P]=reactExports.useState(),{errorMessage:B,onOpenerBlurValidation:q,onDropdownClosedValidation:j,onSelectionValidation:D}=useSelectValidation({value:l,disabled:w,validate:M,onValidate:C,required:T,open:k}),F=i||!!B;reactExports.useEffect(()=>{w?A(!1):"boolean"==typeof b&&A(b)},[w,b]);const z=e=>{A(e),I(""),y&&y(e),e||j()},W=e=>{e!==l&&g(e),k&&L&&L.focus(),A(!1),y&&y(!1),D(e)},H=e=>{I(e)},U=e=>{const t=reactDomExports.findDOMNode(e);P(t)},V=e=>{z(!k)},G=e=>{announceMessage({message:e})};reactExports.useEffect(()=>{if(r.current)return void(r.current=!1);const e=reactExports.Children.toArray(n).find(e=>e.props.value===l);if(e){const t=getLabel(e.props);t&&G(t)}},[l,n]);const X=E??!!T,K=(e,t)=>{const r=reactExports.Children.toArray(n).find(e=>e.props.value===l);let i;i=r?getSelectOpenerLabel(R,r.props):s;return jsxRuntimeExports$1.jsx(Id,{id:o,children:n=>a?jsxRuntimeExports$1.jsx(DropdownOpener,{id:n,"aria-label":$,"aria-controls":t,"aria-required":X,"aria-haspopup":"listbox",onClick:V,disabled:e,ref:U,role:"combobox",text:i,opened:k,error:F,onBlur:q,children:a}):jsxRuntimeExports$1.jsx(SelectOpener,{...O,"aria-label":$,"aria-controls":t,"aria-required":X,disabled:e,id:n,error:F,isPlaceholder:!r,onOpenChanged:z,open:k,ref:U,testId:c,onBlur:q,children:i})})},Y=reactExports.Children.toArray(n).filter(Boolean),J=Y.filter(e=>!e.props.disabled).length,Z=(Q=Y,(e=>{let r=0;return t.current=0,e.map(e=>{const{disabled:n,value:i}=e.props,o=l===i;return o&&(t.current=r),n||(r+=1),{component:e,focusable:!n,populatedProps:{onToggle:W,selected:o,variant:"check"}}})})(f?(e=>{const t=N.toLowerCase();return e.filter(({props:e})=>!N||getLabel(e).toLowerCase().indexOf(t)>-1)})(Q):Q));var Q;const ee=0===J||w,{someResults:te}=m;return reactExports.useEffect(()=>{k&&G(te(Z.length))},[Z.length,te,k]),jsxRuntimeExports$1.jsx(Id,{id:_,children:e=>jsxRuntimeExports$1.jsx(DropdownCore$1,{id:e,role:"listbox",selectionType:"single",alignment:u,autoFocus:d,enableTypeAhead:p,dropdownStyle:[f&&filterableDropdownStyle,selectDropdownStyle,h],initialFocusedIndex:t.current,items:Z,onOpenChanged:z,open:k,opener:K(ee,e),openerElement:L,style:v,className:x,isFilterable:f,onSearchTextChanged:f?H:void 0,searchText:f?N:"",labels:m,"aria-invalid":S,"aria-required":E,disabled:ee})})},MultiSelect=e=>{const t=reactExports.useRef(!0),{id:r,opener:n,testId:i,alignment:o="left",dropdownStyle:a,implicitAllEnabled:s,isFilterable:l,labels:c,onChange:u,onToggle:d,opened:h,selectedValues:p=[],shortcuts:f=!1,style:m,className:g,"aria-label":y,"aria-invalid":b,"aria-required":v,disabled:x=!1,error:$=!1,children:S,dropdownId:E,showOpenerLabelAsText:w=!0,validate:_,onValidate:M,required:C,...T}=e,R=reactExports.useMemo(()=>({...defaultLabels,...c}),[c]),[O,k]=reactExports.useState(!1),[A,N]=reactExports.useState(""),[I,L]=reactExports.useState([]),[P,B]=reactExports.useState(),{errorMessage:q,onOpenerBlurValidation:j,onDropdownClosedValidation:D,onSelectionValidation:F,onSelectedValuesChangeValidation:z}=useSelectValidation({value:p,disabled:x,validate:_,onValidate:M,required:C,open:O}),W=$||!!q;reactExports.useEffect(()=>{x?k(!1):"boolean"==typeof h&&k(h)},[x,h]);const H=e=>{k(e),N(""),L(p),d&&d(e),e||(I!==p?F(p):D())},U=e=>{if(p.includes(e)){const t=p.indexOf(e),r=[...p.slice(0,t),...p.slice(t+1)];u(r)}else u([...p,e]);z()},V=()=>{const e=reactExports.Children.toArray(S).filter(e=>!!e&&!e.props.disabled).map(e=>e.props.value);u(e),z()},G=()=>{u([]),z()},X=reactExports.useCallback(e=>{const{noneSelected:t,someSelected:r,allSelected:n}=R,i=e.filter(e=>!e.props.disabled).length,o=s?n:t;switch(p.length){case 0:return o;case 1:const t=e.find(e=>e.props.value===p[0]);if(t){const e=getSelectOpenerLabel(w,t?.props);return e||r(1)}return o;case i:return n;default:return r(p.length)}},[s,R,p,w]),K=e=>{const{selectAllLabel:t,selectNoneLabel:r}=R;if(f&&!A){const n=e===p.length,i={component:jsxRuntimeExports$1.jsx(ActionItem,{disabled:n,label:t(e),indent:!0,onClick:V}),focusable:!n,populatedProps:{}},o=0===p.length;return[i,{component:jsxRuntimeExports$1.jsx(ActionItem,{disabled:o,label:r,indent:!0,onClick:G}),focusable:!o,populatedProps:{}},{component:jsxRuntimeExports$1.jsx(SeparatorItem,{},"shortcuts-separator"),focusable:!1,populatedProps:{}}]}return[]},Y=e=>{const{disabled:t,value:r}=e.props;return{component:e,focusable:!t,populatedProps:{onToggle:U,selected:p.includes(r),variant:"checkbox"}}},J=e=>{const t=reactDomExports.findDOMNode(e);B(t)},Z=e=>{N(e)},Q=e=>{H(!O)},ee=e=>{announceMessage({message:e})},te=reactExports.useCallback((e,t)=>{let r;if(1===p.length){const t=e.find(e=>e.props.value===p[0]);r=t?getLabel(t?.props):void 0}else"string"==typeof t&&(r=t);return r},[p]);reactExports.useEffect(()=>{if(t.current)return void(t.current=!1);const e=reactExports.Children.toArray(S),r=X(e),n=te(e,r);n&&ee(n)},[S,X,te]);const re=v??!!C,ne=(e,t,o)=>{const{noneSelected:a}=R,s=X(e);return jsxRuntimeExports$1.jsx(Id,{id:r,children:e=>n?jsxRuntimeExports$1.jsx(DropdownOpener,{id:e,error:W,"aria-label":y,"aria-controls":o,"aria-required":re,"aria-haspopup":"listbox",onClick:Q,onBlur:j,disabled:t,ref:J,role:"combobox",text:s,opened:O,children:n}):jsxRuntimeExports$1.jsx(SelectOpener,{...T,error:W,disabled:t,id:e,"aria-label":y,"aria-controls":o,"aria-required":re,isPlaceholder:s===a,onOpenChanged:H,onBlur:j,open:O,ref:J,testId:i,children:s})})},{clearSearch:ie,filter:oe,noResults:ae,someSelected:se}=R,le=reactExports.Children.toArray(S).filter(Boolean),ce=le.filter(e=>!e.props.disabled).length,ue=(e=>{if(!l)return e.map(Y);const t=A.toLowerCase(),r=e.filter(({props:e})=>!A||getLabel(e).toLowerCase().indexOf(t)>-1),n=[],i=[];for(const a of r)I.includes(a.props.value)?n.push(a):i.push(a);const o=n.map(Y);return n.length&&i.length&&o.push({component:jsxRuntimeExports$1.jsx(SeparatorItem,{},"selected-separator"),focusable:!1,populatedProps:{}}),[...o,...i.map(Y)]})(le),de=0===ce||x;return reactExports.useEffect(()=>{O&&ee(se(ue.length))},[ue.length,se,O]),jsxRuntimeExports$1.jsx(Id,{id:E,children:e=>jsxRuntimeExports$1.jsx(DropdownCore$1,{id:e,role:"listbox",alignment:o,dropdownStyle:[l&&filterableDropdownStyle,selectDropdownStyle,a],isFilterable:l,items:[...K(ce),...ue],onOpenChanged:H,open:O,opener:ne(le,de,e),openerElement:P,selectionType:"multi",style:m,className:g,onSearchTextChanged:l?Z:void 0,searchText:l?A:"",labels:{clearSearch:ie,filter:oe,noResults:ae,someResults:se},"aria-invalid":b,"aria-required":re,disabled:de})})};addStyle$1("span"),StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}}),reactExports.memo(function({disabled:e,focusedMultiSelectIndex:t,id:r,labels:n,onRemove:i,removeSelectedLabel:o,selected:a,testId:s}){return jsxRuntimeExports$1.jsx(View$2,{role:"group",style:styles$2$3.container,id:r,children:a.map((a,l)=>{const c=n[l],u=l===t,d=r+l;return jsxRuntimeExports$1.jsx(Button$1,{id:d,testId:s?`${s}-item-${l}`:void 0,size:"small",style:[styles$2$3.item,u&&styles$2$3.itemFocused],kind:"secondary",actionType:"neutral","aria-label":o(c),tabIndex:-1,onClick:()=>i(a),endIcon:e?void 0:jsxRuntimeExports$1.jsx(PhosphorIcon$3,{icon:xIcon,size:"small"}),children:c},d)})})});const styles$2$3=StyleSheet.create({container:{flexDirection:"row",flexWrap:"wrap",gap:sizing$3.size_080,paddingBlockStart:sizing$3.size_080},item:{fontSize:font$3.body.size.small,justifyContent:"space-between",alignItems:"center",height:"auto",paddingInline:sizing$3.size_080},itemFocused:focusStyles$2.focus[":focus-visible"]});StyleSheet.create({listbox:{backgroundColor:semanticColor$3.core.background.base.default,outline:"none",paddingBlock:theme$3$1.listbox.layout.padding.block,paddingInline:theme$3$1.listbox.layout.padding.inline},disabled:{color:semanticColor$3.action.secondary.disabled.foreground}}),StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"100%",flexWrap:"wrap",background:semanticColor$3.core.background.base.default,borderRadius:theme$3$1.opener.border.radius.rest,border:`${border$3.width.thin} solid ${semanticColor$3.core.border.neutral.subtle}`,paddingInline:theme$3$1.opener.layout.padding.inline,overflow:"hidden"},focused:focusStyles$2.focus[":focus-visible"],disabled:{background:semanticColor$3.input.disabled.background,border:`${border$3.width.thin} solid ${semanticColor$3.input.disabled.border}`,color:semanticColor$3.input.disabled.foreground},error:{background:semanticColor$3.input.error.background,border:`${theme$3$1.opener.border.width.error} solid ${semanticColor$3.input.error.border}`,color:semanticColor$3.input.error.foreground},combobox:{appearance:"none",background:"none",border:"none",outline:"none",padding:0,minWidth:sizing$3.size_040,width:"auto",display:"inline-grid",gridArea:"1 / 2",":focus-visible":{outline:"none",border:"none"}},listbox:{backgroundColor:semanticColor$3.core.background.base.default,borderRadius:theme$3$1.listbox.border.radius,border:`solid ${border$3.width.thin} ${semanticColor$3.core.border.neutral.subtle}`,boxShadow:theme$3$1.listbox.shadow.default,maxHeight:"var(--popper-max-height)",overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},button:{position:"absolute",insetInlineEnd:sizing$3.size_0,margin:0},buttonOpen:{transform:"rotate(180deg)"},clearButton:{insetInlineEnd:sizing$3.size_360},iconWrapper:{padding:sizing$3.size_040,minWidth:"auto"}});const textUnderlineOffset=sizing$3.size_040,theme$2$1={root:{border:{width:{primary:{default:border$3.width.none,hover:border$3.width.medium,press:border$3.width.medium},secondary:{default:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{default:border$3.width.none,hover:border$3.width.none,press:border$3.width.none}},offset:{primary:border$3.width.medium,secondary:0,tertiary:0},radius:{default:border$3.radius.radius_040,hover:border$3.radius.radius_040,press:border$3.radius.radius_040}},sizing:{height:{small:sizing$3.size_320,medium:sizing$3.size_400,large:sizing$3.size_560},underline:{hover:sizing$3.size_020,press:sizing$3.size_010}},layout:{padding:{inline:{primary:{small:sizing$3.size_160,medium:sizing$3.size_160,large:sizing$3.size_320},secondary:{small:sizing$3.size_120,medium:sizing$3.size_160,large:sizing$3.size_180},tertiary:{small:sizing$3.size_0,medium:sizing$3.size_0,large:sizing$3.size_0}}}},font:{size:{large:"1.8rem"},lineHeight:{small:font$3.lineHeight.xMedium,default:font$3.lineHeight.large,large:"2.6rem"},weight:{default:font$3.weight.bold},decoration:{hover:"underline",press:"underline"},offset:{default:textUnderlineOffset}}},icon:{margin:{inline:{inner:sizing$3.size_060,outer:`calc(-1 * ${border$3.width.medium})`}},padding:sizing$3.size_020,sizing:{small:sizing$3.size_160,medium:sizing$3.size_240,large:sizing$3.size_240}}};var theme$1$2=mapValuesToCssVars$2(theme$2$1,"--wb-c-button-");function ButtonIcon({icon:e,size:t,style:r,testId:n}){const i={"aria-hidden":!0,style:[r,{width:theme$1$2.icon.sizing[t],height:theme$1$2.icon.sizing[t]}],testId:n},o={...i,color:"currentColor"};return"string"!=typeof e?reactExports.cloneElement(e,i):"small"===t?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{...o,size:"small",icon:e}):jsxRuntimeExports$1.jsx(PhosphorIcon$3,{...o,size:"medium",icon:e})}const StyledA$1=addStyle$1("a"),StyledButton=addStyle$1("button"),StyledLink$1=addStyle$1(Link$2),ButtonUnstyled=reactExports.forwardRef(function(e,t){const{children:r,disabled:n,href:i,id:o,skipClientNav:a,style:s,testId:l,type:c,...u}=e,d={"data-testid":l,id:o,role:"button",style:[styles$2$2.reset,s],...u},h=useInRouterContext();return i&&!n?h&&!a&&isClientSideUrl$2(i)?jsxRuntimeExports$1.jsx(StyledLink$1,{...d,to:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledA$1,{...d,href:i,ref:t,children:r}):jsxRuntimeExports$1.jsx(StyledButton,{type:c||"button",...d,"aria-disabled":n,ref:t,children:r})}),styles$2$2=StyleSheet.create({reset:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,border:"none",cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}}}),ButtonCore=reactExports.forwardRef(function(e,t){const{children:r,skipClientNav:n,actionType:i,disabled:o,focused:a,hovered:s,href:l,kind:c="primary",labelStyle:u,pressed:d,size:h="medium",style:p,testId:f,type:m,spinner:g,startIcon:y,endIcon:b,id:v,waiting:x,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,..._}=e,M=_generateStyles$1(i,c,h),C=g||o,T=[sharedStyles$1.shared,y&&sharedStyles$1.withStartIcon,b&&sharedStyles$1.withEndIcon,M.default,C&&M.disabled,!C&&d&&M.pressed,!C&&!d&&a&&M.focused,"small"===h&&sharedStyles$1.small,"large"===h&&sharedStyles$1.large],R=jsxRuntimeExports$1.jsx(BodyText$3,{size:"small"===h?"small":void 0,weight:"large"===h?"bold":void 0,tag:"span",style:[sharedStyles$1.text,"small"===h&&sharedStyles$1.smallText,"large"===h&&sharedStyles$1.largeText,u,g&&sharedStyles$1.hiddenText],testId:f?`${f}-inner-label`:void 0,children:r}),O="small"===h?"small":"medium",k=jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[y&&jsxRuntimeExports$1.jsx(View$2,{style:sharedStyles$1.iconWrapper,children:jsxRuntimeExports$1.jsx(ButtonIcon,{size:O,icon:y,style:[sharedStyles$1.startIcon,"tertiary"===c&&sharedStyles$1.tertiaryStartIcon],testId:f?`${f}-start-icon`:void 0})}),R,g&&jsxRuntimeExports$1.jsx(CircularSpinner$1,{style:sharedStyles$1.spinner,size:{medium:"small",small:"xsmall",large:"medium"}[h],light:"primary"===c,testId:`${f||"button"}-spinner`}),b&&jsxRuntimeExports$1.jsx(View$2,{testId:f?`${f}-end-icon-wrapper`:void 0,style:[sharedStyles$1.endIcon,sharedStyles$1.iconWrapper,sharedStyles$1.endIconWrapper,"tertiary"===c&&sharedStyles$1.endIconWrapperTertiary],children:jsxRuntimeExports$1.jsx(ButtonIcon,{size:O,icon:b,testId:f?`${f}-end-icon`:void 0})})]});return jsxRuntimeExports$1.jsx(ButtonUnstyled,{..._,disabled:C,href:l,id:v,ref:t,skipClientNav:n,style:[T,p],testId:f,tabIndex:e.tabIndex,type:m,onMouseDown:$,onMouseUp:S,onMouseEnter:E,onMouseLeave:w,children:k})}),sharedStyles$1=StyleSheet.create({shared:{height:theme$1$2.root.sizing.height.medium,paddingBlock:0},small:{height:theme$1$2.root.sizing.height.small},large:{height:theme$1$2.root.sizing.height.large},text:{alignItems:"center",fontWeight:theme$1$2.root.font.weight.default,whiteSpace:"nowrap",overflow:"hidden",lineHeight:theme$1$2.root.font.lineHeight.default,textOverflow:"ellipsis",display:"inline-block",pointerEvents:"none"},smallText:{lineHeight:theme$1$2.root.font.lineHeight.small},largeText:{fontSize:theme$1$2.root.font.size.large,lineHeight:theme$1$2.root.font.lineHeight.large},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"},startIcon:{marginInlineStart:theme$1$2.icon.margin.inline.outer,marginInlineEnd:theme$1$2.icon.margin.inline.inner},tertiaryStartIcon:{marginInlineStart:0},endIcon:{marginInlineStart:theme$1$2.icon.margin.inline.inner},iconWrapper:{padding:theme$1$2.icon.padding,minWidth:"auto"},endIconWrapper:{marginInlineStart:theme$1$2.icon.margin.inline.inner,marginInlineEnd:theme$1$2.icon.margin.inline.outer},endIconWrapperTertiary:{marginInlineEnd:0}}),styles$1$2={},_generateStyles$1=(e="progressive",t,r)=>{const n=`${e}-${t}-${r}`;if(styles$1$2[n])return styles$1$2[n];const i=theme$1$2.root.layout.padding.inline[t][r],o=theme$1$2.root.border.width[t],a=theme$1$2.root.border.offset[t],s=semanticColor$3.action[t][e],l=semanticColor$3.action[t].disabled,c={borderColor:l.border,borderWidth:o.default,borderRadius:theme$1$2.root.border.radius.default,background:l.background,color:l.foreground},u={...c,outline:"none",boxShadow:"none",textDecoration:"none",textDecorationThickness:"unset",textUnderlineOffset:"unset"},d={background:s.press.background,borderRadius:theme$1$2.root.border.radius.press,color:s.press.foreground,..."primary"===t?{outline:`${o.press} solid ${s.press.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.press.border,boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$2.root.font.offset.default,textDecoration:`${theme$1$2.root.font.decoration.press} ${theme$1$2.root.sizing.underline.press}`}:void 0},h={default:{borderRadius:theme$1$2.root.border.radius.default,paddingInline:i,borderStyle:"solid",borderWidth:o.default,borderColor:s.default.border,background:s.default.background,color:s.default.foreground,transition:"border-radius 0.1s ease-in-out","@media (hover: hover)":{":hover":{background:s.hover.background,borderRadius:theme$1$2.root.border.radius.hover,color:s.hover.foreground,..."primary"===t?{outline:`${o.hover} solid ${s.hover.border}`,outlineOffset:a}:void 0,..."primary"!==t?{borderColor:s.hover.border,boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}`}:void 0,..."tertiary"===t?{textUnderlineOffset:theme$1$2.root.font.offset.default,textDecoration:`${theme$1$2.root.font.decoration.hover} ${theme$1$2.root.sizing.underline.hover}`}:void 0}},":active":d,...focusStyles$2.focus,..."secondary"===t?{":focus-visible:hover":{...focusStyles$2.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.hover} ${s.hover.border}, ${focusStyles$2.focus[":focus-visible"].boxShadow}`},":focus-visible:active":{...focusStyles$2.focus[":focus-visible"],boxShadow:`inset 0 0 0 ${o.press} ${s.press.border}, ${focusStyles$2.focus[":focus-visible"].boxShadow}`}}:{}},pressed:d,focused:focusStyles$2.focus[":focus-visible"],disabled:{cursor:"not-allowed",...c,":hover":u,":active":u,":focus-visible":c}};return styles$1$2[n]=StyleSheet.create(h),styles$1$2[n]},Button=reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,actionType:h="progressive",kind:p="primary",size:f="medium",disabled:m=!1,spinner:g=!1,role:y,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,...S}=e,E=useInRouterContext(),w=getClickableBehavior$2(r,o,E),_=s?{beforeNav:s}:{target:u},M=r?"link":"button",C="link"===y||"button"===y?void 0:y;return jsxRuntimeExports$1.jsx(w,{disabled:g||m,href:r,role:M,type:n,onClick:a,onMouseDown:b,onMouseUp:v,onMouseEnter:x,onMouseLeave:$,safeWithNav:l,rel:d,..._,children:(e,a)=>jsxRuntimeExports$1.jsx(ButtonCore,{...S,...e,...a,disabled:m,spinner:g||e.waiting,actionType:h,kind:p,size:f,skipClientNav:o,href:r,role:C,target:u,type:n,tabIndex:c,ref:t,children:i})})}),ActivityButtonCore=reactExports.forwardRef(function(e,t){const{children:r,disabled:n=!1,kind:i="primary",focused:o,pressed:a,styles:s,type:l,startIcon:c,endIcon:u,hovered:d,waiting:h,...p}=e,f=_generateStyles$2("progressive",n,i),m=[f.button,n&&f.disabled,!n&&a&&f.pressed,!n&&!a&&o&&f.focused,s?.root],g=[f.chonky,n&&f.chonkyDisabled,!n&&a&&f.chonkyPressed,s?.box];return jsxRuntimeExports$1.jsx(ButtonUnstyled,{...p,disabled:n,ref:t,style:m,type:l,children:jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:jsxRuntimeExports$1.jsxs(View$2,{style:g,className:"chonky",children:[c&&("string"==typeof c?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:c,style:[styles$5.icon,s?.startIcon],"aria-hidden":"true"}):reactExports.cloneElement(c,{"aria-hidden":!0,style:[styles$5.icon,s?.startIcon]})),jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",size:"medium",weight:"semi",style:[styles$5.label,s?.label],children:r}),u&&("string"==typeof u?jsxRuntimeExports$1.jsx(PhosphorIcon$3,{size:"medium",color:"currentColor",icon:u,style:[styles$5.icon,s?.endIcon],"aria-hidden":"true"}):reactExports.cloneElement(u,{"aria-hidden":!0,style:[styles$5.icon,s?.endIcon]}))]})})})});reactExports.forwardRef(function(e,t){const{href:r,type:n,children:i,skipClientNav:o,onClick:a,beforeNav:s,safeWithNav:l,tabIndex:c,target:u,rel:d,kind:h="primary",disabled:p=!1,role:f,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...v}=e,x=useInRouterContext(),$=getClickableBehavior$2(r,o,x),S=s?{beforeNav:s}:{target:u},E=r?"link":"button",w="link"===f||"button"===f?void 0:f;return jsxRuntimeExports$1.jsx($,{disabled:p,href:r,role:E,type:n,onClick:a,safeWithNav:l,rel:d,onMouseDown:m,onMouseUp:g,onMouseEnter:y,onMouseLeave:b,...S,children:(e,a)=>jsxRuntimeExports$1.jsx(ActivityButtonCore,{...v,...e,...a,disabled:p,kind:h,skipClientNav:o,href:r,role:w,target:u,type:n,tabIndex:c,ref:t,children:i})})});const theme$3={root:{border:{width:{primary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},secondary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin},tertiary:{rest:border$3.width.thin,hover:border$3.width.thin,press:border$3.width.thin}},radius:border$3.radius.radius_120},layout:{padding:{block:sizing$3.size_140,inline:sizing$3.size_480}},shadow:{y:{rest:"6px",hover:"8px",press:sizing$3.size_0}}},label:{color:{progressive:semanticColor$3.core.foreground.instructive.default,neutral:semanticColor$3.core.foreground.neutral.default,disabled:semanticColor$3.core.foreground.disabled.default},font:{lineHeight:sizing$3.size_140},layout:{padding:{blockStart:sizing$3.size_040,blockEnd:sizing$3.size_060},width:sizing$3.size_640}},icon:{sizing:{height:sizing$3.size_200,width:sizing$3.size_200}}},styles$5={icon:{alignSelf:"center",width:theme$3.icon.sizing.width,height:theme$3.icon.sizing.height},label:{lineHeight:theme$3.label.font.lineHeight,paddingBlockStart:theme$3.label.layout.padding.blockStart,paddingBlockEnd:theme$3.label.layout.padding.blockEnd}},stateStyles={},_generateStyles$2=(e="progressive",t,r)=>{const n=`${e}-d_${t}-${r}`;if(stateStyles[n])return stateStyles[n];const i=theme$3.root.border.width[r],o=semanticColor$3.chonky[e],a=semanticColor$3.chonky.disabled,s={outline:"none",transform:"none"},l={background:a.background[r],borderWidth:i.rest,borderColor:a.border[r],color:a.foreground[r],boxShadow:`0 ${theme$3.root.shadow.y.rest} 0 0 ${a.shadow[r]}`,transform:"none"},c={background:o.background[r].press,border:`${i.press} solid ${o.border[r].press}`,boxShadow:`0 ${theme$3.root.shadow.y.press} 0 0 ${o.shadow[r].press}`,color:o.foreground[r].press,transform:`translateY(${theme$3.root.shadow.y.rest})`},u={button:{background:"transparent",borderRadius:theme$3.root.border.radius,color:theme$3.label.color[e],height:"auto",flexDirection:"column",gap:sizing$3.size_020,alignSelf:"flex-start",justifySelf:"center",":is(:hover) .chonky":{background:o.background[r].hover,border:`${i.hover} solid ${o.border[r].hover}`,boxShadow:`0 ${theme$3.root.shadow.y.hover} 0 0 ${o.shadow[r].hover}`,color:o.foreground[r].hover,transform:`translateY(calc((${theme$3.root.shadow.y.hover} - ${theme$3.root.shadow.y.rest}) * -1))`},":is(:active) .chonky":c,...focusStyles$2.focus},focused:focusStyles$2.focus[":focus-visible"],disabled:{cursor:"not-allowed",color:theme$3.label.color.disabled,...s,":hover":s,":active":s,":focus-visible":{transform:"none"},":is(:hover) .chonky":s,":is(:hover) .chonky":l,":is(:active) .chonky":l},pressed:{".chonky":c},chonky:{flexDirection:"row",gap:sizing$3.size_080,borderRadius:theme$3.root.border.radius,marginBlockEnd:theme$3.root.shadow.y.rest,maxWidth:"100%",paddingBlock:theme$3.root.layout.padding.block,paddingInline:theme$3.root.layout.padding.inline,background:o.background[r].rest,border:`${i.rest} solid ${o.border[r].rest}`,color:o.foreground[r].rest,boxShadow:`0 ${theme$3.root.shadow.y.rest} 0 0 ${o.shadow[r].rest}`,transition:"all 0.12s ease-out","@media not (hover: hover)":{transition:"none"}},chonkyPressed:c,chonkyDisabled:l};return stateStyles[n]=StyleSheet.create(u),stateStyles[n]},caretUp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z'/%3e%3c/svg%3e",LockIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z'/%3e%3c/svg%3e";function getSize$1(e){switch(e){case"small":default:return styles$1$1.small;case"medium":return styles$1$1.medium;case"large":return styles$1$1.large;case"xlarge":return styles$1$1.xlarge}}const StyledDiv=addStyle$1("div");reactExports.forwardRef((e,t)=>{const{size:r="small",id:n,testId:i,style:o,children:a,...s}=e,l=reactExports.cloneElement(a,{style:{width:"100%",height:"100%"}});return jsxRuntimeExports$1.jsx(StyledDiv,{style:[getSize$1(r),o],id:n,"data-testid":i,ref:t,...s,children:l})});const styles$1$1=StyleSheet.create({small:{width:sizing$3.size_160,height:sizing$3.size_160},medium:{width:sizing$3.size_240,height:sizing$3.size_240},large:{width:sizing$3.size_480,height:sizing$3.size_480},xlarge:{width:sizing$3.size_960,height:sizing$3.size_960}}),StyledSpan$1=addStyle$1("span"),PhosphorIcon=reactExports.forwardRef(function(e,t){const{color:r="currentColor",icon:n,size:i="small",style:o,testId:a,className:s,role:l,...c}=e,u=getSize(i),d=`${s??""}`;return jsxRuntimeExports$1.jsx(StyledSpan$1,{...c,className:d,style:[styles$2$1.svg,u,{backgroundColor:r,maskImage:`url(${n})`},o],"data-testid":a,ref:t,role:l??c["aria-label"]?"img":void 0})});function getSize(e){switch(e){case"small":default:return styles$2$1.small;case"medium":return styles$2$1.medium;case"large":return styles$2$1.large;case"xlarge":return styles$2$1.xlarge}}const styles$2$1=StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"},small:{width:sizing$3.size_160,height:sizing$3.size_160},medium:{width:sizing$3.size_240,height:sizing$3.size_240},large:{width:sizing$3.size_480,height:sizing$3.size_480},xlarge:{width:sizing$3.size_960,height:sizing$3.size_960}});function useImageRoleAttributes(e){const{"aria-label":t,"aria-labelledby":r}=e;return t||r?{"aria-label":t,"aria-labelledby":r,role:"img"}:{"aria-hidden":!0}}PhosphorIcon.displayName="PhosphorIcon";const StyledSvg$1=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg$1,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M1.246 5.38105L2.36444 3.66654C2.63609 3.25012 3.0934 3 3.58311 3H12.4169C12.9066 3 13.3639 3.25012 13.6356 3.66654L14.754 5.38105C15.1278 5.95411 15.0708 6.71389 14.6158 7.22195L9.08044 13.4027C8.49982 14.051 7.50018 14.051 6.91956 13.4027L1.38423 7.22195C0.929229 6.71389 0.872177 5.95411 1.246 5.38105Z",fill:semanticColor$3.learning.foreground.gems.default}),jsxRuntimeExports$1.jsx("path",{d:"M9.45654 7.01492L8.34027 10.0102C8.07911 10.711 8.97464 11.2595 9.48018 10.7084L12.6345 7.26989C13.0351 6.83317 12.7253 6.12858 12.1327 6.12858H10.7327C10.164 6.12858 9.65515 6.48199 9.45654 7.01492Z",fill:semanticColor$3.learning.foreground.gems.subtle})]})});const StyledSvg=addStyle$1("svg");reactExports.forwardRef((e,t)=>{const{"aria-label":r,"aria-labelledby":n,id:i,testId:o,style:a,...s}=e,l=useImageRoleAttributes({"aria-label":r,"aria-labelledby":n});return jsxRuntimeExports$1.jsxs(StyledSvg,{id:i,"data-testid":o,style:a,ref:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,...s,children:[jsxRuntimeExports$1.jsx("path",{d:"M9.14653 0.628361C9.07012 0.571421 8.97956 0.531782 8.88248 0.512785C8.78539 0.493787 8.68464 0.49599 8.5887 0.519205C8.49277 0.542421 8.40447 0.585969 8.33125 0.64618C8.25802 0.70639 8.20202 0.781496 8.16797 0.865168L5.47556 5.06034L4.59152 3.43463C4.52866 3.37998 4.45359 3.33789 4.37125 3.31114C4.28892 3.28438 4.2012 3.27357 4.11387 3.27941C4.02653 3.28525 3.94157 3.30761 3.86458 3.34502C3.78759 3.38243 3.72032 3.43403 3.66719 3.49644C1.98899 5.46729 1.13672 7.44994 1.13672 9.38884C1.13672 11.0096 1.85506 12.564 3.13372 13.7101C4.41238 14.8561 6.14661 15.5 7.9549 15.5C9.7632 15.5 11.4974 14.8561 12.7761 13.7101C14.0547 12.564 14.7731 11.0096 14.7731 9.38884C14.7731 5.26034 10.8379 1.88879 9.14653 0.628361Z",fill:semanticColor$3.learning.foreground.streaks.default}),jsxRuntimeExports$1.jsx("path",{d:"M10.8067 10.5315C10.8067 12.0965 9.53809 13.3651 7.97318 13.3651C6.40826 13.3651 5.13965 12.0965 5.13965 10.5315C5.13965 8.96663 7.2648 6.28125 7.97318 6.28125C8.68156 6.28125 10.8067 8.96663 10.8067 10.5315Z",fill:semanticColor$3.learning.foreground.streaks.subtle})]})});const theme$1$1={root:{layout:{paddingBlockEnd:{labelWithDescription:sizing$3.size_040,labelWithNoDescription:sizing$3.size_120},spacingBetweenHelperText:sizing$3.size_120}},label:{color:{error:{foreground:semanticColor$3.core.foreground.neutral.strong},disabled:{foreground:semanticColor$3.core.foreground.neutral.strong}}},contextLabel:{color:{error:{foreground:semanticColor$3.core.foreground.neutral.default}}},error:{color:{foreground:semanticColor$3.core.foreground.critical.subtle},font:{weight:font$3.weight.regular},layout:{marginBlockStart:sizing$3.size_0}},helperText:{layout:{gap:sizing$3.size_080},font:{size:font$3.body.size.small,lineHeight:font$3.body.lineHeight.small},color:{default:{foreground:semanticColor$3.core.foreground.neutral.default},disabled:{foreground:semanticColor$3.core.foreground.neutral.default}}}};var theme$2=mapValuesToCssVars$2(theme$1$1,"--wb-c-labeled-field-");const defaultLabeledFieldLabels={errorIconAriaLabel:"Error:"};function LabeledField(e){const{field:t,styles:r,label:n,id:i,testId:o,contextLabel:a,description:s,errorMessage:l,readOnlyMessage:c,additionalHelperMessage:u,labels:d=defaultLabeledFieldLabels}=e,h=reactExports.useId(),p=i??`${h}-labeled-field`,f=`${p}-label`,m=`${p}-description`,g=`${p}-field`,y=`${p}-error`,b=`${p}-read-only-message`,v=`${p}-additional-helper-message`,x=`${p}-context-label`,$=!!l||!!t.props.error,S=!!t.props.disabled;return jsxRuntimeExports$1.jsxs(View$2,{style:r?.root,children:[jsxRuntimeExports$1.jsxs(View$2,{style:styles$4.labelContainer,children:[jsxRuntimeExports$1.jsx(BodyText$3,{style:[styles$4.label,$?styles$4.labelWithError:void 0,s?styles$4.labelWithDescription:styles$4.labelWithNoDescription,S&&styles$4.disabledLabel,r?.label],tag:"label",htmlFor:g,testId:o&&`${o}-label`,id:f,weight:"semi",children:n}),a&&jsxRuntimeExports$1.jsx(BodyText$3,{tag:"div",id:x,testId:o&&`${o}-context-label`,style:[styles$4.helperText,styles$4.contextLabel,S&&styles$4.disabledHelperText,$?styles$4.contextLabelWithError:void 0,r?.contextLabel],children:a})]}),s?jsxRuntimeExports$1.jsx(BodyText$3,{style:[styles$4.helperText,styles$4.spacingBelowHelperText,S&&styles$4.disabledHelperText,r?.description],testId:o&&`${o}-description`,id:m,children:s}):null,reactExports.cloneElement(t,{id:g,"aria-describedby":[a&&x,s&&m,u&&v,c&&b,l&&y].filter(Boolean).join(" "),error:$,testId:o?`${o}-field`:void 0,readOnly:c||t.props.readOnly}),u?jsxRuntimeExports$1.jsx(BodyText$3,{id:v,testId:o&&`${o}-additional-helper-message`,style:[styles$4.helperText,styles$4.spacingAboveHelperText,S&&styles$4.disabledHelperText,r?.additionalHelperMessage],tag:"div",children:u}):null,c?jsxRuntimeExports$1.jsxs(View$2,{style:[styles$4.helperTextWithIcon,styles$4.spacingAboveHelperText,r?.readOnlyMessage],id:b,testId:o&&`${o}-read-only-message`,children:[jsxRuntimeExports$1.jsx(PhosphorIcon,{icon:LockIcon,"aria-label":d.readOnlyIconAriaLabel,color:semanticColor$3.core.foreground.neutral.subtle}),jsxRuntimeExports$1.jsx(BodyText$3,{style:styles$4.helperText,children:c})]}):null,jsxRuntimeExports$1.jsx(View$2,{style:[styles$4.helperTextWithIcon,l?styles$4.spacingAboveHelperText:void 0,r?.error],id:y,testId:o&&`${o}-error`,"aria-live":"assertive","aria-atomic":"true",children:l&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(PhosphorIcon,{icon:WarningCircle,style:[styles$4.errorIcon,styles$4.error],role:"img","aria-label":d.errorIconAriaLabel}),jsxRuntimeExports$1.jsx(BodyText$3,{style:[styles$4.helperText,styles$4.errorMessage,styles$4.error],children:l})]})})]})}const styles$4=StyleSheet.create({labelContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:theme$2.root.layout.spacingBetweenHelperText},label:{color:semanticColor$3.core.foreground.neutral.strong,overflowWrap:"break-word",minWidth:sizing$3.size_0},contextLabel:{lineHeight:font$3.body.lineHeight.medium,maxWidth:"30%",flexShrink:0},labelWithError:{color:theme$2.label.color.error.foreground,fontWeight:theme$2.error.font.weight},contextLabelWithError:{color:theme$2.contextLabel.color.error.foreground,fontWeight:theme$2.error.font.weight},disabledLabel:{color:theme$2.label.color.disabled.foreground},labelWithDescription:{paddingBlockEnd:theme$2.root.layout.paddingBlockEnd.labelWithDescription},labelWithNoDescription:{paddingBlockEnd:theme$2.root.layout.paddingBlockEnd.labelWithNoDescription},helperTextWithIcon:{flexDirection:"row",gap:theme$2.helperText.layout.gap},spacingAboveHelperText:{paddingBlockStart:theme$2.root.layout.spacingBetweenHelperText},spacingBelowHelperText:{paddingBlockEnd:theme$2.root.layout.spacingBetweenHelperText},helperText:{color:theme$2.helperText.color.default.foreground,fontSize:theme$2.helperText.font.size,lineHeight:theme$2.helperText.font.lineHeight,minWidth:sizing$3.size_0,overflowWrap:"break-word"},disabledHelperText:{color:theme$2.helperText.color.disabled.foreground},error:{color:theme$2.error.color.foreground},errorIcon:{marginTop:sizing$3.size_010},errorMessage:{fontWeight:theme$2.error.font.weight,marginBlockStart:theme$2.error.layout.marginBlockStart}}),warningCircleIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z'/%3e%3c/svg%3e";function useResolvedElement(e,t){var r=reactExports.useRef(null),n=reactExports.useRef(null);n.current=t;var i=reactExports.useRef(null);reactExports.useEffect(function(){o()});var o=reactExports.useCallback(function(){var t=i.current,o=n.current,a=t||(o?o instanceof Element?o:o.current:null);r.current&&r.current.element===a&&r.current.subscriber===e||(r.current&&r.current.cleanup&&r.current.cleanup(),r.current={element:a,subscriber:e,cleanup:a?e(a):void 0})},[e]);return reactExports.useEffect(function(){return function(){r.current&&r.current.cleanup&&(r.current.cleanup(),r.current=null)}},[]),reactExports.useCallback(function(e){i.current=e,o()},[o])}function extractSize(e,t,r){return e[t]?e[t][0]?e[t][0][r]:e[t][r]:"contentBoxSize"===t?e.contentRect["inlineSize"===r?"width":"height"]:void 0}function useResizeObserver(e){void 0===e&&(e={});var t=e.onResize,r=reactExports.useRef(void 0);r.current=t;var n=e.round||Math.round,i=reactExports.useRef(),o=reactExports.useState({width:void 0,height:void 0}),a=o[0],s=o[1],l=reactExports.useRef(!1);reactExports.useEffect(function(){return l.current=!1,function(){l.current=!0}},[]);var c=reactExports.useRef({width:void 0,height:void 0}),u=useResolvedElement(reactExports.useCallback(function(t){return i.current&&i.current.box===e.box&&i.current.round===n||(i.current={box:e.box,round:n,instance:new ResizeObserver(function(t){var i=t[0],o="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=extractSize(i,o,"inlineSize"),u=extractSize(i,o,"blockSize"),d=a?n(a):void 0,h=u?n(u):void 0;if(c.current.width!==d||c.current.height!==h){var p={width:d,height:h};c.current.width=d,c.current.height=h,r.current?r.current(p):l.current||s(p)}})}),i.current.instance.observe(t,{box:e.box}),function(){i.current&&i.current.instance.unobserve(t)}},[e.box,n]),e.ref);return reactExports.useMemo(function(){return{ref:u,width:a.width,height:a.height}},[u,a.width,a.height])}function clamp$1(e,t,r){return Math.max(t,Math.min(e,r))}const V={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function rubberband(e,t,r){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*r):e*t*r/(t+r*e)}function rubberbandIfOutOfBounds(e,t,r,n=.15){return 0===n?clamp$1(e,t,r):e<t?-rubberband(t-e,r-t,n)+t:e>r?+rubberband(e-r,r-t,n)+r:e}function computeRubberband(e,[t,r],[n,i]){const[[o,a],[s,l]]=e;return[rubberbandIfOutOfBounds(t,o,a,n),rubberbandIfOutOfBounds(r,s,l,i)]}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(e){return e?e[0].toUpperCase()+e.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(e=!1,t){return e&&!actionsWithoutCaptureSupported.includes(t)}function toHandlerProp(e,t="",r=!1){const n=EVENT_TYPE_MAP[e],i=n&&n[t]||t;return"on"+capitalize(e)+capitalize(i)+(hasCapture(r,i)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const n=pointerCaptureEvents.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(n);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:r}}function toDomEventType(e,t=""){const r=EVENT_TYPE_MAP[e];return e+(r&&r[t]||t)}function isTouch(e){return"touches"in e}function getPointerType(e){return isTouch(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function getCurrentTargetTouchList(e){return Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||(null===(r=e.currentTarget)||void 0===r||null===(n=r.contains)||void 0===n?void 0:n.call(r,t.target))})}function getTouchList(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}function getValueEvent(e){return isTouch(e)?getTouchList(e)[0]:e}function distanceAngle(e,t){try{const r=t.clientX-e.clientX,n=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(r,n),s=-180*Math.atan2(r,n)/Math.PI;return{angle:s,distance:a,origin:[i,o]}}catch(r){}return null}function touchIds(e){return getCurrentTargetTouchList(e).map(e=>e.identifier)}function touchDistanceAngle(e,t){const[r,n]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return distanceAngle(r,n)}function pointerId(e){const t=getValueEvent(e);return isTouch(e)?t.identifier:t.pointerId}function pointerValues(e){const t=getValueEvent(e);return[t.clientX,t.clientY]}const LINE_HEIGHT=40,PAGE_HEIGHT=800;function wheelValues(e){let{deltaX:t,deltaY:r,deltaMode:n}=e;return 1===n?(t*=LINE_HEIGHT,r*=LINE_HEIGHT):2===n&&(t*=PAGE_HEIGHT,r*=PAGE_HEIGHT),[t,r]}function scrollValues(e){var t,r;const{scrollX:n,scrollY:i,scrollLeft:o,scrollTop:a}=e.currentTarget;return[null!==(t=null!=n?n:o)&&void 0!==t?t:0,null!==(r=null!=i?i:a)&&void 0!==r?r:0]}function getEventDetails(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o})}return t}function call(e,...t){return"function"==typeof e?e(...t):e}function noop(){}function chain(...e){return 0===e.length?noop:1===e.length?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function assignDefault(e,t){return Object.assign({},t,e||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:n}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?call(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:n}=this;t.args=this.args;let i=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,getEventDetails(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);V.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[s,l]=r.threshold,{_step:c,values:u}=t;if(r.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(o)>=s&&u[0]),!1===c[1]&&(c[1]=Math.abs(a)>=l&&u[1])):(!1===c[0]&&(c[0]=Math.abs(o)>=s&&Math.sign(o)*s),!1===c[1]&&(c[1]=Math.abs(a)>=l&&Math.sign(a)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[e,t]=u;d[0]=!1!==c[0]?e-c[0]:0,d[1]=!1!==c[1]?t-c[1]:0}else d[0]=!1!==c[0]?o-c[0]:0,d[1]=!1!==c[1]?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const h=t.offset,p=t._active&&!t._blocked||t.active;p&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=call(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[f,m]=t.offset,[[g,y],[b,v]]=t._bounds;t.overflow=[f<g?-1:f>y?1:0,m<b?-1:m>v?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const x=t._active&&r.rubberband||[0,0];if(t.offset=computeRubberband(t._bounds,t.offset,x),t.delta=V.sub(t.offset,h),this.computeMovement(),p&&(!t.last||i>BEFORE_LAST_KINEMATICS_DELAY)){t.delta=V.sub(t.offset,h);const e=t.delta.map(Math.abs);V.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const n=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([e,t],r){const n=Math.abs(e),i=Math.abs(t);return n>i&&n>r?"x":i>n&&i>r?"y":void 0}class CoordinatesEngine extends Engine{constructor(...e){super(...e),_defineProperty(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const n="object"==typeof r.axisThreshold?r.axisThreshold[getPointerType(e)]:r.axisThreshold;t.axis=selectAxis(t._movement,n)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const identity=e=>e,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled:(e=!0)=>e,eventOptions:(e,t,r)=>_objectSpread2(_objectSpread2({},r.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?V.toVector(e):void 0,transform(e,t,r){const n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||identity},threshold:e=>V.toVector(e,0)},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{axis(e,t,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:(e=DEFAULT_AXIS_THRESHOLD)=>e,bounds(e={}){if("function"==typeof e)return t=>coordinatesConfigResolver.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),KEYS_DELTA_MAP={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class DragEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),n={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=coordinatesConfigResolver.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const n=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n&&n.size>1&&r._pointerActive||(this.start(e),this.setupPointer(e),r._pointerId=pointerId(e),r._pointerActive=!0,this.computeValues(pointerValues(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==getPointerType(e)?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const n=pointerId(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;const i=pointerValues(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=V.sub(i,t._values),this.computeValues(i)),V.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):r.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(a){}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const n=pointerId(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,o]=t._distance;if(t.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[e,n]=t._delta,[i,o]=t._movement,[a,s]=r.swipe.velocity,[l,c]=r.swipe.distance,u=r.swipe.duration;if(t.elapsedTime<u){const r=Math.abs(e/t.timeDelta),u=Math.abs(n/t.timeDelta);r>a&&Math.abs(i)>l&&(t.swipe[0]=Math.sign(e)),u>s&&Math.abs(o)>c&&(t.swipe[1]=Math.sign(n))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,persistEvent(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=KEYS_DELTA_MAP[e.key];if(t){const r=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,n),r._keyboardActive=!0,V.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}const isBrowser="undefined"!=typeof window&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch(e2){return!1}}const SUPPORT={isBrowser:isBrowser,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&SUPPORT.pointerLock,SUPPORT.touch&&r?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!i?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&e?DEFAULT_PREVENT_SCROLL_DELAY:void 0,SUPPORT.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:i}){const o=V.toVector(e,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,o},swipe({velocity:e=DEFAULT_SWIPE_VELOCITY,distance:t=DEFAULT_SWIPE_DISTANCE,duration:r=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V.toVector(e)),distance:this.transform(V.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return e}},axisThreshold:e=>e?_objectSpread2(_objectSpread2({},DEFAULT_DRAG_AXIS_THRESHOLD),e):DEFAULT_DRAG_AXIS_THRESHOLD,keyboardDisplacement:(e=DEFAULT_KEYBOARD_DISPLACEMENT)=>e});function clampStateInternalMovementToBounds(e){const[t,r]=e.overflow,[n,i]=e._delta,[o,a]=e._direction;(t<0&&n>0&&o<0||t>0&&n<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&i>0&&a<0||r>0&&i<0&&a>0)&&(e._movement[1]=e._movementBound[1])}const SCALE_ANGLE_RATIO_INTENT_DEG=30,PINCH_WHEEL_RATIO=100;class PinchEngine extends Engine{constructor(...e){super(...e),_defineProperty(this,"ingKey","pinching"),_defineProperty(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;this.state.offset="wheel"===e?V.add(t,r):[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const n=Math.abs(t)*SCALE_ANGLE_RATIO_INTENT_DEG-Math.abs(r);n<0?e.axis="angle":n>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>r.has(e)))return;if(r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const n=touchDistanceAngle(e,t._touchIds);n&&this.pinchStart(e,n)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,n=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(e=>n.has(e)))return;if(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const i=distanceAngle(...Array.from(r.values()));i&&this.pinchStart(e,i)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=touchDistanceAngle(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=distanceAngle(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,n=r._values[1],i=t.angle-n;let o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(r){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=V.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!(Array.isArray(t)?t.find(t=>e[t]):e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-wheelValues(e)[1]/PINCH_WHEEL_RATIO*t.offset[0],0],V.addTo(t._movement,t._delta),clampStateInternalMovementToBounds(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const pinchConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&n)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const i=e=>{const t=assignDefault(call(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{const t=assignDefault(call(n,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof r&&"function"!=typeof n?[i(),o()]:e=>[i(e),o(e)]},threshold(e,t,r){this.lockDirection="lock"===r.axis;return V.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});class MoveEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(pointerValues(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=pointerValues(e),r=this.state;r._delta=V.sub(t,r._values),V.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const moveConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(e=!0)=>e});class ScrollEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=scrollValues(e);t._delta=V.sub(r,t._values),V.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const scrollConfigResolver=coordinatesConfigResolver;class WheelEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=wheelValues(e),V.addTo(t._movement,t._delta),clampStateInternalMovementToBounds(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const wheelConfigResolver=coordinatesConfigResolver;class HoverEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(pointerValues(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;const t=this.state;if(!t._active)return;t._active=!1;const r=pointerValues(e);t._movement=t._delta=V.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const hoverConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(e=!0)=>e}),EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(e){EngineMap.set(e.key,e.engine),ConfigResolverMap.set(e.key,e.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver},hoverAction={key:"hover",engine:HoverEngine,resolver:hoverConfigResolver},moveAction={key:"move",engine:MoveEngine,resolver:moveConfigResolver},pinchAction={key:"pinch",engine:PinchEngine,resolver:pinchConfigResolver},scrollAction={key:"scroll",engine:ScrollEngine,resolver:scrollConfigResolver},wheelAction={key:"wheel",engine:WheelEngine,resolver:wheelConfigResolver};function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const sharedConfigResolver={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(SUPPORT.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},_excluded=["target","eventOptions","window","enabled","transform"];function resolveWith(e={},t){const r={};for(const[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=resolveWith(e[n],i);break;case"boolean":i&&(r[n]=e[n])}return r}function parse(e,t,r={}){const n=e,{target:i,eventOptions:o,window:a,enabled:s,transform:l}=n,c=_objectWithoutProperties(n,_excluded);if(r.shared=resolveWith({target:i,eventOptions:o,window:a,enabled:s,transform:l},sharedConfigResolver),t){const e=ConfigResolverMap.get(t);r[t]=resolveWith(_objectSpread2({shared:r.shared},c),e)}else for(const u in c){const e=ConfigResolverMap.get(u);e&&(r[u]=resolveWith(_objectSpread2({shared:r.shared},c[u]),e))}return r}class EventStore{constructor(e,t){_defineProperty(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,n,i){const o=this._listeners,a=toDomEventType(t,r),s=_objectSpread2(_objectSpread2({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,n,s);const l=()=>{e.removeEventListener(a,n,s),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty(this,"_timeouts",new Map)}add(e,t,r=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...n))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class Controller{constructor(e){_defineProperty(this,"gestures",new Set),_defineProperty(this,"_targetEventStore",new EventStore(this)),_defineProperty(this,"gestureEventStores",{}),_defineProperty(this,"gestureTimeoutStores",{}),_defineProperty(this,"handlers",{}),_defineProperty(this,"config",{}),_defineProperty(this,"pointerIds",new Set),_defineProperty(this,"touchIds",new Set),_defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,e)}setEventIds(e){return isTouch(e)?(this.touchIds=new Set(touchIds(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=parse(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let n;if(!t.target||(n=t.target(),n)){if(t.enabled){for(const t of this.gestures){const i=this.config[t],o=bindToProps(r,i.eventOptions,!!n);if(i.enabled){new(EngineMap.get(t))(this,e,t).bind(o)}}const i=bindToProps(r,t.eventOptions,!!n);for(const t in this.nativeHandlers)i(t,"",r=>this.nativeHandlers[t](_objectSpread2(_objectSpread2({},this.state.shared),{},{event:r,args:e})),void 0,!0)}for(const e in r)r[e]=chain(...r[e]);if(!n)return r;for(const e in r){const{device:t,capture:i,passive:o}=parseProp(e);this._targetEventStore.add(n,t,"",r[e],{capture:i,passive:o})}}}}function setupGesture(e,t){e.gestures.add(t),e.gestureEventStores[t]=new EventStore(e,t),e.gestureTimeoutStores[t]=new TimeoutStore}function resolveGestures(e,t){t.drag&&setupGesture(e,"drag"),t.wheel&&setupGesture(e,"wheel"),t.scroll&&setupGesture(e,"scroll"),t.move&&setupGesture(e,"move"),t.pinch&&setupGesture(e,"pinch"),t.hover&&setupGesture(e,"hover")}const bindToProps=(e,t,r)=>(n,i,o,a={},s=!1)=>{var l,c;const u=null!==(l=a.capture)&&void 0!==l?l:t.capture,d=null!==(c=a.passive)&&void 0!==c?c:t.passive;let h=s?n:toHandlerProp(n,i,u);r&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)},RE_NOT_NATIVE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sortHandlers(e){const t={},r={},n=new Set;for(let i in e)RE_NOT_NATIVE.test(i)?(n.add(RegExp.lastMatch),r[i]=e[i]):t[i]=e[i];return[r,t,n]}function registerGesture(e,t,r,n,i,o){if(!e.has(r))return;if(!EngineMap.has(n))return;const a=r+"Start",s=r+"End";i[n]=e=>{let n;return e.first&&a in t&&t[a](e),r in t&&(n=t[r](e)),e.last&&s in t&&t[s](e),n},o[n]=o[n]||{}}function parseMergedHandlers(e,t){const[r,n,i]=sortHandlers(e),o={};return registerGesture(i,r,"onDrag","drag",o,t),registerGesture(i,r,"onWheel","wheel",o,t),registerGesture(i,r,"onScroll","scroll",o,t),registerGesture(i,r,"onPinch","pinch",o,t),registerGesture(i,r,"onMove","move",o,t),registerGesture(i,r,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:n}}function useRecognizers(e,t={},r,n){const i=React.useMemo(()=>new Controller(e),[]);if(i.applyHandlers(e,n),i.applyConfig(t,r),React.useEffect(i.effect.bind(i)),React.useEffect(()=>i.clean.bind(i),[]),void 0===t.target)return i.bind.bind(i)}function useDrag(e,t){return registerAction(dragAction),useRecognizers({drag:e},t||{},"drag")}function createUseGesture(e){return e.forEach(registerAction),function(e,t){const{handlers:r,nativeHandlers:n,config:i}=parseMergedHandlers(e,t||{});return useRecognizers(r,i,void 0,n)}}function useGesture(e,t){return createUseGesture([dragAction,pinchAction,scrollAction,wheelAction,moveAction,hoverAction])(e,t||{})}class SourceLocation{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new SourceLocation(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class Token{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Token(t,SourceLocation.range(this,e))}}class ParseError{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r,n,i="KaTeX parse error: "+e,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;r=o.start,n=o.end,r===a.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var s=a.slice(r,n).replace(/[^]/g,"$&");i+=(r>15?""+a.slice(r-15,r):a.slice(0,r))+s+(n+15<a.length?a.slice(n,n+15)+"":a.slice(n))}var l=new Error(i);return l.name="ParseError",l.__proto__=ParseError.prototype,l.position=r,null!=r&&null!=n&&(l.length=n-r),l.rawMessage=e,l}}ParseError.prototype.__proto__=Error.prototype;var deflt=function(e,t){return void 0===e?t:e},uppercase=/([A-Z])/g,hyphenate=function(e){return e.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(e){return String(e).replace(ESCAPE_REGEX,e=>ESCAPE_LOOKUP[e])}var getBaseElem=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},isCharacterBox=function(e){var t=getBaseElem(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},assert=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},protocolFromUrl=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"},utils={deflt:deflt,escape:escape,hyphenate:hyphenate,getBaseElem:getBaseElem,isCharacterBox:isCharacterBox,protocolFromUrl:protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if("string"!=typeof r)return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(t)){var r=SETTINGS_SCHEMA[t];this[t]=void 0!==e[t]?r.processor?r.processor(e[t]):e[t]:getDefaultValue(r)}}reportNonstrict(e,t,r){var n=this.strict;if("function"==typeof n&&(n=n(e,t,r)),n&&"ignore"!==n&&(!0===n||"error"===n))throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r)}useStrictBehavior(e,t,r){var n=this.strict;if("function"==typeof n)try{n=n(e,t,r)}catch(i){n="error"}return!(!n||"ignore"===n)&&(!0===n||"error"===n)}isTrusted(e){if(e.url&&!e.protocol){var t=utils.protocolFromUrl(e.url);if(null==t)return!1;e.protocol=t}var r="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(r)}}class Style{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return styles$3[sup[this.id]]}sub(){return styles$3[sub[this.id]]}fracNum(){return styles$3[fracNum[this.id]]}fracDen(){return styles$3[fracDen[this.id]]}cramp(){return styles$3[cramp[this.id]]}text(){return styles$3[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles$3=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles$3[D],TEXT:styles$3[T],SCRIPT:styles$3[S],SCRIPTSCRIPT:styles$3[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var t=0;t<scriptData.length;t++)for(var r=scriptData[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}var allBlocks=[];function supportedCodepoint(e){for(var t=0;t<allBlocks.length;t+=2)if(e>=allBlocks[t]&&e<=allBlocks[t+1])return!0;return!1}scriptData.forEach(e=>e.blocks.forEach(e=>allBlocks.push(...e)));var hLinePad=80,sqrtMain=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize1=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize2=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize3=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"},sqrtSize4=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},phasePath=function(e){return"M400000 "+e+" H0 L"+e/2+" 0 l65 45 L145 "+(e-80)+" H400000z"},sqrtTall=function(e,t,r){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(r-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"},sqrtPath=function(e,t,r){t*=1e3;var n="";switch(e){case"sqrtMain":n=sqrtMain(t,hLinePad);break;case"sqrtSize1":n=sqrtSize1(t,hLinePad);break;case"sqrtSize2":n=sqrtSize2(t,hLinePad);break;case"sqrtSize3":n=sqrtSize3(t,hLinePad);break;case"sqrtSize4":n=sqrtSize4(t,hLinePad);break;case"sqrtTall":n=sqrtTall(t,hLinePad,r)}return n},innerPath=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}},path={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},tallDelim=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={"":"A","":"D","":"o","":"a","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function setFontMetrics(e,t){fontMetricsData[e]=t}function getCharacterMetrics(e,t,r){if(!fontMetricsData[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=fontMetricsData[t][n];if(!i&&e[0]in extraCharacterMap&&(n=extraCharacterMap[e[0]].charCodeAt(0),i=fontMetricsData[t][n]),i||"text"!==r||supportedCodepoint(n)&&(i=fontMetricsData[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var t;if(!fontMetricsBySizeIndex[t=e>=5?0:e>=3?1:2]){var r=fontMetricsBySizeIndex[t]={cssEmPerMu:sigmasAndXis.quad[t]/18};for(var n in sigmasAndXis)sigmasAndXis.hasOwnProperty(n)&&(r[n]=sigmasAndXis[n][t])}return fontMetricsBySizeIndex[t]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(e,t){return t.size<2?e:sizeStyleMap[e-1][t.size-1]};class Options{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Options.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new Options(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:sizeAtStyle(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:sizeMultipliers[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=sizeAtStyle(Options.BASESIZE,e);return this.size===t&&this.textSize===Options.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(e){return"string"!=typeof e&&(e=e.unit),e in ptPerUnit||e in relativeUnit||"ex"===e},calculateSize=function(e,t){var r;if(e.unit in ptPerUnit)r=ptPerUnit[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=n.fontMetrics().xHeight;else{if("em"!==e.unit)throw new ParseError("Invalid unit: '"+e.unit+"'");r=n.fontMetrics().quad}n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},makeEm=function(e){return+e.toFixed(4)+"em"},createClass=function(e){return e.filter(e=>e).join(" ")},initNode=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},toNode=function(e){var t=document.createElement(e);for(var r in t.className=createClass(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+utils.escape(createClass(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=utils.hyphenate(n)+":"+this.style[n]+";");for(var i in r&&(t+=' style="'+utils.escape(r)+'"'),this.attributes)if(this.attributes.hasOwnProperty(i)){if(invalidAttributeNameRegex.test(i))throw new ParseError("Invalid attribute name '"+i+"'");t+=" "+i+'="'+utils.escape(this.attributes[i])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"};class Span{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,e,r,n),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+utils.escape(this.src)+'" alt="'+utils.escape(this.alt)+'"',t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=utils.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+utils.escape(t)+'"'),e+="'/>"}}var iCombinations={"":"","":"","":"","":""};class SymbolNode{constructor(e,t,r,n,i,o,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=scriptFromCodepoint(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var r in this.italic>0&&((t=document.createElement("span")).style.marginRight=makeEm(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=createClass(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=utils.escape(createClass(this.classes)),t+='"');var r="";for(var n in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(r+=utils.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+utils.escape(r)+'"');var i=utils.escape(this.text);return e?(t+=">",t+=i,t+="</span>"):i}}class SvgNode{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+utils.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"}}class PathNode{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",path[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+utils.escape(this.attributes[t])+'"');return e+="/>"}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,t,r,n,i,o){symbols[e][i]={font:t,group:r,replace:n},o&&n&&(symbols[e][n]=symbols[e][i])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0),defineSymbol(math,main,rel,"","\\prec",!0),defineSymbol(math,main,rel,"","\\succ",!0),defineSymbol(math,main,rel,"","\\sim",!0),defineSymbol(math,main,rel,"","\\perp"),defineSymbol(math,main,rel,"","\\preceq",!0),defineSymbol(math,main,rel,"","\\succeq",!0),defineSymbol(math,main,rel,"","\\simeq",!0),defineSymbol(math,main,rel,"","\\mid",!0),defineSymbol(math,main,rel,"","\\ll",!0),defineSymbol(math,main,rel,"","\\gg",!0),defineSymbol(math,main,rel,"","\\asymp",!0),defineSymbol(math,main,rel,"","\\parallel"),defineSymbol(math,main,rel,"","\\bowtie",!0),defineSymbol(math,main,rel,"","\\smile",!0),defineSymbol(math,main,rel,"","\\sqsubseteq",!0),defineSymbol(math,main,rel,"","\\sqsupseteq",!0),defineSymbol(math,main,rel,"","\\doteq",!0),defineSymbol(math,main,rel,"","\\frown",!0),defineSymbol(math,main,rel,"","\\ni",!0),defineSymbol(math,main,rel,"","\\propto",!0),defineSymbol(math,main,rel,"","\\vdash",!0),defineSymbol(math,main,rel,"","\\dashv",!0),defineSymbol(math,main,rel,"","\\owns"),defineSymbol(math,main,punct,".","\\ldotp"),defineSymbol(math,main,punct,"","\\cdotp"),defineSymbol(math,main,textord,"#","\\#"),defineSymbol(text,main,textord,"#","\\#"),defineSymbol(math,main,textord,"&","\\&"),defineSymbol(text,main,textord,"&","\\&"),defineSymbol(math,main,textord,"","\\aleph",!0),defineSymbol(math,main,textord,"","\\forall",!0),defineSymbol(math,main,textord,"","\\hbar",!0),defineSymbol(math,main,textord,"","\\exists",!0),defineSymbol(math,main,textord,"","\\nabla",!0),defineSymbol(math,main,textord,"","\\flat",!0),defineSymbol(math,main,textord,"","\\ell",!0),defineSymbol(math,main,textord,"","\\natural",!0),defineSymbol(math,main,textord,"","\\clubsuit",!0),defineSymbol(math,main,textord,"","\\wp",!0),defineSymbol(math,main,textord,"","\\sharp",!0),defineSymbol(math,main,textord,"","\\diamondsuit",!0),defineSymbol(math,main,textord,"","\\Re",!0),defineSymbol(math,main,textord,"","\\heartsuit",!0),defineSymbol(math,main,textord,"","\\Im",!0),defineSymbol(math,main,textord,"","\\spadesuit",!0),defineSymbol(math,main,textord,"","\\S",!0),defineSymbol(text,main,textord,"","\\S"),defineSymbol(math,main,textord,"","\\P",!0),defineSymbol(text,main,textord,"","\\P"),defineSymbol(math,main,textord,"","\\dag"),defineSymbol(text,main,textord,"","\\dag"),defineSymbol(text,main,textord,"","\\textdagger"),defineSymbol(math,main,textord,"","\\ddag"),defineSymbol(text,main,textord,"","\\ddag"),defineSymbol(text,main,textord,"","\\textdaggerdbl"),defineSymbol(math,main,close,"","\\rmoustache",!0),defineSymbol(math,main,open,"","\\lmoustache",!0),defineSymbol(math,main,close,"","\\rgroup",!0),defineSymbol(math,main,open,"","\\lgroup",!0),defineSymbol(math,main,bin,"","\\mp",!0),defineSymbol(math,main,bin,"","\\ominus",!0),defineSymbol(math,main,bin,"","\\uplus",!0),defineSymbol(math,main,bin,"","\\sqcap",!0),defineSymbol(math,main,bin,"","\\ast"),defineSymbol(math,main,bin,"","\\sqcup",!0),defineSymbol(math,main,bin,"","\\bigcirc",!0),defineSymbol(math,main,bin,"","\\bullet",!0),defineSymbol(math,main,bin,"","\\ddagger"),defineSymbol(math,main,bin,"","\\wr",!0),defineSymbol(math,main,bin,"","\\amalg"),defineSymbol(math,main,bin,"&","\\And"),defineSymbol(math,main,rel,"","\\longleftarrow",!0),defineSymbol(math,main,rel,"","\\Leftarrow",!0),defineSymbol(math,main,rel,"","\\Longleftarrow",!0),defineSymbol(math,main,rel,"","\\longrightarrow",!0),defineSymbol(math,main,rel,"","\\Rightarrow",!0),defineSymbol(math,main,rel,"","\\Longrightarrow",!0),defineSymbol(math,main,rel,"","\\leftrightarrow",!0),defineSymbol(math,main,rel,"","\\longleftrightarrow",!0),defineSymbol(math,main,rel,"","\\Leftrightarrow",!0),defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0),defineSymbol(math,main,rel,"","\\mapsto",!0),defineSymbol(math,main,rel,"","\\longmapsto",!0),defineSymbol(math,main,rel,"","\\nearrow",!0),defineSymbol(math,main,rel,"","\\hookleftarrow",!0),defineSymbol(math,main,rel,"","\\hookrightarrow",!0),defineSymbol(math,main,rel,"","\\searrow",!0),defineSymbol(math,main,rel,"","\\leftharpoonup",!0),defineSymbol(math,main,rel,"","\\rightharpoonup",!0),defineSymbol(math,main,rel,"","\\swarrow",!0),defineSymbol(math,main,rel,"","\\leftharpoondown",!0),defineSymbol(math,main,rel,"","\\rightharpoondown",!0),defineSymbol(math,main,rel,"","\\nwarrow",!0),defineSymbol(math,main,rel,"","\\rightleftharpoons",!0),defineSymbol(math,ams,rel,"","\\nless",!0),defineSymbol(math,ams,rel,"","\\@nleqslant"),defineSymbol(math,ams,rel,"","\\@nleqq"),defineSymbol(math,ams,rel,"","\\lneq",!0),defineSymbol(math,ams,rel,"","\\lneqq",!0),defineSymbol(math,ams,rel,"","\\@lvertneqq"),defineSymbol(math,ams,rel,"","\\lnsim",!0),defineSymbol(math,ams,rel,"","\\lnapprox",!0),defineSymbol(math,ams,rel,"","\\nprec",!0),defineSymbol(math,ams,rel,"","\\npreceq",!0),defineSymbol(math,ams,rel,"","\\precnsim",!0),defineSymbol(math,ams,rel,"","\\precnapprox",!0),defineSymbol(math,ams,rel,"","\\nsim",!0),defineSymbol(math,ams,rel,"","\\@nshortmid"),defineSymbol(math,ams,rel,"","\\nmid",!0),defineSymbol(math,ams,rel,"","\\nvdash",!0),defineSymbol(math,ams,rel,"","\\nvDash",!0),defineSymbol(math,ams,rel,"","\\ntriangleleft"),defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0),defineSymbol(math,ams,rel,"","\\subsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneq"),defineSymbol(math,ams,rel,"","\\subsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneqq"),defineSymbol(math,ams,rel,"","\\ngtr",!0),defineSymbol(math,ams,rel,"","\\@ngeqslant"),defineSymbol(math,ams,rel,"","\\@ngeqq"),defineSymbol(math,ams,rel,"","\\gneq",!0),defineSymbol(math,ams,rel,"","\\gneqq",!0),defineSymbol(math,ams,rel,"","\\@gvertneqq"),defineSymbol(math,ams,rel,"","\\gnsim",!0),defineSymbol(math,ams,rel,"","\\gnapprox",!0),defineSymbol(math,ams,rel,"","\\nsucc",!0),defineSymbol(math,ams,rel,"","\\nsucceq",!0),defineSymbol(math,ams,rel,"","\\succnsim",!0),defineSymbol(math,ams,rel,"","\\succnapprox",!0),defineSymbol(math,ams,rel,"","\\ncong",!0),defineSymbol(math,ams,rel,"","\\@nshortparallel"),defineSymbol(math,ams,rel,"","\\nparallel",!0),defineSymbol(math,ams,rel,"","\\nVDash",!0),defineSymbol(math,ams,rel,"","\\ntriangleright"),defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0),defineSymbol(math,ams,rel,"","\\@nsupseteqq"),defineSymbol(math,ams,rel,"","\\supsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneq"),defineSymbol(math,ams,rel,"","\\supsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneqq"),defineSymbol(math,ams,rel,"","\\nVdash",!0),defineSymbol(math,ams,rel,"","\\precneqq",!0),defineSymbol(math,ams,rel,"","\\succneqq",!0),defineSymbol(math,ams,rel,"","\\@nsubseteqq"),defineSymbol(math,ams,bin,"","\\unlhd"),defineSymbol(math,ams,bin,"","\\unrhd"),defineSymbol(math,ams,rel,"","\\nleftarrow",!0),defineSymbol(math,ams,rel,"","\\nrightarrow",!0),defineSymbol(math,ams,rel,"","\\nLeftarrow",!0),defineSymbol(math,ams,rel,"","\\nRightarrow",!0),defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0),defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0),defineSymbol(math,ams,rel,"","\\vartriangle"),defineSymbol(math,ams,textord,"","\\hslash"),defineSymbol(math,ams,textord,"","\\triangledown"),defineSymbol(math,ams,textord,"","\\lozenge"),defineSymbol(math,ams,textord,"","\\circledS"),defineSymbol(math,ams,textord,"","\\circledR"),defineSymbol(text,ams,textord,"","\\circledR"),defineSymbol(math,ams,textord,"","\\measuredangle",!0),defineSymbol(math,ams,textord,"","\\nexists"),defineSymbol(math,ams,textord,"","\\mho"),defineSymbol(math,ams,textord,"","\\Finv",!0),defineSymbol(math,ams,textord,"","\\Game",!0),defineSymbol(math,ams,textord,"","\\backprime"),defineSymbol(math,ams,textord,"","\\blacktriangle"),defineSymbol(math,ams,textord,"","\\blacktriangledown"),defineSymbol(math,ams,textord,"","\\blacksquare"),defineSymbol(math,ams,textord,"","\\blacklozenge"),defineSymbol(math,ams,textord,"","\\bigstar"),defineSymbol(math,ams,textord,"","\\sphericalangle",!0),defineSymbol(math,ams,textord,"","\\complement",!0),defineSymbol(math,ams,textord,"","\\eth",!0),defineSymbol(text,main,textord,"",""),defineSymbol(math,ams,textord,"","\\diagup"),defineSymbol(math,ams,textord,"","\\diagdown"),defineSymbol(math,ams,textord,"","\\square"),defineSymbol(math,ams,textord,"","\\Box"),defineSymbol(math,ams,textord,"","\\Diamond"),defineSymbol(math,ams,textord,"","\\yen",!0),defineSymbol(text,ams,textord,"","\\yen",!0),defineSymbol(math,ams,textord,"","\\checkmark",!0),defineSymbol(text,ams,textord,"","\\checkmark"),defineSymbol(math,ams,textord,"","\\beth",!0),defineSymbol(math,ams,textord,"","\\daleth",!0),defineSymbol(math,ams,textord,"","\\gimel",!0),defineSymbol(math,ams,textord,"","\\digamma",!0),defineSymbol(math,ams,textord,"","\\varkappa"),defineSymbol(math,ams,open,"","\\@ulcorner",!0),defineSymbol(math,ams,close,"","\\@urcorner",!0),defineSymbol(math,ams,open,"","\\@llcorner",!0),defineSymbol(math,ams,close,"","\\@lrcorner",!0),defineSymbol(math,ams,rel,"","\\leqq",!0),defineSymbol(math,ams,rel,"","\\leqslant",!0),defineSymbol(math,ams,rel,"","\\eqslantless",!0),defineSymbol(math,ams,rel,"","\\lesssim",!0),defineSymbol(math,ams,rel,"","\\lessapprox",!0),defineSymbol(math,ams,rel,"","\\approxeq",!0),defineSymbol(math,ams,bin,"","\\lessdot"),defineSymbol(math,ams,rel,"","\\lll",!0),defineSymbol(math,ams,rel,"","\\lessgtr",!0),defineSymbol(math,ams,rel,"","\\lesseqgtr",!0),defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0),defineSymbol(math,ams,rel,"","\\doteqdot"),defineSymbol(math,ams,rel,"","\\risingdotseq",!0),defineSymbol(math,ams,rel,"","\\fallingdotseq",!0),defineSymbol(math,ams,rel,"","\\backsim",!0),defineSymbol(math,ams,rel,"","\\backsimeq",!0),defineSymbol(math,ams,rel,"","\\subseteqq",!0),defineSymbol(math,ams,rel,"","\\Subset",!0),defineSymbol(math,ams,rel,"","\\sqsubset",!0),defineSymbol(math,ams,rel,"","\\preccurlyeq",!0),defineSymbol(math,ams,rel,"","\\curlyeqprec",!0),defineSymbol(math,ams,rel,"","\\precsim",!0),defineSymbol(math,ams,rel,"","\\precapprox",!0),defineSymbol(math,ams,rel,"","\\vartriangleleft"),defineSymbol(math,ams,rel,"","\\trianglelefteq"),defineSymbol(math,ams,rel,"","\\vDash",!0),defineSymbol(math,ams,rel,"","\\Vvdash",!0),defineSymbol(math,ams,rel,"","\\smallsmile"),defineSymbol(math,ams,rel,"","\\smallfrown"),defineSymbol(math,ams,rel,"","\\bumpeq",!0),defineSymbol(math,ams,rel,"","\\Bumpeq",!0),defineSymbol(math,ams,rel,"","\\geqq",!0),defineSymbol(math,ams,rel,"","\\geqslant",!0),defineSymbol(math,ams,rel,"","\\eqslantgtr",!0),defineSymbol(math,ams,rel,"","\\gtrsim",!0),defineSymbol(math,ams,rel,"","\\gtrapprox",!0),defineSymbol(math,ams,bin,"","\\gtrdot"),defineSymbol(math,ams,rel,"","\\ggg",!0),defineSymbol(math,ams,rel,"","\\gtrless",!0),defineSymbol(math,ams,rel,"","\\gtreqless",!0),defineSymbol(math,ams,rel,"","\\gtreqqless",!0),defineSymbol(math,ams,rel,"","\\eqcirc",!0),defineSymbol(math,ams,rel,"","\\circeq",!0),defineSymbol(math,ams,rel,"","\\triangleq",!0),defineSymbol(math,ams,rel,"","\\thicksim"),defineSymbol(math,ams,rel,"","\\thickapprox"),defineSymbol(math,ams,rel,"","\\supseteqq",!0),defineSymbol(math,ams,rel,"","\\Supset",!0),defineSymbol(math,ams,rel,"","\\sqsupset",!0),defineSymbol(math,ams,rel,"","\\succcurlyeq",!0),defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0),defineSymbol(math,ams,rel,"","\\succsim",!0),defineSymbol(math,ams,rel,"","\\succapprox",!0),defineSymbol(math,ams,rel,"","\\vartriangleright"),defineSymbol(math,ams,rel,"","\\trianglerighteq"),defineSymbol(math,ams,rel,"","\\Vdash",!0),defineSymbol(math,ams,rel,"","\\shortmid"),defineSymbol(math,ams,rel,"","\\shortparallel"),defineSymbol(math,ams,rel,"","\\between",!0),defineSymbol(math,ams,rel,"","\\pitchfork",!0),defineSymbol(math,ams,rel,"","\\varpropto"),defineSymbol(math,ams,rel,"","\\blacktriangleleft"),defineSymbol(math,ams,rel,"","\\therefore",!0),defineSymbol(math,ams,rel,"","\\backepsilon"),defineSymbol(math,ams,rel,"","\\blacktriangleright"),defineSymbol(math,ams,rel,"","\\because",!0),defineSymbol(math,ams,rel,"","\\llless"),defineSymbol(math,ams,rel,"","\\gggtr"),defineSymbol(math,ams,bin,"","\\lhd"),defineSymbol(math,ams,bin,"","\\rhd"),defineSymbol(math,ams,rel,"","\\eqsim",!0),defineSymbol(math,main,rel,"","\\Join"),defineSymbol(math,ams,rel,"","\\Doteq",!0),defineSymbol(math,ams,bin,"","\\dotplus",!0),defineSymbol(math,ams,bin,"","\\smallsetminus"),defineSymbol(math,ams,bin,"","\\Cap",!0),defineSymbol(math,ams,bin,"","\\Cup",!0),defineSymbol(math,ams,bin,"","\\doublebarwedge",!0),defineSymbol(math,ams,bin,"","\\boxminus",!0),defineSymbol(math,ams,bin,"","\\boxplus",!0),defineSymbol(math,ams,bin,"","\\divideontimes",!0),defineSymbol(math,ams,bin,"","\\ltimes",!0),defineSymbol(math,ams,bin,"","\\rtimes",!0),defineSymbol(math,ams,bin,"","\\leftthreetimes",!0),defineSymbol(math,ams,bin,"","\\rightthreetimes",!0),defineSymbol(math,ams,bin,"","\\curlywedge",!0),defineSymbol(math,ams,bin,"","\\curlyvee",!0),defineSymbol(math,ams,bin,"","\\circleddash",!0),defineSymbol(math,ams,bin,"","\\circledast",!0),defineSymbol(math,ams,bin,"","\\centerdot"),defineSymbol(math,ams,bin,"","\\intercal",!0),defineSymbol(math,ams,bin,"","\\doublecap"),defineSymbol(math,ams,bin,"","\\doublecup"),defineSymbol(math,ams,bin,"","\\boxtimes",!0),defineSymbol(math,ams,rel,"","\\dashrightarrow",!0),defineSymbol(math,ams,rel,"","\\dashleftarrow",!0),defineSymbol(math,ams,rel,"","\\leftleftarrows",!0),defineSymbol(math,ams,rel,"","\\leftrightarrows",!0),defineSymbol(math,ams,rel,"","\\Lleftarrow",!0),defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0),defineSymbol(math,ams,rel,"","\\leftarrowtail",!0),defineSymbol(math,ams,rel,"","\\looparrowleft",!0),defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0),defineSymbol(math,ams,rel,"","\\curvearrowleft",!0),defineSymbol(math,ams,rel,"","\\circlearrowleft",!0),defineSymbol(math,ams,rel,"","\\Lsh",!0),defineSymbol(math,ams,rel,"","\\upuparrows",!0),defineSymbol(math,ams,rel,"","\\upharpoonleft",!0),defineSymbol(math,ams,rel,"","\\downharpoonleft",!0),defineSymbol(math,main,rel,"","\\origof",!0),defineSymbol(math,main,rel,"","\\imageof",!0),defineSymbol(math,ams,rel,"","\\multimap",!0),defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0),defineSymbol(math,ams,rel,"","\\rightrightarrows",!0),defineSymbol(math,ams,rel,"","\\rightleftarrows",!0),defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0),defineSymbol(math,ams,rel,"","\\rightarrowtail",!0),defineSymbol(math,ams,rel,"","\\looparrowright",!0),defineSymbol(math,ams,rel,"","\\curvearrowright",!0),defineSymbol(math,ams,rel,"","\\circlearrowright",!0),defineSymbol(math,ams,rel,"","\\Rsh",!0),defineSymbol(math,ams,rel,"","\\downdownarrows",!0),defineSymbol(math,ams,rel,"","\\upharpoonright",!0),defineSymbol(math,ams,rel,"","\\downharpoonright",!0),defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0),defineSymbol(math,ams,rel,"","\\leadsto"),defineSymbol(math,ams,rel,"","\\Rrightarrow",!0),defineSymbol(math,ams,rel,"","\\restriction"),defineSymbol(math,main,textord,"","`"),defineSymbol(math,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\textdollar"),defineSymbol(math,main,textord,"%","\\%"),defineSymbol(text,main,textord,"%","\\%"),defineSymbol(math,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\textunderscore"),defineSymbol(math,main,textord,"","\\angle",!0),defineSymbol(math,main,textord,"","\\infty",!0),defineSymbol(math,main,textord,"","\\prime"),defineSymbol(math,main,textord,"","\\triangle"),defineSymbol(math,main,textord,"","\\Gamma",!0),defineSymbol(math,main,textord,"","\\Delta",!0),defineSymbol(math,main,textord,"","\\Theta",!0),defineSymbol(math,main,textord,"","\\Lambda",!0),defineSymbol(math,main,textord,"","\\Xi",!0),defineSymbol(math,main,textord,"","\\Pi",!0),defineSymbol(math,main,textord,"","\\Sigma",!0),defineSymbol(math,main,textord,"","\\Upsilon",!0),defineSymbol(math,main,textord,"","\\Phi",!0),defineSymbol(math,main,textord,"","\\Psi",!0),defineSymbol(math,main,textord,"","\\Omega",!0),defineSymbol(math,main,textord,"A",""),defineSymbol(math,main,textord,"B",""),defineSymbol(math,main,textord,"E",""),defineSymbol(math,main,textord,"Z",""),defineSymbol(math,main,textord,"H",""),defineSymbol(math,main,textord,"I",""),defineSymbol(math,main,textord,"K",""),defineSymbol(math,main,textord,"M",""),defineSymbol(math,main,textord,"N",""),defineSymbol(math,main,textord,"O",""),defineSymbol(math,main,textord,"P",""),defineSymbol(math,main,textord,"T",""),defineSymbol(math,main,textord,"X",""),defineSymbol(math,main,textord,"","\\neg",!0),defineSymbol(math,main,textord,"","\\lnot"),defineSymbol(math,main,textord,"","\\top"),defineSymbol(math,main,textord,"","\\bot"),defineSymbol(math,main,textord,"","\\emptyset"),defineSymbol(math,ams,textord,"","\\varnothing"),defineSymbol(math,main,mathord,"","\\alpha",!0),defineSymbol(math,main,mathord,"","\\beta",!0),defineSymbol(math,main,mathord,"","\\gamma",!0),defineSymbol(math,main,mathord,"","\\delta",!0),defineSymbol(math,main,mathord,"","\\epsilon",!0),defineSymbol(math,main,mathord,"","\\zeta",!0),defineSymbol(math,main,mathord,"","\\eta",!0),defineSymbol(math,main,mathord,"","\\theta",!0),defineSymbol(math,main,mathord,"","\\iota",!0),defineSymbol(math,main,mathord,"","\\kappa",!0),defineSymbol(math,main,mathord,"","\\lambda",!0),defineSymbol(math,main,mathord,"","\\mu",!0),defineSymbol(math,main,mathord,"","\\nu",!0),defineSymbol(math,main,mathord,"","\\xi",!0),defineSymbol(math,main,mathord,"","\\omicron",!0),defineSymbol(math,main,mathord,"","\\pi",!0),defineSymbol(math,main,mathord,"","\\rho",!0),defineSymbol(math,main,mathord,"","\\sigma",!0),defineSymbol(math,main,mathord,"","\\tau",!0),defineSymbol(math,main,mathord,"","\\upsilon",!0),defineSymbol(math,main,mathord,"","\\phi",!0),defineSymbol(math,main,mathord,"","\\chi",!0),defineSymbol(math,main,mathord,"","\\psi",!0),defineSymbol(math,main,mathord,"","\\omega",!0),defineSymbol(math,main,mathord,"","\\varepsilon",!0),defineSymbol(math,main,mathord,"","\\vartheta",!0),defineSymbol(math,main,mathord,"","\\varpi",!0),defineSymbol(math,main,mathord,"","\\varrho",!0),defineSymbol(math,main,mathord,"","\\varsigma",!0),defineSymbol(math,main,mathord,"","\\varphi",!0),defineSymbol(math,main,bin,"","*",!0),defineSymbol(math,main,bin,"+","+"),defineSymbol(math,main,bin,"","-",!0),defineSymbol(math,main,bin,"","\\cdot",!0),defineSymbol(math,main,bin,"","\\circ",!0),defineSymbol(math,main,bin,"","\\div",!0),defineSymbol(math,main,bin,"","\\pm",!0),defineSymbol(math,main,bin,"","\\times",!0),defineSymbol(math,main,bin,"","\\cap",!0),defineSymbol(math,main,bin,"","\\cup",!0),defineSymbol(math,main,bin,"","\\setminus",!0),defineSymbol(math,main,bin,"","\\land"),defineSymbol(math,main,bin,"","\\lor"),defineSymbol(math,main,bin,"","\\wedge",!0),defineSymbol(math,main,bin,"","\\vee",!0),defineSymbol(math,main,textord,"","\\surd"),defineSymbol(math,main,open,"","\\langle",!0),defineSymbol(math,main,open,"","\\lvert"),defineSymbol(math,main,open,"","\\lVert"),defineSymbol(math,main,close,"?","?"),defineSymbol(math,main,close,"!","!"),defineSymbol(math,main,close,"","\\rangle",!0),defineSymbol(math,main,close,"","\\rvert"),defineSymbol(math,main,close,"","\\rVert"),defineSymbol(math,main,rel,"=","="),defineSymbol(math,main,rel,":",":"),defineSymbol(math,main,rel,"","\\approx",!0),defineSymbol(math,main,rel,"","\\cong",!0),defineSymbol(math,main,rel,"","\\ge"),defineSymbol(math,main,rel,"","\\geq",!0),defineSymbol(math,main,rel,"","\\gets"),defineSymbol(math,main,rel,">","\\gt",!0),defineSymbol(math,main,rel,"","\\in",!0),defineSymbol(math,main,rel,"","\\@not"),defineSymbol(math,main,rel,"","\\subset",!0),defineSymbol(math,main,rel,"","\\supset",!0),defineSymbol(math,main,rel,"","\\subseteq",!0),defineSymbol(math,main,rel,"","\\supseteq",!0),defineSymbol(math,ams,rel,"","\\nsubseteq",!0),defineSymbol(math,ams,rel,"","\\nsupseteq",!0),defineSymbol(math,main,rel,"","\\models"),defineSymbol(math,main,rel,"","\\leftarrow",!0),defineSymbol(math,main,rel,"","\\le"),defineSymbol(math,main,rel,"","\\leq",!0),defineSymbol(math,main,rel,"<","\\lt",!0),defineSymbol(math,main,rel,"","\\rightarrow",!0),defineSymbol(math,main,rel,"","\\to"),defineSymbol(math,ams,rel,"","\\ngeq",!0),defineSymbol(math,ams,rel,"","\\nleq",!0),defineSymbol(math,main,spacing,"","\\ "),defineSymbol(math,main,spacing,"","\\space"),defineSymbol(math,main,spacing,"","\\nobreakspace"),defineSymbol(text,main,spacing,"","\\ "),defineSymbol(text,main,spacing,""," "),defineSymbol(text,main,spacing,"","\\space"),defineSymbol(text,main,spacing,"","\\nobreakspace"),defineSymbol(math,main,spacing,null,"\\nobreak"),defineSymbol(math,main,spacing,null,"\\allowbreak"),defineSymbol(math,main,punct,",",","),defineSymbol(math,main,punct,";",";"),defineSymbol(math,ams,bin,"","\\barwedge",!0),defineSymbol(math,ams,bin,"","\\veebar",!0),defineSymbol(math,main,bin,"","\\odot",!0),defineSymbol(math,main,bin,"","\\oplus",!0),defineSymbol(math,main,bin,"","\\otimes",!0),defineSymbol(math,main,textord,"","\\partial",!0),defineSymbol(math,main,bin,"","\\oslash",!0),defineSymbol(math,ams,bin,"","\\circledcirc",!0),defineSymbol(math,ams,bin,"","\\boxdot",!0),defineSymbol(math,main,bin,"","\\bigtriangleup"),defineSymbol(math,main,bin,"","\\bigtriangledown"),defineSymbol(math,main,bin,"","\\dagger"),defineSymbol(math,main,bin,"","\\diamond"),defineSymbol(math,main,bin,"","\\star"),defineSymbol(math,main,bin,"","\\triangleleft"),defineSymbol(math,main,bin,"","\\triangleright"),defineSymbol(math,main,open,"{","\\{"),defineSymbol(text,main,textord,"{","\\{"),defineSymbol(text,main,textord,"{","\\textbraceleft"),defineSymbol(math,main,close,"}","\\}"),defineSymbol(text,main,textord,"}","\\}"),defineSymbol(text,main,textord,"}","\\textbraceright"),defineSymbol(math,main,open,"{","\\lbrace"),defineSymbol(math,main,close,"}","\\rbrace"),defineSymbol(math,main,open,"[","\\lbrack",!0),defineSymbol(text,main,textord,"[","\\lbrack",!0),defineSymbol(math,main,close,"]","\\rbrack",!0),defineSymbol(text,main,textord,"]","\\rbrack",!0),defineSymbol(math,main,open,"(","\\lparen",!0),defineSymbol(math,main,close,")","\\rparen",!0),defineSymbol(text,main,textord,"<","\\textless",!0),defineSymbol(text,main,textord,">","\\textgreater",!0),defineSymbol(math,main,open,"","\\lfloor",!0),defineSymbol(math,main,close,"","\\rfloor",!0),defineSymbol(math,main,open,"","\\lceil",!0),defineSymbol(math,main,close,"","\\rceil",!0),defineSymbol(math,main,textord,"\\","\\backslash"),defineSymbol(math,main,textord,"","|"),defineSymbol(math,main,textord,"","\\vert"),defineSymbol(text,main,textord,"|","\\textbar",!0),defineSymbol(math,main,textord,"","\\|"),defineSymbol(math,main,textord,"","\\Vert"),defineSymbol(text,main,textord,"","\\textbardbl"),defineSymbol(text,main,textord,"~","\\textasciitilde"),defineSymbol(text,main,textord,"\\","\\textbackslash"),defineSymbol(text,main,textord,"^","\\textasciicircum"),defineSymbol(math,main,rel,"","\\uparrow",!0),defineSymbol(math,main,rel,"","\\Uparrow",!0),defineSymbol(math,main,rel,"","\\downarrow",!0),defineSymbol(math,main,rel,"","\\Downarrow",!0),defineSymbol(math,main,rel,"","\\updownarrow",!0),defineSymbol(math,main,rel,"","\\Updownarrow",!0),defineSymbol(math,main,op,"","\\coprod"),defineSymbol(math,main,op,"","\\bigvee"),defineSymbol(math,main,op,"","\\bigwedge"),defineSymbol(math,main,op,"","\\biguplus"),defineSymbol(math,main,op,"","\\bigcap"),defineSymbol(math,main,op,"","\\bigcup"),defineSymbol(math,main,op,"","\\int"),defineSymbol(math,main,op,"","\\intop"),defineSymbol(math,main,op,"","\\iint"),defineSymbol(math,main,op,"","\\iiint"),defineSymbol(math,main,op,"","\\prod"),defineSymbol(math,main,op,"","\\sum"),defineSymbol(math,main,op,"","\\bigotimes"),defineSymbol(math,main,op,"","\\bigoplus"),defineSymbol(math,main,op,"","\\bigodot"),defineSymbol(math,main,op,"","\\oint"),defineSymbol(math,main,op,"","\\oiint"),defineSymbol(math,main,op,"","\\oiiint"),defineSymbol(math,main,op,"","\\bigsqcup"),defineSymbol(math,main,op,"","\\smallint"),defineSymbol(text,main,inner,"","\\textellipsis"),defineSymbol(math,main,inner,"","\\mathellipsis"),defineSymbol(text,main,inner,"","\\ldots",!0),defineSymbol(math,main,inner,"","\\ldots",!0),defineSymbol(math,main,inner,"","\\@cdots",!0),defineSymbol(math,main,inner,"","\\ddots",!0),defineSymbol(math,main,textord,"","\\varvdots"),defineSymbol(text,main,textord,"","\\varvdots"),defineSymbol(math,main,accent,"","\\acute"),defineSymbol(math,main,accent,"","\\grave"),defineSymbol(math,main,accent,"","\\ddot"),defineSymbol(math,main,accent,"~","\\tilde"),defineSymbol(math,main,accent,"","\\bar"),defineSymbol(math,main,accent,"","\\breve"),defineSymbol(math,main,accent,"","\\check"),defineSymbol(math,main,accent,"^","\\hat"),defineSymbol(math,main,accent,"","\\vec"),defineSymbol(math,main,accent,"","\\dot"),defineSymbol(math,main,accent,"","\\mathring"),defineSymbol(math,main,mathord,"","\\@imath"),defineSymbol(math,main,mathord,"","\\@jmath"),defineSymbol(math,main,textord,"",""),defineSymbol(math,main,textord,"",""),defineSymbol(text,main,textord,"","\\i",!0),defineSymbol(text,main,textord,"","\\j",!0),defineSymbol(text,main,textord,"","\\ss",!0),defineSymbol(text,main,textord,"","\\ae",!0),defineSymbol(text,main,textord,"","\\oe",!0),defineSymbol(text,main,textord,"","\\o",!0),defineSymbol(text,main,textord,"","\\AE",!0),defineSymbol(text,main,textord,"","\\OE",!0),defineSymbol(text,main,textord,"","\\O",!0),defineSymbol(text,main,accent,"","\\'"),defineSymbol(text,main,accent,"","\\`"),defineSymbol(text,main,accent,"","\\^"),defineSymbol(text,main,accent,"","\\~"),defineSymbol(text,main,accent,"","\\="),defineSymbol(text,main,accent,"","\\u"),defineSymbol(text,main,accent,"","\\."),defineSymbol(text,main,accent,"","\\c"),defineSymbol(text,main,accent,"","\\r"),defineSymbol(text,main,accent,"","\\v"),defineSymbol(text,main,accent,"",'\\"'),defineSymbol(text,main,accent,"","\\H"),defineSymbol(text,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"","--",!0),defineSymbol(text,main,textord,"","\\textendash"),defineSymbol(text,main,textord,"","---",!0),defineSymbol(text,main,textord,"","\\textemdash"),defineSymbol(text,main,textord,"","`",!0),defineSymbol(text,main,textord,"","\\textquoteleft"),defineSymbol(text,main,textord,"","'",!0),defineSymbol(text,main,textord,"","\\textquoteright"),defineSymbol(text,main,textord,"","``",!0),defineSymbol(text,main,textord,"","\\textquotedblleft"),defineSymbol(text,main,textord,"","''",!0),defineSymbol(text,main,textord,"","\\textquotedblright"),defineSymbol(math,main,textord,"","\\degree",!0),defineSymbol(text,main,textord,"","\\degree"),defineSymbol(text,main,textord,"","\\textdegree",!0),defineSymbol(math,main,textord,"","\\pounds"),defineSymbol(math,main,textord,"","\\mathsterling",!0),defineSymbol(text,main,textord,"","\\pounds"),defineSymbol(text,main,textord,"","\\textsterling",!0),defineSymbol(math,ams,textord,"","\\maltese"),defineSymbol(text,ams,textord,"","\\maltese");for(var mathTextSymbols='0123456789/@."',i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}for(var textSymbols='0123456789!@*()-=+";:?/.,',_i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}for(var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C",""),defineSymbol(text,ams,textord,"C",""),defineSymbol(math,ams,textord,"H",""),defineSymbol(text,ams,textord,"H",""),defineSymbol(math,ams,textord,"N",""),defineSymbol(text,ams,textord,"N",""),defineSymbol(math,ams,textord,"P",""),defineSymbol(text,ams,textord,"P",""),defineSymbol(math,ams,textord,"Q",""),defineSymbol(text,ams,textord,"Q",""),defineSymbol(math,ams,textord,"R",""),defineSymbol(text,ams,textord,"R",""),defineSymbol(math,ams,textord,"Z",""),defineSymbol(text,ams,textord,"Z",""),defineSymbol(math,main,mathord,"h",""),defineSymbol(text,main,mathord,"h","");for(var wideChar="",_i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar=String.fromCharCode(55349,56668),defineSymbol(math,main,mathord,"k",wideChar),defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}for(var extraLatin="",_i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n="math"===t?0:1;if(119808<=r&&r<120484){var i=Math.floor((r-119808)/26);return[wideLatinLetterData[i][2],wideLatinLetterData[i][n]]}if(120782<=r&&r<=120831){var o=Math.floor((r-120782)/10);return[wideNumeralData[o][2],wideNumeralData[o][n]]}if(120485===r||120486===r)return[wideLatinLetterData[0][2],wideLatinLetterData[0][n]];if(120486<r&&r<120782)return["",""];throw new ParseError("Unsupported character: "+e)},lookupSymbol=function(e,t,r){return symbols[r][e]&&symbols[r][e].replace&&(e=symbols[r][e].replace),{value:e,metrics:getCharacterMetrics(e,t,r)}},makeSymbol=function(e,t,r,n,i){var o,a=lookupSymbol(e,t,r),s=a.metrics;if(e=a.value,s){var l=s.italic;("text"===r||n&&"mathit"===n.font)&&(l=0),o=new SymbolNode(e,s.height,s.depth,l,s.skew,s.width,i)}else o=new SymbolNode(e,0,0,0,0,0,i);if(n){o.maxFontSize=n.sizeMultiplier,n.style.isTight()&&o.classes.push("mtight");var c=n.getColor();c&&(o.style.color=c)}return o},mathsym=function(e,t,r,n){return void 0===n&&(n=[]),"boldsymbol"===r.font&&lookupSymbol(e,"Main-Bold",t).metrics?makeSymbol(e,"Main-Bold",t,r,n.concat(["mathbf"])):"\\"===e||"main"===symbols[t][e].font?makeSymbol(e,"Main-Regular",t,r,n):makeSymbol(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},boldsymbol=function(e,t,r,n,i){return"textord"!==i&&lookupSymbol(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(e,t,r){var n=e.mode,i=e.text,o=["mord"],a="math"===n||"text"===n&&t.font,s=a?t.font:t.fontFamily,l="",c="";if(55349===i.charCodeAt(0)&&([l,c]=wideCharacterFont(i,n)),l.length>0)return makeSymbol(i,l,n,t,o.concat(c));if(s){var u,d;if("boldsymbol"===s){var h=boldsymbol(i,n,t,o,r);u=h.fontName,d=[h.fontClass]}else a?(u=fontMap[s].fontName,d=[s]):(u=retrieveTextFontName(s,t.fontWeight,t.fontShape),d=[s,t.fontWeight,t.fontShape]);if(lookupSymbol(i,u,n).metrics)return makeSymbol(i,u,n,t,o.concat(d));if(ligatures.hasOwnProperty(i)&&"Typewriter"===u.slice(0,10)){for(var p=[],f=0;f<i.length;f++)p.push(makeSymbol(i[f],u,n,t,o.concat(d)));return makeFragment(p)}}if("mathord"===r)return makeSymbol(i,"Math-Italic",n,t,o.concat(["mathnormal"]));if("textord"===r){var m=symbols[n][i]&&symbols[n][i].font;if("ams"===m){var g=retrieveTextFontName("amsrm",t.fontWeight,t.fontShape);return makeSymbol(i,g,n,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==m&&m){var y=retrieveTextFontName(m,t.fontWeight,t.fontShape);return makeSymbol(i,y,n,t,o.concat(y,t.fontWeight,t.fontShape))}var b=retrieveTextFontName("textrm",t.fontWeight,t.fontShape);return makeSymbol(i,b,n,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},canCombine=(e,t)=>{if(createClass(e.classes)!==createClass(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var r=e.classes[0];if("mbin"===r||"mord"===r)return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},tryCombineChars=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof SymbolNode&&n instanceof SymbolNode&&canCombine(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},sizeElementFromChildren=function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>n&&(n=o.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},makeSpan$2=function(e,t,r,n){var i=new Span(e,t,r,n);return sizeElementFromChildren(i),i},makeSvgSpan=(e,t,r,n)=>new Span(e,t,r,n),makeLineSpan=function(e,t,r){var n=makeSpan$2([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=makeEm(n.height),n.maxFontSize=1,n},makeAnchor=function(e,t,r,n){var i=new Anchor(e,t,r,n);return sizeElementFromChildren(i),i},makeFragment=function(e){var t=new DocumentFragment$1(e);return sizeElementFromChildren(t),t},wrapFragment=function(e,t){return e instanceof DocumentFragment$1?makeSpan$2([],[e],t):e},getVListChildrenAndDepth=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,o=1;o<t.length;o++){var a=-t[o].shift-i-t[o].elem.depth,s=a-(t[o-1].elem.height+t[o-1].elem.depth);i+=a,r.push({type:"kern",size:s}),r.push(t[o])}return{children:r,depth:n}}var l;if("top"===e.positionType){for(var c=e.positionData,u=0;u<e.children.length;u++){var d=e.children[u];c-="kern"===d.type?d.size:d.elem.height+d.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var h=e.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-h.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-h.elem.depth}}return{children:e.children,depth:l}},makeVList=function(e,t){for(var{children:r,depth:n}=getVListChildrenAndDepth(e),i=0,o=0;o<r.length;o++){var a=r[o];if("elem"===a.type){var s=a.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=makeSpan$2(["pstrut"],[]);l.style.height=makeEm(i);for(var c=[],u=n,d=n,h=n,p=0;p<r.length;p++){var f=r[p];if("kern"===f.type)h+=f.size;else{var m=f.elem,g=f.wrapperClasses||[],y=f.wrapperStyle||{},b=makeSpan$2(g,[l,m],void 0,y);b.style.top=makeEm(-i-h-m.depth),f.marginLeft&&(b.style.marginLeft=f.marginLeft),f.marginRight&&(b.style.marginRight=f.marginRight),c.push(b),h+=m.height+m.depth}u=Math.min(u,h),d=Math.max(d,h)}var v,x=makeSpan$2(["vlist"],c);if(x.style.height=makeEm(d),u<0){var $=makeSpan$2([],[]),S=makeSpan$2(["vlist"],[$]);S.style.height=makeEm(-u);var E=makeSpan$2(["vlist-s"],[new SymbolNode("")]);v=[makeSpan$2(["vlist-r"],[x,E]),makeSpan$2(["vlist-r"],[S])]}else v=[makeSpan$2(["vlist-r"],[x])];var w=makeSpan$2(["vlist-t"],v);return 2===v.length&&w.classes.push("vlist-t2"),w.height=d,w.depth=-u,w},makeGlue=(e,t)=>{var r=makeSpan$2(["mspace"],[],t),n=calculateSize(e,t);return r.style.marginRight=makeEm(n),r},retrieveTextFontName=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(e,t){var[r,n,i]=svgData[e],o=new PathNode(r),a=new SvgNode([o],{width:makeEm(n),height:makeEm(i),style:"width:"+makeEm(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=makeSvgSpan(["overlay"],[a],t);return s.height=i,s.style.height=makeEm(i),s.style.width=makeEm(n),s},buildCommon={fontMap:fontMap,makeSymbol:makeSymbol,mathsym:mathsym,makeSpan:makeSpan$2,makeSvgSpan:makeSvgSpan,makeLineSpan:makeLineSpan,makeAnchor:makeAnchor,makeFragment:makeFragment,wrapFragment:wrapFragment,makeVList:makeVList,makeOrd:makeOrd,makeGlue:makeGlue,staticSvg:staticSvg,svgData:svgData,tryCombineChars:tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)_functions[r[l]]=s;t&&(o&&(_htmlGroupBuilders[t]=o),a&&(_mathmlGroupBuilders[t]=a))}function defineFunctionBuilders(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;defineFunction({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var normalizeArgument=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ordargument=function(e){return"ordgroup"===e.type?e.body:[e]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(e,t,r,n){void 0===n&&(n=[null,null]);for(var i=[],o=0;o<e.length;o++){var a=buildGroup$1(e[o],t);if(a instanceof DocumentFragment$1){var s=a.children;i.push(...s)}else i.push(a)}if(buildCommon.tryCombineChars(i),!r)return i;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(styleMap$1[c.style]))}var u=makeSpan$1([n[0]||"leftmost"],[],t),d=makeSpan$1([n[1]||"rightmost"],[],t),h="root"===r;return traverseNonSpaceNodes(i,(e,t)=>{var r=t.classes[0],n=e.classes[0];"mbin"===r&&binRightCanceller.includes(n)?t.classes[0]="mord":"mbin"===n&&binLeftCanceller.includes(r)&&(e.classes[0]="mord")},{node:u},d,h),traverseNonSpaceNodes(i,(e,t)=>{var r=getTypeOfDomTree(t),n=getTypeOfDomTree(e),i=r&&n?e.hasClass("mtight")?tightSpacings[r][n]:spacings[r][n]:null;if(i)return buildCommon.makeGlue(i,l)},{node:u},d,h),i},traverseNonSpaceNodes=function e(t,r,n,i,o){i&&t.push(i);for(var a=0;a<t.length;a++){var s=t[a],l=checkPartialGroup(s);if(l)e(l.children,r,n,null,o);else{var c=!s.hasClass("mspace");if(c){var u=r(s,n.node);u&&(n.insertAfter?n.insertAfter(u):(t.unshift(u),a++))}c?n.node=s:o&&s.hasClass("newline")&&(n.node=makeSpan$1(["leftmost"])),n.insertAfter=(e=>r=>{t.splice(e+1,0,r),a++})(a)}}i&&t.pop()},checkPartialGroup=function(e){return e instanceof DocumentFragment$1||e instanceof Anchor||e instanceof Span&&e.hasClass("enclosing")?e:null},getOutermostNode=function e(t,r){var n=checkPartialGroup(t);if(n){var i=n.children;if(i.length){if("right"===r)return e(i[i.length-1],"right");if("left"===r)return e(i[0],"left")}}return t},getTypeOfDomTree=function(e,t){return e?(t&&(e=getOutermostNode(e,t)),DomEnum[e.classes[0]]||null):null},makeNullDelimiter=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return makeSpan$1(t.concat(r))},buildGroup$1=function(e,t,r){if(!e)return makeSpan$1();if(_htmlGroupBuilders[e.type]){var n=_htmlGroupBuilders[e.type](e,t);if(r&&t.size!==r.size){n=makeSpan$1(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildHTMLUnbreakable(e,t){var r=makeSpan$1(["base"],e,t),n=makeSpan$1(["strut"]);return n.style.height=makeEm(r.height+r.depth),r.depth&&(n.style.verticalAlign=makeEm(-r.depth)),r.children.unshift(n),r}function buildHTML(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);var n,i=buildExpression$1(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(n=i.pop());for(var o,a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(a.push(buildHTMLUnbreakable(s,t)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(buildHTMLUnbreakable(s,t)),s=[]),a.push(i[l]));s.length>0&&a.push(buildHTMLUnbreakable(s,t)),r?((o=buildHTMLUnbreakable(buildExpression$1(r,t,!0))).classes=["tag"],a.push(o)):n&&a.push(n);var u=makeSpan$1(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),o){var d=o.children[0];d.style.height=makeEm(u.height+u.depth),u.depth&&(d.style.verticalAlign=makeEm(-u.depth))}return u}function newDocumentFragment(e){return new DocumentFragment$1(e)}class MathNode{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=createClass(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof TextNode&&this.children[r+1]instanceof TextNode){for(var n=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof TextNode;)n+=this.children[++r].toText();e.appendChild(new TextNode(n).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=utils.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+utils.escape(createClass(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map(e=>e.toText()).join("")}}class TextNode{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"":e>=.1666&&e<=.1667?"":e>=.2222&&e<=.2223?"":e>=.2777&&e<=.2778?"":e>=-.05556&&e<=-.05555?"":e>=-.1667&&e<=-.1666?"":e>=-.2223&&e<=-.2222?"":e>=-.2778&&e<=-.2777?"":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",makeEm(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode:MathNode,TextNode:TextNode,SpaceNode:SpaceNode,newDocumentFragment:newDocumentFragment},makeText=function(e,t,r){return!symbols[t][e]||!symbols[t][e].replace||55349===e.charCodeAt(0)||ligatures.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.slice(4,6)||r.font&&"tt"===r.font.slice(4,6))||(e=symbols[t][e].replace),new mathMLTree.TextNode(e)},makeRow=function(e){return 1===e.length?e[0]:new mathMLTree.MathNode("mrow",e)},getVariant=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===r)return"bold";if("mathbb"===r)return"double-struck";if("mathsfit"===r)return"sans-serif-italic";if("mathfrak"===r)return"fraktur";if("mathscr"===r||"mathcal"===r)return"script";if("mathsf"===r)return"sans-serif";if("mathtt"===r)return"monospace";var i=e.text;return["\\imath","\\jmath"].includes(i)?null:(symbols[n][i]&&symbols[n][i].replace&&(i=symbols[n][i].replace),getCharacterMetrics(i,buildCommon.fontMap[r].fontName,n)?buildCommon.fontMap[r].variant:null)};function isNumberPunctuation(e){if(!e)return!1;if("mi"===e.type&&1===e.children.length){var t=e.children[0];return t instanceof TextNode&&"."===t.text}if("mo"===e.type&&1===e.children.length&&"true"===e.getAttribute("separator")&&"0em"===e.getAttribute("lspace")&&"0em"===e.getAttribute("rspace")){var r=e.children[0];return r instanceof TextNode&&","===r.text}return!1}var buildExpression=function(e,t,r){if(1===e.length){var n=buildGroup(e[0],t);return r&&n instanceof MathNode&&"mo"===n.type&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i,o=[],a=0;a<e.length;a++){var s=buildGroup(e[a],t);if(s instanceof MathNode&&i instanceof MathNode){if("mtext"===s.type&&"mtext"===i.type&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if("mn"===s.type&&"mn"===i.type){i.children.push(...s.children);continue}if(isNumberPunctuation(s)&&"mn"===i.type){i.children.push(...s.children);continue}if("mn"===s.type&&isNumberPunctuation(i))s.children=[...i.children,...s.children],o.pop();else if(("msup"===s.type||"msub"===s.type)&&s.children.length>=1&&("mn"===i.type||isNumberPunctuation(i))){var l=s.children[0];l instanceof MathNode&&"mn"===l.type&&(l.children=[...i.children,...l.children],o.pop())}else if("mi"===i.type&&1===i.children.length){var c=i.children[0];if(c instanceof TextNode&&""===c.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var u=s.children[0];u instanceof TextNode&&u.text.length>0&&(u.text=u.text.slice(0,1)+""+u.text.slice(1),o.pop())}}}o.push(s),i=s}return o},buildExpressionRow=function(e,t,r){return makeRow(buildExpression(e,t,r))},buildGroup=function(e,t){if(!e)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[e.type])return _mathmlGroupBuilders[e.type](e,t);throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildMathML(e,t,r,n,i){var o,a=buildExpression(e,r);o=1===a.length&&a[0]instanceof MathNode&&["mrow","mtable"].includes(a[0].type)?a[0]:new mathMLTree.MathNode("mrow",a);var s=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new mathMLTree.MathNode("semantics",[o,s]),c=new mathMLTree.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return buildCommon.makeSpan([u],[c])}var optionsFromSettings=function(e){return new Options({style:e.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},displayWrap=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=buildCommon.makeSpan(r,[e])}return e},buildTree=function(e,t,r){var n,i=optionsFromSettings(r);if("mathml"===r.output)return buildMathML(e,t,i,r.displayMode,!0);if("html"===r.output){var o=buildHTML(e,i);n=buildCommon.makeSpan(["katex"],[o])}else{var a=buildMathML(e,t,i,r.displayMode,!1),s=buildHTML(e,i);n=buildCommon.makeSpan(["katex"],[a,s])}return displayWrap(n,r)},buildHTMLTree=function(e,t,r){var n=buildHTML(e,optionsFromSettings(r)),i=buildCommon.makeSpan(["katex"],[n]);return displayWrap(i,r)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function(e){var t=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(e){return"ordgroup"===e.type?e.body.length:1},svgSpan=function(e,t){var{span:r,minWidth:n,height:i}=function(){var r=4e5,n=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(n)){var i,o,a,s=groupLength(e.base);if(s>5)"widehat"===n||"widecheck"===n?(i=420,r=2364,a=.42,o=n+"4"):(i=312,r=2340,a=.34,o="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===n||"widecheck"===n?(r=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],o=n+l):(r=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var c=new PathNode(o),u=new SvgNode([c],{width:"100%",height:makeEm(a),viewBox:"0 0 "+r+" "+i,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[u],t),minWidth:0,height:a}}var d,h,p=[],f=katexImagesData[n],[m,g,y]=f,b=y/1e3,v=m.length;if(1===v)d=["hide-tail"],h=[f[3]];else if(2===v)d=["halfarrow-left","halfarrow-right"],h=["xMinYMin","xMaxYMin"];else{if(3!==v)throw new Error("Correct katexImagesData or update code here to support\n                    "+v+" children.");d=["brace-left","brace-center","brace-right"],h=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<v;x++){var $=new PathNode(m[x]),S=new SvgNode([$],{width:"400em",height:makeEm(b),viewBox:"0 0 "+r+" "+y,preserveAspectRatio:h[x]+" slice"}),E=buildCommon.makeSvgSpan([d[x]],[S],t);if(1===v)return{span:E,minWidth:g,height:b};E.style.height=makeEm(b),p.push(E)}return{span:buildCommon.makeSpan(["stretchy"],p,t),minWidth:g,height:b}}();return r.height=i,r.style.height=makeEm(i),n>0&&(r.style.minWidth=makeEm(n)),r},encloseSpan=function(e,t,r,n,i){var o,a=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(o=buildCommon.makeSpan(["stretchy",t],[],i),"fbox"===t){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new SvgNode(l,{width:"100%",height:makeEm(a)});o=buildCommon.makeSvgSpan([],[c],i)}return o.height=a,o.style.height=makeEm(a),o},stretchy={encloseSpan:encloseSpan,mathMLnode:mathMLnode,svgSpan:svgSpan};function assertNodeType(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var t=checkSymbolNodeType(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function checkSymbolNodeType(e){return e&&("atom"===e.type||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,t)=>{var r,n,i;e&&"supsub"===e.type?(r=(n=assertNodeType(e.base,"accent")).base,e.base=r,i=assertSpan(buildGroup$1(e,t)),e.base=n):r=(n=assertNodeType(e,"accent")).base;var o=buildGroup$1(r,t.havingCrampedStyle()),a=0;if(n.isShifty&&utils.isCharacterBox(r)){var s=utils.getBaseElem(r);a=assertSymbolDomNode(buildGroup$1(s,t.havingCrampedStyle())).skew}var l,c="\\c"===n.label,u=c?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight);if(n.isStretchy)l=stretchy.svgSpan(n,t),l=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+makeEm(2*a)+")",marginLeft:makeEm(2*a)}:void 0}]},t);else{var d,h;"\\vec"===n.label?(d=buildCommon.staticSvg("vec",t),h=buildCommon.svgData.vec[1]):((d=assertSymbolDomNode(d=buildCommon.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,h=d.width,c&&(u+=d.depth)),l=buildCommon.makeSpan(["accent-body"],[d]);var p="\\textcircled"===n.label;p&&(l.classes.push("accent-full"),u=o.height);var f=a;p||(f-=h/2),l.style.left=makeEm(f),"\\textcircled"===n.label&&(l.style.top=".2em"),l=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-u},{type:"elem",elem:l}]},t)}var m=buildCommon.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},mathmlBuilder$9=(e,t)=>{var r=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),n=new mathMLTree.MathNode("mover",[buildGroup(e.base,t),r]);return n.setAttribute("accent","true"),n},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=normalizeArgument(t[0]),n=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),i=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return"math"===n&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(e,t)=>{var r=buildGroup$1(e.base,t),n=stretchy.svgSpan(e,t),i="\\utilde"===e.label?.12:0,o=buildCommon.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return buildCommon.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var r=stretchy.mathMLnode(e.label),n=new mathMLTree.MathNode("munder",[buildGroup(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var paddedNode=e=>{var t=new mathMLTree.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r,n=t.style,i=t.havingStyle(n.sup()),o=buildCommon.wrapFragment(buildGroup$1(e.body,i,t),t),a="\\x"===e.label.slice(0,2)?"x":"cd";o.classes.push(a+"-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),(r=buildCommon.wrapFragment(buildGroup$1(e.below,i,t),t)).classes.push(a+"-arrow-pad"));var s,l=stretchy.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),r){var d=-t.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:r,shift:d}]},t)}else s=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder(e,t){var r,n=stretchy.mathMLnode(e.label);if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=paddedNode(buildGroup(e.body,t));if(e.below){var o=paddedNode(buildGroup(e.below,t));r=new mathMLTree.MathNode("munderover",[n,o,i])}else r=new mathMLTree.MathNode("mover",[n,i])}else if(e.below){var a=paddedNode(buildGroup(e.below,t));r=new mathMLTree.MathNode("munder",[n,a])}else r=paddedNode(),r=new mathMLTree.MathNode("mover",[n,r]);return r}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(e,t){var r=buildExpression$1(e.body,t,!0);return makeSpan([e.mclass],r,t)}function mathmlBuilder$8(e,t){var r,n=buildExpression(e.body,t);return"minner"===e.mclass?r=new mathMLTree.MathNode("mpadded",n):"mord"===e.mclass?e.isCharacterBox?(r=n[0]).type="mi":r=new mathMLTree.MathNode("mi",n):(e.isCharacterBox?(r=n[0]).type="mo":r=new mathMLTree.MathNode("mo",n),"mbin"===e.mclass?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):"mpunct"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0em"):"minner"===e.mclass&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:ordargument(i),isCharacterBox:utils.isCharacterBox(i)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:binrelClass(t[0]),body:ordargument(t[1]),isCharacterBox:utils.isCharacterBox(t[1])}}}),defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var r,{parser:n,funcName:i}=e,o=t[1],a=t[0];r="\\stackrel"!==i?binrelClass(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:ordargument(o)},l={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:n.mode,mclass:r,body:[l],isCharacterBox:utils.isCharacterBox(l)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:binrelClass(t[0]),body:ordargument(t[0])}},htmlBuilder(e,t){var r=buildExpression$1(e.body,t,!0),n=buildCommon.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=buildExpression(e.body,t),n=new mathMLTree.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>"textord"===e.type&&"@"===e.text,isLabelEnd=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function cdArrow(e,t,r){var n=cdArrowFunctionName[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:n,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[i],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if("&"!==r&&"\\\\"!==r){if("\\end"===r){0===t[t.length-1].length&&t.pop();break}throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var n=[],i=[n],o=0;o<t.length;o++){for(var a=t[o],s=newCell(),l=0;l<a.length;l++)if(isStartOfArrow(a[l])){n.push(s);var c=assertSymbolNodeType(a[l+=1]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(c)>-1);else{if(!("<>AV".indexOf(c)>-1))throw new ParseError('Expected one of "<>AV=|." after @',a[l]);for(var d=0;d<2;d++){for(var h=!0,p=l+1;p<a.length;p++){if(isLabelEnd(a[p],c)){h=!1,l=p;break}if(isStartOfArrow(a[p]))throw new ParseError("Missing a "+c+" character to complete a CD arrow.",a[p]);u[d].body.push(a[p])}if(h)throw new ParseError("Missing a "+c+" character to complete a CD arrow.",a[l])}}var f={type:"styling",body:[cdArrow(c,u,e)],mode:"math",style:"display"};n.push(f),s=newCell()}else s.body.push(a[l]);o%2==0?n.push(s):n.shift(),n=[],i.push(n)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=buildCommon.wrapFragment(buildGroup$1(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=makeEm(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mrow",[buildGroup(e.label,t)]);return(r=new mathMLTree.MathNode("mpadded",[r])).setAttribute("width","0"),"left"===e.side&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new mathMLTree.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=buildCommon.wrapFragment(buildGroup$1(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,t)])}),defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=assertNodeType(t[0],"ordgroup").body,i="",o=0;o<n.length;o++){i+=assertNodeType(n[o],"textord").text}var a,s=parseInt(i);if(isNaN(s))throw new ParseError("\\@char has non-numeric argument "+i);if(s<0||s>=1114111)throw new ParseError("\\@char with invalid code point "+i);return s<=65535?a=String.fromCharCode(s):(s-=65536,a=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:r.mode,text:a}}});var htmlBuilder$8=(e,t)=>{var r=buildExpression$1(e.body,t.withColor(e.color),!1);return buildCommon.makeFragment(r)},mathmlBuilder$7=(e,t)=>{var r=buildExpression(e.body,t.withColor(e.color)),n=new mathMLTree.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=assertNodeType(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:ordargument(i)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=assertNodeType(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i="["===n.gullet.future().text?n.parseSizeGroup(!0):null,o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&assertNodeType(i,"size").value}},htmlBuilder(e,t){var r=buildCommon.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=makeEm(calculateSize(e.size,t)))),r},mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",makeEm(calculateSize(e.size,t)))),r}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ParseError("Expected a control sequence",e);return t},getRHS=e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t},letCommand=(e,t,r,n)=>{var i=e.gullet.macros.get(r.text);null==i&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(globalMap[n.text])return"\\global"!==r&&"\\\\globallong"!==r||(n.text=globalMap[n.text]),assertNodeType(t.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",n)}}),defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ParseError("Expected a control sequence",n);for(var o,a=0,s=[[]];"{"!==t.gullet.future().text;)if("#"===(n=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),s[a].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ParseError('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new ParseError('Argument number "'+n.text+'" out of order');a++,s.push([])}else{if("EOF"===n.text)throw new ParseError("Expected a macro definition");s[a].push(n.text)}var{tokens:l}=t.gullet.consumeArg();return o&&l.unshift(o),"\\edef"!==r&&"\\xdef"!==r||(l=t.gullet.expandTokens(l)).reverse(),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:s},r===globalMap[r]),{type:"internal",mode:t.mode}}}),defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=checkControlSequence(t.gullet.popToken());t.gullet.consumeSpaces();var i=getRHS(t);return letCommand(t,n,i,"\\\\globallet"===r),{type:"internal",mode:t.mode}}}),defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=checkControlSequence(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return letCommand(t,n,o,"\\\\globalfuture"===r),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var getMetrics=function(e,t,r){var n=getCharacterMetrics(symbols.math[e]&&symbols.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},styleWrap=function(e,t,r,n){var i=r.havingBaseStyle(t),o=buildCommon.makeSpan(n.concat(i.sizingClasses(r)),[e],r),a=i.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},centerSpan=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=makeEm(i),e.height-=i,e.depth+=i},makeSmallDelim=function(e,t,r,n,i,o){var a=buildCommon.makeSymbol(e,"Main-Regular",i,n),s=styleWrap(a,t,n,o);return r&&centerSpan(s,n,t),s},mathrmSize=function(e,t,r,n){return buildCommon.makeSymbol(e,"Size"+t+"-Regular",r,n)},makeLargeDelim=function(e,t,r,n,i,o){var a=mathrmSize(e,t,i,n),s=styleWrap(buildCommon.makeSpan(["delimsizing","size"+t],[a],n),Style$1.TEXT,n,o);return r&&centerSpan(s,n,Style$1.TEXT),s},makeGlyphSpan=function(e,t,r){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:buildCommon.makeSpan(["delimsizinginner",n],[buildCommon.makeSpan([],[buildCommon.makeSymbol(e,t,r)])])}},makeInner=function(e,t,r){var n=fontMetricsData["Size4-Regular"][e.charCodeAt(0)]?fontMetricsData["Size4-Regular"][e.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][e.charCodeAt(0)][4],i=new PathNode("inner",innerPath(e,Math.round(1e3*t))),o=new SvgNode([i],{width:makeEm(n),height:makeEm(t),style:"width:"+makeEm(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=buildCommon.makeSvgSpan([],[o],r);return a.height=t,a.style.height=makeEm(t),a.style.width=makeEm(n),{type:"elem",elem:a}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(e,t,r,n,i,o){var a,s,l,c,u="",d=0;a=l=c=e,s=null;var h="Size1-Regular";"\\uparrow"===e?l=c="":"\\Uparrow"===e?l=c="":"\\downarrow"===e?a=l="":"\\Downarrow"===e?a=l="":"\\updownarrow"===e?(a="\\uparrow",l="",c="\\downarrow"):"\\Updownarrow"===e?(a="\\Uparrow",l="",c="\\Downarrow"):verts.includes(e)?(l="",u="vert",d=333):doubleVerts.includes(e)?(l="",u="doublevert",d=556):"["===e||"\\lbrack"===e?(a="",l="",c="",h="Size4-Regular",u="lbrack",d=667):"]"===e||"\\rbrack"===e?(a="",l="",c="",h="Size4-Regular",u="rbrack",d=667):"\\lfloor"===e||""===e?(l=a="",c="",h="Size4-Regular",u="lfloor",d=667):"\\lceil"===e||""===e?(a="",l=c="",h="Size4-Regular",u="lceil",d=667):"\\rfloor"===e||""===e?(l=a="",c="",h="Size4-Regular",u="rfloor",d=667):"\\rceil"===e||""===e?(a="",l=c="",h="Size4-Regular",u="rceil",d=667):"("===e||"\\lparen"===e?(a="",l="",c="",h="Size4-Regular",u="lparen",d=875):")"===e||"\\rparen"===e?(a="",l="",c="",h="Size4-Regular",u="rparen",d=875):"\\{"===e||"\\lbrace"===e?(a="",s="",c="",l="",h="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a="",s="",c="",l="",h="Size4-Regular"):"\\lgroup"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\rgroup"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\lmoustache"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\rmoustache"!==e&&""!==e||(a="",c="",l="",h="Size4-Regular");var p=getMetrics(a,h,i),f=p.height+p.depth,m=getMetrics(l,h,i),g=m.height+m.depth,y=getMetrics(c,h,i),b=y.height+y.depth,v=0,x=1;if(null!==s){var $=getMetrics(s,h,i);v=$.height+$.depth,x=2}var S=f+b+v,E=S+Math.max(0,Math.ceil((t-S)/(x*g)))*x*g,w=n.fontMetrics().axisHeight;r&&(w*=n.sizeMultiplier);var _=E/2-w,M=[];if(u.length>0){var C=E-f-b,T=Math.round(1e3*E),R=tallDelim(u,Math.round(1e3*C)),O=new PathNode(u,R),k=(d/1e3).toFixed(3)+"em",A=(T/1e3).toFixed(3)+"em",N=new SvgNode([O],{width:k,height:A,viewBox:"0 0 "+d+" "+T}),I=buildCommon.makeSvgSpan([],[N],n);I.height=T/1e3,I.style.width=k,I.style.height=A,M.push({type:"elem",elem:I})}else{if(M.push(makeGlyphSpan(c,h,i)),M.push(lap),null===s){var L=E-f-b+2*lapInEms;M.push(makeInner(l,L,n))}else{var P=(E-f-b-v)/2+2*lapInEms;M.push(makeInner(l,P,n)),M.push(lap),M.push(makeGlyphSpan(s,h,i)),M.push(lap),M.push(makeInner(l,P,n))}M.push(lap),M.push(makeGlyphSpan(a,h,i))}var B=n.havingBaseStyle(Style$1.TEXT),q=buildCommon.makeVList({positionType:"bottom",positionData:_,children:M},B);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[q],B),Style$1.TEXT,n,o)},vbPad=80,emPad=.08,sqrtSvg=function(e,t,r,n,i){var o=sqrtPath(e,n,r),a=new PathNode(e,o),s=new SvgNode([a],{width:"400em",height:makeEm(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[s],i)},makeSqrtImage=function(e,t){var r,n,i=t.havingBaseSizing(),o=traverseSequence("\\surd",e*i.sizeMultiplier,stackLargeDelimiterSequence,i),a=i.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===o.type?(e<1?a=1:e<1.4&&(a=.7),c=(1+s)/a,(r=sqrtSvg("sqrtMain",l=(1+s+emPad)/a,u=1e3+1e3*s+vbPad,s,t)).style.minWidth="0.853em",n=.833/a):"large"===o.type?(u=(1e3+vbPad)*sizeToMaxHeight[o.size],c=(sizeToMaxHeight[o.size]+s)/a,l=(sizeToMaxHeight[o.size]+s+emPad)/a,(r=sqrtSvg("sqrtSize"+o.size,l,u,s,t)).style.minWidth="1.02em",n=1/a):(l=e+s+emPad,c=e+s,u=Math.floor(1e3*e+s)+vbPad,(r=sqrtSvg("sqrtTall",l,u,s,t)).style.minWidth="0.742em",n=1.056),r.height=c,r.style.height=makeEm(l),{span:r,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(e,t,r,n,i){if("<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),stackLargeDelimiters.includes(e)||stackNeverDelimiters.includes(e))return makeLargeDelim(e,t,!1,r,n,i);if(stackAlwaysDelimiters.includes(e))return makeStackedDelim(e,sizeToMaxHeight[t],!1,r,n,i);throw new ParseError("Illegal delimiter: '"+e+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},traverseSequence=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&"stack"!==r[i].type;i++){var o=getMetrics(e,delimTypeToFont(r[i]),"math"),a=o.height+o.depth;if("small"===r[i].type&&(a*=n.havingBaseStyle(r[i].style).sizeMultiplier),a>t)return r[i]}return r[r.length-1]},makeCustomSizedDelim=function(e,t,r,n,i,o){var a;"<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),a=stackNeverDelimiters.includes(e)?stackNeverDelimiterSequence:stackLargeDelimiters.includes(e)?stackLargeDelimiterSequence:stackAlwaysDelimiterSequence;var s=traverseSequence(e,t,a,n);return"small"===s.type?makeSmallDelim(e,s.style,r,n,i,o):"large"===s.type?makeLargeDelim(e,s.size,r,n,i,o):makeStackedDelim(e,t,r,n,i,o)},makeLeftRightDelim=function(e,t,r,n,i,o){var a=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(t-a,r+a),c=Math.max(l/500*901,2*l-s);return makeCustomSizedDelim(e,c,!0,n,i,o)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight:sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,t){var r=checkSymbolNodeType(e);if(r&&delimiters.includes(r.text))return r;throw new ParseError(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=checkDelimiter(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>"."===e.delim?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(makeText(e.delim,e.mode));var r=new mathMLTree.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=makeEm(delimiter.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}}),defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&"string"!=typeof r)throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(t[0],e).text,color:r}}}),defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=checkDelimiter(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=assertNodeType(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{assertParsed(e);for(var r,n,i=buildExpression$1(e.body,t,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=t.sizeMultiplier,a*=t.sizeMultiplier,r="."===e.left?makeNullDelimiter(t,["mopen"]):delimiter.leftRightDelim(e.left,o,a,t,e.mode,["mopen"]),i.unshift(r),s)for(var c=1;c<i.length;c++){var u=i[c].isMiddle;u&&(i[c]=delimiter.leftRightDelim(u.delim,o,a,u.options,e.mode,[]))}if("."===e.right)n=makeNullDelimiter(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;n=delimiter.leftRightDelim(e.right,o,a,d,e.mode,["mclose"])}return i.push(n),buildCommon.makeSpan(["minner"],i,t)},mathmlBuilder:(e,t)=>{assertParsed(e);var r=buildExpression(e.body,t);if("."!==e.left){var n=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.right){var i=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return makeRow(r)}}),defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=checkDelimiter(t[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if("."===e.delim)r=makeNullDelimiter(t,[]);else{r=delimiter.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r="\\vert"===e.delim||"|"===e.delim?makeText("|","text"):makeText(e.delim,e.mode),n=new mathMLTree.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var htmlBuilder$7=(e,t)=>{var r,n,i=buildCommon.wrapFragment(buildGroup$1(e.body,t),t),o=e.label.slice(1),a=t.sizeMultiplier,s=0,l=utils.isCharacterBox(e.body);if("sout"===o)(r=buildCommon.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=calculateSize({number:.6,unit:"pt"},t),u=calculateSize({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var d=i.height+i.depth+c+u;i.style.paddingLeft=makeEm(d/2+c);var h=Math.floor(1e3*d*a),p=phasePath(h),f=new SvgNode([new PathNode("phase",p)],{width:"400em",height:makeEm(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});(r=buildCommon.makeSvgSpan(["hide-tail"],[f],t)).style.height=makeEm(d),s=i.depth+c+u}else{/cancel/.test(o)?l||i.classes.push("cancel-pad"):"angl"===o?i.classes.push("anglpad"):i.classes.push("boxpad");var m=0,g=0,y=0;/box/.test(o)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=m=t.fontMetrics().fboxsep+("colorbox"===o?0:y)):"angl"===o?(m=4*(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),g=Math.max(0,.25-i.depth)):g=m=l?.2:0,r=stretchy.encloseSpan(i,o,m,g,t),/fbox|boxed|fcolorbox/.test(o)?(r.style.borderStyle="solid",r.style.borderWidth=makeEm(y)):"angl"===o&&.049!==y&&(r.style.borderTopWidth=makeEm(y),r.style.borderRightWidth=makeEm(y)),s=i.depth+g,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)n=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:s},{type:"elem",elem:i,shift:0}]},t);else{var b=/cancel|phase/.test(o)?["svg-align"]:[];n=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:r,shift:s,wrapperClasses:b}]},t)}return/cancel/.test(o)&&(n.height=i.height,n.depth=i.depth),/cancel/.test(o)&&!l?buildCommon.makeSpan(["mord","cancel-lap"],[n],t):buildCommon.makeSpan(["mord"],[n],t)},mathmlBuilder$6=(e,t)=>{var r=0,n=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,o=assertNodeType(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,o=assertNodeType(t[0],"color-token").color,a=assertNodeType(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var _environments={};function defineEnvironment(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,s={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)_environments[r[l]]=s;o&&(_htmlGroupBuilders[t]=o),a&&(_mathmlGroupBuilders[t]=a)}var _macros={};function defineMacro(e,t){_macros[e]=t}function getHLines(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for("\\relax"===r&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.fetch().text;return t}var validateAmsEnvironmentContext=e=>{if(!e.parser.settings.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function parseArray(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:h}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(null==p)a=1;else if(!(a=parseFloat(p))||a<0)throw new ParseError("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var f=[],m=[f],g=[],y=[],b=null!=l?[]:void 0;function v(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function x(){b&&(e.gullet.macros.get("\\df@tag")?(b.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):b.push(Boolean(l)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(v(),y.push(getHLines(e));;){var $=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),$={type:"ordgroup",mode:e.mode,body:$},r&&($={type:"styling",mode:e.mode,style:r,body:[$]}),f.push($);var S=e.fetch().text;if("&"===S){if(d&&f.length===d){if(c||s)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===S){x(),1===f.length&&"styling"===$.type&&0===$.body[0].body.length&&(m.length>1||!u)&&m.pop(),y.length<m.length+1&&y.push([]);break}if("\\\\"!==S)throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var E=void 0;" "!==e.gullet.future().text&&(E=e.parseSizeGroup(!0)),g.push(E?E.value:null),x(),y.push(getHLines(e)),f=[],m.push(f),v()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:g,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:s,tags:b,leqno:h}}function dCellStyle(e){return"d"===e.slice(0,1)?"display":"text"}var htmlBuilder$6=function(e,t){var r,n,i=e.body.length,o=e.hLinesBeforeRow,a=0,s=new Array(i),l=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,d=5*u;e.colSeparationType&&"small"===e.colSeparationType&&(d=t.havingStyle(Style$1.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var h="CD"===e.colSeparationType?calculateSize({number:3,unit:"ex"},t):12*u,p=3*u,f=e.arraystretch*h,m=.7*f,g=.3*f,y=0;function b(e){for(var t=0;t<e.length;++t)t>0&&(y+=.25),l.push({pos:y,isDashed:e[t]})}for(b(o[0]),r=0;r<e.body.length;++r){var v=e.body[r],x=m,$=g;a<v.length&&(a=v.length);var S=new Array(v.length);for(n=0;n<v.length;++n){var E=buildGroup$1(v[n],t);$<E.depth&&($=E.depth),x<E.height&&(x=E.height),S[n]=E}var w=e.rowGaps[r],_=0;w&&(_=calculateSize(w,t))>0&&($<(_+=g)&&($=_),_=0),e.addJot&&($+=p),S.height=x,S.depth=$,y+=x,S.pos=y,y+=$+_,s[r]=S,b(o[r+1])}var M,C,T=y/2+t.fontMetrics().axisHeight,R=e.cols||[],O=[],k=[];if(e.tags&&e.tags.some(e=>e))for(r=0;r<i;++r){var A=s[r],N=A.pos-T,I=e.tags[r],L=void 0;(L=!0===I?buildCommon.makeSpan(["eqn-num"],[],t):!1===I?buildCommon.makeSpan([],[],t):buildCommon.makeSpan([],buildExpression$1(I,t,!0),t)).depth=A.depth,L.height=A.height,k.push({type:"elem",elem:L,shift:N})}for(n=0,C=0;n<a||C<R.length;++n,++C){for(var P=R[C]||{},B=!0;"separator"===P.type;){if(B||((M=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(t.fontMetrics().doubleRuleSep),O.push(M)),"|"!==P.separator&&":"!==P.separator)throw new ParseError("Invalid separator type: "+P.separator);var q="|"===P.separator?"solid":"dashed",j=buildCommon.makeSpan(["vertical-separator"],[],t);j.style.height=makeEm(y),j.style.borderRightWidth=makeEm(c),j.style.borderRightStyle=q,j.style.margin="0 "+makeEm(-c/2);var D=y-T;D&&(j.style.verticalAlign=makeEm(-D)),O.push(j),P=R[++C]||{},B=!1}if(!(n>=a)){var F=void 0;(n>0||e.hskipBeforeAndAfter)&&0!==(F=utils.deflt(P.pregap,d))&&((M=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(F),O.push(M));var z=[];for(r=0;r<i;++r){var W=s[r],H=W[n];if(H){var U=W.pos-T;H.depth=W.depth,H.height=W.height,z.push({type:"elem",elem:H,shift:U})}}z=buildCommon.makeVList({positionType:"individualShift",children:z},t),z=buildCommon.makeSpan(["col-align-"+(P.align||"c")],[z]),O.push(z),(n<a-1||e.hskipBeforeAndAfter)&&0!==(F=utils.deflt(P.postgap,d))&&((M=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(F),O.push(M))}}if(s=buildCommon.makeSpan(["mtable"],O),l.length>0){for(var V=buildCommon.makeLineSpan("hline",t,c),G=buildCommon.makeLineSpan("hdashline",t,c),X=[{type:"elem",elem:s,shift:0}];l.length>0;){var K=l.pop(),Y=K.pos-T;K.isDashed?X.push({type:"elem",elem:G,shift:Y}):X.push({type:"elem",elem:V,shift:Y})}s=buildCommon.makeVList({positionType:"individualShift",children:X},t)}if(0===k.length)return buildCommon.makeSpan(["mord"],[s],t);var J=buildCommon.makeVList({positionType:"individualShift",children:k},t);return J=buildCommon.makeSpan(["tag"],[J],t),buildCommon.makeFragment([s,J])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(e,t){for(var r=[],n=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),i=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],s=[],l=0;l<a.length;l++)s.push(new mathMLTree.MathNode("mtd",[buildGroup(a[l],t)]));e.tags&&e.tags[o]&&(s.unshift(n),s.push(n),e.leqno?s.unshift(i):s.push(i)),r.push(new mathMLTree.MathNode("mtr",s))}var c=new mathMLTree.MathNode("mtable",r),u=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",makeEm(u));var d="",h="";if(e.cols&&e.cols.length>0){var p=e.cols,f="",m=!1,g=0,y=p.length;"separator"===p[0].type&&(d+="top ",g=1),"separator"===p[p.length-1].type&&(d+="bottom ",y-=1);for(var b=g;b<y;b++)"align"===p[b].type?(h+=alignMap[p[b].align],m&&(f+="none "),m=!0):"separator"===p[b].type&&m&&(f+="|"===p[b].separator?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",h.trim()),/[sd]/.test(f)&&c.setAttribute("columnlines",f.trim())}if("align"===e.colSeparationType){for(var v=e.cols||[],x="",$=1;$<v.length;$++)x+=$%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var S="",E=e.hLinesBeforeRow;d+=E[0].length>0?"left ":"",d+=E[E.length-1].length>0?"right ":"";for(var w=1;w<E.length-1;w++)S+=0===E[w].length?"none ":E[w][0]?"dashed ":"solid ";return/[sd]/.test(S)&&c.setAttribute("rowlines",S.trim()),""!==d&&(c=new mathMLTree.MathNode("menclose",[c])).setAttribute("notation",d.trim()),e.arraystretch&&e.arraystretch<1&&(c=new mathMLTree.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},alignedHandler=function(e,t){-1===e.envName.indexOf("ed")&&validateAmsEnvironmentContext(e);var r,n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o="split"===e.envName,a=parseArray(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:getAutoTag(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",u=0;u<t[0].body.length;u++){c+=assertNodeType(t[0].body[u],"textord").text}r=Number(c),s=2*r}var d=!s;a.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var n=assertNodeType(e[t],"styling");assertNodeType(n.body[0],"ordgroup").body.unshift(l)}if(d)s<e.length&&(s=e.length);else{var i=e.length/2;if(r<i)throw new ParseError("Too many math in a row: expected "+r+", but got "+i,e[0])}});for(var h=0;h<s;++h){var p="r",f=0;h%2==1?p="l":h>0&&d&&(f=1),n[h]={type:"align",align:p,pregap:f,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=(checkSymbolNodeType(t[0])?[t[0]]:assertNodeType(t[0],"ordgroup").body).map(function(e){var t=assertSymbolNodeType(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+t,e)}),n={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return parseArray(e.parser,n,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,-1==="lcr".indexOf(r))throw new ParseError("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=parseArray(e.parser,n,dCellStyle(e.envName)),a=Math.max(0,...o.body.map(e=>e.length));return o.cols=new Array(a).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=parseArray(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=(checkSymbolNodeType(t[0])?[t[0]]:assertNodeType(t[0],"ordgroup").body).map(function(e){var t=assertSymbolNodeType(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new ParseError("Unknown column alignment: "+t,e)});if(r.length>1)throw new ParseError("{subarray} can contain only one column");var n={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((n=parseArray(e.parser,n,"script")).body.length>0&&n.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return n},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=parseArray(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&validateAmsEnvironmentContext(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var t={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(validateAmsEnvironmentContext(e),parseCD(e.parser)),htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineMacro("\\nonumber","\\gdef\\@eqnsw{0}"),defineMacro("\\notag","\\nonumber"),defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if("ordgroup"!==i.type)throw new ParseError("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=assertNodeType(i.body[a],"textord").text;if("\\begin"===n){if(!environments.hasOwnProperty(o))throw new ParseError("No such environment: "+o,i);var s=environments[o],{args:l,optArgs:c}=r.parseArguments("\\begin{"+o+"}",s),u={mode:r.mode,envName:o,parser:r},d=s.handler(u,l,c);r.expect("\\end",!1);var h=r.nextToken,p=assertNodeType(r.parseFunction(),"environment");if(p.name!==o)throw new ParseError("Mismatch: \\begin{"+o+"} matched by \\end{"+p.name+"}",h);return d}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var htmlBuilder$5=(e,t)=>{var r=e.font,n=t.withFont(r);return buildGroup$1(e.body,n)},mathmlBuilder$4=(e,t)=>{var r=e.font,n=t.withFont(r);return buildGroup(e.body,n)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=normalizeArgument(t[0]),o=n;return o in fontAliases&&(o=fontAliases[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4}),defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],i=utils.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:binrelClass(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}}),defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:o}=r,a=r.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,t)=>{var r=t;return"display"===e?r=r.id>=Style$1.SCRIPT.id?r.text():Style$1.DISPLAY:"text"===e&&r.size===Style$1.DISPLAY.size?r=Style$1.TEXT:"script"===e?r=Style$1.SCRIPT:"scriptscript"===e&&(r=Style$1.SCRIPTSCRIPT),r},htmlBuilder$4=(e,t)=>{var r,n=adjustStyle(e.size,t.style),i=n.fracNum(),o=n.fracDen();r=t.havingStyle(i);var a=buildGroup$1(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}r=t.havingStyle(o);var c,u,d,h,p,f,m,g,y,b,v=buildGroup$1(e.denom,r,t);if(e.hasBarLine?(e.barSize?(u=calculateSize(e.barSize,t),c=buildCommon.makeLineSpan("frac-line",t,u)):c=buildCommon.makeLineSpan("frac-line",t),u=c.height,d=c.height):(c=null,u=0,d=t.fontMetrics().defaultRuleThickness),n.size===Style$1.DISPLAY.size||"display"===e.size?(h=t.fontMetrics().num1,p=u>0?3*d:7*d,f=t.fontMetrics().denom1):(u>0?(h=t.fontMetrics().num2,p=d):(h=t.fontMetrics().num3,p=3*d),f=t.fontMetrics().denom2),c){var x=t.fontMetrics().axisHeight;h-a.depth-(x+.5*u)<p&&(h+=p-(h-a.depth-(x+.5*u))),x-.5*u-(v.height-f)<p&&(f+=p-(x-.5*u-(v.height-f)));var $=-(x-.5*u);m=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:f},{type:"elem",elem:c,shift:$},{type:"elem",elem:a,shift:-h}]},t)}else{var S=h-a.depth-(v.height-f);S<p&&(h+=.5*(p-S),f+=.5*(p-S)),m=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:f},{type:"elem",elem:a,shift:-h}]},t)}return r=t.havingStyle(n),m.height*=r.sizeMultiplier/t.sizeMultiplier,m.depth*=r.sizeMultiplier/t.sizeMultiplier,g=n.size===Style$1.DISPLAY.size?t.fontMetrics().delim1:n.size===Style$1.SCRIPTSCRIPT.size?t.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,y=null==e.leftDelim?makeNullDelimiter(t,["mopen"]):delimiter.customSizedDelim(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),b=e.continued?buildCommon.makeSpan([]):null==e.rightDelim?makeNullDelimiter(t,["mclose"]):delimiter.customSizedDelim(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(r.sizingClasses(t)),[y,buildCommon.makeSpan(["mfrac"],[m]),b],t)},mathmlBuilder$3=(e,t)=>{var r=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,t),buildGroup(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=calculateSize(e.barSize,t);r.setAttribute("linethickness",makeEm(n))}}else r.setAttribute("linethickness","0px");var i=adjustStyle(e.size,t.style);if(i.size!==t.style.size){r=new mathMLTree.MathNode("mstyle",[r]);var o=i.size===Style$1.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var a=[];if(null!=e.leftDelim){var s=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(r),null!=e.rightDelim){var l=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return makeRow(a)}return r};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var r,{parser:n,funcName:i}=e,o=t[0],a=t[1],s=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:a,hasBarLine:r,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],o=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:r,funcName:n,token:i}=e;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:i}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var r,{parser:n}=e,i=t[4],o=t[5],a=normalizeArgument(t[0]),s="atom"===a.type&&"open"===a.family?delimFromValue(a.text):null,l=normalizeArgument(t[1]),c="atom"===l.type&&"close"===l.family?delimFromValue(l.text):null,u=assertNodeType(t[2],"size"),d=null;r=!!u.isBlank||(d=u.value).number>0;var h="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var f=assertNodeType(p.body[0],"textord");h=stylArray[Number(f.text)]}}else p=assertNodeType(p,"textord"),h=stylArray[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:r,barSize:d,leftDelim:s,rightDelim:c,size:h}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(t[0],"size").value,token:i}}}),defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],o=assert(assertNodeType(t[1],"infix").size),a=t[2],s=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,t)=>{var r,n,i=t.style;"supsub"===e.type?(r=e.sup?buildGroup$1(e.sup,t.havingStyle(i.sup()),t):buildGroup$1(e.sub,t.havingStyle(i.sub()),t),n=assertNodeType(e.base,"horizBrace")):n=assertNodeType(e,"horizBrace");var o,a=buildGroup$1(n.base,t.havingBaseStyle(Style$1.DISPLAY)),s=stretchy.svgSpan(n,t);if(n.isOver?(o=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=buildCommon.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=buildCommon.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);o=n.isOver?buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):buildCommon.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return buildCommon.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)},mathmlBuilder$2=(e,t)=>{var r=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,t),r])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2}),defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],i=assertNodeType(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:ordargument(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=buildExpression$1(e.body,t,!1);return buildCommon.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=buildExpressionRow(e.body,t);return r instanceof MathNode||(r=new MathNode("mrow",[r])),r.setAttribute("href",e.href),r}}),defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=assertNodeType(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];"~"===a&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:ordargument(s)}}}),defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:ordargument(t[0])}},htmlBuilder(e,t){var r=buildExpression$1(e.body,t,!1);return buildCommon.makeFragment(r)},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mrow",buildExpression(e.body,t))}),defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var r,{parser:n,funcName:i,token:o}=e,a=assertNodeType(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(i){case"\\htmlClass":l.class=a,r={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,r={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,r={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var c=a.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(2!==d.length)throw new ParseError("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}r={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(r)?{type:"html",mode:n.mode,attributes:l,body:ordargument(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var r=buildExpression$1(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=buildCommon.makeSpan(n,r,t);for(var o in e.attributes)"class"!==o&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t)}),defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:ordargument(t[0]),mathml:ordargument(t[1])}},htmlBuilder:(e,t)=>{var r=buildExpression$1(e.html,t,!1);return buildCommon.makeFragment(r)},mathmlBuilder:(e,t)=>buildExpressionRow(e.mathml,t)});var sizeData=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new ParseError("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!validUnit(r))throw new ParseError("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(r[0])for(var l=assertNodeType(r[0],"raw").string.split(","),c=0;c<l.length;c++){var u=l[c].split("=");if(2===u.length){var d=u[1].trim();switch(u[0].trim()){case"alt":s=d;break;case"width":i=sizeData(d);break;case"height":o=sizeData(d);break;case"totalheight":a=sizeData(d);break;default:throw new ParseError("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var h=assertNodeType(t[0],"url").url;return""===s&&(s=(s=(s=h).replace(/^.*[\\/]/,"")).substring(0,s.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:n.mode,alt:s,width:i,height:o,totalheight:a,src:h}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=calculateSize(e.height,t),n=0;e.totalheight.number>0&&(n=calculateSize(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=calculateSize(e.width,t));var o={height:makeEm(r+n)};i>0&&(o.width=makeEm(i)),n>0&&(o.verticalAlign=makeEm(-n));var a=new Img(e.src,e.alt,o);return a.height=r,a.depth=n,a},mathmlBuilder:(e,t)=>{var r=new mathMLTree.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=calculateSize(e.height,t),i=0;if(e.totalheight.number>0&&(i=calculateSize(e.totalheight,t)-n,r.setAttribute("valign",makeEm(-i))),r.setAttribute("height",makeEm(n+i)),e.width.number>0){var o=calculateSize(e.width,t);r.setAttribute("width",makeEm(o))}return r.setAttribute("src",e.src),r}}),defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=assertNodeType(t[0],"size");if(r.settings.strict){var o="m"===n[1],a="mu"===i.value.unit;o?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:(e,t)=>buildCommon.makeGlue(e.dimension,t),mathmlBuilder(e,t){var r=calculateSize(e.dimension,t);return new mathMLTree.SpaceNode(r)}}),defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(e,t)=>{var r;"clap"===e.alignment?(r=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]),r=buildCommon.makeSpan(["inner"],[r],t)):r=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t)]);var n=buildCommon.makeSpan(["fix"],[]),i=buildCommon.makeSpan([e.alignment],[r,n],t),o=buildCommon.makeSpan(["strut"]);return o.style.height=makeEm(i.height+i.depth),i.depth&&(o.style.verticalAlign=makeEm(-i.depth)),i.children.unshift(o),i=buildCommon.makeSpan(["thinbox"],[i],t),buildCommon.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var r=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var o="\\("===r?"\\)":"$",a=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}}),defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,t)=>{switch(t.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:ordargument(t[0]),text:ordargument(t[1]),script:ordargument(t[2]),scriptscript:ordargument(t[3])}},htmlBuilder:(e,t)=>{var r=chooseMathStyle(e,t),n=buildExpression$1(r,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=chooseMathStyle(e,t);return buildExpressionRow(r,t)}});var assembleSupSub=(e,t,r,n,i,o,a)=>{e=buildCommon.makeSpan([],[e]);var s,l,c,u=r&&utils.isCharacterBox(r);if(t){var d=buildGroup$1(t,n.havingStyle(i.sup()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var h=buildGroup$1(r,n.havingStyle(i.sub()),n);s={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-h.height)}}if(l&&s){var p=n.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+a;c=buildCommon.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:makeEm(-o)},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:makeEm(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(s){var f=e.height-a;c=buildCommon.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:makeEm(-o)},{type:"kern",size:s.kern},{type:"elem",elem:e}]},n)}else{if(!l)return e;var m=e.depth+a;c=buildCommon.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:makeEm(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}var g=[c];if(s&&0!==o&&!u){var y=buildCommon.makeSpan(["mspace"],[],n);y.style.marginRight=makeEm(o),g.unshift(y)}return buildCommon.makeSpan(["mop","op-limits"],g,n)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,t)=>{var r,n,i,o=!1;"supsub"===e.type?(r=e.sup,n=e.sub,i=assertNodeType(e.base,"op"),o=!0):i=assertNodeType(e,"op");var a,s=t.style,l=!1;if(s.size===Style$1.DISPLAY.size&&i.symbol&&!noSuccessor.includes(i.name)&&(l=!0),i.symbol){var c=l?"Size2-Regular":"Size1-Regular",u="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(u=i.name.slice(1),i.name="oiint"===u?"\\iint":"\\iiint"),a=buildCommon.makeSymbol(i.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),u.length>0){var d=a.italic,h=buildCommon.staticSvg(u+"Size"+(l?"2":"1"),t);a=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:h,shift:l?.08:0}]},t),i.name="\\"+u,a.classes.unshift("mop"),a.italic=d}}else if(i.body){var p=buildExpression$1(i.body,t,!0);1===p.length&&p[0]instanceof SymbolNode?(a=p[0]).classes[0]="mop":a=buildCommon.makeSpan(["mop"],p,t)}else{for(var f=[],m=1;m<i.name.length;m++)f.push(buildCommon.mathsym(i.name[m],i.mode,t));a=buildCommon.makeSpan(["mop"],f,t)}var g=0,y=0;return(a instanceof SymbolNode||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(g=(a.height-a.depth)/2-t.fontMetrics().axisHeight,y=a.italic),o?assembleSupSub(a,r,n,t,s,y,g):(g&&(a.style.position="relative",a.style.top=makeEm(g)),a)},mathmlBuilder$1=(e,t)=>{var r;if(e.symbol)r=new MathNode("mo",[makeText(e.name,e.mode)]),noSuccessor.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new MathNode("mo",buildExpression(e.body,t));else{r=new MathNode("mi",[new TextNode(e.name.slice(1))]);var n=new MathNode("mo",[makeText("","text")]);r=e.parentIsSupSub?new MathNode("mrow",[r,n]):newDocumentFragment([r,n])}return r},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=n;return 1===i.length&&(i=singleCharBigOps[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(n)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return 1===n.length&&(n=singleCharIntegrals[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,t)=>{var r,n,i,o,a=!1;if("supsub"===e.type?(r=e.sup,n=e.sub,i=assertNodeType(e.base,"operatorname"),a=!0):i=assertNodeType(e,"operatorname"),i.body.length>0){for(var s=i.body.map(e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=buildExpression$1(s,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof SymbolNode&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=buildCommon.makeSpan(["mop"],l,t)}else o=buildCommon.makeSpan(["mop"],[],t);return a?assembleSupSub(o,r,n,t,t.style,0,0):o},mathmlBuilder=(e,t)=>{for(var r=buildExpression(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(o instanceof mathMLTree.SpaceNode);else if(o instanceof mathMLTree.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];1===o.children.length&&a instanceof mathMLTree.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map(e=>e.toText()).join("");r=[new mathMLTree.TextNode(s)]}var l=new mathMLTree.MathNode("mi",r);l.setAttribute("mathvariant","normal");var c=new mathMLTree.MathNode("mo",[makeText("","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[l,c]):mathMLTree.newDocumentFragment([l,c])};function sizingGroup(e,t,r){for(var n=buildExpression$1(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=n[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+t.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return buildCommon.makeFragment(n)}defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:ordargument(i),alwaysHandleSupSub:"\\operatornamewithlimits"===n,limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder:mathmlBuilder}),defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),defineFunctionBuilders({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,t,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,t,!0),t),mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t,!0)}),defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=buildGroup$1(e.body,t.havingCrampedStyle()),n=buildCommon.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return buildCommon.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);r.setAttribute("stretchy","true");var n=new mathMLTree.MathNode("mover",[buildGroup(e.body,t),r]);return n.setAttribute("accent","true"),n}}),defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:ordargument(n)}},htmlBuilder:(e,t)=>{var r=buildExpression$1(e.body,t.withPhantom(),!1);return buildCommon.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=buildExpression(e.body,t);return new mathMLTree.MathNode("mphantom",r)}}),defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=buildCommon.makeSpan([],[buildGroup$1(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),buildCommon.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=buildExpression(ordargument(e.body),t),n=new mathMLTree.MathNode("mphantom",r),i=new mathMLTree.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t.withPhantom())]),n=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=buildExpression(ordargument(e.body),t),n=new mathMLTree.MathNode("mphantom",r),i=new mathMLTree.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}}),defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=assertNodeType(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=buildGroup$1(e.body,t),n=calculateSize(e.dy,t);return buildCommon.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],o=assertNodeType(t[0],"size"),a=assertNodeType(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&assertNodeType(i,"size").value,width:o.value,height:a.value}},htmlBuilder(e,t){var r=buildCommon.makeSpan(["mord","rule"],[],t),n=calculateSize(e.width,t),i=calculateSize(e.height,t),o=e.shift?calculateSize(e.shift,t):0;return r.style.borderRightWidth=makeEm(n),r.style.borderTopWidth=makeEm(i),r.style.bottom=makeEm(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=1.125*i*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=calculateSize(e.width,t),n=calculateSize(e.height,t),i=e.shift?calculateSize(e.shift,t):0,o=t.color&&t.getColor()||"black",a=new mathMLTree.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",makeEm(r)),a.setAttribute("height",makeEm(n));var s=new mathMLTree.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",makeEm(i)):(s.setAttribute("height",makeEm(i)),s.setAttribute("depth",makeEm(-i))),s.setAttribute("voffset",makeEm(i)),s}});var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,t)=>{var r=t.havingSize(e.size);return sizingGroup(e.body,r,t)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:sizeFuncs.indexOf(n)+1,body:o}},htmlBuilder:htmlBuilder,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=buildExpression(e.body,r),i=new mathMLTree.MathNode("mstyle",n);return i.setAttribute("mathsize",makeEm(r.sizeMultiplier)),i}}),defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,i=!1,o=!1,a=r[0]&&assertNodeType(r[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){if("t"===(s=a.body[l].text))i=!0;else{if("b"!==s){i=!1,o=!1;break}o=!0}}else i=!0,o=!0;var c=t[0];return{type:"smash",mode:n.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(e,t)=>{var r=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return buildCommon.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var r=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],o=t[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(e,t){var r=buildGroup$1(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=buildCommon.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<Style$1.TEXT.id&&(i=t.fontMetrics().xHeight);var o=n+i/4,a=r.height+r.depth+o+n,{span:s,ruleWidth:l,advanceWidth:c}=delimiter.sqrtImage(a,t),u=s.height-l;u>r.height+r.depth+o&&(o=(o+u-r.height-r.depth)/2);var d=s.height-r.height-o-l;r.style.paddingLeft=makeEm(c);var h=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+d)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(Style$1.SCRIPTSCRIPT),f=buildGroup$1(e.index,p,t),m=.6*(h.height-h.depth),g=buildCommon.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:f}]},t),y=buildCommon.makeSpan(["root"],[g]);return buildCommon.makeSpan(["mord","sqrt"],[y,h],t)}return buildCommon.makeSpan(["mord","sqrt"],[h],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new mathMLTree.MathNode("mroot",[buildGroup(r,t),buildGroup(n,t)]):new mathMLTree.MathNode("msqrt",[buildGroup(r,t)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,o=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(e,t){var r=styleMap[e.style],n=t.havingStyle(r).withFont("");return sizingGroup(e.body,n,t)},mathmlBuilder(e,t){var r=styleMap[e.style],n=t.havingStyle(r),i=buildExpression(e.body,n),o=new mathMLTree.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});var htmlBuilderDelegate=function(e,t){var r=e.base;return r?"op"===r.type?r.limits&&(t.style.size===Style$1.DISPLAY.size||r.alwaysHandleSupSub)?htmlBuilder$2:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(t.style.size===Style$1.DISPLAY.size||r.limits)?htmlBuilder$1:null:"accent"===r.type?utils.isCharacterBox(r.base)?htmlBuilder$a:null:"horizBrace"===r.type&&!e.sub===r.isOver?htmlBuilder$3:null:null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,t){var r=htmlBuilderDelegate(e,t);if(r)return r(e,t);var n,i,o,{base:a,sup:s,sub:l}=e,c=buildGroup$1(a,t),u=t.fontMetrics(),d=0,h=0,p=a&&utils.isCharacterBox(a);if(s){var f=t.havingStyle(t.style.sup());n=buildGroup$1(s,f,t),p||(d=c.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());i=buildGroup$1(l,m,t),p||(h=c.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}o=t.style===Style$1.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;var g,y=t.sizeMultiplier,b=makeEm(.5/u.ptPerEm/y),v=null;if(i){var x=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof SymbolNode||x)&&(v=makeEm(-c.italic))}if(n&&i){d=Math.max(d,o,n.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var $=4*u.defaultRuleThickness;if(d-n.depth-(i.height-h)<$){h=$-(d-n.depth)+i.height;var S=.8*u.xHeight-(d-n.depth);S>0&&(d+=S,h-=S)}var E=[{type:"elem",elem:i,shift:h,marginRight:b,marginLeft:v},{type:"elem",elem:n,shift:-d,marginRight:b}];g=buildCommon.makeVList({positionType:"individualShift",children:E},t)}else if(i){h=Math.max(h,u.sub1,i.height-.8*u.xHeight);var w=[{type:"elem",elem:i,marginLeft:v,marginRight:b}];g=buildCommon.makeVList({positionType:"shift",positionData:h,children:w},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,n.depth+.25*u.xHeight),g=buildCommon.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:n,marginRight:b}]},t)}var _=getTypeOfDomTree(c,"right")||"mord";return buildCommon.makeSpan([_],[c,buildCommon.makeSpan(["msupsub"],[g])],t)},mathmlBuilder(e,t){var r,n=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(n=!0,r=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,o=[buildGroup(e.base,t)];if(e.sub&&o.push(buildGroup(e.sub,t)),e.sup&&o.push(buildGroup(e.sup,t)),n)i=r?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;i=a&&"op"===a.type&&a.limits&&t.style===Style$1.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(t.style===Style$1.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=e.base;i=s&&"op"===s.type&&s.limits&&(t.style===Style$1.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===Style$1.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===Style$1.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===Style$1.DISPLAY)?"mover":"msup"}return new mathMLTree.MathNode(i,o)}}),defineFunctionBuilders({type:"atom",htmlBuilder:(e,t)=>buildCommon.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if("bin"===e.family){var n=getVariant(e,t);"bold-italic"===n&&r.setAttribute("mathvariant",n)}else"punct"===e.family?r.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||r.setAttribute("stretchy","false");return r}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder:(e,t)=>buildCommon.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,t)]),n=getVariant(e,t)||"italic";return n!==defaultVariant[r.type]&&r.setAttribute("mathvariant",n),r}}),defineFunctionBuilders({type:"textord",htmlBuilder:(e,t)=>buildCommon.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var r,n=makeText(e.text,e.mode,t),i=getVariant(e,t)||"normal";return r="text"===e.mode?new mathMLTree.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new mathMLTree.MathNode("mn",[n]):"\\prime"===e.text?new mathMLTree.MathNode("mo",[n]):new mathMLTree.MathNode("mi",[n]),i!==defaultVariant[r.type]&&r.setAttribute("mathvariant",i),r}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,t){if(regularSpace.hasOwnProperty(e.text)){var r=regularSpace[e.text].className||"";if("text"===e.mode){var n=buildCommon.makeOrd(e,t,"textord");return n.classes.push(r),n}return buildCommon.makeSpan(["mspace",r],[buildCommon.mathsym(e.text,e.mode,t)],t)}if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],t);throw new ParseError('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!regularSpace.hasOwnProperty(e.text)){if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")])}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,t)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,t)=>{var r=e.font;return r?textFontFamilies[r]?t.withTextFontFamily(textFontFamilies[r]):textFontWeights[r]?t.withTextFontWeight(textFontWeights[r]):"\\emph"===r?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(textFontShapes[r]):t};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:ordargument(i),font:n}},htmlBuilder(e,t){var r=optionsWithFont(e,t),n=buildExpression$1(e.body,r,!0);return buildCommon.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=optionsWithFont(e,t);return buildExpressionRow(e.body,r)}}),defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=buildGroup$1(e.body,t),n=buildCommon.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=buildCommon.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return buildCommon.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var r=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);r.setAttribute("stretchy","true");var n=new mathMLTree.MathNode("munder",[buildGroup(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=buildGroup$1(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return buildCommon.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)],["vcenter"])}),defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=makeVerb(e),n=[],i=t.havingStyle(t.style.text()),o=0;o<r.length;o++){var a=r[o];"~"===a&&(a="\\textasciitilde"),n.push(buildCommon.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(i.sizingClasses(t)),buildCommon.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new mathMLTree.TextNode(makeVerb(e)),n=new mathMLTree.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var makeVerb=e=>e.body.replace(/ /g,e.star?"":""),functions=_functions,spaceRegexString="[ \r\n\t]",controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\ud800-\udfff]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString="\\\\(\n|[ \r\t]+\n?)[ \r\t]*",combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+controlSpaceRegexString+"|([!-\\[\\]---]"+combiningDiacriticalMarkString+"*|[\ud800-\udbff][\udc00-\udfff]"+combiningDiacriticalMarkString+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+controlWordWhitespaceRegexString+"|"+controlSymbolRegexString+")";class Lexer{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Token("EOF",new SourceLocation(this,t,t));var r=this.tokenRegex.exec(e);if(null===r||r.index!==t)throw new ParseError("Unexpected character: '"+e[t]+"'",new Token(e[t],new SourceLocation(this,t,t+1)));var n=r[6]||r[3]||(r[2]?"\\ ":" ");if(14===this.catcodes[n]){var i=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===i?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Token(n,new SourceLocation(this,t,this.tokenRegex.lastIndex))}}class Namespace{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(void 0===r&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var macros=_macros;defineMacro("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),defineMacro("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),defineMacro("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),defineMacro("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),defineMacro("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),defineMacro("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(e){var t,r=e.popToken(),n="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])n=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new ParseError("\\char` missing argument");n=r.text.charCodeAt(0)}else t=10;if(t){if(null==(n=digitToNumber[r.text])||n>=t)throw new ParseError("Invalid base-"+t+" digit "+r.text);for(var i;null!=(i=digitToNumber[e.future().text])&&i<t;)n*=t,n+=i,e.popToken()}return"\\@char{"+n+"}"});var newcommand=(e,t,r,n)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new ParseError("\\newcommand's first argument must be a macro name");var o=i[0].text,a=e.isDefined(o);if(a&&!t)throw new ParseError("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!a&&!r)throw new ParseError("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+l);s=parseInt(l),i=e.consumeArg().tokens}return a&&n||e.macros.set(o,{tokens:i,numArgs:s}),""};defineMacro("\\newcommand",e=>newcommand(e,!1,!0,!1)),defineMacro("\\renewcommand",e=>newcommand(e,!0,!1,!1)),defineMacro("\\providecommand",e=>newcommand(e,!0,!0,!0)),defineMacro("\\message",e=>{e.consumeArgs(1)[0];return""}),defineMacro("\\errmessage",e=>{e.consumeArgs(1)[0];return""}),defineMacro("\\show",e=>{e.popToken().text;return""}),defineMacro("\\bgroup","{"),defineMacro("\\egroup","}"),defineMacro("~","\\nobreakspace"),defineMacro("\\lq","`"),defineMacro("\\rq","'"),defineMacro("\\aa","\\r a"),defineMacro("\\AA","\\r A"),defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),defineMacro("","\\mathscr{B}"),defineMacro("","\\mathscr{E}"),defineMacro("","\\mathscr{F}"),defineMacro("","\\mathscr{H}"),defineMacro("","\\mathscr{I}"),defineMacro("","\\mathscr{L}"),defineMacro("","\\mathscr{M}"),defineMacro("","\\mathscr{R}"),defineMacro("","\\mathfrak{C}"),defineMacro("","\\mathfrak{H}"),defineMacro("","\\mathfrak{Z}"),defineMacro("\\Bbbk","\\Bbb{k}"),defineMacro("","\\cdotp"),defineMacro("\\llap","\\mathllap{\\textrm{#1}}"),defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}"),defineMacro("\\clap","\\mathclap{\\textrm{#1}}"),defineMacro("\\mathstrut","\\vphantom{(}"),defineMacro("\\underbar","\\underline{\\text{#1}}"),defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),defineMacro("\\ne","\\neq"),defineMacro("","\\neq"),defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),defineMacro("","\\notin"),defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\perp"),defineMacro("","\\mathclose{!\\mkern-0.8mu!}"),defineMacro("","\\notni"),defineMacro("","\\ulcorner"),defineMacro("","\\urcorner"),defineMacro("","\\llcorner"),defineMacro("","\\lrcorner"),defineMacro("","\\copyright"),defineMacro("","\\textregistered"),defineMacro("","\\textregistered"),defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),defineMacro("","\\vdots"),defineMacro("\\varGamma","\\mathit{\\Gamma}"),defineMacro("\\varDelta","\\mathit{\\Delta}"),defineMacro("\\varTheta","\\mathit{\\Theta}"),defineMacro("\\varLambda","\\mathit{\\Lambda}"),defineMacro("\\varXi","\\mathit{\\Xi}"),defineMacro("\\varPi","\\mathit{\\Pi}"),defineMacro("\\varSigma","\\mathit{\\Sigma}"),defineMacro("\\varUpsilon","\\mathit{\\Upsilon}"),defineMacro("\\varPhi","\\mathit{\\Phi}"),defineMacro("\\varPsi","\\mathit{\\Psi}"),defineMacro("\\varOmega","\\mathit{\\Omega}"),defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}"),defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in dotsByToken?t=dotsByToken[r]:("\\not"===r.slice(0,4)||r in symbols.math&&["bin","rel"].includes(symbols.math[r].group))&&(t="\\dotsb"),t});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(e){return e.future().text in spaceAfterDots?"\\ldots\\,":"\\ldots"}),defineMacro("\\dotsc",function(e){var t=e.future().text;return t in spaceAfterDots&&","!==t?"\\ldots\\,":"\\ldots"}),defineMacro("\\cdots",function(e){return e.future().text in spaceAfterDots?"\\@cdots\\,":"\\@cdots"}),defineMacro("\\dotsb","\\cdots"),defineMacro("\\dotsm","\\cdots"),defineMacro("\\dotsi","\\!\\cdots"),defineMacro("\\dotsx","\\ldots\\,"),defineMacro("\\DOTSI","\\relax"),defineMacro("\\DOTSB","\\relax"),defineMacro("\\DOTSX","\\relax"),defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),defineMacro("\\,","\\tmspace+{3mu}{.1667em}"),defineMacro("\\thinspace","\\,"),defineMacro("\\>","\\mskip{4mu}"),defineMacro("\\:","\\tmspace+{4mu}{.2222em}"),defineMacro("\\medspace","\\:"),defineMacro("\\;","\\tmspace+{5mu}{.2777em}"),defineMacro("\\thickspace","\\;"),defineMacro("\\!","\\tmspace-{3mu}{.1667em}"),defineMacro("\\negthinspace","\\!"),defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}"),defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}"),defineMacro("\\enspace","\\kern.5em "),defineMacro("\\enskip","\\hskip.5em\\relax"),defineMacro("\\quad","\\hskip1em\\relax"),defineMacro("\\qquad","\\hskip2em\\relax"),defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren"),defineMacro("\\tag@paren","\\tag@literal{({#1})}"),defineMacro("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),defineMacro("\\newline","\\\\\\relax"),defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"]["T".charCodeAt(0)][1]-.7*fontMetricsData["Main-Regular"]["A".charCodeAt(0)][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),defineMacro("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace"),defineMacro("\\@hspace","\\hskip #1\\relax"),defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),defineMacro("\\ordinarycolon",":"),defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),defineMacro("","\\dblcolon"),defineMacro("","\\eqcolon"),defineMacro("","\\coloneqq"),defineMacro("","\\eqqcolon"),defineMacro("","\\Coloneqq"),defineMacro("\\ratio","\\vcentcolon"),defineMacro("\\coloncolon","\\dblcolon"),defineMacro("\\colonequals","\\coloneqq"),defineMacro("\\coloncolonequals","\\Coloneqq"),defineMacro("\\equalscolon","\\eqqcolon"),defineMacro("\\equalscoloncolon","\\Eqqcolon"),defineMacro("\\colonminus","\\coloneq"),defineMacro("\\coloncolonminus","\\Coloneq"),defineMacro("\\minuscolon","\\eqcolon"),defineMacro("\\minuscoloncolon","\\Eqcolon"),defineMacro("\\coloncolonapprox","\\Colonapprox"),defineMacro("\\coloncolonsim","\\Colonsim"),defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}"),defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),defineMacro("\\imath","\\html@mathml{\\@imath}{}"),defineMacro("\\jmath","\\html@mathml{\\@jmath}{}"),defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),defineMacro("","\\llbracket"),defineMacro("","\\rrbracket"),defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),defineMacro("","\\lBrace"),defineMacro("","\\rBrace"),defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),defineMacro("","\\minuso"),defineMacro("\\darr","\\downarrow"),defineMacro("\\dArr","\\Downarrow"),defineMacro("\\Darr","\\Downarrow"),defineMacro("\\lang","\\langle"),defineMacro("\\rang","\\rangle"),defineMacro("\\uarr","\\uparrow"),defineMacro("\\uArr","\\Uparrow"),defineMacro("\\Uarr","\\Uparrow"),defineMacro("\\N","\\mathbb{N}"),defineMacro("\\R","\\mathbb{R}"),defineMacro("\\Z","\\mathbb{Z}"),defineMacro("\\alef","\\aleph"),defineMacro("\\alefsym","\\aleph"),defineMacro("\\Alpha","\\mathrm{A}"),defineMacro("\\Beta","\\mathrm{B}"),defineMacro("\\bull","\\bullet"),defineMacro("\\Chi","\\mathrm{X}"),defineMacro("\\clubs","\\clubsuit"),defineMacro("\\cnums","\\mathbb{C}"),defineMacro("\\Complex","\\mathbb{C}"),defineMacro("\\Dagger","\\ddagger"),defineMacro("\\diamonds","\\diamondsuit"),defineMacro("\\empty","\\emptyset"),defineMacro("\\Epsilon","\\mathrm{E}"),defineMacro("\\Eta","\\mathrm{H}"),defineMacro("\\exist","\\exists"),defineMacro("\\harr","\\leftrightarrow"),defineMacro("\\hArr","\\Leftrightarrow"),defineMacro("\\Harr","\\Leftrightarrow"),defineMacro("\\hearts","\\heartsuit"),defineMacro("\\image","\\Im"),defineMacro("\\infin","\\infty"),defineMacro("\\Iota","\\mathrm{I}"),defineMacro("\\isin","\\in"),defineMacro("\\Kappa","\\mathrm{K}"),defineMacro("\\larr","\\leftarrow"),defineMacro("\\lArr","\\Leftarrow"),defineMacro("\\Larr","\\Leftarrow"),defineMacro("\\lrarr","\\leftrightarrow"),defineMacro("\\lrArr","\\Leftrightarrow"),defineMacro("\\Lrarr","\\Leftrightarrow"),defineMacro("\\Mu","\\mathrm{M}"),defineMacro("\\natnums","\\mathbb{N}"),defineMacro("\\Nu","\\mathrm{N}"),defineMacro("\\Omicron","\\mathrm{O}"),defineMacro("\\plusmn","\\pm"),defineMacro("\\rarr","\\rightarrow"),defineMacro("\\rArr","\\Rightarrow"),defineMacro("\\Rarr","\\Rightarrow"),defineMacro("\\real","\\Re"),defineMacro("\\reals","\\mathbb{R}"),defineMacro("\\Reals","\\mathbb{R}"),defineMacro("\\Rho","\\mathrm{P}"),defineMacro("\\sdot","\\cdot"),defineMacro("\\sect","\\S"),defineMacro("\\spades","\\spadesuit"),defineMacro("\\sub","\\subset"),defineMacro("\\sube","\\subseteq"),defineMacro("\\supe","\\supseteq"),defineMacro("\\Tau","\\mathrm{T}"),defineMacro("\\thetasym","\\vartheta"),defineMacro("\\weierp","\\wp"),defineMacro("\\Zeta","\\mathrm{Z}"),defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),defineMacro("\\bra","\\mathinner{\\langle{#1}|}"),defineMacro("\\ket","\\mathinner{|{#1}\\rangle}"),defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}"),defineMacro("\\Bra","\\left\\langle#1\\right|"),defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,a=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=t=>r=>{e&&(r.macros.set("|",a),i.length&&r.macros.set("\\|",s));var o=t;!t&&i.length&&("|"===r.future().text&&(r.popToken(),o=!0));return{tokens:o?i:n,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...o,...c,...r]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1)),defineMacro("\\bra@set",braketHelper(!0)),defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),defineMacro("\\angln","{\\angl n}"),defineMacro("\\blue","\\textcolor{##6495ed}{#1}"),defineMacro("\\orange","\\textcolor{##ffa500}{#1}"),defineMacro("\\pink","\\textcolor{##ff00af}{#1}"),defineMacro("\\red","\\textcolor{##df0030}{#1}"),defineMacro("\\green","\\textcolor{##28ae7b}{#1}"),defineMacro("\\gray","\\textcolor{gray}{#1}"),defineMacro("\\purple","\\textcolor{##9d38bd}{#1}"),defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}"),defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}"),defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}"),defineMacro("\\blueD","\\textcolor{##11accd}{#1}"),defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}"),defineMacro("\\tealA","\\textcolor{##94fff5}{#1}"),defineMacro("\\tealB","\\textcolor{##26edd5}{#1}"),defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}"),defineMacro("\\tealD","\\textcolor{##01a995}{#1}"),defineMacro("\\tealE","\\textcolor{##208170}{#1}"),defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}"),defineMacro("\\greenB","\\textcolor{##8af281}{#1}"),defineMacro("\\greenC","\\textcolor{##74cf70}{#1}"),defineMacro("\\greenD","\\textcolor{##1fab54}{#1}"),defineMacro("\\greenE","\\textcolor{##0d923f}{#1}"),defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}"),defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}"),defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}"),defineMacro("\\goldD","\\textcolor{##e07d10}{#1}"),defineMacro("\\goldE","\\textcolor{##a75a05}{#1}"),defineMacro("\\redA","\\textcolor{##fca9a9}{#1}"),defineMacro("\\redB","\\textcolor{##ff8482}{#1}"),defineMacro("\\redC","\\textcolor{##f9685d}{#1}"),defineMacro("\\redD","\\textcolor{##e84d39}{#1}"),defineMacro("\\redE","\\textcolor{##bc2612}{#1}"),defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}"),defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}"),defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}"),defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}"),defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}"),defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}"),defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}"),defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}"),defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}"),defineMacro("\\purpleE","\\textcolor{##543b78}{#1}"),defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}"),defineMacro("\\mintB","\\textcolor{##edf2df}{#1}"),defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}"),defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}"),defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}"),defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}"),defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}"),defineMacro("\\grayE","\\textcolor{##babec2}{#1}"),defineMacro("\\grayF","\\textcolor{##888d93}{#1}"),defineMacro("\\grayG","\\textcolor{##626569}{#1}"),defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}"),defineMacro("\\grayI","\\textcolor{##21242c}{#1}"),defineMacro("\\kaBlue","\\textcolor{##314453}{#1}"),defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Namespace(macros,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Lexer(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:n,end:r}=this.consumeArg(["]"]))}else({tokens:n,start:t,end:r}=this.consumeArg());return this.pushToken(new Token("EOF",r.loc)),this.pushTokens(n),new Token("",SourceLocation.range(t,r))}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var n,i=this.future(),o=0,a=0;do{if(n=this.popToken(),t.push(n),"{"===n.text)++o;else if("}"===n.text){if(-1===--o)throw new ParseError("Extra }",n)}else if("EOF"===n.text)throw new ParseError("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",n);if(e&&r)if((0===o||1===o&&"{"===e[a])&&n.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==o||r);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var r=t[0],n=0;n<r.length;n++){var i=this.popToken();if(r[n]!==i.text)throw new ParseError("Use of the macro doesn't match its definition",i)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,n=t.noexpand?null:this._getExpansion(r);if(null==n||e&&n.unexpandable){if(e&&null==n&&"\\"===r[0]&&!this.isDefined(r))throw new ParseError("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,o=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs)for(var a=(i=i.slice()).length-1;a>=0;--a){var s=i[a];if("#"===s.text){if(0===a)throw new ParseError("Incomplete placeholder at end of macro body",s);if("#"===(s=i[--a]).text)i.splice(a+1,1);else{if(!/^[1-9]$/.test(s.text))throw new ParseError("Not a valid argument number",s);i.splice(a,2,...o[+s.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Token(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(!1===this.expandOnce(!0)){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(n)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var r=this.lexer.catcodes[e];if(null!=r&&13!==r)return}var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var o=n.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var a=new Lexer(n,this.settings),s=[],l=a.lex();"EOF"!==l.text;)s.push(l),l=a.lex();return s.reverse(),{tokens:s,numArgs:i}}return n}isDefined(e){return this.macros.has(e)||functions.hasOwnProperty(e)||symbols.math.hasOwnProperty(e)||symbols.text.hasOwnProperty(e)||implicitCommands.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:functions.hasOwnProperty(e)&&!functions[e].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"k","":"l","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"L","":"L","":"L","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};class Parser{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new ParseError("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var n=this.fetch();if(-1!==Parser.endOfExpression.indexOf(n.text))break;if(t&&n.text===t)break;if(e&&functions[n.text]&&functions[n.text].infix)break;var i=this.parseAtom(t);if(!i)break;"internal"!==i.type&&r.push(i)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t,r=-1,n=0;n<e.length;n++)if("infix"===e[n].type){if(-1!==r)throw new ParseError("only one infix operator per group",e[n].token);r=n,t=e[n].replaceWith}if(-1!==r&&t){var i,o,a=e.slice(0,r),s=e.slice(r+1);return i=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},o=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},["\\\\abovefrac"===t?this.callFunction(t,[i,e[r],o],[]):this.callFunction(t,[i,o],[])]}return e}handleSupSubscript(e){var t,r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();do{var i;t=this.parseGroup(e)}while("internal"===(null==(i=t)?void 0:i.type));if(!t)throw new ParseError("Expected group after '"+n+"'",r);return t}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}}parseAtom(e){var t,r,n=this.parseGroup("atom",e);if("internal"===(null==n?void 0:n.type))return n;if("text"===this.mode)return n;for(;;){this.consumeSpaces();var i=this.fetch();if("\\limits"===i.text||"\\nolimits"===i.text){if(n&&"op"===n.type){var o="\\limits"===i.text;n.limits=o,n.alwaysHandleSupSub=!0}else{if(!n||"operatorname"!==n.type)throw new ParseError("Limit controls must follow a math operator",i);n.alwaysHandleSupSub&&(n.limits="\\limits"===i.text)}this.consume()}else if("^"===i.text){if(t)throw new ParseError("Double superscript",i);t=this.handleSupSubscript("superscript")}else if("_"===i.text){if(r)throw new ParseError("Double subscript",i);r=this.handleSupSubscript("subscript")}else if("'"===i.text){if(t)throw new ParseError("Double superscript",i);var a={type:"textord",mode:this.mode,text:"\\prime"},s=[a];for(this.consume();"'"===this.fetch().text;)s.push(a),this.consume();"^"===this.fetch().text&&s.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:s}}else{if(!uSubsAndSups[i.text])break;var l=unicodeSubRegEx.test(i.text),c=[];for(c.push(new Token(uSubsAndSups[i.text])),this.consume();;){var u=this.fetch().text;if(!uSubsAndSups[u])break;if(unicodeSubRegEx.test(u)!==l)break;c.unshift(new Token(uSubsAndSups[u])),this.consume()}var d=this.subparse(c);l?r={type:"ordgroup",mode:"math",body:d}:t={type:"ordgroup",mode:"math",body:d}}}return t||r?{type:"supsub",mode:this.mode,base:n,sup:t,sub:r}:n}parseFunction(e,t){var r=this.fetch(),n=r.text,i=functions[n];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new ParseError("Got function '"+n+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!i.allowedInText)throw new ParseError("Can't use function '"+n+"' in text mode",r);if("math"===this.mode&&!1===i.allowedInMath)throw new ParseError("Can't use function '"+n+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(n,i);return this.callFunction(n,o,a,r,e)}callFunction(e,t,r,n,i){var o={funcName:e,parser:this,token:n,breakOnTokenText:i},a=functions[e];if(a&&a.handler)return a.handler(o,t,r);throw new ParseError("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var n=[],i=[],o=0;o<r;o++){var a=t.argTypes&&t.argTypes[o],s=o<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===o&&null==i[0])&&(a="primitive");var l=this.parseGroupOfType("argument to '"+e+"'",a,s);if(s)i.push(l);else{if(null==l)throw new ParseError("Null argument, please report this as a bug");n.push(l)}}return{args:n,optArgs:i}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":var n=this.parseArgumentGroup(r,"text");return null!=n?{type:"styling",mode:n.mode,body:[n],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",r);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(r)throw new ParseError("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new ParseError("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ParseError("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(null==r)return null;for(var n,i="";"EOF"!==(n=this.fetch()).text;)i+=n.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r,n=this.fetch(),i=n,o="";"EOF"!==(r=this.fetch()).text&&e.test(o+r.text);)o+=(i=r).text,this.consume();if(""===o)throw new ParseError("Invalid "+t+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new ParseError("Invalid color: '"+t.text+"'",t);var n=r[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new ParseError("Invalid size: '"+t.text+"'",t);var i={number:+(n[1]+n[2]),unit:n[3]};if(!validUnit(i))throw new ParseError("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(null==r)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:i};return t&&this.switchMode(n),o}parseGroup(e,t){var r,n=this.fetch(),i=n.text;if("{"===i||"\\begingroup"===i){this.consume();var o="{"===i?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),s=this.fetch();this.expect(o),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(n,s),body:a,semisimple:"\\begingroup"===i||void 0}}else if(null==(r=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===i[0]&&!implicitCommands.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+i,n);r=this.formatUnsupportedCmd(i),this.consume()}return r}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],i=n.text;"-"===i&&"-"===e[r+1].text&&(r+1<t&&"-"===e[r+2].text?(e.splice(r,3,{type:"textord",mode:"text",loc:SourceLocation.range(n,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:SourceLocation.range(n,e[r+1]),text:"--"}),t-=1)),"'"!==i&&"`"!==i||e[r+1].text!==i||(e.splice(r,2,{type:"textord",mode:"text",loc:SourceLocation.range(n,e[r+1]),text:i+i}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),n="*"===r.charAt(0);if(n&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ParseError("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:n}}unicodeSymbols.hasOwnProperty(t[0])&&!symbols[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=unicodeSymbols[t[0]]+t.slice(1));var i,o=combiningDiacriticalMarksEndRegex.exec(t);if(o&&("i"===(t=t.substring(0,o.index))?t="":"j"===t&&(t="")),symbols[this.mode][t]){this.settings.strict&&"math"===this.mode&&extraLatin.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a,s=symbols[this.mode][t].group,l=SourceLocation.range(e);if(ATOMS.hasOwnProperty(s)){var c=s;a={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else a={type:s,mode:this.mode,loc:l,text:t};i=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(supportedCodepoint(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),i={type:"textord",mode:"text",loc:SourceLocation.range(e),text:t}}if(this.consume(),o)for(var u=0;u<o[0].length;u++){var d=o[0][u];if(!unicodeAccents[d])throw new ParseError("Unknown accent ' "+d+"'",e);var h=unicodeAccents[d][this.mode]||unicodeAccents[d].text;if(!h)throw new ParseError("Accent "+d+" unsupported in "+this.mode+" mode",e);i={type:"accent",mode:this.mode,loc:SourceLocation.range(e),label:h,isStretchy:!1,isShifty:!0,base:i}}return i}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Parser(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new ParseError("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new Token("\\df@tag")])}]}return n},render=function(e,t,r){t.textContent="";var n=renderToDomTree(e,r).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&(render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(e,t){return renderToDomTree(e,t).toMarkup()},generateParseTree=function(e,t){var r=new Settings(t);return parseTree(e,r)},renderError=function(e,t,r){if(r.throwOnError||!(e instanceof ParseError))throw e;var n=buildCommon.makeSpan(["katex-error"],[new SymbolNode(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},renderToDomTree=function(e,t){var r=new Settings(t);try{var n=parseTree(e,r);return buildTree(n,e,r)}catch(i){return renderError(i,e,r)}},renderToHTMLTree=function(e,t){var r=new Settings(t);try{var n=parseTree(e,r);return buildHTMLTree(n,e,r)}catch(i){return renderError(i,e,r)}},version="0.16.25",__domTree={Span:Span,Anchor:Anchor,SymbolNode:SymbolNode,SvgNode:SvgNode,PathNode:PathNode,LineNode:LineNode},katex={version:version,render:render,renderToString:renderToString,ParseError:ParseError,SETTINGS_SCHEMA:SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree:__domTree};const katex$1=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ParseError,SETTINGS_SCHEMA:SETTINGS_SCHEMA,__defineFunction:defineFunction,__defineMacro:defineMacro,__defineSymbol:defineSymbol,__domTree:__domTree,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,default:katex,get render(){return render},renderToString:renderToString,version:version},Symbol.toStringTag,{value:"Module"}));var CoordinateContext=reactExports.createContext(null);function useCoordinateContext(){const e=reactExports.useContext(CoordinateContext);return invariant$1(e),e}CoordinateContext.displayName="CoordinateContext";var CoordinateContext_default=CoordinateContext;function round(e,t=0){const r=Math.pow(10,t||0);return Math.round(e*r)/r}function range(e,t,r=1){const n=[];for(let o=e;o<t-r/2;o+=r)n.push(o);const i=n[n.length-1]+r;return Math.abs(t-i)<r/1e-6?n.push(t):n.push(i),n}function clamp(e,t,r){return Math.min(Math.max(e,t),r)}var{round:round2,ceil:ceil,floor:floor,log2:log2}=Math,PaneContext=reactExports.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});function usePaneContext(){return reactExports.useContext(PaneContext)}function PaneManager({children:e}){const{xMin:t,xMax:r,yMin:n,yMax:i}=useCoordinateContext(),o=2**round2(log2(r-t)-1),a=2**round2(log2(i-n)-1),s=1/8,l=o*floor(t/o-s),c=o*ceil(r/o+s),u=a*floor(n/a-s),d=a*ceil(i/a+s),h=reactExports.useMemo(()=>range(l,c-o,o).map(e=>[e,e+o]),[l,c,o]),p=reactExports.useMemo(()=>range(u,d-a,a).map(e=>[e,e+a]),[u,d,a]),f=reactExports.useMemo(()=>({xPanes:h,yPanes:p,xPaneRange:[l,c],yPaneRange:[u,d]}),[h,p,l,c,u,d]);return jsxRuntimeExports$1.jsx(PaneContext.Provider,{value:f,children:e})}PaneContext.displayName="PaneContext",PaneManager.displayName="PaneManager";var PaneContext_default=PaneManager,vec;function matrixCreate(e=1,t=0,r=0,n=1,i=0,o=0){return[e,r,i,t,n,o]}(e=>{function t(e,t){return[e[0]+t[0],e[1]+t[1]]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function n(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function i(e,i,a){const s=r(i,e);return t(e,o(s,a*n(s)))}function o(e,t){return a(e,t/n(e))}function a(e,t){return[e[0]*t,e[1]*t]}function s(e,t){return matrixCreate(e[0]*t[0]+e[1]*t[3],e[3]*t[0]+e[4]*t[3],e[0]*t[1]+e[1]*t[4],e[3]*t[1]+e[4]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[2]+e[4]*t[5]+e[5])}function l(e,t){const r=Math.cos(t),n=Math.sin(t);return[e[0]*r-e[1]*n,e[0]*n+e[1]*r]}function c(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function u(e){return e[0]*e[4]-e[3]*e[1]}function d(e=null){const t=e||matrixCreate();return{mult:e=>d(s(e,t)),translate:(e,r)=>d(s(matrixCreate(1,0,0,1,e,r),t)),rotate:e=>{const r=Math.cos(e),n=Math.sin(e);return d(s(matrixCreate(r,n,-n,r),t))},scale:(e,r)=>d(s(matrixCreate(e,0,0,r),t)),shear:(e,r)=>d(s(matrixCreate(1,r,e,1),t)),get:()=>[...t]}}e.add=t,e.sub=r,e.mag=n,e.normal=function(e){return[-e[1],e[0]]},e.lerp=i,e.withMag=o,e.normalize=function(e){return o(e,1)},e.scale=a,e.transform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+t[2],e[0]*t[3]+e[1]*t[4]+t[5]]},e.matrixMult=s,e.rotate=l,e.rotateAbout=function(e,n,i){return t(n,l(r(e,n),i))},e.midpoint=function(e,t){return i(e,t,.5)},e.dist=function(e,t){return Math.sqrt(c(e,t))},e.squareDist=c,e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},e.det=u,e.matrixInvert=function(e){const t=u(e);if(!t)return null;const r=1/t,n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5];return matrixCreate(r*s,r*-a,r*-i,r*n,r*(l*i-o*s),r*(-l*n+o*a))},e.matrixBuilder=d,e.toCSS=function(e){const[t,r,n,i,o,a]=e;return`matrix(${t}, ${i}, ${r}, ${o}, ${n}, ${a})`},e.identity=d().get()})(vec||(vec={}));var TransformContext=reactExports.createContext(null);function useTransformContext(){const e=reactExports.useContext(TransformContext);return invariant$1(e),e}TransformContext.displayName="TransformContext";var SpanContext=reactExports.createContext({xSpan:0,ySpan:0});function useCamera({minZoom:e,maxZoom:t}){const[r,n]=reactExports.useState(vec.identity),i=reactExports.useRef(vec.identity);return{matrix:r,setBase(){i.current=r},move({zoom:r,pan:o}){const a=1/(r?.scale??1),s=r?.at??[0,0],l=i.current[0],c=clamp(a,1/t/l,1/e/l),u=vec.matrixBuilder(i.current).translate(...vec.scale(s,-1)).scale(c,c).translate(...vec.scale(s,1)).translate(...o??[0,0]).get();n(u)}}}function useWheelEnabler(e){const[t,r]=reactExports.useState(!1),n=reactExports.useRef(0);return reactExports.useEffect(()=>{if(e)return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t);function t(){r(!1),clearTimeout(n.current),n.current=setTimeout(()=>{r(!0)},500)}},[e]),{wheelEnabled:!!e&&t,handleMouseMove(){r(!0)}}}SpanContext.displayName="SpanContext";var TestContext=reactExports.createContext({overrideHeight:void 0});function Mafs({width:e="auto",height:t=500,pan:r=!0,zoom:n=!1,viewBox:i={x:[-3,3],y:[-3,3]},preserveAspectRatio:o="contain",children:a,ssr:s=!1,onClick:l}){const c=reactExports.useContext(TestContext).overrideHeight??t,u="auto"===e?"100%":`${e}px`,d=reactExports.useRef(null),{width:h=("auto"===e?s?500:0:e)}=useResizeObserver({ref:"auto"===e?d:null});return jsxRuntimeExports$1.jsx("div",{className:"MafsView",style:{width:u,height:c},tabIndex:r||n?0:-1,ref:d,children:h>0&&jsxRuntimeExports$1.jsx(MafsCanvas,{width:h,height:c,desiredCssWidth:u,rootRef:d,pan:r,zoom:n,viewBox:i,preserveAspectRatio:o,ssr:s,onClick:l,children:a})})}function MafsCanvas({width:e,height:t,desiredCssWidth:r,rootRef:n,pan:i,zoom:o,viewBox:a,preserveAspectRatio:s,children:l,onClick:c}){let u=1,d=1;"object"==typeof o?(invariant$1(o.min>0&&o.min<=1),invariant$1(o.max>=1),u=o.min,d=o.max):o&&(u=.5,d=5);const h=useCamera({minZoom:u,maxZoom:d}),p=a?.padding??.5;let f=(a?.x?.[0]??0)-p,m=(a?.x?.[1]??0)+p,g=(a?.y?.[0]??0)-p,y=(a?.y?.[1]??0)+p;if("contain"===s){const r=e/t;if((m-f)/(y-g)>r){const e=(y+g)/2,t=(m-f)/r/2;g=e-t,y=e+t}else{const e=(m+f)/2,t=(y-g)*r/2;f=e-t,m=e+t}}[f,g]=vec.transform([f,g],h.matrix),[m,y]=vec.transform([m,y],h.matrix);const b=m-f,v=y-g,x=reactExports.useMemo(()=>{const r=round(1/b*e,5),n=round(-1/v*t,5);return vec.matrixBuilder().scale(r,n).get()},[t,e,b,v]),$=round(f/(m-f)*e,10),S=round(y/(g-y)*t,10),E=vec.matrixInvert(x),w=reactExports.useRef([0,0]),_=reactExports.useRef([0,0]);function M(e){const t=n.current;invariant$1(t),invariant$1(E);const r=t.getBoundingClientRect();return vec.transform([e[0]-r.left+$,e[1]-r.top+S],E)}const C=useWheelEnabler(!!o),T=reactExports.useRef(!1);useGesture({onDrag:({movement:r,first:n,event:i,type:o,pinching:a,memo:s=[0,0],last:l})=>{if(a)return r;n&&h.setBase();const[c,u]=vec.sub(r,s);h.move({pan:[-c/e*b,u/t*v]});const d=o.includes("key");return d&&i?.preventDefault(),l&&(T.current=!0,setTimeout(()=>T.current=!1,10)),!d&&n?r:s},onPinch:({first:e,movement:[t],origin:r,event:n,last:o})=>{if(!n.currentTarget||!E)return;e&&(h.setBase(),w.current=r,_.current=i?M(r):[(f+m)/2,(g+y)/2]);let a=[0,0];i&&(a=vec.transform(vec.sub(r,w.current),E)),h.move({zoom:{at:_.current,scale:t},pan:vec.scale(a,-1)}),o&&h.setBase()},onWheel:({pinching:e,event:t,delta:[,r]})=>{if(e)return;const n=2/(1+Math.exp(-r/300)),i=M([t.clientX,t.clientY]);h.setBase(),h.move({zoom:{at:i,scale:1/n}})},onKeyDown:({event:e})=>{if(e.metaKey)return;const t={Equal:1,Minus:-1}[e.code]??0;if(!t)return;let r=.1;(e.altKey||e.metaKey)&&(r=.01),e.shiftKey&&(r=.3);const n=1+t*r,i=[(m+f)/2,(y+g)/2];h.setBase(),h.move({zoom:{at:i,scale:n}})},onMouseMove:()=>{C.handleMouseMove()},onClick:({event:r})=>{if(!c||!n.current||T.current)return;const i=n.current.getBoundingClientRect(),o=r.clientX-i.left,a=i.bottom-r.clientY;c([o/e*b+f,a/t*v+g],r)}},{drag:{enabled:i,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!o,eventOptions:{passive:!1}},wheel:{enabled:C.wheelEnabled,preventDefault:!0,eventOptions:{passive:!1}},target:n});const R=vec.toCSS(x),O=reactExports.useMemo(()=>({xMin:f,xMax:m,yMin:g,yMax:y,height:t,width:e}),[f,m,g,y,t,e]);return jsxRuntimeExports$1.jsx(CoordinateContext_default.Provider,{value:O,children:jsxRuntimeExports$1.jsx(SpanContext.Provider,{value:{xSpan:b,ySpan:v},children:jsxRuntimeExports$1.jsx(TransformContext.Provider,{value:{userTransform:vec.identity,viewTransform:x},children:jsxRuntimeExports$1.jsx(PaneContext_default,{children:jsxRuntimeExports$1.jsx("svg",{width:e,height:t,viewBox:`${$} ${S} ${e} ${t}`,preserveAspectRatio:"xMidYMin",style:{width:r,touchAction:i?"none":"auto","--mafs-view-transform":R,"--mafs-user-transform":"translate(0, 0)"},children:l})})})})})}TestContext.Provider,Mafs.displayName="Mafs";var defaultLabelMaker=e=>jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[e,e<0&&jsxRuntimeExports$1.jsx("tspan",{visibility:"hidden",children:"-"})]}),defaultAxisOptions={axis:!0,lines:1,labels:defaultLabelMaker};function XLabels({separation:e,labelMaker:t}){const{viewTransform:r}=useTransformContext(),{xPanes:n}=usePaneContext();return jsxRuntimeExports$1.jsx("g",{className:"mafs-axis",children:n.map(([n,i])=>jsxRuntimeExports$1.jsx("g",{children:snappedRange(n,i,e).filter(t=>Math.abs(t)>e/1e6).map(e=>jsxRuntimeExports$1.jsx("text",{x:vec.transform([e,0],r)[0],y:5,dominantBaseline:"hanging",textAnchor:"middle",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:t(e)},e))},`${n},${i}`))})}function YLabels({separation:e,labelMaker:t}){const{viewTransform:r}=useTransformContext(),{yPanes:n}=usePaneContext();return jsxRuntimeExports$1.jsx("g",{className:"mafs-axis",children:n.map(([n,i])=>jsxRuntimeExports$1.jsx("g",{children:snappedRange(n,i,e).filter(t=>Math.abs(t)>e/1e6).map(e=>jsxRuntimeExports$1.jsx("text",{x:5,y:vec.transform([0,e],r)[1],dominantBaseline:"central",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:t(e)},e))},`${n},${i}`))})}XLabels.displayName="CartesianCoordinates.XLabels",YLabels.displayName="CartesianCoordinates.YLabels";var incrementer=0;function Cartesian({xAxis:e,yAxis:t,subdivisions:r=!1}){const n=!1!==e,i=!1!==t,o={subdivisions:r,...defaultAxisOptions,...e},a={subdivisions:r,...defaultAxisOptions,...t},s=reactExports.useMemo(()=>"cartesian-"+incrementer++,[]),{viewTransform:l}=useTransformContext(),{xPaneRange:c,yPaneRange:u}=usePaneContext(),[d,h]=c,[p,f]=u,[m,g]=vec.transform([d,p],l),[y,b]=vec.transform([h,f],l),v=o.lines||1,x=a.lines||1,[$,S]=vec.transform([v,-x],l),E=o.subdivisions||1,w=a.subdivisions||1,_=$/E,M=S/w;return jsxRuntimeExports$1.jsxs("g",{fill:"none",children:[jsxRuntimeExports$1.jsxs("pattern",{x:0,y:0,width:$,height:S,id:s,patternUnits:"userSpaceOnUse",children:[jsxRuntimeExports$1.jsx("pattern",{width:_,height:M,id:`${s}-subdivision`,patternUnits:"userSpaceOnUse",children:jsxRuntimeExports$1.jsxs("g",{stroke:"var(--grid-line-subdivision-color)",children:[!1!==n&&E>1&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("line",{x1:0,y1:0,x2:0,y2:M}),jsxRuntimeExports$1.jsx("line",{x1:_,y1:0,x2:_,y2:M})]}),!1!==i&&w>1&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("line",{x1:0,y1:0,x2:_,y2:0}),jsxRuntimeExports$1.jsx("line",{x1:0,y1:M,x2:_,y2:M})]})]})}),jsxRuntimeExports$1.jsx("rect",{width:$,height:S,fill:`url(#${s}-subdivision)`}),jsxRuntimeExports$1.jsxs("g",{stroke:"var(--mafs-line-color)",children:[i&&o.lines&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("line",{x1:0,y1:0,x2:$,y2:0}),jsxRuntimeExports$1.jsx("line",{x1:0,y1:S,x2:$,y2:S})]}),n&&a.lines&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("line",{x1:0,y1:0,x2:0,y2:S}),jsxRuntimeExports$1.jsx("line",{x1:$,y1:0,x2:$,y2:S})]})]})]}),jsxRuntimeExports$1.jsx("rect",{x:m,y:b,width:y-m,height:g-b,fill:`url(#${s})`}),jsxRuntimeExports$1.jsxs("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",children:[n&&o.axis&&jsxRuntimeExports$1.jsx("line",{x1:m,y1:0,x2:y,y2:0}),i&&a.axis&&jsxRuntimeExports$1.jsx("line",{x1:0,y1:g,x2:0,y2:b})]}),jsxRuntimeExports$1.jsxs("g",{className:"mafs-shadow",children:[n&&o.labels&&jsxRuntimeExports$1.jsx(XLabels,{separation:o.lines||1,labelMaker:o.labels}),i&&a.labels&&jsxRuntimeExports$1.jsx(YLabels,{separation:a.lines||1,labelMaker:a.labels})]})]})}function snappedRange(e,t,r){const n=Math.floor(e/r)*r,i=Math.ceil(t/r)*r;return n===i-r?[n]:range(n,i-r,r)}Cartesian.displayName="Coordinates.Cartesian",range(0,2*Math.PI,Math.PI/12);var Coordinates={Cartesian:Cartesian};function cheapHash(e,t){const r=43758.5453*Math.sin(12.9898*e+78.233*t);return.4+.2*(r-Math.floor(r))}function sample({domain:e,minDepth:t,maxDepth:r,threshold:n,fn:i,error:o,onPoint:a,lerp:s}){const[l,c]=e;a(l,i(l)),function e(l,c,u,d,h){const p=cheapHash(l,c),f=l+(c-l)*p,m=i(f);function g(){e(l,f,u+1,d,m),a(f,m),e(f,c,u+1,m,h)}if(u<t)g();else if(u<r){const e=s(d,h,p);o(m,e)>n&&g()}}(l,c,0,i(l),i(c)),a(c,i(c))}function sampleParametric(e,t,r,n,i){let o="M ";return sample({fn:e,error:(e,t)=>vec.squareDist(e,t),onPoint:(e,[t,r])=>{Number.isFinite(t)&&Number.isFinite(r)&&(o+=`${t} ${r} L `)},lerp:(e,t,r)=>vec.lerp(e,t,r),domain:t,minDepth:r,maxDepth:n,threshold:i}),o.substring(0,o.length-2)}function Parametric({xy:e,domain:t,t:r,color:n,style:i="solid",weight:o=2,opacity:a=1,maxSamplingDepth:s=14,minSamplingDepth:l=8,svgPathProps:c={}}){const{viewTransform:u}=useTransformContext(),d=-vec.det(u),[h,p]=t||r,f=.1/d,m=reactExports.useMemo(()=>sampleParametric(e,[h,p],l,s,f),[e,l,s,f,h,p]);return jsxRuntimeExports$1.jsx("path",{d:m,strokeWidth:o,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...c,style:{stroke:n||"var(--mafs-fg)",strokeOpacity:a,strokeDasharray:"dashed"===i?"var(--mafs-line-stroke-dash-style)":void 0,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...c.style||{}}})}function OfX({y:e,domain:t,...r}){const[n,i]=t??[-1/0,1/0],{xPaneRange:[o,a]}=usePaneContext(),s=Math.max(n,o),l=Math.min(i,a),c=reactExports.useCallback(t=>[t,e(t)],[e]),u=reactExports.useMemo(()=>[s,l],[s,l]);return jsxRuntimeExports$1.jsx(Parametric,{xy:c,domain:u,...r})}function OfY({x:e,domain:t,...r}){const[n,i]=t??[-1/0,1/0],{yPaneRange:[o,a]}=usePaneContext(),s=Math.max(n,o),l=Math.min(i,a),c=reactExports.useCallback(t=>[e(t),t],[e]),u=reactExports.useMemo(()=>[s,l],[s,l]);return jsxRuntimeExports$1.jsx(Parametric,{xy:c,domain:u,...r})}Parametric.displayName="Plot.Parametric",OfX.displayName="Plot.OfX",OfY.displayName="Plot.OfY";var Theme={foreground:"var(--mafs-fg)",pink:"var(--mafs-pink)"},Plot={OfX:OfX,OfY:OfY};function ThroughPoints({point1:e,point2:t,color:r=Theme.foreground,style:n="solid",weight:i=2,opacity:o=1}){const{xPaneRange:a,yPaneRange:s}=usePaneContext(),[l,c]=a,[u,d]=s,{userTransform:h}=useTransformContext(),p=vec.transform(e,h),f=vec.transform(t,h),m=(f[1]-p[1])/(f[0]-p[0]);let g,y;return Math.abs(Math.atan(m))>Math.PI/4?(g=[(u-p[1])/m+p[0],u],y=[(d-p[1])/m+p[0],d]):(g=[l,m*(l-p[0])+p[1]],y=[c,m*(c-p[0])+p[1]]),jsxRuntimeExports$1.jsx("line",{x1:round(g[0],2),y1:round(g[1],2),x2:round(y[0],2),y2:round(y[1],2),style:{stroke:r,strokeDasharray:"dashed"===n?"var(--mafs-line-stroke-dash-style)":void 0,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke"},strokeWidth:i,opacity:o})}function Segment({point1:e,point2:t,color:r=Theme.foreground,style:n="solid",weight:i=2,opacity:o=1}){const{viewTransform:a,userTransform:s}=useTransformContext(),l=vec.matrixMult(a,s),c=vec.transform(e,l),u=vec.transform(t,l);return jsxRuntimeExports$1.jsx("line",{x1:round(c[0],2),y1:round(c[1],2),x2:round(u[0],2),y2:round(u[1],2),style:{stroke:r,strokeDasharray:"dashed"===n?"var(--mafs-line-stroke-dash-style)":void 0},strokeWidth:i,opacity:o})}ThroughPoints.displayName="Line.ThroughPoints",Segment.displayName="Line.Segment";var Line={ThroughPoints:ThroughPoints,Segment:Segment};function Ellipse({center:e,radius:t,angle:r=0,strokeStyle:n="solid",strokeOpacity:i=1,weight:o=2,color:a=Theme.foreground,fillOpacity:s=.15,svgEllipseProps:l={}}){const{viewTransform:c,userTransform:u}=useTransformContext(),d=vec.matrixBuilder().translate(...e).mult(u).scale(1,-1).mult(c).scale(1,-1).get(),h=`\n    ${vec.toCSS(d)}\n    rotate(${r*(180/Math.PI)})\n  `;return jsxRuntimeExports$1.jsx("ellipse",{cx:0,cy:0,rx:t[0],ry:t[1],strokeWidth:o,transform:h,...l,style:{stroke:a,strokeDasharray:"dashed"===n?"var(--mafs-line-stroke-dash-style)":void 0,fill:a,fillOpacity:s,strokeOpacity:i,vectorEffect:"non-scaling-stroke",...l.style||{}}})}function PolyBase({element:e,points:t,color:r=Theme.foreground,weight:n=2,fillOpacity:i=.15,strokeOpacity:o=1,strokeStyle:a="solid",svgPolyProps:s={}}){const{userTransform:l}=useTransformContext(),c=t.map(e=>vec.transform(e,l).join(" ")).join(" ");return jsxRuntimeExports$1.jsx(e,{points:c,strokeWidth:n,fillOpacity:i,strokeLinejoin:"round",...s,style:{fill:r,fillOpacity:i,stroke:r,strokeDasharray:"dashed"===a?"var(--mafs-line-stroke-dash-style)":void 0,strokeOpacity:o,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...s.style||{}}})}function Polygon({svgPolygonProps:e,...t}){return jsxRuntimeExports$1.jsx(PolyBase,{element:"polygon",svgPolyProps:e,...t})}function Polyline({fillOpacity:e=0,svgPolylineProps:t,...r}){return jsxRuntimeExports$1.jsx(PolyBase,{element:"polyline",fillOpacity:e,svgPolyProps:t,...r})}function Point({x:e,y:t,color:r=Theme.foreground,opacity:n=1,svgCircleProps:i={}}){const{viewTransform:o,userTransform:a}=useTransformContext(),[s,l]=vec.transform([e,t],vec.matrixMult(o,a));return jsxRuntimeExports$1.jsx("circle",{cx:s,cy:l,r:6,...i,style:{fill:r,opacity:n,...i.style}})}function Text$1({children:e,x:t,y:r,color:n,size:i=30,svgTextProps:o={},attach:a,attachDistance:s=0}){const{viewTransform:l,userTransform:c}=useTransformContext();let u=0,d="middle";a?.includes("w")?(d="end",u=-1):a?.includes("e")&&(d="start",u=1);let h=0,p="middle";a?.includes("n")?(p="baseline",h=1):a?.includes("s")&&(p="hanging",h=-1);let[f,m]=[0,0];0===u&&0===h||([f,m]=vec.withMag([u,h],s));const g=vec.transform([t,r],vec.matrixMult(l,c));return jsxRuntimeExports$1.jsx("text",{x:g[0]+f,y:g[1]+m,fontSize:i,dominantBaseline:p,textAnchor:d,style:{fill:n||"var(--mafs-fg)",vectorEffect:"non-scaling-stroke"},className:"mafs-shadow",...o,children:e})}Ellipse.displayName="Ellipse",Polygon.displayName="Polygon",Polyline.displayName="Polyline",Point.displayName="Point",Text$1.displayName="Text";var MovablePointDisplay=reactExports.forwardRef((e,t)=>{const{color:r=Theme.pink,ringRadiusPx:n=15,dragging:i,point:o}=e,{viewTransform:a,userTransform:s}=useTransformContext(),l=reactExports.useMemo(()=>vec.matrixMult(a,s),[a,s]),[c,u]=vec.transform(o,l);return jsxRuntimeExports$1.jsxs("g",{ref:t,style:{"--movable-point-color":r,"--movable-point-ring-size":`${n}px`},className:"mafs-movable-point "+(i?"mafs-movable-point-dragging":""),tabIndex:0,children:[jsxRuntimeExports$1.jsx("circle",{className:"mafs-movable-point-hitbox",r:30,cx:c,cy:u}),jsxRuntimeExports$1.jsx("circle",{className:"mafs-movable-point-focus",r:n+1,cx:c,cy:u}),jsxRuntimeExports$1.jsx("circle",{className:"mafs-movable-point-ring",r:n,cx:c,cy:u}),jsxRuntimeExports$1.jsx("circle",{className:"mafs-movable-point-point",r:6,cx:c,cy:u})]})});MovablePointDisplay.displayName="MovablePointDisplay";var themeDefault$1={root:{border:{radius:{default:border$3.radius.radius_120,hover:border$3.radius.radius_120,press:border$3.radius.radius_120}},sizing:{height:sizing$3.size_240,width:sizing$3.size_400}},slider:{sizing:{height:sizing$3.size_200,width:sizing$3.size_200},position:{top:sizing$3.size_020,left:sizing$3.size_020},transform:{default:`translateX(${sizing$3.size_160})`,transition:"transform 0.15s ease-in-out"}},icon:{position:{top:sizing$3.size_040,left:sizing$3.size_040},transform:{default:`translateX(${sizing$3.size_160})`,transition:"transform 0.15s ease-in-out"}}},theme$1=mapValuesToCssVars$2(themeDefault$1,"--wb-c-switch-");const StyledSpan=addStyle$1("span"),StyledInput=addStyle$1("input"),focusStylesObject=focusStyles$2.focus[":focus-visible"],baseStyles={color:{bg:{switch:{off:semanticColor$3.core.border.neutral.default,disabledOff:semanticColor$3.core.border.disabled.strong,activeOff:semanticColor$3.core.border.neutral.strong,on:semanticColor$3.core.background.instructive.default,disabledOn:semanticColor$3.core.border.instructive.subtle,activeOn:semanticColor$3.core.background.instructive.strong},slider:{on:semanticColor$3.core.foreground.knockout.default,off:semanticColor$3.core.foreground.knockout.default},icon:{on:semanticColor$3.core.foreground.instructive.subtle,disabledOn:semanticColor$3.core.border.instructive.subtle,off:semanticColor$3.core.border.neutral.default,disabledOff:semanticColor$3.core.foreground.disabled.default}}}},sharedStyles=StyleSheet.create({hidden:{opacity:0,height:0,width:0},switch:{display:"inline-flex",height:theme$1.root.sizing.height,width:theme$1.root.sizing.width,borderRadius:theme$1.root.border.radius.default,flexShrink:0},switchFocus:{":focus-within":focusStylesObject},disabled:{cursor:"not-allowed",":hover":{outline:"none"},":active":{outline:"none"}},disabledFocus:{":focus-within":focusStylesObject},slider:{position:"absolute",top:theme$1.slider.position.top,left:theme$1.slider.position.left,height:theme$1.slider.sizing.height,width:theme$1.slider.sizing.width,borderRadius:theme$1.root.border.radius.default,backgroundColor:baseStyles.color.bg.slider.on,transition:theme$1.slider.transform.transition},icon:{position:"absolute",top:theme$1.icon.position.top,left:theme$1.icon.position.left,zIndex:1,transition:theme$1.icon.transform.transition}}),Switch=reactExports.forwardRef(function(e,t){const{"aria-label":r,"aria-labelledby":n,"aria-describedby":i,checked:o,className:a,disabled:s=!1,icon:l,id:c,onChange:u,testId:d}=e,h=reactExports.useId(),p=c??h,f=_generateStyles(o,void 0!==u,s),m=[sharedStyles.switch,sharedStyles.switchFocus,f.switch,s&&sharedStyles.disabled,s&&sharedStyles.disabledFocus];let g;return l&&(g=reactExports.cloneElement(l,{size:"small",style:[sharedStyles.icon,f.icon],"aria-hidden":!0})),jsxRuntimeExports$1.jsxs(View$2,{onClick:()=>{!s&&u&&u(!o)},style:m,className:a,testId:d,children:[jsxRuntimeExports$1.jsx(StyledInput,{"aria-describedby":i,"aria-label":r,"aria-labelledby":n,checked:o,"aria-disabled":s,id:p,onChange:()=>{},ref:t,role:"switch",style:sharedStyles.hidden,type:"checkbox"}),l&&g,jsxRuntimeExports$1.jsx(StyledSpan,{style:[sharedStyles.slider,f.slider]})]})}),styles$2={},_generateStyles=(e,t,r)=>{const n=`${e}-${t}-${r}`;if(styles$2[n])return styles$2[n];let i={};const o={cursor:t?"pointer":"auto",":hover":{...focusStylesObject,outline:t?focusStylesObject.outline:"none"}};return i=e?{switch:{backgroundColor:r?baseStyles.color.bg.switch.disabledOn:baseStyles.color.bg.switch.on,":active":{backgroundColor:!r&&t?baseStyles.color.bg.switch.activeOn:void 0,...focusStylesObject,outline:t?focusStylesObject.outline:"none"},...o},slider:{transform:theme$1.slider.transform.default},icon:{color:r?baseStyles.color.bg.icon.disabledOn:baseStyles.color.bg.icon.on,transform:theme$1.icon.transform.default}}:{switch:{backgroundColor:r?baseStyles.color.bg.switch.disabledOff:baseStyles.color.bg.switch.off,":active":{backgroundColor:!r&&t?baseStyles.color.bg.switch.activeOff:void 0,...focusStylesObject,outline:t?focusStylesObject.outline:"none"},...o},slider:{backgroundColor:baseStyles.color.bg.slider.off},icon:{color:r?baseStyles.color.bg.icon.disabledOff:baseStyles.color.bg.icon.off}},styles$2[n]=StyleSheet.create(i),styles$2[n]},PillInner=e=>{const{children:t,size:r}=e;return"string"!=typeof t?t:"small"===r?jsxRuntimeExports$1.jsx(BodyText$3,{size:"xsmall",tag:"span",children:e.children}):"large"===r?jsxRuntimeExports$1.jsx(BodyText$3,{tag:"span",children:t}):jsxRuntimeExports$1.jsx(BodyText$3,{size:"small",tag:"span",children:t})},Pill=reactExports.forwardRef(function(e,t){const{id:r,children:n,kind:i="neutral",size:o="medium",role:a,onClick:s,style:l,tabIndex:c,testId:u,...d}=e;let h;switch(o){case"small":h=pillStyles.wrapperSmall;break;case"large":h=pillStyles.wrapperLarge;break;default:h=pillStyles.wrapperMedium}const p=_generateColorStyles(!!s,i),f=[pillStyles.wrapper,p.pill,h];return s?jsxRuntimeExports$1.jsx(Clickable$2,{id:r,role:a,onClick:s,style:[f,p.clickableWrapper,l],testId:u,ref:t,tabIndex:c,...d,children:()=>jsxRuntimeExports$1.jsx(PillInner,{size:o,children:n})}):jsxRuntimeExports$1.jsx(View$2,{id:r,role:a,style:[f,l],testId:u,ref:t,...d,children:jsxRuntimeExports$1.jsx(PillInner,{size:o,children:n})})}),pillStyles=StyleSheet.create({wrapper:{display:"inline-flex",width:"fit-content"},wrapperSmall:{paddingInline:sizing$3.size_080,borderRadius:border$3.radius.radius_040,height:sizing$3.size_200},wrapperMedium:{paddingInline:sizing$3.size_080,borderRadius:border$3.radius.radius_040,height:sizing$3.size_240},wrapperLarge:{paddingInline:sizing$3.size_120,paddingBlock:sizing$3.size_060,borderRadius:border$3.radius.radius_240,height:sizing$3.size_320}}),styles$1={},_generateColorStyles=(e,t)=>{const r=`${t}-${e.toString()}`;if(styles$1[r])return styles$1[r];let n,i;switch(t){case"accent":n=semanticColor$3.core.background.instructive.default,i=semanticColor$3.core.foreground.knockout.default;break;case"info":n=semanticColor$3.feedback.info.subtle.background,i=semanticColor$3.feedback.info.subtle.text;break;case"success":n=semanticColor$3.feedback.success.subtle.background,i=semanticColor$3.feedback.success.subtle.text;break;case"warning":n=semanticColor$3.feedback.warning.subtle.background,i=semanticColor$3.feedback.warning.subtle.text;break;case"critical":n=semanticColor$3.feedback.critical.subtle.background,i=semanticColor$3.feedback.critical.subtle.text;break;case"transparent":n=semanticColor$3.core.transparent,i=semanticColor$3.core.foreground.neutral.strong;break;default:n=semanticColor$3.status.neutral.background,i=semanticColor$3.core.foreground.neutral.strong}const o="transparent"===t||"neutral"===t?color$1$2.offBlack16:"accent"===t?semanticColor$3.core.background.instructive.strong:`color-mix(in srgb, ${color$1$2.offBlack32}, ${n})`,a={default:{border:"transparent"===t?`${border$3.width.thin} solid ${semanticColor$3.core.border.neutral.subtle}`:"none",background:n,foreground:i},hover:{border:semanticColor$3.core.border.instructive.default},press:{border:semanticColor$3.core.border.instructive.strong,background:o}},s={pill:{backgroundColor:a.default.background,outline:a.default.border,color:a.default.foreground,alignItems:"center",justifyContent:"center"},clickableWrapper:{outline:a.default.border,":hover":{outline:`${border$3.width.medium} solid ${a.hover.border}`,outlineOffset:sizing$3.size_020},":active":{backgroundColor:a.press.background,outline:`${border$3.width.medium} solid ${a.press.border}`,outlineOffset:sizing$3.size_020},...focusStyles$2.focus}};return styles$1[r]=StyleSheet.create(s),styles$1[r]},cornersOutIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M216,48V88a8,8,0,0,1-16,0V56H168a8,8,0,0,1,0-16h40A8,8,0,0,1,216,48ZM88,200H56V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H88a8,8,0,0,0,0-16Zm120-40a8,8,0,0,0-8,8v32H168a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,208,160ZM88,40H48a8,8,0,0,0-8,8V88a8,8,0,0,0,16,0V56H88a8,8,0,0,0,0-16Z'/%3e%3c/svg%3e";var themeDefault={root:{font:{family:"inherit",weight:"inherit"}}},theme=mapValuesToCssVars$2(themeDefault,"--wb-c-link-");const StyledA=addStyle$1("a"),StyledLink=addStyle$1(Link$2),LinkCore=reactExports.forwardRef(function(e,t){const r=useInRouterContext(),{children:n,skipClientNav:i,focused:o,hovered:a,href:s,inline:l=!1,pressed:c,style:u,testId:d,waiting:h,target:p,startIcon:f,endIcon:m,viewTransition:g,...y}=e,b={"data-testid":d,style:[[styles.shared,styles.rest,l&&styles.restInline,!c&&o&&styles.focus],u],target:p,...y},v=new URL(s,window.location.origin).origin!==window.location.origin,x=jsxRuntimeExports$1.jsx(PhosphorIcon$3,{icon:externalLinkIcon,size:"small",style:[styles.endIcon,styles.centered],testId:"external-icon"});let $,S;f&&($=reactExports.cloneElement(f,{style:[styles.startIcon,styles.centered],testId:"start-icon","aria-hidden":"true",...f.props})),m&&(S=reactExports.cloneElement(m,{style:[styles.endIcon,styles.centered],testId:"end-icon","aria-hidden":"true",...m.props}));const E=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[f&&$,n,m?S:v&&"_blank"===p&&x]});return r&&!i&&isClientSideUrl$2(s)?jsxRuntimeExports$1.jsx(StyledLink,{...b,to:s,ref:t,viewTransition:g,children:E}):jsxRuntimeExports$1.jsx(StyledA,{...b,href:s,ref:t,children:E})}),focusStyling={...focusStyles$2.focus[":focus-visible"],borderRadius:border$3.radius.radius_010,outlineOffset:border$3.width.medium},pressStyling={color:semanticColor$3.link.press,textDecoration:"underline currentcolor solid",textUnderlineOffset:font$3.textDecoration.underlineOffset},styles=StyleSheet.create({shared:{fontFamily:theme.root.font.family,fontWeight:theme.root.font.weight,cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"},rest:{color:semanticColor$3.link.rest,":hover":{textDecoration:"underline currentcolor solid",color:semanticColor$3.link.hover,textUnderlineOffset:font$3.textDecoration.underlineOffset},":focus-visible":focusStyling,":active":pressStyling},restInline:{textDecoration:"underline currentcolor solid",textDecorationThickness:font$3.textDecoration.thickness,textUnderlineOffset:font$3.textDecoration.underlineOffset},focus:focusStyling,press:pressStyling,startIcon:{marginInlineEnd:spacing$2.xxxSmall_4},endIcon:{marginInlineStart:spacing$2.xxxSmall_4},centered:{verticalAlign:"-10%"}}),Link=reactExports.forwardRef(function(e,t){const{onClick:r,beforeNav:n,safeWithNav:i,href:o,skipClientNav:a,children:s,tabIndex:l,onKeyDown:c,onKeyUp:u,target:d,inline:h=!1,viewTransition:p=!1,...f}=e,m=useInRouterContext(),g=getClickableBehavior$2(o,a,m);return n?jsxRuntimeExports$1.jsx(g,{disabled:!1,href:o,role:"link",onClick:r,beforeNav:n,safeWithNav:i,onKeyDown:c,onKeyUp:u,viewTransition:p,children:(e,{...r})=>jsxRuntimeExports$1.jsx(LinkCore,{...f,...e,...r,skipClientNav:a,href:o,target:d,tabIndex:l,inline:h,ref:t,viewTransition:p,children:s})}):jsxRuntimeExports$1.jsx(g,{disabled:!1,href:o,role:"link",onClick:r,safeWithNav:i,target:d,onKeyDown:c,onKeyUp:u,viewTransition:p,children:(e,{...r})=>jsxRuntimeExports$1.jsx(LinkCore,{...f,...e,...r,skipClientNav:a,href:o,target:d,tabIndex:l,inline:h,ref:t,viewTransition:p,children:s})})});export{$,coreWidgetRegistry as A,applyDefaultsToWidgets$1 as B,CircularSpinner$1 as C,pushContextStack as D,Errors$1 as E,emptyWidgetsFunctional as F,mapObject$1 as G,scoreWidgetsFunctional as H,flattenScores as I,runLinter as J,KhanAnswerTypes as K,splitPerseusItem as L,getDefaultAnswerArea as M,spacing$2 as N,MathInputI18nContext as O,PerseusError$1 as P,CursorContext as Q,ReactDOM as R,SimpleMarkdown$1 as S,getKeyTranslator as T,createMathField as U,VariableSizeList as V,getCursorContext as W,v4 as X,View$2 as Y,Popover as Z,_assertThisInitialized as _,cn as a,Pill as a$,Clickable$2 as a0,HeadingMedium as a1,PopoverContentCore as a2,Keypad as a3,convertDotToTimesByLocale as a4,mathQuillInstance as a5,expressionWidgetLogic$1 as a6,LabelSmall as a7,MathInput as a8,keypadElementPropType as a9,Text$4 as aA,warningCircleIcon as aB,LabeledField as aC,TextArea as aD,grapherUtil$1 as aE,parse$5 as aF,w$1 as aG,vec as aH,Coordinates as aI,lockedFigureColors as aJ,Ellipse as aK,lockedFigureFillStyles as aL,Plot as aM,Line as aN,Point as aO,Polygon as aP,Text$1 as aQ,useTransformContext as aR,useDrag as aS,Polyline as aT,useOnMountEffect as aU,Mafs as aV,LabelMedium as aW,useLatestRef as aX,MultiSelect as aY,Switch as aZ,Popper as a_,KeypadContext as aa,TextField$1 as ab,Tooltip as ac,TooltipContent as ad,inputNumberAnswerTypes as ae,IconButton$2 as af,caretRightIcon as ag,caretLeftIcon as ah,PhosphorIcon$3 as ai,checkIcon as aj,minusIcon as ak,shuffle as al,usesNumCorrect$1 as am,passageRefWidgetLogic$1 as an,deepClone$1 as ao,radioWidgetLogic$1 as ap,Banner as aq,OptionItem as ar,Id as as,LabelLarge as at,SingleSelect as au,caretUp as av,caretDown as aw,Button as ax,font$3 as ay,semanticColor$3 as az,_ as b,scoreLabelImageMarker as b0,shuffleMatcher as b1,getMatrixSize$1 as b2,measurerWidgetLogic$1 as b3,xIcon as b4,cornersOutIcon as b5,shuffleSorter as b6,Strut as b7,Link as b8,distExports as b9,scorePerseusItem as ba,katex$1 as bb,commonjsRequire as c,getSvgUrl as d,getBaseUrl as e,getRealImageUrl as f,getDataUrl as g,getImageSizeModern as h,isLabeledSVG$1 as i,jsxRuntimeExports$1 as j,addLibraryVersionToPerseusDebug$1 as k,approximateDeepEqual$1 as l,approximateEqual$1 as m,color$1$2 as n,RenderStateRoot as o,e as p,pluck as q,reactDomExports as r,StyleSheet as s,css as t,pureMarkdownRules$1 as u,traverseContent as v,debounce$2 as w,Rule as x,Registry$1 as y,linterContextDefault as z};
